(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{Exq2:function(n,t,e){"use strict";e.r(t),e.d(t,"VideosModule",function(){return Mt});var o=e("sWvm"),i=e("P8w3"),c=e("xMQD"),a=e("5rWp"),r=e("JEFd"),s=e("LRne"),g=e("cp0P"),l=e("eIep"),d=e("JIr8"),b=e("lJxs"),m=e("vkgz"),u=e("tk/3"),O=e("ey9i"),v=e("6rF9"),p=e("UozT"),h=e("AytR"),C=e("fXoL");let M=(()=>{class n{constructor(n,t,e,o){this.authHttp=n,this.restExtractor=t,this.videosService=e,this.serverService=o}getVideosOverview(t){let e=new u.f;return e=e.append("page",t+""),this.authHttp.get(n.BASE_OVERVIEW_URL+"videos",{params:e}).pipe(Object(l.a)(n=>this.updateVideosOverview(n)),Object(d.a)(n=>this.restExtractor.handleError(n)))}updateVideosOverview(n){const t=[],e={tags:[],categories:[],channels:[]};for(const o of Object.keys(n))for(const i of n[o])t.push(Object(s.a)(i.videos).pipe(Object(l.a)(n=>this.videosService.extractVideos({total:0,data:n})),Object(b.a)(n=>n.data),Object(m.a)(n=>{e[o].push(Object(v.h)(i,{videos:n}))})));return 0===t.length?Object(s.a)(e):Object(g.a)(t).pipe(Object(l.a)(()=>this.serverService.getServerLocale().pipe(Object(m.a)(n=>{for(const t of e.categories)t.category.label=Object(p.h)(t.category.label,n)}))),Object(b.a)(()=>e))}}return n.BASE_OVERVIEW_URL=h.a.apiUrl+"/api/v1/overviews/",n.\u0275fac=function(t){return new(t||n)(C.hc(u.b),C.hc(O.r),C.hc(c.s),C.hc(O.x))},n.\u0275prov=C.Mb({token:n,factory:n.\u0275fac}),n})();var P=e("XNiG"),_=e("ofXK"),f=e("UjHu"),y=e("tyNb"),k=e("MUmz");function x(n,t){1&n&&(C.Wb(0,"div",6),C.ac(1,7),C.Vb())}function w(n,t){if(1&n&&(C.Wb(0,"div",14),C.Rb(1,"my-video-miniature",15),C.Vb()),2&n){const n=t.$implicit,e=C.oc(3);C.Db(1),C.vc("video",n)("fitWidth",!0)("user",e.userMiniature)("displayVideoActions",!0)}}const D=function(n){return[n]},I=function(n){return{categoryOneOf:n}};function V(n,t){if(1&n&&(C.Wb(0,"div",10),C.Wb(1,"h1",11),C.Wb(2,"a",12),C.Tc(3),C.Vb(),C.Vb(),C.Rc(4,w,2,4,"div",13),C.Vb()),2&n){const n=t.$implicit,e=C.oc(2);C.Db(2),C.vc("queryParams",C.zc(5,I,C.zc(3,D,n.category.id))),C.Db(1),C.Uc(n.category.label),C.Db(1),C.vc("ngForOf",e.buildVideos(n.videos))}}function R(n,t){if(1&n&&(C.Wb(0,"div",14),C.Rb(1,"my-video-miniature",15),C.Vb()),2&n){const n=t.$implicit,e=C.oc(3);C.Db(1),C.vc("video",n)("fitWidth",!0)("user",e.userMiniature)("displayVideoActions",!0)}}const S=function(n){return{tagsOneOf:n}};function T(n,t){if(1&n&&(C.Wb(0,"div",10),C.Wb(1,"h2",11),C.Wb(2,"a",12),C.Tc(3),C.Vb(),C.Vb(),C.Rc(4,R,2,4,"div",13),C.Vb()),2&n){const n=t.$implicit,e=C.oc(2);C.Db(2),C.vc("queryParams",C.zc(5,S,C.zc(3,D,n.tag))),C.Db(1),C.Vc("#",n.tag,""),C.Db(1),C.vc("ngForOf",e.buildVideos(n.videos))}}function F(n,t){if(1&n&&(C.Wb(0,"div",14),C.Rb(1,"my-video-miniature",15),C.Vb()),2&n){const n=t.$implicit,e=C.oc(3);C.Db(1),C.vc("video",n)("fitWidth",!0)("user",e.userMiniature)("displayVideoActions",!0)}}const $=function(n){return["/video-channels",n]};function W(n,t){if(1&n&&(C.Wb(0,"div",16),C.Wb(1,"div",11),C.Wb(2,"a",17),C.Rb(3,"img",18),C.Wb(4,"h2",11),C.Tc(5),C.Vb(),C.Vb(),C.Vb(),C.Rc(6,F,2,4,"div",13),C.Vb()),2&n){const n=t.$implicit,e=C.oc(2);C.Db(2),C.vc("routerLink",C.zc(4,$,e.buildVideoChannelBy(n))),C.Db(1),C.vc("src",e.buildVideoChannelAvatarUrl(n),C.Mc),C.Db(2),C.Uc(n.channel.displayName),C.Db(1),C.vc("ngForOf",e.buildVideos(n.videos))}}function L(n,t){if(1&n&&(C.Ub(0),C.Rc(1,V,5,7,"div",8),C.Rc(2,T,5,7,"div",8),C.Rc(3,W,7,6,"div",9),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngForOf",n.categories),C.Db(1),C.vc("ngForOf",n.tags),C.Db(1),C.vc("ngForOf",n.channels)}}let A=(()=>{class n{constructor(n,t,e,o){this.notifier=n,this.userService=t,this.overviewService=e,this.screenService=o,this.onDataSubject=new P.a,this.overviews=[],this.notResults=!1,this.loaded=!1,this.currentPage=1,this.maxPage=20,this.lastWasEmpty=!1,this.isLoading=!1}ngOnInit(){this.loadMoreResults(),this.userService.getAnonymousOrLoggedUser().subscribe(n=>this.userMiniature=n),this.userService.listenAnonymousUpdate().subscribe(n=>this.userMiniature=n)}buildVideoChannelBy(n){return n.videos[0].byVideoChannel}buildVideoChannelAvatarUrl(n){return n.videos[0].videoChannelAvatarUrl}buildVideos(n){const t=this.screenService.getNumberOfAvailableMiniatures();return n.slice(0,2*t)}onNearOfBottom(){this.currentPage>=this.maxPage||this.lastWasEmpty||this.isLoading||(this.currentPage++,this.loadMoreResults())}loadMoreResults(){this.isLoading=!0,this.overviewService.getVideosOverview(this.currentPage).subscribe(n=>{if(this.isLoading=!1,0===n.tags.length&&0===n.channels.length&&0===n.categories.length)return this.lastWasEmpty=!0,void(!1===this.loaded&&(this.notResults=!0));this.loaded=!0,this.onDataSubject.next(n),this.overviews.push(n)},n=>{this.notifier.error(n.message),this.isLoading=!1})}}return n.\u0275fac=function(t){return new(t||n)(C.Qb(O.m),C.Qb(O.D),C.Qb(M),C.Qb(O.v))},n.\u0275cmp=C.Kb({type:n,selectors:[["my-video-overview"]],decls:6,vars:4,consts:function(){let n,t;return n="Descubrir",t="Sin resultados.",[[1,"sr-only"],n,[1,"margin-content"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",3,"autoInit","dataObservable","nearOfBottom"],[4,"ngFor","ngForOf"],[1,"no-results"],t,["class","section videos",4,"ngFor","ngForOf"],["class","section channel videos",4,"ngFor","ngForOf"],[1,"section","videos"],[1,"section-title"],["routerLink","/search",3,"queryParams"],["class","video-wrapper",4,"ngFor","ngForOf"],[1,"video-wrapper"],[3,"video","fitWidth","user","displayVideoActions"],[1,"section","channel","videos"],[3,"routerLink"],["alt","Avatar",3,"src"]]},template:function(n,t){1&n&&(C.Wb(0,"h1",0),C.ac(1,1),C.Vb(),C.Wb(2,"div",2),C.Rc(3,x,2,0,"div",3),C.Wb(4,"div",4),C.kc("nearOfBottom",function(){return t.onNearOfBottom()}),C.Rc(5,L,4,3,"ng-container",5),C.Vb(),C.Vb()),2&n&&(C.Db(3),C.vc("ngIf",t.notResults),C.Db(1),C.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),C.Db(1),C.vc("ngForOf",t.overviews))},directives:[_.n,f.a,_.m,y.k,k.a],styles:[".section-title[_ngcontent-%COMP%]{grid-column:1/-1}.margin-content[_ngcontent-%COMP%]{margin-left:30px!important;margin-right:30px!important}@media screen and (max-width:500px){.margin-content[_ngcontent-%COMP%]{width:auto;margin:0!important}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{text-align:center}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature{padding-right:0;height:auto;width:100%;margin-bottom:25px}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information{width:100%!important;text-align:left}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information span{width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-thumbnail{border-radius:0}}@media screen and (min-width:1800px){.margin-content[_ngcontent-%COMP%]{margin-left:6vw!important;margin-right:6vw!important}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{--miniature-min-width:208px;--miniature-max-width:223px;display:grid;column-gap:5px;grid-template-columns:repeat(auto-fill,minmax(var(--miniature-min-width),1fr))}}@media screen and (min-width:500px) and (min-width:1800px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{column-gap:1%;--miniature-min-width:223px}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{display:block;min-width:var(--miniature-min-width);max-width:var(--miniature-max-width)}}.section[_ngcontent-%COMP%]:first-child{padding-top:30px}.section[_ngcontent-%COMP%]:first-child   .section-title[_ngcontent-%COMP%]{border-top:none!important}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;padding-top:15px;margin-bottom:15px;display:flex;justify-content:space-between}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:not(h2){border-top:1px solid rgba(0,0,0,.1)}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(.focus-visible), .section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;outline:none}.section.channel[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;align-items:center}.section.channel[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%;width:28px;height:28px;min-width:28px;min-height:28px;margin-right:8px}.section.channel[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-weight:400;font-size:14px;margin-left:10px;position:relative;top:2px}.section[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{position:relative;top:-5px;display:inline-block;font-size:16px;text-transform:uppercase;color:var(--greyForegroundColor);margin-bottom:10px;font-weight:600;text-decoration:none}@media screen and (max-width:500px){.section[_ngcontent-%COMP%]{max-height:none;overflow:initial}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:17px;margin-left:10px}}"]}),n})();var j=e("pyEO"),z=e("1kSV"),Q=e("3Pt+"),B=e("UkmY");function N(n,t){if(1&n&&(C.Wb(0,"label",3),C.Rb(1,"my-global-icon",4),C.Rb(2,"input",5),C.Tc(3),C.Vb()),2&n){const n=C.oc().$implicit;C.vc("ngbTooltip",n.tooltip),C.Db(1),C.vc("iconName",n.iconName),C.Db(1),C.vc("value",n.value),C.Db(1),C.Vc(" ",n.label," ")}}function U(n,t){if(1&n&&(C.Ub(0),C.Rc(1,N,4,4,"label",2),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngIf",!n.hidden)}}let K=(()=>{class n extends r.c{constructor(n,t,e,o,i){super(n),this.data=n,this.route=t,this.router=e,this.auth=o,this.serverService=i,this.class="title-page title-page-single",this.buttons=[{label:"A mellor",iconName:"award",value:"best",tooltip:"V\xEDdeos con m\xE1is interacci\xF3ns entre os recentes, menos historial da usuaria",hidden:!0},{label:"En voga",iconName:"flame",value:"hot",tooltip:"V\xEDdeos con m\xE1is interacci\xF3ns para os v\xEDdeos recentes",hidden:!0},{label:"Visualizaci\xF3ns",iconName:"trending",value:"most-viewed",tooltip:"V\xEDdeos con m\xE1is visualizaci\xF3ns nas \xFAltimas 24 horas"},{label:"G\xF3stame",iconName:"like",value:"most-liked",tooltip:"V\xEDdeos con m\xE1is likes"}]}ngOnInit(){this.serverService.getConfig().subscribe(n=>{const t=n.trending.videos.algorithms.enabled;this.buttons=this.buttons.map(n=>(n.hidden=!t.includes(n.value),"best"!==n.value||this.auth.isLoggedIn()||(n.hidden=!0),n))}),this.algorithmChangeSub=this.route.queryParams.subscribe(n=>{this.data.model=n.alg||O.q.DEFAULT_TRENDING_ALGORITHM})}ngOnDestroy(){this.algorithmChangeSub&&this.algorithmChangeSub.unsubscribe()}setSort(){this.router.navigate([],{relativeTo:this.route,queryParams:{alg:this.data.model!==O.q.DEFAULT_TRENDING_ALGORITHM?this.data.model:void 0},queryParamsHandling:"merge"})}}return n.\u0275fac=function(t){return new(t||n)(C.Qb("data"),C.Qb(y.a),C.Qb(y.h),C.Qb(O.a),C.Qb(j.a))},n.\u0275cmp=C.Kb({type:n,selectors:[["video-trending-title-page"]],hostVars:2,hostBindings:function(n,t){2&n&&C.Fb(t.class)},features:[C.Ab],decls:2,vars:2,consts:[["ngbRadioGroup","","name","radioBasic",1,"btn-group","btn-group-toggle",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["ngbButtonLabel","","class","btn-light","placement","bottom right-bottom left-bottom","container","body",3,"ngbTooltip",4,"ngIf"],["ngbButtonLabel","","placement","bottom right-bottom left-bottom","container","body",1,"btn-light",3,"ngbTooltip"],[3,"iconName"],["ngbButton","","type","radio",3,"value"]],template:function(n,t){1&n&&(C.Wb(0,"div",0),C.kc("ngModelChange",function(n){return t.data.model=n})("ngModelChange",function(){return t.setSort()}),C.Rc(1,U,2,1,"ng-container",1),C.Vb()),2&n&&(C.vc("ngModel",t.data.model),C.Db(1),C.vc("ngForOf",t.buttons))},directives:[z.C,Q.m,Q.p,_.m,_.n,z.c,z.D,B.a,z.B],styles:[".btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:9999px!important;padding:5px 16px;opacity:.8}.btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:first-child){margin-left:.5rem}.btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:-2px;height:1rem;margin-right:.1rem}"]}),n})();var E=e("SxV6"),X=e("ihI+"),G=e("38LS"),H=e("9SF7"),q=e("/xt7");function J(n,t){}function Y(n,t){if(1&n&&C.Rb(0,"my-feed",10),2&n){const n=C.oc();C.vc("syndicationItems",n.syndicationItems)}}function Z(n,t){1&n&&C.Sb(0)}const nn=function(n){return{$implicit:n}};function tn(n,t){if(1&n&&(C.Wb(0,"a",15),C.Rc(1,Z,1,0,"ng-container",16),C.Vb()),2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("routerLink",n.routerLink),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,nn,n))}}function en(n,t){1&n&&C.Sb(0)}function on(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",17),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,en,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(2,nn,n))}}function cn(n,t){1&n&&C.Sb(0)}function an(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",18),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,cn,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("href",n.href,C.Mc),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,nn,n))}}function rn(n,t){if(1&n&&C.Rb(0,"my-button",21),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("label",n.label)}}function sn(n,t){if(1&n&&C.Rb(0,"my-button",22),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("ngbTooltip",n.label)}}function gn(n,t){if(1&n&&(C.Rc(0,rn,1,2,"my-button",19),C.Rc(1,sn,1,2,"my-button",20)),2&n){const n=t.$implicit;C.vc("ngIf",!n.justIcon),C.Db(1),C.vc("ngIf",n.justIcon)}}function ln(n,t){if(1&n&&(C.Ub(0),C.Rc(1,tn,2,5,"a",11),C.Rc(2,on,2,4,"a",12),C.Rc(3,an,2,5,"a",13),C.Rc(4,gn,2,2,"ng-template",null,14,C.Sc),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngIf",n.routerLink),C.Db(1),C.vc("ngIf",!n.routerLink&&!n.href&&n.click),C.Db(1),C.vc("ngIf",!n.routerLink&&n.href&&n.click)}}function dn(n,t){if(1&n){const n=C.Xb();C.Wb(0,"div",23),C.Wb(1,"div",24),C.Rb(2,"my-global-icon",25),C.Wb(3,"div",26),C.Wb(4,"div",27),C.Wb(5,"my-peertube-checkbox",28),C.kc("change",function(){return C.Kc(n),C.oc().toggleModerationDisplay()}),C.Vb(),C.Vb(),C.Vb(),C.Vb(),C.Vb()}}function bn(n,t){1&n&&(C.Wb(0,"div",29),C.ac(1,30),C.Vb())}function mn(n,t){if(1&n&&(C.Wb(0,"h2",34),C.Tc(1),C.Vb()),2&n){const n=C.oc().$implicit,t=C.oc();C.Db(1),C.Vc(" ",t.getCurrentGroupedDateLabel(n)," ")}}function un(n,t){if(1&n){const n=C.Xb();C.Ub(0),C.Rc(1,mn,2,1,"h2",31),C.Wb(2,"div",32),C.Wb(3,"my-video-miniature",33),C.kc("videoBlocked",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)})("videoRemoved",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)}),C.Vb(),C.Vb(),C.Tb()}if(2&n){const n=t.$implicit,e=C.oc();C.Db(1),C.vc("ngIf",e.getCurrentGroupedDateLabel(n)),C.Db(2),C.vc("fitWidth",!0)("video",n)("user",e.userMiniature)("ownerDisplayType",e.ownerDisplayType)("displayVideoActions",e.displayVideoActions)("displayOptions",e.displayOptions)}}let On=(()=>{class n extends r.a{constructor(n,t,e,o,i,c,a,r,s,g,l){super(),this.router=n,this.serverService=t,this.route=e,this.notifier=o,this.authService=i,this.userService=c,this.screenService=a,this.storageService=r,this.cfr=s,this.videoService=g,this.hooks=l,this.HeaderComponent=K,this.defaultSort="-trending",this.loadUserVideoPreferences=!0,this.defaultSort=this.parseAlgorithm(O.q.DEFAULT_TRENDING_ALGORITHM),this.headerComponentInjector=this.getInjector()}ngOnInit(){super.ngOnInit(),this.generateSyndicationList(),this.algorithmChangeSub=this.onDataSubject.pipe(Object(E.a)(),Object(l.a)(()=>this.route.queryParams)).subscribe(n=>{const t=this.sort;this.loadPageRouteParams(n),t!==this.sort&&this.reloadVideos()})}ngOnDestroy(){super.ngOnDestroy(),this.algorithmChangeSub&&this.algorithmChangeSub.unsubscribe()}getVideosObservable(n){const t={videoPagination:Object(v.h)(this.pagination,{currentPage:n}),sort:this.sort,categoryOneOf:this.categoryOneOf,languageOneOf:this.languageOneOf,nsfwPolicy:this.nsfwPolicy,skipCount:!0};return this.hooks.wrapObsFun(this.videoService.getVideos.bind(this.videoService),t,"common","filter:api.trending-videos.videos.list.params","filter:api.trending-videos.videos.list.result")}generateSyndicationList(){this.syndicationItems=this.videoService.getVideoFeedUrls(this.sort,void 0,this.categoryOneOf)}getInjector(){return C.t.create({providers:[{provide:"data",useValue:{model:this.defaultSort}}]})}loadPageRouteParams(n){this.sort=this.parseAlgorithm(n.alg||O.q.DEFAULT_TRENDING_ALGORITHM)}parseAlgorithm(n){switch(n){case"most-viewed":return"-trending";case"most-liked":return"-likes";default:return"-"+n}}}return n.\u0275fac=function(t){return new(t||n)(C.Qb(y.h),C.Qb(O.x),C.Qb(y.a),C.Qb(O.m),C.Qb(O.a),C.Qb(O.D),C.Qb(O.v),C.Qb(O.h),C.Qb(C.j),C.Qb(c.s),C.Qb(X.a))},n.\u0275cmp=C.Kb({type:n,selectors:[["my-videos-hot"]],features:[C.Ab],decls:11,vars:8,consts:function(){let n,t;return n="Mostra todos os v\xEDdeos (privado, non listados ou a\xEDnda non publicados)",t="Sin resultados.",[[1,"margin-content"],[1,"videos-header"],["videoListHeader",""],[1,"action-block"],[3,"syndicationItems",4,"ngIf"],[4,"ngFor","ngForOf"],["class","moderation-block",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"syndicationItems"],["class","ml-2","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","ml-2",3,"click","key.enter",4,"ngIf"],["class","ml-2",3,"href","click","key.enter",4,"ngIf"],["actionContent",""],["routerLinkActive","active",1,"ml-2",3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ml-2",3,"click","key.enter"],[1,"ml-2",3,"href","click","key.enter"],[3,"icon","label",4,"ngIf"],[3,"icon","ngbTooltip",4,"ngIf"],[3,"icon","label"],[3,"icon","ngbTooltip"],[1,"moderation-block"],["ngbDropdown","","placement","bottom-right auto",1,"c-hand"],["iconName","cog","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item"],["inputName","display-unlisted-private","labelText",n,3,"change"],[1,"no-results"],t,["class","date-title",4,"ngIf"],[1,"video-wrapper"],[3,"fitWidth","video","user","ownerDisplayType","displayVideoActions","displayOptions","videoBlocked","videoRemoved"],[1,"date-title"]]},template:function(n,t){1&n&&(C.Wb(0,"div",0),C.Wb(1,"div",1),C.Rc(2,J,0,0,"ng-template",null,2,C.Sc),C.Wb(4,"div",3),C.Rc(5,Y,1,1,"my-feed",4),C.Rc(6,ln,6,3,"ng-container",5),C.Vb(),C.Rc(7,dn,6,0,"div",6),C.Vb(),C.Rc(8,bn,2,0,"div",7),C.Wb(9,"div",8),C.kc("nearOfBottom",function(){return t.onNearOfBottom()}),C.Rc(10,un,4,7,"ng-container",9),C.Vb(),C.Vb()),2&n&&(C.Db(5),C.vc("ngIf",t.syndicationItems),C.Db(1),C.vc("ngForOf",t.actions),C.Db(1),C.vc("ngIf",t.displayModerationBlock),C.Db(1),C.vc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),C.Db(1),C.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),C.Db(1),C.vc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[_.n,_.m,f.a,G.a,y.k,y.j,_.s,H.a,z.D,z.h,B.a,z.n,z.l,q.a,k.a],styles:['my-video-list-header{display:flex;flex-grow:1}.videos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]     my-feed my-global-icon{width:calc(16px - 2px)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor);display:inline-flex;align-items:center;line-height:normal!important}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;margin-right:3px;top:-1px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]{margin-left:.4rem;display:flex;justify-content:flex-end;align-items:center}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;top:-2px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:0}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]     my-peertube-checkbox label{padding:3px 15px}.date-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:20px;margin-top:-10px;grid-column:1/-1}.date-title[_ngcontent-%COMP%]:not(:first-child){margin-top:.5rem;padding-top:20px;border-top:1px solid rgba(0,0,0,.1)}.margin-content[_ngcontent-%COMP%]{margin-left:30px!important;margin-right:30px!important}@media screen and (max-width:500px){.margin-content[_ngcontent-%COMP%]{width:auto;margin:0!important}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{text-align:center}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature{padding-right:0;height:auto;width:100%;margin-bottom:25px}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information{width:100%!important;text-align:left}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information span{width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-thumbnail{border-radius:0}}@media screen and (min-width:1800px){.margin-content[_ngcontent-%COMP%]{margin-left:6vw!important;margin-right:6vw!important}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{--miniature-min-width:208px;--miniature-max-width:223px;display:grid;column-gap:5px;grid-template-columns:repeat(auto-fill,minmax(var(--miniature-min-width),1fr))}}@media screen and (min-width:500px) and (min-width:1800px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{column-gap:1%;--miniature-min-width:223px}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{display:block;min-width:var(--miniature-min-width);max-width:var(--miniature-max-width)}}@media screen and (max-width:500px){.videos-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;margin-bottom:10px}.videos-header[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:0}}']}),n})();function vn(n,t){}function pn(n,t){if(1&n&&C.Rb(0,"my-feed",10),2&n){const n=C.oc();C.vc("syndicationItems",n.syndicationItems)}}function hn(n,t){1&n&&C.Sb(0)}e("XRCn");const Cn=function(n){return{$implicit:n}};function Mn(n,t){if(1&n&&(C.Wb(0,"a",15),C.Rc(1,hn,1,0,"ng-container",16),C.Vb()),2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("routerLink",n.routerLink),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,Cn,n))}}function Pn(n,t){1&n&&C.Sb(0)}function _n(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",17),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,Pn,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(2,Cn,n))}}function fn(n,t){1&n&&C.Sb(0)}function yn(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",18),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,fn,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("href",n.href,C.Mc),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,Cn,n))}}function kn(n,t){if(1&n&&C.Rb(0,"my-button",21),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("label",n.label)}}function xn(n,t){if(1&n&&C.Rb(0,"my-button",22),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("ngbTooltip",n.label)}}function wn(n,t){if(1&n&&(C.Rc(0,kn,1,2,"my-button",19),C.Rc(1,xn,1,2,"my-button",20)),2&n){const n=t.$implicit;C.vc("ngIf",!n.justIcon),C.Db(1),C.vc("ngIf",n.justIcon)}}function Dn(n,t){if(1&n&&(C.Ub(0),C.Rc(1,Mn,2,5,"a",11),C.Rc(2,_n,2,4,"a",12),C.Rc(3,yn,2,5,"a",13),C.Rc(4,wn,2,2,"ng-template",null,14,C.Sc),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngIf",n.routerLink),C.Db(1),C.vc("ngIf",!n.routerLink&&!n.href&&n.click),C.Db(1),C.vc("ngIf",!n.routerLink&&n.href&&n.click)}}function In(n,t){if(1&n){const n=C.Xb();C.Wb(0,"div",23),C.Wb(1,"div",24),C.Rb(2,"my-global-icon",25),C.Wb(3,"div",26),C.Wb(4,"div",27),C.Wb(5,"my-peertube-checkbox",28),C.kc("change",function(){return C.Kc(n),C.oc().toggleModerationDisplay()}),C.Vb(),C.Vb(),C.Vb(),C.Vb(),C.Vb()}}function Vn(n,t){1&n&&(C.Wb(0,"div",29),C.ac(1,30),C.Vb())}function Rn(n,t){if(1&n&&(C.Wb(0,"h2",34),C.Tc(1),C.Vb()),2&n){const n=C.oc().$implicit,t=C.oc();C.Db(1),C.Vc(" ",t.getCurrentGroupedDateLabel(n)," ")}}function Sn(n,t){if(1&n){const n=C.Xb();C.Ub(0),C.Rc(1,Rn,2,1,"h2",31),C.Wb(2,"div",32),C.Wb(3,"my-video-miniature",33),C.kc("videoBlocked",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)})("videoRemoved",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)}),C.Vb(),C.Vb(),C.Tb()}if(2&n){const n=t.$implicit,e=C.oc();C.Db(1),C.vc("ngIf",e.getCurrentGroupedDateLabel(n)),C.Db(2),C.vc("fitWidth",!0)("video",n)("user",e.userMiniature)("ownerDisplayType",e.ownerDisplayType)("displayVideoActions",e.displayVideoActions)("displayOptions",e.displayOptions)}}let Tn=(()=>{class n extends r.a{constructor(n,t,e,o,i,c,a,r,s,g,l){super(),this.router=n,this.serverService=t,this.route=e,this.notifier=o,this.authService=i,this.userService=c,this.screenService=a,this.storageService=r,this.cfr=s,this.videoService=g,this.hooks=l,this.sort="-publishedAt",this.filter="local",this.loadUserVideoPreferences=!0,this.titlePage="V\xEDdeos locais"}ngOnInit(){super.ngOnInit(),this.enableAllFilterIfPossible(),this.generateSyndicationList()}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(n){const t={videoPagination:Object(v.h)(this.pagination,{currentPage:n}),sort:this.sort,filter:this.filter,categoryOneOf:this.categoryOneOf,languageOneOf:this.languageOneOf,nsfwPolicy:this.nsfwPolicy,skipCount:!0};return this.hooks.wrapObsFun(this.videoService.getVideos.bind(this.videoService),t,"common","filter:api.local-videos.videos.list.params","filter:api.local-videos.videos.list.result")}generateSyndicationList(){this.syndicationItems=this.videoService.getVideoFeedUrls(this.sort,this.filter,this.categoryOneOf)}toggleModerationDisplay(){this.filter=this.buildLocalFilter(this.filter,"local"),this.reloadVideos()}}return n.\u0275fac=function(t){return new(t||n)(C.Qb(y.h),C.Qb(O.x),C.Qb(y.a),C.Qb(O.m),C.Qb(O.a),C.Qb(O.D),C.Qb(O.v),C.Qb(O.h),C.Qb(C.j),C.Qb(c.s),C.Qb(X.a))},n.\u0275cmp=C.Kb({type:n,selectors:[["my-videos-local"]],features:[C.Ab],decls:11,vars:8,consts:function(){let n,t;return n="Mostra todos os v\xEDdeos (privado, non listados ou a\xEDnda non publicados)",t="Sin resultados.",[[1,"margin-content"],[1,"videos-header"],["videoListHeader",""],[1,"action-block"],[3,"syndicationItems",4,"ngIf"],[4,"ngFor","ngForOf"],["class","moderation-block",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"syndicationItems"],["class","ml-2","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","ml-2",3,"click","key.enter",4,"ngIf"],["class","ml-2",3,"href","click","key.enter",4,"ngIf"],["actionContent",""],["routerLinkActive","active",1,"ml-2",3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ml-2",3,"click","key.enter"],[1,"ml-2",3,"href","click","key.enter"],[3,"icon","label",4,"ngIf"],[3,"icon","ngbTooltip",4,"ngIf"],[3,"icon","label"],[3,"icon","ngbTooltip"],[1,"moderation-block"],["ngbDropdown","","placement","bottom-right auto",1,"c-hand"],["iconName","cog","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item"],["inputName","display-unlisted-private","labelText",n,3,"change"],[1,"no-results"],t,["class","date-title",4,"ngIf"],[1,"video-wrapper"],[3,"fitWidth","video","user","ownerDisplayType","displayVideoActions","displayOptions","videoBlocked","videoRemoved"],[1,"date-title"]]},template:function(n,t){1&n&&(C.Wb(0,"div",0),C.Wb(1,"div",1),C.Rc(2,vn,0,0,"ng-template",null,2,C.Sc),C.Wb(4,"div",3),C.Rc(5,pn,1,1,"my-feed",4),C.Rc(6,Dn,6,3,"ng-container",5),C.Vb(),C.Rc(7,In,6,0,"div",6),C.Vb(),C.Rc(8,Vn,2,0,"div",7),C.Wb(9,"div",8),C.kc("nearOfBottom",function(){return t.onNearOfBottom()}),C.Rc(10,Sn,4,7,"ng-container",9),C.Vb(),C.Vb()),2&n&&(C.Db(5),C.vc("ngIf",t.syndicationItems),C.Db(1),C.vc("ngForOf",t.actions),C.Db(1),C.vc("ngIf",t.displayModerationBlock),C.Db(1),C.vc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),C.Db(1),C.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),C.Db(1),C.vc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[_.n,_.m,f.a,G.a,y.k,y.j,_.s,H.a,z.D,z.h,B.a,z.n,z.l,q.a,k.a],styles:['my-video-list-header{display:flex;flex-grow:1}.videos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]     my-feed my-global-icon{width:calc(16px - 2px)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor);display:inline-flex;align-items:center;line-height:normal!important}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;margin-right:3px;top:-1px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]{margin-left:.4rem;display:flex;justify-content:flex-end;align-items:center}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;top:-2px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:0}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]     my-peertube-checkbox label{padding:3px 15px}.date-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:20px;margin-top:-10px;grid-column:1/-1}.date-title[_ngcontent-%COMP%]:not(:first-child){margin-top:.5rem;padding-top:20px;border-top:1px solid rgba(0,0,0,.1)}.margin-content[_ngcontent-%COMP%]{margin-left:30px!important;margin-right:30px!important}@media screen and (max-width:500px){.margin-content[_ngcontent-%COMP%]{width:auto;margin:0!important}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{text-align:center}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature{padding-right:0;height:auto;width:100%;margin-bottom:25px}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information{width:100%!important;text-align:left}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information span{width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-thumbnail{border-radius:0}}@media screen and (min-width:1800px){.margin-content[_ngcontent-%COMP%]{margin-left:6vw!important;margin-right:6vw!important}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{--miniature-min-width:208px;--miniature-max-width:223px;display:grid;column-gap:5px;grid-template-columns:repeat(auto-fill,minmax(var(--miniature-min-width),1fr))}}@media screen and (min-width:500px) and (min-width:1800px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{column-gap:1%;--miniature-min-width:223px}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{display:block;min-width:var(--miniature-min-width);max-width:var(--miniature-max-width)}}@media screen and (max-width:500px){.videos-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;margin-bottom:10px}.videos-header[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:0}}']}),n})();function Fn(n,t){}function $n(n,t){if(1&n&&C.Rb(0,"my-feed",10),2&n){const n=C.oc();C.vc("syndicationItems",n.syndicationItems)}}function Wn(n,t){1&n&&C.Sb(0)}const Ln=function(n){return{$implicit:n}};function An(n,t){if(1&n&&(C.Wb(0,"a",15),C.Rc(1,Wn,1,0,"ng-container",16),C.Vb()),2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("routerLink",n.routerLink),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,Ln,n))}}function jn(n,t){1&n&&C.Sb(0)}function zn(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",17),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,jn,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(2,Ln,n))}}function Qn(n,t){1&n&&C.Sb(0)}function Bn(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",18),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,Qn,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("href",n.href,C.Mc),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,Ln,n))}}function Nn(n,t){if(1&n&&C.Rb(0,"my-button",21),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("label",n.label)}}function Un(n,t){if(1&n&&C.Rb(0,"my-button",22),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("ngbTooltip",n.label)}}function Kn(n,t){if(1&n&&(C.Rc(0,Nn,1,2,"my-button",19),C.Rc(1,Un,1,2,"my-button",20)),2&n){const n=t.$implicit;C.vc("ngIf",!n.justIcon),C.Db(1),C.vc("ngIf",n.justIcon)}}function En(n,t){if(1&n&&(C.Ub(0),C.Rc(1,An,2,5,"a",11),C.Rc(2,zn,2,4,"a",12),C.Rc(3,Bn,2,5,"a",13),C.Rc(4,Kn,2,2,"ng-template",null,14,C.Sc),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngIf",n.routerLink),C.Db(1),C.vc("ngIf",!n.routerLink&&!n.href&&n.click),C.Db(1),C.vc("ngIf",!n.routerLink&&n.href&&n.click)}}function Xn(n,t){if(1&n){const n=C.Xb();C.Wb(0,"div",23),C.Wb(1,"div",24),C.Rb(2,"my-global-icon",25),C.Wb(3,"div",26),C.Wb(4,"div",27),C.Wb(5,"my-peertube-checkbox",28),C.kc("change",function(){return C.Kc(n),C.oc().toggleModerationDisplay()}),C.Vb(),C.Vb(),C.Vb(),C.Vb(),C.Vb()}}function Gn(n,t){1&n&&(C.Wb(0,"div",29),C.ac(1,30),C.Vb())}function Hn(n,t){if(1&n&&(C.Wb(0,"h2",34),C.Tc(1),C.Vb()),2&n){const n=C.oc().$implicit,t=C.oc();C.Db(1),C.Vc(" ",t.getCurrentGroupedDateLabel(n)," ")}}function qn(n,t){if(1&n){const n=C.Xb();C.Ub(0),C.Rc(1,Hn,2,1,"h2",31),C.Wb(2,"div",32),C.Wb(3,"my-video-miniature",33),C.kc("videoBlocked",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)})("videoRemoved",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)}),C.Vb(),C.Vb(),C.Tb()}if(2&n){const n=t.$implicit,e=C.oc();C.Db(1),C.vc("ngIf",e.getCurrentGroupedDateLabel(n)),C.Db(2),C.vc("fitWidth",!0)("video",n)("user",e.userMiniature)("ownerDisplayType",e.ownerDisplayType)("displayVideoActions",e.displayVideoActions)("displayOptions",e.displayOptions)}}let Jn=(()=>{class n extends r.a{constructor(n,t,e,o,i,c,a,r,s,g,l){super(),this.route=n,this.serverService=t,this.router=e,this.notifier=o,this.authService=i,this.userService=c,this.screenService=a,this.storageService=r,this.cfr=s,this.videoService=g,this.hooks=l,this.sort="-publishedAt",this.groupByDate=!0,this.loadUserVideoPreferences=!0,this.titlePage="Engadidos recentemente"}ngOnInit(){super.ngOnInit(),this.generateSyndicationList()}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(n){const t={videoPagination:Object(v.h)(this.pagination,{currentPage:n}),sort:this.sort,categoryOneOf:this.categoryOneOf,languageOneOf:this.languageOneOf,nsfwPolicy:this.nsfwPolicy,skipCount:!0};return this.hooks.wrapObsFun(this.videoService.getVideos.bind(this.videoService),t,"common","filter:api.recently-added-videos.videos.list.params","filter:api.recently-added-videos.videos.list.result")}generateSyndicationList(){this.syndicationItems=this.videoService.getVideoFeedUrls(this.sort,void 0,this.categoryOneOf)}}return n.\u0275fac=function(t){return new(t||n)(C.Qb(y.a),C.Qb(O.x),C.Qb(y.h),C.Qb(O.m),C.Qb(O.a),C.Qb(O.D),C.Qb(O.v),C.Qb(O.h),C.Qb(C.j),C.Qb(c.s),C.Qb(X.a))},n.\u0275cmp=C.Kb({type:n,selectors:[["my-videos-recently-added"]],features:[C.Ab],decls:11,vars:8,consts:function(){let n,t;return n="Mostra todos os v\xEDdeos (privado, non listados ou a\xEDnda non publicados)",t="Sin resultados.",[[1,"margin-content"],[1,"videos-header"],["videoListHeader",""],[1,"action-block"],[3,"syndicationItems",4,"ngIf"],[4,"ngFor","ngForOf"],["class","moderation-block",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"syndicationItems"],["class","ml-2","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","ml-2",3,"click","key.enter",4,"ngIf"],["class","ml-2",3,"href","click","key.enter",4,"ngIf"],["actionContent",""],["routerLinkActive","active",1,"ml-2",3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ml-2",3,"click","key.enter"],[1,"ml-2",3,"href","click","key.enter"],[3,"icon","label",4,"ngIf"],[3,"icon","ngbTooltip",4,"ngIf"],[3,"icon","label"],[3,"icon","ngbTooltip"],[1,"moderation-block"],["ngbDropdown","","placement","bottom-right auto",1,"c-hand"],["iconName","cog","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item"],["inputName","display-unlisted-private","labelText",n,3,"change"],[1,"no-results"],t,["class","date-title",4,"ngIf"],[1,"video-wrapper"],[3,"fitWidth","video","user","ownerDisplayType","displayVideoActions","displayOptions","videoBlocked","videoRemoved"],[1,"date-title"]]},template:function(n,t){1&n&&(C.Wb(0,"div",0),C.Wb(1,"div",1),C.Rc(2,Fn,0,0,"ng-template",null,2,C.Sc),C.Wb(4,"div",3),C.Rc(5,$n,1,1,"my-feed",4),C.Rc(6,En,6,3,"ng-container",5),C.Vb(),C.Rc(7,Xn,6,0,"div",6),C.Vb(),C.Rc(8,Gn,2,0,"div",7),C.Wb(9,"div",8),C.kc("nearOfBottom",function(){return t.onNearOfBottom()}),C.Rc(10,qn,4,7,"ng-container",9),C.Vb(),C.Vb()),2&n&&(C.Db(5),C.vc("ngIf",t.syndicationItems),C.Db(1),C.vc("ngForOf",t.actions),C.Db(1),C.vc("ngIf",t.displayModerationBlock),C.Db(1),C.vc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),C.Db(1),C.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),C.Db(1),C.vc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[_.n,_.m,f.a,G.a,y.k,y.j,_.s,H.a,z.D,z.h,B.a,z.n,z.l,q.a,k.a],styles:['my-video-list-header{display:flex;flex-grow:1}.videos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]     my-feed my-global-icon{width:calc(16px - 2px)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor);display:inline-flex;align-items:center;line-height:normal!important}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;margin-right:3px;top:-1px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]{margin-left:.4rem;display:flex;justify-content:flex-end;align-items:center}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;top:-2px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:0}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]     my-peertube-checkbox label{padding:3px 15px}.date-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:20px;margin-top:-10px;grid-column:1/-1}.date-title[_ngcontent-%COMP%]:not(:first-child){margin-top:.5rem;padding-top:20px;border-top:1px solid rgba(0,0,0,.1)}.margin-content[_ngcontent-%COMP%]{margin-left:30px!important;margin-right:30px!important}@media screen and (max-width:500px){.margin-content[_ngcontent-%COMP%]{width:auto;margin:0!important}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{text-align:center}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature{padding-right:0;height:auto;width:100%;margin-bottom:25px}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information{width:100%!important;text-align:left}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information span{width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-thumbnail{border-radius:0}}@media screen and (min-width:1800px){.margin-content[_ngcontent-%COMP%]{margin-left:6vw!important;margin-right:6vw!important}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{--miniature-min-width:208px;--miniature-max-width:223px;display:grid;column-gap:5px;grid-template-columns:repeat(auto-fill,minmax(var(--miniature-min-width),1fr))}}@media screen and (min-width:500px) and (min-width:1800px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{column-gap:1%;--miniature-min-width:223px}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{display:block;min-width:var(--miniature-min-width);max-width:var(--miniature-max-width)}}@media screen and (max-width:500px){.videos-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;margin-bottom:10px}.videos-header[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:0}}']}),n})();var Yn=e("Phsq"),Zn=e("rmSK");function nt(n,t){}function tt(n,t){if(1&n&&C.Rb(0,"my-feed",10),2&n){const n=C.oc();C.vc("syndicationItems",n.syndicationItems)}}function et(n,t){1&n&&C.Sb(0)}const ot=function(n){return{$implicit:n}};function it(n,t){if(1&n&&(C.Wb(0,"a",15),C.Rc(1,et,1,0,"ng-container",16),C.Vb()),2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("routerLink",n.routerLink),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,ot,n))}}function ct(n,t){1&n&&C.Sb(0)}function at(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",17),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,ct,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(2,ot,n))}}function rt(n,t){1&n&&C.Sb(0)}function st(n,t){if(1&n){const n=C.Xb();C.Wb(0,"a",18),C.kc("click",function(t){return C.Kc(n),C.oc().$implicit.click(t)})("key.enter",function(t){return C.Kc(n),C.oc().$implicit.click(t)}),C.Rc(1,rt,1,0,"ng-container",16),C.Vb()}if(2&n){const n=C.oc().$implicit,t=C.Ic(5);C.vc("href",n.href,C.Mc),C.Db(1),C.vc("ngTemplateOutlet",t)("ngTemplateOutletContext",C.zc(3,ot,n))}}function gt(n,t){if(1&n&&C.Rb(0,"my-button",21),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("label",n.label)}}function lt(n,t){if(1&n&&C.Rb(0,"my-button",22),2&n){const n=C.oc().$implicit;C.vc("icon",n.iconName)("ngbTooltip",n.label)}}function dt(n,t){if(1&n&&(C.Rc(0,gt,1,2,"my-button",19),C.Rc(1,lt,1,2,"my-button",20)),2&n){const n=t.$implicit;C.vc("ngIf",!n.justIcon),C.Db(1),C.vc("ngIf",n.justIcon)}}function bt(n,t){if(1&n&&(C.Ub(0),C.Rc(1,it,2,5,"a",11),C.Rc(2,at,2,4,"a",12),C.Rc(3,st,2,5,"a",13),C.Rc(4,dt,2,2,"ng-template",null,14,C.Sc),C.Tb()),2&n){const n=t.$implicit;C.Db(1),C.vc("ngIf",n.routerLink),C.Db(1),C.vc("ngIf",!n.routerLink&&!n.href&&n.click),C.Db(1),C.vc("ngIf",!n.routerLink&&n.href&&n.click)}}function mt(n,t){if(1&n){const n=C.Xb();C.Wb(0,"div",23),C.Wb(1,"div",24),C.Rb(2,"my-global-icon",25),C.Wb(3,"div",26),C.Wb(4,"div",27),C.Wb(5,"my-peertube-checkbox",28),C.kc("change",function(){return C.Kc(n),C.oc().toggleModerationDisplay()}),C.Vb(),C.Vb(),C.Vb(),C.Vb(),C.Vb()}}function ut(n,t){1&n&&(C.Wb(0,"div",29),C.ac(1,30),C.Vb())}function Ot(n,t){if(1&n&&(C.Wb(0,"h2",34),C.Tc(1),C.Vb()),2&n){const n=C.oc().$implicit,t=C.oc();C.Db(1),C.Vc(" ",t.getCurrentGroupedDateLabel(n)," ")}}function vt(n,t){if(1&n){const n=C.Xb();C.Ub(0),C.Rc(1,Ot,2,1,"h2",31),C.Wb(2,"div",32),C.Wb(3,"my-video-miniature",33),C.kc("videoBlocked",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)})("videoRemoved",function(){C.Kc(n);const e=t.$implicit;return C.oc().removeVideoFromArray(e)}),C.Vb(),C.Vb(),C.Tb()}if(2&n){const n=t.$implicit,e=C.oc();C.Db(1),C.vc("ngIf",e.getCurrentGroupedDateLabel(n)),C.Db(2),C.vc("fitWidth",!0)("video",n)("user",e.userMiniature)("ownerDisplayType",e.ownerDisplayType)("displayVideoActions",e.displayVideoActions)("displayOptions",e.displayOptions)}}let pt=(()=>{class n extends r.a{constructor(n,t,e,o,i,c,a,r,s,g,l,d,b){super(),this.router=n,this.serverService=t,this.route=e,this.notifier=o,this.authService=i,this.userService=c,this.screenService=a,this.storageService=r,this.userSubscription=s,this.cfr=g,this.hooks=l,this.videoService=d,this.scopedTokensService=b,this.sort="-publishedAt",this.ownerDisplayType="auto",this.groupByDate=!0,this.titlePage="V\xEDdeos das t\xFAas subscrici\xF3ns",this.actions.push({routerLink:"/my-library/subscriptions",label:"Subscrici\xF3ns",iconName:"cog"})}ngOnInit(){super.ngOnInit();const n=this.authService.getUser();let t=h.a.originServerUrl;this.authService.userInformationLoaded.pipe(Object(l.a)(()=>this.scopedTokensService.getScopedTokens())).subscribe(e=>{const o=this.videoService.getVideoSubscriptionFeedUrls(n.account.id,e.feedToken);t+=o.find(n=>"xml"===n.format).url,this.actions.unshift({label:"Copiar URL da fonte",iconName:"syndication",justIcon:!0,href:t,click:n=>{n.preventDefault(),Object(Zn.a)(t),this.activateCopiedMessage()}})},n=>{this.notifier.error(n.message)})}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(n){const t={videoPagination:Object(v.h)(this.pagination,{currentPage:n}),sort:this.sort,skipCount:!0};return this.hooks.wrapObsFun(this.userSubscription.getUserSubscriptionVideos.bind(this.userSubscription),t,"common","filter:api.user-subscriptions-videos.videos.list.params","filter:api.user-subscriptions-videos.videos.list.result")}generateSyndicationList(){throw new Error("Method not implemented.")}activateCopiedMessage(){this.notifier.success("URL da fonte copiada")}}return n.\u0275fac=function(t){return new(t||n)(C.Qb(y.h),C.Qb(O.x),C.Qb(y.a),C.Qb(O.m),C.Qb(O.a),C.Qb(O.D),C.Qb(O.v),C.Qb(O.h),C.Qb(a.b),C.Qb(C.j),C.Qb(X.a),C.Qb(c.s),C.Qb(O.u))},n.\u0275cmp=C.Kb({type:n,selectors:[["my-videos-user-subscriptions"]],features:[C.Ab],decls:11,vars:8,consts:function(){let n,t;return n="Mostra todos os v\xEDdeos (privado, non listados ou a\xEDnda non publicados)",t="Sin resultados.",[[1,"margin-content"],[1,"videos-header"],["videoListHeader",""],[1,"action-block"],[3,"syndicationItems",4,"ngIf"],[4,"ngFor","ngForOf"],["class","moderation-block",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"syndicationItems"],["class","ml-2","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","ml-2",3,"click","key.enter",4,"ngIf"],["class","ml-2",3,"href","click","key.enter",4,"ngIf"],["actionContent",""],["routerLinkActive","active",1,"ml-2",3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ml-2",3,"click","key.enter"],[1,"ml-2",3,"href","click","key.enter"],[3,"icon","label",4,"ngIf"],[3,"icon","ngbTooltip",4,"ngIf"],[3,"icon","label"],[3,"icon","ngbTooltip"],[1,"moderation-block"],["ngbDropdown","","placement","bottom-right auto",1,"c-hand"],["iconName","cog","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-item"],["inputName","display-unlisted-private","labelText",n,3,"change"],[1,"no-results"],t,["class","date-title",4,"ngIf"],[1,"video-wrapper"],[3,"fitWidth","video","user","ownerDisplayType","displayVideoActions","displayOptions","videoBlocked","videoRemoved"],[1,"date-title"]]},template:function(n,t){1&n&&(C.Wb(0,"div",0),C.Wb(1,"div",1),C.Rc(2,nt,0,0,"ng-template",null,2,C.Sc),C.Wb(4,"div",3),C.Rc(5,tt,1,1,"my-feed",4),C.Rc(6,bt,6,3,"ng-container",5),C.Vb(),C.Rc(7,mt,6,0,"div",6),C.Vb(),C.Rc(8,ut,2,0,"div",7),C.Wb(9,"div",8),C.kc("nearOfBottom",function(){return t.onNearOfBottom()}),C.Rc(10,vt,4,7,"ng-container",9),C.Vb(),C.Vb()),2&n&&(C.Db(5),C.vc("ngIf",t.syndicationItems),C.Db(1),C.vc("ngForOf",t.actions),C.Db(1),C.vc("ngIf",t.displayModerationBlock),C.Db(1),C.vc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),C.Db(1),C.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),C.Db(1),C.vc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[_.n,_.m,f.a,G.a,y.k,y.j,_.s,H.a,z.D,z.h,B.a,z.n,z.l,q.a,k.a],styles:['my-video-list-header{display:flex;flex-grow:1}.videos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]     my-feed my-global-icon{width:calc(16px - 2px)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor);display:inline-flex;align-items:center;line-height:normal!important}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.videos-header[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;margin-right:3px;top:-1px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]{margin-left:.4rem;display:flex;justify-content:flex-end;align-items:center}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:16px;top:-2px}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:0}.videos-header[_ngcontent-%COMP%]   .moderation-block[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]     my-peertube-checkbox label{padding:3px 15px}.date-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:20px;margin-top:-10px;grid-column:1/-1}.date-title[_ngcontent-%COMP%]:not(:first-child){margin-top:.5rem;padding-top:20px;border-top:1px solid rgba(0,0,0,.1)}.margin-content[_ngcontent-%COMP%]{margin-left:30px!important;margin-right:30px!important}@media screen and (max-width:500px){.margin-content[_ngcontent-%COMP%]{width:auto;margin:0!important}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{text-align:center}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature{padding-right:0;height:auto;width:100%;margin-bottom:25px}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information{width:100%!important;text-align:left}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-miniature-information span{width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]     .video-miniature .video-thumbnail{border-radius:0}}@media screen and (min-width:1800px){.margin-content[_ngcontent-%COMP%]{margin-left:6vw!important;margin-right:6vw!important}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{--miniature-min-width:208px;--miniature-max-width:223px;display:grid;column-gap:5px;grid-template-columns:repeat(auto-fill,minmax(var(--miniature-min-width),1fr))}}@media screen and (min-width:500px) and (min-width:1800px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]{column-gap:1%;--miniature-min-width:223px}}@media screen and (min-width:500px){.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%}.margin-content[_ngcontent-%COMP%]   .videos[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{display:block;min-width:var(--miniature-min-width);max-width:var(--miniature-max-width)}}@media screen and (max-width:500px){.videos-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;margin-bottom:10px}.videos-header[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:0}}']}),n})();const ht=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=C.Kb({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,t){1&n&&C.Rb(0,"router-outlet")},directives:[y.m],encapsulation:2}),n})(),canActivateChild:[Yn.a],children:[{path:"overview",component:A,data:{meta:{title:"Descubrir v\xEDdeos"}}},{path:"trending",component:On,data:{meta:{title:"V\xEDdeos tendencia"}}},{path:"most-liked",redirectTo:"trending?alg=most-liked"},{path:"recently-added",component:Jn,data:{meta:{title:"V\xEDdeos recentemente engadidos"},reuse:{enabled:!0,key:"recently-added-videos-list"}}},{path:"subscriptions",canActivate:[O.i],component:pt,data:{meta:{title:"Subscrici\xF3ns"},reuse:{enabled:!0,key:"subscription-videos-list"}}},{path:"local",component:Tn,data:{meta:{title:"V\xEDdeos locais"},reuse:{enabled:!0,key:"local-videos-list"}}},{path:"upload",loadChildren:()=>Promise.all([e.e(5),e.e(15),e.e(42)]).then(e.bind(null,"1jHT")).then(n=>n.VideoAddModule),data:{meta:{title:"Subir un v\xEDdeo"}}},{path:"update/:uuid",loadChildren:()=>Promise.all([e.e(5),e.e(15),e.e(43)]).then(e.bind(null,"gtcj")).then(n=>n.VideoUpdateModule),data:{meta:{title:"Editar un v\xEDdeo"}}},{path:"watch",loadChildren:()=>Promise.all([e.e(8),e.e(0),e.e(23)]).then(e.bind(null,"R3rJ")).then(n=>n.VideoWatchModule),data:{preload:3e3}}]}];let Ct=(()=>{class n{}return n.\u0275mod=C.Ob({type:n}),n.\u0275inj=C.Nb({factory:function(t){return new(t||n)},imports:[[y.l.forChild(ht)],y.l]}),n})(),Mt=(()=>{class n{}return n.\u0275mod=C.Ob({type:n}),n.\u0275inj=C.Nb({factory:function(t){return new(t||n)},providers:[M],imports:[[Ct,c.h,o.c,r.b,a.a,i.a]]}),n})()}}]);