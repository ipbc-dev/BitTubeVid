(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2Qox":function(t,n,e){"use strict";e.d(n,"a",(function(){return E}));var o=e("fXoL"),i=e("ey9i"),c=e("H9+z"),a=(e("DQE6"),e("a9tR"),e("4Yo8")),s=e("ofXK"),r=e("tyNb"),l=e("UkmY"),d=e("qZuT"),g=e("l9Pe"),b=e("1kSV"),u=e("/xt7"),p=e("3Pt+"),m=e("C8Cb");const h=["moreDropdown"];function v(t,n){1&t&&o.Rb(0,"my-global-icon",11)}function C(t,n){if(1&t&&(o.Ub(0),o.Vc(1),o.Tb()),2&t){const t=o.oc();o.Db(1),o.Wc(t.position)}}function O(t,n){if(1&t&&o.Rb(0,"my-video-thumbnail",12),2&t){const t=o.oc();o.vc("video",t.playlistElement.video)("nsfw",t.isVideoBlur(t.playlistElement.video))("videoRouterLink",t.buildRouterLink())("queryParams",t.buildRouterQuery())}}function P(t,n){1&t&&o.Rb(0,"div",13)}const f=function(t){return["/accounts",t]};function M(t,n){if(1&t&&(o.Wb(0,"a",18),o.Vc(1),o.Vb()),2&t){const t=o.oc(2);o.vc("routerLink",o.zc(2,f,t.playlistElement.video.byAccount)),o.Db(1),o.Xc(" ",t.playlistElement.video.byAccount," ")}}function _(t,n){if(1&t&&(o.Wb(0,"span",19),o.Vc(1),o.Vb()),2&t){const t=o.oc(2);o.Db(1),o.Wc(t.playlistElement.video.byAccount)}}function y(t,n){if(1&t&&(o.Ub(0),o.Wb(1,"a",14),o.Vc(2),o.Vb(),o.Tc(3,M,2,4,"a",15),o.Tc(4,_,2,1,"span",16),o.Wb(5,"span",17),o.Vc(6),o.Vb(),o.Tb()),2&t){const t=o.oc();o.Db(1),o.vc("routerLink",t.buildRouterLink())("queryParams",t.buildRouterQuery()),o.Eb("title",t.playlistElement.video.name),o.Db(1),o.Wc(t.playlistElement.video.name),o.Db(1),o.vc("ngIf",t.accountLink),o.Db(1),o.vc("ngIf",!t.accountLink),o.Db(2),o.Wc(t.formatTimestamp(t.playlistElement))}}function w(t,n){1&t&&(o.Ub(0),o.ac(1,21),o.Tb())}function x(t,n){1&t&&(o.Ub(0),o.ac(1,22),o.Tb())}function k(t,n){1&t&&(o.Ub(0),o.ac(1,23),o.Tb())}function T(t,n){if(1&t&&(o.Wb(0,"span",20),o.Tc(1,w,2,0,"ng-container",4),o.Tc(2,x,2,0,"ng-container",4),o.Tc(3,k,2,0,"ng-container",4),o.Vb()),2&t){const t=o.oc();o.Db(1),o.vc("ngIf",t.isUnavailable(t.playlistElement)),o.Db(1),o.vc("ngIf",t.isPrivate(t.playlistElement)),o.Db(1),o.vc("ngIf",t.isDeleted(t.playlistElement))}}const S=function(t){return["/my-account","video-playlists",t]};function V(t,n){if(1&t&&o.Rb(0,"my-edit-button",24),2&t){const t=o.oc();o.vc("routerLink",o.zc(1,S,t.playlist.uuid))}}function D(t,n){if(1&t){const t=o.Xb();o.Wb(0,"div",35),o.Wb(1,"div"),o.Wb(2,"my-peertube-checkbox",36),o.cc(3,37),o.kc("ngModelChange",(function(n){return o.Kc(t),o.oc(3).timestampOptions.startTimestampEnabled=n})),o.Vb(),o.Wb(4,"my-timestamp-input",38),o.kc("ngModelChange",(function(n){return o.Kc(t),o.oc(3).timestampOptions.startTimestamp=n})),o.Vb(),o.Vb(),o.Wb(5,"div"),o.Wb(6,"my-peertube-checkbox",39),o.cc(7,40),o.kc("ngModelChange",(function(n){return o.Kc(t),o.oc(3).timestampOptions.stopTimestampEnabled=n})),o.Vb(),o.Wb(8,"my-timestamp-input",38),o.kc("ngModelChange",(function(n){return o.Kc(t),o.oc(3).timestampOptions.stopTimestamp=n})),o.Vb(),o.Vb(),o.Wb(9,"input",41),o.cc(10,42),o.kc("click",(function(){o.Kc(t);const n=o.oc(3);return n.updateTimestamps(n.playlistElement)})),o.Vb(),o.Vb()}if(2&t){const t=o.oc(3);o.Db(2),o.vc("ngModel",t.timestampOptions.startTimestampEnabled),o.Db(2),o.vc("timestamp",t.timestampOptions.startTimestamp)("maxTimestamp",t.playlistElement.video.duration)("disabled",!t.timestampOptions.startTimestampEnabled)("ngModel",t.timestampOptions.startTimestamp),o.Db(2),o.vc("ngModel",t.timestampOptions.stopTimestampEnabled),o.Db(2),o.vc("timestamp",t.timestampOptions.stopTimestamp)("maxTimestamp",t.playlistElement.video.duration)("disabled",!t.timestampOptions.stopTimestampEnabled)("ngModel",t.timestampOptions.stopTimestamp)}}function I(t,n){if(1&t){const t=o.Xb();o.Ub(0),o.Wb(1,"div",29),o.kc("click",(function(n){o.Kc(t);const e=o.oc(2);return e.toggleDisplayTimestampsOptions(n,e.playlistElement)})),o.Rb(2,"my-global-icon",32),o.Ub(3),o.ac(4,33),o.Tb(),o.Vb(),o.Tc(5,D,11,10,"div",34),o.Tb()}if(2&t){const t=o.oc(2);o.Db(5),o.vc("ngIf",t.displayTimestampOptions)}}function L(t,n){if(1&t){const t=o.Xb();o.Wb(0,"div",25,26),o.kc("openChange",(function(){return o.Kc(t),o.oc().onDropdownOpenChange()})),o.Wb(2,"my-global-icon",27),o.kc("click",(function(n){return o.Kc(t),n.preventDefault()})),o.Vb(),o.Wb(3,"div",28),o.Tc(4,I,6,1,"ng-container",4),o.Wb(5,"span",29),o.kc("click",(function(){o.Kc(t);const n=o.oc();return n.removeFromPlaylist(n.playlistElement)})),o.Rb(6,"my-global-icon",30),o.Ub(7),o.ac(8,31),o.Tb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){const t=o.oc();o.Db(4),o.vc("ngIf",t.playlistElement.video),o.Db(4),o.ec(null==t.playlist?null:t.playlist.displayName),o.bc(8)}}const A=function(t){return{playing:t}};let E=(()=>{class t{constructor(t,n,e,i,c){this.authService=t,this.serverService=n,this.notifier=e,this.videoPlaylistService=i,this.cdr=c,this.owned=!1,this.playing=!1,this.rowLink=!1,this.accountLink=!0,this.touchScreenEditButton=!1,this.elementRemoved=new o.n,this.displayTimestampOptions=!1,this.timestampOptions={}}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(t=>{this.serverConfig=t,this.cdr.detectChanges()})}isUnavailable(t){return 3===t.type}isPrivate(t){return 2===t.type}isDeleted(t){return 1===t.type}buildRouterLink(){return this.playlist?["/videos/watch/playlist",this.playlist.uuid]:null}buildRouterQuery(){return this.playlistElement&&this.playlistElement.video?{playlistPosition:this.playlistElement.position,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{}}isVideoBlur(t){return t.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig)}removeFromPlaylist(t){this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,t.id,this.playlistElement.video?this.playlistElement.video.id:void 0).subscribe(()=>{this.notifier.success("Filmo forigita de \n          " + this.playlist.displayName + "\n        "),this.elementRemoved.emit(t)},t=>this.notifier.error(t.message)),this.moreDropdown.close()}updateTimestamps(t){const n={};n.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,n.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,t.id,n,this.playlistElement.video.id).subscribe(()=>{this.notifier.success("Tempindikoj \u011Disdati\u011Dis"),t.startTimestamp=n.startTimestamp,t.stopTimestamp=n.stopTimestamp,this.cdr.detectChanges()},t=>this.notifier.error(t.message)),this.moreDropdown.close()}formatTimestamp(t){const n=t.startTimestamp,e=t.stopTimestamp,o=Object(c.k)(n,!0,":"),i=Object(c.k)(e,!0,":");return null===n&&null===e?"":null!==n&&null===e?"Starts at "+o:null===n&&null!==e?"Stops at "+i:"Starts at "+o+" and stops at "+i}onDropdownOpenChange(){this.displayTimestampOptions=!1}toggleDisplayTimestampsOptions(t,n){t.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,!0===this.displayTimestampOptions&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:n.video.duration},n.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=n.startTimestamp),n.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=n.stopTimestamp)),setTimeout(()=>{this.cdr.detectChanges()})}}return t.\u0275fac=function(n){return new(n||t)(o.Qb(i.AuthService),o.Qb(i.ServerService),o.Qb(i.Notifier),o.Qb(a.a),o.Qb(o.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,n){var e;1&t&&o.Zc(h,!0),2&t&&o.Hc(e=o.lc())&&(n.moreDropdown=e.first)},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},decls:12,vars:13,consts:function(){return[[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","more","ngbDropdown","","placement","left auto","autoClose","outside",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams"],[1,"fake-thumbnail"],["tabindex","-1",1,"video-info-name",3,"routerLink","queryParams"],["tabindex","-1","class","video-info-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-account",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["tabindex","-1",1,"video-info-account",3,"routerLink"],["tabindex","-1",1,"video-info-account"],[1,"video-info-name"],"Nehavebla","Privata","Forigita",[3,"routerLink"],["ngbDropdown","","placement","left auto","autoClose","outside",1,"more",3,"openChange"],["moreDropdown","ngbDropdown"],["iconName","more-vertical","ngbDropdownToggle","","role","button",1,"icon-more",3,"click"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],["iconName","delete","aria-hidden","true"],"Forigi de " + "\ufffd0\ufffd" + "",["iconName","edit","aria-hidden","true"],"Redakti tempojn de komenco kaj \u0109eso",["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt",3,"ngModel","ngModelChange",6,"labelText"],["labelText","Komenci je"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt",3,"ngModel","ngModelChange",6,"labelText"],["labelText","\u0108esi je"],["type","submit",3,"click",6,"value"],["value","Konservi"]]},template:function(t,n){1&t&&(o.Wb(0,"div",0),o.Wb(1,"a",1),o.Wb(2,"div",2),o.Tc(3,v,1,0,"my-global-icon",3),o.Tc(4,C,2,1,"ng-container",4),o.Vb(),o.Tc(5,O,1,4,"my-video-thumbnail",5),o.Tc(6,P,1,0,"div",6),o.Wb(7,"div",7),o.Tc(8,y,7,7,"ng-container",4),o.Tc(9,T,4,3,"span",8),o.Vb(),o.Vb(),o.Tc(10,V,1,3,"my-edit-button",9),o.Tc(11,L,9,2,"div",10),o.Vb()),2&t&&(o.vc("ngClass",o.zc(11,A,n.playing)),o.Db(1),o.vc("routerLink",n.buildRouterLink())("queryParams",n.buildRouterQuery()),o.Db(2),o.vc("ngIf",n.playing),o.Db(1),o.vc("ngIf",!n.playing),o.Db(1),o.vc("ngIf",n.playlistElement.video),o.Db(1),o.vc("ngIf",!n.playlistElement.video),o.Db(2),o.vc("ngIf",n.playlistElement.video),o.Db(1),o.vc("ngIf",!n.playlistElement.video),o.Db(1),o.vc("ngIf",n.owned&&n.touchScreenEditButton),o.Db(1),o.vc("ngIf",n.owned))},directives:[s.r,r.k,s.u,l.a,d.a,g.a,r.i,b.e,b.j,b.h,u.a,p.s,p.v,m.a],styles:['.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{background-color:#ececec}.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]{display:flex;margin-right:10px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}.video[_ngcontent-%COMP%]:hover   .more[_ngcontent-%COMP%]{opacity:1}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1!important}}.video.playing[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;margin-right:10px;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;margin-left:auto;cursor:pointer;min-width:24px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{opacity:1}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]:after{border:none}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:6px 15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;margin-right:10px;position:relative;top:-2px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;padding-left:35px;margin-bottom:15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:740px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}'],changeDetection:0}),t})()},"4Yo8":function(t,n,e){"use strict";e.d(n,"a",(function(){return T}));var o=e("NOtv"),i=e("BeL+"),c=e("jtHE"),a=e("XNiG"),s=e("VRyK"),r=e("D0XW"),l=e("LRne"),d=e("/uUt"),g=e("OsX3"),b=e("pLZG"),u=e("lJxs"),p=e("pxpQ"),m=e("eIep"),h=e("w1tV"),v=e("JIr8"),C=e("vkgz"),O=e("tk/3"),P=e("ey9i"),f=e("6rF9"),M=e("xMQD"),_=e("AytR"),y=e("DQE6"),w=e("a9tR"),x=e("fXoL");const k=o("peertube:playlists:VideoPlaylistService");let T=(()=>{class t{constructor(t,n,e,o,l){this.authHttp=t,this.serverService=n,this.restExtractor=e,this.restService=o,this.ngZone=l,this.videoExistsInPlaylistNotifier=new c.a(1),this.videoExistsInPlaylistCacheSubject=new a.a,this.videoExistsObservableCache={},this.videoExistsCache={},this.myAccountPlaylistCache=void 0,this.myAccountPlaylistCacheSubject=new a.a,this.videoExistsInPlaylistObservable=Object(s.a)(this.videoExistsInPlaylistNotifier.pipe(Object(d.a)(),Object(g.a)(500,Object(f.k)(this.ngZone,r.b)),Object(b.a)(t=>0!==t.length),Object(u.a)(t=>Object(i.a)(t)),Object(p.b)(Object(f.d)(this.ngZone,r.b)),Object(m.a)(t=>this.doVideosExistInPlaylist(t)),Object(h.a)()),this.videoExistsInPlaylistCacheSubject)}listChannelPlaylists(t,n){const e=M.VideoChannelService.BASE_VIDEO_CHANNEL_URL+t.nameWithHost+"/video-playlists",o=this.restService.componentPaginationToRestPagination(n);let i=new O.f;return i=this.restService.addRestGetParams(i,o),this.authHttp.get(e,{params:i}).pipe(Object(m.a)(t=>this.extractPlaylists(t)),Object(v.a)(t=>this.restExtractor.handleError(t)))}listMyPlaylistWithCache(t,n){if(!n){if(this.myAccountPlaylistCacheRunning)return this.myAccountPlaylistCacheRunning;if(this.myAccountPlaylistCache)return Object(l.a)(this.myAccountPlaylistCache)}const e=this.listAccountPlaylists(t.account,void 0,"-updatedAt",n).pipe(Object(C.a)(t=>{n||(this.myAccountPlaylistCacheRunning=void 0,this.myAccountPlaylistCache=t)}),Object(h.a)());return n||(this.myAccountPlaylistCacheRunning=e),e}listAccountPlaylists(t,n,e,o){const i=M.AccountService.BASE_ACCOUNT_URL+t.nameWithHost+"/video-playlists",c=n?this.restService.componentPaginationToRestPagination(n):void 0;let a=new O.f;return a=this.restService.addRestGetParams(a,c,e),o&&(a=this.restService.addObjectParams(a,{search:o})),this.authHttp.get(i,{params:a}).pipe(Object(m.a)(t=>this.extractPlaylists(t)),Object(v.a)(t=>this.restExtractor.handleError(t)))}getVideoPlaylist(n){return this.authHttp.get(t.BASE_VIDEO_PLAYLIST_URL+n).pipe(Object(m.a)(t=>this.extractPlaylist(t)),Object(v.a)(t=>this.restExtractor.handleError(t)))}createVideoPlaylist(n){const e=Object(f.m)(n);return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL,e).pipe(Object(C.a)(t=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.total++,this.myAccountPlaylistCache.data.push({id:t.videoPlaylist.id,displayName:n.displayName}),this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(v.a)(t=>this.restExtractor.handleError(t)))}updateVideoPlaylist(n,e){const o=Object(f.m)(e);return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n.id,o).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(C.a)(()=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.data.find(t=>t.id===n.id).displayName=e.displayName,this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(v.a)(t=>this.restExtractor.handleError(t)))}removeVideoPlaylist(n){return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n.id).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(C.a)(()=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.total--,this.myAccountPlaylistCache.data=this.myAccountPlaylistCache.data.filter(t=>t.id!==n.id),this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(v.a)(t=>this.restExtractor.handleError(t)))}addVideoInPlaylist(n,e){return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",e).pipe(Object(C.a)(t=>{this.videoExistsCache[e.videoId].push({playlistId:n,playlistElementId:t.videoPlaylistElement.id,startTimestamp:e.startTimestamp,stopTimestamp:e.stopTimestamp}),this.runPlaylistCheck(e.videoId)}),Object(v.a)(t=>this.restExtractor.handleError(t)))}updateVideoOfPlaylist(n,e,o,i){return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e,o).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(C.a)(()=>{const t=this.videoExistsCache[i];if(t){const n=t.find(t=>t.playlistElementId===e);n.startTimestamp=o.startTimestamp,n.stopTimestamp=o.stopTimestamp}this.runPlaylistCheck(i)}),Object(v.a)(t=>this.restExtractor.handleError(t)))}removeVideoFromPlaylist(n,e,o){return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(C.a)(()=>{o&&(this.videoExistsCache[o]&&(this.videoExistsCache[o]=this.videoExistsCache[o].filter(t=>t.playlistElementId!==e)),this.runPlaylistCheck(o))}),Object(v.a)(t=>this.restExtractor.handleError(t)))}reorderPlaylist(n,e,o){return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/reorder",{startPosition:e,insertAfterPosition:o}).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(v.a)(t=>this.restExtractor.handleError(t)))}getPlaylistVideos(n,e){const o=t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",i=this.restService.componentPaginationToRestPagination(e);let c=new O.f;return c=this.restService.addRestGetParams(c,i),this.authHttp.get(o,{params:c}).pipe(Object(m.a)(t=>this.extractVideoPlaylistElements(t)),Object(v.a)(t=>this.restExtractor.handleError(t)))}listenToMyAccountPlaylistsChange(){return this.myAccountPlaylistCacheSubject.asObservable()}listenToVideoPlaylistChange(t){if(this.videoExistsObservableCache[t])return this.videoExistsObservableCache[t];const n=this.videoExistsInPlaylistObservable.pipe(Object(u.a)(n=>n[t]),Object(b.a)(t=>!!t),Object(C.a)(n=>this.videoExistsCache[t]=n));return this.videoExistsObservableCache[t]=n,n}runPlaylistCheck(t){return k("Running playlist check."),this.videoExistsCache[t]?(k("Found cache for %d.",t),this.videoExistsInPlaylistCacheSubject.next({[t]:this.videoExistsCache[t]})):(k("Fetching from network for %d.",t),this.videoExistsInPlaylistNotifier.next(t))}extractPlaylists(t){return this.serverService.getServerLocale().pipe(Object(u.a)(n=>{const e=t.data,o=t.total,i=[];for(const t of e)i.push(new w.a(t,n));return{data:i,total:o}}))}extractPlaylist(t){return this.serverService.getServerLocale().pipe(Object(u.a)(n=>new w.a(t,n)))}extractVideoPlaylistElements(t){return this.serverService.getServerLocale().pipe(Object(u.a)(n=>{const e=t.data,o=t.total,i=[];for(const t of e)i.push(new y.a(t,n));return{total:o,data:i}}))}doVideosExistInPlaylist(n){const e=t.MY_VIDEO_PLAYLIST_URL+"videos-exist";let o=new O.f;return o=this.restService.addObjectParams(o,{videoIds:n}),this.authHttp.get(e,{params:o,headers:{ignoreLoadingBar:""}}).pipe(Object(v.a)(t=>this.restExtractor.handleError(t)))}}return t.BASE_VIDEO_PLAYLIST_URL=_.a.apiUrl+"/api/v1/video-playlists/",t.MY_VIDEO_PLAYLIST_URL=_.a.apiUrl+"/api/v1/users/me/video-playlists/",t.\u0275fac=function(n){return new(n||t)(x.hc(O.b),x.hc(P.ServerService),x.hc(P.RestExtractor),x.hc(P.RestService),x.hc(x.C))},t.\u0275prov=x.Mb({token:t,factory:t.\u0275fac}),t})()},"5rWp":function(t,n,e){"use strict";var o=e("b613");e.d(n,"b",(function(){return o.a})),e("Dmbs"),e("gY50");var i=e("hHkf");e.d(n,"a",(function(){return i.a}))},"BeL+":function(t,n,e){"use strict";var o=e("msdH"),i=function(t){return t!=t},c=function(t,n){return!(null==t||!t.length)&&function(t,n,e){return n==n?function(t,n,e){for(var o=-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}(t,n):function(t,n,e,o){for(var i=t.length,c=-1;++c<i;)if(n(t[c],c,t))return c;return-1}(t,i)}(t,n)>-1},a=e("ZWiB"),s=e("pVw1"),r=e("GYlH"),l=s.a&&1/Object(r.a)(new s.a([,-0]))[1]==1/0?function(t){return new s.a(t)}:function(){};n.a=function(t){return t&&t.length?function(t,n,e){var i=-1,s=c,d=t.length,g=!0,b=[],u=b;if(d>=200){var p=l(t);if(p)return Object(r.a)(p);g=!1,s=a.a,u=new o.a}else u=b;t:for(;++i<d;){var m=t[i],h=m;if(m=0!==m?m:0,g&&h==h){for(var v=u.length;v--;)if(u[v]===h)continue t;b.push(m)}else s(u,h,undefined)||(u!==b&&u.push(h),b.push(m))}return b}(t):[]}},DQE6:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("xMQD");class i{constructor(t,n){this.id=t.id,this.position=t.position,this.startTimestamp=t.startTimestamp,this.stopTimestamp=t.stopTimestamp,this.type=t.type,t.video&&(this.video=new o.Video(t.video,n))}}},DTAc:function(t,n,e){"use strict";e.d(n,"a",(function(){return k}));var o=e("NOtv"),i=e("XNiG"),c=e("Kj3r"),a=e("pLZG"),s=e("ey9i"),r=e("sWvm"),l=e("H9+z"),d=e("Pehk"),g=e("4Yo8"),b=e("fXoL"),u=e("3Pt+"),p=e("ofXK"),m=e("UkmY"),h=e("/xt7"),v=e("C8Cb");function C(t,n){if(1&t){const t=b.Xb();b.Wb(0,"div",20),b.kc("click",(function(){b.Kc(t);const n=b.oc().$implicit;return b.oc().toggleOptionalRow(n)})),b.Rb(1,"my-global-icon",11),b.Vb()}}function O(t,n){if(1&t){const t=b.Xb();b.Wb(0,"div"),b.Wb(1,"my-peertube-checkbox",26),b.kc("click",(function(e){b.Kc(t);const o=n.$implicit,i=b.Ic(3),c=b.Ic(5),a=b.oc(2).$implicit;return b.oc().toggleOptionalPlaylist(e,a,o,i.timestamp,c.timestamp)})),b.Vb(),b.Wb(2,"my-timestamp-input",27,28),b.kc("ngModelChange",(function(e){return b.Kc(t),n.$implicit.startTimestamp=e}))("inputBlur",(function(){b.Kc(t);const e=n.$implicit,o=b.oc(2).$implicit;return b.oc().onElementTimestampUpdate(o,e)})),b.Vb(),b.Wb(4,"my-timestamp-input",27,29),b.kc("ngModelChange",(function(e){return b.Kc(t),n.$implicit.stopTimestamp=e}))("inputBlur",(function(){b.Kc(t);const e=n.$implicit,o=b.oc(2).$implicit;return b.oc().onElementTimestampUpdate(o,e)})),b.Vb(),b.Vb()}if(2&t){const t=n.$implicit,e=b.oc(2).$implicit,o=b.oc();b.Db(1),b.vc("inputName",o.getOptionalInputName(e,t))("ngModel",t.enabled)("onPushWorkaround",!0),b.Db(1),b.vc("maxTimestamp",o.video.duration)("ngModel",t.startTimestamp),b.Db(2),b.vc("maxTimestamp",o.video.duration)("ngModel",t.stopTimestamp)}}function P(t,n){if(1&t&&(b.Wb(0,"div",21),b.Wb(1,"div",22),b.Wb(2,"div"),b.ac(3,23),b.Vb(),b.Wb(4,"div"),b.ac(5,24),b.Vb(),b.Vb(),b.Tc(6,O,6,7,"div",25),b.Vb()),2&t){const t=b.oc().$implicit,n=b.oc();b.Db(6),b.vc("ngForOf",n.buildOptionalRowElements(t))}}const f=function(t){return{"has-optional-row":t}};function M(t,n){if(1&t){const t=b.Xb();b.Wb(0,"div",14),b.Wb(1,"div",15),b.Wb(2,"my-peertube-checkbox",16),b.kc("click",(function(e){b.Kc(t);const o=n.$implicit;return b.oc().toggleMainPlaylist(e,o)})),b.Vb(),b.Wb(3,"label",17),b.kc("click",(function(e){b.Kc(t);const o=n.$implicit;return b.oc().toggleMainPlaylist(e,o)})),b.Vc(4),b.Vb(),b.Tc(5,C,2,0,"div",18),b.Vb(),b.Tc(6,P,7,1,"div",19),b.Vb()}if(2&t){const t=n.$implicit,e=b.oc();b.vc("ngClass",b.zc(8,f,t.optionalRowDisplayed)),b.Db(2),b.vc("disabled",e.isPresentMultipleTimes(t)||t.optionalRowDisplayed)("inputName",e.getPrimaryInputName(t))("ngModel",e.isPrimaryCheckboxChecked(t))("onPushWorkaround",!0),b.Db(2),b.Xc(" ",t.displayName," "),b.Db(1),b.vc("ngIf",e.isPrimaryCheckboxChecked(t)),b.Db(1),b.vc("ngIf",t.optionalRowDisplayed)}}function _(t,n){if(1&t&&(b.Wb(0,"div",38),b.Vc(1),b.Vb()),2&t){const t=b.oc(2);b.Db(1),b.Xc(" ",t.formErrors.displayName," ")}}const y=function(t){return{"input-error":t}};function w(t,n){if(1&t){const t=b.Xb();b.Wb(0,"form",30),b.kc("ngSubmit",(function(){return b.Kc(t),b.oc().createPlaylist()})),b.Wb(1,"div",31),b.Wb(2,"label",32),b.ac(3,33),b.Vb(),b.Rb(4,"input",34),b.Tc(5,_,2,1,"div",35),b.Vb(),b.Wb(6,"input",36),b.cc(7,37),b.Vb(),b.Vb()}if(2&t){const t=b.oc();b.vc("formGroup",t.form),b.Db(4),b.vc("ngClass",b.zc(4,y,t.formErrors.displayName)),b.Db(1),b.vc("ngIf",t.formErrors.displayName),b.Db(1),b.vc("disabled",!t.form.valid)}}const x=o("peertube:playlists:VideoAddToPlaylistComponent");let k=(()=>{class t extends r.a{constructor(t,n,e,o,c){super(),this.formValidatorService=t,this.authService=n,this.notifier=e,this.videoPlaylistService=o,this.cd=c,this.lazyLoad=!1,this.isNewPlaylistBlockOpened=!1,this.videoPlaylistSearchChanged=new i.a,this.videoPlaylists=[],this.disabled=!1,this.playlistsData=[]}get user(){return this.authService.getUser()}ngOnInit(){this.buildForm({displayName:d.c}),this.videoPlaylistService.listenToMyAccountPlaylistsChange().subscribe(t=>{this.playlistsData=t.data,this.videoPlaylistService.runPlaylistCheck(this.video.id)}),this.videoPlaylistSearchChanged.pipe(Object(c.a)(500)).subscribe(()=>this.load()),!1===this.lazyLoad&&this.load()}ngOnChanges(t){t.video&&this.reload()}ngOnDestroy(){this.unsubscribePlaylistChanges()}disableForReuse(){this.disabled=!0}enabledForReuse(){this.disabled=!1}reload(){x("Reloading component"),this.videoPlaylists=[],this.videoPlaylistSearch=void 0,this.load(),this.cd.markForCheck()}load(){x("Loading component"),this.listenToVideoPlaylistChange(),this.videoPlaylistService.listMyPlaylistWithCache(this.user,this.videoPlaylistSearch).subscribe(t=>{this.playlistsData=t.data,this.videoPlaylistService.runPlaylistCheck(this.video.id)})}openChange(t){!1===t&&(this.isNewPlaylistBlockOpened=!1)}openCreateBlock(t){t.preventDefault(),this.isNewPlaylistBlockOpened=!0}toggleMainPlaylist(t,n){t.preventDefault(),this.isPresentMultipleTimes(n)||n.optionalRowDisplayed||(0===n.elements.length?this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:0,stopTimestamp:this.video.duration}):(this.removeVideoFromPlaylist(n,n.elements[0].playlistElementId),n.elements=[]),this.cd.markForCheck())}toggleOptionalPlaylist(t,n,e,o,i){t.preventDefault(),e.enabled?(this.removeVideoFromPlaylist(n,e.playlistElementId),e.enabled=!1,!1===this.isPrimaryCheckboxChecked(n)&&(n.optionalRowDisplayed=!1)):this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:o,stopTimestamp:i}),this.cd.markForCheck()}createPlaylist(){this.videoPlaylistService.createVideoPlaylist({displayName:this.form.value.displayName,privacy:3}).subscribe(()=>{this.isNewPlaylistBlockOpened=!1,this.cd.markForCheck()},t=>this.notifier.error(t.message))}onVideoPlaylistSearchChanged(){this.videoPlaylistSearchChanged.next()}isPrimaryCheckboxChecked(t){return 0!==t.elements.filter(t=>t.enabled).length}toggleOptionalRow(t){t.optionalRowDisplayed=!t.optionalRowDisplayed,this.cd.markForCheck()}getPrimaryInputName(t){return"in-playlist-primary-"+t.id}getOptionalInputName(t,n){return"in-playlist-optional-"+t.id+(n?"-"+n.playlistElementId:"")}buildOptionalRowElements(t){const n=t.elements,e=0===n.length?void 0:n[n.length-1];return e&&!0!==e.enabled||n.push({enabled:!1,startTimestamp:0,stopTimestamp:this.video.duration}),n}isPresentMultipleTimes(t){return t.elements.filter(t=>!0===t.enabled).length>1}onElementTimestampUpdate(t,n){n.playlistElementId&&!1!==n.enabled&&this.videoPlaylistService.updateVideoOfPlaylist(t.id,n.playlistElementId,{startTimestamp:n.startTimestamp,stopTimestamp:n.stopTimestamp},this.video.id).subscribe(()=>{this.notifier.success("Tempindikoj \u011Disdati\u011Dis")},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}isOptionalRowDisplayed(t){const n=t.elements.filter(t=>t.enabled);if(n.length>1)return!0;if(1===n.length){const t=n[0];if(t.startTimestamp&&0!==t.startTimestamp||t.stopTimestamp&&t.stopTimestamp!==this.video.duration)return!0}return!1}removeVideoFromPlaylist(t,n){this.videoPlaylistService.removeVideoFromPlaylist(t.id,n,this.video.id).subscribe(()=>{this.notifier.success("Filmo forigita de \n          " + t.displayName + "\n        ")},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}listenToVideoPlaylistChange(){this.unsubscribePlaylistChanges(),this.listenToPlaylistChangeSub=this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id).pipe(Object(a.a)(()=>!1===this.disabled)).subscribe(t=>this.rebuildPlaylists(t))}unsubscribePlaylistChanges(){this.listenToPlaylistChangeSub&&(this.listenToPlaylistChangeSub.unsubscribe(),this.listenToPlaylistChangeSub=void 0)}rebuildPlaylists(t){x("Got existing results for %d.",this.video.id,t);const n=this.videoPlaylists;this.videoPlaylists=[];for(const e of this.playlistsData){const o=t.filter(t=>t.playlistId===e.id),i={id:e.id,optionalRowDisplayed:!1,displayName:e.displayName,elements:o.map(t=>({enabled:!0,playlistElementId:t.playlistElementId,startTimestamp:t.startTimestamp||0,stopTimestamp:t.stopTimestamp||this.video.duration}))},c=n.find(t=>t.id===e.id);i.optionalRowDisplayed=c?c.optionalRowDisplayed:this.isOptionalRowDisplayed(i),this.videoPlaylists.push(i)}x("Rebuilt playlist state for video %d.",this.video.id,this.videoPlaylists),this.cd.markForCheck()}addVideoInPlaylist(t,n){const e={videoId:this.video.id};n.startTimestamp&&(e.startTimestamp=n.startTimestamp),n.stopTimestamp&&n.stopTimestamp!==this.video.duration&&(e.stopTimestamp=n.stopTimestamp),this.videoPlaylistService.addVideoInPlaylist(t.id,e).subscribe(o=>{const i=e.startTimestamp||e.stopTimestamp?"Filmo aldoni\u011Dis je \n          " + t.displayName + " je la tempo \n          " + this.formatTimestamp(n) + "\n        ":"Filmo al\u015Dutita je \n          " + t.displayName + "\n        ";this.notifier.success(i),n&&(n.playlistElementId=o.videoPlaylistElement.id)},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}formatTimestamp(t){return`(${t.startTimestamp?Object(l.k)(t.startTimestamp):""}-${t.stopTimestamp?Object(l.k)(t.stopTimestamp):""})`}}return t.\u0275fac=function(n){return new(n||t)(b.Qb(r.b),b.Qb(s.AuthService),b.Qb(s.Notifier),b.Qb(g.a),b.Qb(b.h))},t.\u0275cmp=b.Kb({type:t,selectors:[["my-video-add-to-playlist"]],inputs:{video:"video",currentVideoTimestamp:"currentVideoTimestamp",lazyLoad:"lazyLoad"},features:[b.Ab,b.Bb],decls:15,vars:4,consts:function(){return[[1,"root"],[1,"header"],[1,"first-row"],[1,"title"],"Konservi al",[1,"input-container"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],["placeholder","Ser\u0109i ludlistojn"],[1,"playlists"],["class","playlist dropdown-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"new-playlist-button","dropdown-item",3,"hidden","click"],["iconName","add","aria-hidden","true"],"Krei privatan ludliston",["class","new-playlist-block dropdown-item",3,"formGroup","ngSubmit",4,"ngIf"],[1,"playlist","dropdown-item",3,"ngClass"],[1,"primary-row"],[3,"disabled","inputName","ngModel","onPushWorkaround","click"],[1,"display-name",3,"click"],["class","optional-row-icon",3,"click",4,"ngIf"],["class","optional-rows",4,"ngIf"],[1,"optional-row-icon",3,"click"],[1,"optional-rows"],[1,"labels"],"Komenci je","\u0108esi je",[4,"ngFor","ngForOf"],[3,"inputName","ngModel","onPushWorkaround","click"],[3,"maxTimestamp","ngModel","ngModelChange","inputBlur"],["startAt",""],["stopAt",""],[1,"new-playlist-block","dropdown-item",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],"Prezenta nomo",["type","text","id","displayName","formControlName","displayName",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit",3,"disabled",6,"value"],["value","Create"],[1,"form-error"]]},template:function(t,n){1&t&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Wb(3,"div",3),b.ac(4,4),b.Vb(),b.Vb(),b.Vb(),b.Wb(5,"div",5),b.Wb(6,"input",6),b.cc(7,7),b.kc("ngModelChange",(function(t){return n.videoPlaylistSearch=t}))("ngModelChange",(function(){return n.onVideoPlaylistSearchChanged()})),b.Vb(),b.Vb(),b.Wb(8,"div",8),b.Tc(9,M,7,10,"div",9),b.Vb(),b.Wb(10,"div",10),b.kc("click",(function(t){return n.openCreateBlock(t)})),b.Rb(11,"my-global-icon",11),b.Wb(12,"span"),b.ac(13,12),b.Vb(),b.Vb(),b.Tc(14,w,8,6,"form",13),b.Vb()),2&t&&(b.Db(6),b.vc("ngModel",n.videoPlaylistSearch),b.Db(3),b.vc("ngForOf",n.videoPlaylists),b.Db(1),b.vc("hidden",n.isNewPlaylistBlockOpened),b.Db(4),b.vc("ngIf",n.isNewPlaylistBlockOpened))},directives:[u.c,u.s,u.v,p.t,m.a,p.u,p.r,h.a,v.a,u.I,u.t,u.l,u.j],styles:['.dropdown-item[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]{padding:8px 24px}.dropdown-item[_ngcontent-%COMP%]:active{color:inherit}.header[_ngcontent-%COMP%]{min-width:240px;margin-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.playlists[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto}.playlist[_ngcontent-%COMP%]{padding:8px 10px 8px 24px}.playlist.has-optional-row[_ngcontent-%COMP%]:hover{background-color:inherit}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]{display:flex}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:10px;align-self:center}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;margin:0;font-weight:400;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:19px;height:19px;margin-right:0}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-right:10px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext, .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext{padding:0;width:50px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 5px 5px 10px}.optional-rows[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{display:block;width:34px;margin-right:0!important}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{margin-left:34px;font-size:13px;color:var(--greyForegroundColor);padding-top:5px;padding-bottom:0}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:50px}.new-playlist-block[_ngcontent-%COMP%], .new-playlist-button[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid rgba(0,0,0,.1)}.new-playlist-button[_ngcontent-%COMP%]{cursor:pointer}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-1px;top:-1px;margin-right:4px;width:21px;height:21px}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:200px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}'],changeDetection:0}),t})()},Dmbs:function(t,n,e){"use strict";e.d(n,"a",(function(){return D}));var o=e("cp0P"),i=e("GyhO"),c=e("VRyK"),a=e("ey9i"),s=e("xMQD"),r=e("b613"),l=e("fXoL"),d=e("tyNb"),g=e("ofXK"),b=e("1kSV"),u=e("gY50"),p=e("gCBE");function m(t,n){1&t&&l.Sb(0)}function h(t,n){1&t&&l.ac(0,23)}function v(t,n){if(1&t&&(l.Wb(0,"span"),l.Vc(1),l.Ub(2),l.ac(3,25),l.Tb(),l.Vb()),2&t){const t=l.oc(3);l.Db(1),l.Yc("",t.subscribeStatus(!0).length,"/",t.subscribed.size," ")}}function C(t,n){if(1&t&&(l.Wb(0,"span"),l.ac(1,24),l.Vb(),l.Tc(2,v,4,2,"span",10)),2&t){const t=l.oc(2);l.Db(2),l.vc("ngIf",t.isAtLeastOneChannelSubscribed)}}function O(t,n){if(1&t&&(l.Wb(0,"span",26),l.Vc(1),l.pc(2,"myNumberFormatter"),l.Vb()),2&t){const t=l.oc(2);l.Db(1),l.Xc(" ",l.qc(2,1,t.videoChannels[0].followersCount)," ")}}const P=function(t){return{"extra-text":t}};function f(t,n){if(1&t&&(l.Wb(0,"span",18),l.Tc(1,m,1,0,"ng-container",19),l.Tc(2,h,1,0,"ng-template",null,20,l.Uc),l.Tc(4,C,3,1,"ng-template",null,21,l.Uc),l.Vb(),l.Tc(6,O,3,3,"span",22)),2&t){const t=l.Ic(3),n=l.Ic(5),e=l.oc();l.vc("ngClass",l.zc(5,P,e.isAtLeastOneChannelSubscribed)),l.Db(1),l.vc("ngIf",e.account)("ngIfThen",n)("ngIfElse",t),l.Db(5),l.vc("ngIf",!e.isBigButton&&e.displayFollowers&&e.videoChannels.length>1&&0!==e.videoChannel.followersCount)}}function M(t,n){}function _(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",28),l.kc("click",(function(){return l.Kc(t),l.oc(2).subscribe()})),l.Tc(1,M,0,0,"ng-template",29),l.Vb()}if(2&t){l.oc(2);const t=l.Ic(2);l.Db(1),l.vc("ngTemplateOutlet",t)}}function y(t,n){if(1&t){const t=l.Xb();l.Wb(0,"button",28),l.kc("click",(function(){return l.Kc(t),l.oc(2).unsubscribe()})),l.Ub(1),l.ac(2,30),l.Tb(),l.Vb()}if(2&t){const t=l.oc(2);l.Db(2),l.ec(t.account+""),l.bc(2)}}function w(t,n){if(1&t&&(l.Tc(0,_,2,1,"button",27),l.Tc(1,y,3,1,"button",27)),2&t){const t=l.oc();l.vc("ngIf",!t.isAllChannelsSubscribed),l.Db(1),l.vc("ngIf",t.isAllChannelsSubscribed)}}function x(t,n){1&t&&l.Sb(0)}function k(t,n){1&t&&l.Sb(0)}function T(t,n){1&t&&(l.Wb(0,"span"),l.ac(1,31),l.Vb())}function S(t,n){1&t&&(l.Wb(0,"span"),l.ac(1,32),l.Vb())}const V=function(t,n,e){return{"subscribe-button":t,"unsubscribe-button":n,big:e}};let D=(()=>{class t{constructor(t,n,e,o,i){this.authService=t,this.router=n,this.notifier=e,this.userSubscriptionService=o,this.videoService=i,this.displayFollowers=!1,this.size="normal",this.subscribed=new Map}get handle(){return this.account?this.account.nameWithHost:this.videoChannel.name+"@"+this.videoChannel.host}get channelHandle(){return this.getChannelHandler(this.videoChannel)}get uri(){return this.account?this.account.url:this.videoChannels[0].url}get rssUri(){return(this.account?this.videoService.getAccountFeedUrls(this.account.id).find(t=>"xml"===t.format):this.videoService.getVideoChannelFeedUrls(this.videoChannels[0].id).find(t=>"xml"===t.format)).url}get videoChannel(){return this.videoChannels[0]}get isAllChannelsSubscribed(){return this.subscribeStatus(!0).length===this.videoChannels.length}get isAtLeastOneChannelSubscribed(){return this.subscribeStatus(!0).length>0}get isBigButton(){return this.isUserLoggedIn()&&this.videoChannels.length>1&&this.isAtLeastOneChannelSubscribed}ngOnInit(){this.loadSubscribedStatus()}ngOnChanges(){this.ngOnInit()}subscribe(){return this.isUserLoggedIn()?this.localSubscribe():this.gotoLogin()}localSubscribe(){const t=this.subscribeStatus(!1),n=this.videoChannels.map(t=>this.getChannelHandler(t)).filter(n=>t.includes(n)).map(t=>this.userSubscriptionService.addSubscription(t));Object(o.a)(n).subscribe(()=>{this.notifier.success(this.account?"Abonanta \u0109iujn nunajn kanalojn de \n          " + this.account.displayName + ". Vi scii\u011Dos pri \u0109iuj \u011Diaj novaj filmoj.\n        ":"Abonanta je \n          " + this.videoChannels[0].displayName + ". Vi scii\u011Dos pri \u0109iuj \u011Diaj novaj filmoj.\n        ","Abonita")},t=>this.notifier.error(t.message))}unsubscribe(){this.isUserLoggedIn()&&this.localUnsubscribe()}localUnsubscribe(){const t=this.subscribeStatus(!0),n=this.videoChannels.map(t=>this.getChannelHandler(t)).filter(n=>t.includes(n)).map(t=>this.userSubscriptionService.deleteSubscription(t));Object(i.a)(...n).subscribe({complete:()=>{this.notifier.success(this.account?"Malabonis \u0109iujn kanalojn de \n          " + this.account.nameWithHost + "\n        ":"Malabonis \n          " + this.videoChannels[0].nameWithHost + "\n        ","Malabonita")},error:t=>this.notifier.error(t.message)})}isUserLoggedIn(){return this.authService.isLoggedIn()}gotoLogin(){this.router.navigate(["/login"])}subscribeStatus(t){const n=[];for(const[e,o]of this.subscribed.entries())o===t&&n.push(e);return n}getChannelHandler(t){return t.name+"@"+t.host}loadSubscribedStatus(){if(this.isUserLoggedIn())for(const t of this.videoChannels){const n=this.getChannelHandler(t);this.subscribed.set(n,!1),Object(c.a)(this.userSubscriptionService.listenToSubscriptionCacheChange(n),this.userSubscriptionService.doesSubscriptionExist(n)).subscribe(t=>this.subscribed.set(n,t),t=>this.notifier.error(t.message))}}}return t.\u0275fac=function(n){return new(n||t)(l.Qb(a.AuthService),l.Qb(d.h),l.Qb(a.Notifier),l.Qb(r.a),l.Qb(s.VideoService))},t.\u0275cmp=l.Kb({type:t,selectors:[["my-subscribe-button"]],inputs:{account:"account",videoChannels:"videoChannels",displayFollowers:"displayFollowers",size:"size"},features:[l.Bb],decls:23,vars:14,consts:function(){var t,n,e,o,i,c,a,s;return t="Per konto de ActivityPub",n="Aboni per Mastodona konto:",e="Per abonfluo",o="Aboni per RSS",i="Aboni",c="Aboni \u0109iujn kanalojn",a="kanaloj abonitaj",s="{VAR_SELECT, select, undefined {Malaboni} other {Malaboni \u0109iujn kanalojn}}",[[1,"btn-group-subscribe","btn-group",3,"ngClass"],["userLoggedOut",""],["userLoggedIn",""],[4,"ngIf","ngIfThen"],["ngbDropdown","","autoClose","outside","placement","bottom-right","role","group","aria-label","Multiple ways to subscribe to the current channel",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-sm","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],t,[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item","dropdown-item-neutral"],n,[3,"showHelp","uri"],[1,"dropdown-divider"],e,["target","_blank",1,"dropdown-item",3,"href"],o,[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["single",""],["multiple",""],["class","followers-count",4,"ngIf"],i,c,a,[1,"followers-count"],["type","button","class","btn btn-sm","role","button",3,"click",4,"ngIf"],["type","button","role","button",1,"btn","btn-sm",3,"click"],[3,"ngTemplateOutlet"],s=l.fc(s,{VAR_SELECT:"\ufffd0\ufffd"}),"Aboni per konto \u0109e tiu \u0109i nodo","Aboni per via loka konto"]},template:function(t,n){if(1&t&&(l.Wb(0,"div",0),l.Tc(1,f,7,7,"ng-template",null,1,l.Uc),l.Tc(3,w,2,2,"ng-template",null,2,l.Uc),l.Tc(5,x,1,0,"ng-container",3),l.Wb(6,"div",4),l.Wb(7,"button",5),l.Tc(8,k,1,0,"ng-container",3),l.Vb(),l.Wb(9,"div",6),l.Wb(10,"h6",7),l.ac(11,8),l.Vb(),l.Wb(12,"button",9),l.kc("click",(function(){return n.subscribe()})),l.Tc(13,T,2,0,"span",10),l.Tc(14,S,2,0,"span",10),l.Vb(),l.Wb(15,"button",11),l.ac(16,12),l.Vb(),l.Rb(17,"my-remote-subscribe",13),l.Rb(18,"div",14),l.Wb(19,"h6",7),l.ac(20,15),l.Vb(),l.Wb(21,"a",16),l.ac(22,17),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t){const t=l.Ic(2),e=l.Ic(4);l.vc("ngClass",l.Bc(10,V,!n.isAllChannelsSubscribed,n.isAllChannelsSubscribed,n.isBigButton)),l.Db(5),l.vc("ngIf",n.isUserLoggedIn())("ngIfThen",e),l.Db(3),l.vc("ngIf",!n.isUserLoggedIn())("ngIfThen",t),l.Db(5),l.vc("ngIf",!n.isUserLoggedIn()),l.Db(1),l.vc("ngIf",n.isUserLoggedIn()),l.Db(3),l.vc("showHelp",!0)("uri",n.uri),l.Db(4),l.vc("href",n.rssUri,l.Mc)}},directives:[g.r,g.u,b.e,b.j,b.h,u.a,g.B],pipes:[p.a],styles:['.btn-group-subscribe[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;float:right;padding:0}.btn-group-subscribe[_ngcontent-%COMP%]:active, .btn-group-subscribe[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]:not(.big){white-space:nowrap}.btn-group-subscribe.big[_ngcontent-%COMP%]{height:35px}.btn-group-subscribe.big[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:175px}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:80%}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:75%}.btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:3px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding-right:4px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:2px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{position:relative;top:1px}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   span.followers-count[_ngcontent-%COMP%]{padding-left:5px}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor);font-weight:600}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:hover{background-color:inherit}.btn-group-subscribe[_ngcontent-%COMP%]     form{padding:.25rem 1rem}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.extra-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:75%}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:60%;text-align:left}']}),t})()},HZcR:function(t,n,e){"use strict";e.d(n,"a",(function(){return _}));var o=e("mrSG"),i=e("fXoL"),c=e("ey9i"),a=e("HIM4"),s=e("xMQD"),r=(e("SZgj"),e("tTqN")),l=e("ofXK"),d=e("EcKj"),g=e("BYvb"),b=e("XZU/"),u=e("1kSV"),p=e("DTAc");const m=["playlistDropdown"],h=["playlistAdd"],v=["videoDownloadModal"],C=["videoReportModal"],O=["videoBlockModal"];function P(t,n){if(1&t){const t=i.Xb();i.Wb(0,"div",8,9),i.kc("openChange",(function(n){return i.Kc(t),i.Ic(5).openChange(n)})),i.Rb(2,"span",10),i.Wb(3,"div",11),i.Rb(4,"my-video-add-to-playlist",12,13),i.Vb(),i.Vb()}if(2&t){const t=i.oc(2);i.vc("placement",t.getPlaylistDropdownPlacement()),i.Db(4),i.vc("video",t.video)("lazyLoad",!0)}}const f=function(t){return{video:t}};function M(t,n){if(1&t){const t=i.Xb();i.Ub(0),i.Tc(1,P,6,3,"div",1),i.Wb(2,"my-action-dropdown",2),i.kc("click",(function(){return i.Kc(t),i.oc().loadDropdownInformation()})),i.Vb(),i.Rb(3,"my-video-download",null,3),i.Rb(5,"my-video-report",4,5),i.Wb(7,"my-video-block",6,7),i.kc("videoBlocked",(function(){return i.Kc(t),i.oc().onVideoBlocked()})),i.Vb(),i.Tb()}if(2&t){const t=i.oc();i.Db(1),i.vc("ngIf",t.isUserLoggedIn()&&t.displayOptions.playlist),i.Db(1),i.vc("actions",t.videoActions)("label",t.label)("entry",i.zc(10,f,t.video))("buttonSize",t.buttonSize)("placement",t.placement)("buttonDirection",t.buttonDirection)("buttonStyled",t.buttonStyled),i.Db(3),i.vc("video",t.video),i.Db(2),i.vc("video",t.video)}}let _=(()=>{class t{constructor(t,n,e,o,c,a,s,r){this.authService=t,this.notifier=n,this.confirmService=e,this.blocklistService=o,this.videoBlocklistService=c,this.screenService=a,this.videoService=s,this.redundancyService=r,this.videoCaptions=[],this.displayOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.placement="left",this.buttonStyled=!1,this.buttonSize="normal",this.buttonDirection="vertical",this.videoRemoved=new i.n,this.videoUnblocked=new i.n,this.videoBlocked=new i.n,this.videoAccountMuted=new i.n,this.modalOpened=new i.n,this.videoActions=[],this.loaded=!1}get user(){return this.authService.getUser()}ngOnChanges(){this.loaded&&(this.loaded=!1,this.playlistAdd.reload()),this.buildActions()}isUserLoggedIn(){return this.authService.isLoggedIn()}loadDropdownInformation(){this.isUserLoggedIn()&&!0!==this.loaded&&(this.loaded=!0,this.displayOptions.playlist&&this.playlistAdd.load())}showDownloadModal(){this.modalOpened.emit(),this.videoDownloadModal.show(this.video,this.videoCaptions)}showReportModal(){this.modalOpened.emit(),this.videoReportModal.show()}showBlockModal(){this.modalOpened.emit(),this.videoBlockModal.show()}isVideoUpdatable(){return this.video.isUpdatableBy(this.user)}isVideoRemovable(){return this.video.isRemovableBy(this.user)}isVideoBlockable(){return this.video.isBlockableBy(this.user)}isVideoUnblockable(){return this.video.isUnblockableBy(this.user)}isVideoDownloadable(){return this.video&&this.video instanceof s.VideoDetails&&this.video.downloadEnabled}canVideoBeDuplicated(){return this.video.canBeDuplicatedBy(this.user)}isVideoAccountMutable(){return this.video.account.id!==this.user.account.id}unblockVideo(){return Object(o.a)(this,void 0,void 0,(function*(){const t="\u0108u vi vere volas malbloki \u0109i tiun filmon? \u011Ci estos ree alirebla per la listo de filmoj.";!1!==(yield this.confirmService.confirm(t,"Malbloki"))&&this.videoBlocklistService.unblockVideo(this.video.id).subscribe(()=>{this.notifier.success("Filmo \n          " + this.video.name + " malblokita.\n        "),this.video.blacklisted=!1,this.video.blockedReason=null,this.videoUnblocked.emit()},t=>this.notifier.error(t.message))}))}removeVideo(){return Object(o.a)(this,void 0,void 0,(function*(){this.modalOpened.emit(),!1!==(yield this.confirmService.confirm("\u0108u vi vere volas el\u015Duti tiun \u0109i filmon?","Forigi"))&&this.videoService.removeVideo(this.video.id).subscribe(()=>{this.notifier.success("Filmo \n          " + this.video.name + " forigita.\n        "),this.videoRemoved.emit()},t=>this.notifier.error(t.message))}))}duplicateVideo(){this.redundancyService.addVideoRedundancy(this.video).subscribe(()=>{const t="Via nodo duobligos \u0109i tiun filmon.";this.notifier.success(t)},t=>this.notifier.error(t.message))}muteVideoAccount(){const t={nameWithHost:s.Actor.CREATE_BY_STRING(this.video.account.name,this.video.account.host)};this.blocklistService.blockAccountByUser(t).subscribe(()=>{this.notifier.success("Konto \n          " + t.nameWithHost + " silentigita.\n        "),this.videoAccountMuted.emit()},t=>this.notifier.error(t.message))}onVideoBlocked(){this.videoBlocked.emit()}getPlaylistDropdownPlacement(){return this.screenService.isInSmallView()?"bottom-right":"bottom-left bottom-right"}buildActions(){this.videoActions=[[{label:"Konservi al ludlisto",handler:()=>this.playlistDropdown.toggle(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.playlist,iconName:"playlist-add"}],[{label:"Download",handler:()=>this.showDownloadModal(),isDisplayed:()=>this.displayOptions.download&&this.isVideoDownloadable(),iconName:"download"},{label:"Update",linkBuilder:({video:t})=>["/videos/update",t.uuid],iconName:"edit",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.update&&this.isVideoUpdatable()},{label:"Bloki",handler:()=>this.showBlockModal(),iconName:"no",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.blacklist&&this.isVideoBlockable()},{label:"Malbloki",handler:()=>this.unblockVideo(),iconName:"undo",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.blacklist&&this.isVideoUnblockable()},{label:"Speguli",handler:()=>this.duplicateVideo(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.duplicate&&this.canVideoBeDuplicated(),iconName:"cloud-download"},{label:"Forigi",handler:()=>this.removeVideo(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.delete&&this.isVideoRemovable(),iconName:"delete"},{label:"Report",handler:()=>this.showReportModal(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.report,iconName:"flag"}],[{label:"Silentigi konton",handler:()=>this.muteVideoAccount(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.mute&&this.isVideoAccountMutable(),iconName:"no"}]]}}return t.\u0275fac=function(n){return new(n||t)(i.Qb(c.AuthService),i.Qb(c.Notifier),i.Qb(c.ConfirmService),i.Qb(a.c),i.Qb(a.g),i.Qb(c.ScreenService),i.Qb(s.VideoService),i.Qb(s.RedundancyService))},t.\u0275cmp=i.Kb({type:t,selectors:[["my-video-actions-dropdown"]],viewQuery:function(t,n){var e;1&t&&(i.Zc(m,!0),i.Zc(h,!0),i.Zc(v,!0),i.Zc(C,!0),i.Zc(O,!0)),2&t&&(i.Hc(e=i.lc())&&(n.playlistDropdown=e.first),i.Hc(e=i.lc())&&(n.playlistAdd=e.first),i.Hc(e=i.lc())&&(n.videoDownloadModal=e.first),i.Hc(e=i.lc())&&(n.videoReportModal=e.first),i.Hc(e=i.lc())&&(n.videoBlockModal=e.first))},inputs:{video:"video",videoCaptions:"videoCaptions",displayOptions:"displayOptions",placement:"placement",label:"label",buttonStyled:"buttonStyled",buttonSize:"buttonSize",buttonDirection:"buttonDirection"},outputs:{videoRemoved:"videoRemoved",videoUnblocked:"videoUnblocked",videoBlocked:"videoBlocked",videoAccountMuted:"videoAccountMuted",modalOpened:"modalOpened"},features:[i.Bb],decls:1,vars:1,consts:[[4,"ngIf"],["class","playlist-dropdown","ngbDropdown","","role","button","autoClose","outside",3,"placement","openChange",4,"ngIf"],[3,"actions","label","entry","buttonSize","placement","buttonDirection","buttonStyled","click"],["videoDownloadModal",""],[3,"video"],["videoReportModal",""],[3,"video","videoBlocked"],["videoBlockModal",""],["ngbDropdown","","role","button","autoClose","outside",1,"playlist-dropdown",3,"placement","openChange"],["playlistDropdown","ngbDropdown"],["ngbDropdownAnchor","",1,"anchor"],["ngbDropdownMenu",""],[3,"video","lazyLoad"],["playlistAdd",""]],template:function(t,n){1&t&&i.Tc(0,M,9,12,"ng-container",0),2&t&&i.vc("ngIf",0!==n.videoActions.length)},directives:[l.u,d.a,r.a,g.a,b.a,u.e,u.f,u.h,p.a],styles:[".playlist-dropdown[_ngcontent-%COMP%]{position:absolute}.playlist-dropdown[_ngcontent-%COMP%]   .anchor[_ngcontent-%COMP%]{display:block;opacity:0}  .icon-playlist-add{left:2px}"]}),t})()},JEFd:function(t,n,e){"use strict";e.d(n,"a",(function(){return o.a})),e.d(n,"b",(function(){return g}));var o=e("s/vm"),i=(e("HZcR"),e("tTqN"),e("MUmz"),e("UT6+"),e("sWvm")),c=e("P8w3"),a=e("Nmku"),s=e("HIM4"),r=e("PcNq"),l=e("aW0q"),d=e("fXoL");let g=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(n){return new(n||t)},providers:[],imports:[[a.a,i.c,s.f,l.a,r.a,c.a]]}),t})()},MUmz:function(t,n,e){"use strict";e.d(n,"a",(function(){return A}));var o=e("eIep"),i=e("fXoL"),c=e("ey9i"),a=(e("xMQD"),e("SZgj")),s=e("ofXK"),r=e("qZuT"),l=e("tyNb"),d=e("4Gki"),g=e("HZcR"),b=e("gCBE");function u(t,n){1&t&&(i.Ub(0,22),i.ac(1,23),i.Tb())}function p(t,n){1&t&&(i.Ub(0,24),i.ac(1,25),i.Tb())}const m=function(t){return["/video-channels",t]};function h(t,n){if(1&t&&(i.Wb(0,"a",26),i.Rb(1,"img",27),i.Vb()),2&t){const t=i.oc();i.vc("routerLink",i.zc(3,m,t.video.byVideoChannel))("title",t.channelLinkTitle),i.Db(1),i.vc("src",t.getAvatarUrl(),i.Mc)}}const v=function(t){return{"blur-filter":t}};function C(t,n){if(1&t&&(i.Wb(0,"a",28),i.Vc(1),i.Vb()),2&t){const t=i.oc();i.vc("routerLink",t.videoRouterLink)("ngClass",i.zc(4,v,t.isVideoBlur)),i.Eb("title",t.video.name),i.Db(1),i.Wc(t.video.name)}}function O(t,n){if(1&t&&(i.Wb(0,"a",29),i.Vc(1),i.Vb()),2&t){const t=i.oc();i.vc("href",t.videoHref,i.Mc)("target",t.videoTarget)("ngClass",i.zc(5,v,t.isVideoBlur)),i.Eb("title",t.video.name),i.Db(1),i.Wc(t.video.name)}}function P(t,n){if(1&t&&i.Rb(0,"my-date-toggle",30),2&t){const t=i.oc();i.vc("date",t.video.publishedAt)}}function f(t,n){1&t&&(i.Ub(0),i.Vc(1," \u2022 "),i.Tb())}function M(t,n){if(1&t&&(i.Ub(0),i.ac(1,31),i.pc(2,"myNumberFormatter"),i.Tb()),2&t){const t=i.oc();i.Db(2),i.ec(t.video.views)(i.qc(2,2,t.video.views)),i.bc(1)}}const _=function(t){return["/accounts",t]};function y(t,n){if(1&t&&(i.Wb(0,"a",32),i.Vc(1),i.Vb()),2&t){const t=i.oc();i.vc("routerLink",i.zc(2,_,t.video.byAccount)),i.Db(1),i.Xc(" ",t.video.byAccount," ")}}function w(t,n){if(1&t&&(i.Wb(0,"a",33),i.Vc(1),i.Vb()),2&t){const t=i.oc();i.vc("routerLink",i.zc(2,m,t.video.byVideoChannel)),i.Db(1),i.Xc(" ",t.video.byVideoChannel," ")}}function x(t,n){if(1&t&&(i.Ub(0),i.Vc(1),i.Tb()),2&t){const t=i.oc();i.Db(1),i.Wc(t.video.privacy.label)}}function k(t,n){1&t&&(i.Ub(0),i.Vc(1," - "),i.Tb())}function T(t,n){if(1&t&&(i.Ub(0),i.Vc(1),i.Tb()),2&t){const t=i.oc();i.Db(1),i.Wc(t.getStateLabel(t.video))}}function S(t,n){if(1&t&&(i.Wb(0,"span",38),i.Vc(1),i.Vb()),2&t){const t=i.oc(2);i.Db(1),i.Wc(t.video.blockedReason)}}function V(t,n){if(1&t&&(i.Wb(0,"div",34),i.Wb(1,"span",35),i.ac(2,36),i.Vb(),i.Tc(3,S,2,1,"span",37),i.Vb()),2&t){const t=i.oc();i.Db(3),i.vc("ngIf",t.video.blockedReason)}}function D(t,n){1&t&&(i.Wb(0,"div",39),i.ac(1,40),i.Vb())}function I(t,n){if(1&t){const t=i.Xb();i.Wb(0,"my-video-actions-dropdown",41),i.kc("videoRemoved",(function(){return i.Kc(t),i.oc().onVideoRemoved()}))("videoBlocked",(function(){return i.Kc(t),i.oc().onVideoBlocked()}))("videoUnblocked",(function(){return i.Kc(t),i.oc().onVideoUnblocked()}))("videoAccountMuted",(function(){return i.Kc(t),i.oc().onVideoAccountMuted()})),i.Vb()}if(2&t){const t=i.oc();i.vc("video",t.video)("displayOptions",t.videoActionsDisplayOptions)}}const L=function(t,n){return{"display-as-row":t,"fit-width":n}};let A=(()=>{class t{constructor(t,n,e,o,c,a){this.screenService=t,this.serverService=n,this.authService=e,this.videoPlaylistService=o,this.cd=c,this.localeId=a,this.ownerDisplayType="account",this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.displayAsRow=!1,this.displayVideoActions=!0,this.fitWidth=!1,this.videoLinkType="internal",this.videoBlocked=new i.n,this.videoUnblocked=new i.n,this.videoRemoved=new i.n,this.videoAccountMuted=new i.n,this.videoActionsDisplayOptions={playlist:!0,download:!1,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.showActions=!1,this.channelLinkTitle="",this.videoRouterLink=[]}get isVideoBlur(){return this.video.isVideoNSFWForUser(this.user,this.serverConfig)}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(t=>{this.serverConfig=t,this.buildVideoLink()}),this.setUpBy(),this.channelLinkTitle="\n          " + this.video.channel.name + " (pa\u011Do de kanalo)\n        ",this.screenService.isInTouchScreen()&&this.loadActions()}buildVideoLink(){if("internal"!==this.videoLinkType&&this.video.url)return"external"===this.videoLinkType?(this.videoRouterLink=null,this.videoHref=this.video.url,void(this.videoTarget="_blank")):void(this.videoRouterLink=["/search/lazy-load-video",{url:this.video.url}]);this.videoRouterLink=["/videos/watch",this.video.uuid]}displayOwnerAccount(){return"account"===this.ownerDisplayTypeChosen}displayOwnerVideoChannel(){return"videoChannel"===this.ownerDisplayTypeChosen}isUnlistedVideo(){return 2===this.video.privacy.id}isPrivateVideo(){return 3===this.video.privacy.id}getStateLabel(t){if(!t.state)return"";if(3!==t.privacy.id&&1===t.state.id)return "Publikigita";if(t.scheduledUpdate){const n=new Date(t.scheduledUpdate.updateAt.toString()).toLocaleString(this.localeId);return "Publication scheduled on "+n}return 2===t.state.id&&!0===t.waitTranscoding?"Atendanta transkodadon":2===t.state.id?"Transkodotaj":3===t.state.id?"Enportotaj":""}getAvatarUrl(){return"account"===this.ownerDisplayTypeChosen?this.video.accountAvatarUrl:this.video.videoChannelAvatarUrl}loadActions(){this.displayVideoActions&&(this.showActions=!0),this.loadWatchLater()}onVideoBlocked(){this.videoBlocked.emit()}onVideoUnblocked(){this.videoUnblocked.emit()}onVideoRemoved(){this.videoRemoved.emit()}onVideoAccountMuted(){this.videoAccountMuted.emit()}isUserLoggedIn(){return this.authService.isLoggedIn()}onWatchLaterClick(t){!0===t?this.removeFromWatchLater():this.addToWatchLater(),this.inWatchLaterPlaylist=!t}addToWatchLater(){this.videoPlaylistService.addVideoInPlaylist(this.watchLaterPlaylist.id,{videoId:this.video.id}).subscribe(t=>{this.watchLaterPlaylist.playlistElementId=t.videoPlaylistElement.id})}removeFromWatchLater(){this.videoPlaylistService.removeVideoFromPlaylist(this.watchLaterPlaylist.id,this.watchLaterPlaylist.playlistElementId,this.video.id).subscribe(t=>{})}isWatchLaterPlaylistDisplayed(){return this.displayVideoActions&&this.isUserLoggedIn()&&void 0!==this.inWatchLaterPlaylist}setUpBy(){this.ownerDisplayTypeChosen="account"!==this.ownerDisplayType&&"videoChannel"!==this.ownerDisplayType?this.video.channel.name===this.video.account.name+"_channel"||this.video.channel.name.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?"account":"videoChannel":this.ownerDisplayType}loadWatchLater(){this.isUserLoggedIn()&&void 0===this.inWatchLaterPlaylist&&(this.authService.userInformationLoaded.pipe(Object(o.a)(()=>this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id))).subscribe(t=>{const n=this.authService.getUser().specialPlaylists.find(t=>2===t.type),e=t.find(t=>t.playlistId===n.id);this.inWatchLaterPlaylist=!1,this.watchLaterPlaylist={id:n.id},e&&(this.inWatchLaterPlaylist=!0,this.watchLaterPlaylist.playlistElementId=e.playlistElementId),this.cd.markForCheck()}),this.videoPlaylistService.runPlaylistCheck(this.video.id))}}return t.\u0275fac=function(n){return new(n||t)(i.Qb(c.ScreenService),i.Qb(c.ServerService),i.Qb(c.AuthService),i.Qb(a.b),i.Qb(i.h),i.Qb(i.w))},t.\u0275cmp=i.Kb({type:t,selectors:[["my-video-miniature"]],inputs:{user:"user",video:"video",ownerDisplayType:"ownerDisplayType",displayOptions:"displayOptions",displayAsRow:"displayAsRow",displayVideoActions:"displayVideoActions",fitWidth:"fitWidth",videoLinkType:"videoLinkType"},outputs:{videoBlocked:"videoBlocked",videoUnblocked:"videoUnblocked",videoRemoved:"videoRemoved",videoAccountMuted:"videoAccountMuted"},decls:26,vars:27,consts:function(){var t,n,e;return t="Nelistigata",n="Privata",e="{VAR_PLURAL, plural, =1 {1 rigardo} other {{INTERPOLATION} rigardoj}}",[[1,"video-miniature",3,"ngClass","mouseenter"],[3,"video","nsfw","videoRouterLink","videoHref","videoTarget","displayWatchLaterPlaylist","inWatchLaterPlaylist","watchLaterClick"],["ngProjectAs","label-warning",5,["label-warning"],4,"ngIf"],["ngProjectAs","label-danger",5,["label-danger"],4,"ngIf"],[1,"video-bottom"],[1,"video-miniature-information"],[1,"d-inline-flex","video-miniature-meta"],["class","avatar",3,"routerLink","title",4,"ngIf"],[1,"w-100","d-flex","flex-column"],["tabindex","-1","class","video-miniature-name",3,"routerLink","ngClass",4,"ngIf"],["tabindex","-1","class","video-miniature-name",3,"href","target","ngClass",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date",4,"ngIf"],[1,"views"],[4,"ngIf"],["tabindex","-1","class","video-miniature-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-miniature-channel",3,"routerLink",4,"ngIf"],[1,"video-info-privacy"],["class","video-info-blocked",4,"ngIf"],["class","video-info-nsfw",4,"ngIf"],[1,"video-actions"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted",4,"ngIf"],["ngProjectAs","label-warning",5,["label-warning"]],t,["ngProjectAs","label-danger",5,["label-danger"]],n,[1,"avatar",3,"routerLink","title"],["alt","",3,"src"],["tabindex","-1",1,"video-miniature-name",3,"routerLink","ngClass"],["tabindex","-1",1,"video-miniature-name",3,"href","target","ngClass"],[3,"date"],e=i.fc(e,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),["tabindex","-1",1,"video-miniature-account",3,"routerLink"],["tabindex","-1",1,"video-miniature-channel",3,"routerLink"],[1,"video-info-blocked"],[1,"blocked-label"],"Blokita",["class","blocked-reason",4,"ngIf"],[1,"blocked-reason"],[1,"video-info-nsfw"],"\n        Konsterna\n      ",["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted"]]},template:function(t,n){1&t&&(i.Wb(0,"div",0),i.kc("mouseenter",(function(){return n.loadActions()})),i.Wb(1,"my-video-thumbnail",1),i.kc("watchLaterClick",(function(t){return n.onWatchLaterClick(t)})),i.Tc(2,u,2,0,"ng-container",2),i.Tc(3,p,2,0,"ng-container",3),i.Vb(),i.Wb(4,"div",4),i.Wb(5,"div",5),i.Wb(6,"div",6),i.Tc(7,h,2,5,"a",7),i.Wb(8,"div",8),i.Tc(9,C,2,6,"a",9),i.Tc(10,O,2,7,"a",10),i.Wb(11,"span",11),i.Tc(12,P,1,1,"my-date-toggle",12),i.Wb(13,"span",13),i.Tc(14,f,2,0,"ng-container",14),i.Tc(15,M,3,4,"ng-container",14),i.Vb(),i.Vb(),i.Tc(16,y,2,4,"a",15),i.Tc(17,w,2,4,"a",16),i.Wb(18,"div",17),i.Tc(19,x,2,1,"ng-container",14),i.Tc(20,k,2,0,"ng-container",14),i.Tc(21,T,2,1,"ng-container",14),i.Vb(),i.Vb(),i.Vb(),i.Tc(22,V,4,1,"div",18),i.Tc(23,D,2,0,"div",19),i.Vb(),i.Wb(24,"div",20),i.Tc(25,I,1,2,"my-video-actions-dropdown",21),i.Vb(),i.Vb(),i.Vb()),2&t&&(i.vc("ngClass",i.Ac(24,L,n.displayAsRow,n.fitWidth)),i.Db(1),i.vc("video",n.video)("nsfw",n.isVideoBlur)("videoRouterLink",n.videoRouterLink)("videoHref",n.videoHref)("videoTarget",n.videoTarget)("displayWatchLaterPlaylist",n.isWatchLaterPlaylistDisplayed())("inWatchLaterPlaylist",n.inWatchLaterPlaylist),i.Db(1),i.vc("ngIf",n.displayOptions.privacyLabel&&n.isUnlistedVideo()),i.Db(1),i.vc("ngIf",n.displayOptions.privacyLabel&&n.isPrivateVideo()),i.Db(4),i.vc("ngIf",n.displayOptions.avatar),i.Db(2),i.vc("ngIf",!n.videoHref),i.Db(1),i.vc("ngIf",n.videoHref),i.Db(2),i.vc("ngIf",n.displayOptions.date),i.Db(2),i.vc("ngIf",n.displayOptions.date&&n.displayOptions.views),i.Db(1),i.vc("ngIf",n.displayOptions.views),i.Db(1),i.vc("ngIf",n.displayOptions.by&&n.displayOwnerAccount()),i.Db(1),i.vc("ngIf",n.displayOptions.by&&n.displayOwnerVideoChannel()),i.Db(2),i.vc("ngIf",n.displayOptions.privacyText),i.Db(1),i.vc("ngIf",n.displayOptions.privacyText&&n.displayOptions.state&&n.getStateLabel(n.video)),i.Db(1),i.vc("ngIf",n.displayOptions.state),i.Db(1),i.vc("ngIf",n.displayOptions.blacklistInfo&&n.video.blacklisted),i.Db(1),i.vc("ngIf",n.displayOptions.nsfw&&n.video.nsfw),i.Db(2),i.vc("ngIf",n.showActions))},directives:[s.r,r.a,s.u,l.k,d.a,g.a],pipes:[b.a],styles:['.video-miniature[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;padding-bottom:15px;vertical-align:top}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{display:flex}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:183px;line-height:normal}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:10px 10px 0 0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:40px;height:40px;min-width:40px;min-height:40px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.2em;font-size:1.1em;line-height:1.1em;overflow:hidden;text-overflow:ellipsis;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);margin-top:10px;margin-bottom:5px;width:calc(100% - 40px)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-meta[_ngcontent-%COMP%]{width:calc(100% + 40px);overflow:hidden}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{display:block;font-size:13px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;color:var(--greyForegroundColor)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{color:#303030}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-label[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-weight:600}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-reason[_ngcontent-%COMP%]:before{content:" - "}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin-top:3px;width:40px;height:30px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root:not(.show){opacity:0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .playlist-dropdown.show+my-action-dropdown .dropdown-root{opacity:1}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon{opacity:.6}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon:hover{opacity:1}@media screen and (max-width:800px){.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{margin:0 10px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root{opacity:1!important}}.video-miniature[_ngcontent-%COMP%]:hover   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root, .video-miniature[_ngcontent-%COMP%]:hover     .video-thumbnail .video-thumbnail-actions-overlay{opacity:1}.video-miniature.fit-width[_ngcontent-%COMP%]{width:100%}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{width:100%!important}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:calc(100% - 40px)!important}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{position:absolute;width:100%;height:100%;top:0}.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:row;padding-bottom:0;height:auto;display:flex;flex-grow:1}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:10px}@media screen and (min-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:auto;min-width:500px}}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin-top:2px;margin-bottom:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:95%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%] + .video-miniature-channel[_ngcontent-%COMP%]{margin-top:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{margin-top:3px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}@media screen and (max-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{min-width:0}}'],changeDetection:0}),t})()},OsX3:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e("D0XW"),i=e("7o/Q"),c=e("z+Ro");function a(t){let n=arguments.length,e=o.a;Object(c.a)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],n--);let i=null;n>=2&&(i=arguments[1]);let a=Number.POSITIVE_INFINITY;return n>=3&&(a=arguments[2]),function(n){return n.lift(new s(t,i,a,e))}}class s{constructor(t,n,e,o){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=e,this.scheduler=o}call(t,n){return n.subscribe(new l(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class r{constructor(){this.buffer=[]}}class l extends i.a{constructor(t,n,e,o,i){super(t),this.bufferTimeSpan=n,this.bufferCreationInterval=e,this.maxBufferSize=o,this.scheduler=i,this.contexts=[];const c=this.openContext();if(this.timespanOnly=null==e||e<0,this.timespanOnly)this.add(c.closeAction=i.schedule(d,n,{subscriber:this,context:c,bufferTimeSpan:n}));else{const t={bufferTimeSpan:n,bufferCreationInterval:e,subscriber:this,scheduler:i};this.add(c.closeAction=i.schedule(b,n,{subscriber:this,context:c})),this.add(i.schedule(g,e,t))}}_next(t){const n=this.contexts,e=n.length;let o;for(let i=0;i<e;i++){const e=n[i],c=e.buffer;c.push(t),c.length==this.maxBufferSize&&(o=e)}o&&this.onBufferFull(o)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:n}=this;for(;t.length>0;){const e=t.shift();n.next(e.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();const n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(d,n,{subscriber:this,context:t,bufferTimeSpan:n}))}}openContext(){const t=new r;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const n=this.contexts;(n?n.indexOf(t):-1)>=0&&n.splice(n.indexOf(t),1)}}function d(t){const n=t.subscriber,e=t.context;e&&n.closeContext(e),n.closed||(t.context=n.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function g(t){const{bufferCreationInterval:n,bufferTimeSpan:e,subscriber:o,scheduler:i}=t,c=o.openContext();o.closed||(o.add(c.closeAction=i.schedule(b,e,{subscriber:o,context:c})),this.schedule(t,n))}function b(t){const{subscriber:n,context:e}=t;n.closeContext(e)}},PcNq:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e("qZuT");var o=e("P8w3"),i=e("Nmku"),c=e("fXoL");let a=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(n){return new(n||t)},providers:[],imports:[[i.a,o.a]]}),t})()},Pehk:function(t,n,e){"use strict";e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return c})),e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return s})),e.d(n,"e",(function(){return r}));var o=e("3Pt+");const i={VALIDATORS:[o.G.required,o.G.minLength(1),o.G.maxLength(120)],MESSAGES:{required:"Necesas prezenta nomo.",minlength:"Vidiga nomo devas havi almena\u016D 1 signon.",maxlength:"Prezenta nomo ne povas havi pli ol 120 signojn."}},c={VALIDATORS:[o.G.required],MESSAGES:{required:"Privateco estas postulata."}},a={VALIDATORS:[o.G.minLength(3),o.G.maxLength(1e3)],MESSAGES:{minlength:"Priskribo havu almena\u016D 3 signojn.",maxlength:"Priskribo ne povas havi pli ol 1000 signojn."}},s={VALIDATORS:[],MESSAGES:{required:"Tiu \u0109i kanalo estas postulata kiam la ludlisto estas publika."}};function r(t,n){n.toString()===1..toString()?t.setValidators([o.G.required]):t.setValidators(null),t.markAsDirty(),t.updateValueAndValidity()}},SZgj:function(t,n,e){"use strict";e("DTAc"),e("2Qox"),e("DQE6"),e("dTdE"),e("a9tR");var o=e("4Yo8");e.d(n,"b",(function(){return o.a}));var i=e("aW0q");e.d(n,"a",(function(){return i.a}))},"UT6+":function(t,n,e){"use strict";e.d(n,"a",(function(){return P}));var o=e("fXoL"),i=e("ey9i"),c=e("xMQD"),a=e("s/vm"),s=e("tyNb"),r=e("ofXK"),l=e("UjHu"),d=e("/xt7"),g=e("3Pt+"),b=e("MUmz");function u(t,n){1&t&&(o.Wb(0,"div",3),o.ac(1,4),o.Vb())}function p(t,n){1&t&&o.Sb(0)}function m(t,n){if(1&t){const t=o.Xb();o.Wb(0,"div",11),o.Wb(1,"div",12),o.Wb(2,"span",13),o.kc("click",(function(){return o.Kc(t),o.oc(2).abortSelectionMode()})),o.ac(3,14),o.Vb(),o.Tc(4,p,1,0,"ng-container",15),o.Vb(),o.Vb()}if(2&t){const t=o.oc(2);o.Db(4),o.vc("ngTemplateOutlet",t.globalButtonsTemplate)}}function h(t,n){1&t&&o.Sb(0)}const v=function(t){return{$implicit:t}};function C(t,n){if(1&t&&(o.Ub(0),o.Tc(1,h,1,0,"ng-container",16),o.Tb()),2&t){const t=o.oc().$implicit,n=o.oc();o.Db(1),o.vc("ngTemplateOutlet",n.rowButtonsTemplate)("ngTemplateOutletContext",o.zc(2,v,t))}}function O(t,n){if(1&t){const t=o.Xb();o.Wb(0,"div",5),o.Wb(1,"div",6),o.Wb(2,"my-peertube-checkbox",7),o.kc("ngModelChange",(function(e){o.Kc(t);const i=n.$implicit;return o.oc()._selection[i.id]=e})),o.Vb(),o.Vb(),o.Rb(3,"my-video-miniature",8),o.Tc(4,m,5,1,"div",9),o.Tc(5,C,2,4,"ng-container",10),o.Vb()}if(2&t){const t=n.$implicit,e=n.index,i=o.oc();o.Db(2),o.vc("inputName","video-check-"+t.id)("ngModel",i._selection[t.id]),o.Db(1),o.vc("video",t)("displayAsRow",!0)("displayOptions",i.miniatureDisplayOptions)("displayVideoActions",!1)("ownerDisplayType",i.ownerDisplayType),o.Db(1),o.vc("ngIf",!0===i.isInSelectionMode()&&0===e),o.Db(1),o.vc("ngIf",!1===i.isInSelectionMode())}}let P=(()=>{class t extends a.a{constructor(t,n,e,i,c,a,s,r){super(),this.router=t,this.route=n,this.notifier=e,this.authService=i,this.userService=c,this.screenService=a,this.storageService=s,this.serverService=r,this.selectionChange=new o.n,this.videosModelChange=new o.n,this._selection={}}get selection(){return this._selection}set selection(t){this._selection=t,this.selectionChange.emit(this._selection)}get videosModel(){return this.videos}set videosModel(t){this.videos=t,this.videosModelChange.emit(this.videos)}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){{const t=this.templates.find(t=>"rowButtons"===t.name);t&&(this.rowButtonsTemplate=t.template)}{const t=this.templates.find(t=>"globalButtons"===t.name);t&&(this.globalButtonsTemplate=t.template)}}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(t){return this.getVideosObservableFunction(t,this.sort)}abortSelectionMode(){this._selection={}}isInSelectionMode(){return Object.keys(this._selection).some(t=>!0===this._selection[t])}generateSyndicationList(){throw new Error("Method not implemented.")}onMoreVideos(){this.videosModel=this.videos}}return t.\u0275fac=function(n){return new(n||t)(o.Qb(s.h),o.Qb(s.a),o.Qb(i.Notifier),o.Qb(i.AuthService),o.Qb(i.UserService),o.Qb(i.ScreenService),o.Qb(i.LocalStorageService),o.Qb(i.ServerService))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-videos-selection"]],contentQueries:function(t,n,e){var i;1&t&&o.Jb(e,c.PeerTubeTemplateDirective,!1),2&t&&o.Hc(i=o.lc())&&(n.templates=i)},inputs:{pagination:"pagination",titlePage:"titlePage",miniatureDisplayOptions:"miniatureDisplayOptions",ownerDisplayType:"ownerDisplayType",getVideosObservableFunction:"getVideosObservableFunction",selection:"selection",videosModel:"videosModel"},outputs:{selectionChange:"selectionChange",videosModelChange:"videosModelChange"},features:[o.Ab],decls:3,vars:5,consts:function(){return[["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results"],"Nenio trovi\u011Dis.",[1,"video"],[1,"checkbox-container"],[3,"inputName","ngModel","ngModelChange"],[3,"video","displayAsRow","displayOptions","displayVideoActions","ownerDisplayType"],["class","action-selection-mode",4,"ngIf"],[4,"ngIf"],[1,"action-selection-mode"],[1,"action-selection-mode-child"],[1,"action-button","action-button-cancel-selection",3,"click"],"\n          Nuligi\n        ",[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(t,n){1&t&&(o.Tc(0,u,2,0,"div",0),o.Wb(1,"div",1),o.kc("nearOfBottom",(function(){return n.onNearOfBottom()})),o.Tc(2,O,6,9,"div",2),o.Vb()),2&t&&(o.vc("ngIf",0===n.pagination.totalItems),o.Db(1),o.vc("autoInit",!0)("dataObservable",n.onDataSubject.asObservable()),o.Db(1),o.vc("ngForOf",n.videos)("ngForTrackBy",n.videoById))},directives:[r.u,l.a,r.t,d.a,g.s,g.v,b.a,r.B],styles:['.action-selection-mode[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]{position:fixed}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-left:55px}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.focus-visible[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:active, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:hover, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{cursor:default}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;margin-left:12px}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:none}.video[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-top:10px}.action-selection-mode[_ngcontent-%COMP%]{display:none}}']}),t})()},a9tR:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e("6rF9"),i=e("xMQD"),c=e("UozT");class a{constructor(t,n){const e=Object(o.e)();this.id=t.id,this.uuid=t.uuid,this.isLocal=t.isLocal,this.displayName=t.displayName,this.description=t.description,this.privacy=t.privacy,this.thumbnailPath=t.thumbnailPath,this.thumbnailPath?(this.thumbnailUrl=e+t.thumbnailPath,this.originThumbnailUrl=this.thumbnailUrl):this.thumbnailUrl=window.location.origin+"/client/assets/images/default-playlist.jpg",this.embedPath=t.embedPath,this.embedUrl=Object(o.f)()+t.embedPath,this.videosLength=t.videosLength,this.type=t.type,this.createdAt=new Date(t.createdAt),this.updatedAt=new Date(t.updatedAt),this.ownerAccount=t.ownerAccount,this.ownerBy=i.Actor.CREATE_BY_STRING(t.ownerAccount.name,t.ownerAccount.host),this.ownerAvatarUrl=i.Actor.GET_ACTOR_AVATAR_URL(this.ownerAccount),t.videoChannel&&(this.videoChannel=t.videoChannel,this.videoChannelBy=i.Actor.CREATE_BY_STRING(t.videoChannel.name,t.videoChannel.host),this.videoChannelAvatarUrl=i.Actor.GET_ACTOR_AVATAR_URL(this.videoChannel)),this.privacy.label=Object(c.h)(this.privacy.label,n),2===this.type.id&&(this.displayName=Object(c.h)(this.displayName,n))}refreshThumbnail(){this.originThumbnailUrl&&(this.thumbnailVersion||(this.thumbnailVersion=0),this.thumbnailVersion++,this.thumbnailUrl=this.originThumbnailUrl+"?v"+this.thumbnailVersion)}}},aW0q:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var o=e("sWvm"),i=e("P8w3"),c=e("Nmku"),a=e("PcNq"),s=e("4Yo8"),r=e("fXoL");let l=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(n){return new(n||t)},providers:[s.a],imports:[[c.a,o.c,a.a,i.a]]}),t})()},b613:function(t,n,e){"use strict";e.d(n,"a",(function(){return w}));var o=e("NOtv"),i=e("BeL+"),c=e("jtHE"),a=e("XNiG"),s=e("VRyK"),r=e("D0XW"),l=e("LRne"),d=e("OsX3"),g=e("pLZG"),b=e("lJxs"),u=e("pxpQ"),p=e("eIep"),m=e("w1tV"),h=e("JIr8"),v=e("vkgz"),C=e("tk/3"),O=e("ey9i"),P=e("6rF9"),f=e("xMQD"),M=e("AytR"),_=e("fXoL");const y=o("peertube:subscriptions:UserSubscriptionService");let w=(()=>{class t{constructor(t,n,e,o,l){this.authHttp=t,this.restExtractor=n,this.videoService=e,this.restService=o,this.ngZone=l,this.existsSubject=new c.a(1),this.myAccountSubscriptionCache={},this.myAccountSubscriptionCacheObservable={},this.myAccountSubscriptionCacheSubject=new a.a,this.existsObservable=Object(s.a)(this.existsSubject.pipe(Object(d.a)(500,Object(P.k)(this.ngZone,r.b)),Object(g.a)(t=>0!==t.length),Object(b.a)(t=>Object(i.a)(t)),Object(u.b)(Object(P.d)(this.ngZone,r.b)),Object(p.a)(t=>this.doSubscriptionsExist(t)),Object(m.a)()),this.myAccountSubscriptionCacheSubject)}getUserSubscriptionVideos(n){const{videoPagination:e,sort:o,skipCount:i}=n,c=this.restService.componentPaginationToRestPagination(e);let a=new C.f;return a=this.restService.addRestGetParams(a,c,o),i&&(a=a.set("skipCount",i+"")),this.authHttp.get(t.BASE_USER_SUBSCRIPTIONS_URL+"/videos",{params:a}).pipe(Object(p.a)(t=>this.videoService.extractVideos(t)),Object(h.a)(t=>this.restExtractor.handleError(t)))}deleteSubscription(n){return this.authHttp.delete(t.BASE_USER_SUBSCRIPTIONS_URL+"/"+n).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(v.a)(()=>{this.myAccountSubscriptionCache[n]=!1,this.myAccountSubscriptionCacheSubject.next(this.myAccountSubscriptionCache)}),Object(h.a)(t=>this.restExtractor.handleError(t)))}addSubscription(n){return this.authHttp.post(t.BASE_USER_SUBSCRIPTIONS_URL,{uri:n}).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(v.a)(()=>{this.myAccountSubscriptionCache[n]=!0,this.myAccountSubscriptionCacheSubject.next(this.myAccountSubscriptionCache)}),Object(h.a)(t=>this.restExtractor.handleError(t)))}listSubscriptions(n){const{pagination:e,search:o}=n,i=t.BASE_USER_SUBSCRIPTIONS_URL,c=this.restService.componentPaginationToRestPagination(e);let a=new C.f;return a=this.restService.addRestGetParams(a,c),o&&(a=a.append("search",o)),this.authHttp.get(i,{params:a}).pipe(Object(b.a)(t=>f.VideoChannelService.extractVideoChannels(t)),Object(h.a)(t=>this.restExtractor.handleError(t)))}listenToMyAccountSubscriptionCacheSubject(){return this.myAccountSubscriptionCacheSubject.asObservable()}listenToSubscriptionCacheChange(t){if(t in this.myAccountSubscriptionCacheObservable)return this.myAccountSubscriptionCacheObservable[t];const n=this.existsObservable.pipe(Object(g.a)(n=>void 0!==n[t]),Object(b.a)(n=>n[t]));return this.myAccountSubscriptionCacheObservable[t]=n,n}doesSubscriptionExist(t){return y("Running subscription check for %d.",t),t in this.myAccountSubscriptionCache?(y("Found cache for %d.",t),Object(l.a)(this.myAccountSubscriptionCache[t])):(this.existsSubject.next(t),y("Fetching from network for %d.",t),this.existsObservable.pipe(Object(g.a)(n=>void 0!==n[t]),Object(b.a)(n=>n[t]),Object(v.a)(n=>this.myAccountSubscriptionCache[t]=n)))}doSubscriptionsExist(n){const e=t.BASE_USER_SUBSCRIPTIONS_URL+"/exist";let o=new C.f;return o=this.restService.addObjectParams(o,{uris:n}),this.authHttp.get(e,{params:o}).pipe(Object(v.a)(t=>{this.myAccountSubscriptionCache=Object.assign(Object.assign({},this.myAccountSubscriptionCache),t)}),Object(h.a)(t=>this.restExtractor.handleError(t)))}}return t.BASE_USER_SUBSCRIPTIONS_URL=M.a.apiUrl+"/api/v1/users/me/subscriptions",t.\u0275fac=function(n){return new(n||t)(_.hc(C.b),_.hc(O.RestExtractor),_.hc(f.VideoService),_.hc(O.RestService),_.hc(_.C))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac}),t})()},dTdE:function(t,n,e){"use strict";e.d(n,"a",(function(){return b})),e("a9tR");var o=e("fXoL"),i=e("ofXK"),c=e("tyNb"),a=e("LsvZ");const s=function(t){return["/video-channels",t]};function r(t,n){if(1&t&&(o.Wb(0,"a",15),o.ac(1,16),o.Vb()),2&t){const t=o.oc();o.vc("routerLink",o.zc(2,s,t.playlist.videoChannelBy)),o.Db(1),o.ec(t.playlist.videoChannelBy),o.bc(1)}}function l(t,n){if(1&t&&(o.Wb(0,"span",17),o.Vc(1),o.Vb()),2&t){const t=o.oc();o.Db(1),o.Wc(t.playlist.privacy.label)}}function d(t,n){if(1&t&&(o.Wb(0,"div",18),o.Vc(1),o.Vb()),2&t){const t=o.oc();o.Db(1),o.Wc(t.playlist.description)}}const g=function(t,n){return{"no-videos":t,"to-manage":n}};let b=(()=>{class t{constructor(){this.toManage=!1,this.displayChannel=!1,this.displayDescription=!1,this.displayPrivacy=!1}getPlaylistUrl(){return this.toManage?["/my-account/video-playlists",this.playlist.uuid]:0===this.playlist.videosLength?null:["/videos/watch/playlist",this.playlist.uuid]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-playlist-miniature"]],inputs:{playlist:"playlist",toManage:"toManage",displayChannel:"displayChannel",displayDescription:"displayDescription",displayPrivacy:"displayPrivacy"},decls:18,vars:19,consts:function(){var t;return t="{VAR_PLURAL, plural, =0 {Neniu filmo} =1 {1 filmo} other {{INTERPOLATION} filmoj}}",[[1,"miniature",3,"ngClass"],[1,"miniature-thumbnail",3,"routerLink"],["alt",""],[1,"miniature-playlist-info-overlay"],t=o.fc(t,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[1,"play-overlay"],[1,"icon"],[1,"miniature-info"],["tabindex","-1",1,"miniature-name",3,"routerLink"],["class","by",3,"routerLink",4,"ngIf"],[1,"privacy-date"],["class","video-info-privacy",4,"ngIf"],[1,"updated-at"],"\u011Cisdatigita je " + "\ufffd0\ufffd" + "",["class","video-info-description",4,"ngIf"],[1,"by",3,"routerLink"],"\n          " + "\ufffd0\ufffd" + "\n        ",[1,"video-info-privacy"],[1,"video-info-description"]]},template:function(t,n){1&t&&(o.Wb(0,"div",0),o.Wb(1,"a",1),o.Rb(2,"img",2),o.Wb(3,"div",3),o.Ub(4),o.ac(5,4),o.Tb(),o.Vb(),o.Wb(6,"div",5),o.Rb(7,"div",6),o.Vb(),o.Vb(),o.Wb(8,"div",7),o.Wb(9,"a",8),o.Vc(10),o.Vb(),o.Tc(11,r,2,4,"a",9),o.Wb(12,"div",10),o.Tc(13,l,2,1,"span",11),o.Wb(14,"span",12),o.ac(15,13),o.pc(16,"myFromNow"),o.Vb(),o.Vb(),o.Tc(17,d,2,1,"div",14),o.Vb(),o.Vb()),2&t&&(o.vc("ngClass",o.Ac(16,g,0===n.playlist.videosLength,n.toManage)),o.Db(1),o.vc("routerLink",n.getPlaylistUrl()),o.Eb("title",n.playlist.description),o.Db(1),o.Eb("aria-labelledby",n.playlist.displayName)("src",n.playlist.thumbnailUrl,o.Mc),o.Db(3),o.ec(n.playlist.videosLength)(n.playlist.videosLength),o.bc(5),o.Db(4),o.vc("routerLink",n.getPlaylistUrl()),o.Eb("title",n.playlist.description),o.Db(1),o.Xc(" ",n.playlist.displayName," "),o.Db(1),o.vc("ngIf",n.displayChannel&&n.playlist.videoChannelBy),o.Db(2),o.vc("ngIf",n.displayPrivacy),o.Db(3),o.ec(o.qc(16,14,n.playlist.updatedAt)),o.bc(15),o.Db(1),o.vc("ngIf",n.displayDescription))},directives:[i.r,c.k,i.u],pipes:[a.a],styles:['.miniature[_ngcontent-%COMP%]{display:inline-block}.miniature.no-videos[_ngcontent-%COMP%]:not(.to-manage)   a[_ngcontent-%COMP%]{cursor:default!important}.miniature.no-videos[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature.to-manage[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{display:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .miniature-playlist-info-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;right:0;bottom:0;height:122px;padding:0 10px;display:flex;align-items:center;font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]{width:200px;margin-top:2px;line-height:normal}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]{max-height:2.2em;font-size:1.1em;line-height:1.1em;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin:0}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]{display:block;color:var(--greyForegroundColor)}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:active, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:focus, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]{margin-top:5px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]:after{content:"-";margin:0 3px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin-top:10px;color:var(--greyForegroundColor)}']}),t})()},gY50:function(t,n,e){"use strict";e.d(n,"a",(function(){return h}));var o=e("sWvm"),i=e("nnN+"),c=e("fXoL"),a=e("3Pt+"),s=e("ofXK"),r=e("1lk2"),l=e("BLxp");function d(t,n){1&t&&(c.gc(0,4,1),c.Rb(1,"span"),c.dc())}function g(t,n){1&t&&(c.gc(0,4,2),c.Rb(1,"span"),c.dc())}function b(t,n){1&t&&(c.Ub(0),c.gc(1,7),c.Rb(2,"br"),c.Rb(3,"br"),c.dc(),c.Tb())}function u(t,n){1&t&&(c.Wb(0,"my-help"),c.Tc(1,b,4,0,"ng-template",6),c.Vb())}function p(t,n){1&t&&(c.Ub(0),c.gc(1,8),c.Rb(2,"br"),c.Rb(3,"br"),c.dc(),c.Tb())}function m(t,n){1&t&&(c.Wb(0,"my-help"),c.Tc(1,p,4,0,"ng-template",6),c.Vb())}let h=(()=>{class t extends o.a{constructor(t){super(),this.formValidatorService=t,this.interact=!1,this.showHelp=!1}ngOnInit(){this.buildForm({text:i.f})}onValidKey(){this.check(),this.form.valid&&this.formValidated()}formValidated(){const t=this.form.value.text,[n,e]=t.split("@");fetch(`https://${e}/.well-known/webfinger?resource=acct:${n}@${e}`).then(t=>t.json()).then(t=>new Promise((n,e)=>{if(t&&Array.isArray(t.links)){const e=t.links.find(t=>t&&"string"==typeof t.template&&"http://ostatus.org/schema/1.0/subscribe"===t.rel);e&&e.template.includes("{uri}")&&n(e.template.replace("{uri}",encodeURIComponent(this.uri)))}e()})).then(window.open).catch(t=>console.error(t))}}return t.\u0275fac=function(n){return new(n||t)(c.Qb(o.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["my-remote-subscribe"]],inputs:{uri:"uri",interact:"interact",showHelp:"showHelp"},features:[c.Ab],decls:9,vars:6,consts:function(){var t,n,e;return t="" + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "Aboni el alia nodo" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "" + "\ufffd*6:2\ufffd\ufffd#1:2\ufffd" + "Interagi el alia nodo" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "",t=c.fc(t),n="Vi povas aboni la kanalon per ajna nodo de la federuniverso akorda kun ActivityPub. " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Ekzemple en Mastodono a\u016D Pleromo, vi povas tajpi la ligilon al la kanalo en la ser\u0109ujon, kaj tiel aboni. ",n=c.fc(n),e="Vi povas kun \u0109i tio interagi per ajna nodo de la federuniverso akorda kun ActivityPub. " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Ekzemple en Mastodono a\u016D Pleromo vi povas tajpi la nunan ligilon en la ser\u0109ujon kaj interagi kun \u011Di tie. ",[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["type","email","formControlName","text","placeholder","jane_doe@example.com",1,"form-control",3,"keyup.control.enter","keyup.meta.enter"],["type","submit",1,"btn","btn-sm","btn-remote-follow",3,"disabled"],t,[4,"ngIf"],["ptTemplate","customHtml"],n,e=c.fc(e)]},template:function(t,n){1&t&&(c.Wb(0,"form",0),c.kc("ngSubmit",(function(){return n.formValidated()})),c.Wb(1,"div",1),c.Wb(2,"input",2),c.kc("keyup.control.enter",(function(){return n.onValidKey()}))("keyup.meta.enter",(function(){return n.onValidKey()})),c.Vb(),c.Vb(),c.Wb(3,"button",3),c.gc(4,4),c.Tc(5,d,2,0,"span",5),c.Tc(6,g,2,0,"span",5),c.dc(),c.Vb(),c.Tc(7,u,2,0,"my-help",5),c.Tc(8,m,2,0,"my-help",5),c.Vb()),2&t&&(c.vc("formGroup",n.form),c.Db(3),c.vc("disabled",!n.form.valid),c.Db(2),c.vc("ngIf",!n.interact),c.Db(1),c.vc("ngIf",n.interact),c.Db(1),c.vc("ngIf",!n.interact&&n.showHelp),c.Db(1),c.vc("ngIf",n.showHelp&&n.interact))},directives:[a.I,a.t,a.l,a.c,a.s,a.j,s.u,r.a,l.a],styles:['.btn-remote-follow[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.btn-remote-follow.focus-visible[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-remote-follow[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:active, .btn-remote-follow[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-remote-follow[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-remote-follow.disabled[_ngcontent-%COMP%], .btn-remote-follow[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t})()},hHkf:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("sWvm"),i=e("Nmku"),c=e("b613"),a=e("fXoL");let s=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},providers:[c.a],imports:[[i.a,o.c]]}),t})()},qZuT:function(t,n,e){"use strict";e.d(n,"a",(function(){return M}));var o=e("fXoL"),i=e("ey9i"),c=(e("xMQD"),e("ofXK")),a=e("tyNb"),s=e("1kSV"),r=e("UkmY");function l(t,n){1&t&&o.Sb(0)}function d(t,n){if(1&t&&(o.Wb(0,"a",3),o.Tc(1,l,1,0,"ng-container",4),o.Vb()),2&t){const t=o.oc(),n=o.Ic(3);o.vc("routerLink",t.getVideoRouterLink())("queryParams",t.queryParams),o.Db(1),o.vc("ngTemplateOutlet",n)}}function g(t,n){1&t&&o.Sb(0)}function b(t,n){if(1&t&&(o.Wb(0,"a",5),o.Tc(1,g,1,0,"ng-container",4),o.Vb()),2&t){const t=o.oc(),n=o.Ic(3);o.vc("href",t.videoHref,o.Mc)("target",t.videoTarget),o.Db(1),o.vc("ngTemplateOutlet",n)}}function u(t,n){if(1&t){const t=o.Xb();o.Ub(0),o.Wb(1,"div",16),o.kc("click",(function(n){return o.Kc(t),o.oc(3).onWatchLaterClick(n)})),o.Rb(2,"my-global-icon",17),o.Vb(),o.Tb()}if(2&t){const t=o.oc(3);o.Db(1),o.vc("ngbTooltip",t.addToWatchLaterText),o.Db(1),o.Eb("aria-label",t.addToWatchLaterText)}}function p(t,n){if(1&t){const t=o.Xb();o.Ub(0),o.Wb(1,"div",16),o.kc("click",(function(n){return o.Kc(t),o.oc(3).onWatchLaterClick(n)})),o.Rb(2,"my-global-icon",18),o.Vb(),o.Tb()}if(2&t){const t=o.oc(3);o.Db(1),o.vc("ngbTooltip",t.addedToWatchLaterText),o.Db(1),o.Eb("aria-label",t.addedToWatchLaterText)}}function m(t,n){if(1&t&&(o.Wb(0,"div",14),o.Tc(1,u,3,2,"ng-container",15),o.Tc(2,p,3,2,"ng-container",15),o.Vb()),2&t){const t=o.oc(2);o.Db(1),o.vc("ngIf",!0!==t.inWatchLaterPlaylist),o.Db(1),o.vc("ngIf",!0===t.inWatchLaterPlaylist)}}const h=function(t){return{"width.%":t}};function v(t,n){if(1&t&&(o.Wb(0,"div",19),o.Rb(1,"div",20),o.Vb()),2&t){const t=o.oc(2);o.Db(1),o.vc("ngStyle",o.zc(1,h,t.getProgressPercent()))}}const C=function(t){return{"blur-filter":t}};function O(t,n){if(1&t&&(o.Rb(0,"img",6),o.Tc(1,m,3,2,"div",7),o.Wb(2,"div",8),o.tc(3),o.Vb(),o.Wb(4,"div",9),o.tc(5,1),o.Vb(),o.Wb(6,"div",10),o.Vc(7),o.Vb(),o.Wb(8,"div",11),o.Rb(9,"div",12),o.Vb(),o.Tc(10,v,2,3,"div",13)),2&t){const t=o.oc();o.vc("ngClass",o.zc(6,C,t.nsfw)),o.Eb("aria-label",t.video.name)("src",t.getImageUrl(),o.Mc),o.Db(1),o.vc("ngIf",t.displayWatchLaterPlaylist),o.Db(6),o.Wc(t.video.durationLabel),o.Db(3),o.vc("ngIf",null==t.video.userHistory?null:t.video.userHistory.currentTime)}}const P=[[["label-warning"]],[["label-danger"]]],f=["label-warning","label-danger"];let M=(()=>{class t{constructor(t){this.screenService=t,this.nsfw=!1,this.watchLaterClick=new o.n,this.addToWatchLaterText="Aldoni al spektotaj",this.addedToWatchLaterText="Forigi el spektotaj"}getImageUrl(){return this.video?this.screenService.isInMobileView()?this.video.previewUrl:this.video.thumbnailUrl:""}getProgressPercent(){return this.video.userHistory?this.video.userHistory.currentTime/this.video.duration*100:0}getVideoRouterLink(){return this.videoRouterLink?this.videoRouterLink:["/videos/watch",this.video.uuid]}onWatchLaterClick(t){return this.watchLaterClick.emit(this.inWatchLaterPlaylist),t.stopPropagation(),!1}}return t.\u0275fac=function(n){return new(n||t)(o.Qb(i.ScreenService))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-thumbnail"]],inputs:{video:"video",nsfw:"nsfw",videoRouterLink:"videoRouterLink",queryParams:"queryParams",videoHref:"videoHref",videoTarget:"videoTarget",displayWatchLaterPlaylist:"displayWatchLaterPlaylist",inWatchLaterPlaylist:"inWatchLaterPlaylist"},outputs:{watchLaterClick:"watchLaterClick"},ngContentSelectors:f,decls:4,vars:2,consts:[["class","video-thumbnail",3,"routerLink","queryParams",4,"ngIf"],["class","video-thumbnail",3,"href","target",4,"ngIf"],["aContent",""],[1,"video-thumbnail",3,"routerLink","queryParams"],[4,"ngTemplateOutlet"],[1,"video-thumbnail",3,"href","target"],["alt","",3,"ngClass"],["class","video-thumbnail-actions-overlay",4,"ngIf"],[1,"video-thumbnail-label-overlay","warning"],[1,"video-thumbnail-label-overlay","danger"],[1,"video-thumbnail-duration-overlay"],[1,"play-overlay"],[1,"icon"],["class","progress-bar",4,"ngIf"],[1,"video-thumbnail-actions-overlay"],[4,"ngIf"],["placement","left","container","body",1,"video-thumbnail-watch-later-overlay",3,"ngbTooltip","click"],["iconName","clock","role","button"],["iconName","tick","role","button"],[1,"progress-bar"],[3,"ngStyle"]],template:function(t,n){1&t&&(o.uc(P),o.Tc(0,d,2,3,"a",0),o.Tc(1,b,2,3,"a",1),o.Tc(2,O,11,8,"ng-template",null,2,o.Uc)),2&t&&(o.vc("ngIf",!n.videoHref),o.Db(1),o.vc("ngIf",n.videoHref))},directives:[c.u,a.k,c.B,c.r,s.y,r.a,c.x],styles:['.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;bottom:0;background-color:rgba(0,0,0,.2)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--mainColor)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;border-radius:3px;font-size:12px;font-weight:600;line-height:1.2;z-index:10}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;font-weight:700}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.warning[_ngcontent-%COMP%]{background-color:orange}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.danger[_ngcontent-%COMP%]{background-color:red}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 3px;right:5px;bottom:5px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{padding:3px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t})()},"s/vm":function(t,n,e){"use strict";e.d(n,"a",(function(){return p}));var o=e("XNiG"),i=e("xgIS"),c=e("Kj3r"),a=e("eIep"),s=e("vkgz");function r(t){const n=new Date;return n.setDate(n.getDate()-1),d(t,n)}function l(t){return g(new Date,t)<=30}function d(t,n){return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function g(t,n){return(t.getTime()-n.getTime())/864e5}var b=e("fXoL"),u=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.TODAY=1]="TODAY",t[t.YESTERDAY=2]="YESTERDAY",t[t.LAST_WEEK=3]="LAST_WEEK",t[t.LAST_MONTH=4]="LAST_MONTH",t[t.OLDER=5]="OLDER",t}({});let p=(()=>{class t{constructor(){this.pagination={currentPage:1,itemsPerPage:25},this.sort="-publishedAt",this.defaultSort="-publishedAt",this.syndicationItems=[],this.loadOnInit=!0,this.useUserVideoPreferences=!1,this.ownerDisplayType="account",this.displayModerationBlock=!1,this.displayVideoActions=!0,this.groupByDate=!1,this.videos=[],this.hasDoneFirstQuery=!1,this.disabled=!1,this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!0,privacyText:!1,state:!1,blacklistInfo:!1},this.actions=[],this.onDataSubject=new o.a,this.groupedDates={}}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(t=>this.serverConfig=t),this.groupedDateLabels={[u.UNKNOWN]:null,[u.TODAY]:"Hodia\u016D",[u.YESTERDAY]:"Yesterday",[u.LAST_WEEK]:"Lasta semanjo",[u.LAST_MONTH]:"Last month",[u.OLDER]:"Older"},this.loadRouteParams(this.route.snapshot.queryParams),this.resizeSubscription=Object(i.a)(window,"resize").pipe(Object(c.a)(500)).subscribe(()=>this.calcPageSizes()),this.calcPageSizes();const t=this.loadUserAndSettings();!0===this.loadOnInit&&t.subscribe(()=>this.loadMoreVideos()),this.userService.listenAnonymousUpdate().pipe(Object(a.a)(()=>this.loadUserAndSettings())).subscribe(()=>{this.hasDoneFirstQuery&&this.reloadVideos()}),this.screenService.isInMobileView()&&(this.displayOptions.avatar=!0)}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}disableForReuse(){this.disabled=!0}enabledForReuse(){this.disabled=!1}videoById(t,n){return n.id}onNearOfBottom(){this.disabled||void 0!==this.lastQueryLength&&this.lastQueryLength<this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.setScrollRouteParams(),this.loadMoreVideos())}loadMoreVideos(t=!1){this.getVideosObservable(this.pagination.currentPage).subscribe(({data:n})=>{this.hasDoneFirstQuery=!0,this.lastQueryLength=n.length,t&&(this.videos=[]),this.videos=this.videos.concat(n),this.groupByDate&&this.buildGroupedDateLabels(),this.onMoreVideos(),this.onDataSubject.next(n)},t=>{const n="Cannot load more videos. Try again later.";console.error(n,{error:t}),this.notifier.error(n)})}reloadVideos(){this.pagination.currentPage=1,this.loadMoreVideos(!0)}toggleModerationDisplay(){throw new Error("toggleModerationDisplay is not implemented")}removeVideoFromArray(t){this.videos=this.videos.filter(n=>n.id!==t.id)}buildGroupedDateLabels(){let t=u.UNKNOWN;for(const e of this.videos){const o=e.publishedAt;if(t<=u.TODAY&&d(o,new Date)){if(t===u.TODAY)continue;t=u.TODAY,this.groupedDates[e.id]=t}else if(t<=u.YESTERDAY&&r(o)){if(t===u.YESTERDAY)continue;t=u.YESTERDAY,this.groupedDates[e.id]=t}else if(t<=u.LAST_WEEK&&(n=o,g(new Date,n)<=7)){if(t===u.LAST_WEEK)continue;t=u.LAST_WEEK,this.groupedDates[e.id]=t}else if(t<=u.LAST_MONTH&&l(o)){if(t===u.LAST_MONTH)continue;t=u.LAST_MONTH,this.groupedDates[e.id]=t}else if(t<=u.OLDER){if(t===u.OLDER)continue;t=u.OLDER,this.groupedDates[e.id]=t}}var n}getCurrentGroupedDateLabel(t){if(!1!==this.groupByDate)return this.groupedDateLabels[this.groupedDates[t.id]]}onMoreVideos(){}loadRouteParams(t){this.sort=t.sort||this.defaultSort,this.categoryOneOf=t.categoryOneOf,this.angularState=t["a-state"]}calcPageSizes(){this.screenService.isInMobileView()&&(this.pagination.itemsPerPage=5)}setScrollRouteParams(){if(this.angularState)return;this.angularState=42;let t=this.router.url;t&&"/"!==t||(t=this.serverConfig.instance.defaultClientRoute),this.router.navigate([t],{queryParams:{"a-state":this.angularState,categoryOneOf:this.categoryOneOf},replaceUrl:!0,queryParamsHandling:"merge"})}loadUserAndSettings(){return this.userService.getAnonymousOrLoggedUser().pipe(Object(s.a)(t=>{this.userMiniature=t,this.useUserVideoPreferences&&(this.languageOneOf=t.videoLanguages,this.nsfwPolicy=t.nsfwPolicy)}))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=b.Lb({type:t}),t})()},tTqN:function(t,n,e){"use strict";e.d(n,"a",(function(){return D}));var o=e("mrSG"),i=e("TSHB"),c=e("Bw5p"),a=e("ey9i"),s=e("xMQD"),r=e("fXoL"),l=e("1kSV"),d=e("ofXK"),g=e("UkmY"),b=e("UXJo"),u=e("3Pt+");const p=["modal"];function m(t,n){if(1&t){const t=r.Xb();r.Wb(0,"button",27),r.kc("click",(function(){return r.Kc(t),r.oc(3).switchToType("subtitles")})),r.ac(1,28),r.Vb()}}function h(t,n){if(1&t){const t=r.Xb();r.Wb(0,"button",27),r.kc("click",(function(){return r.Kc(t),r.oc(3).switchToType("video")})),r.ac(1,29),r.Vb()}}function v(t,n){if(1&t&&(r.Wb(0,"div",23),r.Wb(1,"span",24),r.Vc(2),r.Vb(),r.Wb(3,"div",25),r.Tc(4,m,2,0,"button",26),r.Tc(5,h,2,0,"button",26),r.Vb(),r.Vb()),2&t){const t=r.oc(2);r.Db(2),r.Xc(" ",t.type," "),r.Db(2),r.vc("ngIf","video"===t.type),r.Db(1),r.vc("ngIf","subtitles"===t.type)}}function C(t,n){if(1&t&&(r.Wb(0,"option",32),r.Vc(1),r.Vb()),2&t){const t=n.$implicit;r.vc("value",t.resolution.id),r.Db(1),r.Wc(t.resolution.label)}}function O(t,n){if(1&t){const t=r.Xb();r.Wb(0,"select",30),r.kc("ngModelChange",(function(n){return r.Kc(t),r.oc(2).resolutionId=n}))("ngModelChange",(function(){return r.Kc(t),r.oc(2).onResolutionIdChange()})),r.Tc(1,C,2,2,"option",31),r.Vb()}if(2&t){const t=r.oc(2);r.vc("ngModel",t.resolutionId),r.Db(1),r.vc("ngForOf",t.getVideoFiles())}}function P(t,n){if(1&t&&(r.Wb(0,"option",32),r.Vc(1),r.Vb()),2&t){const t=n.$implicit;r.vc("value",t.language.id),r.Db(1),r.Wc(t.language.label)}}function f(t,n){if(1&t){const t=r.Xb();r.Wb(0,"select",30),r.kc("ngModelChange",(function(n){return r.Kc(t),r.oc(2).subtitleLanguageId=n})),r.Tc(1,P,2,2,"option",31),r.Vb()}if(2&t){const t=r.oc(2);r.vc("ngModel",t.subtitleLanguageId),r.Db(1),r.vc("ngForOf",t.videoCaptions)}}function M(t,n){if(1&t&&(r.Wb(0,"div",45),r.Wb(1,"span",46),r.ac(2,47),r.Vb(),r.Wb(3,"span",48),r.Vc(4),r.Vb(),r.Vb()),2&t){const t=n.$implicit;r.Db(2),r.ec(t.value.label),r.bc(2),r.Db(2),r.Wc(t.value.value)}}function _(t,n){if(1&t&&(r.Wb(0,"div",43),r.Tc(1,M,5,2,"div",44),r.pc(2,"keyvalue"),r.Vb()),2&t){const t=r.oc(3);r.Db(1),r.vc("ngForOf",r.qc(2,1,t.videoFileMetadataFormat))}}function y(t,n){if(1&t&&(r.Wb(0,"div",45),r.Wb(1,"span",46),r.ac(2,49),r.Vb(),r.Wb(3,"span",48),r.Vc(4),r.Vb(),r.Vb()),2&t){const t=n.$implicit;r.Db(2),r.ec(t.value.label),r.bc(2),r.Db(2),r.Wc(t.value.value)}}function w(t,n){if(1&t&&(r.Wb(0,"div",43),r.Tc(1,y,5,2,"div",44),r.pc(2,"keyvalue"),r.Vb()),2&t){const t=r.oc(3);r.Db(1),r.vc("ngForOf",r.qc(2,1,t.videoFileMetadataVideoStream))}}function x(t,n){if(1&t&&(r.Wb(0,"div",45),r.Wb(1,"span",46),r.ac(2,50),r.Vb(),r.Wb(3,"span",48),r.Vc(4),r.Vb(),r.Vb()),2&t){const t=n.$implicit;r.Db(2),r.ec(t.value.label),r.bc(2),r.Db(2),r.Wc(t.value.value)}}function k(t,n){if(1&t&&(r.Wb(0,"div",43),r.Tc(1,x,5,2,"div",44),r.pc(2,"keyvalue"),r.Vb()),2&t){const t=r.oc(3);r.Db(1),r.vc("ngForOf",r.qc(2,1,t.videoFileMetadataAudioStream))}}function T(t,n){if(1&t&&(r.Ub(0),r.Wb(1,"div",33,34),r.Ub(3,35),r.Wb(4,"a",36),r.ac(5,37),r.Vb(),r.Tc(6,_,3,3,"ng-template",38),r.Tb(),r.Ub(7,39),r.Wb(8,"a",36),r.ac(9,40),r.Vb(),r.Tc(10,w,3,3,"ng-template",38),r.Tb(),r.Ub(11,39),r.Wb(12,"a",36),r.ac(13,41),r.Vb(),r.Tc(14,k,3,3,"ng-template",38),r.Tb(),r.Vb(),r.Rb(15,"div",42),r.Tb()),2&t){const t=r.Ic(2),n=r.oc(2);r.Db(7),r.vc("disabled",void 0===n.videoFileMetadataVideoStream),r.Db(4),r.vc("disabled",void 0===n.videoFileMetadataAudioStream),r.Db(4),r.vc("ngbNavOutlet",t)}}function S(t,n){if(1&t){const t=r.Xb();r.Wb(0,"div",51),r.Wb(1,"div",52),r.Wb(2,"input",53),r.kc("ngModelChange",(function(n){return r.Kc(t),r.oc(2).downloadType=n})),r.Vb(),r.Wb(3,"label",54),r.ac(4,55),r.Vb(),r.Vb(),r.Wb(5,"div",52),r.Wb(6,"input",56),r.kc("ngModelChange",(function(n){return r.Kc(t),r.oc(2).downloadType=n})),r.Vb(),r.Wb(7,"label",57),r.ac(8,58),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.oc(2);r.Db(2),r.vc("ngModel",t.downloadType),r.Db(4),r.vc("ngModel",t.downloadType)}}function V(t,n){if(1&t){const t=r.Xb();r.Wb(0,"div",1),r.Wb(1,"h4",2),r.Ub(2),r.ac(3,3),r.Tb(),r.Tc(4,v,6,3,"div",4),r.Vb(),r.Wb(5,"my-global-icon",5),r.kc("click",(function(){return(0,n.close)()})),r.Vb(),r.Vb(),r.Wb(6,"div",6),r.Wb(7,"div",7),r.Wb(8,"div",8),r.Wb(9,"div",9),r.Tc(10,O,2,2,"select",10),r.Tc(11,f,2,2,"select",10),r.Vb(),r.Wb(12,"input",11,12),r.kc("click",(function(){return r.Kc(t),r.Ic(13).select()})),r.Vb(),r.Wb(14,"div",13),r.Wb(15,"button",14),r.kc("click",(function(){return r.Kc(t),r.oc().activateCopiedMessage()})),r.Rb(16,"span",15),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Tc(17,T,16,3,"ng-container",16),r.Tc(18,S,9,2,"div",17),r.Vb(),r.Wb(19,"div",18),r.Wb(20,"input",19),r.cc(21,20),r.kc("click",(function(){return(0,n.close)()}))("key.enter",(function(){return(0,n.close)()})),r.Vb(),r.Wb(22,"input",21),r.cc(23,22),r.kc("click",(function(){return r.Kc(t),r.oc().download()})),r.Vb(),r.Vb()}if(2&t){const t=r.Ic(13),n=r.oc();r.Db(4),r.vc("ngIf",n.videoCaptions),r.Db(6),r.vc("ngIf","video"===n.type),r.Db(1),r.vc("ngIf","subtitles"===n.type),r.Db(1),r.vc("value",n.getLink()),r.Db(3),r.vc("cdkCopyToClipboard",t.value),r.Db(2),r.vc("ngIf","video"===n.type&&(null==n.videoFile?null:n.videoFile.metadata)),r.Db(1),r.vc("ngIf","video"===n.type)}}let D=(()=>{class t{constructor(t,n,e,o){this.notifier=t,this.modalService=n,this.videoService=e,this.auth=o,this.downloadType="torrent",this.resolutionId=-1,this.type="video",this.bytesPipe=new s.BytesPipe,this.numbersPipe=new s.NumberFormatterPipe}get typeText(){return"video"===this.type?"filmo":"subteksto"}getVideoFiles(){return this.video?this.video.getFiles():[]}show(t,n){this.video=t,this.videoCaptions=n&&n.length?n:void 0,this.activeModal=this.modalService.open(this.modal,{centered:!0}),this.resolutionId=this.getVideoFiles()[0].resolution.id,this.onResolutionIdChange(),this.videoCaptions&&(this.subtitleLanguageId=this.videoCaptions[0].language.id)}onClose(){this.video=void 0,this.videoCaptions=void 0}download(){window.location.assign(this.getLink()),this.activeModal.close()}getLink(){return"subtitles"===this.type&&this.videoCaptions?this.getSubtitlesLink():this.getVideoFileLink()}onResolutionIdChange(){return Object(o.a)(this,void 0,void 0,(function*(){this.videoFile=this.getVideoFile(),!this.videoFile.metadata&&this.videoFile.metadataUrl&&(yield this.hydrateMetadataFromMetadataUrl(this.videoFile),this.videoFileMetadataFormat=this.videoFile?this.getMetadataFormat(this.videoFile.metadata.format):void 0,this.videoFileMetadataVideoStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"video"):void 0,this.videoFileMetadataAudioStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"audio"):void 0)}))}getVideoFile(){this.resolutionId=parseInt(this.resolutionId.toString(),10);const t=this.getVideoFiles().find(t=>t.resolution.id===this.resolutionId);if(t)return t;console.error("Could not find file with resolution %d.",this.resolutionId)}getVideoFileLink(){const t=this.videoFile;if(!t)return;const n=3===this.video.privacy.id||4===this.video.privacy.id?"?access_token="+this.auth.getAccessToken():"";switch(this.downloadType){case"direct":return t.fileDownloadUrl+n;case"torrent":return t.torrentDownloadUrl+n}}getSubtitlesLink(){return window.location.origin+this.videoCaptions.find(t=>t.language.id===this.subtitleLanguageId).captionPath}activateCopiedMessage(){this.notifier.success("Kopiita")}switchToType(t){this.type=t}getMetadataFormat(t){const n={encoder:t=>({label:"Kodilo",value:t}),format_long_name:t=>({label:"Nomo de formo",value:t}),size:t=>({label:"Grandeco",value:this.bytesPipe.transform(t,2)}),bit_rate:t=>({label:"Bitrapido",value:this.numbersPipe.transform(t)+"bps"})},e=Object.assign(t,t.tags);return delete e.tags,Object(i.a)(Object(c.a)(e,Object.keys(n)),(t,e)=>n[e](t))}getMetadataStream(t,n){const e=t.find(t=>t.codec_type===n);if(!e)return;let o={codec_long_name:t=>({label:"Kodeko",value:t}),profile:t=>({label:"Profilo",value:t}),bit_rate:t=>({label:"Bitrapido",value:this.numbersPipe.transform(t)+"bps"})};return o=Object.assign(o,"video"===n?{width:t=>({label:"Distingumo",value:`${t}x${e.height}`}),display_aspect_ratio:t=>({label:"Bildformato",value:t}),avg_frame_rate:t=>({label:"Meznombra filmerrapido",value:t}),pix_fmt:t=>({label:"Formato de bilderoj",value:t})}:{sample_rate:t=>({label:"Specimenrapido",value:t}),channel_layout:t=>({label:"Aran\u011Do de kanaloj",value:t})}),Object(i.a)(Object(c.a)(e,Object.keys(o)),(t,n)=>o[n](t))}hydrateMetadataFromMetadataUrl(t){const n=this.videoService.getVideoFileMetadata(t.metadataUrl);return n.subscribe(n=>t.metadata=n),n.toPromise()}}return t.\u0275fac=function(n){return new(n||t)(r.Qb(a.Notifier),r.Qb(l.k),r.Qb(s.VideoService),r.Qb(a.AuthService))},t.\u0275cmp=r.Kb({type:t,selectors:[["my-video-download"]],viewQuery:function(t,n){var e;1&t&&r.Qc(p,!0),2&t&&r.Hc(e=r.lc())&&(n.modal=e.first)},decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Download",["ngbDropdown","","class","d-inline-block",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"input-group","input-group-sm"],[1,"input-group-prepend","peertube-select-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","",1,"form-control","input-sm","readonly",3,"value","click"],["urlInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"cdkCopyToClipboard","click"],[1,"glyphicon","glyphicon-copy"],[4,"ngIf"],["class","download-type",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value","Cancel"],["type","submit",1,"action-button-submit",3,"click",6,"value"],["value","Download"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownDownloadType","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownDownloadType"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],"subteksto","filmo",[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],"Formo",["ngbNavContent",""],["ngbNavItem","",3,"disabled"],"Filmofluo","Sonofluo",[3,"ngbNavOutlet"],[1,"file-metadata"],["class","metadata-attribute metadata-attribute-tags",4,"ngFor","ngForOf"],[1,"metadata-attribute","metadata-attribute-tags"],[1,"metadata-attribute-label"],"\n          " + "\ufffd0\ufffd" + "\n        ",[1,"metadata-attribute-value"],"\n          " + "\ufffd0\ufffd" + "\n        ","\n          " + "\ufffd0\ufffd" + "\n        ",[1,"download-type"],[1,"peertube-radio-container"],["type","radio","name","download","id","download-direct","value","direct",3,"ngModel","ngModelChange"],["for","download-direct"],"Rekta el\u015Duto",["type","radio","name","download","id","download-torrent","value","torrent",3,"ngModel","ngModelChange"],["for","download-torrent"],"Torento (dosiero .torrent)"]},template:function(t,n){1&t&&r.Tc(0,V,24,7,"ng-template",null,0,r.Uc)},directives:[d.u,g.a,b.a,l.e,l.j,l.h,l.g,u.E,u.s,u.v,d.t,u.x,u.H,l.n,l.p,l.q,l.o,l.s,u.A,u.c],pipes:[d.m],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:100px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:inherit}#dropdownDownloadType[_ngcontent-%COMP%]{cursor:pointer}.download-type[_ngcontent-%COMP%]{margin-top:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.file-metadata[_ngcontent-%COMP%]{padding:1rem}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   .metadata-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:active, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:focus, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute.metadata-attribute-tags[_ngcontent-%COMP%]   .metadata-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}']}),t})()}}]);