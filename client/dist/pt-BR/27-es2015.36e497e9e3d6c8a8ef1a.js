(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{hICp:function(e,n,t){"use strict";t.r(n),t.d(n,"MyAccountVideoChannelsModule",(function(){return fe}));var o=t("I5S5"),c=t("sWvm"),r=t("P8w3"),i=t("xMQD"),a=t("tyNb"),l=t("ey9i"),s=t("ON2W");class d extends c.a{onAvatarChange(e){}isBulkUpdateVideosDisplayed(){return!1}}var b=t("fXoL"),p=t("ofXK"),u=t("3Pt+"),g=t("1lk2"),m=t("GMov"),f=t("NH89"),h=t("/xt7");function C(e,n){1&e&&(b.Ub(0),b.Wb(1,"li",29),b.ac(2,30),b.Vb(),b.Tb())}const v=function(e){return["/my-account/video-channels/update",e]};function P(e,n){if(1&e&&(b.Wb(0,"a",34),b.Uc(1),b.Vb()),2&e){const e=b.oc(2);b.vc("routerLink",b.zc(2,v,null==e.videoChannelToUpdate?null:e.videoChannelToUpdate.nameWithHost)),b.Db(1),b.Vc(null==e.videoChannelToUpdate?null:e.videoChannelToUpdate.displayName)}}function O(e,n){if(1&e&&(b.Ub(0),b.Wb(1,"li",29),b.ac(2,31),b.Vb(),b.Wb(3,"li",32),b.Sc(4,P,2,4,"a",33),b.Vb(),b.Tb()),2&e){const e=b.oc();b.Db(4),b.vc("ngIf",e.videoChannelToUpdate)}}function M(e,n){if(1&e&&(b.Wb(0,"div",35),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Vc(e.error)}}function _(e,n){1&e&&(b.Wb(0,"div",36),b.ac(1,37),b.Vb())}function y(e,n){1&e&&(b.Wb(0,"div",36),b.ac(1,38),b.Vb())}function x(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc(2);b.Db(1),b.Wc(" ",e.formErrors.name," ")}}const V=function(e){return{"input-error":e}};function w(e,n){if(1&e&&(b.Wb(0,"div",14),b.Wb(1,"label",39),b.ac(2,40),b.Vb(),b.Wb(3,"div",41),b.Wb(4,"input",42),b.cc(5,43),b.Vb(),b.Wb(6,"div",44),b.Wb(7,"span",45),b.Uc(8),b.Vb(),b.Vb(),b.Vb(),b.Sc(9,x,2,1,"div",18),b.Vb()),2&e){const e=b.oc();b.Db(4),b.vc("ngClass",b.zc(3,V,e.formErrors.name)),b.Db(4),b.Wc("@",e.instanceHost,""),b.Db(1),b.vc("ngIf",e.formErrors.name)}}function k(e,n){if(1&e){const e=b.Xb();b.Wb(0,"my-actor-avatar-info",47),b.kc("avatarChange",(function(n){return b.Jc(e),b.oc().onAvatarChange(n)})),b.Vb()}if(2&e){const e=b.oc();b.vc("actor",e.videoChannelToUpdate)}}function W(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors["display-name"]," ")}}function S(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors.description," ")}}function D(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors.support," ")}}function z(e,n){1&e&&(b.Wb(0,"div",14),b.Wb(1,"my-peertube-checkbox",48),b.cc(2,49),b.Vb(),b.Vb())}let I=(()=>{class e extends d{constructor(e,n,t,o,c,r,i){super(),this.formValidatorService=e,this.authService=n,this.notifier=t,this.router=o,this.route=c,this.videoChannelService=r,this.serverService=i}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.buildForm({"display-name":s.b,description:s.a,support:s.d,bulkVideosSupportUpdate:null}),this.paramsSub=this.route.params.subscribe(e=>{this.videoChannelService.getVideoChannel(e.videoChannelId).subscribe(e=>{this.videoChannelToUpdate=e,this.oldSupportField=e.support,this.form.patchValue({"display-name":e.displayName,description:e.description,support:e.support})},e=>this.error=e.message)})}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const e=this.form.value,n={displayName:e["display-name"],description:e.description||null,support:e.support||null,bulkVideosSupportUpdate:e.bulkVideosSupportUpdate||!1};this.videoChannelService.updateVideoChannel(this.videoChannelToUpdate.name,n).subscribe(()=>{this.authService.refreshUserInformation(),this.notifier.success("Canal de v\xEDdeo \n          " + n.displayName + " atualizado.\n        "),this.router.navigate(["/my-account","video-channels"])},e=>this.error=e.message)}onAvatarChange(e){this.videoChannelService.changeVideoChannelAvatar(this.videoChannelToUpdate.name,e).subscribe(e=>{this.notifier.success("Avatar alterado."),this.videoChannelToUpdate.updateAvatar(e.avatar)},e=>this.notifier.error(e.message))}get maxAvatarSize(){return this.serverConfig.avatar.file.size.max}get avatarExtensions(){return this.serverConfig.avatar.file.extensions.join(",")}isCreation(){return!1}getFormButtonTitle(){return "Update"}isBulkUpdateVideosDisplayed(){return void 0!==this.oldSupportField&&this.oldSupportField!==this.form.value.support}}return e.\u0275fac=function(n){return new(n||e)(b.Qb(c.b),b.Qb(l.AuthService),b.Qb(l.Notifier),b.Qb(a.h),b.Qb(a.a),b.Qb(i.VideoChannelService),b.Qb(l.ServerService))},e.\u0275cmp=b.Kb({type:e,selectors:[["my-account-video-channel-update"]],features:[b.Ab],decls:38,vars:23,consts:function(){return[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-account/video-channels"],"My Channels",[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-channel-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["class","form-group",4,"ngIf"],[3,"actor","avatarChange",4,"ngIf"],[1,"form-group"],["for","display-name"],"Nome de exibi\xE7\xE3o",["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],"Descri\xE7\xE3o",["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","support"],["helpType","markdownEnhanced",6,"preHtml"],["preHtml","Short text to tell people how they can support your channel (membership platform...).<br /><br />\n    When you will upload a video in this channel, the video support field will be automatically filled by this text."],["id","support","formControlName","support","textareaMaxWidth","500px","markdownType","enhanced",3,"classes"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],"Create","Editar",["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-channel-title"],"NEW CHANNEL","CHANNEL",["for","name"],"Nome",[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","Exemplo: meu_canal"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-error"],[3,"actor","avatarChange"],["inputName","bulkVideosSupportUpdate","formControlName","bulkVideosSupportUpdate",6,"labelText"],["labelText","Substituir o campo de suporte para todos os v\xEDdeos deste canal"]]},template:function(e,n){1&e&&(b.Wb(0,"nav",0),b.Wb(1,"ol",1),b.Wb(2,"li",2),b.Wb(3,"a",3),b.ac(4,4),b.Vb(),b.Vb(),b.Sc(5,C,3,0,"ng-container",5),b.Sc(6,O,5,1,"ng-container",5),b.Vb(),b.Vb(),b.Sc(7,M,2,1,"div",6),b.Wb(8,"form",7),b.kc("ngSubmit",(function(){return n.formValidated()})),b.Wb(9,"div",8),b.Wb(10,"div",9),b.Sc(11,_,2,0,"div",10),b.Sc(12,y,2,0,"div",10),b.Vb(),b.Wb(13,"div",11),b.Sc(14,w,10,5,"div",12),b.Sc(15,k,1,1,"my-actor-avatar-info",13),b.Wb(16,"div",14),b.Wb(17,"label",15),b.ac(18,16),b.Vb(),b.Rb(19,"input",17),b.Sc(20,W,2,1,"div",18),b.Vb(),b.Wb(21,"div",14),b.Wb(22,"label",19),b.ac(23,20),b.Vb(),b.Rb(24,"textarea",21),b.Sc(25,S,2,1,"div",18),b.Vb(),b.Wb(26,"div",14),b.Wb(27,"label",22),b.Uc(28,"Support"),b.Vb(),b.Wb(29,"my-help",23),b.cc(30,24),b.Vb(),b.Rb(31,"my-markdown-textarea",25),b.Sc(32,D,2,1,"div",18),b.Vb(),b.Sc(33,z,3,0,"div",12),b.Vb(),b.Vb(),b.Wb(34,"div",8),b.Rb(35,"div",26),b.Wb(36,"div",27),b.Rb(37,"input",28),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(5),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()),b.Db(1),b.vc("ngIf",n.error),b.Db(1),b.vc("formGroup",n.form),b.Db(3),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()&&n.videoChannelToUpdate),b.Db(2),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()&&n.videoChannelToUpdate),b.Db(4),b.vc("ngClass",b.zc(17,V,n.formErrors["display-name"])),b.Db(1),b.vc("ngIf",n.formErrors["display-name"]),b.Db(4),b.vc("ngClass",b.zc(19,V,n.formErrors.description)),b.Db(1),b.vc("ngIf",n.formErrors.description),b.Db(6),b.vc("classes",b.zc(21,V,n.formErrors.support)),b.Db(1),b.vc("ngIf",n.formErrors.support),b.Db(1),b.vc("ngIf",n.isBulkUpdateVideosDisplayed()),b.Db(4),b.wc("value",n.getFormButtonTitle()),b.vc("disabled",!n.form.valid))},directives:[a.k,p.u,u.I,u.t,u.l,u.c,u.s,u.j,p.r,g.a,m.a,f.a,h.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-channel-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}my-actor-avatar-info[_ngcontent-%COMP%]{display:block;margin-bottom:20px}.input-group[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group-append[_ngcontent-%COMP%]{height:30px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=text]#name[_ngcontent-%COMP%]{width:auto;flex-grow:1}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-left:auto}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}@media screen and (max-width:800px){input[type=text]#name[_ngcontent-%COMP%]{width:auto!important}label[for=name][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}}']}),e})();function U(e,n){1&e&&(b.Ub(0),b.Wb(1,"li",29),b.ac(2,30),b.Vb(),b.Tb())}const N=function(e){return["/my-account/video-channels/update",e]};function $(e,n){if(1&e&&(b.Wb(0,"a",34),b.Uc(1),b.Vb()),2&e){const e=b.oc(2);b.vc("routerLink",b.zc(2,N,null==e.videoChannelToUpdate?null:e.videoChannelToUpdate.nameWithHost)),b.Db(1),b.Vc(null==e.videoChannelToUpdate?null:e.videoChannelToUpdate.displayName)}}function T(e,n){if(1&e&&(b.Ub(0),b.Wb(1,"li",29),b.ac(2,31),b.Vb(),b.Wb(3,"li",32),b.Sc(4,$,2,4,"a",33),b.Vb(),b.Tb()),2&e){const e=b.oc();b.Db(4),b.vc("ngIf",e.videoChannelToUpdate)}}function E(e,n){if(1&e&&(b.Wb(0,"div",35),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Vc(e.error)}}function F(e,n){1&e&&(b.Wb(0,"div",36),b.ac(1,37),b.Vb())}function L(e,n){1&e&&(b.Wb(0,"div",36),b.ac(1,38),b.Vb())}function A(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc(2);b.Db(1),b.Wc(" ",e.formErrors.name," ")}}const R=function(e){return{"input-error":e}};function H(e,n){if(1&e&&(b.Wb(0,"div",14),b.Wb(1,"label",39),b.ac(2,40),b.Vb(),b.Wb(3,"div",41),b.Wb(4,"input",42),b.cc(5,43),b.Vb(),b.Wb(6,"div",44),b.Wb(7,"span",45),b.Uc(8),b.Vb(),b.Vb(),b.Vb(),b.Sc(9,A,2,1,"div",18),b.Vb()),2&e){const e=b.oc();b.Db(4),b.vc("ngClass",b.zc(3,R,e.formErrors.name)),b.Db(4),b.Wc("@",e.instanceHost,""),b.Db(1),b.vc("ngIf",e.formErrors.name)}}function j(e,n){if(1&e){const e=b.Xb();b.Wb(0,"my-actor-avatar-info",47),b.kc("avatarChange",(function(n){return b.Jc(e),b.oc().onAvatarChange(n)})),b.Vb()}if(2&e){const e=b.oc();b.vc("actor",e.videoChannelToUpdate)}}function B(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors["display-name"]," ")}}function Q(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors.description," ")}}function G(e,n){if(1&e&&(b.Wb(0,"div",46),b.Uc(1),b.Vb()),2&e){const e=b.oc();b.Db(1),b.Wc(" ",e.formErrors.support," ")}}function X(e,n){1&e&&(b.Wb(0,"div",14),b.Wb(1,"my-peertube-checkbox",48),b.cc(2,49),b.Vb(),b.Vb())}let J=(()=>{class e extends d{constructor(e,n,t,o,c){super(),this.formValidatorService=e,this.authService=n,this.notifier=t,this.router=o,this.videoChannelService=c}get instanceHost(){return window.location.host}ngOnInit(){this.buildForm({name:s.c,"display-name":s.b,description:s.a,support:s.d})}formValidated(){this.error=void 0;const e=this.form.value,n={name:e.name,displayName:e["display-name"],description:e.description||null,support:e.support||null};this.videoChannelService.createVideoChannel(n).subscribe(()=>{this.authService.refreshUserInformation(),this.notifier.success("Canal de v\xEDdeo \n          " + n.displayName + " criado.\n        "),this.router.navigate(["/my-account","video-channels"])},e=>{this.error=409!==e.status?e.message:"Este nome j\xE1 existe nesta inst\xE2ncia."})}isCreation(){return!0}getFormButtonTitle(){return "Create"}}return e.\u0275fac=function(n){return new(n||e)(b.Qb(c.b),b.Qb(l.AuthService),b.Qb(l.Notifier),b.Qb(a.h),b.Qb(i.VideoChannelService))},e.\u0275cmp=b.Kb({type:e,selectors:[["my-account-video-channel-create"]],features:[b.Ab],decls:38,vars:23,consts:function(){return[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-account/video-channels"],"My Channels",[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-channel-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["class","form-group",4,"ngIf"],[3,"actor","avatarChange",4,"ngIf"],[1,"form-group"],["for","display-name"],"Nome de exibi\xE7\xE3o",["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],"Descri\xE7\xE3o",["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","support"],["helpType","markdownEnhanced",6,"preHtml"],["preHtml","Short text to tell people how they can support your channel (membership platform...).<br /><br />\n    When you will upload a video in this channel, the video support field will be automatically filled by this text."],["id","support","formControlName","support","textareaMaxWidth","500px","markdownType","enhanced",3,"classes"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],"Create","Editar",["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-channel-title"],"NEW CHANNEL","CHANNEL",["for","name"],"Nome",[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","Exemplo: meu_canal"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-error"],[3,"actor","avatarChange"],["inputName","bulkVideosSupportUpdate","formControlName","bulkVideosSupportUpdate",6,"labelText"],["labelText","Substituir o campo de suporte para todos os v\xEDdeos deste canal"]]},template:function(e,n){1&e&&(b.Wb(0,"nav",0),b.Wb(1,"ol",1),b.Wb(2,"li",2),b.Wb(3,"a",3),b.ac(4,4),b.Vb(),b.Vb(),b.Sc(5,U,3,0,"ng-container",5),b.Sc(6,T,5,1,"ng-container",5),b.Vb(),b.Vb(),b.Sc(7,E,2,1,"div",6),b.Wb(8,"form",7),b.kc("ngSubmit",(function(){return n.formValidated()})),b.Wb(9,"div",8),b.Wb(10,"div",9),b.Sc(11,F,2,0,"div",10),b.Sc(12,L,2,0,"div",10),b.Vb(),b.Wb(13,"div",11),b.Sc(14,H,10,5,"div",12),b.Sc(15,j,1,1,"my-actor-avatar-info",13),b.Wb(16,"div",14),b.Wb(17,"label",15),b.ac(18,16),b.Vb(),b.Rb(19,"input",17),b.Sc(20,B,2,1,"div",18),b.Vb(),b.Wb(21,"div",14),b.Wb(22,"label",19),b.ac(23,20),b.Vb(),b.Rb(24,"textarea",21),b.Sc(25,Q,2,1,"div",18),b.Vb(),b.Wb(26,"div",14),b.Wb(27,"label",22),b.Uc(28,"Support"),b.Vb(),b.Wb(29,"my-help",23),b.cc(30,24),b.Vb(),b.Rb(31,"my-markdown-textarea",25),b.Sc(32,G,2,1,"div",18),b.Vb(),b.Sc(33,X,3,0,"div",12),b.Vb(),b.Vb(),b.Wb(34,"div",8),b.Rb(35,"div",26),b.Wb(36,"div",27),b.Rb(37,"input",28),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(5),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()),b.Db(1),b.vc("ngIf",n.error),b.Db(1),b.vc("formGroup",n.form),b.Db(3),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()&&n.videoChannelToUpdate),b.Db(2),b.vc("ngIf",n.isCreation()),b.Db(1),b.vc("ngIf",!n.isCreation()&&n.videoChannelToUpdate),b.Db(4),b.vc("ngClass",b.zc(17,R,n.formErrors["display-name"])),b.Db(1),b.vc("ngIf",n.formErrors["display-name"]),b.Db(4),b.vc("ngClass",b.zc(19,R,n.formErrors.description)),b.Db(1),b.vc("ngIf",n.formErrors.description),b.Db(6),b.vc("classes",b.zc(21,R,n.formErrors.support)),b.Db(1),b.vc("ngIf",n.formErrors.support),b.Db(1),b.vc("ngIf",n.isBulkUpdateVideosDisplayed()),b.Db(4),b.wc("value",n.getFormButtonTitle()),b.vc("disabled",!n.form.valid))},directives:[a.k,p.u,u.I,u.t,u.l,u.c,u.s,u.j,p.r,g.a,m.a,f.a,h.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-channel-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}my-actor-avatar-info[_ngcontent-%COMP%]{display:block;margin-bottom:20px}.input-group[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group-append[_ngcontent-%COMP%]{height:30px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=text]#name[_ngcontent-%COMP%]{width:auto;flex-grow:1}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-left:auto}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}@media screen and (max-width:800px){input[type=text]#name[_ngcontent-%COMP%]{width:auto!important}label[for=name][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}}']}),e})();var K=t("mrSG"),Y=t("G8aS"),Z=function(e,n,t){for(var o=-1,c=e.length;++o<c;){var r=e[o],i=n(r);if(null!=i&&(void 0===a?i==i&&!Object(Y.a)(i):t(i,a)))var a=i,l=r}return l},q=function(e,n){return e<n},ee=t("+Xah"),ne=t("fywt"),te=function(e,n){return e>n},oe=t("XNiG"),ce=t("Kj3r"),re=t("5+tZ"),ie=t("UkmY"),ae=t("l9Pe"),le=t("jBV2");function se(e,n){if(1&e&&b.Rb(0,"p-chart",33),2&e){const e=b.oc(2).index,n=b.oc();b.vc("data",n.videoChannelsChartData[e])("options",n.chartOptions)}}function de(e,n){if(1&e&&(b.Wb(0,"div",31),b.Sc(1,se,1,2,"p-chart",32),b.Vb()),2&e){const e=b.oc().index,n=b.oc();b.Db(1),b.vc("ngIf",n.videoChannelsChartData&&n.videoChannelsChartData[e])}}const be=function(e){return["/video-channels",e]},pe=function(e){return["update",e]};function ue(e,n){if(1&e){const e=b.Xb();b.Wb(0,"div",15),b.Wb(1,"a",16),b.Rb(2,"img",17),b.Vb(),b.Wb(3,"div",18),b.Wb(4,"a",19),b.cc(5,20),b.Wb(6,"div",21),b.Uc(7),b.Vb(),b.Wb(8,"div",22),b.Uc(9),b.Vb(),b.Vb(),b.Wb(10,"div",23),b.ac(11,24),b.Vb(),b.Wb(12,"div",25),b.ac(13,26),b.Vb(),b.Wb(14,"div",27),b.Rb(15,"my-edit-button",28),b.Wb(16,"my-delete-button",29),b.kc("click",(function(){b.Jc(e);const t=n.$implicit;return b.oc().deleteVideoChannel(t)})),b.Vb(),b.Vb(),b.Sc(17,de,2,1,"div",30),b.Vb(),b.Vb()}if(2&e){const e=n.$implicit,t=b.oc();b.Db(1),b.vc("routerLink",b.zc(11,be,e.nameWithHost)),b.Db(1),b.vc("src",e.avatarUrl,b.Lc),b.Db(2),b.vc("routerLink",b.zc(13,be,e.nameWithHost)),b.Db(3),b.Vc(e.displayName),b.Db(2),b.Vc(e.nameWithHost),b.Db(2),b.ec(e.followersCount)(e.followersCount),b.bc(11),b.Db(2),b.ec(e.videosCount)(e.videosCount),b.bc(13),b.Db(2),b.vc("routerLink",b.zc(15,pe,e.nameWithHost)),b.Db(2),b.vc("ngIf",!t.isInSmallView)}}const ge=[{path:"",component:(()=>{class e{constructor(e,n,t,o,c){this.authService=e,this.notifier=n,this.confirmService=t,this.videoChannelService=o,this.screenService=c,this.videoChannels=[],this.videoChannelsMinimumDailyViews=0,this.channelsSearchChanged=new oe.a}ngOnInit(){this.user=this.authService.getUser(),this.loadVideoChannels(),this.channelsSearchChanged.pipe(Object(ce.a)(500)).subscribe(()=>{this.loadVideoChannels()})}get isInSmallView(){return this.screenService.isInSmallView()}get chartOptions(){return{legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:Math.max(0,this.videoChannelsMinimumDailyViews-3*this.videoChannelsMaximumDailyViews/100),max:Math.max(1,this.videoChannelsMaximumDailyViews)}}]},layout:{padding:{left:15,right:15,top:10,bottom:0}},elements:{point:{radius:0}},tooltips:{mode:"index",intersect:!1,custom:function(e){e&&(e.displayColors=!1)},callbacks:{label:(e,n)=>e.value+" views"}},hover:{mode:"index",intersect:!1}}}resetSearch(){this.channelsSearch="",this.onChannelsSearchChanged()}onChannelsSearchChanged(){this.channelsSearchChanged.next()}deleteVideoChannel(e){return Object(K.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirmWithInput("Do you really want to delete " + e.displayName + "?\nIt will delete " + e.videosCount + " videos uploaded in this channel, and you will not be able to create another\nchannel with the same name (" + e.name + ")!","Por favor, digite o nome de exibi\xE7\xE3o do canal (\n          " + e.displayName + ") para confirmar\n        ","Delete"))&&this.videoChannelService.removeVideoChannel(e).subscribe(()=>{this.loadVideoChannels(),this.notifier.success("Canal de v\xEDdeo \n          " + e.displayName + " exclu\xEDdo.\n        ")},e=>this.notifier.error(e.message))}))}loadVideoChannels(){this.authService.userInformationLoaded.pipe(Object(re.a)(()=>this.videoChannelService.listAccountVideoChannels(this.user.account,null,!0,this.channelsSearch))).subscribe(e=>{var n;this.videoChannels=e.data,this.totalItems=e.total,this.videoChannelsChartData=this.videoChannels.map(e=>({labels:e.viewsPerDay.map(e=>e.date.toLocaleDateString()),datasets:[{label:"Views for the day",data:e.viewsPerDay.map(e=>e.views),fill:!1,borderColor:"#c6c6c6"}]})),this.videoChannelsMinimumDailyViews=(n=this.videoChannels.map(e=>{return(n=e.viewsPerDay,t=e=>e.views,n&&n.length?Z(n,Object(ne.a)(t,2),q):void 0).views;var n,t}))&&n.length?Z(n,ee.a,q):void 0,this.videoChannelsMaximumDailyViews=function(e){return e&&e.length?Z(e,ee.a,te):void 0}(this.videoChannels.map(e=>function(e,n){return e&&e.length?Z(e,Object(ne.a)(e=>e.views,2),te):void 0}(e.viewsPerDay).views))})}}return e.\u0275fac=function(n){return new(n||e)(b.Qb(l.AuthService),b.Qb(l.Notifier),b.Qb(l.ConfirmService),b.Qb(i.VideoChannelService),b.Qb(l.ScreenService))},e.\u0275cmp=b.Kb({type:e,selectors:[["my-account-video-channels"]],decls:20,vars:3,consts:function(){var e,n,t,o,c,r,i;return e="My channels",n="Search your channels",t="Limpar filtros",o="Create video channel",c="Channel page",r="{VAR_PLURAL, plural, =1 {1 subscriber} other {{INTERPOLATION} assinantes}}\n        ",r=b.fc(r,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),i="{VAR_PLURAL, plural, =0 {No videos} =1 {1 video} other {{INTERPOLATION} videos}}\n        ",[["iconName","channel","aria-hidden","true"],e,[1,"badge","badge-secondary"],[1,"video-channels-header","d-flex","justify-content-between"],[1,"has-feedback","has-clear"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],["placeholder",n],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],t,["routerLink","create",1,"create-button"],["iconName","add","aria-hidden","true"],o,[1,"video-channels"],["class","video-channel",4,"ngFor","ngForOf"],[1,"video-channel"],[3,"routerLink"],["alt","Avatar",3,"src"],[1,"video-channel-info"],[1,"video-channel-names",3,"routerLink",6,"title"],["title",c],[1,"video-channel-display-name"],[1,"video-channel-name"],[1,"video-channel-followers"],r,[1,"video-channel-videos"],i=b.fc(i,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[1,"video-channel-buttons"],["label","",3,"routerLink"],["label","",3,"click"],["class","w-100 d-flex justify-content-end",4,"ngIf"],[1,"w-100","d-flex","justify-content-end"],["type","line","width","40vw","height","100px",3,"data","options",4,"ngIf"],["type","line","width","40vw","height","100px",3,"data","options"]]},template:function(e,n){1&e&&(b.Wb(0,"h1"),b.Wb(1,"span"),b.Rb(2,"my-global-icon",0),b.Ub(3),b.ac(4,1),b.Tb(),b.Wb(5,"span",2),b.Uc(6),b.Vb(),b.Vb(),b.Vb(),b.Wb(7,"div",3),b.Wb(8,"div",4),b.Wb(9,"input",5),b.cc(10,6),b.kc("ngModelChange",(function(e){return n.channelsSearch=e}))("ngModelChange",(function(){return n.onChannelsSearchChanged()})),b.Vb(),b.Wb(11,"a",7),b.kc("click",(function(){return n.resetSearch()})),b.Vb(),b.Wb(12,"span",8),b.ac(13,9),b.Vb(),b.Vb(),b.Wb(14,"a",10),b.Rb(15,"my-global-icon",11),b.Ub(16),b.ac(17,12),b.Tb(),b.Vb(),b.Vb(),b.Wb(18,"div",13),b.Sc(19,ue,18,17,"div",14),b.Vb()),2&e&&(b.Db(6),b.Vc(n.totalItems),b.Db(3),b.vc("ngModel",n.channelsSearch),b.Db(10),b.vc("ngForOf",n.videoChannels))},directives:[ie.a,u.c,u.s,u.v,a.k,p.t,ae.a,a.i,le.a,p.u,o.b],styles:['.create-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.create-button[_ngcontent-%COMP%]:active, .create-button[_ngcontent-%COMP%]:focus, .create-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.create-button.focus-visible[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-button[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]:active, .create-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-button.disabled[_ngcontent-%COMP%], .create-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:300px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:300px){input[type=text][_ngcontent-%COMP%]{width:100%}}  .action-button.action-button-edit{margin-right:10px}.video-channel[_ngcontent-%COMP%]{display:flex;min-height:130px;margin-bottom:20px;border-bottom:1px solid #c6c6c6;padding-bottom:0}@media screen and (max-width:800px){.video-channel[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:80px;height:80px;min-width:80px;min-height:80px;margin-right:10px}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{flex-grow:1}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;align-items:baseline;color:var(--mainForegroundColor)}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:active, .video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:focus, .video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]   .video-channel-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{font-size:14px;color:#777272;margin-left:5px}.video-channel[_ngcontent-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{margin-top:10px;min-width:190px}  .chartjs-render-monitor{position:relative;top:1px}.video-channels-header[_ngcontent-%COMP%]{margin-bottom:30px}@media screen and (max-width:800px){.video-channels-header[_ngcontent-%COMP%]{text-align:center}.video-channel[_ngcontent-%COMP%]{padding-bottom:10px}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{padding-bottom:10px;text-align:center}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;margin:auto}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{margin-left:0!important}.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0}.video-channel[_ngcontent-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{align-self:center}}@media screen and (max-width:500px){.video-channels-header[_ngcontent-%COMP%]{flex-direction:column}.video-channels-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%!important;margin-bottom:12px}}@media screen and (min-width:900px){.main-col[_nghost-%COMP%]:not(.expanded)   .video-channel-buttons[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{float:right}}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{float:right}}']}),e})(),data:{meta:{title:"Account video channels"}}},{path:"create",component:J,data:{meta:{title:"Create new video channel"}}},{path:"update/:videoChannelId",component:I,data:{meta:{title:"Update video channel"}}}];let me=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(n){return new(n||e)},imports:[[a.l.forChild(ge)],a.l]}),e})(),fe=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(n){return new(n||e)},providers:[],imports:[[me,o.a,i.SharedMainModule,c.c,r.a]]}),e})()}}]);