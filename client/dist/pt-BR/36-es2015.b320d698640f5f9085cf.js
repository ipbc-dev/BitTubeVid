(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"+0fW":function(t,e,n){"use strict";n.r(e),n.d(e,"MyAccountModule",function(){return le});var o=n("V5BG"),c=n("rEr+"),i=n("5+WD"),r=n("004f"),a=n("sWvm"),l=n("P8w3"),s=n("xMQD"),g=n("HIM4"),b=n("6maM"),u=n("7FJk"),d=n("tyNb"),p=n("Phsq"),m=n("ey9i"),f=n("fXoL"),C=n("UkmY"),h=n("LIH2");let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-abuses-list"]],decls:5,vars:0,consts:function(){let t;return t="Reports",[["iconName","flag","aria-hidden","true"],t,["viewType","user","baseRoute","/my-account/abuses"]]},template:function(t,e){1&t&&(f.Vb(0,"h1"),f.Qb(1,"my-global-icon",0),f.Tb(2),f.Zb(3,1),f.Sb(),f.Ub(),f.Qb(4,"my-abuse-list-table",2))},directives:[C.a,h.a],encapsulation:2}),t})();var O=n("7zfz"),M=n("ofXK");function _(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",8),f.Vb(1,"div",9),f.Vb(2,"input",10),f.jc("keyup",function(e){return f.Jc(t),f.nc().onSearch(e)}),f.Ub(),f.Vb(3,"a",11),f.jc("click",function(){return f.Jc(t),f.nc().resetSearch()}),f.Ub(),f.Vb(4,"span",12),f.Zb(5,13),f.Ub(),f.Ub(),f.Ub()}}function v(t,e){1&t&&(f.Vb(0,"tr"),f.Vb(1,"th",14),f.Uc(2,"Action"),f.Ub(),f.Vb(3,"th",15),f.Zb(4,16),f.Ub(),f.Vb(5,"th",17),f.fc(6,18),f.Qb(7,"p-sortIcon",19),f.cc(),f.Ub(),f.Ub())}function y(t,e){if(1&t){const t=f.Wb();f.Vb(0,"tr"),f.Vb(1,"td",20),f.Vb(2,"button",21),f.jc("click",function(){f.Jc(t);const n=e.$implicit;return f.nc().unblockAccount(n)}),f.Zb(3,22),f.Ub(),f.Ub(),f.Vb(4,"td"),f.Vb(5,"a",23),f.Vb(6,"div",24),f.Vb(7,"img",25),f.jc("error",function(e){return f.Jc(t),f.nc().switchToDefaultAvatar(e)}),f.Ub(),f.Vb(8,"div"),f.Uc(9),f.Vb(10,"span",26),f.Uc(11),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(12,"td"),f.Uc(13),f.oc(14,"date"),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Cb(5),f.uc("href",t.blockedAccount.url,f.Lc),f.Cb(2),f.uc("src",null==t.blockedAccount.avatar?null:t.blockedAccount.avatar.path,f.Lc),f.Cb(2),f.Wc(" ",t.blockedAccount.displayName," "),f.Cb(2),f.Vc(t.blockedAccount.nameWithHost),f.Cb(2),f.Vc(f.qc(14,5,t.createdAt,"short"))}}function x(t,e){1&t&&(f.Tb(0),f.Zb(1,30),f.Sb())}function w(t,e){1&t&&(f.Tb(0),f.Zb(1,31),f.Sb())}function k(t,e){if(1&t&&(f.Vb(0,"tr"),f.Vb(1,"td",27),f.Vb(2,"div",28),f.Sc(3,x,2,0,"ng-container",29),f.Sc(4,w,2,0,"ng-container",29),f.Ub(),f.Ub(),f.Ub()),2&t){const t=f.nc();f.Cb(3),f.uc("ngIf",t.search),f.Cb(1),f.uc("ngIf",!t.search)}}let U=(()=>{class t extends g.e{constructor(){super(...arguments),this.mode=g.b.Account}getIdentifier(){return"MyAccountBlocklistComponent"}}return t.\u0275fac=function(e){return S(e||t)},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-blocklist"]],features:[f.zb],decls:10,vars:12,consts:function(){let t,e,n,o,c,i,r,a,l,s;return t="Muted accounts",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted accounts\n        ",n="Filtrar...",o="Limpar filtros",c="Conta",i="Silenciado em \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",r="Remover sil\xEAncio",a="Open account in a new tab",l="No account found matching current filters.",s="No account found.",[["iconName","user-x","aria-hidden","true"],t,[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter","placeholder",n,3,"keyup"],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],o,[2,"width","150px"],[2,"width","calc(100% - 300px)"],c,["pSortableColumn","createdAt",2,"width","150px"],i,["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],r,["title",a,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"text-muted"],["colspan","6"],[1,"no-results"],[4,"ngIf"],l,s]},template:function(t,e){1&t&&(f.Vb(0,"h1"),f.Qb(1,"my-global-icon",0),f.Tb(2),f.Zb(3,1),f.Sb(),f.Ub(),f.Vb(4,"p-table",2),f.bc(5,3),f.jc("onLazyLoad",function(t){return e.loadLazy(t)})("onPage",function(t){return e.onPage(t)}),f.Sc(6,_,6,0,"ng-template",4),f.Sc(7,v,8,0,"ng-template",5),f.Sc(8,y,15,8,"ng-template",6),f.Sc(9,k,5,2,"ng-template",7),f.Ub()),2&t&&(f.Cb(4),f.dc("{first}")("{last}")("{totalRecords}"),f.ac(5),f.uc("value",e.blockedAccounts)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("rowsPerPageOptions",e.rowsPerPageOptions)("sortField",e.sort.field)("sortOrder",e.sort.order)("showCurrentPageReport",!0))},directives:[C.a,c.k,O.g,c.j,c.i,M.n],pipes:[M.e],styles:['.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),t})();const S=f.Xb(U);var V=n("E/r9");function T(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",10),f.Vb(1,"div",11),f.Vb(2,"input",12),f.jc("keyup",function(e){return f.Jc(t),f.nc().onSearch(e)}),f.Ub(),f.Vb(3,"a",13),f.jc("click",function(){return f.Jc(t),f.nc().resetSearch()}),f.Ub(),f.Vb(4,"span",14),f.Zb(5,15),f.Ub(),f.Ub(),f.Vb(6,"a",16),f.jc("click",function(){return f.Jc(t),f.nc().addServersToBlock()})("key.enter",function(){return f.Jc(t),f.nc().addServersToBlock()}),f.Qb(7,"my-global-icon",17),f.Tb(8),f.Zb(9,18),f.Sb(),f.Ub(),f.Ub()}}function z(t,e){1&t&&(f.Vb(0,"tr"),f.Vb(1,"th",19),f.Uc(2,"Action"),f.Ub(),f.Vb(3,"th",20),f.Zb(4,21),f.Ub(),f.Vb(5,"th",22),f.fc(6,23),f.Qb(7,"p-sortIcon",24),f.cc(),f.Ub(),f.Ub())}function I(t,e){if(1&t){const t=f.Wb();f.Vb(0,"tr"),f.Vb(1,"td",25),f.Vb(2,"button",26),f.jc("click",function(){f.Jc(t);const n=e.$implicit;return f.nc().unblockServer(n)}),f.Zb(3,27),f.Ub(),f.Ub(),f.Vb(4,"td"),f.Vb(5,"a",28),f.Uc(6),f.Qb(7,"span",29),f.Ub(),f.Ub(),f.Vb(8,"td"),f.Uc(9),f.oc(10,"date"),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Cb(5),f.uc("href","https://"+t.blockedServer.host,f.Lc),f.Cb(1),f.Wc(" ",t.blockedServer.host," "),f.Cb(3),f.Vc(f.qc(10,3,t.createdAt,"short"))}}function $(t,e){1&t&&(f.Tb(0),f.Zb(1,33),f.Sb())}function A(t,e){1&t&&(f.Tb(0),f.Zb(1,34),f.Sb())}function N(t,e){if(1&t&&(f.Vb(0,"tr"),f.Vb(1,"td",30),f.Vb(2,"div",31),f.Sc(3,$,2,0,"ng-container",32),f.Sc(4,A,2,0,"ng-container",32),f.Ub(),f.Ub(),f.Ub()),2&t){const t=f.nc();f.Cb(3),f.uc("ngIf",t.search),f.Cb(1),f.uc("ngIf",!t.search)}}let E=(()=>{class t extends g.f{constructor(){super(...arguments),this.mode=g.b.Account}getIdentifier(){return"MyAccountServerBlocklistComponent"}}return t.\u0275fac=function(e){return F(e||t)},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-server-blocklist"]],features:[f.zb],decls:12,vars:12,consts:function(){let t,e,n,o,c,i,r,a,l,s,g,b;return t="Muted servers",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted instances\n        ",n="Mute domains",o="Filtrar...",c="Limpar filtros",i="Mute domain",r="Inst\xE2ncia",a="Silenciado em \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",l="Remover sil\xEAncio",s="Abrir inst\xE2ncia em uma nova aba",g="No server found matching current filters.",b="No server found.",[["iconName","peertube-x","aria-hidden","true"],t,[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["action",n,3,"domains"],["batchDomainsModal",""],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter","placeholder",o,3,"keyup"],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],c,[1,"ml-2","block-button",3,"click","key.enter"],["iconName","add","aria-hidden","true"],i,[2,"width","150px"],[2,"width","calc(100% - 300px)"],r,["pSortableColumn","createdAt",2,"width","150px"],a,["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],l,["title",s,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"glyphicon","glyphicon-new-window"],["colspan","6"],[1,"no-results"],[4,"ngIf"],g,b]},template:function(t,e){1&t&&(f.Vb(0,"h1"),f.Qb(1,"my-global-icon",0),f.Tb(2),f.Zb(3,1),f.Sb(),f.Ub(),f.Vb(4,"p-table",2),f.bc(5,3),f.jc("onLazyLoad",function(t){return e.loadLazy(t)})("onPage",function(t){return e.onPage(t)}),f.Sc(6,T,10,0,"ng-template",4),f.Sc(7,z,8,0,"ng-template",5),f.Sc(8,I,11,6,"ng-template",6),f.Sc(9,N,5,2,"ng-template",7),f.Ub(),f.Vb(10,"my-batch-domains-modal",8,9),f.jc("domains",function(t){return e.onDomainsToBlock(t)}),f.Ub()),2&t&&(f.Cb(4),f.dc("{first}")("{last}")("{totalRecords}"),f.ac(5),f.uc("value",e.blockedServers)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("rowsPerPageOptions",e.rowsPerPageOptions)("sortField",e.sort.field)("sortOrder",e.sort.order)("showCurrentPageReport",!0))},directives:[C.a,c.k,O.g,V.a,c.j,c.i,M.n],pipes:[M.e],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0;flex-wrap:nowrap}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%], .table-comment-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%]     p:last-child, .table-comment-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.block-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus, .block-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.block-button.focus-visible[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.block-button[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.block-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.block-button.disabled[_ngcontent-%COMP%], .block-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}']}),t})();const F=f.Xb(E);var R=n("3Pt+"),L=n("AlII");const G=["userNotification"];function Q(t,e){1&t&&(f.Tb(0),f.Qb(1,"my-global-icon",16),f.Vb(2,"span"),f.Zb(3,17),f.Ub(),f.Sb())}function j(t,e){1&t&&(f.Tb(0),f.Qb(1,"my-global-icon",18),f.Vb(2,"span"),f.Zb(3,19),f.Ub(),f.Sb())}let D=(()=>{class t{constructor(){this._notificationSortType="createdAt"}get notificationSortType(){return this.hasUnreadNotifications()?this._notificationSortType:"createdAt"}set notificationSortType(t){this._notificationSortType=t}markAllAsRead(){this.userNotification.markAllAsRead()}hasUnreadNotifications(){return 0!==this.userNotification.notifications.filter(t=>!1===t.read).length}onChangeSortColumn(){this.userNotification.changeSortColumn(this.notificationSortType)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Jb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&f.Pc(G,!0),2&t){let t;f.Gc(t=f.kc())&&(e.userNotification=t.first)}},decls:19,vars:5,consts:function(){let t,e,n,o,c,i;return t="Notifications",e="\n          " + "\ufffd#5\ufffd" + "\n          " + "\ufffd/#5\ufffd" + "Prefer\xEAncias de Notifica\xE7\xE3o \n        ",n="Newest first",o="Unread first",c="Marcar todos como lido",i="Tudo lido",[[1,"sr-only"],t,[1,"header"],["routerLink","/my-account/settings","fragment","notifications"],e,["iconName","cog","aria-hidden","true"],[1,"peertube-select-container","peertube-select-button","ml-2","mr-2"],[1,"form-control",3,"ngModel","ngModelChange"],["value","undefined","disabled",""],["value","createdAt"],n,["value","read",3,"disabled"],o,[1,"btn","ml-auto",3,"disabled","click"],[4,"ngIf"],["userNotification",""],["iconName","tick","aria-hidden","true"],c,["iconName","circle-tick","aria-hidden","true"],i]},template:function(t,e){1&t&&(f.Vb(0,"h1",0),f.Zb(1,1),f.Ub(),f.Vb(2,"div",2),f.Vb(3,"a",3),f.fc(4,4),f.Qb(5,"my-global-icon",5),f.cc(),f.Ub(),f.Vb(6,"div",6),f.Vb(7,"select",7),f.jc("ngModelChange",function(t){return e.notificationSortType=t})("ngModelChange",function(){return e.onChangeSortColumn()}),f.Vb(8,"option",8),f.Uc(9,"Sort by"),f.Ub(),f.Vb(10,"option",9),f.Zb(11,10),f.Ub(),f.Vb(12,"option",11),f.Zb(13,12),f.Ub(),f.Ub(),f.Ub(),f.Vb(14,"button",13),f.jc("click",function(){return e.markAllAsRead()}),f.Sc(15,Q,4,0,"ng-container",14),f.Sc(16,j,4,0,"ng-container",14),f.Ub(),f.Ub(),f.Qb(17,"my-user-notifications",null,15)),2&t&&(f.Cb(7),f.uc("ngModel",e.notificationSortType),f.Cb(5),f.uc("disabled",!e.hasUnreadNotifications()),f.Cb(2),f.uc("disabled",!e.hasUnreadNotifications()),f.Cb(1),f.uc("ngIf",e.hasUnreadNotifications()),f.Cb(1),f.uc("ngIf",!e.hasUnreadNotifications()))},directives:[d.k,C.a,R.v,R.m,R.p,R.q,R.x,M.n,L.a],styles:['.header[_ngcontent-%COMP%]{display:flex;font-size:15px;margin-bottom:20px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.header[_ngcontent-%COMP%]   a.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:18px;margin-right:3px;top:-1px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:3px;top:-1px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}my-user-notifications[_ngcontent-%COMP%]{font-size:15px}@media screen and (max-width:500px){.header[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:15px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-left:0!important}}@media screen and (min-width:500px) and (max-width:800px){.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:0;padding:0 13px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:auto!important}}@media screen and (min-width:500px) and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:0;padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:auto!important}}']}),t})();var Z=n("6rF9"),B=n("NH89"),H=n("2Xwd"),J=n("nnN+");function W(t,e){if(1&t&&(f.Vb(0,"div",11),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Vc(t.error)}}function Y(t,e){if(1&t&&(f.Vb(0,"div",12),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Wc(" ",t.formErrors["display-name"]," ")}}function q(t,e){if(1&t&&(f.Vb(0,"div",12),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Wc(" ",t.formErrors.description," ")}}const X=function(t){return{"input-error":t}};let K=(()=>{class t extends a.a{constructor(t,e,n){super(),this.formValidatorService=t,this.notifier=e,this.userService=n,this.user=null,this.error=null}ngOnInit(){this.buildForm({"display-name":J.e,description:J.d}),this.userInformationLoaded.subscribe(()=>{this.form.patchValue({"display-name":this.user.account.displayName,description:this.user.account.description})})}updateMyProfile(){const t=this.form.value["display-name"],e=this.form.value.description||null;this.error=null,this.userService.updateMyProfile({displayName:t,description:e}).subscribe(()=>{this.user.account.displayName=t,this.user.account.description=e,this.notifier.success("Perfil atualizado.")},t=>this.error=t.message)}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(a.b),f.Pb(m.m),f.Pb(m.D))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-profile"]],inputs:{user:"user",userInformationLoaded:"userInformationLoaded"},features:[f.zb],decls:13,vars:11,consts:function(){let t,e,n;return t="Nome de exibi\xE7\xE3o",e="Descri\xE7\xE3o",n="Salvar",[["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","display-name"],t,["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],e,["id","description","formControlName","description",1,"form-control",3,"ngClass"],["type","submit","value",n,3,"disabled"],[1,"alert","alert-danger"],[1,"form-error"]]},template:function(t,e){1&t&&(f.Sc(0,W,2,1,"div",0),f.Vb(1,"form",1),f.jc("ngSubmit",function(){return e.updateMyProfile()}),f.Vb(2,"div",2),f.Vb(3,"label",3),f.Zb(4,4),f.Ub(),f.Qb(5,"input",5),f.Sc(6,Y,2,1,"div",6),f.Ub(),f.Vb(7,"div",2),f.Vb(8,"label",7),f.Zb(9,8),f.Ub(),f.Qb(10,"textarea",9),f.Sc(11,q,2,1,"div",6),f.Ub(),f.Qb(12,"input",10),f.Ub()),2&t&&(f.uc("ngIf",e.error),f.Cb(1),f.uc("formGroup",e.form),f.Cb(4),f.uc("ngClass",f.yc(7,X,e.formErrors["display-name"])),f.Cb(1),f.uc("ngIf",e.formErrors["display-name"]),f.Cb(4),f.uc("ngClass",f.yc(9,X,e.formErrors.description)),f.Cb(1),f.uc("ngIf",e.formErrors.description),f.Cb(1),f.uc("disabled",!e.form.valid))},directives:[M.n,R.y,R.n,R.h,R.b,R.m,R.f,M.l],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.form-group[_ngcontent-%COMP%]:first-child{margin-bottom:15px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}']}),t})();var tt=n("tf/r"),et=n("IzLi"),nt=n("Ju5/"),ot=function(){return nt.a.Date.now()},ct=n("SiRs"),it=Math.max,rt=Math.min,at=n("CjA7");function lt(t,e){1&t&&(f.Vb(0,"div"),f.Zb(1,5),f.Ub())}function st(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div"),f.Vb(1,"my-input-switch",7),f.jc("ngModelChange",function(e){f.Jc(t);const n=f.nc(2).$implicit;return f.nc().emailNotifications[n]=e})("ngModelChange",function(){f.Jc(t);const e=f.nc(2).$implicit,n=f.nc();return n.updateEmailSetting(e,n.emailNotifications[e])}),f.Ub(),f.Ub()}if(2&t){const t=f.nc(2).$implicit,e=f.nc();f.Cb(1),f.uc("ngModel",e.emailNotifications[t])}}function gt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",0),f.Vb(1,"div"),f.Uc(2),f.Ub(),f.Vb(3,"div"),f.Vb(4,"my-input-switch",7),f.jc("ngModelChange",function(e){f.Jc(t);const n=f.nc().$implicit;return f.nc().webNotifications[n]=e})("ngModelChange",function(){f.Jc(t);const e=f.nc().$implicit,n=f.nc();return n.updateWebSetting(e,n.webNotifications[e])}),f.Ub(),f.Ub(),f.Sc(5,st,2,1,"div",3),f.Ub()}if(2&t){const t=f.nc().$implicit,e=f.nc();f.Cb(2),f.Vc(e.labelNotifications[t]),f.Cb(2),f.uc("ngModel",e.webNotifications[t]),f.Cb(1),f.uc("ngIf",e.emailEnabled)}}function bt(t,e){if(1&t&&(f.Tb(0),f.Sc(1,gt,6,3,"div",6),f.Sb()),2&t){const t=e.$implicit,n=f.nc();f.Cb(1),f.uc("ngIf",n.hasUserRight(t))}}let ut=(()=>{class t{constructor(t,e,n){this.userNotificationService=t,this.serverService=e,this.notifier=n,this.user=null,this.notificationSettingKeys=[],this.emailNotifications={},this.webNotifications={},this.labelNotifications={},this.rightNotifications={},this.emailEnabled=!1,this.savePreferences=function(t,e,n){var o,c,i,r,a,l,s=0,g=!1,b=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=o,i=c;return o=c=void 0,s=e,r=t.apply(i,n)}function p(t){return s=t,a=setTimeout(f,e),g?d(t):r}function m(t){var n=t-l;return void 0===l||n>=e||n<0||b&&t-s>=i}function f(){var t=ot();if(m(t))return C(t);a=setTimeout(f,function(t){var n=e-(t-l);return b?rt(n,i-(t-s)):n}(t))}function C(t){return a=void 0,u&&o?d(t):(o=c=void 0,r)}function h(){var t=ot(),n=m(t);if(o=arguments,c=this,l=t,n){if(void 0===a)return p(l);if(b)return clearTimeout(a),a=setTimeout(f,e),d(l)}return void 0===a&&(a=setTimeout(f,e)),r}return e=Object(ct.a)(e)||0,Object(et.a)(undefined)&&(g=!!undefined.leading,i=(b="maxWait"in undefined)?it(Object(ct.a)(undefined.maxWait)||0,e):i,u="trailing"in undefined?!!undefined.trailing:u),h.cancel=function(){void 0!==a&&clearTimeout(a),s=0,o=l=c=a=void 0},h.flush=function(){return void 0===a?r:C(ot())},h}(this.savePreferencesImpl.bind(this),500),this.labelNotifications={newVideoFromSubscription:"Novo v\xEDdeo de suas inscri\xE7\xF5es",newCommentOnMyVideo:"Novo coment\xE1rio em seu v\xEDdeo",abuseAsModerator:"New abuse",videoAutoBlacklistAsModerator:"Video blocked automatically waiting review",blacklistOnMyVideo:"Um de seus v\xEDdeos foi bloqueado/desbloqueado",myVideoPublished:"V\xEDdeo publicado (ap\xF3s transcodifica\xE7\xE3o/atualiza\xE7\xE3o programada)",myVideoImportFinished:"Importa\xE7\xE3o de v\xEDdeo finalizada",newUserRegistration:"Um novo usu\xE1rio se registrou em sua inst\xE2ncia",newFollow:"Voc\xEA ou um de seus canais tem um novo seguidor",commentMention:"Algu\xE9m mencionou voc\xEA em um coment\xE1rio",newInstanceFollower:"Sua inst\xE2ncia tem um novo seguidor",autoInstanceFollowing:"Your instance automatically followed another instance",abuseNewMessage:"An abuse report received a new message",abuseStateChange:"One of your abuse reports has been accepted or rejected by moderators"},this.notificationSettingKeys=Object.keys(this.labelNotifications),this.rightNotifications={abuseAsModerator:6,videoAutoBlacklistAsModerator:11,newUserRegistration:1,newInstanceFollower:2,autoInstanceFollowing:8}}ngOnInit(){this.serverService.getConfig().subscribe(t=>{this.emailEnabled=t.email.enabled}),this.userInformationLoaded.subscribe(()=>this.loadNotificationSettings())}hasUserRight(t){const e=this.rightNotifications[t];return!e||this.user.hasRight(e)}updateEmailSetting(t,e){!0===e?this.user.notificationSettings[t]|=2:this.user.notificationSettings[t]&=-3,this.savePreferences()}updateWebSetting(t,e){!0===e?this.user.notificationSettings[t]|=1:this.user.notificationSettings[t]&=-2,this.savePreferences()}savePreferencesImpl(){this.userNotificationService.updateNotificationSettings(this.user.notificationSettings).subscribe(()=>{this.notifier.success("Prefer\xEAncias salvas",void 0,2e3)},t=>this.notifier.error(t.message))}loadNotificationSettings(){for(const t of Object.keys(this.user.notificationSettings)){const e=this.user.notificationSettings[t];this.emailNotifications[t]=2&e,this.webNotifications[t]=1&e}}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(s.j),f.Pb(m.x),f.Pb(m.m))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-notification-preferences"]],inputs:{user:"user",userInformationLoaded:"userInformationLoaded"},decls:7,vars:2,consts:function(){let t,e,n;return t="Atividades",e="Web",n="E-mail",[[1,"custom-row"],t,e,[4,"ngIf"],[4,"ngFor","ngForOf"],n,["class","custom-row",4,"ngIf"],[3,"ngModel","ngModelChange"]]},template:function(t,e){1&t&&(f.Vb(0,"div",0),f.Vb(1,"div"),f.Zb(2,1),f.Ub(),f.Vb(3,"div"),f.Zb(4,2),f.Ub(),f.Sc(5,lt,2,0,"div",3),f.Ub(),f.Sc(6,bt,2,1,"ng-container",4)),2&t&&(f.Cb(5),f.uc("ngIf",e.emailEnabled),f.Cb(1),f.uc("ngForOf",e.notificationSettingKeys))},directives:[M.n,M.m,at.a,R.m,R.p],styles:[".custom-row[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.1)}.custom-row[_ngcontent-%COMP%]:first-child{font-size:16px}.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px}.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:350px}@media screen and (max-width:576px){.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:auto;flex-grow:1}}"]}),t})();var dt=n("2gxN"),pt=n("cp0P"),mt=n("vkgz"),ft=n("RM9B");function Ct(t,e){if(1&t&&(f.Vb(0,"div",7),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Vc(t.error)}}function ht(t,e){if(1&t&&(f.Vb(0,"div",8),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Vc(t.success)}}function Pt(t,e){if(1&t&&(f.Vb(0,"div",9),f.fc(1,10),f.Qb(2,"span",4),f.cc(),f.Ub()),2&t){const t=f.nc();f.Cb(2),f.dc(t.user.pendingEmail),f.ac(1)}}function Ot(t,e){if(1&t&&(f.Vb(0,"div",17),f.Uc(1),f.Ub()),2&t){const t=f.nc(2);f.Cb(1),f.Wc(" ",t.formErrors["new-email"]," ")}}function Mt(t,e){if(1&t&&(f.Vb(0,"div",17),f.Uc(1),f.Ub()),2&t){const t=f.nc(2);f.Cb(1),f.Wc(" ",t.formErrors.password," ")}}const _t=function(t){return{"input-error":t}};function vt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"form",11),f.jc("ngSubmit",function(){return f.Jc(t),f.nc().changeEmail()}),f.Vb(1,"div",12),f.Qb(2,"input",13),f.Sc(3,Ot,2,1,"div",14),f.Ub(),f.Vb(4,"div",12),f.Qb(5,"my-input-toggle-hidden",15),f.Sc(6,Mt,2,1,"div",14),f.Ub(),f.Qb(7,"input",16),f.Ub()}if(2&t){const t=f.nc();f.uc("formGroup",t.form),f.Cb(2),f.uc("ngClass",f.yc(6,_t,t.formErrors["new-email"])),f.Cb(1),f.uc("ngIf",t.formErrors["new-email"]),f.Cb(2),f.uc("ngClass",f.yc(8,_t,t.formErrors.password)),f.Cb(1),f.uc("ngIf",t.formErrors.password),f.Cb(1),f.uc("disabled",!t.form.valid)}}let yt=(()=>{class t extends a.a{constructor(t,e,n,o){super(),this.formValidatorService=t,this.authService=e,this.userService=n,this.serverService=o,this.error=null,this.success=null,this.user=null}ngOnInit(){this.buildForm({"new-email":J.f,password:J.i}),this.user=this.authService.getUser()}changeEmail(){this.error=null,this.success=null;const t=this.form.value.password,e=this.form.value["new-email"];Object(pt.a)([this.serverService.getConfig(),this.userService.changeEmail(t,e)]).pipe(Object(mt.a)(()=>this.authService.refreshUserInformation())).subscribe(([t])=>{this.form.reset(),this.success=t.signup.requiresEmailVerification?"Favor verificar seus emails para verificar seu novo email.":"Email atualizado."},t=>{this.error=401!==t.status?t.message:"A sua senha atual \xE9 inv\xE1lida."})}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(a.b),f.Pb(m.a),f.Pb(m.D),f.Pb(m.x))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-change-email"]],features:[f.zb],decls:7,vars:5,consts:function(){let t,e,n,o,c;return t="Seu e-mail atual \xE9 \n          " + "\ufffd#4\ufffd" + "\n          " + "\ufffd0\ufffd" + "\n          " + "\ufffd/#4\ufffd" + "\n        ",e="\n          " + "\ufffd#2\ufffd" + "\n          " + "\ufffd0\ufffd" + "\n          " + "\ufffd/#2\ufffd" + " est\xE1 aguardando a verifica\xE7\xE3o do e-mail \n        ",n="Novo email",o="Senha atual",c="Mudar email",[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"current-email"],t,[1,"email"],["class","pending-email",4,"ngIf"],["role","form","class","change-email",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"pending-email"],e,["role","form",1,"change-email",3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","id","new-email","placeholder",n,"formControlName","new-email",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["formControlName","password","id","password","placeholder",o,"autocomplete","current-password",3,"ngClass"],["type","submit","value",c,3,"disabled"],[1,"form-error"]]},template:function(t,e){1&t&&(f.Sc(0,Ct,2,1,"div",0),f.Sc(1,ht,2,1,"div",1),f.Vb(2,"div",2),f.fc(3,3),f.Qb(4,"span",4),f.cc(),f.Ub(),f.Sc(5,Pt,3,1,"div",5),f.Sc(6,vt,8,10,"form",6)),2&t&&(f.uc("ngIf",e.error),f.Cb(1),f.uc("ngIf",e.success),f.Cb(3),f.dc(e.user.email),f.ac(3),f.Cb(1),f.uc("ngIf",e.user.pendingEmail),f.Cb(1),f.uc("ngIf",null===e.user.pluginAuth))},directives:[M.n,R.y,R.n,R.h,R.b,R.m,R.f,M.l,ft.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}my-input-toggle-hidden[_ngcontent-%COMP%]{width:340px;display:block}input[type=email][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=email][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=email][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=email][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=email][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.current-email[_ngcontent-%COMP%], .pending-email[_ngcontent-%COMP%]{margin-bottom:15px}.current-email[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .pending-email[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-weight:600}.form-group[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}']}),t})();var xt=n("mrSG");let wt=(()=>{class t{constructor(t,e,n,o,c){this.authService=t,this.notifier=e,this.userService=n,this.confirmService=o,this.redirectService=c,this.user=null}deleteMe(){return Object(xt.a)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirmWithInput("Are you sure you want to delete your account? This will delete all your data, including channels, videos and comments. Content cached by other servers and other third-parties might make longer to be deleted.","Digite seu nome de usu\xE1rio para confirmar",this.user.username,"Delete your account","Excluir minha conta"))&&this.userService.deleteMe().subscribe(()=>{this.notifier.success("Sua conta foi exclu\xEDda."),this.authService.logout(),this.redirectService.redirectToHomepage()},t=>this.notifier.error(t.message))})}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(m.a),f.Pb(m.m),f.Pb(m.D),f.Pb(m.d),f.Pb(m.q))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-danger-zone"]],inputs:{user:"user"},decls:5,vars:0,consts:function(){let t,e;return t="Once you delete your account, there is no going back. You will be asked to confirm this action.",e="Delete your account",[[1,"delete-me"],t,[3,"click"],e]},template:function(t,e){1&t&&(f.Vb(0,"div",0),f.Vb(1,"p"),f.Zb(2,1),f.Ub(),f.Vb(3,"button",2),f.jc("click",function(){return e.deleteMe()}),f.Zb(4,3),f.Ub(),f.Ub())},styles:['.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.delete-me[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .delete-me[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.delete-me[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}']}),t})();var kt=n("AytR"),Ut=n("SxV6"),St=n("JIr8"),Vt=n("lGoh"),Tt=n("tk/3"),zt=n("1lk2"),It=n("BLxp");function $t(t,e){1&t&&(f.Tb(0),f.fc(1,16),f.Qb(2,"strong"),f.cc(),f.Sb())}function At(t,e){if(1&t&&(f.Vb(0,"div",9),f.Vb(1,"label",10),f.Zb(2,11),f.Ub(),f.Vb(3,"my-help"),f.Sc(4,$t,3,0,"ng-template",5),f.Ub(),f.Vb(5,"table",12),f.Vb(6,"tr",13),f.Vb(7,"th",14),f.Uc(8,"Name"),f.Ub(),f.Vb(9,"th",14),f.Uc(10,"Daily Quota"),f.Ub(),f.Vb(11,"th",14),f.Uc(12,"Total Quota"),f.Ub(),f.Vb(13,"th",14),f.Uc(14,"Expiration Date"),f.Ub(),f.Ub(),f.Vb(15,"tr",15),f.Vb(16,"th",14),f.Uc(17),f.Ub(),f.Vb(18,"th",14),f.Uc(19),f.Ub(),f.Vb(20,"th",14),f.Uc(21),f.Ub(),f.Vb(22,"th",14),f.Uc(23),f.Ub(),f.Ub(),f.Ub(),f.Ub()),2&t){const t=f.nc();f.Cb(17),f.Vc(t.userPremiumPlan.premiumStoragePlan.name),f.Cb(2),f.Vc(t.getHRBytes(t.userPremiumPlan.dailyQuota)),f.Cb(2),f.Vc(t.getHRBytes(t.userPremiumPlan.quota)),f.Cb(2),f.Vc(t.getFormattedDate(t.userPremiumPlan.dateTo))}}function Nt(t,e){1&t&&(f.Tb(0),f.fc(1,17),f.Qb(2,"strong"),f.Qb(3,"strong"),f.cc(),f.Sb())}function Et(t,e){if(1&t&&(f.Vb(0,"option",23),f.Uc(1),f.Ub()),2&t){const t=f.nc().$implicit,e=f.nc(2);f.vc("value",t.id),f.uc("disabled",e.isOptionDisabled(t.id)),f.Cb(1),f.Vc(t.name)}}function Ft(t,e){if(1&t&&(f.Tb(0),f.Sc(1,Et,2,3,"option",22),f.Sb()),2&t){const t=e.$implicit;f.Cb(1),f.uc("ngIf",t.active)}}function Rt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",18),f.Vb(1,"select",19),f.jc("change",function(){f.Jc(t);const e=f.nc();return e.premiumStoragePlanChange(e)}),f.Vb(2,"option",20),f.Uc(3,"Instance default"),f.Ub(),f.Sc(4,Ft,2,1,"ng-container",21),f.Ub(),f.Ub()}if(2&t){const t=f.nc();f.Cb(2),f.uc("disabled",t.userHavePremiumStorage()),f.Cb(2),f.uc("ngForOf",t.storagePlans)}}function Lt(t,e){1&t&&(f.Tb(0),f.fc(1,27),f.Qb(2,"strong"),f.cc(),f.Sb())}function Gt(t,e){if(1&t&&f.Qb(0,"div",29),2&t){const t=f.nc().$implicit;f.Db("data-tubepay-product",t.tubePayId)}}function Qt(t,e){if(1&t&&(f.Vb(0,"div"),f.Sc(1,Gt,1,1,"div",28),f.Ub()),2&t){const t=e.$implicit,n=f.nc(2);f.Cb(1),f.uc("ngIf",t.tubePayId==n.chosenPlan.tubePayId)}}function jt(t,e){if(1&t&&(f.Vb(0,"div"),f.Vb(1,"label",24),f.Zb(2,25),f.Ub(),f.Vb(3,"my-help"),f.Sc(4,Lt,3,0,"ng-template",5),f.Ub(),f.Vb(5,"table",26),f.Vb(6,"tr",13),f.Vb(7,"th",14),f.Uc(8,"Daily Quota"),f.Ub(),f.Vb(9,"th",14),f.Uc(10,"Total Quota"),f.Ub(),f.Vb(11,"th",14),f.Uc(12,"Duration"),f.Ub(),f.Vb(13,"th",14),f.Uc(14,"Price (USD)"),f.Ub(),f.Ub(),f.Vb(15,"tr",15),f.Vb(16,"th",14),f.Uc(17),f.Ub(),f.Vb(18,"th",14),f.Uc(19),f.Ub(),f.Vb(20,"th",14),f.Uc(21),f.Ub(),f.Vb(22,"th",14),f.Uc(23),f.Ub(),f.Ub(),f.Ub(),f.Sc(24,Qt,2,1,"div",21),f.Ub()),2&t){const t=f.nc();f.Cb(17),f.Vc(t.getHRBytes(t.chosenPlan.dailyQuota)),f.Cb(2),f.Vc(t.getHRBytes(t.chosenPlan.quota)),f.Cb(2),f.Wc("",t.chosenPlan.duration/2628e6," month[s]"),f.Cb(2),f.Vc(t.getChosenPlanPrice()),f.Cb(1),f.uc("ngForOf",t.storagePlans)}}function Dt(t,e){1&t&&(f.Vb(0,"div",30),f.Qb(1,"div",31),f.Vb(2,"div",32),f.Zb(3,33),f.Ub(),f.Ub())}let Zt=(()=>{class t extends a.a{constructor(t,e,n,o,c){super(),this.formValidatorService=t,this.authHttp=e,this.restExtractor=n,this.notifier=o,this.serverService=c,this.user=null,this.reactiveUpdate=!1,this.notifyOnUpdate=!0,this.languageItems=[],this.chosenPlan=null,this.bytesPipe=new Vt.a,this.updateDetails=this.updateDetails.bind(this)}ngOnInit(){this.buildForm({storagePlan:null}),this.startSubscriptions()}ngOnDestroy(){var t;null===(t=this.formValuesWatcher)||void 0===t||t.unsubscribe(),document.body&&document.body.removeEventListener("PurchaseSuccess",this.updateDetails)}startSubscriptions(){let t;Object(pt.a)([this.getPlans(),this.getMyPlan(),this.serverService.getVideoLanguages(),this.serverService.getConfig(),this.userInformationLoaded.pipe(Object(Ut.a)())]).subscribe(([e,n,o,c])=>{n.success&&n.data.length>0?(this.userHavePremium=!0,this.userPremiumPlan=n.data[n.data.length-1],e.success&&e.plans.forEach(t=>{t.id==this.userPremiumPlan.planId&&(this.chosenPlan=t)})):(this.userHavePremium=!1,this.userPremiumPlan={},this.userPremiumPlan.planId=-1),this.dropdownSelectedPlan=this.userPremiumPlan,e.success&&e.plans.length>0?(this.havePremium=!0,this.storagePlans=e.plans):this.havePremium=!1,this.languageItems=[{label:"L\xEDngua desconhecida",value:"_unknown"}],this.languageItems=this.languageItems.concat(o.map(t=>({label:t.label,value:t.id}))),this.user.videoLanguages||this.languageItems.map(t=>t.value),this.configCopy=c,this.form.patchValue({storagePlan:this.userPremiumPlan.planId}),this.reactiveUpdate&&(t=Object.assign({},this.form.value),this.formValuesWatcher=this.form.valueChanges.subscribe(e=>{Object.keys(e).find(n=>e[n]!==t[n]),t=Object.assign({},this.form.value)}))}),this.subscribeToPremiumStorageEvent()}subscribeToPremiumStorageEvent(){document.body?(document.body.removeEventListener("PurchaseSuccess",this.updateDetails),document.body.addEventListener("PurchaseSuccess",this.updateDetails)):setTimeout(()=>{this.subscribeToPremiumStorageEvent()},200)}getPlans(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"plans").pipe(Object(St.a)(t=>this.restExtractor.handleError(t)))}getMyPlan(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"get-user-active-payment").pipe(Object(St.a)(t=>this.restExtractor.handleError(t)))}getTubePayId(){return this.chosenPlan.tubePayId}havePremiumStorage(){return this.havePremium}userHavePremiumStorage(){return this.userHavePremium}premiumStoragePlanChange(t){const e=this.form.value.storagePlan;e>-1?this.storagePlans.forEach(t=>{t.id==e&&(this.chosenPlan=t)}):this.chosenPlan=null}getChosenPlanPrice(){return parseFloat(this.chosenPlan.priceTube).toFixed(2)}getUserPremiumPlanId(){return this.userPremiumPlan?this.userPremiumPlan.planId:-1}isOptionDisabled(t){return t<this.getUserPremiumPlanId()?"disabled":""}isUpgradeDisabled(){return-1===parseInt(this.form.value.storagePlan,10)}getButtonValue(){return this.form.value.storagePlan<=this.getUserPremiumPlanId()?"Extend":"Upgrade"}getHRBytes(t){return this.bytesPipe.transform(parseInt(t,10),0)}getFormattedDate(t){return new Date(t).toLocaleDateString()}updateDetails(t){let e,n,o,c,i=!0;this.storagePlans.forEach(i=>{i.tubePayId==t.detail.product.id&&(e=i.duration,n=i.priceTube,o=i.tubePayId,c=i.id)}),(void 0===e||void 0===n||c<=-1)&&(this.notifier.error("Something went wrong"),i=!1),t.detail.res.reportResponse.success&&i?this.paymentPost({planId:c,duration:e,priceTube:n,tubePayId:o,payment_tx:t.detail.res.reportResponse.tx_res.tx_hash}).subscribe(t=>{if(t.success&&t.data&&!0===t.data.active){this.startSubscriptions();const t=new Event("premiumStorageAddedSuccessfully");document.body.dispatchEvent(t)}},t=>{this.notifier.error(t.message),console.error(t.message)}):this.notifier.error("Something went wrong after the payment response")}paymentPost(e){return this.authHttp.post(t.GET_PREMIUM_STORAGE_API_URL+"plan-payment",e).pipe(Object(St.a)(t=>this.restExtractor.handleError(t)))}}return t.GET_PREMIUM_STORAGE_API_URL=kt.a.apiUrl+"/api/v1/premium-storage/",t.\u0275fac=function(e){return new(e||t)(f.Pb(a.b),f.Pb(Tt.b),f.Pb(m.r),f.Pb(m.m),f.Pb(m.x))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-storage-settings"]],inputs:{user:"user",reactiveUpdate:"reactiveUpdate",notifyOnUpdate:"notifyOnUpdate",userInformationLoaded:"userInformationLoaded"},features:[f.zb],decls:10,vars:5,consts:function(){let t,e,n,o,c,i,r;return t="Upgrade/Extend your storage plan",e="Your current storage plan",n=" This is your current plan, you can " + "\ufffd#2\ufffd" + "EXTEND" + "\ufffd/#2\ufffd" + " it below choosing the same plan ",o=" You can " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "EXTEND" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " you current plan or get more storage " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "UPGRADING" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " your plan ",o=f.ec(o),c="Chosen plan info",i=" Values shown here are " + "\ufffd#2\ufffd" + "totals, not an aggregate" + "\ufffd/#2\ufffd" + " over your default storage. ",r="Sorry, this instance have no premium storage plans yet.",[["role","form",3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group","form-group-select"],["for","storagePlan"],t,["ptTemplate","customHtml"],["class","peertube-select-container",4,"ngIf"],[4,"ngIf"],["class","form-group col-12 col-lg-4 col-xl-3",4,"ngIf"],[1,"form-group"],["for","myStoragePlan"],e,[1,"planTable"],[1,"planTableHeader"],[1,"planField"],[1,"planTableBody"],n,o,[1,"peertube-select-container"],["formControlName","storagePlan","id","storagePlan",1,"form-control",3,"change"],["value","-1",3,"disabled"],[4,"ngFor","ngForOf"],[3,"value","disabled",4,"ngIf"],[3,"value","disabled"],["for","chosenPlanTable"],c,["id","chosenPlanTable",1,"planTable"],i,["data-tubepay-type","peertube-premium-storage","class","button-tubePay",4,"ngIf"],["data-tubepay-type","peertube-premium-storage",1,"button-tubePay"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","storage-settings",1,"anchor"],[1,"account-title"],r]},template:function(t,e){1&t&&(f.Vb(0,"form",0),f.Sc(1,At,24,4,"div",1),f.Vb(2,"div",2),f.Vb(3,"label",3),f.Zb(4,4),f.Ub(),f.Vb(5,"my-help"),f.Sc(6,Nt,4,0,"ng-template",5),f.Ub(),f.Sc(7,Rt,5,2,"div",6),f.Sc(8,jt,25,5,"div",7),f.Sc(9,Dt,4,0,"div",8),f.Ub(),f.Ub()),2&t&&(f.uc("formGroup",e.form),f.Cb(1),f.uc("ngIf",e.userHavePremiumStorage()),f.Cb(6),f.uc("ngIf",e.havePremiumStorage()),f.Cb(1),f.uc("ngIf",null!==e.chosenPlan),f.Cb(1),f.uc("ngIf",!e.havePremiumStorage()))},directives:[R.y,R.n,R.h,M.n,zt.a,It.a,R.v,R.m,R.f,R.q,R.x,M.m],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.peertube-select-container[_ngcontent-%COMP%]{padding:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;margin:0 0 30px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.form-group-select[_ngcontent-%COMP%]{margin-bottom:30px}.storagePadding[_ngcontent-%COMP%]{padding:10px 0}.padding-left-10[_ngcontent-%COMP%]{padding-left:10px}.planTable[_ngcontent-%COMP%]   .planTableHeader[_ngcontent-%COMP%]{border-bottom:1px solid}.planTable[_ngcontent-%COMP%]   .planField[_ngcontent-%COMP%]{text-align:left;padding:5px 35px 5px 0}[_nghost-%COMP%]     .button-tubePay .am-product-main{margin-top:15px}[_nghost-%COMP%]     .button-tubePay .am-product-main .am-product-panel button{font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 13px;cursor:pointer;font-family:inherit}[_nghost-%COMP%]     .button-tubePay .am-product-main svg.type-icon{margin-right:5px!important}[_nghost-%COMP%]     .button-tubePay .am-product-main svg.product-details-icon{left:5px;top:-2px}[_nghost-%COMP%]     .button-tubePay .am-product-main svg:not(.type-icon):not(.product-details-icon){height:15px;margin:-3px 0 0 5px}']}),t})();var Bt=n("pLZG");function Ht(t,e){if(1&t&&(f.Vb(0,"div",9),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Vc(t.error)}}function Jt(t,e){if(1&t&&(f.Vb(0,"div",10),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Wc(" ",t.formErrors["current-password"]," ")}}function Wt(t,e){if(1&t&&(f.Vb(0,"div",10),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Wc(" ",t.formErrors["new-password"]," ")}}function Yt(t,e){if(1&t&&(f.Vb(0,"div",10),f.Uc(1),f.Ub()),2&t){const t=f.nc();f.Cb(1),f.Wc(" ",t.formErrors["new-confirmed-password"]," ")}}const qt=function(t){return{"input-error":t}};let Xt=(()=>{class t extends a.a{constructor(t,e,n,o){super(),this.formValidatorService=t,this.notifier=e,this.authService=n,this.userService=o,this.error=null,this.user=null}ngOnInit(){this.buildForm({"current-password":J.g,"new-password":J.i,"new-confirmed-password":J.c}),this.user=this.authService.getUser();const t=this.form.get("new-confirmed-password");t.valueChanges.pipe(Object(Bt.a)(t=>t!==this.form.value["new-password"])).subscribe(()=>t.setErrors({matchPassword:!0}))}changePassword(){this.userService.changePassword(this.form.value["current-password"],this.form.value["new-password"]).subscribe(()=>{this.notifier.success("Senha atualizada."),this.form.reset(),this.error=null},t=>{this.error=401!==t.status?t.message:"A sua senha atual \xE9 inv\xE1lida."})}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(a.b),f.Pb(m.m),f.Pb(m.a),f.Pb(m.D))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-change-password"]],features:[f.zb],decls:11,vars:15,consts:function(){let t,e,n,o,c;return t="Alterar senha",e="Senha atual",n="Nova senha",o="Confirmar nova senha",c="Alterar senha",[["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["for","current-password"],t,["formControlName","current-password","inputId","current-password","placeholder",e,"autocomplete","current-password",3,"ngClass"],["class","form-error",4,"ngIf"],["formControlName","new-password","inputId","new-password","placeholder",n,"autocomplete","new-password",3,"ngClass"],["formControlName","new-confirmed-password","inputId","new-confirmed-password","placeholder",o,"autocomplete","new-password",3,"ngClass"],["type","submit","value",c,3,"disabled"],[1,"alert","alert-danger"],[1,"form-error"]]},template:function(t,e){1&t&&(f.Sc(0,Ht,2,1,"div",0),f.Vb(1,"form",1),f.jc("ngSubmit",function(){return e.changePassword()}),f.Vb(2,"label",2),f.Zb(3,3),f.Ub(),f.Qb(4,"my-input-toggle-hidden",4),f.Sc(5,Jt,2,1,"div",5),f.Qb(6,"my-input-toggle-hidden",6),f.Sc(7,Wt,2,1,"div",5),f.Qb(8,"my-input-toggle-hidden",7),f.Sc(9,Yt,2,1,"div",5),f.Qb(10,"input",8),f.Ub()),2&t&&(f.uc("ngIf",e.error),f.Cb(1),f.uc("formGroup",e.form),f.Cb(3),f.uc("ngClass",f.yc(9,qt,e.formErrors["current-password"])),f.Cb(1),f.uc("ngIf",e.formErrors["current-password"]),f.Cb(1),f.uc("ngClass",f.yc(11,qt,e.formErrors["new-password"])),f.Cb(1),f.uc("ngIf",e.formErrors["new-password"]),f.Cb(1),f.uc("ngClass",f.yc(13,qt,e.formErrors["new-confirmed-password"])),f.Cb(1),f.uc("ngIf",e.formErrors["new-confirmed-password"]),f.Cb(1),f.uc("disabled",!e.form.valid))},directives:[M.n,R.y,R.n,R.h,ft.a,R.m,R.f,M.l],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}my-input-toggle-hidden[_ngcontent-%COMP%]{width:340px;display:block}my-input-toggle-hidden[_ngcontent-%COMP%] + my-input-toggle-hidden[_ngcontent-%COMP%]{margin-top:15px}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t})();function Kt(t,e){if(1&t&&(f.Vb(0,"div",10),f.Vb(1,"div",3),f.Qb(2,"div",20),f.Vb(3,"div",6),f.Zb(4,21),f.Ub(),f.Ub(),f.Vb(5,"div",22),f.Qb(6,"my-account-storage-settings",8),f.Ub(),f.Ub()),2&t){const t=f.nc();f.Cb(6),f.uc("user",t.user)("userInformationLoaded",t.userInformationLoaded)}}function te(t,e){1&t&&(f.Vb(0,"div",10),f.Vb(1,"div",3),f.Vb(2,"h2",6),f.Zb(3,23),f.Ub(),f.Ub(),f.Vb(4,"div",4),f.Qb(5,"my-account-change-password"),f.Ub(),f.Ub())}let ee=(()=>{class t{constructor(t,e,n,o,c){this.viewportScroller=t,this.userService=e,this.authService=n,this.notifier=o,this.serverService=c,this.user=null,this.getUserInfo=this.getUserInfo.bind(this)}get userInformationLoaded(){return this.authService.userInformationLoaded}ngOnInit(){this.user=this.authService.getUser(),document.body.addEventListener("premiumStorageAddedSuccessfully",this.getUserInfo)}ngAfterViewChecked(){window.location.hash&&window.location.hash!==this.lastScrollHash&&(this.viewportScroller.scrollToAnchor(window.location.hash.replace("#","")),this.lastScrollHash=window.location.hash)}onAvatarChange(t){this.userService.changeAvatar(t).subscribe(t=>{this.notifier.success("Avatar alterado."),this.user.updateAccountAvatar(t.avatar)},t=>Object(Z.r)({err:t,name:"avatar",notifier:this.notifier}))}isPremiumStorageEnabled(){return this.serverService.getTmpConfig().premium_storage.enabled}ngOnDestroy(){document.body.removeEventListener("premiumStorageAddedSuccessfully",this.getUserInfo)}getUserInfo(){this.authService.refreshUserInformation(),setTimeout(()=>{this.user=this.authService.getUser()},1e3)}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(M.y),f.Pb(m.D),f.Pb(m.a),f.Pb(m.m),f.Pb(m.x))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-settings"]],decls:47,vars:14,consts:function(){let t,e,n,o,c,i,r,a,l;return t="Settings",e="PROFILE SETTINGS",n="VIDEO SETTINGS",o="NOTIFICATIONS",c="INTERFACE",i="EMAIL",r="DANGER ZONE",a="STORAGE SETTINGS",l="PASSWORD",[[1,"sr-only"],t,[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"form-group","col-12","col-lg-8","col-xl-9"],[3,"actor","avatarChange"],[1,"account-title"],e,[3,"user","userInformationLoaded"],["class","form-row mt-5",4,"ngIf"],[1,"form-row","mt-5"],["id","video-settings",1,"anchor"],n,["id","notifications",1,"anchor"],o,c,i,[1,"account-title","account-title-danger"],r,[3,"user"],["id","storage-settings",1,"anchor"],a,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],l]},template:function(t,e){1&t&&(f.Vb(0,"h1",0),f.Zb(1,1),f.Ub(),f.Vb(2,"div",2),f.Qb(3,"div",3),f.Vb(4,"div",4),f.Vb(5,"my-actor-avatar-info",5),f.jc("avatarChange",function(t){return e.onAvatarChange(t)}),f.Ub(),f.Ub(),f.Ub(),f.Vb(6,"div",2),f.Vb(7,"div",3),f.Vb(8,"h2",6),f.Zb(9,7),f.Ub(),f.Ub(),f.Vb(10,"div",4),f.Qb(11,"my-user-quota",8),f.Qb(12,"my-account-profile",8),f.Ub(),f.Ub(),f.Sc(13,Kt,7,2,"div",9),f.Vb(14,"div",10),f.Vb(15,"div",3),f.Qb(16,"div",11),f.Vb(17,"h2",6),f.Zb(18,12),f.Ub(),f.Ub(),f.Vb(19,"div",4),f.Qb(20,"my-user-video-settings",8),f.Ub(),f.Ub(),f.Vb(21,"div",10),f.Vb(22,"div",3),f.Qb(23,"div",13),f.Vb(24,"h2",6),f.Zb(25,14),f.Ub(),f.Ub(),f.Vb(26,"div",4),f.Qb(27,"my-account-notification-preferences",8),f.Ub(),f.Ub(),f.Vb(28,"div",10),f.Vb(29,"div",3),f.Vb(30,"h2",6),f.Zb(31,15),f.Ub(),f.Ub(),f.Vb(32,"div",4),f.Qb(33,"my-user-interface-settings",8),f.Ub(),f.Ub(),f.Sc(34,te,6,0,"div",9),f.Vb(35,"div",10),f.Vb(36,"div",3),f.Vb(37,"h2",6),f.Zb(38,16),f.Ub(),f.Ub(),f.Vb(39,"div",4),f.Qb(40,"my-account-change-email"),f.Ub(),f.Ub(),f.Vb(41,"div",10),f.Vb(42,"div",3),f.Vb(43,"h2",17),f.Zb(44,18),f.Ub(),f.Ub(),f.Vb(45,"div",4),f.Qb(46,"my-account-danger-zone",19),f.Ub(),f.Ub()),2&t&&(f.Cb(5),f.uc("actor",e.user.account),f.Cb(6),f.uc("user",e.user)("userInformationLoaded",e.userInformationLoaded),f.Cb(1),f.uc("user",e.user)("userInformationLoaded",e.userInformationLoaded),f.Cb(1),f.uc("ngIf",e.isPremiumStorageEnabled()),f.Cb(7),f.uc("user",e.user)("userInformationLoaded",e.userInformationLoaded),f.Cb(7),f.uc("user",e.user)("userInformationLoaded",e.userInformationLoaded),f.Cb(6),f.uc("user",e.user)("userInformationLoaded",e.userInformationLoaded),f.Cb(1),f.uc("ngIf",null===e.user.pluginAuth),f.Cb(12),f.uc("user",e.user))},directives:[B.a,H.a,K,M.n,tt.a,ut,dt.a,yt,wt,Zt,Xt],styles:[".account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}.form-group[_ngcontent-%COMP%]{max-width:500px}"]}),t})();var ne=n("tt3q");const oe=function(t){return{"offset-content":t}};function ce(t,e){1&t&&(f.Vb(0,"tr"),f.Vb(1,"th"),f.Uc(2,"Bill Id"),f.Ub(),f.Vb(3,"th"),f.Uc(4,"Plan Name"),f.Ub(),f.Vb(5,"th"),f.Uc(6,"Purchasing date"),f.Ub(),f.Vb(7,"th"),f.Uc(8,"Expiration date"),f.Ub(),f.Vb(9,"th"),f.Uc(10,"Price (USD)"),f.Ub(),f.Vb(11,"th"),f.Uc(12,"Daily Quota"),f.Ub(),f.Vb(13,"th"),f.Uc(14,"Total Quota"),f.Ub(),f.Vb(15,"th"),f.Uc(16,"LifeSpan"),f.Ub(),f.Vb(17,"th"),f.Uc(18,"Active"),f.Ub(),f.Ub())}function ie(t,e){if(1&t&&(f.Vb(0,"tr"),f.Vb(1,"th"),f.Uc(2),f.Ub(),f.Vb(3,"th"),f.Uc(4),f.Ub(),f.Vb(5,"th"),f.Uc(6),f.Ub(),f.Vb(7,"th"),f.Uc(8),f.Ub(),f.Vb(9,"th"),f.Uc(10),f.Ub(),f.Vb(11,"th"),f.Uc(12),f.Ub(),f.Vb(13,"th"),f.Uc(14),f.Ub(),f.Vb(15,"th"),f.Uc(16),f.Ub(),f.Vb(17,"th"),f.Uc(18),f.Ub(),f.Ub()),2&t){const t=e.$implicit,n=f.nc();f.Cb(2),f.Vc(t.id),f.Cb(2),f.Vc(t.premiumStoragePlan.name),f.Cb(2),f.Vc(n.getFormattedDate(t.dateFrom)),f.Cb(2),f.Vc(n.getFormattedDate(t.dateTo)),f.Cb(2),f.Vc(n.getFormattedPrice(t.priceTube)),f.Cb(2),f.Vc(n.getHRBytes(t.dailyQuota)),f.Cb(2),f.Vc(n.getHRBytes(t.quota)),f.Cb(2),f.Vc(n.getHRTime(t.duration)),f.Cb(2),f.Vc(t.active)}}const re=[{path:"",component:(()=>{class t{constructor(t){this.screenService=t,this.menuEntries=[]}get isBroadcastMessageDisplayed(){return this.screenService.isBroadcastMessageDisplayed}ngOnInit(){this.buildMenu()}buildMenu(){const t={label:"Modera\xE7\xE3o",children:[{label:"Muted accounts",routerLink:"/my-account/blocklist/accounts",iconName:"user-x"},{label:"Premium storage billing",routerLink:"/my-account/premium-storage/billing",iconName:"history"},{label:"Muted servers",routerLink:"/my-account/blocklist/servers",iconName:"peertube-x"},{label:"Abuse reports",routerLink:"/my-account/abuses",iconName:"flag"}]};this.menuEntries=[{label:"Settings",routerLink:"/my-account/settings"},{label:"Notifications",routerLink:"/my-account/notifications"},{label:"Applications",routerLink:"/my-account/applications"},t]}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(m.v))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-my-account"]],decls:4,vars:4,consts:[[1,"row"],[3,"menuEntries"],[1,"margin-content","pb-5",3,"ngClass"]],template:function(t,e){1&t&&(f.Vb(0,"div",0),f.Qb(1,"my-top-menu-dropdown",1),f.Vb(2,"div",2),f.Qb(3,"router-outlet"),f.Ub(),f.Ub()),2&t&&(f.Cb(1),f.uc("menuEntries",e.menuEntries),f.Cb(1),f.uc("ngClass",f.yc(2,oe,!e.isBroadcastMessageDisplayed)))},directives:[ne.a,M.l,d.m],styles:[".row[_ngcontent-%COMP%]{flex-direction:column;width:100%}.row[_ngcontent-%COMP%] > my-top-menu-dropdown[_ngcontent-%COMP%]:first-child{flex-grow:1}.row[_ngcontent-%COMP%]     h1{font-size:1.3rem;border-bottom:2px solid #e5e5e5;padding-bottom:15px;margin-bottom:30px}.row[_ngcontent-%COMP%]     h1 my-global-icon{margin-right:10px;vertical-align:bottom;width:24px;height:24px}.row[_ngcontent-%COMP%]     h1 .badge{margin-left:7px}"]}),t})(),canActivateChild:[p.a,m.i],children:[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:ee,data:{meta:{title:"Account settings"}}},{path:"video-channels",redirectTo:"/my-library/video-channels",pathMatch:"full"},{path:"video-playlists",redirectTo:"/my-library/video-playlists",pathMatch:"full"},{path:"video-playlists/create",redirectTo:"/my-library/video-playlists/create",pathMatch:"full"},{path:"video-playlists/:videoPlaylistId",redirectTo:"/my-library/video-playlists/:videoPlaylistId",pathMatch:"full"},{path:"video-playlists/update/:videoPlaylistId",redirectTo:"/my-library/video-playlists/update/:videoPlaylistId",pathMatch:"full"},{path:"videos",redirectTo:"/my-library/videos",pathMatch:"full"},{path:"video-imports",redirectTo:"/my-library/video-imports",pathMatch:"full"},{path:"subscriptions",redirectTo:"/my-library/subscriptions",pathMatch:"full"},{path:"ownership",redirectTo:"/my-library/ownership",pathMatch:"full"},{path:"blocklist/accounts",component:U,data:{meta:{title:"Muted accounts"}}},{path:"premium-storage/billing",component:(()=>{class t{constructor(t,e){this.authHttp=t,this.restExtractor=e,this.billingInformation=[],this.totalRecords=0,this.rowsPerPage=20,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.bytesPipe=new Vt.a}ngOnInit(){this.startSubscriptions()}startSubscriptions(){Object(pt.a)([this.getUserBilling()]).subscribe(([t])=>{t.success&&(this.billingInformation=t.billing)})}getFormattedPrice(t){return parseFloat(t).toFixed(2)}getUserBilling(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"/billing-info").pipe(Object(St.a)(t=>this.restExtractor.handleError(t)))}getFormattedDate(t){return new Date(t).toLocaleDateString()}getHRBytes(t){return this.bytesPipe.transform(parseInt(t,10),0)}getHRTime(t){return`${Math.round(t/26784e5)} month[s]`}}return t.GET_PREMIUM_STORAGE_API_URL=kt.a.apiUrl+"/api/v1/premium-storage/",t.\u0275fac=function(e){return new(e||t)(f.Pb(Tt.b),f.Pb(m.r))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-storage-billing"]],decls:6,vars:1,consts:function(){let t;return t="Storage Billing Information",[[1,"admin-sub-header"],[1,"form-sub-title"],t,[3,"value"],["pTemplate","header"],["pTemplate","body"]]},template:function(t,e){1&t&&(f.Vb(0,"div",0),f.Vb(1,"div",1),f.Zb(2,2),f.Ub(),f.Ub(),f.Vb(3,"p-table",3),f.Sc(4,ce,19,0,"ng-template",4),f.Sc(5,ie,19,9,"ng-template",5),f.Ub()),2&t&&(f.Cb(3),f.uc("value",e.billingInformation))},directives:[c.k,O.g],styles:['.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),t})(),data:{meta:{title:"Storage billing"}}},{path:"blocklist/servers",component:E,data:{meta:{title:"Muted servers"}}},{path:"history/videos",redirectTo:"/my-library/history/videos",pathMatch:"full"},{path:"notifications",component:D,data:{meta:{title:"Notifications"}}},{path:"abuses",component:P,data:{meta:{title:"My abuse reports"}}},{path:"applications",component:(()=>{class t{constructor(t,e,n,o,c){this.authService=t,this.scopedTokensService=e,this.videoService=n,this.notifier=o,this.confirmService=c,this.baseURL=kt.a.originServerUrl||window.location.origin}ngOnInit(){this.feedUrl=this.baseURL,this.scopedTokensService.getScopedTokens().subscribe(t=>this.regenApplications(t),t=>{this.notifier.error(t.message)})}renewToken(){return Object(xt.a)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("Renewing the token will disallow previously configured clients from retrieving the feed until they use the new token. Proceed?","Renew token"))&&this.scopedTokensService.renewScopedTokens().subscribe(t=>{this.regenApplications(t),this.notifier.success("Token renewed. Update your client configuration accordingly.")},t=>{this.notifier.error(t.message)})})}regenApplications(t){const e=this.authService.getUser(),n=this.videoService.getVideoSubscriptionFeedUrls(e.account.id,t.feedToken);this.feedUrl=this.baseURL+n.find(t=>"xml"===t.format).url,this.feedToken=t.feedToken}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(m.a),f.Pb(m.u),f.Pb(s.s),f.Pb(m.m),f.Pb(m.d))},t.\u0275cmp=f.Jb({type:t,selectors:[["my-account-applications"]],decls:25,vars:8,consts:function(){let t,e,n,o,c,i,r;return t="Applications",e="SUBSCRIPTION FEED",n=" Use third-party feed aggregators to retrieve the list of videos from channels you subscribed to. ",o="Feed URL",c="Feed Token",i="\u26A0\uFE0F Never share your feed token with anyone.",r="Renew token",[["iconName","codesandbox","aria-hidden","true"],t,[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"applications-title"],e,[1,"applications-description"],n,[1,"form-group","col-12","col-lg-8","col-xl-9"],[1,"form-group"],["for","feed-url"],o,[3,"value","withToggle","withCopy","show","readonly"],["for","feed-token"],c,[3,"value","withCopy","readonly"],[1,"form-group-description"],i,[1,"form-row","mt-4"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5"],["type","submit","value",r,3,"click"]]},template:function(t,e){1&t&&(f.Vb(0,"h1"),f.Qb(1,"my-global-icon",0),f.Tb(2),f.Zb(3,1),f.Sb(),f.Ub(),f.Vb(4,"div",2),f.Vb(5,"div",3),f.Vb(6,"h2",4),f.Zb(7,5),f.Ub(),f.Vb(8,"div",6),f.Zb(9,7),f.Ub(),f.Ub(),f.Vb(10,"div",8),f.Vb(11,"div",9),f.Vb(12,"label",10),f.Zb(13,11),f.Ub(),f.Qb(14,"my-input-toggle-hidden",12),f.Ub(),f.Vb(15,"div",9),f.Vb(16,"label",13),f.Zb(17,14),f.Ub(),f.Qb(18,"my-input-toggle-hidden",15),f.Vb(19,"div",16),f.Zb(20,17),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(21,"div",18),f.Qb(22,"div",19),f.Vb(23,"div",20),f.Vb(24,"input",21),f.jc("click",function(){return e.renewToken()}),f.Ub(),f.Ub(),f.Ub()),2&t&&(f.Cb(14),f.uc("value",e.feedUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),f.Cb(4),f.uc("value",e.feedToken)("withCopy",!0)("readonly",!0))},directives:[C.a,ft.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.applications-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.form-group[_ngcontent-%COMP%]{max-width:500px}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;display:flex;margin-left:auto}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline;margin-left:5px}']}),t})(),data:{meta:{title:"Applications"}}}]}];let ae=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[d.l.forChild(re)],d.l]}),t})(),le=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[ae,o.b,c.n,i.c,s.h,a.c,g.g,u.a,l.a,r.a,b.a]]}),t})()}}]);