var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__generator=this&&this.__generator||function(t,e){var n,o,i,l,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&l[0]?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(6===l[0]&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(a){l=[6,a],o=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0ERz":function(t,e,n){var o;t.exports=function(){function t(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,o=this.data.length;e<o;e++){var i=[],l=this.data.charCodeAt(e);l>65536?(i[0]=240|(1835008&l)>>>18,i[1]=128|(258048&l)>>>12,i[2]=128|(4032&l)>>>6,i[3]=128|63&l):l>2048?(i[0]=224|(61440&l)>>>12,i[1]=128|(4032&l)>>>6,i[2]=128|63&l):l>128?(i[0]=192|(1984&l)>>>6,i[1]=128|63&l):i[0]=l,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+n][e+o]=0<=n&&n<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=l.getLostPoint(this);(0==n||t>o)&&(t=o,e=n)}return e},createMovieClip:function(t,e,n){var o=t.createEmptyMovieClip(e,n);this.make();for(var i=0;i<this.modules.length;i++)for(var l=1*i,r=0;r<this.modules[i].length;r++){var a=1*r;this.modules[i][r]&&(o.beginFill(0,100),o.moveTo(a,l),o.lineTo(a+1,l),o.lineTo(a+1,l+1),o.lineTo(a,l+1),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var o=t[e],i=t[n];if(null==this.modules[o][i])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[o+r][i+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var o=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(n=0;n<18;n++)o=!t&&1==(e>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o},setupTypeInfo:function(t,e){for(var n=l.getBCHTypeInfo(this.errorCorrectLevel<<3|e),o=0;o<15;o++){var i=!t&&1==(n>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++)i=!t&&1==(n>>o&1),o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,o=this.moduleCount-1,i=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[o][a-s]){var u=!1;r<t.length&&(u=1==(t[r]>>>i&1)),l.getMask(e,o,a-s)&&(u=!u),this.modules[o][a-s]=u,-1==--i&&(r++,i=7)}if((o+=n)<0||this.moduleCount<=o){o-=n,n=-n;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,n,o){for(var i=u.getRSBlocks(t,n),r=new c,a=0;a<o.length;a++){var s=o[a];r.put(s.mode,4),r.put(s.getLength(),l.getLengthInBits(s.mode,t)),s.write(r)}var d=0;for(a=0;a<i.length;a++)d+=i[a].dataCount;if(r.getLengthInBits()>8*d)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*d+")");for(r.getLengthInBits()+4<=8*d&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*d||(r.put(e.PAD0,8),r.getLengthInBits()>=8*d));)r.put(e.PAD1,8);return e.createBytes(r,i)},e.createBytes=function(t,e){for(var n=0,o=0,i=0,r=new Array(e.length),a=new Array(e.length),u=0;u<e.length;u++){var c=e[u].dataCount,d=e[u].totalCount-c;o=Math.max(o,c),i=Math.max(i,d),r[u]=new Array(c);for(var h=0;h<r[u].length;h++)r[u][h]=255&t.buffer[h+n];n+=c;var p=l.getErrorCorrectPolynomial(d),f=new s(r[u],p.getLength()-1).mod(p);for(a[u]=new Array(p.getLength()-1),h=0;h<a[u].length;h++){var g=h+f.getLength()-a[u].length;a[u][h]=g>=0?f.get(g):0}}var v=0;for(h=0;h<e.length;h++)v+=e[h].totalCount;var m=new Array(v),y=0;for(h=0;h<o;h++)for(u=0;u<e.length;u++)h<r[u].length&&(m[y++]=r[u][h]);for(h=0;h<i;h++)for(u=0;u<e.length;u++)h<a[u].length&&(m[y++]=a[u][h]);return m};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0;)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0;)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case 0:return(e+n)%2==0;case 1:return e%2==0;case 2:return n%3==0;case 3:return(e+n)%3==0;case 4:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case 5:return e*n%2+e*n%3==0;case 6:return(e*n%2+e*n%3)%2==0;case 7:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new s([1],0),n=0;n<t;n++)e=e.multiply(new s([1,r.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,o=0;o<e;o++)for(var i=0;i<e;i++){for(var l=0,r=t.isDark(o,i),a=-1;a<=1;a++)if(!(o+a<0||e<=o+a))for(var s=-1;s<=1;s++)i+s<0||e<=i+s||0==a&&0==s||r==t.isDark(o+a,i+s)&&l++;l>5&&(n+=3+l-5)}for(o=0;o<e-1;o++)for(i=0;i<e-1;i++){var u=0;t.isDark(o,i)&&u++,t.isDark(o+1,i)&&u++,t.isDark(o,i+1)&&u++,t.isDark(o+1,i+1)&&u++,0!=u&&4!=u||(n+=3)}for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(n+=40);for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(n+=40);var c=0;for(i=0;i<e;i++)for(o=0;o<e;o++)t.isDark(o,i)&&c++;return n+Math.abs(100*c/e/e-50)/5*10}},r={glog:function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)r.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)r.EXP_TABLE[a]=r.EXP_TABLE[a-4]^r.EXP_TABLE[a-5]^r.EXP_TABLE[a-6]^r.EXP_TABLE[a-8];for(a=0;a<255;a++)r.LOG_TABLE[r.EXP_TABLE[a]]=a;function s(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var o=0;o<t.length-n;o++)this.num[o]=t[o+n]}function u(t,e){this.totalCount=t,this.dataCount=e}function c(){this.buffer=[],this.length=0}s.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(t.get(o)));return new s(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<t.getLength();o++)n[o]^=r.gexp(r.glog(t.get(o))+e);return new s(n,0).mod(t)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(t,e){var n=u.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=n.length/3,i=[],l=0;l<o;l++)for(var r=n[3*l+0],a=n[3*l+1],s=n[3*l+2],c=0;c<r;c++)i.push(new u(a,s));return i},u.getRsBlockTable=function(t,e){switch(e){case i.L:return u.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return u.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return u.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return u.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},c.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var d=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var n=e.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(t=parseFloat(n[1]))}return t}var p=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,n=this._el,o=t.getModuleCount();function i(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&n.setAttribute(o,e[o]);return n}Math.floor(e.width/o),Math.floor(e.height/o),this.clear();var l=i("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:e.colorLight});l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(l),l.appendChild(i("rect",{fill:e.colorLight,width:"100%",height:"100%"})),l.appendChild(i("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<o;r++)for(var a=0;a<o;a++)if(t.isDark(r,a)){var s=i("use",{x:String(a),y:String(r)});s.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),l.appendChild(s)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),f="svg"===document.documentElement.tagName.toLowerCase()?p:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,o=t.getModuleCount(),i=Math.floor(e.width/o),l=Math.floor(e.height/o),r=['<table style="border:0;border-collapse:collapse;">'],a=0;a<o;a++){r.push("<tr>");for(var s=0;s<o;s++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+l+"px;background-color:"+(t.isDark(a,s)?e.colorDark:e.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),n.innerHTML=r.join("");var u=n.childNodes[0],c=(e.width-u.offsetWidth)/2,d=(e.height-u.offsetHeight)/2;c>0&&d>0&&(u.style.margin=d+"px "+c+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,o,i,l,r,a,s,u,c){if("nodeName"in t&&/img/i.test(t.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*e;else void 0===u&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);n.apply(this,arguments)}}function o(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var o=document.createElement("img"),i=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return o.onabort=i,o.onerror=i,o.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var i=function(t,e){this._bIsPainted=!1,this._android=h(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(t){var e=this._elImage,n=this._oContext,o=this._htOption,i=t.getModuleCount(),l=o.width/i,r=o.height/i,a=Math.round(l),s=Math.round(r);e.style.display="none",this.clear();for(var u=0;u<i;u++)for(var c=0;c<i;c++){var d=t.isDark(u,c),h=c*l,p=u*r;n.strokeStyle=d?o.colorDark:o.colorLight,n.lineWidth=1,n.fillStyle=d?o.colorDark:o.colorLight,n.fillRect(h,p,l,r),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,a,s),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,a,s)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&o.call(this,t)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},i}();return(o=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:i.H},"string"==typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(f=p),this._android=h(),this._el=t,this._oQRCode=null,this._oDrawing=new f(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(function(t,e){for(var n=1,o=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),l=0,r=d.length;l<=r;l++){var a=0;switch(e){case i.L:a=d[l][0];break;case i.M:a=d[l][1];break;case i.Q:a=d[l][2];break;case i.H:a=d[l][3]}if(o<=a)break;n++}if(n>d.length)throw new Error("Too long data");return n}(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},o.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},o.prototype.clear=function(){this._oDrawing.clear()},o.CorrectLevel=i,o}()},10:function(t,e){},11:function(t,e){},"1JpH":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){}},"6i9R":function(t,e,n){t.exports=function(t,e){t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var n="7.6.5",o=[],i=function e(n){var i,l="info",r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i("log",l,e)};return i=function(e,n){return function(i,l,r){var a=n.levels[l],s=new RegExp("^("+a+")$");if("log"!==i&&r.unshift(i.toUpperCase()+":"),r.unshift(e+":"),o&&o.push([].concat(r)),t.console){var u=t.console[i];u||"debug"!==i||(u=t.console.info||t.console.log),u&&a&&s.test(i)&&u[Array.isArray(r)?"apply":"call"](t.console,r)}}}(n,r),r.createLogger=function(t){return e(n+": "+t)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:l},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');l=t}return l},(r.history=function(){return o?[].concat(o):[]}).filter=function(t){return(o||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},r.history.clear=function(){o&&(o.length=0)},r.history.disable=function(){null!==o&&(o.length=0,o=null)},r.history.enable=function(){null===o&&(o=[])},r.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i("error",l,e)},r.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i("warn",l,e)},r.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i("debug",l,e)},r}("VIDEOJS"),l=i.createLogger,r=Object.prototype.toString,a=function(t){return c(t)?Object.keys(t):[]};function s(t,e){a(t).forEach((function(n){return e(t[n],n)}))}function u(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach((function(e){e&&s(e,(function(e,n){t[n]=e}))})),t)}function c(t){return!!t&&"object"==typeof t}function d(t){return c(t)&&"[object Object]"===r.call(t)&&t.constructor===Object}function h(e,n){if(!e||!n)return"";if("function"==typeof t.getComputedStyle){var o=t.getComputedStyle(e);return o?o.getPropertyValue(n)||o[n]:""}return""}function p(t){return"string"==typeof t&&/\S/.test(t)}function f(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function g(){return e===t.document}function v(t){return c(t)&&1===t.nodeType}function m(){try{return t.parent!==t.self}catch(e){return!0}}function y(t){return function(n,o){if(!p(n))return e[t](null);p(o)&&(o=e.querySelector(o));var i=v(o)?o:e;return i[t]&&i[t](n)}}function _(t,n,o,l){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===o&&(o={});var r=e.createElement(t);return Object.getOwnPropertyNames(n).forEach((function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(i.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+e+"."),r.setAttribute(t,e)):"textContent"===t?b(r,e):r[t]=e})),Object.getOwnPropertyNames(o).forEach((function(t){r.setAttribute(t,o[t])})),l&&B(r,l),r}function b(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function C(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function k(t,e){return f(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function T(t,e){return t.classList?t.classList.add(e):k(t,e)||(t.className=(t.className+" "+e).trim()),t}function P(t,e){return t.classList?t.classList.remove(e):(f(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function w(t,e,n){var o=k(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!o),n!==o)return n?T(t,e):P(t,e),t}function O(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var o=e[n];null==o||!1===o?t.removeAttribute(n):t.setAttribute(n,!0===o?"":o)}))}function M(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,o=n.length-1;o>=0;o--){var i=n[o].name,l=n[o].value;"boolean"!=typeof t[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(l=null!==l),e[i]=l}return e}function E(t,e){return t.getAttribute(e)}function x(t,e,n){t.setAttribute(e,n)}function S(t,e){t.removeAttribute(e)}function I(){e.body.focus(),e.onselectstart=function(){return!1}}function A(){e.onselectstart=function(){return!0}}function R(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(h(t,"height"))),n.width||(n.width=parseFloat(h(t,"width"))),n}}function N(n){var o;if(n.getBoundingClientRect&&n.parentNode&&(o=n.getBoundingClientRect()),!o)return{left:0,top:0};var i=e.documentElement,l=e.body,r=o.top+(t.pageYOffset||l.scrollTop)-(i.clientTop||l.clientTop||0);return{left:Math.round(o.left+(t.pageXOffset||l.scrollLeft)-(i.clientLeft||l.clientLeft||0)),top:Math.round(r)}}function j(t,e){var n={},o=N(t),i=t.offsetWidth,l=t.offsetHeight,r=o.left,a=e.pageY,s=e.pageX;return e.changedTouches&&(s=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o.top-a+l)/l)),n.x=Math.max(0,Math.min(1,(s-r)/i)),n}function D(t){return c(t)&&3===t.nodeType}function L(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function V(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),v(t)||D(t)?t:"string"==typeof t&&/\S/.test(t)?e.createTextNode(t):void 0})).filter((function(t){return t}))}function B(t,e){return V(e).forEach((function(e){return t.appendChild(e)})),t}function F(t,e){return B(L(t),e)}function U(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var H,z=y("querySelector"),K=y("querySelectorAll"),$=Object.freeze({isReal:g,isEl:v,isInFrame:m,createEl:_,textContent:b,prependTo:C,hasClass:k,addClass:T,removeClass:P,toggleClass:w,setAttributes:O,getAttributes:M,getAttribute:E,setAttribute:x,removeAttribute:S,blockTextSelection:I,unblockTextSelection:A,getBoundingClientRect:R,findPosition:N,getPointerPosition:j,isTextNode:D,emptyEl:L,normalizeContent:V,appendContent:B,insertContent:F,isSingleLeftClick:U,$:z,$$:K}),q=!1,W=function(){if(g()&&!1!==H.options.autoSetup){var t=Array.prototype.slice.call(e.getElementsByTagName("video")),n=Array.prototype.slice.call(e.getElementsByTagName("audio")),o=Array.prototype.slice.call(e.getElementsByTagName("video-js")),i=t.concat(n,o);if(i&&i.length>0)for(var l=0,r=i.length;l<r;l++){var a=i[l];if(!a||!a.getAttribute){G(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&H(a)}else q||G(1)}};function G(e,n){n&&(H=n),t.setTimeout(W,e)}function X(){q=!0,t.removeEventListener("load",X)}g()&&("complete"===e.readyState?X():t.addEventListener("load",X));var Y=function(t){var n=e.createElement("style");return n.className=t,n},Q=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},J=new WeakMap,Z=3;function tt(){return Z++}function et(t,e){if(J.has(t)){var n=J.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&J.delete(t)}}function nt(t,e,n,o){n.forEach((function(n){t(e,n,o)}))}function ot(n){function o(){return!0}function i(){return!1}if(!n||!n.isPropagationStopped){var l=n||t.event;for(var r in n={},l)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&l.preventDefault||(n[r]=l[r]));if(n.target||(n.target=n.srcElement||e),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){l.preventDefault&&l.preventDefault(),n.returnValue=!1,l.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){l.stopPropagation&&l.stopPropagation(),n.cancelBubble=!0,l.cancelBubble=!0,n.isPropagationStopped=o},n.isPropagationStopped=i,n.stopImmediatePropagation=function(){l.stopImmediatePropagation&&l.stopImmediatePropagation(),n.isImmediatePropagationStopped=o,n.stopPropagation()},n.isImmediatePropagationStopped=i,null!=n.clientX){var a=e.documentElement,s=e.body;n.pageX=n.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}n.which=n.charCode||n.keyCode,null!=n.button&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}return n}var it=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){it=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(n){}}();var lt=["touchstart","touchmove"];function rt(t,e,n){if(Array.isArray(e))return nt(rt,t,e,n);J.has(t)||J.set(t,{});var o=J.get(t);if(o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),n.guid||(n.guid=tt()),o.handlers[e].push(n),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,n){if(!o.disabled){e=ot(e);var l=o.handlers[e.type];if(l)for(var r=l.slice(0),a=0,s=r.length;a<s&&!e.isImmediatePropagationStopped();a++)try{r[a].call(t,e,n)}catch(u){i.error(u)}}}),1===o.handlers[e].length)if(t.addEventListener){var l=!1;it&&lt.indexOf(e)>-1&&(l={passive:!0}),t.addEventListener(e,o.dispatcher,l)}else t.attachEvent&&t.attachEvent("on"+e,o.dispatcher)}function at(t,e,n){if(J.has(t)){var o=J.get(t);if(o.handlers){if(Array.isArray(e))return nt(at,t,e,n);var i=function(t,e){o.handlers[e]=[],et(t,e)};if(void 0!==e){var l=o.handlers[e];if(l)if(n){if(n.guid)for(var r=0;r<l.length;r++)l[r].guid===n.guid&&l.splice(r--,1);et(t,e)}else i(t,e)}else for(var a in o.handlers)Object.prototype.hasOwnProperty.call(o.handlers||{},a)&&i(t,a)}}}function st(t,e,n){var o=J.has(t)?J.get(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ot(e),o.dispatcher&&o.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&!0===e.bubbles)st.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){J.has(e.target)||J.set(e.target,{});var l=J.get(e.target);e.target[e.type]&&(l.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),l.disabled=!1)}return!e.defaultPrevented}function ut(t,e,n){if(Array.isArray(e))return nt(ut,t,e,n);var o=function o(){at(t,e,o),n.apply(this,arguments)};o.guid=n.guid=n.guid||tt(),rt(t,e,o)}function ct(t,e,n){var o=function o(){at(t,e,o),n.apply(this,arguments)};o.guid=n.guid=n.guid||tt(),rt(t,e,o)}var dt,ht=Object.freeze({fixEvent:ot,on:rt,off:at,trigger:st,one:ut,any:ct}),pt=30,ft=function(t,e,n){e.guid||(e.guid=tt());var o=e.bind(t);return o.guid=n?n+"_"+e.guid:e.guid,o},gt=function(e,n){var o=t.performance.now();return function(){var i=t.performance.now();i-o>=n&&(e.apply(void 0,arguments),o=i)}},vt=function(e,n,o,i){var l;void 0===i&&(i=t);var r=function(){var t=this,r=arguments,a=function(){l=null,a=null,o||e.apply(t,r)};!l&&o&&e.apply(t,r),i.clearTimeout(l),l=i.setTimeout(a,n)};return r.cancel=function(){i.clearTimeout(l),l=null},r},mt=function(){};mt.prototype.allowedEvents_={},mt.prototype.addEventListener=mt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},rt(this,t,e),this.addEventListener=n},mt.prototype.removeEventListener=mt.prototype.off=function(t,e){at(this,t,e)},mt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ut(this,t,e),this.addEventListener=n},mt.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ct(this,t,e),this.addEventListener=n},mt.prototype.dispatchEvent=mt.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ot(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),st(this,t)},mt.prototype.queueTrigger=function(e){var n=this;dt||(dt=new Map);var o=e.type||e,i=dt.get(this);i||(i=new Map,dt.set(this,i));var l=i.get(o);i.delete(o),t.clearTimeout(l);var r=t.setTimeout((function(){0===i.size&&(i=null,dt.delete(n)),n.trigger(e)}),0);i.set(o,r)};var yt=function(t){return t instanceof mt||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},_t=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},bt=function(t){if(!t.nodeName&&!yt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ct=function(t){if(!_t(t))throw new Error("Invalid event type; must be a non-empty string or array.")},kt=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Tt=function(t,e){var n,o,i,l=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return l?(n=t.eventBusEl_,e.length>=3&&e.shift(),o=e[0],i=e[1]):(n=e[0],o=e[1],i=e[2]),bt(n),Ct(o),kt(i),{isTargetingSelf:l,target:n,type:o,listener:i=ft(t,i)}},Pt=function(t,e,n,o){bt(t),t.nodeName?ht[e](t,n,o):t[e](n,o)},wt={on:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=Tt(this,n),l=i.isTargetingSelf,r=i.target,a=i.type,s=i.listener;if(Pt(r,"on",a,s),!l){var u=function(){return t.off(r,a,s)};u.guid=s.guid;var c=function(){return t.off("dispose",u)};c.guid=s.guid,Pt(this,"on","dispose",u),Pt(r,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=Tt(this,n),l=i.isTargetingSelf,r=i.target,a=i.type,s=i.listener;if(l)Pt(r,"one",a,s);else{var u=function e(){t.off(r,a,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];s.apply(null,o)};u.guid=s.guid,Pt(r,"one",a,u)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=Tt(this,n),l=i.isTargetingSelf,r=i.target,a=i.type,s=i.listener;if(l)Pt(r,"any",a,s);else{var u=function e(){t.off(r,a,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];s.apply(null,o)};u.guid=s.guid,Pt(r,"any",a,u)}},off:function(t,e,n){if(!t||_t(t))at(this.eventBusEl_,t,e);else{var o=t,i=e;bt(o),Ct(i),kt(n),n=ft(this,n),this.off("dispose",n),o.nodeName?(at(o,i,n),at(o,"dispose",n)):yt(o)&&(o.off(i,n),o.off("dispose",n))}},trigger:function(t,e){return st(this.eventBusEl_,t,e)}};function Ot(e,n){void 0===n&&(n={});var o=n.eventBusKey;if(o){if(!e[o].nodeName)throw new Error('The eventBusKey "'+o+'" does not refer to an element.');e.eventBusEl_=e[o]}else e.eventBusEl_=_("span",{className:"vjs-event-bus"});return u(e,wt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Mt={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),s(t,(function(t,o){n.state[o]!==t&&((e=e||{})[o]={from:n.state[o],to:t}),n.state[o]=t})),e&&yt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Et(t,e){return u(t,Mt),t.state=u({},t.state,e),"function"==typeof t.handleStateChanged&&yt(t)&&t.on("statechanged",t.handleStateChanged),t}var xt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},St=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function It(){for(var t={},e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach((function(e){e&&s(e,(function(e,n){d(e)?(d(t[n])||(t[n]={}),t[n]=It(t[n],e)):t[n]=e}))})),t}var At=function(){function e(t,e,n){if(this.player_=!t&&this.play?t=this:t,this.parentComponent_=null,this.options_=It({},this.options_),e=this.options_=It(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var o=t&&t.id&&t.id()||"no_player";this.id_=o+"_component_"+tt()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Ot(this,{eventBusKey:this.el_?"el_":null}),Et(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var n=e.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),J.has(this.el_)&&J.delete(this.el_),this.el_=null),this.player_=null},n.player=function(){return this.player_},n.options=function(t){return t?(this.options_=It(this.options_,t),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(t,e,n){return _(t,e,n)},n.localize=function(t,e,n){void 0===n&&(n=t);var o=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),l=i&&i[o],r=o&&o.split("-")[0],a=i&&i[r],s=n;return l&&l[t]?s=l[t]:a&&a[t]&&(s=a[t]),e&&(s=s.replace(/\{(\d+)\}/g,(function(t,n){var o=e[n-1],i=o;return void 0===o&&(i=t),i}))),s},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(t){return this.childIndex_[t]},n.getChild=function(t){if(t)return this.childNameIndex_[t]},n.addChild=function(t,n,o){var i,l;if(void 0===n&&(n={}),void 0===o&&(o=this.children_.length),"string"==typeof t){l=St(t);var r=n.componentClass||l;n.name=l;var a=e.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(o,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(l=l||i.name&&St(i.name()))&&(this.childNameIndex_[l]=i,this.childNameIndex_[xt(l)]=i),"function"==typeof i.el&&i.el()){var s=this.contentEl().children[o]||null;this.contentEl().insertBefore(i.el(),s)}return i},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[St(t.name())]=null,this.childNameIndex_[xt(t.name())]=null;var o=t.el();o&&o.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var o,i=this.options_,l=e.getComponent("Tech");(o=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!o.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var o,i;return"string"==typeof e?i=n[o=e]||t.options_[o]||{}:(o=e.name,i=e),{name:o,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||St(t.name));return n&&!l.isTech(n)})).forEach((function(e){var n=e.name,o=e.opts;if(void 0!==i[n]&&(o=i[n]),!1!==o){!0===o&&(o={}),o.playerOptions=t.options_.playerOptions;var l=t.addChild(n,o);l&&(t[n]=l)}}))}},n.buildCSSClass=function(){return""},n.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,e){return z(t,e||this.contentEl())},n.$$=function(t,e){return K(t,e||this.contentEl())},n.hasClass=function(t){return k(this.el_,t)},n.addClass=function(t){T(this.el_,t)},n.removeClass=function(t){P(this.el_,t)},n.toggleClass=function(t,e){w(this.el_,t,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(t){return E(this.el_,t)},n.setAttribute=function(t,e){x(this.el_,t,e)},n.removeAttribute=function(t){S(this.el_,t)},n.width=function(t,e){return this.dimension("width",t,e)},n.height=function(t,e){return this.dimension("height",t,e)},n.dimensions=function(t,e){this.width(t,!0),this.height(e)},n.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),this.el_.style[t]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var o=this.el_.style[t],i=o.indexOf("px");return-1!==i?parseInt(o.slice(0,i),10):parseInt(this.el_["offset"+St(t)],10)},n.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=h(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+St(t);e=this.el_[n]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},n.handleKeyPress=function(t){this.handleKeyDown(t)},n.emitTapEvents=function(){var e,n=0,o=null;this.on("touchstart",(function(i){1===i.touches.length&&(o={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},n=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(o){var n=t.touches[0].pageX-o.pageX,i=t.touches[0].pageY-o.pageY;Math.sqrt(n*n+i*i)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){o=null,!0===e&&t.performance.now()-n<200&&(i.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=ft(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(e,n){var o,i=this;return e=ft(this,e),this.clearTimersOnDispose_(),o=t.setTimeout((function(){i.setTimeoutIds_.has(o)&&i.setTimeoutIds_.delete(o),e()}),n),this.setTimeoutIds_.add(o),o},n.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},n.setInterval=function(e,n){e=ft(this,e),this.clearTimersOnDispose_();var o=t.setInterval(e,n);return this.setIntervalIds_.add(o),o},n.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},n.requestAnimationFrame=function(e){var n,o=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=ft(this,e),n=t.requestAnimationFrame((function(){o.rafIds_.has(n)&&o.rafIds_.delete(n),e()})),this.rafIds_.add(n),n):this.setTimeout(e,1e3/60)},n.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},n.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){t[e[0]].forEach(t[e[1]],t)})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var o=e.getComponent("Tech"),i=o&&o.isTech(n),l=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!l)throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=St(t),e.components_||(e.components_={});var r=e.getComponent("Player");if("Player"===t&&r&&r.players){var a=r.players,s=Object.keys(a);if(a&&s.length>0&&s.map((function(t){return a[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[xt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function Rt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t,e,n){return(jt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&Nt(i,n.prototype),i}).apply(null,arguments)}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}At.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,At.registerComponent("Component",At);var Lt,Vt=t.navigator&&t.navigator.userAgent||"",Bt=/AppleWebKit\/([\d.]+)/i.exec(Vt),Ft=Bt?parseFloat(Bt.pop()):null,Ut=/iPad/i.test(Vt),Ht=/iPhone/i.test(Vt)&&!Ut,zt=/iPod/i.test(Vt),Kt=Ht||Ut||zt,$t=(Lt=Vt.match(/OS (\d+)_/i))&&Lt[1]?Lt[1]:null,qt=/Android/i.test(Vt),Wt=function(){var t=Vt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Gt=qt&&Wt<5&&Ft<537,Xt=/Firefox/i.test(Vt),Yt=/Edge/i.test(Vt),Qt=!Yt&&(/Chrome/i.test(Vt)||/CriOS/i.test(Vt)),Jt=function(){var t=Vt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Zt=function(){var t=/MSIE\s(\d+)\.\d/.exec(Vt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Vt)&&/rv:11.0/.test(Vt)&&(e=11),e}(),te=/Safari/i.test(Vt)&&!Qt&&!qt&&!Yt,ee=(te||Kt)&&!Qt,ne=/Windows/i.test(Vt),oe=g()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),ie=Object.freeze({IS_IPAD:Ut,IS_IPHONE:Ht,IS_IPOD:zt,IS_IOS:Kt,IOS_VERSION:$t,IS_ANDROID:qt,ANDROID_VERSION:Wt,IS_NATIVE_ANDROID:Gt,IS_FIREFOX:Xt,IS_EDGE:Yt,IS_CHROME:Qt,CHROME_VERSION:Jt,IE_VERSION:Zt,IS_SAFARI:te,IS_ANY_SAFARI:ee,IS_WINDOWS:ne,TOUCH_ENABLED:oe});function le(t,e,n,o){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,o,n.length-1),n[o][e]}function re(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:le.bind(null,"start",0,t),end:le.bind(null,"end",1,t)}}function ae(t,e){return Array.isArray(t)?re(t):void 0===t||void 0===e?re():re([[t,e]])}function se(t,e){var n,o,i=0;if(!e)return 0;t&&t.length||(t=ae(0,0));for(var l=0;l<t.length;l++)n=t.start(l),(o=t.end(l))>e&&(o=e),i+=o-n;return i/e}for(var ue,ce={prefixed:!0},de=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],he=de[0],pe=0;pe<de.length;pe++)if(de[pe][1]in e){ue=de[pe];break}if(ue){for(var fe=0;fe<ue.length;fe++)ce[he[fe]]=ue[fe];ce.prefixed=ue[0]!==he[0]}function ge(t){if(t instanceof ge)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:c(t)&&("number"==typeof t.code&&(this.code=t.code),u(this,t)),this.message||(this.message=ge.defaultMessages[this.code]||"")}ge.prototype.code=0,ge.prototype.message="",ge.prototype.status=null,ge.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ge.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ve=0;ve<ge.errorTypes.length;ve++)ge[ge.errorTypes[ve]]=ve,ge.prototype[ge.errorTypes[ve]]=ve;function me(t){return null!=t&&"function"==typeof t.then}function ye(t){me(t)&&t.then(null,(function(t){}))}var _e=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,o){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})};function be(t,e){return t(e={exports:{}},e.exports),e.exports}var Ce=be((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return r[t];var n,l=String(t);return(n=o[l.toLowerCase()])?n:(n=i[l.toLowerCase()])||(1===l.length?l.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var l;if(l=o[e.toLowerCase()])return l===n;if(l=i[e.toLowerCase()])return l===n}else if("number"==typeof e)return e===n;return!1}};var o=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(l=97;l<123;l++)o[String.fromCharCode(l)]=l-32;for(var l=48;l<58;l++)o[l-48]=l;for(l=1;l<13;l++)o["f"+l]=l+111;for(l=0;l<10;l++)o["numpad "+l]=l+96;var r=e.names=e.title={};for(l in o)r[o[l]]=l;for(var a in i)o[a]=i[a]})),ke="vjs-modal-dialog",Te=function(n){function o(t,e){var o;return(o=n.call(this,t,e)||this).opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=_("div",{className:ke+"-content"},{role:"document"}),o.descEl_=_("p",{className:ke+"-description vjs-control-text",id:o.el().getAttribute("aria-describedby")}),b(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}Rt(o,n);var i=o.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},i.buildCSSClass=function(){return ke+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},i.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var o=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,o=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),F(e,t),this.trigger("modalfill"),o?n.insertBefore(e,o):n.appendChild(e);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},i.empty=function(){this.trigger("beforemodalempty"),L(this.contentEl()),this.trigger("modalempty")},i.content=function(t){return void 0!==t&&(this.content_=t),this.content_},i.conditionalFocus_=function(){var t=e.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(t)||n===t)&&(this.previouslyActiveEl_=t,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(t){if(t.stopPropagation(),Ce.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Ce.isEventKey(t,"Tab")){for(var n,o=this.focusableEls_(),i=this.el_.querySelector(":focus"),l=0;l<o.length;l++)if(i===o[l]){n=l;break}e.activeElement===this.el_&&(n=0),t.shiftKey&&0===n?(o[o.length-1].focus(),t.preventDefault()):t.shiftKey||n!==o.length-1||(o[0].focus(),t.preventDefault())}},i.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},o}(At);Te.prototype.options_={pauseOnOpen:!0,temporary:!0},At.registerComponent("ModalDialog",Te);var Pe=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(Dt(n),"length",{get:function(){return this.tracks_.length}});for(var o=0;o<e.length;o++)n.addTrack(e[o]);return n}Rt(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,o=this.length;n<o;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,o=this.length;n<o;n++){var i=this[n];if(i.id===t){e=i;break}}return e},e}(mt);for(var we in Pe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Pe.prototype.allowedEvents_)Pe.prototype["on"+we]=null;var Oe,Me=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Ee=function(t){function e(e){var n;void 0===e&&(e=[]);for(var o=e.length-1;o>=0;o--)if(e[o].enabled){Me(e,e[o]);break}return(n=t.call(this,e)||this).changing_=!1,n}Rt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Me(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Me(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Pe),xe=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Se=function(t){function e(e){var n;void 0===e&&(e=[]);for(var o=e.length-1;o>=0;o--)if(e[o].selected){xe(e,e[o]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(Dt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Rt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&xe(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,xe(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Pe),Ie=function(t){function e(){return t.apply(this,arguments)||this}Rt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Pe),Ae=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,o=this.trackElements_.length;n<o;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Re=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,o=t.length;this.cues_=t,this.length_=t.length;var i=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<o)for(n=e;n<o;n++)i.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,o=this.length;n<o;n++){var i=this[n];if(i.id===t){e=i;break}}return e},t}(),Ne={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},De={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Le={disabled:"disabled",hidden:"hidden",showing:"showing"},Ve=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var o={id:e.id||"vjs_track_"+tt(),kind:e.kind||"",label:e.label||"",language:e.language||""},i=function(t){Object.defineProperty(Dt(n),t,{get:function(){return o[t]},set:function(){}})};for(var l in o)i(l);return n}return Rt(e,t),e}(mt),Be=function(n){var o=["protocol","hostname","port","pathname","search","hash","host"],i=e.createElement("a");i.href=n;var l,r=""===i.host&&"file:"!==i.protocol;r&&((l=e.createElement("div")).innerHTML='<a href="'+n+'"></a>',i=l.firstChild,l.setAttribute("style","display:none; position:absolute;"),e.body.appendChild(l));for(var a={},s=0;s<o.length;s++)a[o[s]]=i[o[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=t.location.protocol),r&&e.body.removeChild(l),a},Fe=function(t){if(!t.match(/^https?:\/\//)){var n=e.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},Ue=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},He=function(e){var n=t.location,o=Be(e);return(":"===o.protocol?n.protocol:o.protocol)+o.host!==n.protocol+n.host},ze=Object.freeze({parseUrl:Be,getAbsoluteURL:Fe,getFileExtension:Ue,isCrossOrigin:He}),Ke=function(t){var e=$e.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},$e=Object.prototype.toString,qe="Function.prototype.bind called on incompatible ",We=Array.prototype.slice,Ge=Object.prototype.toString,Xe=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==Ge.call(e))throw new TypeError(qe+e);for(var n,o=We.call(arguments,1),i=function(){if(this instanceof n){var i=e.apply(this,o.concat(We.call(arguments)));return Object(i)===i?i:this}return e.apply(t,o.concat(We.call(arguments)))},l=Math.max(0,e.length-o.length),r=[],a=0;a<l;a++)r.push("$"+a);if(n=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var s=function(){};s.prototype=e.prototype,n.prototype=new s,s.prototype=null}return n},Ye=Object.prototype.toString,Qe=function(t){var e=Ye.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Ye.call(t.callee)),n};if(!Object.keys){var Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.toString,tn=Qe,en=Object.prototype.propertyIsEnumerable,nn=!en.call({toString:null},"toString"),on=en.call((function(){}),"prototype"),ln=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],rn=function(t){var e=t.constructor;return e&&e.prototype===t},an={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},sn=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!an["$"+t]&&Je.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{rn(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();Oe=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===Ze.call(t),o=tn(t),i=e&&"[object String]"===Ze.call(t),l=[];if(!e&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var r=on&&n;if(i&&t.length>0&&!Je.call(t,0))for(var a=0;a<t.length;++a)l.push(String(a));if(o&&t.length>0)for(var s=0;s<t.length;++s)l.push(String(s));else for(var u in t)r&&"prototype"===u||!Je.call(t,u)||l.push(String(u));if(nn)for(var c=function(t){if("undefined"==typeof window||!sn)return rn(t);try{return rn(t)}catch(e){return!1}}(t),d=0;d<ln.length;++d)c&&"constructor"===ln[d]||!Je.call(t,ln[d])||l.push(ln[d]);return l}}var un=Array.prototype.slice,cn=Object.keys,dn=cn?function(t){return cn(t)}:Oe,hn=Object.keys;dn.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return Qe(t)?hn(un.call(t)):hn(t)}):Object.keys=dn,Object.keys||dn};var pn=dn,fn="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),gn=Object.prototype.toString,vn=Array.prototype.concat,mn=Object.defineProperty,yn=mn&&function(){var t={};try{for(var e in mn(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}}(),_n=function(t,e,n,o){var i;e in t&&("function"!=typeof(i=o)||"[object Function]"!==gn.call(i)||!o())||(yn?mn(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},bn=function(t,e){var n=arguments.length>2?arguments[2]:{},o=pn(e);fn&&(o=vn.call(o,Object.getOwnPropertySymbols(e)));for(var i=0;i<o.length;i+=1)_n(t,o[i],e[o[i]],n[o[i]])};bn.supportsDescriptors=!!yn;var Cn=bn,kn=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Pn=Object.getPrototypeOf||function(t){return t.__proto__},wn="undefined"==typeof Uint8Array?void 0:Pn(Uint8Array),On={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":Tn?Pn([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":Tn?Pn(Pn([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&Tn?Pn((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&Tn?Pn((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":Tn?Pn(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":Tn?Symbol:void 0,"$ %SymbolPrototype%":Tn?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":kn,"$ %TypedArray%":wn,"$ %TypedArrayPrototype%":wn?wn.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},Mn=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+t;if(!(n in On))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===On[n]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return On[n]},En=(Xe.call(Function.call,Object.prototype.hasOwnProperty),Mn("%TypeError%"),Mn("%SyntaxError%"),Number,Number,Number,Function.prototype.toString),xn=/^\s*class\b/,Sn=function(t){try{var e=En.call(t);return xn.test(e)}catch(n){return!1}},In=Object.prototype.toString,An="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Rn=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(An)return function(t){try{return!Sn(t)&&(En.call(t),!0)}catch(e){return!1}}(t);if(Sn(t))return!1;var e=In.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},Nn=(Object,Mn("%Object%"),Mn("%TypeError%")),jn=Mn("%String%"),Dn=Xe.call(Function.call,String.prototype.replace),Ln=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Vn=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Bn=function(){var t=function(t){return jn(t)}(function(t,e){if(null==t)throw new Nn("Cannot call method on "+t);return t}(this));return Dn(Dn(t,Ln,""),Vn,"")},Fn=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:Bn},Un=Xe.call(Function.call,Fn());Cn(Un,{getPolyfill:Fn,implementation:Bn,shim:function(){var t=Fn();return Cn(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}});var Hn=Un,zn=Object.prototype.toString,Kn=Object.prototype.hasOwnProperty,$n=function(t,e,n){for(var o=0,i=t.length;o<i;o++)Kn.call(t,o)&&(null==n?e(t[o],o,t):e.call(n,t[o],o,t))},qn=function(t,e,n){for(var o=0,i=t.length;o<i;o++)null==n?e(t.charAt(o),o,t):e.call(n,t.charAt(o),o,t)},Wn=function(t,e,n){for(var o in t)Kn.call(t,o)&&(null==n?e(t[o],o,t):e.call(n,t[o],o,t))},Gn=function(t){if(!t)return{};var e={};return function(t,e,n){if(!Rn(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===zn.call(t)?$n(t,e,o):"string"==typeof t?qn(t,e,o):Wn(t,e,o)}(Hn(t).split("\n"),(function(t){var n=t.indexOf(":"),o=Hn(t.slice(0,n)).toLowerCase(),i=Hn(t.slice(n+1));void 0===e[o]?e[o]=i:"[object Array]"===Object.prototype.toString.call(e[o])?e[o].push(i):e[o]=[e[o],i]})),e},Xn=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var o in n)Yn.call(n,o)&&(t[o]=n[o])}return t},Yn=Object.prototype.hasOwnProperty,Qn=Zn;function Jn(t,e,n){var o=t;return Ke(e)?(n=e,"string"==typeof t&&(o={uri:t})):o=Xn(e,{uri:t}),o.callback=n,o}function Zn(t,e,n){return to(e=Jn(t,e,n))}function to(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,o,i){e||(e=!0,t.callback(n,o,i))};function o(){var t=void 0;if(t=s.response?s.response:s.responseText||function(t){return"document"===t.responseType?t.responseXML:""!==t.responseType||t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName?null:t.responseXML}(s),g)try{t=JSON.parse(t)}catch(e){}return t}function i(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,v)}function l(){if(!a){var e;clearTimeout(u);var i=v,l=null;return 0!==(e=t.useXDR&&void 0===s.status?200:1223===s.status?204:s.status)?(i={body:o(),statusCode:e,method:d,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(i.headers=Gn(s.getAllResponseHeaders()))):l=new Error("Internal XMLHttpRequest Error"),n(l,i,i.body)}}var r,a,s=t.xhr||null;s||(s=t.cors||t.useXDR?new Zn.XDomainRequest:new Zn.XMLHttpRequest);var u,c=s.url=t.uri||t.url,d=s.method=t.method||"GET",h=t.body||t.data,p=s.headers=t.headers||{},f=!!t.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:s};if("json"in t&&!1!==t.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(l,0)},s.onload=l,s.onerror=i,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=i,s.open(d,c,!f,t.username,t.password),f||(s.withCredentials=!!t.withCredentials),!f&&t.timeout>0&&(u=setTimeout((function(){if(!a){a=!0,s.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}}),t.timeout)),s.setRequestHeader)for(r in p)p.hasOwnProperty(r)&&s.setRequestHeader(r,p[r]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(s),s.send(h||null),s}Zn.XMLHttpRequest=t.XMLHttpRequest||function(){},Zn.XDomainRequest="withCredentials"in new Zn.XMLHttpRequest?Zn.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){Zn["delete"===t?"del":t]=function(e,n,o){return(n=Jn(e,n,o)).method=t.toUpperCase(),to(n)}}));var eo=function(e,n){var o=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),l=[];o.oncue=function(t){n.addCue(t)},o.onparsingerror=function(t){l.push(t)},o.onflush=function(){n.trigger({type:"loadeddata",target:n})},o.parse(e),l.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+n.src),l.forEach((function(t){return i.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),o.flush()},no=function(e,n){var o={uri:e},l=He(e);l&&(o.cors=l),Qn(o,ft(this,(function(e,o,l){if(e)return i.error(e,o);n.loaded_=!0,"function"!=typeof t.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return eo(l,n);i.error("vttjs failed to load, stopping trying to process "+n.src)})):eo(l,n)})))},oo=function(e){function n(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var o=It(t,{kind:De[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=Le[o.mode]||"disabled",l=o.default;"metadata"!==o.kind&&"chapters"!==o.kind||(i="hidden"),(n=e.call(this,o)||this).tech_=o.tech,n.cues_=[],n.activeCues_=[];var r=new Re(n.cues_),a=new Re(n.activeCues_),s=!1,u=ft(Dt(n),(function(){this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)}));return"disabled"!==i&&n.tech_.ready((function(){n.tech_.on("timeupdate",u)}),!0),Object.defineProperties(Dt(n),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return i},set:function(t){var e=this;Le[t]&&("disabled"!==(i=t)?this.tech_.ready((function(){e.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?r:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var t=this.tech_.currentTime(),e=[],n=0,o=this.cues.length;n<o;n++){var i=this.cues[n];i.startTime<=t&&i.endTime>=t?e.push(i):i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t&&e.push(i)}if(s=!1,e.length!==this.activeCues_.length)s=!0;else for(var l=0;l<e.length;l++)-1===this.activeCues_.indexOf(e[l])&&(s=!0);return this.activeCues_=e,a.setCues_(this.activeCues_),a},set:function(){}}}),o.src?(n.src=o.src,no(o.src,Dt(n))):n.loaded_=!0,n}Rt(n,e);var o=n.prototype;return o.addCue=function(e){var n=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var o in n=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)o in n||(n[o]=e[o]);n.id=e.id,n.originalCue_=e}for(var i=this.tech_.textTracks(),l=0;l<i.length;l++)i[l]!==this&&i[l].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},o.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},n}(Ve);oo.prototype.allowedEvents_={cuechange:"cuechange"};var io=function(t){function e(e){var n;void 0===e&&(e={});var o=It(e,{kind:je[e.kind]||""});n=t.call(this,o)||this;var i=!1;return Object.defineProperty(Dt(n),"enabled",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("enabledchange"))}}),o.enabled&&(n.enabled=o.enabled),n.loaded_=!0,n}return Rt(e,t),e}(Ve),lo=function(t){function e(e){var n;void 0===e&&(e={});var o=It(e,{kind:Ne[e.kind]||""});n=t.call(this,o)||this;var i=!1;return Object.defineProperty(Dt(n),"selected",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("selectedchange"))}}),o.selected&&(n.selected=o.selected),n}return Rt(e,t),e}(Ve),ro=0,ao=2,so=function(t){function e(e){var n,o;void 0===e&&(e={}),n=t.call(this)||this;var i=new oo(e);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(Dt(n),{readyState:{get:function(){return o}},track:{get:function(){return i}}}),o=ro,i.addEventListener("loadeddata",(function(){o=ao,n.trigger({type:"load",target:Dt(n)})})),n}return Rt(e,t),e}(mt);so.prototype.allowedEvents_={load:"load"},so.NONE=ro,so.LOADING=1,so.LOADED=ao,so.ERROR=3;var uo={audio:{ListClass:Ee,TrackClass:io,capitalName:"Audio"},video:{ListClass:Se,TrackClass:lo,capitalName:"Video"},text:{ListClass:Ie,TrackClass:oo,capitalName:"Text"}};Object.keys(uo).forEach((function(t){uo[t].getterName=t+"Tracks",uo[t].privateName=t+"Tracks_"}));var co={remoteText:{ListClass:Ie,TrackClass:oo,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ae,TrackClass:so,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ho=It(uo,co);co.names=Object.keys(co),uo.names=Object.keys(uo),ho.names=[].concat(co.names).concat(uo.names);var po=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function fo(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function go(t){function e(t,e,n,o){return 3600*(0|t)+60*(0|e)+(0|n)+(0|o)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function vo(){this.values=po(null)}function mo(t,e,n,o){var i=o?t.split(o):[t];for(var l in i)if("string"==typeof i[l]){var r=i[l].split(n);2===r.length&&e(r[0],r[1])}}function yo(t,e,n){var o=t;function i(){var e=go(t);if(null===e)throw new fo(fo.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=i(),l(),"--\x3e"!==t.substr(0,3))throw new fo(fo.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),l(),e.endTime=i(),l(),function(t,e){var o=new vo;mo(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){o.set(t,n[i].region);break}break;case"vertical":o.alt(t,e,["rl","lr"]);break;case"line":var l=e.split(","),r=l[0];o.integer(t,r),o.percent(t,r)&&o.set("snapToLines",!1),o.alt(t,r,["auto"]),2===l.length&&o.alt("lineAlign",l[1],["start","middle","end"]);break;case"position":l=e.split(","),o.percent(t,l[0]),2===l.length&&o.alt("positionAlign",l[1],["start","middle","end"]);break;case"size":o.percent(t,e);break;case"align":o.alt(t,e,["start","middle","end","left","right"])}}),/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical",""),e.line=o.get("line","auto"),e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align","middle"),e.position=o.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=o.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}(fo.prototype=po(Error.prototype)).constructor=fo,fo.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},vo.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var o=0;o<n.length;++o)if(e===n[o]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var _o={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},bo={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Co={v:"title",lang:"lang"},ko={rt:"ruby"};function To(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return e=e.substr((t=n[1]?n[1]:n[2]).length),t}function o(t){return _o[t]}function i(t){for(;p=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(p[0],o);return t}function l(t,e){return!ko[e.localName]||ko[e.localName]===t.localName}function r(e,n){var o=bo[e];if(!o)return null;var i=t.document.createElement(o);i.localName=o;var l=Co[e];return l&&n&&(i[l]=n.trim()),i}for(var a,s=t.document.createElement("div"),u=s,c=[];null!==(a=n());)if("<"!==a[0])u.appendChild(t.document.createTextNode(i(a)));else{if("/"===a[1]){c.length&&c[c.length-1]===a.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d,h=go(a.substr(1,a.length-2));if(h){d=t.document.createProcessingInstruction("timestamp",h),u.appendChild(d);continue}var p=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(d=r(p[1],p[3])))continue;if(!l(u,d))continue;p[2]&&(d.className=p[2].substr(1).replace("."," ")),c.push(p[1]),u.appendChild(d),u=d}return s}var Po=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function wo(t){for(var e=0;e<Po.length;e++){var n=Po[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function Oo(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function o(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function i(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var l=n.match(/^.*(\n|\r)/);return l?(t.length=0,l[0]):n}return"ruby"===e.tagName?i(t):e.childNodes?(o(t,e),i(t)):void 0}for(o(e,t);n=i(e);)for(var l=0;l<n.length;l++)if(wo(n.charCodeAt(l)))return"rtl";return"ltr"}function Mo(){}function Eo(t,e,n){Mo.call(this),this.cue=e,this.cueDiv=To(t,e.text);var o={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(o,this.cueDiv),this.div=t.document.createElement("div"),o={direction:Oo(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(o),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":i=e.position;break;case"middle":i=e.position-e.size/2;break;case"end":i=e.position-e.size}this.applyStyles(""===e.vertical?{left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}:{top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function xo(t){var e,n,o,i;if(t.div){n=t.div.offsetHeight,o=t.div.offsetWidth,i=t.div.offsetTop;var l=(l=t.div.childNodes)&&(l=l[0])&&l.getClientRects&&l.getClientRects();t=t.div.getBoundingClientRect(),e=l?Math.max(l[0]&&l[0].height||0,t.height/l.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||o,this.lineHeight=void 0!==e?e:t.lineHeight}function So(t,e,n,o){var i=new xo(e),l=e.cue,r=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,o=0,i=0;i<n.length&&n[i]!==e;i++)"showing"===n[i].mode&&o++;return-1*++o}(l),a=[];if(l.snapToLines){var s;switch(l.vertical){case"":a=["+y","-y"],s="height";break;case"rl":a=["+x","-x"],s="width";break;case"lr":a=["-x","+x"],s="width"}var u=i.lineHeight,c=u*Math.round(r),d=n[s]+u,h=a[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),r<0&&(c+=""===l.vertical?n.height:n.width,a=a.reverse()),i.move(h,c)}else{var p=i.lineHeight/n.height*100;switch(l.lineAlign){case"middle":r-=p/2;break;case"end":r-=p}switch(l.vertical){case"":e.applyStyles({top:e.formatStyle(r,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(r,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(r,"%")})}a=["+y","-x","+x","-y"],i=new xo(e)}var f=function(t,e){for(var i,l=new xo(t),r=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(n,e[a])||t.within(n)&&t.overlapsAny(o);)t.move(e[a]);if(t.within(n))return t;var s=t.intersectPercentage(n);r>s&&(i=new xo(t),r=s),t=new xo(l)}return i||l}(i,a);e.move(f.toCSSCompatValues(n))}function Io(){}Mo.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Mo.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(Eo.prototype=po(Mo.prototype)).constructor=Eo,xo.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},xo.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},xo.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},xo.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},xo.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},xo.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},xo.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},xo.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,o=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||o,height:t.height||e,bottom:t.bottom||o+(t.height||e),width:t.width||n}},Io.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Io.convertCueToDOMTree=function(t,e){return t&&e?To(t,e):null},Io.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var o=t.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin="1.5%",n.appendChild(o),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var i=[],l=xo.getSimpleBoxPosition(o),r={font:Math.round(.05*l.height*100)/100+"px sans-serif"};!function(){for(var n,a,s=0;s<e.length;s++)n=new Eo(t,a=e[s],r),o.appendChild(n.div),So(0,n,l,i),a.displayState=n.div,i.push(xo.getSimpleBoxPosition(n))}()}else for(var a=0;a<e.length;a++)o.appendChild(e[a].displayState)},(Io.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof fo))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e,n=this;function o(){for(var t=n.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var o=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,n.buffer=t.substr(e),o}t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var l=(i=o()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new fo(fo.Errors.BadSignature);n.state="HEADER"}for(var r=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(r?r=!1:i=o(),n.state){case"HEADER":/:/.test(i)?(e=i).match(/X-TIMESTAMP-MAP/)?mo(e,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":!function(t){var e=new vo;mo(t,(function(t,n){switch(t){case"MPEGT":e.integer(t+"S",n);break;case"LOCA":e.set(t+"L",go(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}(e)}}),/=/):mo(e,(function(t,e){switch(t){case"Region":!function(t){var e=new vo;if(mo(t,(function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var o=n.split(",");if(2!==o.length)break;var i=new vo;if(i.percent("x",o[0]),i.percent("y",o[1]),!i.has("x")||!i.has("y"))break;e.set(t+"X",i.get("x")),e.set(t+"Y",i.get("y"));break;case"scroll":e.alt(t,n,["up"])}}),/=/,/\s/),e.has("id")){var o=new(n.vttjs.VTTRegion||n.window.VTTRegion);o.width=e.get("width",100),o.lines=e.get("lines",3),o.regionAnchorX=e.get("regionanchorX",0),o.regionAnchorY=e.get("regionanchorY",100),o.viewportAnchorX=e.get("viewportanchorX",0),o.viewportAnchorY=e.get("viewportanchorY",100),o.scroll=e.get("scroll",""),n.onregion&&n.onregion(o),n.regionList.push({id:e.get("id"),region:o})}}(e)}}),/:/):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,""),n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{yo(i,n.cue,n.regionList)}catch(s){n.reportOrThrowError(s),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var a=-1!==i.indexOf("--\x3e");if(!i||a&&(r=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i;continue;case"BADCUE":i||(n.state="ID");continue}}}catch(s){n.reportOrThrowError(s),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new fo(fo.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var Ao=Io,Ro="auto",No={"":1,lr:1,rl:1},jo={start:1,middle:1,end:1,left:1,right:1};function Do(t){return"string"==typeof t&&!!jo[t.toLowerCase()]&&t.toLowerCase()}function Lo(t,e,n){this.hasBeenReset=!1;var o="",i=!1,l=t,r=e,a=n,s=null,u="",c=!0,d="auto",h="start",p=50,f="middle",g=50,v="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(t){o=""+t}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(t){i=!!t}},startTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");r=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(t){a=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return s},set:function(t){s=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!No[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&t!==Ro)throw new SyntaxError("An invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){var e=Do(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");h=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return p},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");p=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=Do(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");f=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(t){var e=Do(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Lo.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Vo=Lo,Bo={"":!0,up:!0};function Fo(t){return"number"==typeof t&&t>=0&&t<=100}var Uo=function(){var t=100,e=3,n=0,o=100,i=0,l=100,r="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Fo(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Fo(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Fo(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(t){if(!Fo(t))throw new Error("ViewportAnchorY must be between 0 and 100.");l=t}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Fo(t))throw new Error("ViewportAnchorX must be between 0 and 100.");i=t}},scroll:{enumerable:!0,get:function(){return r},set:function(t){var e=function(t){return"string"==typeof t&&!!Bo[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");r=e}}})},Ho=be((function(e){var n=e.exports={WebVTT:Ao,VTTCue:Vo,VTTRegion:Uo};t.vttjs=n,t.WebVTT=n.WebVTT;var o=n.VTTCue,i=n.VTTRegion,l=t.VTTCue,r=t.VTTRegion;n.shim=function(){t.VTTCue=o,t.VTTRegion=i},n.restore=function(){t.VTTCue=l,t.VTTRegion=r},t.VTTCue||n.shim()})),zo=function(n){function o(t,e){var o;return void 0===t&&(t={}),void 0===e&&(e=function(){}),t.reportTouchActivity=!1,(o=n.call(this,null,t,e)||this).hasStarted_=!1,o.on("playing",(function(){this.hasStarted_=!0})),o.on("loadstart",(function(){this.hasStarted_=!1})),ho.names.forEach((function(e){var n=ho[e];t&&t[n.getterName]&&(o[n.privateName]=t[n.getterName])})),o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(o["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?o.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(o.featuresNativeTextTracks=!0),o.featuresNativeTextTracks||o.emulateTextTracks(),o.autoRemoteTextTracks_=new ho.text.ListClass,o.initTrackListeners(),t.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}Rt(o,n);var l=o.prototype;return l.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},l.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},l.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},l.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ft(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},l.onDurationChange=function(t){this.duration_=this.duration()},l.buffered=function(){return ae(0,0)},l.bufferedPercent=function(){return se(this.buffered(),this.duration_)},l.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},l.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},l.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},l.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},l.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},l.dispose=function(){this.clearTracks(uo.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},l.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],o=n.length;o--;){var i=n[o];"text"===t&&e.removeRemoteTextTrack(i),n.removeTrack(i)}}))},l.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;)this.removeRemoteTextTrack(t[e])},l.reset=function(){},l.error=function(t){return void 0!==t&&(this.error_=new ge(t),this.trigger("error")),this.error_},l.played=function(){return this.hasStarted_?ae(0,0):ae()},l.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},l.initTrackListeners=function(){var t=this;uo.names.forEach((function(e){var n=function(){t.trigger(e+"trackchange")},o=t[uo[e].getterName]();o.addEventListener("removetrack",n),o.addEventListener("addtrack",n),t.on("dispose",(function(){o.removeEventListener("removetrack",n),o.removeEventListener("addtrack",n)}))}))},l.addWebVttScript_=function(){var n=this;if(!t.WebVTT)if(e.body.contains(this.el())){if(!this.options_["vtt.js"]&&d(Ho)&&Object.keys(Ho).length>0)return void this.trigger("vttjsloaded");var o=e.createElement("script");o.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",o.onload=function(){n.trigger("vttjsloaded")},o.onerror=function(){n.trigger("vttjserror")},this.on("dispose",(function(){o.onload=null,o.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(o)}else this.ready(this.addWebVttScript_)},l.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),o=function(t){return e.addTrack(t.track)},i=function(t){return e.removeTrack(t.track)};n.on("addtrack",o),n.on("removetrack",i),this.addWebVttScript_();var l=function(){return t.trigger("texttrackchange")},r=function(){l();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",l),"showing"===n.mode&&n.addEventListener("cuechange",l)}};r(),e.addEventListener("change",r),e.addEventListener("addtrack",r),e.addEventListener("removetrack",r),this.on("dispose",(function(){n.off("addtrack",o),n.off("removetrack",i),e.removeEventListener("change",r),e.removeEventListener("addtrack",r),e.removeEventListener("removetrack",r);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",l)}))},l.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,o,i){void 0===i&&(i={});var l=t.textTracks();i.kind=e,n&&(i.label=n),o&&(i.language=o),i.tech=t;var r=new ho.text.TrackClass(i);return l.addTrack(r),r}(this,t,e,n)},l.createRemoteTextTrack=function(t){var e=It(t,{tech:this});return new co.remoteTextEl.TrackClass(e)},l.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var o=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(i.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(o.track)})),o},l.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},l.getVideoPlaybackQuality=function(){return{}},l.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},l.setPoster=function(){},l.playsinline=function(){},l.setPlaysinline=function(){},l.overrideNativeAudioTracks=function(){},l.overrideNativeVideoTracks=function(){},l.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(t,e){return o.canPlayType(t.type)},o.isTech=function(t){return t.prototype instanceof o||t instanceof o||t===o},o.registerTech=function(t,e){if(o.techs_||(o.techs_={}),!o.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=St(t),o.techs_[t]=e,o.techs_[xt(t)]=e,"Tech"!==t&&o.defaultTechOrder_.push(t),e},o.getTech=function(e){if(e)return o.techs_&&o.techs_[e]?o.techs_[e]:(e=St(e),t&&t.videojs&&t.videojs[e]?(i.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},o}(At);ho.names.forEach((function(t){var e=ho[t];zo.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),zo.prototype.featuresVolumeControl=!0,zo.prototype.featuresMuteControl=!0,zo.prototype.featuresFullscreenResize=!1,zo.prototype.featuresPlaybackRate=!1,zo.prototype.featuresProgressEvents=!1,zo.prototype.featuresSourceset=!1,zo.prototype.featuresTimeupdateEvents=!1,zo.prototype.featuresNativeTextTracks=!1,zo.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var o=t.sourceHandlers;o||(o=t.sourceHandlers=[]),void 0===n&&(n=o.length),o.splice(n,0,e)},t.canPlayType=function(e){for(var n,o=t.sourceHandlers||[],i=0;i<o.length;i++)if(n=o[i].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var o=t.sourceHandlers||[],i=0;i<o.length;i++)if(o[i].canHandleSource(e,n))return o[i];return null},t.canPlaySource=function(e,n){var o=t.selectSourceHandler(e,n);return o?o.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:i.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},At.registerComponent("Tech",zo),zo.registerTech("Tech",zo),zo.defaultTechOrder_=[];var Ko={},$o={},qo={};function Wo(t,e,n,o){void 0===o&&(o=null);var i="call"+St(n),l=t.reduce(Qo(i),o),r=l===qo,a=r?null:e[n](l);return function(t,e,n,o){for(var i=t.length-1;i>=0;i--){var l=t[i];l[e]&&l[e](o,n)}}(t,n,a,r),a}var Go={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},Xo={setCurrentTime:1,setVolume:1},Yo={play:1,pause:1};function Qo(t){return function(e,n){return e===qo?qo:n[t]?n[t](e):e}}var Jo={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Zo=function(t){void 0===t&&(t="");var e=Ue(t);return Jo[e.toLowerCase()]||""};function ti(t){if(!t.type){var e=Zo(t.src);e&&(t.type=e)}return t}var ei=function(t){function e(e,n,o){var i,l=It({createEl:!1},n);if(i=t.call(this,e,l,o)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var r=0,a=n.playerOptions.techOrder;r<a.length;r++){var s=St(a[r]),u=zo.getTech(s);if(s||(u=At.getComponent(s)),u&&u.isSupported()){e.loadTech_(s);break}}return i}return Rt(e,t),e}(At);At.registerComponent("MediaLoader",ei);var ni=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).emitTapEvents(),o.enable(),o}Rt(e,t);var n=e.prototype;return n.createEl=function(e,n,o){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===o&&(o={}),n=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&i.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),o=u({role:"button"},o),this.tabIndex_=n.tabIndex;var l=t.prototype.createEl.call(this,e,n,o);return this.createControlTextEl(l),l},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=_("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,b(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){},n.handleKeyDown=function(e){Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(At);At.registerComponent("ClickableComponent",ni),At.registerComponent("PosterImage",function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).update(),e.on("posterchange",ft(Dt(o),o.update)),o}Rt(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return _("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?ye(this.player_.play()):this.player_.pause())},e}(ni));var oi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ii(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function li(t,e,n){try{t.style[e]=n}catch(o){return}}At.registerComponent("TextTrackDisplay",function(e){function n(n,o,i){var l;l=e.call(this,n,o,i)||this;var r=ft(Dt(l),l.updateDisplay);return n.on("loadstart",ft(Dt(l),l.toggleDisplay)),n.on("texttrackchange",r),n.on("loadedmetadata",ft(Dt(l),l.preselectTrack)),n.ready(ft(Dt(l),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",r),n.on("playerresize",r),t.addEventListener("orientationchange",r),n.on("dispose",(function(){return t.removeEventListener("orientationchange",r)}));for(var e=this.options_.playerOptions.tracks||[],o=0;o<e.length;o++)this.player_.addRemoteTextTrack(e[o],!0);this.preselectTrack()}}))),l}Rt(n,e);var o=n.prototype;return o.preselectTrack=function(){for(var t,e,n,o={captions:1,subtitles:1},i=this.player_.textTracks(),l=this.player_.cache_.selectedLanguage,r=0;r<i.length;r++){var a=i[r];l&&l.enabled&&l.language&&l.language===a.language&&a.kind in o?a.kind===l.kind?n=a:n||(n=a):l&&!l.enabled?(n=null,t=null,e=null):a.default&&("descriptions"!==a.kind||t?a.kind in o&&!e&&(e=a):t=a)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},o.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},o.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},o.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},o.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],o=0;o<t.length;++o){var i=t[o];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var l=null,r=null,a=t.length;a--;){var s=t[a];"showing"===s.mode&&("descriptions"===s.kind?l=s:r=s)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):l&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))}},o.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),o=e.activeCues,i=o.length;i--;){var l=o[i];if(l){var r=l.displayState;if(n.color&&(r.firstChild.style.color=n.color),n.textOpacity&&li(r.firstChild,"color",ii(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(r.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&li(r.firstChild,"backgroundColor",ii(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?li(r,"backgroundColor",ii(n.windowColor,n.windowOpacity)):r.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var a=t.parseFloat(r.style.fontSize);r.style.fontSize=a*n.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=oi[n.fontFamily])}}},o.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var n=[],o=0;o<e.length;++o)for(var i=e[o],l=0;l<i.activeCues.length;++l)n.push(i.activeCues[l]);t.WebVTT.processCues(t,n,this.el_);for(var r=0;r<e.length;++r){for(var a=e[r],s=0;s<a.activeCues.length;++s){var u=a.activeCues[s].displayState;T(u,"vjs-text-track-cue"),T(u,"vjs-text-track-cue-"+(a.language?a.language:r))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},n}(At)),At.registerComponent("LoadingSpinner",function(t){function e(){return t.apply(this,arguments)||this}return Rt(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),o=_("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(o),i},e}(At));var ri=function(t){function e(){return t.apply(this,arguments)||this}Rt(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=u({type:"button"},n);var o=At.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(o),o},n.addChild=function(t,e){return void 0===e&&(e={}),i.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),At.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(ni);At.registerComponent("Button",ri);var ai=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).mouseused_=!1,o.on("mousedown",o.handleMouseDown),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return ye(e),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),o=n&&n.getChild("playToggle");if(o){var i=function(){return o.focus()};me(e)?e.then(i,(function(){})):this.setTimeout(i,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(ri);ai.prototype.controlText_="Play Video",At.registerComponent("BigPlayButton",ai),At.registerComponent("CloseButton",function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).controlText(n&&n.controlText||o.localize("Close")),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){Ce.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ri));var si=function(t){function e(e,n){var o;return void 0===n&&(n={}),o=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,o.on(e,"play",o.handlePlay),o.on(e,"pause",o.handlePause),n.replay&&o.on(e,"ended",o.handleEnded),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(ri);si.prototype.controlText_="Play",At.registerComponent("PlayToggle",si);var ui=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),o=Math.floor(t/60%60),i=Math.floor(t/3600),l=Math.floor(e/60%60),r=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=o=n="-"),(i=i>0||r>0?i+":":"")+(o=((i||l>=10)&&o<10?"0"+o:o)+":")+(n<10?"0"+n:n)},ci=ui;function di(t,e){return void 0===e&&(e=t),ci(t,e)}var hi=function(t){function n(e,n){var o;return(o=t.call(this,e,n)||this).throttledUpdateContent=gt(ft(Dt(o),o.updateContent),pt),o.on(e,"timeupdate",o.throttledUpdateContent),o}Rt(n,t);var o=n.prototype;return o.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=_("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},o.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},o.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=e.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},o.formatTime_=function(t){return di(t)},o.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},o.updateContent=function(t){},n}(At);hi.prototype.labelText_="Time",hi.prototype.controlText_="Time",At.registerComponent("TimeDisplay",hi);var pi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).on(e,"ended",o.handleEnded),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(hi);pi.prototype.labelText_="Current Time",pi.prototype.controlText_="Current Time",At.registerComponent("CurrentTimeDisplay",pi);var fi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).on(e,"durationchange",o.updateContent),o.on(e,"loadstart",o.updateContent),o.on(e,"loadedmetadata",o.throttledUpdateContent),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(hi);fi.prototype.labelText_="Duration",fi.prototype.controlText_="Duration",At.registerComponent("DurationDisplay",fi),At.registerComponent("TimeDivider",function(t){function e(){return t.apply(this,arguments)||this}return Rt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(At));var gi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).on(e,"durationchange",o.throttledUpdateContent),o.on(e,"ended",o.handleEnded),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(_("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){"number"==typeof this.player_.duration()&&this.updateFormattedTime_(this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime())},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(hi);gi.prototype.labelText_="Remaining Time",gi.prototype.controlText_="Remaining Time",At.registerComponent("RemainingTimeDisplay",gi),At.registerComponent("LiveDisplay",function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).updateShowing(),o.on(o.player(),"durationchange",o.updateShowing),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=_("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(At));var vi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).updateLiveEdgeStatus(),o.player_.liveTracker&&o.on(o.player_.liveTracker,"liveedgechange",o.updateLiveEdgeStatus),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=_("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(ri);vi.prototype.controlText_="Seek to live, currently playing live",At.registerComponent("SeekToLive",vi);var mi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.enable(),o}Rt(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,o){return void 0===n&&(n={}),void 0===o&&(o={}),n.className=n.className+" vjs-slider",n=u({tabIndex:0},n),o=u({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},o),t.prototype.createEl.call(this,e,n,o)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Qt||t.preventDefault(),I(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;A(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",o=e.el().style,i=this.vertical()?"height":"width";return o[i]!==n&&(o[i]=n),t}}},n.calculateDistance=function(t){var e=j(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){Ce.isEventKey(e,"Left")||Ce.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Ce.isEventKey(e,"Right")||Ce.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},e}(At);At.registerComponent("Slider",mi),At.registerComponent("LoadProgressBar",function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).partEls_=[],o.on(e,"progress",o.update),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this.player_.liveTracker,n=this.player_.buffered(),o=e&&e.isLive()?e.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),l=this.partEls_,r=this.$(".vjs-control-text-loaded-percentage"),a=function(t,e,n){var o=t/e||0;return o=100*(o>=1?1:o),n&&(o=o.toFixed(2)),o+"%"};this.el_.style.width=a(i,o),b(r,a(i,o,!0));for(var s=0;s<n.length;s++){var u=n.start(s),c=n.end(s),d=l[s];d||(d=this.el_.appendChild(_()),l[s]=d),d.style.left=a(u,i),d.style.width=a(c-u,i)}for(var h=l.length;h>n.length;h--)this.el_.removeChild(l[h-1]);l.length=n.length},e}(At)),At.registerComponent("TimeTooltip",function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).update=gt(ft(Dt(o),o.update),pt),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var o=R(this.el_),i=R(this.player_.el()),l=t.width*e;if(i&&o){var r=t.left-i.left+l,a=t.width-l+(i.right-t.right),s=o.width/2;r<s?s+=s-r:a<s&&(s=a),s<0?s=0:s>o.width&&(s=o.width),this.el_.style.right="-"+s+"px",this.write(n)}},n.write=function(t){b(this.el_,t)},n.updateTime=function(t,e,n,o){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var l,r=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var a=i.player_.liveTracker.liveWindow(),s=a-e*a;l=(s<1?"":"-")+di(s,a)}else l=di(n,r);i.update(t,e,l),o&&o()}))},e}(At));var yi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).update=gt(ft(Dt(o),o.update),pt),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,o)}},e}(At);yi.prototype.options_={children:[]},Kt||qt||yi.prototype.options_.children.push("timeTooltip"),At.registerComponent("PlayProgressBar",yi);var _i=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).update=gt(ft(Dt(o),o.update),pt),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,o=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,o,(function(){n.el_.style.left=t.width*e+"px"}))},e}(At);_i.prototype.options_={children:["timeTooltip"]},At.registerComponent("MouseTimeDisplay",_i);var bi=function(t){function n(e,n){var o;return(o=t.call(this,e,n)||this).setEventHandlers_(),o}Rt(n,t);var o=n.prototype;return o.setEventHandlers_=function(){this.update=gt(ft(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in e&&"visibilityState"in e&&this.on(e,"visibilitychange",this.toggleVisibility_)},o.toggleVisibility_=function(t){e.hidden?this.disableInterval_(t):(this.enableInterval_(),this.requestAnimationFrame(this.update))},o.enableInterval_=function(){var t=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval((function(){t.requestAnimationFrame(t.update)}),30)},o.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==t.type||this.clearInterval(this.updateInterval)},o.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.update_=function(t,e){var n=this.player_.liveTracker,o=this.player_.duration();n&&n.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[di(t,o),di(o,o)],"{1} of {2}")),this.bar&&this.bar.update(R(this.el_),e)},o.update=function(e){if(null!==this.el().offsetParent){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},o.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.handleEnded=function(t){this.update_(this.player_.duration(),1)},o.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t>=1?1:t||0},o.handleMouseDown=function(e){U(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},o.handleMouseMove=function(t){if(U(t)){var e,n=this.calculateDistance(t),o=this.player_.liveTracker;if(o&&o.isLive()){var i=o.seekableStart(),l=o.liveCurrentTime();if((e=i+n*o.liveWindow())>=l&&(e=l),e<=i&&(e=i+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},o.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},o.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},o.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ye(this.player_.play())},o.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},o.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},o.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},o.handleKeyDown=function(e){if(Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Ce.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Ce.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ce(e))){e.preventDefault(),e.stopPropagation();var n=10*(Ce.codes[Ce(e)]-Ce.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ce.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Ce.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},n}(mi);bi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Kt||qt||bi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),At.registerComponent("SeekBar",bi);var Ci=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).handleMouseMove=gt(ft(Dt(o),o.handleMouseMove),pt),o.throttledHandleMouseSeek=gt(ft(Dt(o),o.handleMouseSeek),pt),o.enable(),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),o=e.el(),i=R(o),l=j(o,t).x;l>1?l=1:l<0&&(l=0),n&&n.update(i,l)}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(At);Ci.prototype.options_={children:["seekBar"]},At.registerComponent("ProgressControl",Ci);var ki=function(t){function n(n,o){var i;return(i=t.call(this,n,o)||this).on(n,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),e.pictureInPictureEnabled||i.disable(),i}Rt(n,t);var o=n.prototype;return o.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},o.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},o.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},n}(ri);ki.prototype.controlText_="Picture-in-Picture",At.registerComponent("PictureInPictureToggle",ki);var Ti=function(t){function n(n,o){var i;return(i=t.call(this,n,o)||this).on(n,"fullscreenchange",i.handleFullscreenChange),!1===e[n.fsApi_.fullscreenEnabled]&&i.disable(),i}Rt(n,t);var o=n.prototype;return o.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},o.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},n}(ri);Ti.prototype.controlText_="Fullscreen",At.registerComponent("FullscreenToggle",Ti);var Pi=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))};At.registerComponent("VolumeLevel",function(t){function e(){return t.apply(this,arguments)||this}return Rt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(At));var wi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).on("slideractive",o.updateLastVolume_),o.on(e,"volumechange",o.updateARIAAttributes),e.ready((function(){return o.updateARIAAttributes()})),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){U(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){U(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(mi);wi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},wi.prototype.playerEvent="volumechange",At.registerComponent("VolumeBar",wi);var Oi=function(t){function e(e,n){var o;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||d(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),o=t.call(this,e,n)||this,Pi(Dt(o),e),o.throttledHandleMouseMove=gt(ft(Dt(o),o.handleMouseMove),pt),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on(o.volumeBar,["focus","slideractive"],(function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")})),o.on(o.volumeBar,["blur","sliderinactive"],(function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")})),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(At);Oi.prototype.options_={children:["volumeBar"]},At.registerComponent("VolumeControl",Oi);var Mi=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},Ei=function(t){function e(e,n){var o;return o=t.call(this,e,n)||this,Mi(Dt(o),e),o.on(e,["loadstart","volumechange"],o.update),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;Kt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)P(this.el_,"vjs-vol-"+n);T(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(ri);Ei.prototype.controlText_="Mute",At.registerComponent("MuteToggle",Ei);var xi=function(t){function n(e,n){var o;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||d(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(o=t.call(this,e,n)||this).on(e,["loadstart"],o.volumePanelState_),o.on(o.muteToggle,"keyup",o.handleKeyPress),o.on(o.volumeControl,"keyup",o.handleVolumeControlKeyUp),o.on("keydown",o.handleKeyPress),o.on("mouseover",o.handleMouseOver),o.on("mouseout",o.handleMouseOut),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}Rt(n,t);var o=n.prototype;return o.sliderActive_=function(){this.addClass("vjs-slider-active")},o.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},o.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},o.handleVolumeControlKeyUp=function(t){Ce.isEventKey(t,"Esc")&&this.muteToggle.focus()},o.handleMouseOver=function(t){this.addClass("vjs-hover"),rt(e,"keyup",ft(this,this.handleKeyPress))},o.handleMouseOut=function(t){this.removeClass("vjs-hover"),at(e,"keyup",ft(this,this.handleKeyPress))},o.handleKeyPress=function(t){Ce.isEventKey(t,"Esc")&&this.handleMouseOut()},n}(At);xi.prototype.options_={children:["muteToggle","volumeControl"]},At.registerComponent("VolumePanel",xi);var Si=function(t){function n(e,n){var o;return o=t.call(this,e,n)||this,n&&(o.menuButton_=n.menuButton),o.focusedChild_=-1,o.on("keydown",o.handleKeyDown),o.boundHandleBlur_=ft(Dt(o),o.handleBlur),o.boundHandleTapClick_=ft(Dt(o),o.handleTapClick),o}Rt(n,t);var o=n.prototype;return o.addEventListenerForItem=function(t){t instanceof At&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},o.removeEventListenerForItem=function(t){t instanceof At&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},o.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},o.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},o.createEl=function(){this.contentEl_=_(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),rt(e,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),e},o.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},o.handleBlur=function(t){var n=t.relatedTarget||e.activeElement;if(!this.children().some((function(t){return t.el()===n}))){var o=this.menuButton_;o&&o.buttonPressed_&&n!==o.el().firstChild&&o.unpressButton()}},o.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},o.handleKeyDown=function(t){Ce.isEventKey(t,"Left")||Ce.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Ce.isEventKey(t,"Right")||Ce.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},o.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},o.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},o.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},n}(At);At.registerComponent("Menu",Si);var Ii=function(t){function n(n,o){var i;void 0===o&&(o={}),(i=t.call(this,n,o)||this).menuButton_=new ri(n,o),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var l=ri.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+l,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),rt(e,"keyup",ft(Dt(i),i.handleMenuKeyUp))})),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}Rt(n,t);var o=n.prototype;return o.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},o.createMenu=function(){var t=new Si(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=_("li",{className:"vjs-menu-title",innerHTML:St(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new At(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t},o.createItems=function(){},o.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},o.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+ri.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},o.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+t.prototype.buildCSSClass.call(this)},o.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},o.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},o.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},o.handleMouseLeave=function(t){this.removeClass("vjs-hover"),at(e,"keyup",ft(this,this.handleMenuKeyUp))},o.focus=function(){this.menuButton_.focus()},o.blur=function(){this.menuButton_.blur()},o.handleKeyDown=function(t){Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Ce.isEventKey(t,"Up")||Ce.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},o.handleMenuKeyUp=function(t){(Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},o.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},o.handleSubmenuKeyDown=function(t){(Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},o.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Kt&&m())return;this.menu.focus()}},o.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},o.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},o.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},n}(At);At.registerComponent("MenuButton",Ii);var Ai=function(t){function e(e,n){var o,i=n.tracks;if((o=t.call(this,e,n)||this).items.length<=1&&o.hide(),!i)return Dt(o);var l=ft(Dt(o),o.update);return i.addEventListener("removetrack",l),i.addEventListener("addtrack",l),o.player_.on("ready",l),o.player_.on("dispose",(function(){i.removeEventListener("removetrack",l),i.removeEventListener("addtrack",l)})),o}return Rt(e,t),e}(Ii);At.registerComponent("TrackButton",Ai);var Ri=["Tab","Esc","Up","Down","Right","Left"],Ni=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).selectable=n.selectable,o.isSelected_=n.selected||!1,o.multiSelectable=n.multiSelectable,o.selected(o.isSelected_),o.el_.setAttribute("role",o.selectable?o.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),o}Rt(e,t);var n=e.prototype;return n.createEl=function(e,n,o){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",u({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),o)},n.handleKeyDown=function(e){Ri.some((function(t){return Ce.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ni);At.registerComponent("MenuItem",Ni);var ji=function(n){function o(o,i){var l,r=i.track,a=o.textTracks();i.label=r.label||r.language||"Unknown",i.selected="showing"===r.mode,(l=n.call(this,o,i)||this).track=r,l.kinds=(i.kinds||[i.kind||l.track.kind]).filter(Boolean);var s,u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];l.handleTracksChange.apply(Dt(l),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];l.handleSelectedLanguageChange.apply(Dt(l),e)};return o.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",c),l.on("dispose",(function(){o.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",c)})),void 0===a.onchange&&l.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{s=new t.Event("change")}catch(n){}s||(s=e.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(s)})),l.handleTracksChange(),l}Rt(o,n);var i=o.prototype;return i.handleClick=function(t){var e=this.track,o=this.player_.textTracks();if(n.prototype.handleClick.call(this,t),o)for(var i=0;i<o.length;i++){var l=o[i];-1!==this.kinds.indexOf(l.kind)&&(l===e?"showing"!==l.mode&&(l.mode="showing"):"disabled"!==l.mode&&(l.mode="disabled"))}},i.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},i.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,n.prototype.dispose.call(this)},o}(Ni);At.registerComponent("TextTrackMenuItem",ji);var Di=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Rt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,o=0,i=e.length;o<i;o++){var l=e[o];if(this.options_.kinds.indexOf(l.kind)>-1&&"showing"===l.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,o=0,i=e.length;o<i;o++){var l=e[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&"showing"===l.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(ji);At.registerComponent("OffTextTrackMenuItem",Di);var Li=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Rt(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=ji),this.label_&&(n=this.label_+" off"),t.push(new Di(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<o.length;i++){var l=o[i];if(this.kinds_.indexOf(l.kind)>-1){var r=new e(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});r.addClass("vjs-"+l.kind+"-menu-item"),t.push(r)}}return t},e}(Ai);At.registerComponent("TextTrackButton",Li);var Vi=function(t){function e(e,n){var o,i=n.track,l=n.cue,r=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=l.text,n.selected=l.startTime<=r&&r<l.endTime,(o=t.call(this,e,n)||this).track=i,o.cue=l,i.addEventListener("cuechange",ft(Dt(o),o.update)),o}Rt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Ni);At.registerComponent("ChaptersTrackMenuItem",Vi);var Bi=function(t){function e(e,n,o){return t.call(this,e,n,o)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(St(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,o=e.length;n<o;n++){var i=new Vi(this.player_,{track:this.track_,cue:e[n]});t.push(i)}return t},e}(Li);Bi.prototype.kind_="chapters",Bi.prototype.controlText_="Chapters",At.registerComponent("ChaptersButton",Bi);var Fi=function(t){function e(e,n,o){var i;i=t.call(this,e,n,o)||this;var l=e.textTracks(),r=ft(Dt(i),i.handleTracksChange);return l.addEventListener("change",r),i.on("dispose",(function(){l.removeEventListener("change",r)})),i}Rt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,o=0,i=e.length;o<i;o++){var l=e[o];if(l.kind!==this.kind_&&"showing"===l.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Li);Fi.prototype.kind_="descriptions",Fi.prototype.controlText_="Descriptions",At.registerComponent("DescriptionsButton",Fi);var Ui=function(t){function e(e,n,o){return t.call(this,e,n,o)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Li);Ui.prototype.kind_="subtitles",Ui.prototype.controlText_="Subtitles",At.registerComponent("SubtitlesButton",Ui);var Hi=function(t){function e(e,n){var o;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(o=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),o.controlText(", opens "+n.kind+" settings dialog"),o}return Rt(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(ji);At.registerComponent("CaptionSettingsMenuItem",Hi);var zi=function(t){function e(e,n,o){return t.call(this,e,n,o)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Hi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Li);zi.prototype.kind_="captions",zi.prototype.controlText_="Captions",At.registerComponent("CaptionsButton",zi);var Ki=function(t){function e(){return t.apply(this,arguments)||this}return Rt(e,t),e.prototype.createEl=function(e,n,o){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),t.prototype.createEl.call(this,e,u({innerHTML:i+="</span>"},n),o)},e}(ji);At.registerComponent("SubsCapsMenuItem",Ki);var $i=function(t){function e(e,n){var o;return void 0===n&&(n={}),(o=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(o.player_.language_)>-1&&(o.label_="captions"),o.menuButton_.controlText(St(o.label_)),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Hi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,Ki)},e}(Li);$i.prototype.kinds_=["captions","subtitles"],$i.prototype.controlText_="Subtitles",At.registerComponent("SubsCapsButton",$i);var qi=function(t){function e(e,n){var o,i=n.track,l=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(o=t.call(this,e,n)||this).track=i,o.addClass("vjs-"+i.kind+"-menu-item");var r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(Dt(o),e)};return l.addEventListener("change",r),o.on("dispose",(function(){l.removeEventListener("change",r)})),o}Rt(e,t);var n=e.prototype;return n.createEl=function(e,n,o){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),t.prototype.createEl.call(this,e,u({innerHTML:i+="</span>"},n),o)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var o=0;o<n.length;o++){var i=n[o];i.enabled=i===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Ni);At.registerComponent("AudioTrackMenuItem",qi);var Wi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++)t.push(new qi(this.player_,{track:e[n],selectable:!0,multiSelectable:!1}));return t},e}(Ai);Wi.prototype.controlText_="Audio Track",At.registerComponent("AudioTrackButton",Wi);var Gi=function(t){function e(e,n){var o,i=n.rate,l=parseFloat(i,10);return n.label=i,n.selected=1===l,n.selectable=!0,n.multiSelectable=!1,(o=t.call(this,e,n)||this).label=i,o.rate=l,o.on(e,"ratechange",o.update),o}Rt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Ni);Gi.prototype.contentElType="button",At.registerComponent("PlaybackRateMenuItem",Gi);var Xi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).updateVisibility(),o.updateLabel(),o.on(e,"loadstart",o.updateVisibility),o.on(e,"ratechange",o.updateLabel),o}Rt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=_("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Si(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new Gi(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),o=n[0],i=0;i<n.length;i++)if(n[i]>e){o=n[i];break}this.player().playbackRate(o)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ii);Xi.prototype.controlText_="Playback Rate",At.registerComponent("PlaybackRateMenuButton",Xi);var Yi=function(t){function e(){return t.apply(this,arguments)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(At);At.registerComponent("Spacer",Yi),At.registerComponent("CustomControlSpacer",function(t){function e(){return t.apply(this,arguments)||this}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="\xa0",e},e}(Yi));var Qi=function(t){function e(){return t.apply(this,arguments)||this}return Rt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(At);Qi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in e&&Qi.prototype.options_.children.splice(Qi.prototype.options_.children.length-1,0,"pictureInPictureToggle"),At.registerComponent("ControlBar",Qi);var Ji=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).on(e,"error",o.open),o}Rt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Te);Ji.prototype.options_=It(Te.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),At.registerComponent("ErrorDisplay",Ji);var Zi=["#000","Black"],tl=["#00F","Blue"],el=["#0FF","Cyan"],nl=["#0F0","Green"],ol=["#F0F","Magenta"],il=["#F00","Red"],ll=["#FFF","White"],rl=["#FF0","Yellow"],al=["1","Opaque"],sl=["0.5","Semi-Transparent"],ul=["0","Transparent"],cl={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Zi,ll,il,nl,tl,rl,ol,el]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[al,sl,ul]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ll,Zi,il,nl,tl,rl,ol,el]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[al,sl]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ul,sl,al]}};function dl(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}cl.windowColor.options=cl.backgroundColor.options,At.registerComponent("TextTrackSettings",function(e){function n(t,n){var o;return n.temporary=!1,(o=e.call(this,t,n)||this).updateDisplay=ft(Dt(o),o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=_("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),void 0===n.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",(function(){o.saveSettings(),o.close()})),o.on(o.$(".vjs-default-button"),"click",(function(){o.setDefaults(),o.updateDisplay()})),s(cl,(function(t){o.on(o.$(t.selector),"change",o.updateDisplay)})),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}Rt(n,e);var o=n.prototype;return o.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},o.createElSelect_=function(t,e,n){var o=this;void 0===e&&(e=""),void 0===n&&(n="label");var i=cl[t],l=i.id.replace("%s",this.id_),r=[e,l].join(" ").trim();return["<"+n+' id="'+l+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+r+'">'].concat(i.options.map((function(t){var e=l+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+r+" "+e+'">',o.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},o.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},o.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},o.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},o.createElColors_=function(){return _("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.createElFont_=function(){return _("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.createElControls_=function(){var t=this.localize("restore all settings to the default values");return _("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.label=function(){return this.localize("Caption Settings Dialog")},o.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.getValues=function(){var t,e,n,o=this;return e=function(t,e,n){var i,l=dl((i=o.$(e.selector)).options[i.options.selectedIndex].value,e.parser);return void 0!==l&&(t[n]=l),t},void 0===(n={})&&(n=0),a(t=cl).reduce((function(n,o){return e(n,t[o],o)}),n)},o.setValues=function(t){var e=this;s(cl,(function(n,o){!function(t,e,n){if(e)for(var o=0;o<t.options.length;o++)if(dl(t.options[o].value,n)===e){t.selectedIndex=o;break}}(e.$(n.selector),t[o],n.parser)}))},o.setDefaults=function(){var t=this;s(cl,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},o.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem("vjs-text-track-settings"))}catch(n){i.warn(n)}e&&this.setValues(e)},o.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):t.localStorage.removeItem("vjs-text-track-settings")}catch(n){i.warn(n)}}},o.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},o.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},n}(Te)),At.registerComponent("ResizeManager",function(e){function n(n,o){var i,l=o.ResizeObserver||t.ResizeObserver;null===o.ResizeObserver&&(l=!1);var r=It({createEl:!l,reportTouchActivity:!1},o);return(i=e.call(this,n,r)||this).ResizeObserver=o.ResizeObserver||t.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=vt((function(){i.resizeHandler()}),100,!1,Dt(i)),l?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(n.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var t=i.debouncedHandler_,e=i.unloadListener_=function(){at(this,"resize",t),at(this,"unload",e),e=null};rt(i.el_.contentWindow,"unload",e),rt(i.el_.contentWindow,"resize",t)}},i.one("load",i.loadListener_)),i}Rt(n,e);var o=n.prototype;return o.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},o.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},o.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},n}(At)),At.registerComponent("LiveTracker",function(t){function n(n,o){var i,l=It({createEl:!1},o);return(i=t.call(this,n,l)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),Zt&&"hidden"in e&&"visibilityState"in e&&i.on(e,"visibilitychange",i.handleVisibilityChange),i}Rt(n,t);var o=n.prototype;return o.handleVisibilityChange=function(){this.player_.duration()===1/0&&(e.hidden?this.stopTracking():this.startTracking())},o.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime();return t!==1/0&&t-(2*this.seekableIncrement_+.07)>=e},o.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e,n,o,i=this.seekableEnd();i!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(i-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=(e=this.seekableIncrementList_,n=Math.floor(e.length/2),o=[].concat(e).sort((function(t,e){return t-e})),e.length%2!=0?o[n]:(o[n-1]+o[n])/2))),this.pastSeekEnd_=0,this.lastSeekEnd_=i,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},o.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},o.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},o.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},o.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},o.stopTracking=function(){this.isTracking()&&this.reset_()},o.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},o.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},o.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},o.isLive=function(){return this.isTracking()},o.atLiveEdge=function(){return!this.behindLiveEdge()},o.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},o.pastSeekEnd=function(){return this.pastSeekEnd_},o.behindLiveEdge=function(){return this.behindLiveEdge_},o.isTracking=function(){return"number"==typeof this.trackingInterval_},o.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},o.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},n}(At));var hl=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),o=[],i="";if(!n.length)return!1;for(var l=0;l<n.length;l++){var r=n[l].src;r&&-1===o.indexOf(r)&&o.push(r)}return!!o.length&&(1===o.length&&(i=o[0]),t.triggerSourceset(i),!0)},pl=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var o=e.createElement(this.nodeName.toLowerCase());o.innerHTML=n;for(var i=e.createDocumentFragment();o.childNodes.length;)i.appendChild(o.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,i),this.innerHTML}}),fl=function(t,e){for(var n={},o=0;o<t.length&&!((n=Object.getOwnPropertyDescriptor(t[o],e))&&n.set&&n.get);o++);return n.enumerable=!0,n.configurable=!0,n},gl=function(e){var n=e.el();if(!n.resetSourceWatch_){var o={},i=function(e){return fl([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,pl],"innerHTML")}(e),l=function(t){return function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];var r=t.apply(n,i);return hl(e),r}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){n[t]&&(o[t]=n[t],n[t]=l(o[t]))})),Object.defineProperty(n,"innerHTML",It(i,{set:l(i.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(o).forEach((function(t){n[t]=o[t]})),Object.defineProperty(n,"innerHTML",i)},e.one("sourceset",n.resetSourceWatch_)}},vl=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Fe(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),ml=function(n){function o(t,e){var o;o=n.call(this,t,e)||this;var l=t.source,r=!1;if(l&&(o.el_.currentSrc!==l.src||t.tag&&3===t.tag.initNetworkState_)?o.setSource(l):o.handleLateInit_(o.el_),t.enableSourceset&&o.setupSourcesetHandling_(),o.el_.hasChildNodes()){for(var a=o.el_.childNodes,s=a.length,u=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(c),o.remoteTextTracks().addTrack(c.track),o.textTracks().addTrack(c.track),r||o.el_.hasAttribute("crossorigin")||!He(c.src)||(r=!0)):u.push(c))}for(var d=0;d<u.length;d++)o.el_.removeChild(u[d])}return o.proxyNativeTracks_(),o.featuresNativeTextTracks&&r&&i.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),o.restoreMetadataTracksInIOSNativePlayer_(),(oe||Ht||Gt)&&!0===t.nativeControlsForTouch&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}Rt(o,n);var l=o.prototype;return l.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},l.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var o=function(e){return fl([e.el(),t.HTMLMediaElement.prototype,vl],"src")}(e),i=n.setAttribute,l=n.load;Object.defineProperty(n,"src",It(o,{set:function(t){var i=o.set.call(n,t);return e.triggerSourceset(n.src),i}})),n.setAttribute=function(t,o){var l=i.call(n,t,o);return/src/i.test(t)&&e.triggerSourceset(n.src),l},n.load=function(){var t=l.call(n);return hl(e)||(e.triggerSourceset(""),gl(e)),t},n.currentSrc?e.triggerSourceset(n.currentSrc):hl(e)||gl(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=l,n.setAttribute=i,Object.defineProperty(n,"src",o),n.resetSourceWatch_&&n.resetSourceWatch_()}}}}(this)},l.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var o=e[n];"metadata"===o.kind&&t.push({track:o,storedMode:o.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var o=function n(){for(var o=0;o<t.length;o++){var i=t[o];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",o),e.addEventListener("change",o)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",o)}))},l.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var o=t.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach((function(t){n.el()[o+"Tracks"].removeEventListener(t,n[o+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},l.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},l.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},l.proxyNativeTracksForType_=function(t){var e=this,n=uo[t],o=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&o&&o.addEventListener){var l={change:function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(t){i.addTrack(t.track)},removetrack:function(t){i.removeTrack(t.track)}},r=function(){for(var t=[],e=0;e<i.length;e++){for(var n=!1,l=0;l<o.length;l++)if(o[l]===i[e]){n=!0;break}n||t.push(i[e])}for(;t.length;)i.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=l,Object.keys(l).forEach((function(t){var n=l[t];o.addEventListener(t,n),e.on("dispose",(function(e){return o.removeEventListener(t,n)}))})),this.on("loadstart",r),this.on("dispose",(function(t){return e.off("loadstart",r)}))}},l.proxyNativeTracks_=function(){var t=this;uo.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},l.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),o.disposeMediaElement(t),t=n}else{t=e.createElement("video");var i=It({},this.options_.tag&&M(this.options_.tag));oe&&!0===this.options_.nativeControlsForTouch||delete i.controls,O(t,u(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&x(t,"preload",this.options_.preload);for(var l=["loop","muted","playsinline","autoplay"],r=0;r<l.length;r++){var a=l[r],s=this.options_[a];void 0!==s&&(s?x(t,a,a):S(t,a),t[a]=s)}return t},l.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var o=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",o),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",o),e||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),t.readyState>=2&&i.push("loadeddata"),t.readyState>=3&&i.push("canplay"),t.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(t){this.trigger(t)}),this)}))}},l.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){i(e,"Video is not ready. (Video.js)")}},l.duration=function(){var t=this;return this.el_.duration===1/0&&qt&&Qt&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},l.width=function(){return this.el_.offsetWidth},l.height=function(){return this.el_.offsetHeight},l.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},l.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},l.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},l.exitFullScreen=function(){this.el_.webkitExitFullScreen()},l.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},l.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},l.reset=function(){o.resetMediaElement(this.el_)},l.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},l.setControls=function(t){this.el_.controls=!!t},l.addTextTrack=function(t,e,o){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,o):n.prototype.addTextTrack.call(this,t,e,o)},l.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var o=e.createElement("track");return t.kind&&(o.kind=t.kind),t.label&&(o.label=t.label),(t.language||t.srclang)&&(o.srclang=t.language||t.srclang),t.default&&(o.default=t.default),t.id&&(o.id=t.id),t.src&&(o.src=t.src),o},l.addRemoteTextTrack=function(t,e){var o=n.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(o),o},l.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),o=e.length;o--;)t!==e[o]&&t!==e[o].track||this.el().removeChild(e[o])},l.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},o}(zo);if(g()){ml.TEST_VID=e.createElement("video");var yl=e.createElement("track");yl.kind="captions",yl.srclang="en",yl.label="English",ml.TEST_VID.appendChild(yl)}ml.isSupported=function(){try{ml.TEST_VID.volume=.5}catch(t){return!1}return!(!ml.TEST_VID||!ml.TEST_VID.canPlayType)},ml.canPlayType=function(t){return ml.TEST_VID.canPlayType(t)},ml.canPlaySource=function(t,e){return ml.canPlayType(t.type)},ml.canControlVolume=function(){try{var t=ml.TEST_VID.volume;return ml.TEST_VID.volume=t/2+.1,t!==ml.TEST_VID.volume}catch(e){return!1}},ml.canMuteVolume=function(){try{var t=ml.TEST_VID.muted;return ml.TEST_VID.muted=!t,ml.TEST_VID.muted?x(ml.TEST_VID,"muted","muted"):S(ml.TEST_VID,"muted"),t!==ml.TEST_VID.muted}catch(e){return!1}},ml.canControlPlaybackRate=function(){if(qt&&Qt&&Jt<58)return!1;try{var t=ml.TEST_VID.playbackRate;return ml.TEST_VID.playbackRate=t/2+.1,t!==ml.TEST_VID.playbackRate}catch(e){return!1}},ml.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(e.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"innerHTML",{get:t,set:t})}catch(n){return!1}return!0},ml.supportsNativeTextTracks=function(){return ee||Kt&&Qt},ml.supportsNativeVideoTracks=function(){return!(!ml.TEST_VID||!ml.TEST_VID.videoTracks)},ml.supportsNativeAudioTracks=function(){return!(!ml.TEST_VID||!ml.TEST_VID.audioTracks)},ml.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],ml.prototype.featuresVolumeControl=ml.canControlVolume(),ml.prototype.featuresMuteControl=ml.canMuteVolume(),ml.prototype.featuresPlaybackRate=ml.canControlPlaybackRate(),ml.prototype.featuresSourceset=ml.canOverrideAttributes(),ml.prototype.movingMediaElementInDOM=!Kt,ml.prototype.featuresFullscreenResize=!0,ml.prototype.featuresProgressEvents=!0,ml.prototype.featuresTimeupdateEvents=!0,ml.prototype.featuresNativeTextTracks=ml.supportsNativeTextTracks(),ml.prototype.featuresNativeVideoTracks=ml.supportsNativeVideoTracks(),ml.prototype.featuresNativeAudioTracks=ml.supportsNativeAudioTracks();var _l=ml.TEST_VID&&ml.TEST_VID.constructor.prototype.canPlayType,bl=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;ml.patchCanPlayType=function(){Wt>=4&&!Xt&&!Qt&&(ml.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&bl.test(t)?"maybe":_l.call(this,t)})},ml.unpatchCanPlayType=function(){var t=ml.TEST_VID.constructor.prototype.canPlayType;return ml.TEST_VID.constructor.prototype.canPlayType=_l,t},ml.patchCanPlayType(),ml.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},ml.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){ml.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){ml.prototype["set"+St(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){ml.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){ml.prototype["set"+St(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){ml.prototype[t]=function(){return this.el_[t]()}})),zo.withSourceHandlers(ml),ml.nativeSourceHandler={},ml.nativeSourceHandler.canPlayType=function(t){try{return ml.TEST_VID.canPlayType(t)}catch(e){return""}},ml.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ml.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Ue(t.src);return ml.nativeSourceHandler.canPlayType("video/"+n)}return""},ml.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},ml.nativeSourceHandler.dispose=function(){},ml.registerSourceHandler(ml.nativeSourceHandler),zo.registerTech("Html5",ml);var Cl=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],kl={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Tl=["tiny","xsmall","small","medium","large","xlarge","huge"],Pl={};Tl.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Pl[t]="vjs-layout-"+e}));var wl={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ol=function(o){function r(t,e,i){var a;if(t.id=t.id||e.id||"vjs_video_"+tt(),(e=u(r.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var s=t.closest("[lang]");s&&s.getAttribute&&(e.language=s.getAttribute("lang"))}else for(var c=t;c&&1===c.nodeType;){if(M(c).hasOwnProperty("lang")){e.language=c.getAttribute("lang");break}c=c.parentNode}if((a=o.call(this,null,e,i)||this).boundDocumentFullscreenChange_=ft(Dt(a),a.documentFullscreenChange_),a.boundFullWindowOnEscKey_=ft(Dt(a),a.fullWindowOnEscKey),a.log=l(a.id_),a.fsApi_=ce,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=t,a.tagAttributes=t&&M(t),a.language(a.options_.language),e.languages){var d={};Object.getOwnPropertyNames(e.languages).forEach((function(t){d[t.toLowerCase()]=e.languages[t]})),a.languages_=d}else a.languages_=r.prototype.options_.languages;a.resetCache_(),a.poster_=e.poster||"",a.controls_=!!e.controls,t.controls=!1,t.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],t.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach((function(t){if("function"!=typeof a[t])throw new Error('plugin "'+t+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),Ot(Dt(a),{eventBusKey:"el_"}),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var h=It(a.options_);e.plugins&&Object.keys(e.plugins).forEach((function(t){a[t](e.plugins[t])})),a.options_.playerOptions=h,a.middleware_=[],a.initChildren(),a.isAudio("audio"===t.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),oe&&a.addClass("vjs-touch-enabled"),Kt||a.addClass("vjs-workinghover"),r.players[a.id_]=Dt(a);var p=n.split(".")[0];return a.addClass("vjs-v"+p),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("stageclick",a.handleStageClick_),a.on("keydown",a.handleKeyDown),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}Rt(r,o);var a=r.prototype;return a.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),at(e,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),at(e,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),r.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),$o[this.id()]=null,ho.names.forEach((function(e){var n=t[ho[e].getterName]();n&&n.off&&n.off()})),o.prototype.dispose.call(this)},a.createEl=function(){var n,i=this.tag,l=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();l?n=this.el_=i.parentNode:r||(n=this.el_=o.prototype.createEl.call(this,"div"));var a=M(i);if(r){for(n=this.el_=i,i=this.tag=e.createElement("video");n.children.length;)i.appendChild(n.firstChild);k(n,"video-js")||T(n,"video-js"),n.appendChild(i),l=this.playerElIngest_=n,Object.keys(n).forEach((function(t){i[t]=n[t]}))}if(i.setAttribute("tabindex","-1"),a.tabindex="-1",(Zt||Qt&&ne)&&(i.setAttribute("role","application"),a.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(t){r&&"class"===t||n.setAttribute(t,a[t]),r&&i.setAttribute(t,a[t])})),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=n.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Y("vjs-styles-dimensions");var s=z(".vjs-styles-defaults"),u=z("head");u.insertBefore(this.styleEl_,s?s.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=i.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);T(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!l&&i.parentNode.insertBefore(n,i),C(i,n),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=n,n},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var o=parseFloat(e);isNaN(o)?i.error('Improper value "'+e+'" supplied for for '+t):(this[n]=o,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e;this.fluid_=!!t,yt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),yt(e=function(){this.on("playerreset",this.updateStyleEl_)})?(void 0)():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(void 0))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,n,o,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),l=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*l,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),Q(this.styleEl_,"\n      ."+o+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(r>=0&&(s.width=r),a>=0&&(s.height=a))}},a.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var o=St(t),i=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==o&&this.tag&&(zo.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ho.names.forEach((function(t){var e=ho[t];l[e.getterName]=n[e.privateName]})),u(l,this.options_[o]),u(l,this.options_[i]),u(l,this.options_[t.toLowerCase()]),this.tag&&(l.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(l.startTime=this.cache_.currentTime);var r,a=zo.getTech(t);if(!a)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new a(l),this.tech_.ready(ft(this,this.handleTechReady_),!0),r=this.tech_,(this.textTracksJson_||[]).forEach((function(t){var e=r.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return e.addCue(t)}))})),r.textTracks(),Cl.forEach((function(t){n.on(n.tech_,t,n["handleTech"+St(t)+"_"])})),Object.keys(kl).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+kl[t]+"_"].bind(n),event:e}):n["handleTech"+kl[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===o&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t,e,n,o=this;ho.names.forEach((function(t){var e=ho[t];o[e.privateName]=o[e.getterName]()})),this.textTracksJson_=(e=(t=this.tech_).$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track})),Array.prototype.map.call(e,(function(t){var e=_e(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(_e))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&i.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,o=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var o=e.play();if(me(o))return o.catch(n)};if("any"===t&&!0!==this.muted()?me(n=this.play())&&(n=n.catch(o)):n="muted"===t&&!0!==this.muted()?o():this.play(),me(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var o=t.$$("source"),i=0;i<o.length;i++){var l=o[i];if(l.type&&l.src&&l.src===e)return l.type}return Zo(e)}(this,e)),this.cache_.source=It({},t,{src:e,type:n});for(var o=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),i=[],l=this.$$("source"),r=[],a=0;a<l.length;a++){var s=M(l[a]);i.push(s),s.src&&s.src===e&&r.push(s.src)}r.length&&!o.length?this.cache_.sources=i:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},o=this.currentSource().src,i=t.src;o&&!/^blob:/.test(o)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==o)&&(n=function(){}),n(i),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(i.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){U(t)&&this.controls_&&(this.paused()?ye(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(t){var n=this.el(),o=e[this.fsApi_.fullscreenElement]===n;!o&&n.matches?o=n.matches(":"+this.fsApi_.fullscreen):!o&&n.msMatchesSelector&&(o=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o),!1===this.isFullscreen()&&at(e,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},a.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(t,e){this.ready((function(){if(t in Xo)return function(t,e,n,o){return e[n](t.reduce(Qo(n),o))}(this.middleware_,this.tech_,t,e);if(t in Yo)return Wo(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(n){throw i(n),n}}),!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Go)return function(t,e,n){return t.reduceRight(Qo(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Yo)return Wo(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw i("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw i("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw i(e),e}}},a.play=function(){var e=this,n=this.options_.Promise||t.Promise;return n?new n((function(t){e.play_(t)})):this.play_()},a.play_=function(t){var e=this;void 0===t&&(t=ye),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!ee&&!Kt||this.load());var o=this.techGet_("play");null===o?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},a.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||ae(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=ae(0,0)),t},a.bufferedPercent=function(){return se(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,void this.toggleFullscreenClass_()):!!this.isFullscreen_},a.requestFullscreen=function(t){var n;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(rt(e,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(n=t)),ye(this.el_[this.fsApi_.requestFullscreen](n))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},a.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?ye(e[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},a.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=e.documentElement.style.overflow,rt(e,"keydown",this.boundFullWindowOnEscKey_),e.documentElement.style.overflow="hidden",T(e.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){Ce.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullWindow=!1,at(e,"keydown",this.boundFullWindowOnEscKey_),e.documentElement.style.overflow=this.docOrigOverflow,P(e.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in e)return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in e)return e.exitPictureInPicture()},a.handleKeyDown=function(t){var e,n,o=this.options_.userActions;o&&o.hotkeys&&(n=(e=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof o.hotkeys?o.hotkeys.call(this,t):this.handleHotkeys(t)))},a.handleHotkeys=function(t){var n=this.options_.userActions?this.options_.userActions.hotkeys:{},o=n.fullscreenKey,i=n.muteKey,l=void 0===i?function(t){return Ce.isEventKey(t,"m")}:i,r=n.playPauseKey,a=void 0===r?function(t){return Ce.isEventKey(t,"k")||Ce.isEventKey(t,"Space")}:r;if((void 0===o?function(t){return Ce.isEventKey(t,"f")}:o).call(this,t)){t.preventDefault(),t.stopPropagation();var s=At.getComponent("FullscreenToggle");!1!==e[this.fsApi_.fullscreenEnabled]&&s.prototype.handleClick.call(this,t)}else l.call(this,t)?(t.preventDefault(),t.stopPropagation(),At.getComponent("MuteToggle").prototype.handleClick.call(this,t)):a.call(this,t)&&(t.preventDefault(),t.stopPropagation(),At.getComponent("PlayToggle").prototype.handleClick.call(this,t))},a.canPlayType=function(t){for(var e,n=0,o=this.options_.techOrder;n<o.length;n++){var l=o[n],r=zo.getTech(l);if(r||(r=At.getComponent(l)),r){if(r.isSupported()&&(e=r.canPlayType(t)))return e}else i.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,n=this,o=this.options_.techOrder.map((function(t){return[t,zo.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(i.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),l=function(t,e,n){var o;return t.some((function(t){return e.some((function(e){if(o=n(t,e))return!0}))})),o},r=function(t,e){var o=t[0];if(t[1].canPlaySource(e,n.options_[o.toLowerCase()]))return{source:e,tech:o}};return(this.options_.sourceOrder?l(t,o,(e=r,function(t,n){return e(n,t)})):l(o,t,r))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n,o,i,l=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):c(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[ti({src:e})]:c(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ti(e)]:[];return e}(t);l.length?(this.changingSrc_=!0,this.cache_.sources=l,this.updateSourceCaches_(l[0]),o=l[0],i=function(t,n){var o;if(e.middleware_=n,e.cache_.sources=l,e.updateSourceCaches_(t),e.src_(t))return l.length>1?e.src(l.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());o=e.tech_,n.forEach((function(t){return t.setTech&&t.setTech(o)}))},(n=this).setTimeout((function(){return function t(e,n,o,i,l,r){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===l&&(l=[]),void 0===r&&(r=!1);var a=n[0],s=n.slice(1);if("string"==typeof a)t(e,Ko[a],o,i,l,r);else if(a){var c=function(t,e){var n=$o[t.id()],o=null;if(null==n)return o=e(t),$o[t.id()]=[[e,o]],o;for(var i=0;i<n.length;i++){var l=n[i];l[0]===e&&(o=l[1])}return null===o&&(o=e(t),n.push([e,o])),o}(i,a);if(!c.setSource)return l.push(c),t(e,s,o,i,l,r);c.setSource(u({},e),(function(n,a){if(n)return t(e,s,o,i,l,r);l.push(c),t(a,e.type===a.type?s:Ko[a.type],o,i,l,r)}))}else s.length?t(e,s,o,i,l,r):r?o(e,l):t(e,Ko["*"],o,i,l,!0)}(o,Ko[o.type],i,n)}),1)):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(t){var e,n=this,o=this.selectSource([t]);return!o||(e=this.techName_,St(o.tech)!==St(e)?(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,n=this.options_.Promise||t.Promise;this.paused()||!n?this.doReset_():ye(this.play().then((function(){return e.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),yt(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&t.message&&t.message===this.localize(this.options_.notSupportedMessage)){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ge(t),this.addClass("vjs-error"),i.error("(CODE:"+this.error_.code+" "+ge.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,n,o=ft(this,this.reportUserActivity);this.on("mousedown",(function(){o(),this.clearInterval(t),t=this.setInterval(o,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,o())})),this.on("mouseup",(function(e){o(),this.clearInterval(t)}));var i,l=this.getChild("controlBar");!l||Kt||qt||(l.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),l.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",o),this.on("keyup",o),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var t=this.options_.inactivityTimeout;t<=0||(i=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return It(r.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=It(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var o=e[n];(o=It(o)).player=void 0,t.tracks[n]=o}return t},a.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var o=new Te(this,e);return this.addChild(o),o.on("dispose",(function(){n.removeChild(o)})),o.open(),o},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Tl.length;n++){var o=Tl[n];if(e<=this.breakpoints_[o]){if(t===o)return;t&&this.removeClass(Pl[t]),this.addClass(Pl[o]),this.breakpoint_=o;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t?u(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=u({},wl,t),this.updateCurrentBreakpoint_(),u(this.breakpoints_))},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Pl[this.breakpoint_]||""},a.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=It(t);var o=this.cache_.media,i=o.poster,l=o.src,r=o.textTracks;!o.artwork&&i&&(this.cache_.media.artwork=[{src:i,type:Zo(i)}]),l&&this.src(l),i&&this.poster(i),Array.isArray(r)&&r.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},a.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Zo(e.poster)}]),e}return It(this.cache_.media)},r.getTagSettings=function(t){var e={sources:[],tracks:[]},n=M(t),o=n["data-setup"];if(k(t,"vjs-fill")&&(n.fill=!0),k(t,"vjs-fluid")&&(n.fluid=!0),null!==o){var l=function(t,e){var n,o=null;try{n=JSON.parse(t,void 0)}catch(r){o=r}return[o,n]}(o||"{}"),r=l[0],a=l[1];r&&i.error(r),u(n,a)}if(u(e,n),t.hasChildNodes())for(var s=t.childNodes,c=0,d=s.length;c<d;c++){var h=s[c],p=h.nodeName.toLowerCase();"source"===p?e.sources.push(M(h)):"track"===p&&e.tracks.push(M(h))}return e},a.flexNotSupported_=function(){var t=e.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},r}(At);ho.names.forEach((function(t){var e=ho[t];Ol.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Ol.players={};var Ml=t.navigator;Ol.prototype.options_={techOrder:zo.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ml&&(Ml.languages&&Ml.languages[0]||Ml.userLanguage||Ml.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Ol.prototype[t]=function(){return this.techGet_(t)}})),Cl.forEach((function(t){Ol.prototype["handleTech"+St(t)+"_"]=function(){return this.trigger(t)}})),At.registerComponent("Player",Ol);var El={},xl=function(t){return El.hasOwnProperty(t)},Sl=function(t){return xl(t)?El[t]:void 0},Il=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Al=function(t,e,n){var o=(n?"before":"")+"pluginsetup";t.trigger(o,e),t.trigger(o+":"+e.name,e)},Rl=function(t,e){return e.prototype.name=t,function(){Al(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=jt(e,[this].concat(o));return this[t]=function(){return l},Al(this,l.getEventHash()),l}},Nl=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Ot(this),delete this.trigger,Et(this,this.constructor.defaultState),Il(e,this.name),this.dispose=ft(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),st(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Rl(t,El[t])},t.isBasic=function(e){var n="string"==typeof e?Sl(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(xl(e))i.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Ol.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return El[e]=n,"plugin"!==e&&(Ol.prototype[e]=t.isBasic(n)?function(t,e){var n=function(){Al(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Il(this,t),Al(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):Rl(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");xl(t)&&(delete El[t],delete Ol.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(El)),t.forEach((function(t){var n=Sl(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=Sl(t);return e&&e.VERSION||""},t}();Nl.getPlugin=Sl,Nl.BASE_PLUGIN_NAME="plugin",Nl.registerPlugin("plugin",Nl),Ol.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Ol.prototype.hasPlugin=function(t){return!!xl(t)};var jl=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Dl(t,e,n){var o=Dl.getPlayer(t);if(o)return e&&i.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&o.ready(n),o;var l="string"==typeof t?z("#"+jl(t)):t;if(!v(l))throw new TypeError("The element or ID supplied is not valid. (videojs)");l.ownerDocument.defaultView&&l.ownerDocument.body.contains(l)||i.warn("The element supplied is not included in the DOM"),e=e||{},Dl.hooks("beforesetup").forEach((function(t){var n=t(l,It(e));c(n)&&!Array.isArray(n)?e=It(e,n):i.error("please return an object in beforesetup hooks")}));var r=At.getComponent("Player");return o=new r(l,e,n),Dl.hooks("setup").forEach((function(t){return t(o)})),o}if(Dl.hooks_={},Dl.hooks=function(t,e){return Dl.hooks_[t]=Dl.hooks_[t]||[],e&&(Dl.hooks_[t]=Dl.hooks_[t].concat(e)),Dl.hooks_[t]},Dl.hook=function(t,e){Dl.hooks(t,e)},Dl.hookOnce=function(t,e){Dl.hooks(t,[].concat(e).map((function(e){return function n(){return Dl.removeHook(t,n),e.apply(void 0,arguments)}})))},Dl.removeHook=function(t,e){var n=Dl.hooks(t).indexOf(e);return!(n<=-1||((Dl.hooks_[t]=Dl.hooks_[t].slice()).splice(n,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&g()){var Ll=z(".vjs-styles-defaults");if(!Ll){Ll=Y("vjs-styles-defaults");var Vl=z("head");Vl&&Vl.insertBefore(Ll,Vl.firstChild),Q(Ll,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return G(1,Dl),Dl.VERSION=n,Dl.options=Ol.prototype.options_,Dl.getPlayers=function(){return Ol.players},Dl.getPlayer=function(t){var e,n=Ol.players;if("string"==typeof t){var o=jl(t),i=n[o];if(i)return i;e=z("#"+o)}else e=t;if(v(e)){var l=e.player,r=e.playerId;if(l||n[r])return l||n[r]}},Dl.getAllPlayers=function(){return Object.keys(Ol.players).map((function(t){return Ol.players[t]})).filter(Boolean)},Dl.players=Ol.players,Dl.getComponent=At.getComponent,Dl.registerComponent=function(t,e){zo.isTech(e)&&i.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),At.registerComponent.call(At,t,e)},Dl.getTech=zo.getTech,Dl.registerTech=zo.registerTech,Dl.use=function(t,e){Ko[t]=Ko[t]||[],Ko[t].push(e)},Object.defineProperty(Dl,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Dl.middleware,"TERMINATOR",{value:qo,writeable:!1,enumerable:!0}),Dl.browser=ie,Dl.TOUCH_ENABLED=oe,Dl.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},o={};for(var i in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),o=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),o)o.hasOwnProperty(i)&&(n.prototype[i]=o[i]);return n},Dl.mergeOptions=It,Dl.bind=ft,Dl.registerPlugin=Nl.registerPlugin,Dl.deregisterPlugin=Nl.deregisterPlugin,Dl.plugin=function(t,e){return i.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Nl.registerPlugin(t,e)},Dl.getPlugins=Nl.getPlugins,Dl.getPlugin=Nl.getPlugin,Dl.getPluginVersion=Nl.getPluginVersion,Dl.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),(Dl.options.languages=It(Dl.options.languages,((n={})[t]=e,n)))[t]},Dl.log=i,Dl.createLogger=l,Dl.createTimeRange=Dl.createTimeRanges=ae,Dl.formatTime=di,Dl.setFormatTime=function(t){ci=t},Dl.resetFormatTime=function(){ci=ui},Dl.parseUrl=Be,Dl.isCrossOrigin=He,Dl.EventTarget=mt,Dl.on=rt,Dl.one=ut,Dl.off=at,Dl.trigger=st,Dl.xhr=Qn,Dl.TextTrack=oo,Dl.AudioTrack=io,Dl.VideoTrack=lo,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Dl[t]=function(){return i.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),$[t].apply(null,arguments)}})),Dl.computedStyle=h,Dl.dom=$,Dl.url=ze,Dl}(n("ZyuO"),n("zFeg"))},"7zRj":function(t,e,n){var o,i="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},l=n(11);"undefined"!=typeof document?o=document:(o=i["__GLOBAL_DOCUMENT_CACHE@4"])||(o=i["__GLOBAL_DOCUMENT_CACHE@4"]=l),t.exports=o},"HUk+":function(t,e,n){"use strict";n("cKMx")},QmOX:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return a}));var o=n("8Y7J"),i=n("SVse"),l=(n("1JpH"),o["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function r(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","root"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"div",[["class","glyphicon glyphicon-refresh glyphicon-refresh-animate"]],null,null,null,null,null))],null,null)}function a(t){return o["\u0275vid"](0,[(t()(),o["\u0275and"](16777216,null,null,1,null,r)),o["\u0275did"](1,16384,null,0,i.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.loading)}),null)}},Trnl:function(t,e,n){"use strict";function o(){var t=g("volume");if(null!=t){var e=parseFloat(t);if(isNaN(e))return;return e}}function i(){var t=g("webtorrent_enabled");return null==t||"true"===t}function l(){var t=g("mute");if(null!=t)return"true"===t}function r(){var t=g("theater-enabled");return null!=t&&"true"===t}function a(t){return v("volume",t.toString())}function s(t){return v("mute",t.toString())}function u(t){return v("theater-enabled",t.toString())}function c(t){return v("average-bandwidth",t.toString())}function d(){var t=g("average-bandwidth");if(null!=t){var e=parseInt(t,10);if(isNaN(e))return;return e}}function h(t){return v("last-subtitle",t)}function p(){return g("last-subtitle")}n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return r})),n.d(e,"k",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return d})),n.d(e,"h",(function(){return h})),n.d(e,"b",(function(){return p}));var f="peertube-videojs-";function g(t){try{return localStorage.getItem(f+t)}catch(e){return}}function v(t,e){try{localStorage.setItem(f+t,e)}catch(n){}}},ZyuO:function(t,e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n},aSIO:function(t,e,n){var o,i,l;l=function(t){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.25"}),(t.registerPlugin||t.plugin)("hotkeys",(function(e){function n(t){return"function"==typeof s?s(t):s}function o(t){null!=t&&"function"==typeof t.then&&t.then(null,(function(t){}))}var i=this,l=i.el(),r=document,a=(e=(t.mergeOptions||t.util.mergeOptions)({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(t){return 32===t.which||179===t.which},rewindKey:function(t){return 37===t.which||177===t.which},forwardKey:function(t){return 39===t.which||176===t.which},volumeUpKey:function(t){return 38===t.which},volumeDownKey:function(t){return 40===t.which},muteKey:function(t){return 77===t.which},fullscreenKey:function(t){return 70===t.which},customKeys:{}},e||{})).volumeStep,s=e.seekStep,u=e.enableMute,c=e.enableVolumeScroll,d=e.enableHoverScroll,h=e.enableFullscreen,p=e.enableNumbers,f=e.enableJogStyle,g=e.alwaysCaptureHotkeys,v=e.enableModifiersForNumbers,m=e.enableInactiveFocus,y=e.skipInitialFocus,_=t.VERSION;l.hasAttribute("tabIndex")||l.setAttribute("tabIndex","-1"),l.style.outline="none",!g&&i.autoplay()||y||i.one("play",(function(){l.focus()})),m&&i.on("userinactive",(function(){var t=function(){clearTimeout(e)},e=setTimeout((function(){i.off("useractive",t);var e=r.activeElement,n=l.querySelector(".vjs-control-bar");e&&e.parentElement==n&&l.focus()}),10);i.one("useractive",t)})),i.on("play",(function(){var t=l.querySelector(".iframeblocker");t&&""===t.style.display&&(t.style.display="block",t.style.bottom="39px")}));var b=!1,C=l.querySelector(".vjs-volume-menu-button")||l.querySelector(".vjs-volume-panel");null!=C&&(C.onmouseover=function(){b=!0},C.onmouseout=function(){b=!1});var k=function(t){if(d)e=0;else var e=r.activeElement;if(i.controls()&&(g||e==l||e==l.querySelector(".vjs-tech")||e==l.querySelector(".iframeblocker")||e==l.querySelector(".vjs-control-bar")||b)&&c){t=window.event||t;var n=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==n?i.volume(i.volume()+a):-1==n&&i.volume(i.volume()-a)}};return i.on("keydown",(function(t){var s,c,d=t.which,m=t.preventDefault,y=i.duration();if(i.controls()){var _=r.activeElement;if(g||_==l||_==l.querySelector(".vjs-tech")||_==l.querySelector(".vjs-control-bar")||_==l.querySelector(".iframeblocker"))switch(function(t,n){return e.playPauseKey(t,n)?1:e.rewindKey(t,n)?2:e.forwardKey(t,n)?3:e.volumeUpKey(t,n)?4:e.volumeDownKey(t,n)?5:e.muteKey(t,n)?6:e.fullscreenKey(t,n)?7:void 0}(t,i)){case 1:m(),g&&t.stopPropagation(),i.paused()?o(i.play()):i.pause();break;case 2:s=!i.paused(),m(),s&&i.pause(),(c=i.currentTime()-n(t))<=0&&(c=0),i.currentTime(c),s&&o(i.play());break;case 3:s=!i.paused(),m(),s&&i.pause(),(c=i.currentTime()+n(t))>=y&&(c=s?y-.001:y),i.currentTime(c),s&&o(i.play());break;case 5:m(),f?(c=i.currentTime()-1,i.currentTime()<=1&&(c=0),i.currentTime(c)):i.volume(i.volume()-a);break;case 4:m(),f?((c=i.currentTime()+1)>=y&&(c=y),i.currentTime(c)):i.volume(i.volume()+a);break;case 6:u&&i.muted(!i.muted());break;case 7:h&&(i.isFullscreen()?i.exitFullscreen():i.requestFullscreen());break;default:if((d>47&&d<59||d>95&&d<106)&&(v||!(t.metaKey||t.ctrlKey||t.altKey))&&p){var b=48;d>95&&(b=96);var C=d-b;m(),i.currentTime(i.duration()*C*.1)}for(var k in e.customKeys){var T=e.customKeys[k];T&&T.key&&T.handler&&T.key(t)&&(m(),T.handler(i,e,t))}}}})),i.on("dblclick",(function(t){if(null!=_&&_<="7.1.0"&&i.controls()){var e=t.relatedTarget||t.toElement||r.activeElement;e!=l&&e!=l.querySelector(".vjs-tech")&&e!=l.querySelector(".iframeblocker")||h&&(i.isFullscreen()?i.exitFullscreen():i.requestFullscreen())}})),i.on("mousewheel",k),i.on("DOMMouseScroll",k),this}))},"undefined"!=typeof window&&window.videojs?l(window.videojs):(o=[n("6i9R")],void 0===(i=(function(t){return l(t.default||t)}).apply(e,o))||(t.exports=i))},lvud:function(t,e,n){"use strict";n.r(e);var o=n("8Y7J"),i=function(){},l=n("pMnS"),r=n("G0yt"),a=n("SVse"),s=n("kIzR"),u=n("fKnF"),c=n("ihI+"),d=n("l6JM"),h=n("1wmk"),p=n("3szM"),f=n("Vurf"),g=n("mOsc"),v=n("GiVz"),m=n("biPt"),y=n("yXFd"),_=n("QmOX"),b=n("1JpH"),C=n("iInd"),k=n("WHDg"),T=n("WMbD"),P=n("fgyJ"),w=n("fMqF"),O=n("MEIN"),M=n("37nT"),E=n("6RP5"),x=n("pyEO"),S=n("fR23"),I=n("LTwV"),A=n("hlYB"),R=n("j8ES");n("FOce");var N=function(){},j=o["\u0275crt"]({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{width:35px;height:35px;min-width:35px;min-height:35px;position:relative;margin-right:5px}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:0}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::-moz-focus-inner{border:0;padding:0}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;top:50%;left:50%;border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2)   img[_ngcontent-%COMP%]{height:60%;width:60%;border:2px solid var(--mainBackgroundColor);-webkit-transform:translateX(15%);transform:translateX(15%);position:relative;background-color:var(--mainBackgroundColor)}"]],data:{}});function D(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,8,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,3,"a",[["title","Joan kanalaren orrira"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](2,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pad"](3,2),(t()(),o["\u0275eld"](4,0,null,null,0,"img",[["alt","Channel avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),o["\u0275eld"](5,0,null,null,3,"a",[["title","Joan kontuaren orrira"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](6,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pad"](7,2),(t()(),o["\u0275eld"](8,0,null,null,0,"img",[["alt","Account avatar"]],[[8,"src",4]],null,null,null,null))],(function(t,e){var n=e.component,o=t(e,3,0,"/video-channels",n.video.byVideoChannel);t(e,2,0,o);var i=t(e,7,0,"/accounts",n.video.byAccount);t(e,6,0,i)}),(function(t,e){var n=e.component;t(e,1,0,o["\u0275nov"](e,2).target,o["\u0275nov"](e,2).href),t(e,4,0,n.video.videoChannelAvatarUrl),t(e,5,0,o["\u0275nov"](e,6).target,o["\u0275nov"](e,6).href),t(e,8,0,n.video.accountAvatarUrl)}))}var L=n("x19x"),V=n("jxlV"),B=n("VNja"),F=function(){function t(){this.timestampClicked=new o.EventEmitter}return t.prototype.onClick=function(t){var e=t.target;if(e.hasAttribute("href")){var n=document.createElement("a");if(n.href=e.getAttribute("href"),n.host!==window.location.host)return;var o=new URLSearchParams(n.search);if(o.has("start")){var i=o.get("start").match(new RegExp("(\\d{1,9}["+["h","m","s"].join("")+"])","g")).map((function(t){return t.includes("h")?3600*parseInt(t,10):t.includes("m")?60*parseInt(t,10):parseInt(t,10)})).reduce((function(t,e){return t+e}));this.timestampClicked.emit(i)}t.preventDefault()}},t}(),U=n("KdfM"),H=n("lKr9"),z=n("vQJr"),K=n("Lc8z"),$=n("68JB"),q=n("Qmuk"),W=n("s7LF"),G=n("QqYL"),X=(n("ey9i"),n("M0ag")),Y=(n("OwH3"),n("aaN0"),n("wJRF")),Q=n("HB7e"),J=function(t){if(this.id=t.id,this.url=t.url,this.text=t.text,this.threadId=t.threadId,this.inReplyToCommentId=t.inReplyToCommentId,this.videoId=t.videoId,this.createdAt=new Date(t.createdAt.toString()),this.updatedAt=new Date(t.updatedAt.toString()),this.deletedAt=t.deletedAt?new Date(t.deletedAt.toString()):null,this.isDeleted=t.isDeleted,this.account=t.account,this.totalRepliesFromVideoAuthor=t.totalRepliesFromVideoAuthor,this.totalReplies=t.totalReplies,this.account){this.by=Y.a.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=Y.a.GET_ACTOR_AVATAR_URL(this.account);var e=Object(Q.c)(),n=new URL(e).host;this.isLocal=this.account.host.trim()===n}},Z=n("lJxs"),tt=n("JIr8"),et=n("IheW"),nt=n("XRCn"),ot=n("AytR");n("hB5V");var it,lt=((it=function(){function t(t,e,n){this.authHttp=t,this.restExtractor=e,this.restService=n}return t.prototype.addCommentThread=function(e,n){var o=this,i=t.BASE_VIDEO_URL+e+"/comment-threads",l=Object(Q.h)(n,"text");return this.authHttp.post(i,l).pipe(Object(Z.a)((function(t){return o.extractVideoComment(t.comment)})),Object(tt.a)((function(t){return o.restExtractor.handleError(t)})))},t.prototype.addCommentReply=function(e,n,o){var i=this,l=t.BASE_VIDEO_URL+e+"/comments/"+n,r=Object(Q.h)(o,"text");return this.authHttp.post(l,r).pipe(Object(Z.a)((function(t){return i.extractVideoComment(t.comment)})),Object(tt.a)((function(t){return i.restExtractor.handleError(t)})))},t.prototype.getVideoCommentThreads=function(e){var n=this,o=e.videoId,i=e.componentPagination,l=e.sort,r=this.restService.componentPaginationToRestPagination(i),a=new et.i;return a=this.restService.addRestGetParams(a,r,l),this.authHttp.get(t.BASE_VIDEO_URL+o+"/comment-threads",{params:a}).pipe(Object(Z.a)((function(t){return n.extractVideoComments(t)})),Object(tt.a)((function(t){return n.restExtractor.handleError(t)})))},t.prototype.getVideoThreadComments=function(e){var n=this,o=e.videoId,i=e.threadId;return this.authHttp.get(t.BASE_VIDEO_URL+o+"/comment-threads/"+i).pipe(Object(Z.a)((function(t){return n.extractVideoCommentTree(t)})),Object(tt.a)((function(t){return n.restExtractor.handleError(t)})))},t.prototype.deleteVideoComment=function(e,n){var o=this;return this.authHttp.delete(t.BASE_VIDEO_URL+e+"/comments/"+n).pipe(Object(Z.a)(this.restExtractor.extractDataBool),Object(tt.a)((function(t){return o.restExtractor.handleError(t)})))},t.prototype.getVideoCommentsFeeds=function(e){var n=[{format:nt.a.RSS,label:"rss 2.0",url:t.BASE_FEEDS_URL+nt.a.RSS.toLowerCase()},{format:nt.a.ATOM,label:"atom 1.0",url:t.BASE_FEEDS_URL+nt.a.ATOM.toLowerCase()},{format:nt.a.JSON,label:"json 1.0",url:t.BASE_FEEDS_URL+nt.a.JSON.toLowerCase()}];if(void 0!==e)for(var o=0,i=n;o<i.length;o++)i[o].url+="?videoId="+e;return n},t.prototype.extractVideoComment=function(t){return new J(t)},t.prototype.extractVideoComments=function(t){for(var e=t.data,n=t.total,o=[],i=0,l=e;i<l.length;i++){var r=l[i];o.push(new J(r))}return{data:o,total:n}},t.prototype.extractVideoCommentTree=function(t){var e=this;return t?(t.comment=new J(t.comment),t.children.forEach((function(t){return e.extractVideoCommentTree(t)})),t):t},t}()).BASE_VIDEO_URL=ot.a.apiUrl+"/api/v1/videos/",it.BASE_FEEDS_URL=ot.a.apiUrl+"/feeds/video-comments.",it),rt=n("JtBY");n("Rtfg");var at=function(t){function e(e,n,i,l,r,a,s){var u=this;return(u=t.call(this)||this).formValidatorService=e,u.videoCommentValidatorsService=n,u.notifier=i,u.videoCommentService=l,u.authService=r,u.modalService=a,u.router=s,u.focusOnInit=!1,u.commentCreated=new o.EventEmitter,u.cancel=new o.EventEmitter,u.addingComment=!1,u}return __extends(e,t),e.prototype.ngOnInit=function(){var t=this;if(this.buildForm({text:this.videoCommentValidatorsService.VIDEO_COMMENT_TEXT}),this.user&&(!0===this.focusOnInit&&this.textareaElement.nativeElement.focus(),this.parentComment)){var e=this.parentComments.filter((function(e){return e.account.id!==t.user.account.id})).map((function(t){return"@"+t.by})),n=new Set(e),o=Array.from(n).join(" ")+" ";this.form.patchValue({text:o})}},e.prototype.onValidKey=function(){this.check(),this.form.valid&&this.formValidated()},e.prototype.openVisitorModal=function(t){null===this.user&&(t.srcElement.blur(),t.preventDefault(),this.modalService.open(this.visitorModal))},e.prototype.hideVisitorModal=function(){this.modalService.dismissAll()},e.prototype.formValidated=function(){var t=this;if(!this.addingComment){this.addingComment=!0;var e=this.form.value;(this.parentComment?this.addCommentReply(e):this.addCommentThread(e)).subscribe((function(e){t.addingComment=!1,t.commentCreated.emit(e),t.form.reset()}),(function(e){t.addingComment=!1,t.notifier.error(e.text)}))}},e.prototype.isAddButtonDisplayed=function(){return this.form.value.text},e.prototype.getUri=function(){return window.location.href},e.prototype.getAvatarUrl=function(){return this.user?this.user.accountAvatarUrl:window.location.origin+"/client/assets/images/default-avatar.png"},e.prototype.gotoLogin=function(){this.hideVisitorModal(),this.router.navigate(["/login"])},e.prototype.cancelCommentReply=function(){this.cancel.emit(null)},e.prototype.addCommentReply=function(t){return this.videoCommentService.addCommentReply(this.video.id,this.parentComment.id,t)},e.prototype.addCommentThread=function(t){return this.videoCommentService.addCommentThread(this.video.id,t)},e}(X.a),st=o["\u0275crt"]({encapsulation:0,styles:[['form[_ngcontent-%COMP%]{margin-bottom:30px}.avatar-and-textarea[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:10px}.avatar-and-textarea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px;vertical-align:top;margin-right:10px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;margin:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:inline-block;width:100%;background:var(--inputColor);border:1px solid #c6c6c6;border-radius:3px;height:60px;padding:5px 15px;font-size:15px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:100%){.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.cancel-button[_ngcontent-%COMP%]{font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background:0 0}.comment-buttons[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{color:#fff;background-color:var(--mainColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{color:#fff;background-color:var(--mainHoverColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.disabled, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child[disabled]{cursor:default;color:#fff;background-color:#c6c6c6}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}@media screen and (max-width:600px){.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:14px!important}textarea[_ngcontent-%COMP%]{padding:5px!important}}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.modal-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;margin-bottom:20px}']],data:{}});function ut(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","form-error"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.formErrors.text)}))}function ct(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"button",[["class","cancel-button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.cancelCommentReply()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,[" Utzi "]))],null,null)}function dt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"button",[],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),o["\u0275pod"](3,{disabled:0}),(t()(),o["\u0275ted"](-1,null,[" Reply "]))],(function(t,e){var n=e.component,o=t(e,3,0,!n.form.valid||n.addingComment);t(e,2,0,o)}),null)}function ht(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Iruzkina egitetik urrats batera zaude"])),(t()(),o["\u0275eld"](3,0,null,null,0,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.hideVisitorModal()&&o),o}),null,null)),(t()(),o["\u0275eld"](4,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),o["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Instantzia honetan kontua baduzu, saioa hasi dezakezu: "])),(t()(),o["\u0275eld"](7,0,null,null,1,"span",[["class","btn btn-sm mx-3"],["role","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.gotoLogin()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,["hasi saioa iruzkinak egiteko"])),(t()(),o["\u0275eld"](9,0,null,null,0,"span",[],null,null,null,null,null)),(t()(),o["\u0275eld"](10,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Mastodon edo Pleroma sareetan kontua baduzu, zuzenean ireki dezakezu hango interfazean:"])),(t()(),o["\u0275eld"](12,0,null,null,1,"my-remote-subscribe",[],null,null,null,K.b,K.a)),o["\u0275did"](13,114688,null,0,$.a,[p.a,q.a],{uri:[0,"uri"],interact:[1,"interact"]},null),(t()(),o["\u0275eld"](14,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(t()(),o["\u0275eld"](15,0,null,null,1,"span",[["class","action-button action-button-cancel"],["role","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.hideVisitorModal()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,[" Utzi "]))],(function(t,e){t(e,13,0,e.component.getUri(),!0)}),null)}function pt(t){return o["\u0275vid"](0,[o["\u0275qud"](402653184,1,{visitorModal:0}),o["\u0275qud"](402653184,2,{textareaElement:0}),(t()(),o["\u0275eld"](2,0,null,null,25,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,l=t.component;return"submit"===e&&(i=!1!==o["\u0275nov"](t,4).onSubmit(n)&&i),"reset"===e&&(i=!1!==o["\u0275nov"](t,4).onReset()&&i),"ngSubmit"===e&&(i=!1!==l.formValidated()&&i),i}),null,null)),o["\u0275did"](3,16384,null,0,W["\u0275angular_packages_forms_forms_z"],[],null,null),o["\u0275did"](4,540672,null,0,W.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),o["\u0275prd"](2048,null,W.ControlContainer,null,[W.FormGroupDirective]),o["\u0275did"](6,16384,null,0,W.NgControlStatusGroup,[[4,W.ControlContainer]],null,null),(t()(),o["\u0275eld"](7,0,null,null,15,"div",[["class","avatar-and-textarea"]],null,null,null,null,null)),(t()(),o["\u0275eld"](8,0,null,null,0,"img",[["alt","Avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),o["\u0275eld"](9,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](10,0,[[2,0],["textarea",1]],null,10,"textarea",[["formControlName","text"],["myAutoResize",""],["placeholder","Gehitu iruzkina..."]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"rows",0],[4,"overflow",null]],[[null,"click"],[null,"keyup.control.enter"],[null,"keyup.meta.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,l=t.component;return"input"===e&&(i=!1!==o["\u0275nov"](t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==o["\u0275nov"](t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==o["\u0275nov"](t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==o["\u0275nov"](t,14)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==o["\u0275nov"](t,19).resize()&&i),"click"===e&&(i=!1!==l.openVisitorModal(n)&&i),"keyup.control.enter"===e&&(i=!1!==l.onValidKey()&&i),"keyup.meta.enter"===e&&(i=!1!==l.onValidKey()&&i),i}),null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](12,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),o["\u0275pod"](13,{"input-error":0}),o["\u0275did"](14,16384,null,0,W.DefaultValueAccessor,[o.Renderer2,o.ElementRef,[2,W.COMPOSITION_BUFFER_MODE]],null,null),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[W.DefaultValueAccessor]),o["\u0275did"](16,671744,null,0,W.FormControlName,[[3,W.ControlContainer],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR],[2,W["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),o["\u0275prd"](2048,null,W.NgControl,null,[W.FormControlName]),o["\u0275did"](18,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),o["\u0275did"](19,4210688,null,0,G.a,[o.ElementRef],null,null),(t()(),o["\u0275ted"](-1,null,["\n      "])),(t()(),o["\u0275and"](16777216,null,null,1,null,ut)),o["\u0275did"](22,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](23,0,null,null,4,"div",[["class","comment-buttons"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,ct)),o["\u0275did"](25,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,dt)),o["\u0275did"](27,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](0,[[1,2],["visitorModal",2]],null,0,null,ht))],(function(t,e){var n=e.component;t(e,4,0,n.form);var o=t(e,13,0,n.formErrors.text);t(e,12,0,o),t(e,16,0,"text"),t(e,22,0,n.formErrors.text),t(e,25,0,n.isAddButtonDisplayed()),t(e,27,0,n.isAddButtonDisplayed())}),(function(t,e){var n=e.component;t(e,2,0,o["\u0275nov"](e,6).ngClassUntouched,o["\u0275nov"](e,6).ngClassTouched,o["\u0275nov"](e,6).ngClassPristine,o["\u0275nov"](e,6).ngClassDirty,o["\u0275nov"](e,6).ngClassValid,o["\u0275nov"](e,6).ngClassInvalid,o["\u0275nov"](e,6).ngClassPending),t(e,8,0,n.getAvatarUrl()),t(e,10,0,null===n.user,o["\u0275nov"](e,18).ngClassUntouched,o["\u0275nov"](e,18).ngClassTouched,o["\u0275nov"](e,18).ngClassPristine,o["\u0275nov"](e,18).ngClassDirty,o["\u0275nov"](e,18).ngClassValid,o["\u0275nov"](e,18).ngClassInvalid,o["\u0275nov"](e,18).ngClassPending,o["\u0275nov"](e,19).rows,o["\u0275nov"](e,19).overflow)}))}var ft=n("mrSG"),gt=n("MpoC"),vt=n("l/z6"),mt=(n("V8il"),n("joIj")),yt=function(){function t(t,e,n,i,l){this.markdownService=t,this.authService=e,this.accountService=n,this.userService=i,this.notifier=l,this.parentComments=[],this.highlightedComment=!1,this.firstInThread=!1,this.wantedToDelete=new o.EventEmitter,this.wantedToReply=new o.EventEmitter,this.threadCreated=new o.EventEmitter,this.resetReply=new o.EventEmitter,this.timestampClicked=new o.EventEmitter,this.sanitizedCommentHTML="",this.newParentComments=[]}return Object.defineProperty(t.prototype,"user",{get:function(){return this.authService.getUser()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.init()},t.prototype.ngOnChanges=function(){this.init()},t.prototype.onCommentReplyCreated=function(t){this.commentTree||(this.commentTree={comment:this.comment,children:[]},this.threadCreated.emit(this.commentTree)),this.commentTree.children.unshift({comment:t,children:[]}),this.resetReply.emit()},t.prototype.onWantToReply=function(t){this.wantedToReply.emit(t||this.comment)},t.prototype.onWantToDelete=function(t){this.wantedToDelete.emit(t||this.comment)},t.prototype.isUserLoggedIn=function(){return this.authService.isLoggedIn()},t.prototype.onResetReply=function(){this.resetReply.emit()},t.prototype.handleTimestampClicked=function(t){this.timestampClicked.emit(t)},t.prototype.isRemovableByUser=function(){return this.comment.account&&this.isUserLoggedIn()&&(this.user.account.id===this.comment.account.id||this.user.hasRight(gt.d.REMOVE_ANY_VIDEO_COMMENT))},t.prototype.switchToDefaultAvatar=function(t){t.target.src=Y.a.GET_DEFAULT_AVATAR_URL()},t.prototype.getUserIfNeeded=function(t){var e=this;t.userId&&this.authService.isLoggedIn()&&this.authService.getUser().hasRight(gt.d.MANAGE_USERS)&&this.userService.getUserWithCache(t.userId).subscribe((function(t){return e.commentUser=t}),(function(t){return e.notifier.error(t.message)}))},t.prototype.init=function(){return Object(ft.a)(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:return[4,this.markdownService.textMarkdownToHTML(this.comment.text,!0)];case 1:return t=n.sent(),e=this,[4,this.markdownService.processVideoTimestamps(t)];case 2:return e.sanitizedCommentHTML=n.sent(),this.newParentComments=this.parentComments.concat([this.comment]),this.commentAccount=new mt.a(this.comment.account),this.getUserIfNeeded(this.commentAccount),[2]}}))}))},t}(),_t=n("45hh"),bt=o["\u0275crt"]({encapsulation:0,styles:[[".root-comment[_ngcontent-%COMP%]{font-size:15px;display:-webkit-box;display:flex}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{width:2px;height:100%;background-color:rgba(0,0,0,.05);margin:10px calc(1rem + 1px)}.root-comment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.root-comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:36px;height:36px;min-width:36px;min-height:36px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:1px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .highlighted-comment[_ngcontent-%COMP%]{display:inline-block;background-color:#f5f5f5;color:#3d3d3d;padding:0 5px;font-size:13px;margin-bottom:5px;font-weight:600;border-radius:3px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:4px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .video-author[_ngcontent-%COMP%]{height:20px;background-color:#888;border-radius:12px;margin-bottom:2px;max-width:100%;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;padding-right:6px;padding-left:6px;color:#fff!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]{word-break:break-all;color:var(--mainForegroundColor);font-weight:600;font-size:90%}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   .comment-account-fid[_ngcontent-%COMP%]{opacity:.6}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{font-size:90%;color:#585858;margin-left:5px;text-decoration:none}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url){color:var(--mainForegroundColor);font-weight:600}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):hover{text-decoration:none!important;outline:0!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     p{margin-bottom:.3rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html.comment-html-deleted[_ngcontent-%COMP%]{color:#585858;margin-bottom:1rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{margin-bottom:10px;display:-webkit-box;display:flex}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle{color:#585858;cursor:pointer;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:hover{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .action-button{background-color:transparent;padding:0;font-weight:unset}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   my-video-comment-add[_ngcontent-%COMP%]     form{margin-top:1rem;margin-bottom:0}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:6px}@media screen and (max-width:1200px){.children[_ngcontent-%COMP%]{margin-left:-10px}}@media screen and (max-width:600px){.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:-20px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-left:2px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-left:0}}"]],data:{}});function Ct(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"a",[["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"img",[["alt","Avatar"],["class","comment-avatar"]],[[8,"src",4]],[[null,"error"]],(function(t,e,n){var o=!0;return"error"===e&&(o=!1!==t.component.switchToDefaultAvatar(n)&&o),o}),null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n.comment.account.url),t(e,1,0,n.comment.accountAvatarUrl)}))}function kt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,"span",[["class","comment-avatar"]],null,null,null,null,null))],null,null)}function Tt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","highlighted-comment"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Nabarmendutako iruzkina"]))],null,null)}function Pt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","comment-action-reply"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.onWantToReply()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,["Erantzun"]))],null,null)}function wt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","comment-action-delete"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.onWantToDelete()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,["Ezabatu"]))],null,null)}function Ot(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,26,null,null,null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Tt)),o["\u0275did"](2,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](3,0,null,null,14,"div",[["class","comment-account-date"]],null,null,null,null,null)),(t()(),o["\u0275eld"](4,0,null,null,7,"a",[["class","comment-account"],["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(t()(),o["\u0275eld"](5,0,null,null,4,"span",[["class","comment-account-name"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](8,{"video-author":0}),(t()(),o["\u0275ted"](9,null,["",""])),(t()(),o["\u0275eld"](10,0,null,null,1,"span",[["class","comment-account-fid ml-1"]],null,null,null,null,null)),(t()(),o["\u0275ted"](11,null,["",""])),(t()(),o["\u0275eld"](12,0,null,null,5,"a",[["class","comment-date"]],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](13,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pod"](14,{threadId:0}),o["\u0275pad"](15,3),(t()(),o["\u0275ted"](16,null,["",""])),o["\u0275ppd"](17,1),(t()(),o["\u0275eld"](18,0,null,null,1,"div",[["class","comment-html"],["timestampRouteTransformer",""]],[[8,"innerHTML",1]],[[null,"timestampClicked"],[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==o["\u0275nov"](t,19).onClick(n)&&i),"timestampClicked"===e&&(i=!1!==l.handleTimestampClicked(n)&&i),i}),null,null)),o["\u0275did"](19,16384,null,0,F,[],null,{timestampClicked:"timestampClicked"}),(t()(),o["\u0275eld"](20,0,null,null,6,"div",[["class","comment-actions"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Pt)),o["\u0275did"](22,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,wt)),o["\u0275did"](24,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](25,0,null,null,1,"my-user-moderation-dropdown",[["buttonSize","small"],["label","Aukerak"],["placement","bottom-left auto"]],null,null,null,U.b,U.a)),o["\u0275did"](26,638976,null,0,H.a,[f.a,g.a,M.a,x.a,z.a,A.a,v.a],{user:[0,"user"],account:[1,"account"],buttonSize:[2,"buttonSize"],placement:[3,"placement"],label:[4,"label"]},null)],(function(t,e){var n=e.component;t(e,2,0,!0===n.highlightedComment);var o=t(e,8,0,n.video.account.id===n.comment.account.id);t(e,7,0,"comment-account-name",o);var i=t(e,15,0,"/videos/watch",n.video.uuid,t(e,14,0,n.comment.threadId));t(e,13,0,i),t(e,22,0,n.isUserLoggedIn()),t(e,24,0,n.isRemovableByUser()),t(e,26,0,n.commentUser,n.commentAccount,"small","bottom-left auto","Aukerak")}),(function(t,e){var n=e.component;t(e,4,0,n.comment.account.url),t(e,9,0,n.comment.account.displayName),t(e,11,0,n.comment.by),t(e,12,0,n.comment.createdAt,o["\u0275nov"](e,13).target,o["\u0275nov"](e,13).href);var i=o["\u0275unv"](e,16,0,t(e,17,0,o["\u0275nov"](e.parent,0),n.comment.createdAt));t(e,16,0,i),t(e,18,0,n.sanitizedCommentHTML)}))}function Mt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","comment-html comment-html-deleted"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["This comment has been deleted"]))],null,null)}function Et(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,8,"div",[["class","comment-account-date"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,"span",[["class","comment-account"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Ezabatua"])),(t()(),o["\u0275eld"](4,0,null,null,5,"a",[["class","comment-date"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](5,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pod"](6,{threadId:0}),o["\u0275pad"](7,3),(t()(),o["\u0275ted"](8,null,["",""])),o["\u0275ppd"](9,1),(t()(),o["\u0275and"](16777216,null,null,1,null,Mt)),o["\u0275did"](11,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component,o=t(e,7,0,"/videos/watch",n.video.uuid,t(e,6,0,n.comment.threadId));t(e,5,0,o),t(e,11,0,n.comment.isDeleted)}),(function(t,e){var n=e.component;t(e,4,0,o["\u0275nov"](e,5).target,o["\u0275nov"](e,5).href);var i=o["\u0275unv"](e,8,0,t(e,9,0,o["\u0275nov"](e.parent,0),n.comment.createdAt));t(e,8,0,i)}))}function xt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"my-video-comment-add",[],null,[[null,"commentCreated"],[null,"cancel"]],(function(t,e,n){var o=!0,i=t.component;return"commentCreated"===e&&(o=!1!==i.onCommentReplyCreated(n)&&o),"cancel"===e&&(o=!1!==i.onResetReply()&&o),o}),pt,st)),o["\u0275did"](1,114688,null,0,at,[p.a,rt.a,g.a,lt,f.a,r.A,C.p],{user:[0,"user"],video:[1,"video"],parentComment:[2,"parentComment"],parentComments:[3,"parentComments"],focusOnInit:[4,"focusOnInit"]},{commentCreated:"commentCreated",cancel:"cancel"})],(function(t,e){var n=e.component;t(e,1,0,n.user,n.video,n.comment,n.newParentComments,!0)}),null)}function St(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"resetReply"],[null,"timestampClicked"]],(function(t,e,n){var o=!0,i=t.component;return"wantedToReply"===e&&(o=!1!==i.onWantToReply(n)&&o),"wantedToDelete"===e&&(o=!1!==i.onWantToDelete(n)&&o),"resetReply"===e&&(o=!1!==i.onResetReply()&&o),"timestampClicked"===e&&(o=!1!==i.handleTimestampClicked(n)&&o),o}),At,bt)),o["\u0275did"](2,638976,null,0,yt,[_t.a,f.a,vt.a,z.a,g.a],{video:[0,"video"],comment:[1,"comment"],parentComments:[2,"parentComments"],commentTree:[3,"commentTree"],inReplyToCommentId:[4,"inReplyToCommentId"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",resetReply:"resetReply",timestampClicked:"timestampClicked"})],(function(t,e){var n=e.component;t(e,2,0,n.video,e.context.$implicit.comment,n.newParentComments,e.context.$implicit,n.inReplyToCommentId)}),null)}function It(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,St)),o["\u0275did"](2,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.commentTree.children)}),null)}function At(t){return o["\u0275vid"](0,[o["\u0275pid"](0,T.a,[v.a]),(t()(),o["\u0275eld"](1,0,null,null,20,"div",[["class","root-comment"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,3,"div",[["class","left"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Ct)),o["\u0275did"](4,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](5,0,null,null,0,"div",[["class","vertical-border"]],null,null,null,null,null)),(t()(),o["\u0275eld"](6,0,null,null,15,"div",[["class","right"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](8,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](9,{"mb-3":0}),(t()(),o["\u0275and"](16777216,null,null,1,null,kt)),o["\u0275did"](11,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](12,0,null,null,9,"div",[["class","comment"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Ot)),o["\u0275did"](14,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Et)),o["\u0275did"](16,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,xt)),o["\u0275did"](18,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,It)),o["\u0275did"](20,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),o["\u0275ncd"](null,0)],(function(t,e){var n=e.component;t(e,4,0,!n.comment.isDeleted);var o=t(e,9,0,n.firstInThread);t(e,8,0,"right",o),t(e,11,0,n.comment.isDeleted),t(e,14,0,!n.comment.isDeleted),t(e,16,0,n.comment.isDeleted),t(e,18,0,!n.comment.isDeleted&&n.isUserLoggedIn()&&n.inReplyToCommentId===n.comment.id),t(e,20,0,n.commentTree)}),null)}var Rt=n("F3OD"),Nt=n("WMch"),jt=n("MGin"),Dt=n("XNiG"),Lt=n("6dmf"),Vt=function(){function t(t,e,n,i,l,r,a){this.authService=t,this.notifier=e,this.confirmService=n,this.videoCommentService=i,this.activatedRoute=l,this.i18n=r,this.hooks=a,this.timestampClicked=new o.EventEmitter,this.comments=[],this.sort="-createdAt",this.componentPagination={currentPage:1,itemsPerPage:10,totalItems:null},this.threadComments={},this.threadLoading={},this.syndicationItems=[],this.onDataSubject=new Dt.a}return t.prototype.ngOnInit=function(){var t=this;this.sub=this.activatedRoute.params.subscribe((function(e){e.threadId&&t.processHighlightedThread(+e.threadId)}))},t.prototype.ngOnChanges=function(t){t.video&&this.resetVideo()},t.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},t.prototype.viewReplies=function(t,e){var n=this;void 0===e&&(e=!1),this.threadLoading[t]=!0;var o={videoId:this.video.id,threadId:t};this.hooks.wrapObsFun(this.videoCommentService.getVideoThreadComments.bind(this.videoCommentService),o,"video-watch","filter:api.video-watch.video-thread-replies.list.params","filter:api.video-watch.video-thread-replies.list.result").subscribe((function(o){n.threadComments[t]=o,n.threadLoading[t]=!1,n.hooks.runAction("action:video-watch.video-thread-replies.loaded","video-watch",{data:o}),e&&(n.highlightedThread=new J(o.comment),setTimeout((function(){return n.commentHighlightBlock.nativeElement.scrollIntoView()}),0))}),(function(t){return n.notifier.error(t.message)}))},t.prototype.loadMoreThreads=function(){var t=this,e={videoId:this.video.id,componentPagination:this.componentPagination,sort:this.sort};this.hooks.wrapObsFun(this.videoCommentService.getVideoCommentThreads.bind(this.videoCommentService),e,"video-watch","filter:api.video-watch.video-threads.list.params","filter:api.video-watch.video-threads.list.result").subscribe((function(e){t.comments=t.comments.concat(e.data),t.componentPagination.totalItems=e.total,t.onDataSubject.next(e.data),t.hooks.runAction("action:video-watch.video-threads.loaded","video-watch",{data:t.componentPagination})}),(function(e){return t.notifier.error(e.message)}))},t.prototype.onCommentThreadCreated=function(t){this.comments.unshift(t)},t.prototype.onWantedToReply=function(t){this.inReplyToCommentId=t.id},t.prototype.onResetReply=function(){this.inReplyToCommentId=void 0},t.prototype.onThreadCreated=function(t){this.viewReplies(t.comment.id)},t.prototype.handleSortChange=function(t){this.sort!==t&&(this.sort=t,this.resetVideo())},t.prototype.handleTimestampClicked=function(t){this.timestampClicked.emit(t)},t.prototype.onWantedToDelete=function(t){return Object(ft.a)(this,void 0,void 0,(function(){var e,n,o=this;return __generator(this,(function(i){switch(i.label){case 0:return e="Do you really want to delete this comment?",e+=this.i18n(t.isLocal?" The deletion will be sent to remote instances, so they remove the comment too.":" It is a remote comment, so the deletion will only be effective on your instance."),n=!1,[4,this.confirmService.confirm(e,this.i18n("Delete"))];case 1:return n!==i.sent()&&this.videoCommentService.deleteVideoComment(t.videoId,t.id).subscribe((function(){o.softDeleteComment(t),o.highlightedThread.id===t.id&&(o.highlightedThread=void 0)}),(function(t){return o.notifier.error(t.message)})),[2]}}))}))},t.prototype.isUserLoggedIn=function(){return this.authService.isLoggedIn()},t.prototype.onNearOfBottom=function(){Object(Lt.a)(this.componentPagination)&&(this.componentPagination.currentPage++,this.loadMoreThreads())},t.prototype.softDeleteComment=function(t){t.isDeleted=!0,t.deletedAt=new Date,t.text="",t.account=null},t.prototype.resetVideo=function(){!0===this.video.commentsEnabled&&(this.highlightedThread=null,this.comments=[],this.threadComments={},this.threadLoading={},this.inReplyToCommentId=void 0,this.componentPagination.currentPage=1,this.componentPagination.totalItems=null,this.syndicationItems=this.videoCommentService.getVideoCommentsFeeds(this.video.uuid),this.loadMoreThreads())},t.prototype.processHighlightedThread=function(t){this.highlightedThread=this.comments.find((function(e){return e.id===t})),this.viewReplies(t,!0)},t}(),Bt=o["\u0275crt"]({encapsulation:0,styles:[["#highlighted-comment[_ngcontent-%COMP%]{margin-bottom:25px}.view-replies[_ngcontent-%COMP%]{font-weight:600;font-size:15px;cursor:pointer}.comment-thread-loading[_ngcontent-%COMP%], .glyphicon[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;font-size:13px}.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-right:0}#dropdownSortComments[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;border:none;-webkit-transform:translateY(-7%);transform:translateY(-7%)}my-feed[_ngcontent-%COMP%]{display:inline-block;margin-left:5px}@media screen and (max-width:600px){.view-replies[_ngcontent-%COMP%]{margin-left:46px}}@media screen and (max-width:450px){.view-replies[_ngcontent-%COMP%]{font-size:14px}}"]],data:{}});function Ft(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ut(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["1 Comment"]))],null,null)}function Ht(t){return o["\u0275vid"](0,[(t()(),o["\u0275ted"](0,null,[""," Comments"]))],null,(function(t,e){t(e,0,0,e.component.componentPagination.totalItems)}))}function zt(t){return o["\u0275vid"](0,[(t()(),o["\u0275and"](16777216,null,null,1,null,Ut)),o["\u0275did"](1,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),o["\u0275and"](0,[["manyComments",2]],null,0,null,Ht))],(function(t,e){t(e,1,0,1===e.component.componentPagination.totalItems,o["\u0275nov"](e,2))}),null)}function Kt(t){return o["\u0275vid"](0,[(t()(),o["\u0275ted"](-1,null,["Comments"]))],null,null)}function $t(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Iruzkinik ez."]))],null,null)}function qt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"threadCreated"],[null,"resetReply"],[null,"timestampClicked"]],(function(t,e,n){var o=!0,i=t.component;return"wantedToReply"===e&&(o=!1!==i.onWantedToReply(n)&&o),"wantedToDelete"===e&&(o=!1!==i.onWantedToDelete(n)&&o),"threadCreated"===e&&(o=!1!==i.onThreadCreated(n)&&o),"resetReply"===e&&(o=!1!==i.onResetReply()&&o),"timestampClicked"===e&&(o=!1!==i.handleTimestampClicked(n)&&o),o}),At,bt)),o["\u0275did"](1,638976,null,0,yt,[_t.a,f.a,vt.a,z.a,g.a],{video:[0,"video"],comment:[1,"comment"],commentTree:[2,"commentTree"],inReplyToCommentId:[3,"inReplyToCommentId"],highlightedComment:[4,"highlightedComment"],firstInThread:[5,"firstInThread"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"})],(function(t,e){var n=e.component;t(e,1,0,n.video,n.highlightedThread,n.threadComments[n.highlightedThread.id],n.inReplyToCommentId,!0,!0)}),null)}function Wt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Gt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,[" View "," replies from "," and others "]))],null,(function(t,e){var n=e.component;t(e,1,0,e.parent.parent.parent.parent.context.$implicit.totalReplies,(null==n.video?null:null==n.video.account?null:n.video.account.displayName)||"the author")}))}function Xt(t){return o["\u0275vid"](0,[(t()(),o["\u0275ted"](0,null,[" View "," replies from "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,e.parent.parent.parent.parent.context.$implicit.totalReplies,(null==n.video?null:null==n.video.account?null:n.video.account.displayName)||"the author")}))}function Yt(t){return o["\u0275vid"](0,[(t()(),o["\u0275and"](16777216,null,null,1,null,Gt)),o["\u0275did"](1,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),o["\u0275and"](0,[["onlyAuthorComments",2]],null,0,null,Xt))],(function(t,e){t(e,1,0,e.parent.parent.parent.context.$implicit.totalReplies!==e.parent.parent.parent.context.$implicit.totalRepliesFromVideoAuthor,o["\u0275nov"](e,2))}),null)}function Qt(t){return o["\u0275vid"](0,[(t()(),o["\u0275ted"](0,null,["View "," replies"]))],null,(function(t,e){t(e,0,0,e.parent.parent.parent.context.$implicit.totalReplies)}))}function Jt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,7,"div",[["class","view-replies mb-2"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.viewReplies(t.parent.parent.context.$implicit.id)&&o),o}),null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Wt)),o["\u0275did"](3,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(t()(),o["\u0275and"](0,[["hasAuthorComments",2]],null,0,null,Yt)),(t()(),o["\u0275and"](0,[["noAuthorComments",2]],null,0,null,Qt)),(t()(),o["\u0275eld"](6,0,null,null,1,"my-small-loader",[["class","comment-thread-loading ml-1"]],null,null,null,_.b,_.a)),o["\u0275did"](7,49152,null,0,b.a,[],{loading:[0,"loading"]},null)],(function(t,e){var n=e.component;t(e,3,0,e.parent.parent.context.$implicit.totalRepliesFromVideoAuthor>0,o["\u0275nov"](e,4),o["\u0275nov"](e,5)),t(e,7,0,n.threadLoading[e.parent.parent.context.$implicit.id])}),null)}function Zt(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"threadCreated"],[null,"resetReply"],[null,"timestampClicked"]],(function(t,e,n){var o=!0,i=t.component;return"wantedToReply"===e&&(o=!1!==i.onWantedToReply(n)&&o),"wantedToDelete"===e&&(o=!1!==i.onWantedToDelete(n)&&o),"threadCreated"===e&&(o=!1!==i.onThreadCreated(n)&&o),"resetReply"===e&&(o=!1!==i.onResetReply()&&o),"timestampClicked"===e&&(o=!1!==i.handleTimestampClicked(n)&&o),o}),At,bt)),o["\u0275did"](1,638976,null,0,yt,[_t.a,f.a,vt.a,z.a,g.a],{video:[0,"video"],comment:[1,"comment"],commentTree:[2,"commentTree"],inReplyToCommentId:[3,"inReplyToCommentId"],firstInThread:[4,"firstInThread"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"}),(t()(),o["\u0275and"](16777216,null,0,1,null,Jt)),o["\u0275did"](3,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.video,e.parent.context.$implicit,n.threadComments[e.parent.context.$implicit.id],n.inReplyToCommentId,e.parent.context.index+1!==n.comments.length),t(e,3,0,0!==e.parent.context.$implicit.totalReplies&&!n.threadComments[e.parent.context.$implicit.id])}),null)}function te(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Zt)),o["\u0275did"](2,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.highlightedThread||e.context.$implicit.id!==n.highlightedThread.id)}),null)}function ee(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"my-video-comment-add",[],null,[[null,"commentCreated"]],(function(t,e,n){var o=!0;return"commentCreated"===e&&(o=!1!==t.component.onCommentThreadCreated(n)&&o),o}),pt,st)),o["\u0275did"](1,114688,null,0,at,[p.a,rt.a,g.a,lt,f.a,r.A,C.p],{user:[0,"user"],video:[1,"video"]},{commentCreated:"commentCreated"}),(t()(),o["\u0275and"](16777216,null,null,1,null,$t)),o["\u0275did"](3,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](4,0,null,null,6,"div",[["class","comment-threads"],["myInfiniteScroller",""]],null,[[null,"nearOfBottom"]],(function(t,e,n){var o=!0;return"nearOfBottom"===e&&(o=!1!==t.component.onNearOfBottom()&&o),o}),null,null)),o["\u0275did"](5,2310144,null,0,Rt.a,[o.ElementRef],{autoInit:[0,"autoInit"],dataObservable:[1,"dataObservable"]},{nearOfBottom:"nearOfBottom"}),(t()(),o["\u0275eld"](6,0,[[1,0],["commentHighlightBlock",1]],null,2,"div",[["id","highlighted-comment"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,qt)),o["\u0275did"](8,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,te)),o["\u0275did"](10,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.user,n.video),t(e,3,0,0===n.componentPagination.totalItems&&0===n.comments.length),t(e,5,0,!0,n.onDataSubject.asObservable()),t(e,8,0,n.highlightedThread),t(e,10,0,n.comments)}),null)}function ne(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Iruzkinak desgaituta daude. "]))],null,null)}function oe(t){return o["\u0275vid"](0,[o["\u0275qud"](671088640,1,{commentHighlightBlock:0}),(t()(),o["\u0275eld"](1,0,null,null,30,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,25,"div",[["class","title-block"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,4,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Ft)),o["\u0275did"](5,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(t()(),o["\u0275and"](0,[["hasComments",2]],null,0,null,zt)),(t()(),o["\u0275and"](0,[["noComments",2]],null,0,null,Kt)),(t()(),o["\u0275eld"](8,0,null,null,1,"my-feed",[],null,null,null,Nt.b,Nt.a)),o["\u0275did"](9,49152,null,0,jt.a,[],{syndicationItems:[0,"syndicationItems"]},null),(t()(),o["\u0275eld"](10,0,null,null,17,"div",[["class","d-inline-block ml-4"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),o["\u0275did"](11,1720320,null,3,r.s,[o.ChangeDetectorRef,r.u,a.DOCUMENT,o.NgZone,o.ElementRef,o.Renderer2,[2,r.qb]],null,null),o["\u0275qud"](603979776,2,{_menu:0}),o["\u0275qud"](603979776,3,{_menuElement:0}),o["\u0275qud"](603979776,4,{_anchor:0}),(t()(),o["\u0275eld"](15,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-sm btn-outline-secondary dropdown-toggle"],["id","dropdownSortComments"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,16).dropdown.toggle()&&i),"keydown.ArrowUp"===e&&(i=!1!==o["\u0275nov"](t,16).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==o["\u0275nov"](t,16).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==o["\u0275nov"](t,16).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==o["\u0275nov"](t,16).dropdown.onKeyDown(n)&&i),i}),null,null)),o["\u0275did"](16,16384,null,0,r.y,[r.s,o.ElementRef],null,null),o["\u0275prd"](2048,[[4,4]],r.t,null,[r.y]),(t()(),o["\u0275ted"](-1,null,[" Sort by "])),(t()(),o["\u0275eld"](19,0,[[3,0]],null,8,"div",[["aria-labelledby","dropdownSortComments"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(t,e,n){var i=!0;return"keydown.ArrowUp"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),"keydown.Enter"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),"keydown.Space"===e&&(i=!1!==o["\u0275nov"](t,20).dropdown.onKeyDown(n)&&i),i}),null,null)),o["\u0275did"](20,16384,[[2,4]],1,r.w,[r.s],null,null),o["\u0275qud"](603979776,5,{menuItems:1}),(t()(),o["\u0275eld"](22,0,null,null,2,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.handleSortChange("-createdAt")&&o),o}),null,null)),o["\u0275did"](23,16384,[[5,4]],0,r.v,[o.ElementRef],null,null),(t()(),o["\u0275ted"](-1,null,["Most recent first (default)"])),(t()(),o["\u0275eld"](25,0,null,null,2,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.handleSortChange("-totalReplies")&&o),o}),null,null)),o["\u0275did"](26,16384,[[5,4]],0,r.v,[o.ElementRef],null,null),(t()(),o["\u0275ted"](-1,null,["Most replies first"])),(t()(),o["\u0275and"](16777216,null,null,1,null,ee)),o["\u0275did"](29,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,ne)),o["\u0275did"](31,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.componentPagination.totalItems>0,o["\u0275nov"](e,6),o["\u0275nov"](e,7)),t(e,9,0,n.syndicationItems),t(e,29,0,!0===n.video.commentsEnabled),t(e,31,0,!1===n.video.commentsEnabled)}),(function(t,e){t(e,10,0,o["\u0275nov"](e,11).isOpen()),t(e,15,0,o["\u0275nov"](e,16).dropdown.isOpen()),t(e,19,0,!0,o["\u0275nov"](e,20).dropdown.isOpen(),o["\u0275nov"](e,20).placement),t(e,22,0,o["\u0275nov"](e,23).disabled),t(e,25,0,o["\u0275nov"](e,26).disabled)}))}var ie,le=n("SYik"),re=n("bjBz"),ae=n("DKkR"),se=n("4SI2"),ue=(n("vCWj"),n("jtHE")),ce=n("eIep"),de=n("IzEk"),he=n("UXun"),pe=function(){function t(t){this.recommendations=t,this.requestsForLoad$$=new ue.a(1),this.recommendations$=this.requestsForLoad$$.pipe(Object(ce.a)((function(e){return t.getRecommendations(e).pipe(Object(de.a)(1))})),Object(he.a)()),this.hasRecommendations$=this.recommendations$.pipe(Object(Z.a)((function(t){return t.length>0})))}return t.prototype.requestNewRecommendations=function(t){this.requestsForLoad$$.next(t)},t}(),fe=n("fyHm"),ge=((ie=function(){function t(e,n,i,l,r){var a=this;this.userService=e,this.authService=n,this.notifier=i,this.i18n=l,this.store=r,this.gotRecommendations=new o.EventEmitter,this.videos$=this.store.recommendations$,this.hasVideos$=this.store.hasRecommendations$,this.videos$.subscribe((function(t){return a.gotRecommendations.emit(t)})),this.autoPlayNextVideo=this.authService.isLoggedIn()?this.authService.getUser().autoPlayNextVideo:"true"===fe.b.getItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)||!1,this.autoPlayNextVideoTooltip=this.i18n("When active, the next video is automatically played after the current one.")}return t.prototype.ngOnChanges=function(){this.inputRecommendation&&this.store.requestNewRecommendations(this.inputRecommendation)},t.prototype.onVideoRemoved=function(){this.store.requestNewRecommendations(this.inputRecommendation)},t.prototype.switchAutoPlayNextVideo=function(){var e=this;fe.b.setItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO,this.autoPlayNextVideo.toString()),this.authService.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideo:this.autoPlayNextVideo}).subscribe((function(){e.authService.refreshUserInformation()}),(function(t){return e.notifier.error(t.message)}))},t}()).SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO="auto_play_next_video",ie),ve=o["\u0275crt"]({encapsulation:0,styles:[[".title-page-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline;margin-bottom:25px;flex-wrap:wrap-reverse}.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-bottom:unset;margin-right:.5rem!important}.title-page-autoplay[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content;-webkit-box-align:center;align-items:center;margin-left:auto}.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem;text-transform:uppercase;font-size:85%;font-weight:600}  p-inputswitch{height:20px}  .ui-inputswitch{width:2.5em!important;height:1.45em!important}  .ui-inputswitch .ui-inputswitch-slider::before{height:1em!important;width:1em!important}  .ui-inputswitch-checked .ui-inputswitch-slider::before{-webkit-transform:translateX(1em)!important;transform:translateX(1em)!important}"]],data:{}});function me(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,16777216,null,null,9,"div",[["class","title-page-autoplay"],["placement","bottom-right auto"]],null,null,null,null,null)),o["\u0275did"](1,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Autoplay"])),(t()(),o["\u0275eld"](4,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0,i=t.component;return"ngModelChange"===e&&(o=!1!==(i.autoPlayNextVideo=n)&&o),"ngModelChange"===e&&(o=!1!==i.switchAutoPlayNextVideo()&&o),o}),le.b,le.a)),o["\u0275did"](5,49152,null,0,re.InputSwitch,[o.ChangeDetectorRef],null,null),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[re.InputSwitch]),o["\u0275did"](7,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](9,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,"bottom-right auto",n.autoPlayNextVideoTooltip),t(e,7,0,n.autoPlayNextVideo)}),(function(t,e){t(e,4,0,o["\u0275nov"](e,9).ngClassUntouched,o["\u0275nov"](e,9).ngClassTouched,o["\u0275nov"](e,9).ngClassPristine,o["\u0275nov"](e,9).ngClassDirty,o["\u0275nov"](e,9).ngClassValid,o["\u0275nov"](e,9).ngClassInvalid,o["\u0275nov"](e,9).ngClassPending)}))}function ye(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function _e(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-video-miniature",[],null,[[null,"videoBlacklisted"],[null,"videoRemoved"]],(function(t,e,n){var o=!0,i=t.component;return"videoBlacklisted"===e&&(o=!1!==i.onVideoRemoved()&&o),"videoRemoved"===e&&(o=!1!==i.onVideoRemoved()&&o),o}),ae.b,ae.a)),o["\u0275did"](2,114688,null,0,se.a,[S.a,x.a,v.a,f.a,m.a,o.ChangeDetectorRef,o.LOCALE_ID],{user:[0,"user"],video:[1,"video"]},{videoBlacklisted:"videoBlacklisted",videoRemoved:"videoRemoved"}),(t()(),o["\u0275and"](16777216,null,null,1,null,ye)),o["\u0275did"](4,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.user,e.context.$implicit),t(e,4,0,!n.playlist&&0==e.context.index&&e.context.count>1)}),null)}function be(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,4,"div",[["class","title-page-container"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Other videos "])),(t()(),o["\u0275and"](16777216,null,null,1,null,me)),o["\u0275did"](5,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,2,null,_e)),o["\u0275did"](7,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),o["\u0275pid"](131072,a.AsyncPipe,[o.ChangeDetectorRef]),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component;t(e,5,0,!n.playlist),t(e,7,0,o["\u0275unv"](e,7,0,o["\u0275nov"](e,8).transform(n.videos$)))}),null)}function Ce(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[["class","other-videos"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,2,null,be)),o["\u0275did"](2,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),o["\u0275pid"](131072,a.AsyncPipe,[o.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,2,0,o["\u0275unv"](e,2,0,o["\u0275nov"](e,3).transform(n.hasVideos$)))}),null)}var ke=function(){function t(t,e){this.markdownService=t,this.modalService=e,this.video=null,this.videoHTMLSupport=""}return t.prototype.show=function(){var t=this;this.modalService.open(this.modal),this.markdownService.enhancedMarkdownToHTML(this.video.support).then((function(e){return t.videoHTMLSupport=e}))},t}(),Te=o["\u0275crt"]({encapsulation:0,styles:[[".action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}"]],data:{}});function Pe(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),o["\u0275ted"](2,null,["Support ",""])),(t()(),o["\u0275eld"](3,0,null,null,1,"my-global-icon",[["aria-label","Close"],["iconName","cross"],["role","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.context.close()&&o),o}),s.b,s.a)),o["\u0275did"](4,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](5,0,null,null,0,"div",[["class","modal-body"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),o["\u0275eld"](6,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(t()(),o["\u0275eld"](7,0,null,null,1,"span",[["class","action-button action-button-cancel"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.context.close()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,["Maybe later"]))],(function(t,e){t(e,4,0,"cross")}),(function(t,e){var n=e.component;t(e,2,0,n.video.account.displayName),t(e,5,0,n.videoHTMLSupport)}))}function we(t){return o["\u0275vid"](0,[o["\u0275qud"](402653184,1,{modal:0}),(t()(),o["\u0275and"](0,[[1,2],["modal",2]],null,0,null,Pe))],null,null)}var Oe=n("IbkX"),Me=function(){function t(t,e){this.notifier=t,this.i18n=e,this.value=""}return t.prototype.activateCopiedMessage=function(){this.notifier.success(this.i18n("Copied"))},t}(),Ee=o["\u0275crt"]({encapsulation:0,styles:[["input.readonly[_ngcontent-%COMP%]{font-size:15px}"]],data:{}});function xe(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,[["urlInput",1]],null,0,"input",[["class","form-control readonly"],["readonly",""],["type","text"]],[[8,"value",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,1).select()&&i),i}),null,null)),(t()(),o["\u0275eld"](2,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,2,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==o["\u0275nov"](t,4).onClick(n.target)&&i),"click"===e&&(i=!1!==l.activateCopiedMessage()&&i),i}),null,null)),o["\u0275did"](4,212992,null,0,Oe.a,[Oe.c],{targetElm:[0,"targetElm"]},null),(t()(),o["\u0275eld"](5,0,null,null,0,"span",[["class","glyphicon glyphicon-copy"]],null,null,null,null,null))],(function(t,e){t(e,4,0,o["\u0275nov"](e,1))}),(function(t,e){t(e,1,0,e.component.value)}))}var Se,Ie=n("8qHF"),Ae=n("ybWZ"),Re=function(){function t(t,e){var n=this;this.el=t,this.platformId=e,this.allowEmptyString=!1,this.colordark="#000000",this.colorlight="#ffffff",this.level="M",this.hidetitle=!1,this.qrdata="",this.size=256,this.usesvg=!1,this.isValidQrCodeText=function(t){return!1===n.allowEmptyString?!(void 0===t||""===t):!(void 0===t)}}return t.prototype.ngAfterViewInit=function(){if(!Object(a.isPlatformServer)(this.platformId)){Se||(Se=n("0ERz"));try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("Empty QR Code data");this.qrcode=new Se(this.el.nativeElement,{colorDark:this.colordark,colorLight:this.colorlight,correctLevel:Se.CorrectLevel[this.level.toString()],height:this.size,text:this.qrdata||" ",useSVG:this.usesvg,width:this.size})}catch(t){console.error("Error generating QR Code: "+t.message)}}},t.prototype.ngOnChanges=function(t){if(this.qrcode){var e=t.qrdata;e&&this.isValidQrCodeText(e.currentValue)&&(this.qrcode.clear(),this.qrcode.makeCode(e.currentValue))}},t}(),Ne=o["\u0275crt"]({encapsulation:2,styles:[],data:{}});function je(t){return o["\u0275vid"](2,[],null,null)}var De=n("9AJC"),Le=n("igG+"),Ve=n("btCD"),Be=n("H9+z"),Fe=function(){function t(t){this.modalService=t,this.video=null,this.videoCaptions=[],this.playlist=null,this.isAdvancedCustomizationCollapsed=!0,this.includeVideoInPlaylist=!1}return t.prototype.show=function(t){var e;this.currentVideoTimestamp=t,0!==this.videoCaptions.length&&(e=this.videoCaptions[0].language.id),this.customizations={startAtCheckbox:!1,startAt:t?Math.floor(t):0,stopAtCheckbox:!1,stopAt:this.video.duration,subtitleCheckbox:!1,subtitle:e,loop:!1,autoplay:!1,muted:!1,title:!0,warningTitle:!0,controls:!0},this.modalService.open(this.modal)},t.prototype.getVideoIframeCode=function(){var t=this.getOptions(this.video.embedUrl),e=Object(Be.b)(t);return Object(Be.a)(e)},t.prototype.getVideoUrl=function(){var t=window.location.origin+"/videos/watch/"+this.video.uuid,e=this.getOptions(t);return Object(Be.b)(e)},t.prototype.getPlaylistUrl=function(){var t=window.location.origin+"/videos/watch/playlist/"+this.playlist.uuid;return this.includeVideoInPlaylist?t+"?videoId="+this.video.uuid:t},t.prototype.notSecure=function(){return"http:"===window.location.protocol},t.prototype.onTabChange=function(t){this.activeId=t.nextId},t.prototype.isInEmbedTab=function(){return"embed"===this.activeId},t.prototype.hasPlaylist=function(){return!!this.playlist},t.prototype.getOptions=function(t){return{baseUrl:t,startTime:this.customizations.startAtCheckbox?this.customizations.startAt:void 0,stopTime:this.customizations.stopAtCheckbox?this.customizations.stopAt:void 0,subtitle:this.customizations.subtitleCheckbox?this.customizations.subtitle:void 0,loop:this.customizations.loop,autoplay:this.customizations.autoplay,muted:this.customizations.muted,title:this.customizations.title,warningTitle:this.customizations.warningTitle,controls:this.customizations.controls}},t}(),Ue=o["\u0275crt"]({encapsulation:0,styles:[['my-input-readonly-copy[_ngcontent-%COMP%]{width:100%}.title-page.title-page-single[_ngcontent-%COMP%]{margin-top:0}.playlist[_ngcontent-%COMP%]{margin-bottom:50px}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:200px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:200px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}.qr-code-group[_ngcontent-%COMP%]{text-align:center}.tab-content[_ngcontent-%COMP%]{margin-top:30px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.alert[_ngcontent-%COMP%]{margin-top:20px}.filters[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:1px solid rgba(0,0,0,.1)}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin-top:30px;font-size:16px;font-weight:600;cursor:pointer}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:5px}.filters[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;height:34px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-left:10px}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]{width:300px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}']],data:{}});function He(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,13,"div",[["class","playlist"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Share the playlist"])),(t()(),o["\u0275eld"](3,0,null,null,1,"my-input-readonly-copy",[],null,null,null,xe,Ee)),o["\u0275did"](4,49152,null,0,Me,[g.a,v.a],{value:[0,"value"]},null),(t()(),o["\u0275eld"](5,0,null,null,8,"div",[["class","filters"]],null,null,null,null,null)),(t()(),o["\u0275eld"](6,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](7,0,null,null,6,"my-peertube-checkbox",[["inputName","includeVideoInPlaylist"],["labelText","Share the playlist at this video position"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.includeVideoInPlaylist=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](8,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,2,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](11,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](13,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null)],(function(t,e){var n=e.component;t(e,4,0,n.getPlaylistUrl()),t(e,8,0,"includeVideoInPlaylist","Share the playlist at this video position"),t(e,11,0,n.includeVideoInPlaylist)}),(function(t,e){t(e,7,0,o["\u0275nov"](e,13).ngClassUntouched,o["\u0275nov"](e,13).ngClassTouched,o["\u0275nov"](e,13).ngClassPristine,o["\u0275nov"](e,13).ngClassDirty,o["\u0275nov"](e,13).ngClassValid,o["\u0275nov"](e,13).ngClassInvalid,o["\u0275nov"](e,13).ngClassPending)}))}function ze(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Share the video"]))],null,null)}function Ke(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-input-readonly-copy",[],null,null,null,xe,Ee)),o["\u0275did"](2,49152,null,0,Me,[g.a,v.a],{value:[0,"value"]},null)],(function(t,e){t(e,2,0,e.component.getVideoUrl())}),null)}function $e(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"qrcode",[["level","Q"],["size","256"]],null,null,null,je,Ne)),o["\u0275did"](2,4767744,null,0,Re,[o.ElementRef,o.PLATFORM_ID],{level:[0,"level"],qrdata:[1,"qrdata"],size:[2,"size"]},null)],(function(t,e){t(e,2,0,"Q",e.component.getVideoUrl(),"256")}),null)}function qe(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" The url is not secured (no HTTPS), so the embed video won't work on HTTPS websites (web browsers block non secured HTTP requests on HTTPS websites). "]))],null,null)}function We(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-input-readonly-copy",[],null,null,null,xe,Ee)),o["\u0275did"](2,49152,null,0,Me,[g.a,v.a],{value:[0,"value"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,qe)),o["\u0275did"](4,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getVideoIframeCode()),t(e,4,0,n.notSecure())}),null)}function Ge(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),o["\u0275did"](1,147456,null,0,W.NgSelectOption,[o.ElementRef,o.Renderer2,[2,W.SelectControlValueAccessor]],{value:[0,"value"]},null),o["\u0275did"](2,147456,null,0,W["\u0275angular_packages_forms_forms_y"],[o.ElementRef,o.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),o["\u0275ted"](3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.language.id),t(e,2,0,e.context.$implicit.language.id)}),(function(t,e){t(e,3,0,e.context.$implicit.language.label)}))}function Xe(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,19,"div",[["class","form-group video-caption-block"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,6,"my-peertube-checkbox",[["inputName","subtitleCheckbox"],["labelText","Auto select subtitle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.subtitleCheckbox=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](2,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,11,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](5,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](7,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](8,0,null,null,11,"div",[["class","peertube-select-container"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](10,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](11,{disabled:0}),(t()(),o["\u0275eld"](12,0,null,null,7,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"change"===e&&(i=!1!==o["\u0275nov"](t,13).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==o["\u0275nov"](t,13).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(l.customizations.subtitle=n)&&i),i}),null,null)),o["\u0275did"](13,16384,null,0,W.SelectControlValueAccessor,[o.Renderer2,o.ElementRef],null,null),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[W.SelectControlValueAccessor]),o["\u0275did"](15,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](17,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275and"](16777216,null,null,1,null,Ge)),o["\u0275did"](19,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"subtitleCheckbox","Auto select subtitle"),t(e,5,0,n.customizations.subtitleCheckbox);var o=t(e,11,0,!n.customizations.subtitleCheckbox);t(e,10,0,"peertube-select-container",o),t(e,15,0,!n.customizations.subtitleCheckbox,n.customizations.subtitle),t(e,19,0,n.videoCaptions)}),(function(t,e){t(e,1,0,o["\u0275nov"](e,7).ngClassUntouched,o["\u0275nov"](e,7).ngClassTouched,o["\u0275nov"](e,7).ngClassPristine,o["\u0275nov"](e,7).ngClassDirty,o["\u0275nov"](e,7).ngClassValid,o["\u0275nov"](e,7).ngClassInvalid,o["\u0275nov"](e,7).ngClassPending),t(e,12,0,o["\u0275nov"](e,17).ngClassUntouched,o["\u0275nov"](e,17).ngClassTouched,o["\u0275nov"](e,17).ngClassPristine,o["\u0275nov"](e,17).ngClassDirty,o["\u0275nov"](e,17).ngClassValid,o["\u0275nov"](e,17).ngClassInvalid,o["\u0275nov"](e,17).ngClassPending)}))}function Ye(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" More customization "]))],null,null)}function Qe(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-up"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Less customization "]))],null,null)}function Je(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,24,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,6,"my-peertube-checkbox",[["inputName","title"],["labelText","Display video title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.title=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](3,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,16,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](6,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](8,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](9,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](10,0,null,null,6,"my-peertube-checkbox",[["inputName","warningTitle"],["labelText","Display privacy warning"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.warningTitle=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](11,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,17,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](14,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](16,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](17,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](18,0,null,null,6,"my-peertube-checkbox",[["inputName","controls"],["labelText","Display player controls"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.controls=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](19,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,18,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](22,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](24,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null)],(function(t,e){var n=e.component;t(e,3,0,"title","Display video title"),t(e,6,0,n.customizations.title),t(e,11,0,"warningTitle","Display privacy warning"),t(e,14,0,n.customizations.warningTitle),t(e,19,0,"controls","Display player controls"),t(e,22,0,n.customizations.controls)}),(function(t,e){t(e,2,0,o["\u0275nov"](e,8).ngClassUntouched,o["\u0275nov"](e,8).ngClassTouched,o["\u0275nov"](e,8).ngClassPristine,o["\u0275nov"](e,8).ngClassDirty,o["\u0275nov"](e,8).ngClassValid,o["\u0275nov"](e,8).ngClassInvalid,o["\u0275nov"](e,8).ngClassPending),t(e,10,0,o["\u0275nov"](e,16).ngClassUntouched,o["\u0275nov"](e,16).ngClassTouched,o["\u0275nov"](e,16).ngClassPristine,o["\u0275nov"](e,16).ngClassDirty,o["\u0275nov"](e,16).ngClassValid,o["\u0275nov"](e,16).ngClassInvalid,o["\u0275nov"](e,16).ngClassPending),t(e,18,0,o["\u0275nov"](e,24).ngClassUntouched,o["\u0275nov"](e,24).ngClassTouched,o["\u0275nov"](e,24).ngClassPristine,o["\u0275nov"](e,24).ngClassDirty,o["\u0275nov"](e,24).ngClassValid,o["\u0275nov"](e,24).ngClassInvalid,o["\u0275nov"](e,24).ngClassPending)}))}function Ze(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Partekatu"])),(t()(),o["\u0275eld"](3,0,null,null,1,"my-global-icon",[["aria-label","Close"],["iconName","cross"],["role","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.context.close()&&o),o}),s.b,s.a)),o["\u0275did"](4,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](5,0,null,null,92,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,He)),o["\u0275did"](7,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](8,0,null,null,89,"div",[["class","video"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,ze)),o["\u0275did"](10,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](11,0,null,null,20,"ngb-tabset",[["class","root-tabset bootstrap"]],null,[[null,"tabChange"]],(function(t,e,n){var o=!0;return"tabChange"===e&&(o=!1!==t.component.onTabChange(n)&&o),o}),De.d,De.b)),o["\u0275did"](12,2146304,null,1,r.X,[r.Y],null,{tabChange:"tabChange"}),o["\u0275qud"](603979776,3,{tabs:1}),(t()(),o["\u0275eld"](14,0,null,null,5,"ngb-tab",[["id","url"],["title","URL-a"]],null,null,null,null,null)),o["\u0275did"](15,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),o["\u0275qud"](603979776,4,{titleTpls:1}),o["\u0275qud"](603979776,5,{contentTpls:1}),(t()(),o["\u0275and"](0,null,null,1,null,Ke)),o["\u0275did"](19,16384,[[5,4]],0,r.V,[o.TemplateRef],null,null),(t()(),o["\u0275eld"](20,0,null,null,5,"ngb-tab",[["id","qrcode"],["title","QR-kodea"]],null,null,null,null,null)),o["\u0275did"](21,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),o["\u0275qud"](603979776,6,{titleTpls:1}),o["\u0275qud"](603979776,7,{contentTpls:1}),(t()(),o["\u0275and"](0,null,null,1,null,$e)),o["\u0275did"](25,16384,[[7,4]],0,r.V,[o.TemplateRef],null,null),(t()(),o["\u0275eld"](26,0,null,null,5,"ngb-tab",[["id","embed"],["title","Txertatu"]],null,null,null,null,null)),o["\u0275did"](27,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),o["\u0275qud"](603979776,8,{titleTpls:1}),o["\u0275qud"](603979776,9,{contentTpls:1}),(t()(),o["\u0275and"](0,null,null,1,null,We)),o["\u0275did"](31,16384,[[9,4]],0,r.V,[o.TemplateRef],null,null),(t()(),o["\u0275eld"](32,0,null,null,65,"div",[["class","filters"]],null,null,null,null,null)),(t()(),o["\u0275eld"](33,0,null,null,16,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](34,0,null,null,13,"div",[["class","form-group start-at"]],null,null,null,null,null)),(t()(),o["\u0275eld"](35,0,null,null,6,"my-peertube-checkbox",[["inputName","startAt"],["labelText","Start at"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.startAtCheckbox=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](36,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,10,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](39,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](41,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](42,0,null,null,5,"my-timestamp-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.startAt=n)&&o),o}),Le.b,Le.a)),o["\u0275did"](43,114688,null,0,Ve.a,[o.ChangeDetectorRef],{maxTimestamp:[0,"maxTimestamp"],timestamp:[1,"timestamp"],disabled:[2,"disabled"]},null),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ve.a]),o["\u0275did"](45,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](47,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275and"](16777216,null,null,1,null,Xe)),o["\u0275did"](49,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](50,0,null,null,4,"div",[["aria-controls","collapseBasic"],["class","advanced-filters-button"],["role","button"]],[[1,"aria-expanded",0]],[[null,"click"]],(function(t,e,n){var o=!0,i=t.component;return"click"===e&&(o=0!=(i.isAdvancedCustomizationCollapsed=!i.isAdvancedCustomizationCollapsed)&&o),o}),null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Ye)),o["\u0275did"](52,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Qe)),o["\u0275did"](54,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](55,0,null,null,42,"div",[["class","advanced-filters collapse-transition"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),o["\u0275did"](56,16384,null,0,r.l,[],{collapsed:[0,"collapsed"]},null),(t()(),o["\u0275eld"](57,0,null,null,38,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](58,0,null,null,13,"div",[["class","form-group stop-at"]],null,null,null,null,null)),(t()(),o["\u0275eld"](59,0,null,null,6,"my-peertube-checkbox",[["inputName","stopAt"],["labelText","Stop at"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.stopAtCheckbox=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](60,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,12,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](63,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](65,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](66,0,null,null,5,"my-timestamp-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.stopAt=n)&&o),o}),Le.b,Le.a)),o["\u0275did"](67,114688,null,0,Ve.a,[o.ChangeDetectorRef],{maxTimestamp:[0,"maxTimestamp"],timestamp:[1,"timestamp"],disabled:[2,"disabled"]},null),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ve.a]),o["\u0275did"](69,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](71,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](72,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](73,0,null,null,6,"my-peertube-checkbox",[["inputName","autoplay"],["labelText","Autoplay"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.autoplay=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](74,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,13,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](77,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](79,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](80,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](81,0,null,null,6,"my-peertube-checkbox",[["inputName","muted"],["labelText","Mututua"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.muted=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](82,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,14,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](85,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](87,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275eld"](88,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o["\u0275eld"](89,0,null,null,6,"my-peertube-checkbox",[["inputName","loop"],["labelText","Loop"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(t,e,n){var o=!0;return"ngModelChange"===e&&(o=!1!==(t.component.customizations.loop=n)&&o),o}),Ie.b,Ie.a)),o["\u0275did"](90,1097728,null,1,Ae.a,[o.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),o["\u0275qud"](603979776,15,{templates:1}),o["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(t){return[t]}),[Ae.a]),o["\u0275did"](93,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),o["\u0275did"](95,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(t()(),o["\u0275and"](16777216,null,null,1,null,Je)),o["\u0275did"](97,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](98,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(t()(),o["\u0275eld"](99,0,null,null,1,"span",[["class","action-button action-button-cancel"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.context.close()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,["Itxi"]))],(function(t,e){var n=e.component;t(e,4,0,"cross"),t(e,7,0,n.hasPlaylist()),t(e,10,0,n.hasPlaylist()),t(e,15,0,"url","URL-a"),t(e,21,0,"qrcode","QR-kodea"),t(e,27,0,"embed","Txertatu"),t(e,36,0,"startAt","Start at"),t(e,39,0,n.customizations.startAtCheckbox),t(e,43,0,n.video.duration,n.customizations.startAt,!n.customizations.startAtCheckbox),t(e,45,0,!n.customizations.startAtCheckbox,n.customizations.startAt),t(e,49,0,0!==n.videoCaptions.length),t(e,52,0,n.isAdvancedCustomizationCollapsed),t(e,54,0,!n.isAdvancedCustomizationCollapsed),t(e,56,0,n.isAdvancedCustomizationCollapsed),t(e,60,0,"stopAt","Stop at"),t(e,63,0,n.customizations.stopAtCheckbox),t(e,67,0,n.video.duration,n.customizations.stopAt,!n.customizations.stopAtCheckbox),t(e,69,0,!n.customizations.stopAtCheckbox,n.customizations.stopAt),t(e,74,0,"autoplay","Autoplay"),t(e,77,0,n.customizations.autoplay),t(e,82,0,"muted","Mututua"),t(e,85,0,n.customizations.muted),t(e,90,0,"loop","Loop"),t(e,93,0,n.customizations.loop),t(e,97,0,n.isInEmbedTab())}),(function(t,e){var n=e.component;t(e,35,0,o["\u0275nov"](e,41).ngClassUntouched,o["\u0275nov"](e,41).ngClassTouched,o["\u0275nov"](e,41).ngClassPristine,o["\u0275nov"](e,41).ngClassDirty,o["\u0275nov"](e,41).ngClassValid,o["\u0275nov"](e,41).ngClassInvalid,o["\u0275nov"](e,41).ngClassPending),t(e,42,0,o["\u0275nov"](e,47).ngClassUntouched,o["\u0275nov"](e,47).ngClassTouched,o["\u0275nov"](e,47).ngClassPristine,o["\u0275nov"](e,47).ngClassDirty,o["\u0275nov"](e,47).ngClassValid,o["\u0275nov"](e,47).ngClassInvalid,o["\u0275nov"](e,47).ngClassPending),t(e,50,0,!n.isAdvancedCustomizationCollapsed),t(e,55,0,!0,!o["\u0275nov"](e,56).collapsed),t(e,59,0,o["\u0275nov"](e,65).ngClassUntouched,o["\u0275nov"](e,65).ngClassTouched,o["\u0275nov"](e,65).ngClassPristine,o["\u0275nov"](e,65).ngClassDirty,o["\u0275nov"](e,65).ngClassValid,o["\u0275nov"](e,65).ngClassInvalid,o["\u0275nov"](e,65).ngClassPending),t(e,66,0,o["\u0275nov"](e,71).ngClassUntouched,o["\u0275nov"](e,71).ngClassTouched,o["\u0275nov"](e,71).ngClassPristine,o["\u0275nov"](e,71).ngClassDirty,o["\u0275nov"](e,71).ngClassValid,o["\u0275nov"](e,71).ngClassInvalid,o["\u0275nov"](e,71).ngClassPending),t(e,73,0,o["\u0275nov"](e,79).ngClassUntouched,o["\u0275nov"](e,79).ngClassTouched,o["\u0275nov"](e,79).ngClassPristine,o["\u0275nov"](e,79).ngClassDirty,o["\u0275nov"](e,79).ngClassValid,o["\u0275nov"](e,79).ngClassInvalid,o["\u0275nov"](e,79).ngClassPending),t(e,81,0,o["\u0275nov"](e,87).ngClassUntouched,o["\u0275nov"](e,87).ngClassTouched,o["\u0275nov"](e,87).ngClassPristine,o["\u0275nov"](e,87).ngClassDirty,o["\u0275nov"](e,87).ngClassValid,o["\u0275nov"](e,87).ngClassInvalid,o["\u0275nov"](e,87).ngClassPending),t(e,89,0,o["\u0275nov"](e,95).ngClassUntouched,o["\u0275nov"](e,95).ngClassTouched,o["\u0275nov"](e,95).ngClassPristine,o["\u0275nov"](e,95).ngClassDirty,o["\u0275nov"](e,95).ngClassValid,o["\u0275nov"](e,95).ngClassInvalid,o["\u0275nov"](e,95).ngClassPending)}))}function tn(t){return o["\u0275vid"](0,[o["\u0275qud"](402653184,1,{modal:0}),(t()(),o["\u0275and"](0,[[1,2],["modal",2]],null,0,null,Ze))],null,null)}var en,nn=n("dzsG"),on=function(){function t(){}return t.prototype.transform=function(t){var e=Math.floor(t/60),n=Math.floor(e/60);return n>0?n+" h "+(e-60*n)+" min "+(t-60*(e-60*n))+" sec":e+" min "+(t-60*e)+" sec"},t}(),ln=n("ReJP"),rn=n("yc0L"),an=((en=function(){function t(e,n,o,i,l,r){this.userService=e,this.auth=n,this.notifier=o,this.i18n=i,this.videoPlaylist=l,this.router=r,this.playlistElements=[],this.playlistPagination={currentPage:1,itemsPerPage:30,totalItems:null},this.autoPlayNextVideoPlaylistSwitchText="",this.loopPlaylistSwitchText="",this.noPlaylistVideos=!1,this.currentPlaylistPosition=1,this.autoPlayNextVideoPlaylist=this.auth.isLoggedIn()?this.auth.getUser().autoPlayNextVideoPlaylist:"false"!==fe.a.getItem(t.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setAutoPlayNextVideoPlaylistSwitchText(),this.loopPlaylist="true"===fe.b.getItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setLoopPlaylistSwitchText()}return t.prototype.onPlaylistVideosNearOfBottom=function(){this.playlistPagination.totalItems<=this.playlistPagination.currentPage*this.playlistPagination.itemsPerPage||(this.playlistPagination.currentPage+=1,this.loadPlaylistElements(this.playlist,!1))},t.prototype.onElementRemoved=function(t){this.playlistElements=this.playlistElements.filter((function(e){return e.id!==t.id})),this.playlistPagination.totalItems--},t.prototype.isPlaylistOwned=function(){return!0===this.playlist.isLocal&&this.auth.isLoggedIn()&&this.playlist.ownerAccount.name===this.auth.getUser().username},t.prototype.isUnlistedPlaylist=function(){return this.playlist.privacy.id===nt.k.UNLISTED},t.prototype.isPrivatePlaylist=function(){return this.playlist.privacy.id===nt.k.PRIVATE},t.prototype.isPublicPlaylist=function(){return this.playlist.privacy.id===nt.k.PUBLIC},t.prototype.loadPlaylistElements=function(t,e){var n=this;void 0===e&&(e=!1),this.videoPlaylist.getPlaylistVideos(t.uuid,this.playlistPagination).subscribe((function(t){var o=t.total,i=t.data;n.playlistElements=n.playlistElements.concat(i),n.playlistPagination.totalItems=o;var l=n.playlistElements.find((function(t){return!!t.video}));l?(n.updatePlaylistIndex(n.video),e&&n.router.navigate([],{queryParams:{start:l.startTimestamp,stop:l.stopTimestamp,videoId:l.video.uuid},replaceUrl:!0})):n.noPlaylistVideos=!0}))},t.prototype.updatePlaylistIndex=function(t){if(0!==this.playlistElements.length&&t){for(var e=0,n=this.playlistElements;e<n.length;e++){var o=n[e];if(o.video&&o.video.id===t.id)return void(this.currentPlaylistPosition=o.position)}this.onPlaylistVideosNearOfBottom()}},t.prototype.findNextPlaylistVideo=function(t){if(void 0===t&&(t=this.currentPlaylistPosition),this.currentPlaylistPosition>=this.playlistPagination.totalItems){if(!this.loopPlaylist)return;this.currentPlaylistPosition=t=0}var e=this.playlistElements.find((function(e){return e.position===t}));return e&&e.video?e:this.findNextPlaylistVideo(t+1)},t.prototype.navigateToNextPlaylistVideo=function(){var t=this.findNextPlaylistVideo(this.currentPlaylistPosition+1);t&&this.router.navigate([],{queryParams:{videoId:t.video.uuid,start:t.startTimestamp,stop:t.stopTimestamp}})},t.prototype.switchAutoPlayNextVideoPlaylist=function(){var e=this;this.autoPlayNextVideoPlaylist=!this.autoPlayNextVideoPlaylist,this.setAutoPlayNextVideoPlaylistSwitchText(),fe.a.setItem(t.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.autoPlayNextVideoPlaylist.toString()),this.auth.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideoPlaylist:this.autoPlayNextVideoPlaylist}).subscribe((function(){e.auth.refreshUserInformation()}),(function(t){return e.notifier.error(t.message)}))},t.prototype.switchLoopPlaylist=function(){this.loopPlaylist=!this.loopPlaylist,this.setLoopPlaylistSwitchText(),fe.b.setItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.loopPlaylist.toString())},t.prototype.setAutoPlayNextVideoPlaylistSwitchText=function(){this.autoPlayNextVideoPlaylistSwitchText=this.i18n(this.autoPlayNextVideoPlaylist?"Stop autoplaying next video":"Autoplay next video")},t.prototype.setLoopPlaylistSwitchText=function(){this.loopPlaylistSwitchText=this.i18n(this.loopPlaylist?"Stop looping playlist videos":"Loop playlist videos")},t}()).LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="auto_play_video_playlist",en.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="loop_playlist",en),sn=o["\u0275crt"]({encapsulation:0,styles:[[".playlist[_ngcontent-%COMP%]{min-width:200px;max-width:470px;height:66vh;background-color:var(--mainBackgroundColor);overflow-y:auto;border-bottom:1px solid rgba(0,0,0,.1)}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]{padding:5px 30px;background-color:#e4e4e4}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]{color:#585858;display:-webkit-box;display:flex}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-right:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child::after{content:'/';margin:0 3px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:10px 0}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(.active){opacity:.5}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]    {cursor:pointer}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-right:0}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .video-info .video-info-name{font-size:15px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     my-video-thumbnail   .video-thumbnail{width:90px;height:50px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .fake-thumbnail{width:90px;height:50px}"]],data:{}});function un(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-warning"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Zerrendatu gabea"]))],null,null)}function cn(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Pribatua"]))],null,null)}function dn(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-info"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Public"]))],null,null)}function hn(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-video-playlist-element-miniature",[],null,[[null,"elementRemoved"]],(function(t,e,n){var o=!0;return"elementRemoved"===e&&(o=!1!==t.component.onElementRemoved(n)&&o),o}),ln.b,ln.a)),o["\u0275did"](2,114688,null,0,rn.a,[f.a,x.a,g.a,M.a,C.a,v.a,I.a,m.a,o.ChangeDetectorRef],{playlist:[0,"playlist"],playlistElement:[1,"playlistElement"],owned:[2,"owned"],playing:[3,"playing"],accountLink:[4,"accountLink"],position:[5,"position"]},{elementRemoved:"elementRemoved"})],(function(t,e){var n=e.component;t(e,2,0,n.playlist,e.context.$implicit,n.isPlaylistOwned(),n.currentPlaylistPosition===e.context.$implicit.position,!1,e.context.$implicit.position)}),null)}function pn(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,27,"div",[["class","playlist"],["myInfiniteScroller",""]],null,[[null,"nearOfBottom"]],(function(t,e,n){var o=!0;return"nearOfBottom"===e&&(o=!1!==t.component.onPlaylistVideosNearOfBottom()&&o),o}),null,null)),o["\u0275did"](1,2310144,null,0,Rt.a,[o.ElementRef],{autoInit:[0,"autoInit"],onItself:[1,"onItself"]},{nearOfBottom:"nearOfBottom"}),(t()(),o["\u0275eld"](2,0,null,null,23,"div",[["class","playlist-info"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,7,"div",[["class","playlist-display-name"]],null,null,null,null,null)),(t()(),o["\u0275ted"](4,null,[" "," "])),(t()(),o["\u0275and"](16777216,null,null,1,null,un)),o["\u0275did"](6,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,cn)),o["\u0275did"](8,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,dn)),o["\u0275did"](10,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](11,0,null,null,7,"div",[["class","playlist-by-index"]],null,null,null,null,null)),(t()(),o["\u0275eld"](12,0,null,null,1,"div",[["class","playlist-by"]],null,null,null,null,null)),(t()(),o["\u0275ted"](13,null,["",""])),(t()(),o["\u0275eld"](14,0,null,null,4,"div",[["class","playlist-index"]],null,null,null,null,null)),(t()(),o["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](16,null,["",""])),(t()(),o["\u0275eld"](17,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](18,null,["",""])),(t()(),o["\u0275eld"](19,0,null,null,6,"div",[["class","playlist-controls"]],null,null,null,null,null)),(t()(),o["\u0275eld"](20,16777216,null,null,2,"my-global-icon",[["container","body"],["iconName","videos"],["placement","bottom auto"]],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.switchAutoPlayNextVideoPlaylist()&&o),o}),s.b,s.a)),o["\u0275did"](21,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],container:[1,"container"],ngbTooltip:[2,"ngbTooltip"]},null),o["\u0275did"](22,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](23,16777216,null,null,2,"my-global-icon",[["container","body"],["iconName","repeat"],["placement","bottom auto"]],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.switchLoopPlaylist()&&o),o}),s.b,s.a)),o["\u0275did"](24,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],container:[1,"container"],ngbTooltip:[2,"ngbTooltip"]},null),o["\u0275did"](25,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,hn)),o["\u0275did"](27,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!0,!0),t(e,6,0,n.isUnlistedPlaylist()),t(e,8,0,n.isPrivatePlaylist()),t(e,10,0,n.isPublicPlaylist()),t(e,21,0,"bottom auto","body",n.autoPlayNextVideoPlaylistSwitchText),t(e,22,0,"videos"),t(e,24,0,"bottom auto","body",n.loopPlaylistSwitchText),t(e,25,0,"repeat"),t(e,27,0,n.playlistElements)}),(function(t,e){var n=e.component;t(e,4,0,n.playlist.displayName),t(e,13,0,n.playlist.ownerBy),t(e,16,0,n.currentPlaylistPosition),t(e,18,0,n.playlistPagination.totalItems),t(e,20,0,n.autoPlayNextVideoPlaylist),t(e,23,0,n.loopPlaylist)}))}function fn(t){return o["\u0275vid"](0,[(t()(),o["\u0275and"](16777216,null,null,1,null,pn)),o["\u0275did"](1,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.playlist&&n.video)}),null)}var gn=n("dubb"),vn=n("cp0P"),mn=n("yccp"),yn=n("voWr"),_n=(n("HUk+"),n("6i9R")),bn=n.n(_n),Cn=(n("aSIO"),n("7zRj")),kn=n.n(Cn);function Tn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Pn=1,wn=function(){return Pn++},On=bn.a.dom||bn.a,Mn=bn.a.registerPlugin||bn.a.plugin,En=bn.a.getComponent("Component"),xn=function(t){function e(e,n){var o;o=t.call(this,e,n)||this;var i=e.$(".vjs-tech");return i.setAttribute("aria-labelledby",o.title.id),i.setAttribute("aria-describedby",o.description.id),o}Tn(e,t);var n=e.prototype;return n.createEl=function(){var e=On.createEl("div",{className:"vjs-dock-title",title:this.options_.title,innerHTML:this.options_.title},{id:"vjs-dock-title-"+wn()}),n=On.createEl("div",{className:"vjs-dock-description",title:this.options_.description,innerHTML:this.options_.description},{id:"vjs-dock-description-"+wn()}),o=t.prototype.createEl.call(this,"div",{className:"vjs-dock-text"});return this.title=e,this.description=n,o.appendChild(e),o.appendChild(n),o},n.update=function(t,e){this.title.innerHTML="",this.description.innerHTML="",this.title.appendChild(kn.a.createTextNode(t)),this.description.appendChild(kn.a.createTextNode(e))},e}(En),Sn=function(t){function e(){return t.apply(this,arguments)||this}return Tn(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-dock-shelf"})},e}(En);bn.a.registerComponent("Title",xn),bn.a.registerComponent("Shelf",Sn);var In=function(t){var e=t||{},n={title:{title:e.title||"",description:e.description||""}},o=this.title,i=this.shelf;this.addClass("vjs-dock");var l=this.children().indexOf(this.getChild("bigPlayButton")),r=l>0?l-1:null;i||(i=this.shelf=this.addChild("shelf",n,r)),o?o.update(n.title.title,n.title.description):o=this.title=this.addChild("title",n.title,r),this.one(o,"dispose",(function(){this.title=null})),this.one(i,"dispose",(function(){this.shelf=null}))};In.VERSION="2.1.4",Mn("dock",In);var An=n("vgmO"),Rn=n.n(An);function Nn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var jn=function(t){function e(){return t.apply(this,arguments)||this}return Nn(e,t),e.prototype.handleClick=function(e){var n=this;t.prototype.handleClick.call(this),this.options_.listener(),Rn.a.setTimeout((function(){n.player().contextmenuUI.menu.dispose()}),1)},e}(bn.a.getComponent("MenuItem")),Dn=bn.a.getComponent("Menu"),Ln=bn.a.dom||bn.a,Vn=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).dispose=bn.a.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o),o.dispose),n.content.forEach((function(t){var n=function(){};"function"==typeof t.listener?n=t.listener:"string"==typeof t.href&&(n=function(){return Rn.a.open(t.href)}),o.addItem(new jn(e,{label:t.label,listener:bn.a.bind(e,n)}))})),o}return Nn(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return Ln.addClass(e,"vjs-contextmenu-ui-menu"),e.style.left=this.options_.position.left+"px",e.style.top=this.options_.position.top+"px",e},e}(Dn),Bn="5.2.0";function Fn(t){return t.hasOwnProperty("contextmenuUI")&&t.contextmenuUI.hasOwnProperty("menu")&&t.contextmenuUI.menu.el()}function Un(t){var e=t.tagName.toLowerCase();return"input"===e||"textarea"===e}function Hn(t){var e,n,o,i,l,r,a,s,u,c,d,h=this;if(Fn(this))this.contextmenuUI.menu.dispose();else if(!this.contextmenuUI.options_.excludeElements(t.target)){var p=(i=t,l={},r=function(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=kn.a.documentElement,o=kn.a.body,i=e.top+(Rn.a.pageYOffset||o.scrollTop)-(n.clientTop||o.clientTop||0);return{left:Math.round(e.left+(Rn.a.pageXOffset||o.scrollLeft)-(n.clientLeft||o.clientLeft||0)),top:Math.round(i)}}(o=this.el()),a=o.offsetWidth,s=o.offsetHeight,u=r.left,c=i.pageY,d=i.pageX,i.changedTouches&&(d=i.changedTouches[0].pageX,c=i.changedTouches[0].pageY),l.y=Math.max(0,Math.min(1,(r.top-c+s)/s)),l.x=Math.max(0,Math.min(1,(d-u)/a)),e=l,n=this.el().getBoundingClientRect(),{left:Math.round(n.width*e.x),top:Math.round(n.height-n.height*e.y)}),f=bn.a.browser.IS_FIREFOX?kn.a.documentElement:kn.a;t.preventDefault();var g=this.contextmenuUI.menu=new Vn(this,{content:this.contextmenuUI.content,position:p});this.contextmenuUI.closeMenu=function(){bn.a.log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),g.dispose()},g.on("dispose",(function(){bn.a.off(f,["click","tap"],g.dispose),h.removeChild(g),delete h.contextmenuUI.menu})),this.addChild(g);var v=g.el_.getBoundingClientRect(),m=kn.a.body.getBoundingClientRect();(this.contextmenuUI.keepInside||v.right>m.width||v.bottom>m.height)&&(g.el_.style.left=Math.floor(Math.min(p.left,this.player_.currentWidth()-g.currentWidth()))+"px",g.el_.style.top=Math.floor(Math.min(p.top,this.player_.currentHeight()-g.currentHeight()))+"px"),bn.a.on(f,["click","tap"],g.dispose)}}function zn(t){var e=this;if(t=bn.a.mergeOptions({keepInside:!0,excludeElements:Un},t),!Array.isArray(t.content))throw new Error('"content" required');Fn(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var n=this.contextmenuUI=function(){zn.apply(this,arguments)};n.onContextMenu=bn.a.bind(this,Hn),n.content=t.content,n.keepInside=t.keepInside,n.options_=t,n.VERSION=Bn,this.on("contextmenu",n.onContextMenu),this.ready((function(){return e.addClass("vjs-contextmenu-ui")}))}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}bn.a.registerPlugin("contextmenuUI",zn),zn.VERSION=Bn;var $n=function t(e){var n=this;if(bn.a.browser.IS_IE8)for(var o in n=kn.a.createElement("custom"),t.prototype)"constructor"!==o&&(n[o]=t.prototype[o]);return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(t){n.enabled_(t)}}),n},qn=function(t){var e,n;function o(){var e,n=Kn(Kn(e=t.call(this)||this));if(bn.a.browser.IS_IE8)for(var i in n=kn.a.createElement("custom"),o.prototype)"constructor"!==i&&(n[i]=o.prototype[i]);return n.levels_=[],n.selectedIndex_=-1,Object.defineProperty(n,"selectedIndex",{get:function(){return n.selectedIndex_}}),Object.defineProperty(n,"length",{get:function(){return n.levels_.length}}),n||Kn(e)}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.addQualityLevel=function(t){var e=this.getQualityLevelById(t.id);if(e)return e;var n=this.levels_.length;return e=new $n(t),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(e),this.trigger({qualityLevel:e,type:"addqualitylevel"}),e},i.removeQualityLevel=function(t){for(var e=null,n=0,o=this.length;n<o;n++)if(this[n]===t){e=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return e&&this.trigger({qualityLevel:t,type:"removequalitylevel"}),e},i.getQualityLevelById=function(t){for(var e=0,n=this.length;e<n;e++){var o=this[e];if(o.id===t)return o}return null},i.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},o}(bn.a.EventTarget);for(var Wn in qn.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},qn.prototype.allowedEvents_)qn.prototype["on"+Wn]=null;var Gn=function(t){return e=this,bn.a.mergeOptions({},t),n=e.qualityLevels,o=new qn,e.on("dispose",(function t(){o.dispose(),e.qualityLevels=n,e.off("dispose",t)})),e.qualityLevels=function(){return o},e.qualityLevels.VERSION="2.0.9",o;var e,n,o};(bn.a.registerPlugin||bn.a.plugin)("qualityLevels",Gn),Gn.VERSION="2.0.9";var Xn=_n.getComponent("Component");_n.registerComponent("EndCard",function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).dashOffsetTotal=586,o.dashOffsetStart=293,o.interval=50,o.upNextEvents=new _n.EventTarget,o.ticks=0,o.totalTicks=o.options_.timeout/o.interval,e.on("ended",(function(t){o.options_.condition()&&(e.addClass("vjs-upnext--showing"),o.showCard((function(t){e.removeClass("vjs-upnext--showing"),o.container.style.display="none",t||o.options_.next()})))})),e.on("playing",(function(){o.upNextEvents.trigger("playing")})),o}return __extends(e,t),e.prototype.createEl=function(){var e,n=this,o=t.prototype.createEl.call(this,"div",{className:"vjs-upnext-content",innerHTML:(e=this.options_,'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'+e.headText+'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">'+e.cancelText+'</button>\n      </span>\n      <span class="vjs-upnext-suspended">'+e.suspendedText+"</span>\n    </span>\n  ")});return this.container=o,o.style.display="none",this.autoplayRing=o.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=o.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=o.getElementsByClassName("vjs-upnext-cancel-button")[0],this.suspendedMessage=o.getElementsByClassName("vjs-upnext-suspended")[0],this.nextButton=o.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){n.upNextEvents.trigger("cancel")},this.nextButton.onclick=function(){n.upNextEvents.trigger("next")},o},e.prototype.showCard=function(t){var e,n=this;this.autoplayRing.setAttribute("stroke-dasharray",""+this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",""+-this.dashOffsetStart),this.title.innerHTML=this.options_.getTitle(),this.upNextEvents.one("cancel",(function(){clearTimeout(e),t(!0)})),this.upNextEvents.one("playing",(function(){clearTimeout(e),t(!0)})),this.upNextEvents.one("next",(function(){clearTimeout(e),t(!1)}));var o=function(t){var e=Math.max(-n.dashOffsetTotal,-n.dashOffsetStart-t*n.dashOffsetTotal/2/100);n.autoplayRing.setAttribute("stroke-dashoffset",""+e)},i=function(){n.options_.suspended()?(n.suspendedMessage.innerText=n.options_.suspendedText,o(0),n.ticks=0,e=setTimeout(i.bind(n),300)):n.ticks>=n.totalTicks?(clearTimeout(e),t(!1)):(n.suspendedMessage.innerText="",o(100*n.ticks++/n.totalTicks),e=setTimeout(i.bind(n),n.interval))};this.container.style.display="block",e=setTimeout(i.bind(this),this.interval)},e}(Xn));var Yn=_n.getPlugin("plugin");_n.registerPlugin("upnext",function(t){function e(e,n){void 0===n&&(n={});var o=this,i={next:n.next,getTitle:n.getTitle,timeout:n.timeout||5e3,cancelText:n.cancelText||"Cancel",headText:n.headText||"Up Next",suspendedText:n.suspendedText||"Autoplay is suspended",condition:n.condition,suspended:n.suspended};return(o=t.call(this,e,i)||this).player.ready((function(){e.addClass("vjs-upnext")})),e.addChild("EndCard",i),o}return __extends(e,t),e}(Yn));var Qn=_n.getComponent("Component");_n.registerComponent("PauseBezel",function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).options_=n,e.on("pause",(function(t){e.seeking()||e.ended()||(o.container.innerHTML='\n  <div class="vjs-bezels-pause">\n    <div class="vjs-bezel" role="status" aria-label="Pause">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-1"></use>\n          <path class="vjs-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id="vjs-id-1"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())})),e.on("play",(function(t){e.seeking()||(o.container.innerHTML='\n  <div class="vjs-bezels-play">\n    <div class="vjs-bezel" role="status" aria-label="Play">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-2"></use>\n          <path class="vjs-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id="ytp-id-2"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())})),o}return __extends(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-bezels-content"});return this.container=e,e.style.display="none",e},e.prototype.showBezel=function(){var t=this;this.container.style.display="inherit",setTimeout((function(){t.container.style.display="none"}),500)},e}(Qn));var Jn=_n.getPlugin("plugin");_n.registerPlugin("bezels",function(t){function e(e,n){void 0===n&&(n={});var o=this;return(o=t.call(this,e,n)||this).player.ready((function(){e.addClass("vjs-bezels")})),e.addChild("PauseBezel",n),o}return __extends(e,t),e}(Jn));var Zn=_n,to=Zn.getComponent("MenuItem"),eo=Zn.getComponent("Component"),no=function(t){function e(e,n,o,i){var l=this;(l=t.call(this,e,n)||this).settingsButton=i,l.dialog=l.settingsButton.dialog,l.mainMenu=l.settingsButton.menu,l.panel=l.dialog.getChild("settingsPanel"),l.panelChild=l.panel.getChild("settingsPanelChild"),l.panelChildEl=l.panelChild.el_,l.size=null,l.menuToLoad="mainmenu";var r=Object(Be.j)(o),a=Zn.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");l.subMenu=new a(l.player(),n,i,l);var s=l.subMenu.buildCSSClass().split(" ")[0];return l.settingsSubMenuEl_.className+=" "+s,l.eventHandlers(),e.ready((function(){setTimeout((function(){l.player_&&(l.build(),e.on("ratechange",l.submenuClickHandler),"CaptionsButton"===r&&e.on("captionsChanged",(function(){setTimeout((function(){l.settingsSubMenuEl_.innerHTML="",l.settingsSubMenuEl_.appendChild(l.subMenu.menu.el_),l.update(),l.bindClickEvents()}),0)})),l.reset())}),0)})),l}return __extends(e,t),e.prototype.eventHandlers=function(){this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)},e.prototype.onSubmenuClick=function(t){var e=this,n=null;(n="tap"===t.type?t.target:t.currentTarget)&&n.classList.contains("vjs-back-button")?this.loadMainMenu():(setTimeout((function(){return e.update(t)}),0),this.subMenu.menu.removeClass("vjs-hidden"))},e.prototype.createEl=function(){var t=Zn.dom.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuTitleEl_=Zn.dom.createEl("div",{className:"vjs-settings-sub-menu-title"}),t.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=Zn.dom.createEl("div",{className:"vjs-settings-sub-menu-value"}),t.appendChild(this.settingsSubMenuValueEl_),this.settingsSubMenuEl_=Zn.dom.createEl("div",{className:"vjs-settings-sub-menu"}),t},e.prototype.handleClick=function(){var e=this;this.menuToLoad="submenu",Zn.dom.removeClass(this.el_,"open"),t.prototype.handleClick.call(this),this.mainMenu.el_.style.opacity="0",Zn.dom.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(Zn.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout((function(){e.settingsSubMenuEl_.style.opacity="1",e.settingsSubMenuEl_.style.marginRight="0px"}),0),this.settingsButton.setDialogSize(this.size)):Zn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")},e.prototype.createBackButton=function(){var t=this.subMenu.menu.addChild("MenuItem",{},0);t.name_="BackButton",t.addClass("vjs-back-button"),t.el_.innerHTML=this.player_.localize(this.subMenu.controlText_)},e.prototype.PrefixedEvent=function(t,e,n,o){void 0===o&&(o="addEvent");for(var i=["webkit","moz","MS","o",""],l=0;l<i.length;l++)i[l]||(e=e.toLowerCase()),"addEvent"===o?t.addEventListener(i[l]+e,n,!1):"removeEvent"===o&&t.removeEventListener(i[l]+e,n,!1)},e.prototype.onTransitionEnd=function(t){"margin-right"===t.propertyName&&"mainmenu"===this.menuToLoad&&(Zn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")},e.prototype.reset=function(){Zn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()},e.prototype.loadMainMenu=function(){var t=this;this.menuToLoad="mainmenu",this.mainMenu.show(),this.mainMenu.el_.style.opacity="0",this.settingsButton.setDialogSize([this.mainMenu.width,this.mainMenu.height]),setTimeout((function(){t.setMargin(),t.mainMenu.el_.style.opacity="1"}),0)},e.prototype.build=function(){var t=this;this.subMenu.on("updateLabel",(function(){t.update()})),this.subMenu.on("menuChanged",(function(){t.bindClickEvents(),t.setSize(),t.update()})),this.settingsSubMenuTitleEl_.innerHTML=this.player_.localize(this.subMenu.controlText_),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el_),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.setSize(),this.bindClickEvents(),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")},e.prototype.update=function(t){var e=this,n=null,o=this.subMenu.name();if(t&&"tap"===t.type?n=t.target:t&&(n=t.currentTarget),"PlaybackRateMenuButton"===o)setTimeout((function(){return e.settingsSubMenuValueEl_.innerHTML=e.subMenu.labelEl_.innerHTML}),250);else for(var i=0,l=this.subMenu.menu.children_;i<l.length;i++){var r=l[i];if(r instanceof eo&&r.hasClass("vjs-selected")){if("function"==typeof r.getLabel){this.settingsSubMenuValueEl_.innerHTML=r.getLabel();break}this.settingsSubMenuValueEl_.innerHTML=r.options_.label}}n&&!n.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog()},e.prototype.bindClickEvents=function(){for(var t=0,e=this.subMenu.menu.children();t<e.length;t++){var n=e[t];n instanceof eo&&n.on(["tap","click"],this.submenuClickHandler)}},e.prototype.setSize=function(){this.dialog.removeClass("vjs-hidden"),Zn.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),Zn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")},e.prototype.setMargin=function(){if(this.size){var t=this.size[0];this.settingsSubMenuEl_.style.marginRight="-"+t+"px"}},e.prototype.hideSubMenu=function(){this.el_&&Zn.dom.hasClass(this.el_,"open")&&(Zn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),Zn.dom.removeClass(this.el_,"open"))},e}(to);no.prototype.contentElType="button",Zn.registerComponent("SettingsMenuItem",no);var oo=Zn.getComponent("Button"),io=Zn.getComponent("Menu"),lo=Zn.getComponent("Component"),ro=function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).playerComponent=_n.Player,o.playerComponent=e,o.dialog=o.playerComponent.addChild("settingsDialog"),o.dialogEl=o.dialog.el_,o.menu=null,o.panel=o.dialog.addChild("settingsPanel"),o.panelChild=o.panel.addChild("settingsPanelChild"),o.addClass("vjs-settings"),o.el_.setAttribute("aria-label","Settings Button"),o.addSettingsItemHandler=o.onAddSettingsItem.bind(o),o.disposeSettingsItemHandler=o.onDisposeSettingsItem.bind(o),o.playerClickHandler=o.onPlayerClick.bind(o),o.userInactiveHandler=o.onUserInactive.bind(o),o.buildMenu(),o.bindEvents(),o.player().one("play",(function(){return o.hideDialog()})),o}return __extends(e,t),e.prototype.onPlayerClick=function(t){var e=t.target;e.classList.contains("vjs-settings")||e.parentElement.classList.contains("vjs-settings")||this.dialog.hasClass("vjs-hidden")||this.hideDialog()},e.prototype.onDisposeSettingsItem=function(t,e){if(void 0===e){for(var n=this.menu.children();n.length>0;)n[0].dispose(),this.menu.removeChild(n[0]);this.addClass("vjs-hidden")}else{var o=this.menu.getChild(e);o&&(o.dispose(),this.menu.removeChild(o))}this.hideDialog(),0===this.options_.entries.length&&this.addClass("vjs-hidden")},e.prototype.onAddSettingsItem=function(t,e){var n=e[0],o=e[1];this.addMenuItem(n,o),this.removeClass("vjs-hidden")},e.prototype.onUserInactive=function(){this.dialog.hasClass("vjs-hidden")||this.hideDialog()},e.prototype.bindEvents=function(){this.playerComponent.on("click",this.playerClickHandler),this.playerComponent.on("addsettingsitem",this.addSettingsItemHandler),this.playerComponent.on("disposesettingsitem",this.disposeSettingsItemHandler),this.playerComponent.on("userinactive",this.userInactiveHandler)},e.prototype.buildCSSClass=function(){return"vjs-icon-settings "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.dialog.hasClass("vjs-hidden")?this.showDialog():this.hideDialog()},e.prototype.showDialog=function(){this.player_.peertube().onMenuOpen(),this.menu.el_.style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu))},e.prototype.hideDialog=function(){this.player_.peertube().onMenuClosed(),this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el_.style.opacity="1",this.resetChildren()},e.prototype.getComponentSize=function(t){var e=null,n=null;return t instanceof lo?(n=t.el_.offsetHeight,t.width=e=t.el_.offsetWidth,t.height=n):(e=t.offsetWidth,n=t.offsetHeight),[e,n]},e.prototype.setDialogSize=function(t){var e=t[0],n=t[1];if("number"==typeof n){var o=this.playerComponent.el_.offsetHeight-this.options_.setup.maxHeightOffset;n>o?(e+=17,this.panel.el_.style.maxHeight=(n=o)+"px"):""!==this.panel.el_.style.maxHeight&&(this.panel.el_.style.maxHeight=""),this.dialogEl.style.width=e+"px",this.dialogEl.style.height=n+"px"}},e.prototype.buildMenu=function(){this.menu=new io(this.player()),this.menu.addClass("vjs-main-menu");var t=this.options_.entries;if(0===t.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);for(var e=0,n=t;e<n.length;e++){var o=n[e];this.addMenuItem(o,this.options_)}this.panelChild.addChild(this.menu)},e.prototype.addMenuItem=function(t,e){e.name=Object(Be.j)(t);var n=new no(this.player(),e,t,this);this.menu.addChild(n),n.on("click",_n.bind(this,this.hideChildren)),n.on("click",(function(){Zn.dom.hasClass(this.el_,"open")?Zn.dom.removeClass(this.el_,"open"):Zn.dom.addClass(this.el_,"open")}))},e.prototype.resetChildren=function(){for(var t=0,e=this.menu.children();t<e.length;t++){e[t].reset()}},e.prototype.hideChildren=function(){for(var t=0,e=this.menu.children();t<e.length;t++){e[t].hideSubMenu()}},e}(oo);ro.prototype.controlText_="Settings",lo.registerComponent("SettingsButton",ro),lo.registerComponent("SettingsDialog",function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).hide(),o}return __extends(e,t),e.prototype.createEl=function(){var e=this.id_;return t.prototype.createEl.call(this,"div",{className:"vjs-settings-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"dialog","aria-labelledby":"TTsettingsDialogLabel-"+e,"aria-describedby":"TTsettingsDialogDescription-"+e})},e}(lo)),lo.registerComponent("SettingsPanel",function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})},e}(lo)),lo.registerComponent("SettingsPanelChild",function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-settings-panel-child",innerHTML:"",tabIndex:-1})},e}(lo));var ao=n("Trnl"),so=_n.getPlugin("plugin");_n.registerPlugin("peertube",function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).CONSTANTS={USER_WATCHING_VIDEO_INTERVAL:5e3},o.menuOpened=!1,o.mouseInControlBar=!1,o.videoViewUrl=n.videoViewUrl,o.videoDuration=n.videoDuration,o.videoCaptions=n.videoCaptions,o.savedInactivityTimeout=e.options_.inactivityTimeout,!0===n.autoplay&&o.player.addClass("vjs-has-autoplay"),o.player.on("autoplay-failure",(function(){o.player.removeClass("vjs-has-autoplay")})),o.player.ready((function(){var t=o.player.options_;"webtorrent"===n.mode&&(o.player.webtorrent().on("resolutionChange",(function(t,e){return o.handleResolutionChange(e)})),o.player.webtorrent().on("autoResolutionChange",(function(t,e){return o.trigger("autoResolutionChange",e)}))),"p2p-media-loader"===n.mode&&o.player.p2pMediaLoader().on("resolutionChange",(function(t,e){return o.handleResolutionChange(e)})),o.player.tech_.on("loadedqualitydata",(function(){setTimeout((function(){o.lastResolutionChange&&o.handleResolutionChange(o.lastResolutionChange)}),0)}));var e=Object(ao.f)();void 0!==e&&o.player.volume(e);var i=void 0!==t.muted?t.muted:Object(ao.c)();if(void 0!==i&&o.player.muted(i),o.defaultSubtitle=n.subtitle||Object(ao.b)(),o.player.on("volumechange",(function(){Object(ao.k)(o.player.volume()),Object(ao.i)(o.player.muted())})),n.stopTime){var l=Object(Be.i)(n.stopTime),r=o;o.player.on("timeupdate",(function t(){r.player.currentTime()>l&&(r.player.pause(),r.player.trigger("stopped"),r.player.off("timeupdate",t))}))}o.player.textTracks().on("change",(function(){var t=o.player.textTracks().tracks_.find((function(t){return"captions"===t.kind&&"showing"===t.mode}));t?Object(ao.h)(t.language):Object(ao.h)("off")})),o.player.on("sourcechange",(function(){return o.initCaptions()})),o.player.duration(n.videoDuration),o.initializePlayer(),o.runViewAdd(),n.userWatching&&o.runUserWatchVideo(n.userWatching)})),o}return __extends(e,t),e.prototype.dispose=function(){this.videoViewInterval&&clearInterval(this.videoViewInterval),this.userWatchingVideoInterval&&clearInterval(this.userWatchingVideoInterval)},e.prototype.onMenuOpen=function(){this.menuOpened=!1,this.alterInactivity()},e.prototype.onMenuClosed=function(){this.menuOpened=!0,this.alterInactivity()},e.prototype.initializePlayer=function(){Object(Be.f)()&&this.player.addClass("vjs-is-mobile"),this.initSmoothProgressBar(),this.initCaptions(),this.listenControlBarMouse()},e.prototype.runViewAdd=function(){var t=this;this.clearVideoViewInterval();var e=30;this.videoDuration<e&&(e=3*this.videoDuration/4);var n=0;this.videoViewInterval=setInterval((function(){t.player&&!t.player.paused()&&(n+=1)>e&&(t.clearVideoViewInterval(),t.addViewToVideo().catch((function(t){return console.error(t)})))}),1e3)},e.prototype.runUserWatchVideo=function(t){var e=this,n=0;this.userWatchingVideoInterval=setInterval((function(){var o=Math.floor(e.player.currentTime());o-n>=1&&(n=o,e.notifyUserIsWatching(o,t.url,t.authorizationHeader).catch((function(t){return console.error("Cannot notify user is watching.",t)})))}),this.CONSTANTS.USER_WATCHING_VIDEO_INTERVAL)},e.prototype.clearVideoViewInterval=function(){void 0!==this.videoViewInterval&&(clearInterval(this.videoViewInterval),this.videoViewInterval=void 0)},e.prototype.addViewToVideo=function(){return this.videoViewUrl?fetch(this.videoViewUrl,{method:"POST"}):Promise.resolve(void 0)},e.prototype.notifyUserIsWatching=function(t,e,n){var o=new URLSearchParams;o.append("currentTime",t.toString());var i=new Headers({Authorization:n});return fetch(e,{method:"PUT",body:o,headers:i})},e.prototype.handleResolutionChange=function(t){this.lastResolutionChange=t;for(var e=this.player.qualityLevels(),n=0;n<e.length;n++)if(e[n].height===t.resolutionId){t.id=e[n].id;break}this.trigger("resolutionChange",t)},e.prototype.listenControlBarMouse=function(){var t=this;this.player.controlBar.on("mouseenter",(function(){t.mouseInControlBar=!0,t.alterInactivity()})),this.player.controlBar.on("mouseleave",(function(){t.mouseInControlBar=!1,t.alterInactivity()}))},e.prototype.alterInactivity=function(){this.player.options_.inactivityTimeout=this.menuOpened||this.mouseInControlBar?this.savedInactivityTimeout:1},e.prototype.initCaptions=function(){for(var t=0,e=this.videoCaptions;t<e.length;t++){var n=e[t];this.player.addRemoteTextTrack({kind:"captions",label:n.label,language:n.language,id:n.language,src:n.src,default:this.defaultSubtitle===n.language},!1)}this.player.trigger("captionsChanged")},e.prototype.initSmoothProgressBar=function(){var t=Zn.getComponent("SeekBar");t.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},t.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e),this.update()}},e}(so));var uo=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.createEl=function(){var t=Zn.dom.createEl("button",{className:"vjs-next-video"}),e=Zn.dom.createEl("span",{className:"icon icon-next"});return t.appendChild(e),t.title=this.player_.localize("Next video"),t},e.prototype.handleClick=function(){this.options_.handler()},e}(Zn.getComponent("Button"));uo.prototype.controlText_="Next video",uo.registerComponent("NextVideoButton",uo);var co=Zn.getComponent("Button");co.registerComponent("PeerTubeLinkButton",function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e.prototype.createEl=function(){return this.buildElement()},e.prototype.updateHref=function(){this.el().setAttribute("href",Object(Be.b)({startTime:this.player().currentTime()}))},e.prototype.handleClick=function(){this.player_.pause()},e.prototype.buildElement=function(){var t=this,e=Zn.dom.createEl("a",{href:Object(Be.b)(),innerHTML:"BitTube",title:this.player_.localize("Go to the video page"),className:"vjs-peertube-link",target:"_blank"});return e.addEventListener("mouseenter",(function(){return t.updateHref()})),e},e}(co));var ho=Zn.getComponent("MenuItem"),po=function(t){function e(e,n){var o=this;return n.selectable=!0,(o=t.call(this,e,n)||this).autoResolutionPossible=!0,o.currentResolutionLabel="",o.label=n.label,o.labels=n.labels,o.id=n.id,o.callback=n.callback,e.peertube().on("resolutionChange",(function(t,e){return o.updateSelection(e)})),-1===o.id&&e.peertube().on("autoResolutionChange",(function(t,e){return o.updateAutoResolution(e)})),o}return __extends(e,t),e.prototype.handleClick=function(e){!1===this.autoResolutionPossible&&-1===this.id||(t.prototype.handleClick.call(this,e),this.callback(this.id,"video"))},e.prototype.updateSelection=function(t){-1===this.id&&(this.currentResolutionLabel=this.labels[t.id]),this.selected(!0!==t.auto?this.id===t.id:-1===this.id)},e.prototype.updateAutoResolution=function(t){!1===t.possible?this.addClass("disabled"):this.removeClass("disabled"),this.autoResolutionPossible=t.possible},e.prototype.getLabel=function(){return-1===this.id?this.label+" <small>"+this.currentResolutionLabel+"</small>":this.label},e}(ho);ho.registerComponent("ResolutionMenuItem",po);var fo=Zn.getComponent("Menu"),go=Zn.getComponent("MenuButton"),vo=function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).player=e,e.tech_.on("loadedqualitydata",(function(t,e){return o.buildQualities(e)})),e.peertube().on("resolutionChange",(function(){return setTimeout((function(){return o.trigger("updateLabel")}),0)})),o}return __extends(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=Zn.dom.createEl("div",{className:"vjs-resolution-value"}),e.appendChild(this.labelEl_),e},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-label","Quality")},e.prototype.createMenu=function(){return new fo(this.player_)},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-resolution-button"},e.prototype.buildWrapperCSSClass=function(){return"vjs-resolution-control "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.addClickListener=function(t){var e=this;t.on("click",(function(){for(var n=0,o=e.menu.children();n<o.length;n++){var i=o[n];t!==i&&i.selected(!1)}}))},e.prototype.buildQualities=function(t){var e={};t.qualityData.video.sort((function(t,e){return t.id>e.id?-1:t.id===e.id?0:1}));for(var n=0,o=t.qualityData.video;n<o.length;n++){var i=o[n];if(-1!==i.id){var l="0p"===i.label?this.player.localize("Audio-only"):i.label;this.menu.addChild(new po(this.player_,{id:i.id,label:l,selected:i.selected,callback:t.qualitySwitchCallback})),e[i.id]=i.label}}this.menu.addChild(new po(this.player_,{id:-1,label:this.player_.localize("Auto"),labels:e,callback:t.qualitySwitchCallback,selected:!0}));for(var r=0,a=this.menu.children();r<a.length;r++){var s=a[r];this.addClickListener(s)}this.trigger("menuChanged")},e}(go);vo.prototype.controlText_="Quality",go.registerComponent("ResolutionMenuButton",vo);var mo=Zn.getComponent("Button");mo.registerComponent("P2PInfoButton",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createEl=function(){var t=this,e=Zn.dom.createEl("div",{className:"vjs-peertube"}),n=Zn.dom.createEl("div",{className:"vjs-peertube-hidden"});e.appendChild(n);var o=Zn.dom.createEl("span",{className:"icon icon-download"});n.appendChild(o);var i=Zn.dom.createEl("span",{className:"download-speed-text"}),l=Zn.dom.createEl("span",{className:"download-speed-number"}),r=Zn.dom.createEl("span");i.appendChild(l),i.appendChild(r),n.appendChild(i);var a=Zn.dom.createEl("span",{className:"icon icon-upload"});n.appendChild(a);var s=Zn.dom.createEl("span",{className:"upload-speed-text"}),u=Zn.dom.createEl("span",{className:"upload-speed-number"}),c=Zn.dom.createEl("span");s.appendChild(u),s.appendChild(c),n.appendChild(s);var d=Zn.dom.createEl("span",{className:"peers-text"}),h=Zn.dom.createEl("span",{className:"peers-number"});n.appendChild(h),n.appendChild(d);var p=Zn.dom.createEl("div",{className:"vjs-peertube-hidden"}),f=Zn.dom.createEl("span",{className:"http-fallback",textContent:"HTTP"});return p.appendChild(f),e.appendChild(p),this.player_.on("p2pInfo",(function(e,o){if(!o)return p.className="vjs-peertube-displayed",void(n.className="vjs-peertube-hidden");var i=o.p2p,a=o.http,s=Object(Be.c)(i.downloadSpeed+a.downloadSpeed),f=Object(Be.c)(i.uploadSpeed+a.uploadSpeed),g=Object(Be.c)(i.downloaded+a.downloaded),v=Object(Be.c)(i.uploaded+a.uploaded),m=i.numPeers;n.title=t.player_.localize("Total downloaded: ")+g.join(" ")+"\n"+t.player_.localize("Total uploaded: "+v.join(" ")),l.textContent=s[0],r.textContent=" "+s[1],u.textContent=f[0],c.textContent=" "+f[1],h.textContent=m,d.textContent=" "+t.player_.localize(m>1?"peers":"peer"),p.className="vjs-peertube-hidden",n.className="vjs-peertube-displayed"})),e},e}(mo));var yo=Zn.getComponent("Component");yo.registerComponent("PeerTubeLoadProgressBar",function(t){function e(e,n){var o=this;return(o=t.call(this,e,n)||this).partEls_=[],o.on(e,"progress",o.update),o}return __extends(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(){var t=this.player().webtorrent().getTorrent();t&&(this.el_.style.width=100*t.progress+"%")},e}(yo));var _o,bo=Zn.getComponent("Button"),Co=((_o=function(t){function e(n,o){var i=t.call(this,n,o)||this,l=Object(ao.e)();return!0===l&&(i.player_.addClass(e.THEATER_MODE_CLASS),i.handleTheaterChange()),i.player_.theaterEnabled=l,i}return __extends(e,t),e.prototype.buildCSSClass=function(){return"vjs-theater-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleTheaterChange=function(){var t=this.isTheaterEnabled();this.controlText(t?"Normal mode":"Theater mode"),Object(ao.j)(t),this.player_.trigger("theaterChange",t)},e.prototype.handleClick=function(){this.player_.toggleClass(e.THEATER_MODE_CLASS),this.handleTheaterChange()},e.prototype.isTheaterEnabled=function(){return this.player_.hasClass(e.THEATER_MODE_CLASS)},e}(bo)).THEATER_MODE_CLASS="vjs-theater-enabled",_o);Co.prototype.controlText_="Theater mode",Co.registerComponent("TheaterButton",Co);var ko=n("OQMk"),To=n("nKAH");function Po(t){return function(e){return t.buildUrl(e.url)}}var wo,Oo=function(){function t(t){void 0===t&&(t=[]),this.baseUrls=t}return t.prototype.removeBySegmentUrl=function(t){console.log("Removing redundancy of segment URL %s.",t);var e=Object(To.dirname)(t);this.baseUrls=this.baseUrls.filter((function(t){return t!==e&&t!==e+"/"}))},t.prototype.buildUrl=function(t){var e=this.baseUrls.length+1,n=this.getRandomInt(e);if(n===e-1)return t;var o=this.baseUrls[n],i=o.endsWith("/")?"":"/";return o+i+Object(To.basename)(t)},t.prototype.countBaseUrls=function(){return this.baseUrls.length},t.prototype.getRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))},t}(),Mo=((wo=function(){function t(){}return t.getServerTranslations=function(e,n){var o=t.getLocalePath(e,n);return o?fetch(o+"/server.json").then((function(t){return t.json()})).catch((function(t){console.error("Cannot get server translations",t)})):Promise.resolve(void 0)},t.loadLocaleInVideoJS=function(e,n,o){var i,l=t.getLocalePath(e,n);if(!l)return Promise.resolve(void 0);i=t.videojsLocaleCache[l]?Promise.resolve(t.videojsLocaleCache[l]):fetch(l+"/player.json").then((function(t){return t.json()})).then((function(e){return t.videojsLocaleCache[l]=e,e})).catch((function(t){console.error("Cannot get player translations",t)}));var r=Object(nt.q)(n);return i.then((function(t){return o.addLanguage(Object(nt.r)(r),t)}))},t.getLocalePath=function(t,e){var n=Object(nt.q)(e);if(Object(nt.t)(n)&&!Object(nt.u)(n))return t+"/client/locales/"+n},t}()).videojsLocaleCache={},wo);Zn.getComponent("PlaybackRateMenuButton").prototype.controlText_="Speed",Zn.getComponent("CaptionsButton").prototype.controlText_="Subtitles/CC",Zn.getComponent("CaptionsButton").prototype.label_=" ";var Eo,xo=function(){function t(){}return t.initialize=function(t,e,o){return Object(ft.a)(this,void 0,void 0,(function(){var i,l,r,a;return __generator(this,(function(s){switch(s.label){case 0:return this.onPlayerChange=o,this.playerElementClassName=e.common.playerElement.className,"webtorrent"===t?[4,Promise.all([n.e(1),n.e(3),n.e(0),n.e(5)]).then(n.bind(null,"ewd/"))]:[3,2];case 1:s.sent(),s.label=2;case 2:return"p2p-media-loader"===t?[4,Promise.all([Promise.all([n.e(1),n.e(3),n.e(7)]).then(n.t.bind(null,"tlK4",7)),Promise.all([n.e(1),n.e(3),n.e(7),n.e(23)]).then(n.bind(null,"izw0"))])]:[3,4];case 3:a=s.sent(),i=a[0],a,s.label=4;case 4:return l=this.getVideojsOptions(t,e,i),[4,Mo.loadLocaleInVideoJS(e.common.serverUrl,e.common.language,_n)];case 5:return s.sent(),r=this,[2,new Promise((function(n){_n(e.common.playerElement,l,(function(){var o=this,i=!1;return o.tech_.one("error",(function(){i||r.maybeFallbackToWebTorrent(t,o,e),i=!0})),o.one("error",(function(){i||r.maybeFallbackToWebTorrent(t,o,e),i=!0})),r.addContextMenu(t,o,e.common.embedUrl),o.bezels(),n(o)}))}))]}}))}))},t.maybeFallbackToWebTorrent=function(e,o,i){return Object(ft.a)(this,void 0,void 0,(function(){var l,r,a,s;return __generator(this,(function(u){switch(u.label){case 0:return"webtorrent"===e?[2]:(console.log("Fallback to webtorrent."),(l=document.createElement("video")).className=this.playerElementClassName,(r=i.common.playerElement.parentNode)||(r=document.getElementById(i.common.playerElement.id).parentNode),r.parentNode.insertBefore(l,r),i.common.playerElement=l,i.common.onPlayerElementChange(l),o.dispose(),[4,Promise.all([n.e(1),n.e(3),n.e(0),n.e(5)]).then(n.bind(null,"ewd/"))]);case 1:return u.sent(),a=this.getVideojsOptions("webtorrent",i),s=this,_n(l,a,(function(){s.addContextMenu("webtorrent",this,i.common.embedUrl),t.onPlayerChange(this)})),[2]}}))}))},t.getVideojsOptions=function(e,n,o){var i=n.common,l=i.autoplay,r={},a={peertube:{mode:e,autoplay:l,videoViewUrl:i.videoViewUrl,videoDuration:i.videoDuration,userWatching:i.userWatching,subtitle:i.subtitle,videoCaptions:i.videoCaptions,stopTime:i.stopTime}};(!0===i.enableHotkeys&&t.addHotkeysOptions(a),"p2p-media-loader"===e)&&(r=t.addP2PMediaLoaderOptions(a,n,o).streamrootHls.html5);"webtorrent"===e&&(t.addWebTorrentOptions(a,n),l=!1);var s={html5:r,textTrackSettings:!1,controls:void 0===i.controls||i.controls,loop:void 0!==i.loop&&i.loop,muted:void 0!==i.muted?i.muted:void 0,autoplay:!0===l?"any":l,poster:i.poster,inactivityTimeout:i.inactivityTimeout,playbackRates:[.5,.75,1,1.25,1.5,2],plugins:a,controlBar:{children:this.getControlBarChildren(e,{captions:i.captions,peertubeLink:i.peertubeLink,theaterButton:i.theaterButton,nextVideo:i.nextVideo})}};return i.language&&!Object(ko.g)(i.language)&&Object.assign(s,{language:i.language}),s},t.addP2PMediaLoaderOptions=function(t,e,n){var o=e.p2pMediaLoader,i=e.common,l=o.trackerAnnounce.filter((function(t){return t.startsWith("ws")})),r=new Oo(e.p2pMediaLoader.redundancyBaseUrls),a={redundancyUrlManager:r,type:"application/x-mpegURL",startTime:i.startTime,src:o.playlistUrl},s=!1;navigator&&navigator.connection&&"cellular"===navigator.connection.type&&(console.log("We are on a cellular connection: disabling seeding."),s=!0);var u,c,d,h={loader:{trackerAnnounce:l,segmentValidator:(u=e.p2pMediaLoader.segmentsSha256Url,c=fetch(u).then((function(t){return t.json()})).catch((function(t){return console.error("Cannot get sha256 segments",t),{}})),d=/bytes=(\d+)-(\d+)/,function(t){return Object(ft.a)(this,void 0,void 0,(function(){var e,n,o,i,l,r,a;return __generator(this,(function(s){switch(s.label){case 0:return e=Object(To.basename)(t.url),n=d.exec(t.range),o=n[1]+"-"+n[2],[4,c];case 1:if(void 0===(i=s.sent()[e][o]))throw new Error("Unknown segment name "+e+"/"+o+" in segment validator");return r=function(t){if(!t)return"";var e="",n="0123456789abcdef";return new Uint8Array(t).forEach((function(t){return e+=n[t>>4]+n[15&t]})),e},[4,(a=t.data,a?window.crypto.subtle.digest("SHA-256",a):void 0)];case 2:if((l=r.apply(void 0,[s.sent()]))!==i)throw new Error("Hashes does not correspond for segment "+e+"/"+o+"(expected: "+i+" instead of "+l+")");return[2]}}))}))}),rtcConfig:Object(Be.e)(),requiredSegmentsPriority:5,segmentUrlBuilder:Po(r),useP2P:Object(ao.d)(),consumeOnly:s},segments:{swarmId:o.playlistUrl}},p={p2pMediaLoader:a,streamrootHls:{levelLabelHandler:function(t){var e=o.videoFiles.find((function(e){return e.resolution.id===t.height})),n=e.resolution.label;return e.fps>=50&&(n+=e.fps),n},html5:{hlsjsConfig:{capLevelToPlayerSize:!0,autoStartLoad:!1,liveSyncDurationCount:7,loader:new n.Engine(h).createLoaderClass()}}}};return Object.assign(t,p),p},t.addWebTorrentOptions=function(t,e){var n=e.common;Object.assign(t,{webtorrent:{autoplay:n.autoplay,videoDuration:n.videoDuration,playerElement:n.playerElement,videoFiles:e.webtorrent.videoFiles,startTime:n.startTime}})},t.getControlBarChildren=function(t,e){var n,o=[],i="webtorrent"===t?"peerTubeLoadProgressBar":"loadProgressBar";o.push("playbackRateMenuButton"),!0===e.captions&&o.push("captionsButton"),o.push("resolutionMenuButton");var l={playToggle:{}};return e.nextVideo&&Object.assign(l,{nextVideoButton:{handler:e.nextVideo}}),Object.assign(l,{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},liveDisplay:{},flexibleWidthSpacer:{},progressControl:{children:{seekBar:{children:(n={},n[i]={},n.mouseTimeDisplay={},n.playProgressBar={},n)}}},p2PInfoButton:{},muteToggle:{},volumeControl:{},settingsButton:{setup:{maxHeightOffset:40},entries:o}}),!0===e.peertubeLink&&Object.assign(l,{peerTubeLinkButton:{}}),!0===e.theaterButton&&Object.assign(l,{theaterButton:{}}),Object.assign(l,{fullscreenToggle:{}}),l},t.addContextMenu=function(t,e,n){var o=[{label:e.localize("Copy the video URL"),listener:function(){Object(Be.d)(Object(Be.b)())}},{label:e.localize("Copy the video URL at the current time"),listener:function(){Object(Be.d)(Object(Be.b)({startTime:this.currentTime()}))}},{label:e.localize("Copy embed code"),listener:function(){Object(Be.d)(Object(Be.a)(n))}}];"webtorrent"===t&&o.push({label:e.localize("Copy magnet URI"),listener:function(){Object(Be.d)(this.webtorrent().getCurrentVideoFile().magnetUri)}}),e.contextmenuUI({content:o})},t.addHotkeysOptions=function(t){Object.assign(t,{hotkeys:{enableVolumeScroll:!1,enableModifiersForNumbers:!1,fullscreenKey:function(t){return"f"===t.key||t.ctrlKey&&"Enter"===t.key},seekStep:function(t){return t.ctrlKey&&t.altKey?300:t.ctrlKey?60:t.altKey?10:5},customKeys:{increasePlaybackRateKey:{key:function(t){return">"===t.key},handler:function(t){t.playbackRate((t.playbackRate()+.1).toFixed(2))}},decreasePlaybackRateKey:{key:function(t){return"<"===t.key},handler:function(t){t.playbackRate((t.playbackRate()-.1).toFixed(2))}},frameByFrame:{key:function(t){return"."===t.key},handler:function(t){t.pause(),t.currentTime(t.currentTime()+1/30)}}}}})},t}(),So=((Eo=function(){function t(t,e,n,o,i,l,r,a,s,u,c,d,h,p,f,g,v,m,y,_,b){this.elementRef=t,this.changeDetector=e,this.route=n,this.router=o,this.videoService=i,this.playlistService=l,this.confirmService=r,this.metaService=a,this.authService=s,this.serverService=u,this.restExtractor=c,this.notifier=d,this.markdownService=h,this.zone=p,this.redirectService=f,this.videoCaptionService=g,this.i18n=v,this.hotkeysService=m,this.hooks=y,this.location=_,this.localeId=b,this.theaterEnabled=!1,this.userRating=null,this.descriptionLoading=!1,this.video=null,this.videoCaptions=[],this.playlist=null,this.completeDescriptionShown=!1,this.videoHTMLDescription="",this.likesBarTooltipText="",this.hasAlreadyAcceptedPrivacyConcern=!1,this.remoteServerDown=!1,this.hotkeys=[],this.tooltipLike="",this.tooltipDislike="",this.tooltipSupport="",this.tooltipSaveToPlaylist="",this.nextVideoUuid="",this.nextVideoTitle="",this.tooltipLike=this.i18n("Like this video"),this.tooltipDislike=this.i18n("Dislike this video"),this.tooltipSupport=this.i18n("Support options for this video"),this.tooltipSaveToPlaylist=this.i18n("Save to playlist")}return Object.defineProperty(t.prototype,"user",{get:function(){return this.authService.getUser()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){return Object(ft.a)(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(n){return this.serverConfig=this.serverService.getTmpConfig(),this.configSub=this.serverService.getConfig().subscribe((function(n){e.serverConfig=n,(Object(Be.g)()||!1===e.serverConfig.tracker.enabled||!1===Object(ao.d)()||"true"===fe.a.getItem(t.LOCAL_STORAGE_PRIVACY_CONCERN_KEY))&&(e.hasAlreadyAcceptedPrivacyConcern=!0)})),this.paramsSub=this.route.params.subscribe((function(t){var n=t.videoId;n&&e.loadVideo(n);var o=t.playlistId;o&&e.loadPlaylist(o)})),this.queryParamsSub=this.route.queryParams.subscribe((function(t){return Object(ft.a)(e,void 0,void 0,(function(){var e,n;return __generator(this,(function(o){return(e=t.videoId)&&this.loadVideo(e),n=t.start,this.player&&n&&this.player.currentTime(parseInt(n,10)),[2]}))}))})),this.initHotkeys(),this.theaterEnabled=Object(ao.e)(),this.hooks.runAction("action:video-watch.init","video-watch"),[2]}))}))},t.prototype.ngOnDestroy=function(){this.flushPlayer(),this.paramsSub&&this.paramsSub.unsubscribe(),this.queryParamsSub&&this.queryParamsSub.unsubscribe(),this.hotkeysService.remove(this.hotkeys)},t.prototype.setLike=function(){!1!==this.isUserLoggedIn()&&this.setRating("like"===this.userRating?"none":"like")},t.prototype.setDislike=function(){!1!==this.isUserLoggedIn()&&this.setRating("dislike"===this.userRating?"none":"dislike")},t.prototype.getRatePopoverText=function(){if(!this.isUserLoggedIn())return this.i18n("You need to be connected to rate this content.")},t.prototype.showMoreDescription=function(){if(void 0===this.completeVideoDescription)return this.loadCompleteDescription();this.updateVideoDescription(this.completeVideoDescription),this.completeDescriptionShown=!0},t.prototype.showLessDescription=function(){this.updateVideoDescription(this.shortVideoDescription),this.completeDescriptionShown=!1},t.prototype.loadCompleteDescription=function(){var t=this;this.descriptionLoading=!0,this.videoService.loadCompleteDescription(this.video.descriptionPath).subscribe((function(e){t.completeDescriptionShown=!0,t.descriptionLoading=!1,t.shortVideoDescription=t.video.description,t.completeVideoDescription=e,t.updateVideoDescription(t.completeVideoDescription)}),(function(e){t.descriptionLoading=!1,t.notifier.error(e.message)}))},t.prototype.showSupportModal=function(){this.pausePlayer(),this.videoSupportModal.show()},t.prototype.showShareModal=function(){this.pausePlayer(),this.videoShareModal.show(this.currentTime)},t.prototype.isUserLoggedIn=function(){return this.authService.isLoggedIn()},t.prototype.getVideoTags=function(){return this.video&&!1!==Array.isArray(this.video.tags)?this.video.tags:[]},t.prototype.onRecommendations=function(t){if(t.length>0){var e=t[0];this.nextVideoUuid=e.uuid,this.nextVideoTitle=e.name}},t.prototype.onModalOpened=function(){this.pausePlayer()},t.prototype.onVideoRemoved=function(){this.redirectService.redirectToHomepage()},t.prototype.acceptedPrivacyConcern=function(){fe.a.setItem(t.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"true"),this.hasAlreadyAcceptedPrivacyConcern=!0},t.prototype.isVideoToTranscode=function(){return this.video&&this.video.state.id===yn.l.TO_TRANSCODE},t.prototype.isVideoToImport=function(){return this.video&&this.video.state.id===yn.l.TO_IMPORT},t.prototype.hasVideoScheduledPublication=function(){return this.video&&void 0!==this.video.scheduledUpdate},t.prototype.isVideoBlur=function(t){return t.isVideoNSFWForUser(this.user,this.serverConfig)},t.prototype.isAutoPlayEnabled=function(){return this.user&&this.user.autoPlayNextVideo||"true"===fe.b.getItem(ge.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)},t.prototype.handleTimestampClicked=function(t){this.player&&this.player.currentTime(t),Object(Q.m)()},t.prototype.isPlaylistAutoPlayEnabled=function(){return this.user&&this.user.autoPlayNextVideoPlaylist||"true"===fe.b.getItem(an.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST)},t.prototype.loadVideo=function(t){var e=this;if(!this.video||this.video.uuid!==t){this.player&&this.player.pause();var n=this.hooks.wrapObsFun(this.videoService.getVideo.bind(this.videoService),{videoId:t},"video-watch","filter:api.video-watch.video.get.params","filter:api.video-watch.video.get.result");Object(vn.a)([n,this.videoCaptionService.listCaptions(t)]).pipe(Object(tt.a)((function(t){return e.restExtractor.redirectTo404IfNotFound(t,[400,401,403,404])}))).subscribe((function(t){var n=t[0],o=t[1],i=e.route.snapshot.queryParams;e.onVideoFetched(n,o.data,{startTime:i.start,stopTime:i.stop,muted:i.muted,loop:i.loop,subtitle:i.subtitle,playerMode:i.mode,peertubeLink:!1}).catch((function(t){return e.handleError(t)}))}))}},t.prototype.loadPlaylist=function(t){var e=this;this.playlist&&this.playlist.uuid===t||this.playlistService.getVideoPlaylist(t).pipe(Object(tt.a)((function(t){return e.restExtractor.redirectTo404IfNotFound(t,[400,401,403,404])}))).subscribe((function(t){e.playlist=t,e.videoWatchPlaylist.loadPlaylistElements(t,!e.route.snapshot.queryParams.videoId)}))},t.prototype.updateVideoDescription=function(t){this.video.description=t,this.setVideoDescriptionHTML().catch((function(t){return console.error(t)}))},t.prototype.setVideoDescriptionHTML=function(){return Object(ft.a)(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:return[4,this.markdownService.textMarkdownToHTML(this.video.description)];case 1:return t=n.sent(),e=this,[4,this.markdownService.processVideoTimestamps(t)];case 2:return e.videoHTMLDescription=n.sent(),[2]}}))}))},t.prototype.setVideoLikesBarTooltipText=function(){this.likesBarTooltipText=this.i18n("{{likesNumber}} likes / {{dislikesNumber}} dislikes",{likesNumber:this.video.likes,dislikesNumber:this.video.dislikes})},t.prototype.handleError=function(t){var e="string"==typeof t?t:t.message;if(e)return-1!==e.indexOf("from xs param")?(this.flushPlayer(),this.remoteServerDown=!0,void this.changeDetector.detectChanges()):void this.notifier.error(e)},t.prototype.checkUserRating=function(){var t=this;!1!==this.isUserLoggedIn()&&this.videoService.getUserVideoRating(this.video.id).subscribe((function(e){e&&(t.userRating=e.rating)}),(function(e){return t.notifier.error(e.message)}))},t.prototype.onVideoFetched=function(t,e,n){return Object(ft.a)(this,void 0,void 0,(function(){var o,i,l,r,a,s,u,c=this;return __generator(this,(function(d){switch(d.label){case 0:return this.video=t,this.videoCaptions=e,this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.remoteServerDown=!1,this.currentTime=void 0,this.videoWatchPlaylist.updatePlaylistIndex(t),(o=this.isVideoBlur(this.video))?(i=!1,[4,this.confirmService.confirm(this.i18n("This video contains mature or explicit content. Are you sure you want to watch it?"),this.i18n("Mature or explicit content"))]):[3,2];case 1:o=i===d.sent(),d.label=2;case 2:return o?[2,this.location.back()]:(this.flushPlayer(),l=this.elementRef.nativeElement.querySelector("#videojs-wrapper"),this.playerElement=document.createElement("video"),this.playerElement.className="video-js vjs-peertube-skin",this.playerElement.setAttribute("playsinline","true"),l.appendChild(this.playerElement),r={video:this.video,videoCaptions:e,urlOptions:n,user:this.user},[4,this.hooks.wrapFun(this.buildPlayerManagerOptions.bind(this),r,"video-watch","filter:internal.video-watch.player.build-options.params","filter:internal.video-watch.player.build-options.result")]);case 3:return a=d.sent(),s=a.playerMode,u=a.playerOptions,this.zone.runOutsideAngular((function(){return Object(ft.a)(c,void 0,void 0,(function(){var t,e=this;return __generator(this,(function(n){switch(n.label){case 0:return t=this,[4,xo.initialize(s,u,(function(t){return e.player=t}))];case 1:return t.player=n.sent(),this.player.focus(),this.player.on("customError",(function(t){var n=t.err;return e.handleError(n)})),this.player.on("timeupdate",(function(){e.currentTime=Math.floor(e.player.currentTime())})),this.player.upnext({timeout:1e4,headText:this.i18n("Up Next"),cancelText:this.i18n("Cancel"),suspendedText:this.i18n("Autoplay is suspended"),getTitle:function(){return e.nextVideoTitle},next:function(){return e.zone.run((function(){return e.autoplayNext()}))},condition:function(){if(e.playlist)e.isPlaylistAutoPlayEnabled()&&e.zone.run((function(){return e.videoWatchPlaylist.navigateToNextPlaylistVideo()}));else if(e.isAutoPlayEnabled())return!0;return!1},suspended:function(){return!Object(Q.g)(e.player.el(),80)||!document.getElementById("content").contains(document.activeElement)}}),this.player.one("stopped",(function(){e.playlist&&e.isPlaylistAutoPlayEnabled()&&e.zone.run((function(){return e.videoWatchPlaylist.navigateToNextPlaylistVideo()}))})),this.player.on("theaterChange",(function(t,n){e.zone.run((function(){return e.theaterEnabled=n}))})),this.hooks.runAction("action:video-watch.player.loaded","video-watch",{player:this.player}),[2]}}))}))})),this.setVideoDescriptionHTML(),this.setVideoLikesBarTooltipText(),this.setOpenGraphTags(),this.checkUserRating(),this.hooks.runAction("action:video-watch.video.loaded","video-watch",{videojs:_n}),[2]}}))}))},t.prototype.autoplayNext=function(){this.nextVideoUuid&&this.router.navigate(["/videos/watch",this.nextVideoUuid])},t.prototype.setRating=function(t){var e=this;({like:this.videoService.setVideoLike,dislike:this.videoService.setVideoDislike,none:this.videoService.unsetVideoLike})[t].call(this.videoService,this.video.id).subscribe((function(){e.updateVideoRating(e.userRating,t),e.userRating=t}),(function(t){return e.notifier.error(t.message)}))},t.prototype.updateVideoRating=function(t,e){var n=0,o=0;t&&("like"===t&&n--,"dislike"===t&&o--),"like"===e&&n++,"dislike"===e&&o++,this.video.likes+=n,this.video.dislikes+=o,this.video.buildLikeAndDislikePercents(),this.setVideoLikesBarTooltipText()},t.prototype.setOpenGraphTags=function(){this.metaService.setTitle(this.video.name),this.metaService.setTag("og:type","video"),this.metaService.setTag("og:title",this.video.name),this.metaService.setTag("name",this.video.name),this.metaService.setTag("og:description",this.video.description),this.metaService.setTag("description",this.video.description),this.metaService.setTag("og:image",this.video.previewPath),this.metaService.setTag("og:duration",this.video.duration.toString()),this.metaService.setTag("og:site_name","PeerTube"),this.metaService.setTag("og:url",window.location.href),this.metaService.setTag("url",window.location.href)},t.prototype.isAutoplay=function(){return!(this.route.snapshot.params.threadId||this.user&&!1===this.user.autoPlayVideo)},t.prototype.flushPlayer=function(){if(this.player)try{this.player.dispose(),this.player=void 0}catch(t){console.error("Cannot dispose player.",t)}},t.prototype.buildPlayerManagerOptions=function(t){var e,n=this,o=t.video,i=t.videoCaptions,l=t.urlOptions,r=t.user,a=(e=o.userHistory&&(!n.playlist||void 0!==l.resume),void 0!==l.startTime?Object(Be.i)(l.startTime):e?o.userHistory.currentTime:0);o.duration-a<=1&&(a=0);var s,u=i.map((function(t){return{label:t.language.label,language:t.language.id,src:ot.a.apiUrl+t.captionPath}})),c={common:{autoplay:this.isAutoplay(),nextVideo:function(){return n.zone.run((function(){return n.autoplayNext()}))},playerElement:this.playerElement,onPlayerElementChange:function(t){return n.playerElement=t},videoDuration:o.duration,enableHotkeys:!0,inactivityTimeout:2500,poster:o.previewUrl,startTime:a,stopTime:l.stopTime,controls:l.controls,muted:l.muted,loop:l.loop,subtitle:l.subtitle,peertubeLink:l.peertubeLink,theaterButton:!0,captions:0!==i.length,videoViewUrl:o.privacy.id!==yn.j.PRIVATE?this.videoService.getVideoViewUrl(o.uuid):null,embedUrl:o.embedUrl,language:this.localeId,userWatching:r&&!0===r.videosHistoryEnabled?{url:this.videoService.getUserWatchingVideoUrl(o.uuid),authorizationHeader:this.authService.getRequestHeaderValue()}:void 0,serverUrl:ot.a.apiUrl,videoCaptions:u},webtorrent:{videoFiles:o.files}};if("p2p-media-loader"==(s=l.playerMode?"p2p-media-loader"===l.playerMode?"p2p-media-loader":"webtorrent":o.hasHlsPlaylist()?"p2p-media-loader":"webtorrent")){var d=o.getHlsPlaylist(),h={playlistUrl:d.playlistUrl,segmentsSha256Url:d.segmentsSha256Url,redundancyBaseUrls:d.redundancies.map((function(t){return t.baseUrl})),trackerAnnounce:o.trackerUrls,videoFiles:d.files};Object.assign(c,{p2pMediaLoader:h})}return{playerMode:s,playerOptions:c}},t.prototype.pausePlayer=function(){this.player&&this.player.pause()},t.prototype.initHotkeys=function(){var t=this;this.hotkeys=[new mn.Hotkey("f",(function(t){return t}),void 0,this.i18n("Enter/exit fullscreen (requires player focus)")),new mn.Hotkey("space",(function(t){return t}),void 0,this.i18n("Play/Pause the video (requires player focus)")),new mn.Hotkey("m",(function(t){return t}),void 0,this.i18n("Mute/unmute the video (requires player focus)")),new mn.Hotkey("0-9",(function(t){return t}),void 0,this.i18n("Skip to a percentage of the video: 0 is 0% and 9 is 90% (requires player focus)")),new mn.Hotkey("up",(function(t){return t}),void 0,this.i18n("Increase the volume (requires player focus)")),new mn.Hotkey("down",(function(t){return t}),void 0,this.i18n("Decrease the volume (requires player focus)")),new mn.Hotkey("right",(function(t){return t}),void 0,this.i18n("Seek the video forward (requires player focus)")),new mn.Hotkey("left",(function(t){return t}),void 0,this.i18n("Seek the video backward (requires player focus)")),new mn.Hotkey(">",(function(t){return t}),void 0,this.i18n("Increase playback rate (requires player focus)")),new mn.Hotkey("<",(function(t){return t}),void 0,this.i18n("Decrease playback rate (requires player focus)")),new mn.Hotkey(".",(function(t){return t}),void 0,this.i18n("Navigate in the video frame by frame (requires player focus)"))],this.isUserLoggedIn()&&(this.hotkeys=this.hotkeys.concat([new mn.Hotkey("shift+l",(function(){return t.setLike(),!1}),void 0,this.i18n("Like the video")),new mn.Hotkey("shift+d",(function(){return t.setDislike(),!1}),void 0,this.i18n("Dislike the video")),new mn.Hotkey("shift+s",(function(){return t.subscribeButton.subscribed?t.subscribeButton.unsubscribe():t.subscribeButton.subscribe(),!1}),void 0,this.i18n("Subscribe to the account"))])),this.hotkeysService.add(this.hotkeys)},t}()).LOCAL_STORAGE_PRIVACY_CONCERN_KEY="video-watch-privacy-concern",Eo),Io=n("Phsq"),Ao=n("Huiz"),Ro=n("cKMx"),No=n("oVTH"),jo=o["\u0275crt"]({encapsulation:0,styles:[['.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{width:100%}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]     .video-js{height:calc(100vh - 50px - 115px);width:100%;max-width:initial}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}.blacklisted-label[_ngcontent-%COMP%]{font-weight:600}#video-wrapper[_ngcontent-%COMP%]{background-color:#000;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin:0 -15px}#video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:1;flex-grow:1}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{color:#fff;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;text-align:center;-webkit-box-pack:center;justify-content:center;background-color:#141313;width:100%;font-size:24px;height:500px}@media screen and (max-width:1000px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:20px}}#video-wrapper[_ngcontent-%COMP%]     .video-js{width:100%;max-width:calc(66vh * 1.7);height:66vh}#video-wrapper[_ngcontent-%COMP%]     .video-js video{outline:0;position:relative!important}.alert[_ngcontent-%COMP%]{text-align:center;border-radius:0}.flex-direction-column[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#video-not-found[_ngcontent-%COMP%]{height:300px;line-height:300px;margin-top:50px;text-align:center;font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:40px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:1px;max-width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{margin-right:30px;min-height:40px;font-size:27px;font-weight:600;-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-first-row-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{align-self:start;margin-bottom:10px;margin-right:10px;font-size:1em}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:18px;height:18px;min-width:18px;min-height:18px;margin:-2px 5px 0 0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;line-height:1.37}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){font-weight:500;font-size:90%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-left:5px;margin-top:1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin:0 0 10px auto;-webkit-box-align:start;align-items:start;width:-webkit-max-content;width:-moz-max-content;width:max-content}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{height:40px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button{border:none;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 10px;cursor:pointer;outline:0;font-size:100%;font-weight:600;display:inline-block;white-space:nowrap;background-color:transparent!important;color:var(--actionButtonColor);text-transform:uppercase}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button my-global-icon{position:relative;width:21px;margin-right:0;top:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[fill="#000000"]{fill:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[stroke="#000000"]{stroke:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg stop[stop-color="#000000"]{stop-color:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button::after{display:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like{-webkit-filter:brightness(120%);filter:brightness(120%)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like .count{margin-right:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated .count{color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[fill="#000000"]{fill:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[stroke="#000000"]{stroke:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated .count{color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[fill="#000000"]{fill:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[stroke="#000000"]{stroke:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support{color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[fill="#000000"]{fill:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[stroke="#000000"]{stroke:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg stop[stop-color="#000000"]{stop-color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   path:first-child{fill:var(--supportButtonHeartColor)!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-save my-global-icon{top:0!important;right:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button .icon-text{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-outer-container[_ngcontent-%COMP%]{position:relative}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-inner-container[_ngcontent-%COMP%]{position:absolute;height:20px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]{height:2px;margin-top:-2px;width:120px;background-color:#ccc;position:relative;top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar[_ngcontent-%COMP%]{height:100%;background-color:#909090}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar.liked[_ngcontent-%COMP%]{background-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin:20px 0 20px 44px;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]     a{text-decoration:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{display:inline-block}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:#585858;font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:relative;top:2px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]{margin-left:44px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   .video-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:#585858;font-weight:700}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute.video-attribute-tags[_ngcontent-%COMP%]   .video-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2))::before{content:\', \'}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:15px;min-width:238px}@media screen and (min-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos{width:-webkit-min-content;width:-moz-min-content;width:min-content}}.video-bottom[_ngcontent-%COMP%]     .other-videos .title-page{margin:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos .video-miniature{display:-webkit-box;display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:100%;margin-bottom:20px;flex-wrap:wrap}@media screen and (max-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:1rem}}@media screen and (max-width:500px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:0;margin-top:.5rem}}my-video-comments[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}.privacy-concerns[_ngcontent-%COMP%]{width:calc(100% - 240px);position:fixed;bottom:0;padding:5px 15px;display:-webkit-box;display:flex;flex-wrap:nowrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;background-color:rgba(0,0,0,.9);color:#fff}@media screen and (max-width:800px){.privacy-concerns[_ngcontent-%COMP%]{margin-left:225px}}.expanded[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{width:100%;margin-left:-15px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0 5px}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor);-webkit-transition:color .3s;transition:color .3s}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]{background-color:var(--mainColor);padding:5px 8px 5px 7px;margin-left:auto;border-radius:3px;cursor:pointer;-webkit-transition:background-color .3s;transition:background-color .3s;font-weight:600}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]:hover{background-color:#000}@media screen and (max-width:1600px){.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{margin-bottom:5px}}@media screen and (max-width:1300px){.privacy-concerns[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:1100px){#video-wrapper[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}.video-bottom[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos   .video-miniature{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;width:auto}}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:16px}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]     .video-js{width:100vw;height:calc(100vw / 1.7)}.video-bottom[_ngcontent-%COMP%]{margin:20px 0 0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{padding:0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:20px;height:auto}  .other-videos .video-miniature{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.privacy-concerns[_ngcontent-%COMP%]{width:100%}.privacy-concerns[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:450px){.video-bottom[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin-top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{font-size:14px!important}}']],data:{}});function Do(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[["class","remote-server-down"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Sorry, but this video is not available because the remote instance is not responding. "])),(t()(),o["\u0275eld"](2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Please try again later. "]))],null,null)}function Lo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","col-md-12 alert alert-warning"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["The video is being imported, it will be available when the import is finished."]))],null,null)}function Vo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"div",[["class","col-md-12 alert alert-warning"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["The video is being transcoded, it may not work properly."]))],null,null)}function Bo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-12 alert alert-info"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["This video will be published on ",". "])),o["\u0275ppd"](2,2)],null,(function(t,e){var n=e.component,i=o["\u0275unv"](e,1,0,t(e,2,0,o["\u0275nov"](e.parent,0),n.video.scheduledUpdate.updateAt,"full"));t(e,1,0,i)}))}function Fo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[["class","col-md-12 alert alert-danger"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"div",[["class","blacklisted-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Bideo hau zerrenda beltzean dago."])),(t()(),o["\u0275ted"](3,null,[" "," "]))],null,(function(t,e){t(e,3,0,e.component.video.blacklistedReason)}))}function Uo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.video.likes)}))}function Ho(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.video.dislikes)}))}function zo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,16777216,null,null,5,"div",[["class","action-button action-button-support"],["placement","bottom auto"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.showSupportModal()&&o),o}),null,null)),o["\u0275did"](1,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](2,0,null,null,1,"my-global-icon",[["iconName","support"]],null,null,null,s.b,s.a)),o["\u0275did"](3,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](4,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Babestu"])),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){t(e,1,0,"bottom auto",e.component.tooltipSupport),t(e,3,0,"support")}),null)}function Ko(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,16777216,null,null,17,"div",[["autoClose","outside"],["class","action-dropdown"],["ngbDropdown",""],["placement","bottom auto"],["role","button"]],[[2,"show",null]],[[null,"openChange"]],(function(t,e,n){var i=!0;return"openChange"===e&&(i=!1!==o["\u0275nov"](t,17).openChange(n)&&i),i}),null,null)),o["\u0275did"](1,1720320,null,3,r.s,[o.ChangeDetectorRef,r.u,a.DOCUMENT,o.NgZone,o.ElementRef,o.Renderer2,[2,r.qb]],{autoClose:[0,"autoClose"],placement:[1,"placement"]},{openChange:"openChange"}),o["\u0275qud"](603979776,5,{_menu:0}),o["\u0275qud"](603979776,6,{_menuElement:0}),o["\u0275qud"](603979776,7,{_anchor:0}),o["\u0275did"](5,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{autoClose:[0,"autoClose"],placement:[1,"placement"],ngbTooltip:[2,"ngbTooltip"]},null),(t()(),o["\u0275eld"](6,0,null,null,6,"div",[["aria-haspopup","true"],["class","action-button action-button-save dropdown-toggle"],["ngbDropdownToggle",""],["role","button"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,7).dropdown.toggle()&&i),"keydown.ArrowUp"===e&&(i=!1!==o["\u0275nov"](t,7).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==o["\u0275nov"](t,7).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==o["\u0275nov"](t,7).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==o["\u0275nov"](t,7).dropdown.onKeyDown(n)&&i),i}),null,null)),o["\u0275did"](7,16384,null,0,r.y,[r.s,o.ElementRef],null,null),o["\u0275prd"](2048,[[7,4]],r.t,null,[r.y]),(t()(),o["\u0275eld"](9,0,null,null,1,"my-global-icon",[["iconName","playlist-add"]],null,null,null,s.b,s.a)),o["\u0275did"](10,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](11,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Gorde"])),(t()(),o["\u0275eld"](13,0,[[6,0]],null,4,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(t,e,n){var i=!0;return"keydown.ArrowUp"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),"keydown.Enter"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),"keydown.Space"===e&&(i=!1!==o["\u0275nov"](t,14).dropdown.onKeyDown(n)&&i),i}),null,null)),o["\u0275did"](14,16384,[[5,4]],1,r.w,[r.s],null,null),o["\u0275qud"](603979776,8,{menuItems:1}),(t()(),o["\u0275eld"](16,0,null,null,1,"my-video-add-to-playlist",[],null,null,null,d.b,d.a)),o["\u0275did"](17,770048,[["addContent",4]],0,h.a,[p.a,f.a,g.a,v.a,m.a,y.a,o.ChangeDetectorRef],{video:[0,"video"]},null),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,"outside","bottom auto"),t(e,5,0,"outside","bottom auto",n.tooltipSaveToPlaylist),t(e,10,0,"playlist-add"),t(e,17,0,n.video)}),(function(t,e){t(e,0,0,o["\u0275nov"](e,1).isOpen()),t(e,6,0,o["\u0275nov"](e,7).dropdown.isOpen()),t(e,13,0,!0,o["\u0275nov"](e,14).dropdown.isOpen(),o["\u0275nov"](e,14).placement)}))}function $o(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,16777216,null,null,9,"div",[["class","video-info-likes-dislikes-bar-inner-container"],["placement","bottom"]],null,null,null,null,null)),o["\u0275did"](1,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](2,0,null,null,7,"div",[["class","video-info-likes-dislikes-bar"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,6,"div",[["class","likes-bar"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](5,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](6,{liked:0}),o["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[o.ElementRef,o.KeyValueDiffers,o.Renderer2]),o["\u0275did"](8,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),o["\u0275pod"](9,{"width.%":0}),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,"bottom",n.likesBarTooltipText);var o=t(e,6,0,"none"!==n.userRating);t(e,5,0,"likes-bar",o);var i=t(e,9,0,n.video.likesPercent);t(e,8,0,i)}),null)}function qo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,16777216,null,null,5,"div",[["class","video-info-likes-dislikes-bar"],["placement","bottom"]],null,null,null,null,null)),o["\u0275did"](1,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](2,0,null,null,3,"div",[["class","likes-bar"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[o.ElementRef,o.KeyValueDiffers,o.Renderer2]),o["\u0275did"](4,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),o["\u0275pod"](5,{"width.%":0}),(t()(),o["\u0275and"](0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,"bottom",n.likesBarTooltipText);var o=t(e,5,0,n.video.likesPercent);t(e,4,0,o)}),null)}function Wo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null))],null,null)}function Go(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,6,"div",[["class","video-info-description-more"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.showMoreDescription()&&o),o}),null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Erakutsi gehiago"])),(t()(),o["\u0275and"](16777216,null,null,1,null,Wo)),o["\u0275did"](4,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](5,0,null,null,1,"my-small-loader",[["class","description-loading"]],null,null,null,_.b,_.a)),o["\u0275did"](6,49152,null,0,b.a,[],{loading:[0,"loading"]},null)],(function(t,e){var n=e.component;t(e,4,0,!1===n.descriptionLoading),t(e,6,0,n.descriptionLoading)}),null)}function Xo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-up"]],null,null,null,null,null))],null,null)}function Yo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[["class","video-info-description-more"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.showLessDescription()&&o),o}),null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Erakutsi gutxiago"])),(t()(),o["\u0275and"](16777216,null,null,1,null,Xo)),o["\u0275did"](4,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,4,0,!1===e.component.descriptionLoading)}),null)}function Qo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Originally published"])),(t()(),o["\u0275eld"](3,0,null,null,2,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](4,null,["",""])),o["\u0275ppd"](5,2)],null,(function(t,e){var n=e.component,i=o["\u0275unv"](e,4,0,t(e,5,0,o["\u0275nov"](e.parent.parent,0),n.video.originallyPublishedAt,"dd MMMM yyyy"));t(e,4,0,i)}))}function Jo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.video.category.label)}))}function Zo(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),o["\u0275pad"](2,1),o["\u0275pod"](3,{categoryOneOf:0}),o["\u0275pad"](4,1),(t()(),o["\u0275ted"](5,null,["",""]))],(function(t,e){var n=t(e,3,0,t(e,2,0,e.component.video.category.id)),o=t(e,4,0,"/search");t(e,1,0,n,o)}),(function(t,e){var n=e.component;t(e,0,0,o["\u0275nov"](e,1).target,o["\u0275nov"](e,1).href),t(e,5,0,n.video.category.label)}))}function ti(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.video.licence.label)}))}function ei(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),o["\u0275pad"](2,1),o["\u0275pod"](3,{licenceOneOf:0}),o["\u0275pad"](4,1),(t()(),o["\u0275ted"](5,null,["",""]))],(function(t,e){var n=t(e,3,0,t(e,2,0,e.component.video.licence.id)),o=t(e,4,0,"/search");t(e,1,0,n,o)}),(function(t,e){var n=e.component;t(e,0,0,o["\u0275nov"](e,1).target,o["\u0275nov"](e,1).href),t(e,5,0,n.video.licence.label)}))}function ni(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.video.language.label)}))}function oi(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),o["\u0275pad"](2,1),o["\u0275pod"](3,{languageOneOf:0}),o["\u0275pad"](4,1),(t()(),o["\u0275ted"](5,null,["",""]))],(function(t,e){var n=t(e,3,0,t(e,2,0,e.component.video.language.id)),o=t(e,4,0,"/search");t(e,1,0,n,o)}),(function(t,e){var n=e.component;t(e,0,0,o["\u0275nov"](e,1).target,o["\u0275nov"](e,1).href),t(e,5,0,n.video.language.label)}))}function ii(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),o["\u0275pad"](2,1),o["\u0275pod"](3,{tagsOneOf:0}),o["\u0275pad"](4,1),(t()(),o["\u0275ted"](5,null,["",""]))],(function(t,e){var n=t(e,3,0,t(e,2,0,e.context.$implicit)),o=t(e,4,0,"/search");t(e,1,0,n,o)}),(function(t,e){t(e,0,0,o["\u0275nov"](e,1).target,o["\u0275nov"](e,1).href),t(e,5,0,e.context.$implicit)}))}function li(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,136,"div",[["class","margin-content video-bottom"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,132,"div",[["class","video-info"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,82,"div",[["class","video-info-first-row"]],null,null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,81,"div",[],null,null,null,null,null)),(t()(),o["\u0275eld"](4,0,null,null,11,"div",[["class","d-block d-md-none"]],null,null,null,null,null)),(t()(),o["\u0275eld"](5,0,null,null,1,"h1",[["class","video-info-name"]],null,null,null,null,null)),(t()(),o["\u0275ted"](6,null,["",""])),(t()(),o["\u0275eld"](7,0,null,null,8,"div",[["class","video-info-date-views"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Published "])),(t()(),o["\u0275eld"](9,0,null,null,3,"my-date-toggle",[],null,null,null,k.b,k.a)),o["\u0275prd"](512,null,a.DatePipe,a.DatePipe,[o.LOCALE_ID]),o["\u0275prd"](512,null,T.a,T.a,[v.a]),o["\u0275did"](12,638976,null,0,P.a,[a.DatePipe,T.a],{date:[0,"date"]},null),(t()(),o["\u0275eld"](13,0,null,null,2,"span",[["class","views"]],null,null,null,null,null)),(t()(),o["\u0275ted"](14,null,[" \u2022 "," views"])),o["\u0275ppd"](15,1),(t()(),o["\u0275eld"](16,0,null,null,51,"div",[["class","d-flex justify-content-between flex-direction-column"]],null,null,null,null,null)),(t()(),o["\u0275eld"](17,0,null,null,2,"div",[["class","d-none d-md-block"]],null,null,null,null,null)),(t()(),o["\u0275eld"](18,0,null,null,1,"h1",[["class","video-info-name"]],null,null,null,null,null)),(t()(),o["\u0275ted"](19,null,["",""])),(t()(),o["\u0275eld"](20,0,null,null,47,"div",[["class","video-info-first-row-bottom"]],null,null,null,null,null)),(t()(),o["\u0275eld"](21,0,null,null,8,"div",[["class","d-none d-md-block video-info-date-views"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" Published "])),(t()(),o["\u0275eld"](23,0,null,null,3,"my-date-toggle",[],null,null,null,k.b,k.a)),o["\u0275prd"](512,null,a.DatePipe,a.DatePipe,[o.LOCALE_ID]),o["\u0275prd"](512,null,T.a,T.a,[v.a]),o["\u0275did"](26,638976,null,0,P.a,[a.DatePipe,T.a],{date:[0,"date"]},null),(t()(),o["\u0275eld"](27,0,null,null,2,"span",[["class","views"]],null,null,null,null,null)),(t()(),o["\u0275ted"](28,null,[" \u2022 "," views"])),o["\u0275ppd"](29,1),(t()(),o["\u0275eld"](30,0,null,null,35,"div",[["class","video-actions-rates"]],null,null,null,null,null)),(t()(),o["\u0275eld"](31,0,null,null,31,"div",[["class","video-actions fullWidth justify-content-end"]],null,null,null,null,null)),(t()(),o["\u0275eld"](32,16777216,null,null,9,"div",[["class","action-button action-button-like"],["placement","bottom auto"],["role","button"]],[[1,"aria-pressed",0]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.setLike()&&o),o}),null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](34,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](35,{activated:0}),o["\u0275did"](36,737280,null,0,r.L,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.M,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{ngbPopover:[0,"ngbPopover"],placement:[1,"placement"]},null),o["\u0275did"](37,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](38,0,null,null,1,"my-global-icon",[["iconName","like"]],null,null,null,s.b,s.a)),o["\u0275did"](39,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Uo)),o["\u0275did"](41,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](42,16777216,null,null,9,"div",[["class","action-button action-button-dislike"],["placement","bottom auto"],["role","button"]],[[1,"aria-pressed",0]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.setDislike()&&o),o}),null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](44,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](45,{activated:0}),o["\u0275did"](46,737280,null,0,r.L,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.M,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{ngbPopover:[0,"ngbPopover"],placement:[1,"placement"]},null),o["\u0275did"](47,212992,null,0,r.ib,[o.ElementRef,o.Renderer2,o.Injector,o.ComponentFactoryResolver,o.ViewContainerRef,r.jb,o.NgZone,a.DOCUMENT,o.ChangeDetectorRef,o.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),o["\u0275eld"](48,0,null,null,1,"my-global-icon",[["iconName","dislike"]],null,null,null,s.b,s.a)),o["\u0275did"](49,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Ho)),o["\u0275did"](51,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,zo)),o["\u0275did"](53,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](54,0,null,null,4,"div",[["class","action-button"],["role","button"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.showShareModal()&&o),o}),null,null)),(t()(),o["\u0275eld"](55,0,null,null,1,"my-global-icon",[["iconName","share"]],null,null,null,s.b,s.a)),o["\u0275did"](56,114688,null,0,u.a,[o.ElementRef,c.a],{iconName:[0,"iconName"]},null),(t()(),o["\u0275eld"](57,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Partekatu"])),(t()(),o["\u0275and"](16777216,null,null,1,null,Ko)),o["\u0275did"](60,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](61,0,null,null,1,"my-video-actions-dropdown",[["buttonDirection","horizontal"],["placement","bottom auto"]],null,[[null,"videoRemoved"],[null,"modalOpened"]],(function(t,e,n){var o=!0,i=t.component;return"videoRemoved"===e&&(o=!1!==i.onVideoRemoved()&&o),"modalOpened"===e&&(o=!1!==i.onModalOpened()&&o),o}),w.b,w.a)),o["\u0275did"](62,573440,null,0,O.a,[f.a,g.a,M.a,E.a,x.a,S.a,I.a,A.a,R.a,v.a],{video:[0,"video"],videoCaptions:[1,"videoCaptions"],placement:[2,"placement"],buttonStyled:[3,"buttonStyled"],buttonDirection:[4,"buttonDirection"]},{videoRemoved:"videoRemoved",modalOpened:"modalOpened"}),(t()(),o["\u0275eld"](63,0,null,null,2,"div",[["class","video-info-likes-dislikes-bar-outer-container"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,$o)),o["\u0275did"](65,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,qo)),o["\u0275did"](67,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](68,0,null,null,16,"div",[["class","pt-3 border-top video-info-channel d-flex"]],null,null,null,null,null)),(t()(),o["\u0275eld"](69,0,null,null,12,"div",[["class","video-info-channel-left d-flex"]],null,null,null,null,null)),(t()(),o["\u0275eld"](70,0,null,null,1,"avatar-channel",[],null,null,null,D,j)),o["\u0275did"](71,49152,null,0,N,[],{video:[0,"video"]},null),(t()(),o["\u0275eld"](72,0,null,null,9,"div",[["class","video-info-channel-left-links ml-1"]],null,null,null,null,null)),(t()(),o["\u0275eld"](73,0,null,null,3,"a",[["title","Joan kanalaren orrira"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,74).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](74,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pad"](75,2),(t()(),o["\u0275ted"](76,null,[" "," "])),(t()(),o["\u0275eld"](77,0,null,null,4,"a",[["title","Joan kontuaren orrira"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==o["\u0275nov"](t,78).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),o["\u0275did"](78,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),o["\u0275pad"](79,2),(t()(),o["\u0275eld"](80,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o["\u0275ted"](81,null,["Nork ",""])),(t()(),o["\u0275eld"](82,0,null,null,2,"my-subscribe-button",[["size","small"]],null,null,null,L.b,L.a)),o["\u0275did"](83,638976,[[4,4],["subscribeButton",4]],0,V.a,[f.a,C.p,g.a,B.a,v.a,I.a],{videoChannels:[0,"videoChannels"],size:[1,"size"]},null),o["\u0275pad"](84,1),(t()(),o["\u0275eld"](85,0,null,null,6,"div",[["class","video-info-description"]],null,null,null,null,null)),(t()(),o["\u0275eld"](86,0,null,null,1,"div",[["class","video-info-description-html"],["timestampRouteTransformer",""]],[[8,"innerHTML",1]],[[null,"timestampClicked"],[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==o["\u0275nov"](t,87).onClick(n)&&i),"timestampClicked"===e&&(i=!1!==l.handleTimestampClicked(n)&&i),i}),null,null)),o["\u0275did"](87,16384,null,0,F,[],null,{timestampClicked:"timestampClicked"}),(t()(),o["\u0275and"](16777216,null,null,1,null,Go)),o["\u0275did"](89,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Yo)),o["\u0275did"](91,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](92,0,null,null,39,"div",[["class","video-attributes mb-3"]],null,null,null,null,null)),(t()(),o["\u0275eld"](93,0,null,null,4,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](94,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Pribatutasuna"])),(t()(),o["\u0275eld"](96,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](97,null,["",""])),(t()(),o["\u0275and"](16777216,null,null,1,null,Qo)),o["\u0275did"](99,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](100,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](101,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Kategoria"])),(t()(),o["\u0275and"](16777216,null,null,1,null,Jo)),o["\u0275did"](104,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Zo)),o["\u0275did"](106,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](107,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](108,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Lizentzia"])),(t()(),o["\u0275and"](16777216,null,null,1,null,ti)),o["\u0275did"](111,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,ei)),o["\u0275did"](113,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](114,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](115,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Hizkuntza"])),(t()(),o["\u0275and"](16777216,null,null,1,null,ni)),o["\u0275did"](118,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,oi)),o["\u0275did"](120,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](121,0,null,null,4,"div",[["class","video-attribute video-attribute-tags"]],null,null,null,null,null)),(t()(),o["\u0275eld"](122,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Etiketak"])),(t()(),o["\u0275and"](16777216,null,null,1,null,ii)),o["\u0275did"](125,278528,null,0,a.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),o["\u0275eld"](126,0,null,null,5,"div",[["class","video-attribute"]],null,null,null,null,null)),(t()(),o["\u0275eld"](127,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Iraupena"])),(t()(),o["\u0275eld"](129,0,null,null,2,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(t()(),o["\u0275ted"](130,null,["",""])),o["\u0275ppd"](131,1),(t()(),o["\u0275eld"](132,0,null,null,1,"my-video-comments",[["class","border-top"]],null,[[null,"timestampClicked"]],(function(t,e,n){var o=!0;return"timestampClicked"===e&&(o=!1!==t.component.handleTimestampClicked(n)&&o),o}),oe,Bt)),o["\u0275did"](133,770048,null,0,Vt,[f.a,g.a,M.a,lt,C.a,v.a,c.a],{video:[0,"video"],user:[1,"user"]},{timestampClicked:"timestampClicked"}),(t()(),o["\u0275eld"](134,0,null,null,2,"my-recommended-videos",[],null,[[null,"gotRecommendations"]],(function(t,e,n){var o=!0;return"gotRecommendations"===e&&(o=!1!==t.component.onRecommendations(n)&&o),o}),Ce,ve)),o["\u0275did"](135,573440,null,0,ge,[z.a,f.a,g.a,v.a,pe],{inputRecommendation:[0,"inputRecommendation"],user:[1,"user"],playlist:[2,"playlist"]},{gotRecommendations:"gotRecommendations"}),o["\u0275pod"](136,{uuid:0,tags:1})],(function(t,e){var n=e.component;t(e,12,0,n.video.publishedAt),t(e,26,0,n.video.publishedAt);var o=t(e,35,0,"like"===n.userRating);t(e,34,0,"action-button action-button-like",o),t(e,36,0,n.getRatePopoverText(),"bottom auto"),t(e,37,0,"bottom auto",n.tooltipLike),t(e,39,0,"like"),t(e,41,0,n.video.likes);var i=t(e,45,0,"dislike"===n.userRating);t(e,44,0,"action-button action-button-dislike",i),t(e,46,0,n.getRatePopoverText(),"bottom auto"),t(e,47,0,"bottom auto",n.tooltipDislike),t(e,49,0,"dislike"),t(e,51,0,n.video.dislikes),t(e,53,0,n.video.support),t(e,56,0,"share"),t(e,60,0,n.isUserLoggedIn()),t(e,62,0,n.video,n.videoCaptions,"bottom auto",!0,"horizontal"),t(e,65,0,0!==n.video.likes||0!==n.video.dislikes),t(e,67,0,0!==n.video.likes||0!==n.video.dislikes),t(e,71,0,n.video);var l=t(e,75,0,"/video-channels",n.video.byVideoChannel);t(e,74,0,l);var r=t(e,79,0,"/accounts",n.video.byAccount);t(e,78,0,r);var a=t(e,84,0,n.video.channel);t(e,83,0,a,"small"),t(e,89,0,!1===n.completeDescriptionShown&&(null==n.video.description?null:n.video.description.length)>=250),t(e,91,0,!0===n.completeDescriptionShown),t(e,99,0,!!n.video.originallyPublishedAt),t(e,104,0,!n.video.category.id),t(e,106,0,n.video.category.id),t(e,111,0,!n.video.licence.id),t(e,113,0,n.video.licence.id),t(e,118,0,!n.video.language.id),t(e,120,0,n.video.language.id),t(e,125,0,n.getVideoTags()),t(e,133,0,n.video,n.user);var s=t(e,136,0,n.video.uuid,n.video.tags);t(e,135,0,s,n.user,n.playlist)}),(function(t,e){var n=e.component;t(e,6,0,n.video.name);var i=o["\u0275unv"](e,14,0,t(e,15,0,o["\u0275nov"](e.parent,1),n.video.views));t(e,14,0,i),t(e,19,0,n.video.name);var l=o["\u0275unv"](e,28,0,t(e,29,0,o["\u0275nov"](e.parent,1),n.video.views));t(e,28,0,l),t(e,32,0,"like"===n.userRating),t(e,42,0,"dislike"===n.userRating),t(e,73,0,o["\u0275nov"](e,74).target,o["\u0275nov"](e,74).href),t(e,76,0,n.video.channel.displayName),t(e,77,0,o["\u0275nov"](e,78).target,o["\u0275nov"](e,78).href),t(e,81,0,n.video.byAccount),t(e,86,0,n.videoHTMLDescription),t(e,97,0,n.video.privacy.label);var r=o["\u0275unv"](e,130,0,t(e,131,0,o["\u0275nov"](e.parent,2),n.video.duration));t(e,130,0,r)}))}function ri(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,9,"div",[["class","row privacy-concerns"]],null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,6,"div",[["class","privacy-concerns-text"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Oroigarria: "])),(t()(),o["\u0275eld"](4,0,null,null,1,null,null,null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" bideo hau partekatzeko erabilitako sistema dela eta zure sistemaren datu tekniko batzuk berdinei bidaliko da (IP helbide publikoa esaterako). "])),(t()(),o["\u0275eld"](6,0,null,null,1,"a",[["href","/about/peertube"],["rel","noopener noreferrer"],["target","_blank"],["title","Lortu informazio gehiago"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,["Informazio gehiago"])),(t()(),o["\u0275eld"](8,0,null,null,1,"div",[["class","privacy-concerns-okay"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.acceptedPrivacyConcern()&&o),o}),null,null)),(t()(),o["\u0275ted"](-1,null,[" Ados "]))],null,null)}function ai(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"my-video-support",[],null,null,null,we,Te)),o["\u0275did"](2,49152,[[3,4],["videoSupportModal",4]],0,ke,[_t.a,r.A],{video:[0,"video"]},null),(t()(),o["\u0275eld"](3,0,null,null,1,"my-video-share",[],null,null,null,tn,Ue)),o["\u0275did"](4,49152,[[2,4],["videoShareModal",4]],0,Fe,[r.A],{video:[0,"video"],videoCaptions:[1,"videoCaptions"],playlist:[2,"playlist"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.video),t(e,4,0,n.video,n.videoCaptions,n.playlist)}),null)}function si(t){return o["\u0275vid"](0,[o["\u0275pid"](0,a.DatePipe,[o.LOCALE_ID]),o["\u0275pid"](0,nn.a,[]),o["\u0275pid"](0,on,[]),o["\u0275qud"](402653184,1,{videoWatchPlaylist:0}),o["\u0275qud"](671088640,2,{videoShareModal:0}),o["\u0275qud"](671088640,3,{videoSupportModal:0}),o["\u0275qud"](671088640,4,{subscribeButton:0}),(t()(),o["\u0275eld"](7,0,null,null,22,"div",[["class","root"]],null,null,null,null,null)),o["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](9,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o["\u0275pod"](10,{"theater-enabled":0}),(t()(),o["\u0275eld"](11,0,null,null,5,"div",[["id","video-wrapper"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Do)),o["\u0275did"](13,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](14,0,null,null,0,"div",[["id","videojs-wrapper"]],null,null,null,null,null)),(t()(),o["\u0275eld"](15,0,null,null,1,"my-video-watch-playlist",[["class","playlist"]],null,null,null,fn,sn)),o["\u0275did"](16,49152,[[1,4],["videoWatchPlaylist",4]],0,an,[z.a,f.a,g.a,v.a,m.a,C.p],{video:[0,"video"],playlist:[1,"playlist"]},null),(t()(),o["\u0275eld"](17,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,Lo)),o["\u0275did"](19,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Vo)),o["\u0275did"](21,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Bo)),o["\u0275did"](23,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,Fo)),o["\u0275did"](25,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,li)),o["\u0275did"](27,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,ri)),o["\u0275did"](29,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275and"](16777216,null,null,1,null,ai)),o["\u0275did"](31,16384,null,0,a.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,o=t(e,10,0,n.theaterEnabled);t(e,9,0,"root",o),t(e,13,0,n.remoteServerDown),t(e,16,0,n.video,n.playlist),t(e,19,0,n.isVideoToImport()),t(e,21,0,n.isVideoToTranscode()),t(e,23,0,n.hasVideoScheduledPublication()),t(e,25,0,null==n.video?null:n.video.blacklisted),t(e,27,0,n.video),t(e,29,0,!1===n.hasAlreadyAcceptedPrivacyConcern),t(e,31,0,null!==n.video)}),null)}var ui=o["\u0275ccf"]("my-video-watch",So,(function(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"my-video-watch",[],null,null,null,si,jo)),o["\u0275did"](1,245760,null,0,So,[o.ElementRef,o.ChangeDetectorRef,C.a,C.p,I.a,m.a,M.a,Io.d,f.a,x.a,Ao.a,g.a,_t.a,o.NgZone,gn.a,Ro.a,v.a,No.HotkeysService,c.a,a.PlatformLocation,o.LOCALE_ID],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),ci=n("9IV+"),di=n("nvTd"),hi=n("upD4"),pi=n("HvDw"),fi=n("wQE2"),gi=n("mTdg"),vi=n("mpCX"),mi=n("hD3C"),yi=n("F4xN"),_i=n("wpFD"),bi=n("/7bI"),Ci=n("0C+C"),ki=n("D/X6"),Ti=n("cvwr"),Pi=n("tSwB"),wi=n("RtUV"),Oi=n("W3Gj"),Mi=n("AD+P"),Ei=n("I88b"),xi=n("GvuC"),Si=n("V+Hg"),Ii=n("WZ9d"),Ai=n("M9Zh"),Ri=n("1MVc"),Ni=n("mpAo"),ji=n("c6Lk"),Di=n("LRne"),Li=n("to4i"),Vi=n("OVpf"),Bi=function(){function t(t,e){this.videos=t,this.searchService=e,this.pageSize=5}return t.prototype.getRecommendations=function(t){var e=this;return this.fetchPage(1,t).pipe(Object(Z.a)((function(n){return n.filter((function(e){return e.uuid!==t.uuid})).slice(0,e.pageSize)})))},t.prototype.fetchPage=function(t,e){var n={currentPage:t,itemsPerPage:this.pageSize+1},o=this.videos.getVideos({videoPagination:n,sort:"-createdAt"}).pipe(Object(Z.a)((function(t){return t.data})));if(!e.tags||0===e.tags.length)return o;var i={search:"",componentPagination:n,advancedSearch:new Vi.a({tagsOneOf:e.tags.join(","),sort:"-createdAt"})};return this.searchService.searchVideos(i).pipe(Object(Z.a)((function(t){return t.data})),Object(ce.a)((function(t){return t.length<=1?o:Object(Di.a)(t)})))},t}(),Fi=function(){},Ui=n("7LN8"),Hi=n("Fa87"),zi=n("oz/p"),Ki=n("VQoA"),$i=n("IP0z"),qi=n("/HVE"),Wi=n("hOhj"),Gi=n("g4HV"),Xi=n("No4M"),Yi=n("PCNd"),Qi=function(){},Ji=function(){};n.d(e,"VideoWatchModuleNgFactory",(function(){return Zi}));var Zi=o["\u0275cmf"](i,[],(function(t){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[l.a,ui,De.g,De.h,De.e,De.f]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[o.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),o["\u0275mpd"](4608,W["\u0275angular_packages_forms_forms_o"],W["\u0275angular_packages_forms_forms_o"],[]),o["\u0275mpd"](4608,W.FormBuilder,W.FormBuilder,[]),o["\u0275mpd"](4608,et.m,et.s,[a.DOCUMENT,o.PLATFORM_ID,et.q]),o["\u0275mpd"](4608,et.t,et.t,[et.m,et.r]),o["\u0275mpd"](5120,et.a,(function(t,e){return[t,new ci.a(e)]}),[et.t,o.Injector]),o["\u0275mpd"](4608,et.p,et.p,[]),o["\u0275mpd"](6144,et.n,null,[et.p]),o["\u0275mpd"](4608,et.l,et.l,[et.n]),o["\u0275mpd"](6144,et.b,null,[et.l]),o["\u0275mpd"](4608,et.g,et.o,[et.b,o.Injector]),o["\u0275mpd"](4608,et.c,et.c,[et.g]),o["\u0275mpd"](4608,r.A,r.A,[o.ComponentFactoryResolver,o.Injector,r.yb,r.B]),o["\u0275mpd"](4608,v.a,v.a,[o.TRANSLATIONS_FORMAT,o.TRANSLATIONS,o.LOCALE_ID,[2,v.b]]),o["\u0275mpd"](4608,Ao.a,Ao.a,[C.p,v.a]),o["\u0275mpd"](4608,di.a,di.a,[]),o["\u0275mpd"](4608,hi.a,hi.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,E.a,E.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,pi.a,pi.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,z.a,z.a,[et.c,Ao.a,di.a,v.a]),o["\u0275mpd"](4608,I.a,I.a,[et.c,Ao.a,di.a,x.a,v.a]),o["\u0275mpd"](4608,vt.a,vt.a,[et.c,Ao.a]),o["\u0275mpd"](4608,fi.a,fi.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,m.a,m.a,[et.c,x.a,Ao.a,di.a,o.NgZone]),o["\u0275mpd"](4608,Ro.a,Ro.a,[et.c,x.a,Ao.a]),o["\u0275mpd"](4608,gi.a,gi.a,[et.c,di.a,Ao.a,x.a]),o["\u0275mpd"](4608,B.a,B.a,[et.c,Ao.a,di.a,o.NgZone]),o["\u0275mpd"](4608,p.a,p.a,[W.FormBuilder]),o["\u0275mpd"](4608,vi.a,vi.a,[v.a]),o["\u0275mpd"](4608,mi.a,mi.a,[v.a]),o["\u0275mpd"](4608,yi.a,yi.a,[v.a]),o["\u0275mpd"](4608,q.a,q.a,[v.a]),o["\u0275mpd"](4608,y.a,y.a,[v.a]),o["\u0275mpd"](4608,_i.a,_i.a,[v.a]),o["\u0275mpd"](4608,bi.a,bi.a,[v.a]),o["\u0275mpd"](4608,rt.a,rt.a,[v.a]),o["\u0275mpd"](4608,Ci.a,Ci.a,[v.a]),o["\u0275mpd"](4608,ki.a,ki.a,[v.a]),o["\u0275mpd"](4608,Ti.a,Ti.a,[v.a]),o["\u0275mpd"](4608,Pi.a,Pi.a,[et.c,Ao.a,I.a,x.a]),o["\u0275mpd"](4608,wi.a,wi.a,[v.a]),o["\u0275mpd"](4608,Oi.a,Oi.a,[v.a]),o["\u0275mpd"](4608,Mi.a,Mi.a,[v.a]),o["\u0275mpd"](4608,A.a,A.a,[et.c,Ao.a,di.a]),o["\u0275mpd"](4608,Ei.a,Ei.a,[et.c,Ao.a,di.a,I.a]),o["\u0275mpd"](4608,xi.a,xi.a,[]),o["\u0275mpd"](4608,Si.a,Si.a,[xi.a]),o["\u0275mpd"](4608,_t.a,_t.a,[Si.a]),o["\u0275mpd"](4608,Ii.a,Ii.a,[et.c,di.a,Ao.a,_t.a,x.a]),o["\u0275mpd"](4608,Ai.a,Ai.a,[v.a]),o["\u0275mpd"](4608,S.a,S.a,[]),o["\u0275mpd"](4608,Ri.a,Ri.a,[f.a,et.c,Ao.a,di.a,Ni.a]),o["\u0275mpd"](4608,ji.a,ji.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,R.a,R.a,[et.c,di.a,Ao.a]),o["\u0275mpd"](4608,Bi,Bi,[I.a,Li.a]),o["\u0275mpd"](4608,pe,pe,[Bi]),o["\u0275mpd"](4608,lt,lt,[et.c,Ao.a,di.a]),o["\u0275mpd"](1073742336,C.t,C.t,[[2,C.z],[2,C.p]]),o["\u0275mpd"](1073742336,Fi,Fi,[]),o["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),o["\u0275mpd"](1073742336,W["\u0275angular_packages_forms_forms_d"],W["\u0275angular_packages_forms_forms_d"],[]),o["\u0275mpd"](1073742336,W.FormsModule,W.FormsModule,[]),o["\u0275mpd"](1073742336,W.ReactiveFormsModule,W.ReactiveFormsModule,[]),o["\u0275mpd"](1073742336,et.e,et.e,[]),o["\u0275mpd"](1073742336,et.d,et.d,[]),o["\u0275mpd"](1073742336,r.x,r.x,[]),o["\u0275mpd"](1073742336,r.C,r.C,[]),o["\u0275mpd"](1073742336,r.N,r.N,[]),o["\u0275mpd"](1073742336,r.Z,r.Z,[]),o["\u0275mpd"](1073742336,r.kb,r.kb,[]),o["\u0275mpd"](1073742336,r.m,r.m,[]),o["\u0275mpd"](1073742336,Oe.b,Oe.b,[]),o["\u0275mpd"](1073742336,Ui.SharedModule,Ui.SharedModule,[]),o["\u0275mpd"](1073742336,Hi.InputTextModule,Hi.InputTextModule,[]),o["\u0275mpd"](1073742336,zi.InputMaskModule,zi.InputMaskModule,[]),o["\u0275mpd"](1073742336,Ki.b,Ki.b,[]),o["\u0275mpd"](1073742336,Ki.h,Ki.h,[]),o["\u0275mpd"](1073742336,Ki.e,Ki.e,[]),o["\u0275mpd"](1073742336,Ki.c,Ki.c,[]),o["\u0275mpd"](1073742336,Ki.f,Ki.f,[]),o["\u0275mpd"](1073742336,Ki.d,Ki.d,[]),o["\u0275mpd"](1073742336,Ki.g,Ki.g,[]),o["\u0275mpd"](1073742336,$i.a,$i.a,[]),o["\u0275mpd"](1073742336,qi.b,qi.b,[]),o["\u0275mpd"](1073742336,Wi.ScrollingModule,Wi.ScrollingModule,[]),o["\u0275mpd"](1073742336,Gi.TooltipModule,Gi.TooltipModule,[]),o["\u0275mpd"](1073742336,Xi.MultiSelectModule,Xi.MultiSelectModule,[]),o["\u0275mpd"](1073742336,Yi.a,Yi.a,[]),o["\u0275mpd"](1073742336,Qi,Qi,[]),o["\u0275mpd"](1073742336,re.InputSwitchModule,re.InputSwitchModule,[]),o["\u0275mpd"](1073742336,Ji,Ji,[]),o["\u0275mpd"](1073742336,i,i,[]),o["\u0275mpd"](1024,C.n,(function(){return[[{path:"playlist/:playlistId",component:So,canActivate:[Io.a]},{path:":videoId/comments/:commentId",redirectTo:":videoId"},{path:":videoId",component:So,canActivate:[Io.a]}]]}),[]),o["\u0275mpd"](256,o.LOCALE_ID,"eu-ES",[]),o["\u0275mpd"](256,et.q,"XSRF-TOKEN",[]),o["\u0275mpd"](256,et.r,"X-XSRF-TOKEN",[]),o["\u0275mpd"](256,o.TRANSLATIONS_FORMAT,"xlf",[])])}))},vgmO:function(t,e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n},zFeg:function(t,e,n){var o,i="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},l=n(10);"undefined"!=typeof document?o=document:(o=i["__GLOBAL_DOCUMENT_CACHE@4"])||(o=i["__GLOBAL_DOCUMENT_CACHE@4"]=l),t.exports=o}}]);