!function(){function e(){var t=on([":\u241fb56702ff10875710f111634cc315cd3ef01b206f\u241f4471487726554766784: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the comment origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return e=function(){return t},t}function t(){var e=on([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return t=function(){return e},e}function n(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return n=function(){return e},e}function r(){var e=on([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return r=function(){return e},e}function o(){var e=on([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return o=function(){return e},e}function i(){var e=on(["Comment reported."]);return i=function(){return e},e}function c(){var e=on(["Report comment"]);return c=function(){return e},e}function a(){var e=on(["Ban reason cannot be more than 250 characters long."]);return a=function(){return e},e}function u(){var e=on(["Ban reason must be at least 3 characters long."]);return u=function(){return e},e}function s(){var e=on(["You must agree with the instance terms in order to register on it."]);return s=function(){return e},e}function l(){var e=on(["Description cannot be more than 1000 characters long."]);return l=function(){return e},e}function f(){var e=on(["Description must be at least 3 characters long."]);return f=function(){return e},e}function d(){var e=on(["Display name cannot be more than 50 characters long."]);return d=function(){return e},e}function b(){var e=on(["Display name must be at least 1 character long."]);return b=function(){return e},e}function v(){var e=on(["Display name is required."]);return v=function(){return e},e}function m(){var e=on(["User role is required."]);return m=function(){return e},e}function h(){var e=on(["Daily upload limit must be greater than -1."]);return h=function(){return e},e}function p(){var e=on(["Daily upload limit is required."]);return p=function(){return e},e}function g(){var e=on(["Quota must be greater than -1."]);return g=function(){return e},e}function y(){var e=on(["Video quota is required."]);return y=function(){return e},e}function S(){var e=on(["The new password and the confirmed password do not correspond."]);return S=function(){return e},e}function O(){var e=on(["Password cannot be more than 255 characters long."]);return O=function(){return e},e}function j(){var e=on(["Password must be at least 6 characters long."]);return j=function(){return e},e}function k(){var e=on(["Password cannot be more than 255 characters long."]);return k=function(){return e},e}function A(){var e=on(["Password must be at least 6 characters long."]);return A=function(){return e},e}function x(){var e=on(["Password is required."]);return x=function(){return e},e}function C(){var e=on(["Password is required."]);return C=function(){return e},e}function E(){var e=on(["Email must be valid."]);return E=function(){return e},e}function w(){var e=on(["Email is required."]);return w=function(){return e},e}function U(){var e=on(["Channel name should be lowercase, and can contain only alphanumeric characters, dots and underscores."]);return U=function(){return e},e}function _(){var e=on(["Channel name cannot be more than 50 characters long."]);return _=function(){return e},e}function R(){var e=on(["Channel name must be at least 1 character long."]);return R=function(){return e},e}function z(){var e=on(["Channel name is required."]);return z=function(){return e},e}function I(){var e=on(["Username should be lowercase alphanumeric; dots and underscores are allowed."]);return I=function(){return e},e}function B(){var e=on(["Username cannot be more than 50 characters long."]);return B=function(){return e},e}function P(){var e=on(["Username must be at least 1 character long."]);return P=function(){return e},e}function L(){var e=on(["Username is required."]);return L=function(){return e},e}function V(){var e=on([":\u241fa5065c0f26fbd00b6f6ac0cf948535a44fffbd45\u241f6354142846188507198: Blocking this live will automatically terminate the live stream. "]);return V=function(){return e},e}function T(){var e=on([":\u241f297603f796b0d287ac02b80d5aca6156c91a8fea\u241f4710350176324657996:This will ask remote instances to delete it"]);return T=function(){return e},e}function $(){var e=on([":\u241f0cd0f27936731dabfd8d89277b781d5dd664bc89\u241f8558962068274430520:Unfederate the video"]);return $=function(){return e},e}function M(){var e=on([':\u241fcc6208fd0ded0d4a57f4c0a97c2843dc454db39a\u241f165104260887969137:Block live "',':INTERPOLATION:"']);return M=function(){return e},e}function D(){var e=on([':\u241fdbabcb47dc77c29275d0f836280ef1dcd924fdb9\u241f6819670313991605068:Block video "',':INTERPOLATION:"']);return D=function(){return e},e}function H(){var e=on([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return H=function(){return e},e}function N(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return N=function(){return e},e}function G(){var e=on([":\u241fdc3bdad5421d0ee7ddd76ae62b699d72dd9f61b4\u241f7256462927215762997:Please describe the reason..."]);return G=function(){return e},e}function W(){var e=on(["Video blocked."]);return W=function(){return e},e}function F(){var e=on(["Block reason cannot be more than 300 characters long."]);return F=function(){return e},e}function J(){var e=on(["Block reason must be at least 2 characters long."]);return J=function(){return e},e}function q(){var e=on([":\u241f35fdca47605de8113a0db7f587f7c099abec8020\u241f3616223838716839702:Ban this user"]);return q=function(){return e},e}function K(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return K=function(){return e},e}function Q(){var e=on([":\u241ff21428bd564d1cacdbc737f87a8def2e2ad42251\u241f9193838977237822053: A banned user will no longer be able to login. "]);return Q=function(){return e},e}function Y(){var e=on([":\u241fbb44873ad8d4c5dbad0ac2a6a50e0ceee9119125\u241f6325096236207614377:Reason..."]);return Y=function(){return e},e}function X(){var e=on([":\u241f6a323f80f9d90a32db8ce52cc82075938c3c36f0\u241f4209525355702493436:Ban"]);return X=function(){return e},e}function Z(){var e=on(["User "," banned."]);return Z=function(){return e},e}function ee(){var e=on([""," users banned."]);return ee=function(){return e},e}function te(){var e=on(["Instance "," muted by your instance."]);return te=function(){return e},e}function ne(){var e=on(["Instance "," muted."]);return ne=function(){return e},e}function re(){var e=on(["Instance "," unmuted by your instance."]);return re=function(){return e},e}function oe(){var e=on(["Instance "," unmuted."]);return oe=function(){return e},e}function ie(){var e=on(["Account "," unmuted by your instance."]);return ie=function(){return e},e}function ce(){var e=on(["Account "," unmuted."]);return ce=function(){return e},e}function ae(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return ae=function(){return e},e}function ue(){var e=on([':\u241f4e8635c108375983b42229df44bda8c0af84f396\u241f3516494528184217808:1 host (without "http://") per line']);return ue=function(){return e},e}function se(){var e=on([":\u241f270a185f179774aa3cee3120ed4f5650e8816b9f\u241f5618843729716980110:",":INTERPOLATION:"]);return se=function(){return e},e}function le(){var e=on(["Process domains"]);return le=function(){return e},e}function fe(){var e=on(["Domains entered contain duplicates."]);return fe=function(){return e},e}function de(){var e=on(["Domains entered are invalid."]);return de=function(){return e},e}function be(){var e=on(["Domain is required."]);return be=function(){return e},e}function ve(){var e=on([""," is not valid"]);return ve=function(){return e},e}function me(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(){var e=on([":\u241f020d5da7c3f4726e3623587a05a11f00e1d40409\u241f8271428541831612630: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the video origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return pe=function(){return e},e}function ge(){var e=on([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return ge=function(){return e},e}function ye(){var e=on([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return ye=function(){return e},e}function Se(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return Se=function(){return e},e}function Oe(){var e=on([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return Oe=function(){return e},e}function je(){var e=on([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return je=function(){return e},e}function ke(){var e=on([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return ke=function(){return e},e}function Ae(){var e=on([':\u241f448d436df053141260523149173073ccbb0259f9\u241f1831724022617001200:Report video "',':INTERPOLATION:"']);return Ae=function(){return e},e}function xe(){var e=on(["Video reported."]);return xe=function(){return e},e}function Ce(){var e=on(["The above can only be seen in captions (please describe which)."]);return Ce=function(){return e},e}function Ee(){var e=on(["Captions"]);return Ee=function(){return e},e}function we(){var e=on(["The above can only be seen in thumbnails."]);return we=function(){return e},e}function Ue(){var e=on(["Thumbnails"]);return Ue=function(){return e},e}function _e(){var e=on(["Anything not included in the above that breaks the terms of service, code of conduct, or general rules in place on the server."]);return _e=function(){return e},e}function Re(){var e=on(["Breaks server rules"]);return Re=function(){return e},e}function ze(){var e=on(["Infringes your copyright wrt. the regional laws with which the server must comply."]);return ze=function(){return e},e}function Ie(){var e=on(["Copyright"]);return Ie=function(){return e},e}function Be(){var e=on(["Contains personal information that could be used to track, identify, contact or impersonate someone (e.g. name, address, phone number, email, or credit card details)."]);return Be=function(){return e},e}function Pe(){var e=on(["Privacy breach or doxxing"]);return Pe=function(){return e},e}function Le(){var e=on(["Contains marketing, spam, purposefully deceitful news, or otherwise misleading thumbnail/text/tags. Please provide reputable sources to report hoaxes."]);return Le=function(){return e},e}function Ve(){var e=on(["Spam, ad or false news"]);return Ve=function(){return e},e}function Te(){var e=on(["Contains abusive, racist or sexist language or iconography."]);return Te=function(){return e},e}function $e(){var e=on(["Hateful or abusive"]);return $e=function(){return e},e}function Me(){var e=on(["Contains offensive, violent, or coarse language or iconography."]);return Me=function(){return e},e}function De(){var e=on(["Violent or repulsive"]);return De=function(){return e},e}function He(){var e=on([":\u241fb56702ff10875710f111634cc315cd3ef01b206f\u241f4471487726554766784: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the comment origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return He=function(){return e},e}function Ne(){var e=on([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return Ne=function(){return e},e}function Ge(){var e=on([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return Ge=function(){return e},e}function We(){var e=on([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return We=function(){return e},e}function Fe(){var e=on([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return Fe=function(){return e},e}function Je(){var e=on(["Account reported."]);return Je=function(){return e},e}function qe(){var e=on(["Report ",""]);return qe=function(){return e},e}function Ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(){var e=on(["Abuse message cannot be more than 3000 characters long."]);return et=function(){return e},e}function tt(){var e=on(["Abuse message must be at least 2 characters long."]);return tt=function(){return e},e}function nt(){var e=on(["Abuse message is required."]);return nt=function(){return e},e}function rt(){var e=on(["Moderation comment cannot be more than 3000 characters long."]);return rt=function(){return e},e}function ot(){var e=on(["Moderation comment must be at least 2 characters long."]);return ot=function(){return e},e}function it(){var e=on(["Moderation comment is required."]);return it=function(){return e},e}function ct(){var e=on(["Report reason cannot be more than 3000 characters long."]);return ct=function(){return e},e}function at(){var e=on(["Report reason must be at least 2 characters long."]);return at=function(){return e},e}function ut(){var e=on(["Report reason is required."]);return ut=function(){return e},e}function st(){var e=on(["Remove comments made by this account from your instance."]);return st=function(){return e},e}function lt(){var e=on(["Remove comments from your instance"]);return lt=function(){return e},e}function ft(){var e=on(["Show back content from that instance for you, your instance and its users."]);return ft=function(){return e},e}function dt(){var e=on(["Unmute the instance by your instance"]);return dt=function(){return e},e}function bt(){var e=on(["Hide any content from that instance from you, your instance and its users."]);return bt=function(){return e},e}function vt(){var e=on(["Mute the instance by your instance"]);return vt=function(){return e},e}function mt(){var e=on(["Show this user's content to the users of this instance again."]);return mt=function(){return e},e}function ht(){var e=on(["Unmute this account by your instance"]);return ht=function(){return e},e}function pt(){var e=on(["Hide any content from that user from you, your instance and its users."]);return pt=function(){return e},e}function gt(){var e=on(["Mute this account by your instance"]);return gt=function(){return e},e}function yt(){var e=on(["Remove comments made by this account on your videos."]);return yt=function(){return e},e}function St(){var e=on(["Remove comments from your videos"]);return St=function(){return e},e}function Ot(){var e=on(["Show back content from that instance for you."]);return Ot=function(){return e},e}function jt(){var e=on(["Unmute the instance"]);return jt=function(){return e},e}function kt(){var e=on(["Hide any content from that instance for you."]);return kt=function(){return e},e}function At(){var e=on(["Mute the instance"]);return At=function(){return e},e}function xt(){var e=on(["Show back content from that user for you."]);return xt=function(){return e},e}function Ct(){var e=on(["Unmute this account"]);return Ct=function(){return e},e}function Et(){var e=on(["Hide any content from that user from you."]);return Et=function(){return e},e}function wt(){var e=on(["Mute this account"]);return wt=function(){return e},e}function Ut(){var e=on(["Set Email as Verified"]);return Ut=function(){return e},e}function _t(){var e=on(["Allow the user to login and create videos/comments again"]);return _t=function(){return e},e}function Rt(){var e=on(["Unban user"]);return Rt=function(){return e},e}function zt(){var e=on(["User won't be able to login anymore, but videos and comments will be kept as is."]);return zt=function(){return e},e}function It(){var e=on(["Ban"]);return It=function(){return e},e}function Bt(){var e=on(["Videos will be deleted, comments will be tombstoned."]);return Bt=function(){return e},e}function Pt(){var e=on(["Delete user"]);return Pt=function(){return e},e}function Lt(){var e=on(["Change quota, role, and more."]);return Lt=function(){return e},e}function Vt(){var e=on(["Edit user"]);return Vt=function(){return e},e}function Tt(){var e=on(["Will remove comments of this account (may take several minutes)."]);return Tt=function(){return e},e}function $t(){var e=on(["Delete account comments"]);return $t=function(){return e},e}function Mt(){var e=on(["Are you sure you want to remove all the comments of this account?"]);return Mt=function(){return e},e}function Dt(){var e=on(["Instance "," unmuted by the instance."]);return Dt=function(){return e},e}function Ht(){var e=on(["Instance "," muted by the instance."]);return Ht=function(){return e},e}function Nt(){var e=on(["Account "," unmuted by the instance."]);return Nt=function(){return e},e}function Gt(){var e=on(["Account "," muted by the instance."]);return Gt=function(){return e},e}function Wt(){var e=on(["Instance "," unmuted."]);return Wt=function(){return e},e}function Ft(){var e=on(["Instance "," muted."]);return Ft=function(){return e},e}function Jt(){var e=on(["Account "," unmuted."]);return Jt=function(){return e},e}function qt(){var e=on(["Account "," muted."]);return qt=function(){return e},e}function Kt(){var e=on(["User "," email set as verified"]);return Kt=function(){return e},e}function Qt(){var e=on(["User "," deleted."]);return Qt=function(){return e},e}function Yt(){var e=on(["Delete"]);return Yt=function(){return e},e}function Xt(){var e=on(["If you remove this user, you will not be able to create another with the same username!"]);return Xt=function(){return e},e}function Zt(){var e=on(["You cannot delete root."]);return Zt=function(){return e},e}function en(){var e=on(["User "," unbanned."]);return en=function(){return e},e}function tn(){var e=on(["Unban"]);return tn=function(){return e},e}function nn(){var e=on(["Do you really want to unban ","?"]);return nn=function(){return e},e}function rn(){var e=on(["You cannot ban root."]);return rn=function(){return e},e}function on(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"25cm":function(e,t,n){"use strict";var r=n("tPH9"),o=n("/1FC");t.a=function(e,t,n){var i=t(e);return Object(o.a)(e)?i:Object(r.a)(i,n(e))}},"2L7+":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("mrSG"),o=n("fXoL"),i=n("ey9i"),c=(n("xMQD"),n("GxWh")),a=n("QLwe"),u=n("Imgh"),s=n("ofXK"),l=n("EcKj"),f=["userBanModal"],d=function(e,t){return{user:e,account:t}};function b(e,t){if(1&e){var n=o.Wb();o.Tb(0),o.Vb(1,"my-user-ban-modal",1,2),o.jc("userBanned",function(){return o.Jc(n),o.nc().onUserBanned()}),o.Ub(),o.Qb(3,"my-action-dropdown",3),o.Sb()}if(2&e){var r=o.nc();o.Cb(3),o.uc("actions",r.userActions)("entry",o.zc(6,d,r.user,r.account))("buttonSize",r.buttonSize)("placement",r.placement)("label",r.label)("container",r.container)}}var v=function(){var e=function(){function e(t,n,r,i,c,a,u){cn(this,e),this.authService=t,this.notifier=n,this.confirmService=r,this.serverService=i,this.userService=c,this.blocklistService=a,this.bulkService=u,this.buttonSize="normal",this.placement="right-top right-bottom auto",this.container=void 0,this.userChanged=new o.n,this.userDeleted=new o.n,this.userActions=[]}return un(e,[{key:"ngOnInit",value:function(){var e=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(function(t){return e.serverConfig=t})}},{key:"ngOnChanges",value:function(){this.buildActions()}},{key:"openBanUserModal",value:function(e){"root"!==e.username?this.userBanModal.openModal(e):this.notifier.error("Du kan inte blockera root.")}},{key:"onUserBanned",value:function(){this.userChanged.emit()}},{key:"unbanUser",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=!1,t.next=3,this.confirmService.confirm("Vill du verkligen avsluta blockeringen av " + e.username + "?","Avsluta blockering");case 3:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=7;break}this.userService.unbanUsers(e).subscribe(function(){n.notifier.success("Anv\xE4ndaren " + e.username + " \xE4r inte l\xE4ngre blockerad."),n.userChanged.emit()},function(e){return n.notifier.error(e.message)});case 7:case"end":return t.stop()}},t,this)}))}},{key:"removeUser",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("root"!==e.username){t.next=2;break}return t.abrupt("return",void this.notifier.error("Du kan inte radera root."));case 2:return n="Om du tar bort den h\xE4r anv\xE4ndaren kommer du inte kunna skapa en ny med samma anv\xE4ndarnamn!",t.t0=!1,t.next=6,this.confirmService.confirm(n,"Radera");case 6:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=10;break}this.userService.removeUser(e).subscribe(function(){r.notifier.success("Anv\xE4ndaren " + e.username + " har raderats."),r.userDeleted.emit()},function(e){return r.notifier.error(e.message)});case 10:case"end":return t.stop()}},t,this)}))}},{key:"setEmailAsVerified",value:function(e){var t=this;this.userService.updateUser(e.id,{emailVerified:!0}).subscribe(function(){t.notifier.success("E-postadressen som tillh\xF6r anv\xE4ndaren " + e.username + " har markerats som verifierad"),t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"blockAccountByUser",value:function(e){var t=this;this.blocklistService.blockAccountByUser(e).subscribe(function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras."),t.account.mutedByUser=!0,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"unblockAccountByUser",value:function(e){var t=this;this.blocklistService.unblockAccountByUser(e).subscribe(function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras inte l\xE4ngre."),t.account.mutedByUser=!1,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"blockServerByUser",value:function(e){var t=this;this.blocklistService.blockServerByUser(e).subscribe(function(){t.notifier.success("Instansen " + e + " kommer ignoreras."),t.account.mutedServerByUser=!0,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"unblockServerByUser",value:function(e){var t=this;this.blocklistService.unblockServerByUser(e).subscribe(function(){t.notifier.success("Instansen " + e + " ignoreras inte l\xE4ngre."),t.account.mutedServerByUser=!1,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"blockAccountByInstance",value:function(e){var t=this;this.blocklistService.blockAccountByInstance(e).subscribe(function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras av instansen."),t.account.mutedByInstance=!0,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"unblockAccountByInstance",value:function(e){var t=this;this.blocklistService.unblockAccountByInstance(e).subscribe(function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras inte l\xE4ngre av instansen."),t.account.mutedByInstance=!1,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"blockServerByInstance",value:function(e){var t=this;this.blocklistService.blockServerByInstance(e).subscribe(function(){t.notifier.success("Instansen " + e + " ignoreras av instansen."),t.account.mutedServerByInstance=!0,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"unblockServerByInstance",value:function(e){var t=this;this.blocklistService.unblockServerByInstance(e).subscribe(function(){t.notifier.success("Instansen " + e + " ignoreras inte l\xE4ngre av instansen."),t.account.mutedServerByInstance=!1,t.userChanged.emit()},function(e){return t.notifier.error(e.message)})}},{key:"bulkRemoveCommentsOf",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="\xC4r du s\xE4ker p\xE5 att du vill ta bort alla kommentarer f\xF6rfattade av det h\xE4r kontot?",t.t0=!1,t.next=4,this.confirmService.confirm(n,"Radera kommentarer fr\xE5n kontot");case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.bulkService.removeCommentsOf(e).subscribe(function(){r.notifier.success("Ta bort alla kommentarer som f\xF6rfattats av det h\xE4r kontot (kan ta flera minuter).")},function(e){return r.notifier.error(e.message)});case 8:case"end":return t.stop()}},t,this)}))}},{key:"getRouterUserEditLink",value:function(e){return["/admin","users","update",e.id]}},{key:"buildActions",value:function(){var e=this;if(this.userActions=[],this.prependActions&&(this.userActions=[this.prependActions]),this.authService.isLoggedIn()){var t=this.authService.getUser();if(this.user&&t.id===this.user.id)return;if(this.user&&t.hasRight(1)&&t.canManage(this.user)&&this.userActions.push([{label:"Redigera anv\xE4ndare",description:"\xC4ndra videokvot, beh\xF6righeter och mer.",linkBuilder:function(t){var n=t.user;return e.getRouterUserEditLink(n)}},{label:"Radera anv\xE4ndare",description:"Videorna kommer raderas och kommentarerna arkiverade.",handler:function(t){var n=t.user;return e.removeUser(n)}},{label:"Blockera",description:"Anv\xE4ndare kommer inte l\xE4ngre kunna logga in, men videor och kommentarer kommer beh\xE5llas s\xE5 som de \xE4r.",handler:function(t){var n=t.user;return e.openBanUserModal(n)},isDisplayed:function(e){return!e.user.blocked}},{label:"Upph\xE4v blockering av anv\xE4ndare",description:"L\xE5t anv\xE4ndaren logga in och skapa videor eller kommentarer igen",handler:function(t){var n=t.user;return e.unbanUser(n)},isDisplayed:function(e){return e.user.blocked}},{label:"Markera e-post som verifierad",handler:function(t){var n=t.user;return e.setEmailAsVerified(n)},isDisplayed:function(t){var n=t.user;return e.requiresEmailVerification&&!n.blocked&&!1===n.emailVerified}}]),this.account){this.userActions.push([{label:"Ignorera det h\xE4r kontot",description:"G\xF6m allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig.",isDisplayed:function(e){return!1===e.account.mutedByUser},handler:function(t){var n=t.account;return e.blockAccountByUser(n)}},{label:"Sluta ignorera det h\xE4r kontot",description:"Visa inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig igen.",isDisplayed:function(e){return!0===e.account.mutedByUser},handler:function(t){var n=t.account;return e.unblockAccountByUser(n)}},{label:"Ignorera instansen",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den instansen f\xF6r dig.",isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.blockServerByUser(n.host)}},{label:"Sluta ignorera instansen",description:"Visa inneh\xE5ll fr\xE5n den instansen f\xF6r dig igen.",isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.unblockServerByUser(n.host)}},{label:"Ta bort kommentarer fr\xE5n dina videor",description:"Ta bort kommentarer gjorda av detta kontot fr\xE5n dina videor.",handler:function(t){var n=t.account;return e.bulkRemoveCommentsOf({accountName:n.nameWithHost,scope:"my-videos"})}}]);var n=[];t.hasRight(9)&&(n=n.concat([{label:"Ignorera det h\xE4r kontot av din instans",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig, din instans och dess anv\xE4ndare.",isDisplayed:function(e){return!1===e.account.mutedByInstance},handler:function(t){var n=t.account;return e.blockAccountByInstance(n)}},{label:"Sluta ignorera det h\xE4r kontot av din instans",description:"Visa den h\xE4r anv\xE4ndarens inneh\xE5ll f\xF6r anv\xE4ndarna p\xE5 den h\xE4r instansen igen.",isDisplayed:function(e){return!0===e.account.mutedByInstance},handler:function(t){var n=t.account;return e.unblockAccountByInstance(n)}}])),t.hasRight(10)&&(n=n.concat([{label:"Ignorera instansen av din instans",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den instansen f\xF6r dig, din instans och dess anv\xE4ndare.",isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.blockServerByInstance(n.host)}},{label:"Sluta ignorera instansen av din instans",description:"Visa allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig, din instans och dess anv\xE4ndare igen.",isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.unblockServerByInstance(n.host)}}])),t.hasRight(15)&&(n=n.concat([{label:"Ta bort kommentarer fr\xE5n din instans",description:"Ta bort kommentarer gjorda av detta kontot fr\xE5n din instans.",handler:function(t){var n=t.account;return e.bulkRemoveCommentsOf({accountName:n.nameWithHost,scope:"instance"})}}])),0!==n.length&&this.userActions.push(n)}}}},{key:"requiresEmailVerification",get:function(){return this.serverConfig.signup.requiresEmailVerification}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(i.a),o.Pb(i.m),o.Pb(i.d),o.Pb(i.x),o.Pb(i.D),o.Pb(c.b),o.Pb(a.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["my-user-moderation-dropdown"]],viewQuery:function(e,t){var n;(1&e&&o.Yc(f,!0),2&e)&&(o.Gc(n=o.kc())&&(t.userBanModal=n.first))},inputs:{user:"user",account:"account",prependActions:"prependActions",buttonSize:"buttonSize",placement:"placement",label:"label",container:"container"},outputs:{userChanged:"userChanged",userDeleted:"userDeleted"},features:[o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[3,"userBanned"],["userBanModal",""],[3,"actions","entry","buttonSize","placement","label","container"]],template:function(e,t){1&e&&o.Sc(0,b,4,9,"ng-container",0),2&e&&o.uc("ngIf",0!==t.userActions.length)},directives:[s.n,u.a,l.a],encapsulation:2}),e}()},"3/ER":function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===o?r.a.Buffer:void 0,a=c?c.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("3UD+")(e))},"3ZlK":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={violentOrRepulsive:1,hatefulOrAbusive:2,spamOrMisleading:3,privacy:4,rights:5,serverRules:6,thumbnails:7,captions:8}},"4/q3":function(e,t,n){"use strict";var r=n("7gMY"),o=n("IzLi"),i=n("pyRK"),c=Object.prototype.hasOwnProperty,a=n("5WsY");t.a=function(e){return Object(a.a)(e)?Object(r.a)(e,!0):function(e){if(!Object(o.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(i.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&c.call(e,r))&&n.push(r);return n}(e)}},"4joM":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n("3Pt+"),o={VALIDATORS:[r.w.required,r.w.minLength(2),r.w.maxLength(3e3)],MESSAGES:{required:"Anm\xE4lans motivering m\xE5ste anges.",minlength:"Anm\xE4lans motivering m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Anm\xE4lans motivering f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}},i={VALIDATORS:[r.w.required,r.w.minLength(2),r.w.maxLength(3e3)],MESSAGES:{required:"Moderationskommentar kr\xE4vs.",minlength:"Moderationskommentaren m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Moderationskommentaren f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}},c={VALIDATORS:[r.w.required,r.w.minLength(2),r.w.maxLength(3e3)],MESSAGES:{required:"Anm\xE4lan m\xE5ste inneh\xE5lla ett meddelande.",minlength:"Anm\xE4lans meddelandetext m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Anm\xE4lans meddelandetext f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}}},"5WsY":function(e,t,n){"use strict";var r=n("vJtL"),o=n("Js68");t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},"7gMY":function(e,t,n){"use strict";var r=n("9f76"),o=n("/1FC"),i=n("WOAq"),c=n("cSlR"),a=n("oYcn"),u=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),s=!n&&Object(r.a)(e),l=!n&&!s&&Object(i.a)(e),f=!n&&!s&&!l&&Object(a.a)(e),d=n||s||l||f,b=d?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],v=b.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||l&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(c.a)(m,v))||b.push(m);return b}},"8i4Y":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var r=n("6rF9"),o=n("xMQD"),i=function e(t){if(cn(this,e),this.id=t.id,this.url=t.url,this.text=t.text,this.threadId=t.threadId,this.inReplyToCommentId=t.inReplyToCommentId,this.videoId=t.videoId,this.createdAt=new Date(t.createdAt.toString()),this.updatedAt=new Date(t.updatedAt.toString()),this.deletedAt=t.deletedAt?new Date(t.deletedAt.toString()):null,this.isDeleted=t.isDeleted,this.account=t.account,this.totalRepliesFromVideoAuthor=t.totalRepliesFromVideoAuthor,this.totalReplies=t.totalReplies,this.account){this.by=o.c.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=o.a.GET_ACTOR_AVATAR_URL(this.account);var n=Object(r.e)(),i=new URL(n).host;this.isLocal=this.account.host.trim()===i}},c=function e(t,n){cn(this,e),this.id=t.id,this.url=t.url,this.text=t.text,this.textHtml=n,this.threadId=t.threadId,this.inReplyToCommentId=t.inReplyToCommentId,this.createdAt=new Date(t.createdAt.toString()),this.updatedAt=new Date(t.updatedAt.toString()),this.video={id:t.video.id,uuid:t.video.uuid,name:t.video.name,localUrl:"/videos/watch/"+t.video.uuid},this.localUrl=this.video.localUrl+";threadId="+this.threadId,this.account=t.account,this.account&&(this.by=o.c.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=o.a.GET_ACTOR_AVATAR_URL(this.account),this.account.localUrl="/accounts/"+this.by)}},"9BXX":function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n("TSHB"),o=n("u3oV"),i=n("ey9i"),c=n("4joM"),a=n("sWvm"),u=(n("xMQD"),n("3ZlK")),s=n("9dYW"),l=n("fXoL"),f=n("1kSV"),d=n("UkmY"),b=n("3Pt+"),v=n("ofXK"),m=n("/xt7"),h=n("BLxp"),p=["modal"];function g(e,t){if(1&e&&l.Qb(0,"div",26),2&e){var n=l.nc(2).$implicit;l.uc("innerHTML",n.help,l.Kc)}}function y(e,t){1&e&&l.Sc(0,g,1,1,"ng-template",25)}function S(e,t){if(1&e&&(l.Tb(0,27),l.Qb(1,"div",26),l.Sb()),2&e){var n=l.nc().$implicit;l.Cb(1),l.uc("innerHTML",n.description,l.Kc)}}function O(e,t){if(1&e&&(l.Vb(0,"div",17),l.Vb(1,"my-peertube-checkbox",23),l.Sc(2,y,1,0,void 0,16),l.Sc(3,S,2,1,"ng-container",24),l.Ub(),l.Ub()),2&e){var n=t.$implicit;l.Cb(1),l.uc("inputName",n.id)("formControlName",n.id)("labelText",n.label),l.Cb(1),l.uc("ngIf",n.help),l.Cb(1),l.uc("ngIf",n.description)}}function j(e,t){if(1&e&&(l.fc(0,15,1),l.Rb(1),l.cc()),2&e){var n=l.nc(2);l.Cb(1),l.dc(n.originHost),l.ac(0)}}function k(e,t){if(1&e&&(l.Vb(0,"div",28),l.Uc(1),l.Ub()),2&e){var n=l.nc(2);l.Cb(1),l.Wc(" ",n.formErrors.reason," ")}}var A=function(e){return{"input-error":e}};function x(e,t){if(1&e){var n=l.Wb();l.Vb(0,"div",1),l.Vb(1,"h4",2),l.Uc(2),l.Ub(),l.Vb(3,"my-global-icon",3),l.jc("click",function(){return l.Jc(n),l.nc().hide()}),l.Ub(),l.Ub(),l.Vb(4,"div",4),l.Vb(5,"form",5),l.jc("ngSubmit",function(){return l.Jc(n),l.nc().report()}),l.Vb(6,"div",6),l.Vb(7,"div",7),l.Vb(8,"label",8),l.Zb(9,9),l.Ub(),l.Vb(10,"div",10),l.Tb(11,11),l.Sc(12,O,4,5,"div",12),l.Sb(),l.Ub(),l.Ub(),l.Vb(13,"div",13),l.Vb(14,"div",14),l.fc(15,15),l.Sc(16,j,2,1,"ng-container",16),l.cc(),l.Ub(),l.Vb(17,"div",17),l.Qb(18,"textarea",18),l.Sc(19,k,2,1,"div",19),l.Ub(),l.Ub(),l.Ub(),l.Vb(20,"div",20),l.Vb(21,"input",21),l.jc("click",function(){return l.Jc(n),l.nc().hide()})("key.enter",function(){return l.Jc(n),l.nc().hide()}),l.Ub(),l.Qb(22,"input",22),l.Ub(),l.Ub(),l.Ub()}if(2&e){var r=l.nc();l.Cb(2),l.Vc(r.modalTitle),l.Cb(3),l.uc("formGroup",r.form),l.Cb(7),l.uc("ngForOf",r.predefinedReasons),l.Cb(4),l.uc("ngIf",r.isRemote()),l.dc(r.currentHost),l.ac(15),l.Cb(2),l.uc("ngClass",l.yc(8,A,r.formErrors.reason)),l.Cb(1),l.uc("ngIf",r.formErrors.reason),l.Cb(3),l.uc("disabled",!r.form.valid)}}var C=function(){var e=function(e){Ke(n,e);var t=Ye(n);function n(e,r,o,i){var c;return cn(this,n),(c=t.call(this)).formValidatorService=e,c.modalService=r,c.abuseService=o,c.notifier=i,c.account=null,c.error=null,c.predefinedReasons=[],c}return un(n,[{key:"ngOnInit",value:function(){this.modalTitle="Anm\xE4l " + this.account.displayName + " ",this.buildForm({reason:c.c,predefinedReasons:Object(r.a)(u.a,function(e){return null})}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("account")}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(o.a)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:t,predefinedReasons:n,account:{id:this.account.id}}).subscribe(function(){e.notifier.success("Kontot har anm\xE4lts."),e.hide()},function(t){return e.notifier.error(t.message)})}},{key:"isRemote",value:function(){return!this.account.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.account.host:""}}]),n}(a.a);return e.\u0275fac=function(t){return new(t||e)(l.Pb(a.b),l.Pb(f.m),l.Pb(s.a),l.Pb(i.m))},e.\u0275cmp=l.Jb({type:e,selectors:[["my-account-report"]],viewQuery:function(e,t){var n;(1&e&&l.Pc(p,!0),2&e)&&(l.Gc(n=l.kc())&&(t.modal=n.first))},inputs:{account:"account"},features:[l.zb],decls:2,vars:0,consts:function(){var e,t,n,r;return e="Vad \xE4r problemet?",t="Beskriv problemet \u2026",n="Avbryt",r="Skicka",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],e,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + " och \xE4ven vidarebefordras till kommentarens heminstans (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["placeholder",t,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",n,1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value",r,1,"action-button-submit",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(e,t){1&e&&l.Sc(0,x,23,10,"ng-template",null,0,l.Tc)},directives:[d.a,b.y,b.n,b.h,b.i,v.m,v.n,b.b,b.m,b.f,v.l,m.a,h.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),e}()},"9dYW":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("m8R6"),o=n("JIr8"),i=n("lJxs"),c=n("tk/3"),a=n("ey9i"),u=n("AytR"),s=n("fXoL"),l=function(){var e=function(){function e(t,n,r){cn(this,e),this.authHttp=t,this.restService=n,this.restExtractor=r}return un(e,[{key:"getAdminAbuses",value:function(t){var n=this,r=t.pagination,i=t.sort,a=t.search,u=e.BASE_ABUSE_URL,s=new c.f;return s=this.restService.addRestGetParams(s,r,i),a&&(s=this.buildParamsFromSearch(a,s)),this.authHttp.get(u,{params:s}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getUserAbuses",value:function(t){var n=this,r=t.pagination,i=t.sort,a=t.search,u=e.BASE_MY_ABUSE_URL,s=new c.f;return s=this.restService.addRestGetParams(s,r,i),a&&(s=this.buildParamsFromSearch(a,s)),this.authHttp.get(u,{params:s}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"reportVideo",value:function(t){var n=this,c=e.BASE_ABUSE_URL,a=Object(r.a)(t,["id"]);return this.authHttp.post(c,a).pipe(Object(i.a)(this.restExtractor.extractDataBool),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"updateAbuse",value:function(t,n){var r=this;return this.authHttp.put(e.BASE_ABUSE_URL+"/"+t.id,n).pipe(Object(i.a)(this.restExtractor.extractDataBool),Object(o.a)(function(e){return r.restExtractor.handleError(e)}))}},{key:"removeAbuse",value:function(t){var n=this;return this.authHttp.delete(e.BASE_ABUSE_URL+"/"+t.id).pipe(Object(i.a)(this.restExtractor.extractDataBool),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"addAbuseMessage",value:function(t,n){var r=this;return this.authHttp.post(e.BASE_ABUSE_URL+"/"+t.id+"/messages",{message:n}).pipe(Object(i.a)(this.restExtractor.extractDataBool),Object(o.a)(function(e){return r.restExtractor.handleError(e)}))}},{key:"listAbuseMessages",value:function(t){var n=this;return this.authHttp.get(e.BASE_ABUSE_URL+"/"+t.id+"/messages").pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"deleteAbuseMessage",value:function(t,n){var r=this;return this.authHttp.delete(e.BASE_ABUSE_URL+"/"+t.id+"/messages/"+n.id).pipe(Object(i.a)(this.restExtractor.extractDataBool),Object(o.a)(function(e){return r.restExtractor.handleError(e)}))}},{key:"getPrefefinedReasons",value:function(e){var t=[{id:"violentOrRepulsive",label:"V\xE5ldsamt eller motbjudande",help:"Inneh\xE5ller spr\xE5k eller bildspr\xE5k som upplevs st\xF6tande, v\xE5ldsamt eller grovt."},{id:"hatefulOrAbusive",label:"Hatiskt eller neds\xE4ttande",help:"Inneh\xE5ller spr\xE5k eller bildspr\xE5k som upplevs neds\xE4ttande, rasistiskt eller sexistiskt."},{id:"spamOrMisleading",label:"Spam, reklam eller vilseledande information",help:"Inneh\xE5ller reklam, spam, medvetet vilseledande information eller p\xE5 annat s\xE4tt missvisande miniatyrbild, text eller taggar. Uppge g\xE4rna trov\xE4rdiga k\xE4llor f\xF6r att anm\xE4la bluffar."},{id:"privacy",label:"Publicering av personuppgifter eller personliga dokument",help:"Inneh\xE5ller personuppgifter som skulle kunna anv\xE4ndas f\xF6r att sp\xE5ra, identifiera, kontakta eller stj\xE4la n\xE5gons identitet (t.ex. namn, adress, telefonnummer, e-postadress eller bankuppgifter)."},{id:"rights",label:"Upphovsr\xE4tt",help:"Inkr\xE4ktar p\xE5 din upphovsr\xE4tt enligt de lagar som g\xE4ller d\xE4r servern finns."},{id:"serverRules",label:"Brott mot serverregler",description:"N\xE5gonting som inte n\xE4mns ovan och inneb\xE4r ett brott mot anv\xE4ndaravtalet, uppf\xF6randekoden eller de allm\xE4nna serverreglerna."}];return"video"===e&&(t=t.concat([{id:"thumbnails",label:"Miniatyrbilder",help:"Ovanst\xE5ende kan endast ses i miniatyrbilden."},{id:"captions",label:"Textning",help:"Ovanst\xE5ende f\xF6rekommer endast i textningen (ange vilken)."}])),t}},{key:"buildParamsFromSearch",value:function(e,t){var n=this.restService.parseQueryStringFilter(e,{id:{prefix:"#"},state:{prefix:"state:",handler:function(e){return"accepted"===e?3:"pending"===e?1:"rejected"===e?2:void 0}},videoIs:{prefix:"videoIs:",handler:function(e){return"deleted"===e||"blacklisted"===e?e:void 0}},searchReporter:{prefix:"reporter:"},searchReportee:{prefix:"reportee:"},predefinedReason:{prefix:"tag:"}});return this.restService.addObjectParams(t,n)}}]),e}();return e.BASE_ABUSE_URL=u.a.apiUrl+"/api/v1/abuses",e.BASE_MY_ABUSE_URL=u.a.apiUrl+"/api/v1/users/me/abuses",e.\u0275fac=function(t){return new(t||e)(s.gc(c.b),s.gc(a.s),s.gc(a.r))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac}),e}()},BYvb:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("TSHB"),o=n("u3oV"),i=n("H9+z"),c=n("ey9i"),a=n("4joM"),u=n("sWvm"),s=n("3ZlK"),l=(n("xMQD"),n("9dYW")),f=n("fXoL"),d=n("1kSV"),b=n("jhN1"),v=n("UkmY"),m=n("3Pt+"),h=n("ofXK"),p=n("/xt7"),g=n("C8Cb"),y=n("BLxp"),S=["modal"];function O(e,t){if(1&e&&f.Qb(0,"div",18),2&e){var n=f.nc(2).$implicit;f.uc("innerHTML",n.help,f.Kc)}}function j(e,t){1&e&&f.Sc(0,O,1,1,"ng-template",34)}function k(e,t){if(1&e&&(f.Tb(0,35),f.Qb(1,"div",18),f.Sb()),2&e){var n=f.nc().$implicit;f.Cb(1),f.uc("innerHTML",n.description,f.Kc)}}function A(e,t){if(1&e&&(f.Vb(0,"div",26),f.Vb(1,"my-peertube-checkbox",32),f.Sc(2,j,1,0,void 0,25),f.Sc(3,k,2,1,"ng-container",33),f.Ub(),f.Ub()),2&e){var n=t.$implicit;f.Cb(1),f.uc("inputName",n.id)("formControlName",n.id)("labelText",n.label),f.Cb(1),f.uc("ngIf",n.help),f.Cb(1),f.uc("ngIf",n.description)}}function x(e,t){if(1&e&&(f.Vb(0,"div",36),f.Qb(1,"my-peertube-checkbox",37),f.Qb(2,"my-timestamp-input",38),f.Ub()),2&e){var n=f.nc(2);f.Cb(2),f.uc("timestamp",n.timestamp.endAt)("maxTimestamp",n.video.duration)}}function C(e,t){if(1&e&&(f.fc(0,24,1),f.Rb(1),f.cc()),2&e){var n=f.nc(2);f.Cb(1),f.dc(n.originHost),f.ac(0)}}function E(e,t){if(1&e&&(f.Vb(0,"div",39),f.Uc(1),f.Ub()),2&e){var n=f.nc(2);f.Cb(1),f.Wc(" ",n.formErrors.reason," ")}}var w=function(e){return{"input-error":e}};function U(e,t){if(1&e){var n=f.Wb();f.Vb(0,"div",1),f.Vb(1,"h4",2),f.Zb(2,3),f.Ub(),f.Vb(3,"my-global-icon",4),f.jc("click",function(){return f.Jc(n),f.nc().hide()}),f.Ub(),f.Ub(),f.Vb(4,"div",5),f.Vb(5,"form",6),f.jc("ngSubmit",function(){return f.Jc(n),f.nc().report()}),f.Vb(6,"div",7),f.Vb(7,"div",8),f.Vb(8,"label",9),f.Zb(9,10),f.Ub(),f.Vb(10,"div",11),f.Tb(11,12),f.Sc(12,A,4,5,"div",13),f.Sb(),f.Ub(),f.Ub(),f.Vb(13,"div",14),f.Vb(14,"div",15),f.Vb(15,"div",16),f.Vb(16,"div",17),f.Qb(17,"div",18),f.Ub(),f.Ub(),f.Ub(),f.Vb(18,"div",19),f.Qb(19,"my-peertube-checkbox",20),f.Qb(20,"my-timestamp-input",21),f.Ub(),f.Sc(21,x,3,2,"div",22),f.Vb(22,"div",23),f.fc(23,24),f.Sc(24,C,2,1,"ng-container",25),f.cc(),f.Ub(),f.Vb(25,"div",26),f.Qb(26,"textarea",27),f.Sc(27,E,2,1,"div",28),f.Ub(),f.Ub(),f.Ub(),f.Vb(28,"div",29),f.Vb(29,"input",30),f.jc("click",function(){return f.Jc(n),f.nc().hide()})("key.enter",function(){return f.Jc(n),f.nc().hide()}),f.Ub(),f.Qb(30,"input",31),f.Ub(),f.Ub(),f.Ub()}if(2&e){var r=f.nc();f.Cb(2),f.dc(r.video.name),f.ac(2),f.Cb(3),f.uc("formGroup",r.form),f.Cb(7),f.uc("ngForOf",r.predefinedReasons),f.Cb(5),f.uc("innerHTML",r.embedHtml,f.Kc),f.Cb(3),f.uc("timestamp",r.timestamp.startAt)("maxTimestamp",r.video.duration),f.Cb(1),f.uc("ngIf",r.timestamp.hasStart),f.Cb(3),f.uc("ngIf",r.isRemote()),f.dc(r.currentHost),f.ac(23),f.Cb(2),f.uc("ngClass",f.yc(12,w,r.formErrors.reason)),f.Cb(1),f.uc("ngIf",r.formErrors.reason),f.Cb(3),f.uc("disabled",!r.form.valid)}}var _=function(){var e=function(e){Ke(n,e);var t=Ye(n);function n(e,r,o,i,c){var a;return cn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=r,a.abuseService=o,a.notifier=i,a.sanitizer=c,a.video=null,a.error=null,a.predefinedReasons=[],a}return un(n,[{key:"getVideoEmbed",value:function(){return this.sanitizer.bypassSecurityTrustHtml(Object(i.c)(Object(i.b)({baseUrl:this.video.embedUrl,title:!1,warningTitle:!1})))}},{key:"ngOnInit",value:function(){this.buildForm({reason:a.c,predefinedReasons:Object(r.a)(s.a,function(e){return null}),timestamp:{hasStart:null,startAt:null,hasEnd:null,endAt:null}}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("video"),this.embedHtml=this.getVideoEmbed()}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(o.a)(this.form.get("predefinedReasons").value)),r=this.form.get("timestamp").value,i=r.hasStart,c=r.startAt,a=r.hasEnd,u=r.endAt;this.abuseService.reportVideo({reason:t,predefinedReasons:n,video:{id:this.video.id,startAt:i&&c?c:void 0,endAt:a&&u?u:void 0}}).subscribe(function(){e.notifier.success("Videon har rapporterats."),e.hide()},function(t){return e.notifier.error(t.message)})}},{key:"isRemote",value:function(){return!this.video.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.video.account.host:""}},{key:"timestamp",get:function(){return this.form.get("timestamp").value}}]),n}(u.a);return e.\u0275fac=function(t){return new(t||e)(f.Pb(u.b),f.Pb(d.m),f.Pb(l.a),f.Pb(c.m),f.Pb(b.b))},e.\u0275cmp=f.Jb({type:e,selectors:[["my-video-report"]],viewQuery:function(e,t){var n;(1&e&&f.Pc(S,!0),2&e)&&(f.Gc(n=f.kc())&&(t.modal=n.first))},inputs:{video:"video"},features:[f.zb],decls:2,vars:0,consts:function(){var e,t,n,r,o,i,c;return e="Anm\xE4l videon \u201D" + "\ufffd0\ufffd" + "\u201D",t="Vad \xE4r problemet?",n="B\xF6rja vid",r="Beskriv problemet \u2026",o="Avbryt",i="Skicka",c="Sluta vid",[["modal",""],[1,"modal-header"],[1,"modal-title"],e,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],t,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9","mb-2"],[1,"screenratio"],[3,"innerHTML"],["formGroupName","timestamp",1,"mb-1","start-at"],["formControlName","hasStart","labelText",n],["formControlName","startAt","inputName","startAt",3,"timestamp","maxTimestamp"],["class","mb-3 stop-at","formGroupName","timestamp",4,"ngIf"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*24:1\ufffd\ufffd#1:1\ufffd" + " samt vidarebefordras till videons ursprungsv\xE4rd (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*24:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["placeholder",r,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",o,1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value",i,1,"action-button-submit",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],["ngProjectAs","description",5,["description"]],["formGroupName","timestamp",1,"mb-3","stop-at"],["formControlName","hasEnd","labelText",c],["formControlName","endAt","inputName","endAt",3,"timestamp","maxTimestamp"],[1,"form-error"]]},template:function(e,t){1&e&&f.Sc(0,U,31,14,"ng-template",null,0,f.Tc)},directives:[v.a,m.y,m.n,m.h,m.i,h.m,p.a,m.m,m.f,g.a,h.n,m.b,h.l,y.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),e}()},Ce4a:function(e,t,n){"use strict";var r=n("Ju5/");t.a=r.a.Uint8Array},"E/r9":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("fXoL"),o=n("sWvm"),i=n("3Pt+");function c(e){return e.split("\n").filter(function(e){return e&&0!==e.length})}var a={VALIDATORS:[i.w.required,function(e){if(!e.value)return null;var t,n,r=[],o=me(c(e.value));try{for(o.s();!(t=o.n()).done;){var i=t.value;!1===(n=i,new RegExp("^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$").test(n))&&r.push("\n          " + i + " \xE4r inte giltig\n        ")}}catch(a){o.e(a)}finally{o.f()}return 0!==r.length?{validDomains:{reason:"invalid",value:r.join(". ")+"."}}:null},function(e){if(!e.value)return null;var t=c(e.value);return t.every(function(e){return t.indexOf(e)===t.lastIndexOf(e)})?null:{uniqueDomains:{reason:"invalid"}}}],MESSAGES:{required:"Dom\xE4n m\xE5ste uppges.",validDomains:"Angivna dom\xE4ner \xE4r ogiltiga.",uniqueDomains:"Dom\xE4nerna inneh\xE5ller dubbletter."}},u=n("1kSV"),s=n("UkmY"),l=n("ofXK"),f=["modal"];function d(e,t){if(1&e&&(r.Vb(0,"div"),r.Uc(1),r.Ub()),2&e){var n=r.nc(3);r.Cb(1),r.Wc(" ",n.form.controls.domains.errors.validDomains.value," ")}}function b(e,t){if(1&e&&(r.Vb(0,"div",15),r.Uc(1),r.Sc(2,d,2,1,"div",16),r.Ub()),2&e){var n=r.nc(2);r.Cb(1),r.Wc(" ",n.formErrors.domains," "),r.Cb(1),r.uc("ngIf",n.form.controls.domains.errors.validDomains)}}var v=function(e){return{"input-error":e}};function m(e,t){if(1&e){var n=r.Wb();r.Vb(0,"div",1),r.Vb(1,"h4",2),r.Zb(2,3),r.Ub(),r.Vb(3,"my-global-icon",4),r.jc("click",function(){return r.Jc(n),r.nc().hide()}),r.Ub(),r.Ub(),r.Vb(4,"div",5),r.Vb(5,"form",6),r.jc("ngSubmit",function(){return r.Jc(n),r.nc().submit()}),r.Vb(6,"div",7),r.Vb(7,"label",8),r.Zb(8,9),r.Ub(),r.Qb(9,"textarea",10),r.Sc(10,b,3,2,"div",11),r.Ub(),r.sc(11),r.Vb(12,"div",12),r.Vb(13,"input",13),r.jc("click",function(){return r.Jc(n),r.nc().hide()})("key.enter",function(){return r.Jc(n),r.nc().hide()}),r.Ub(),r.Qb(14,"input",14),r.Ub(),r.Ub(),r.Ub()}if(2&e){var o=r.nc();r.Cb(2),r.dc(o.action),r.ac(2),r.Cb(3),r.uc("formGroup",o.form),r.Cb(4),r.uc("placeholder",o.placeholder)("ngClass",r.yc(7,v,o.formErrors.domains)),r.Cb(1),r.uc("ngIf",o.formErrors.domains),r.Cb(4),r.uc("value",o.action)("disabled",!o.form.valid)}}var h,p=[[["warning"]]],g=["warning"],y=((h=function(e){Ke(n,e);var t=Ye(n);function n(e,o){var i;return cn(this,n),(i=t.call(this)).formValidatorService=e,i.modalService=o,i.placeholder="example.com",i.domains=new r.n,i}return un(n,[{key:"ngOnInit",value:function(){this.action||(this.action="Behandla dom\xE4ner"),this.buildForm({domains:a})}},{key:"openModal",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.openedModal.close()}},{key:"submit",value:function(){this.domains.emit(c(this.form.controls.domains.value)),this.form.reset(),this.hide()}}]),n}(o.a)).\u0275fac=function(e){return new(e||h)(r.Pb(o.b),r.Pb(u.m))},h.\u0275cmp=r.Jb({type:h,selectors:[["my-batch-domains-modal"]],viewQuery:function(e,t){var n;1&e&&r.Pc(f,!0),2&e&&r.Gc(n=r.kc())&&(t.modal=n.first)},inputs:{placeholder:"placeholder",action:"action"},outputs:{domains:"domains"},features:[r.zb],ngContentSelectors:g,decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"\n          " + "\ufffd0\ufffd" + "\n        ",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","hosts"],"En v\xE4rd (utan \u201Dhttp://\u201D) per rad",["formControlName","domains","type","text","id","hosts","name","hosts","ngbAutofocus","",1,"form-control",3,"placeholder","ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value","Avbryt",1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit",1,"action-button-submit",3,"value","disabled"],[1,"form-error"],[4,"ngIf"]]},template:function(e,t){1&e&&(r.tc(p),r.Sc(0,m,15,9,"ng-template",null,0,r.Tc))},directives:[s.a,i.y,i.n,i.h,i.b,i.m,i.f,l.l,l.n],styles:["textarea[_ngcontent-%COMP%]{height:200px}"]}),h)},GYlH:function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},GeT4:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("Cfvw"),o=n("lJxs"),i=n("JIr8"),c=n("bOdf"),a=n("IAdc"),u=n("tk/3"),s=n("ey9i"),l=n("6rF9"),f=n("AytR"),d=n("8i4Y"),b=n("fXoL"),v=function(){var e=function(){function e(t,n,r){cn(this,e),this.authHttp=t,this.restExtractor=n,this.restService=r}return un(e,[{key:"addCommentThread",value:function(t,n){var r=this,c=e.BASE_VIDEO_URL+t+"/comment-threads",a=Object(l.l)(n,"text");return this.authHttp.post(c,a).pipe(Object(o.a)(function(e){return r.extractVideoComment(e.comment)}),Object(i.a)(function(e){return r.restExtractor.handleError(e)}))}},{key:"addCommentReply",value:function(t,n,r){var c=this,a=e.BASE_VIDEO_URL+t+"/comments/"+n,u=Object(l.l)(r,"text");return this.authHttp.post(a,u).pipe(Object(o.a)(function(e){return c.extractVideoComment(e.comment)}),Object(i.a)(function(e){return c.restExtractor.handleError(e)}))}},{key:"getAdminVideoComments",value:function(t){var n=this,r=t.pagination,o=t.sort,c=t.search,a=e.BASE_VIDEO_URL+"comments",s=new u.f;return s=this.restService.addRestGetParams(s,r,o),c&&(s=this.buildParamsFromSearch(c,s)),this.authHttp.get(a,{params:s}).pipe(Object(i.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getVideoCommentThreads",value:function(t){var n=this,r=t.videoId,c=t.componentPagination,a=t.sort,s=this.restService.componentPaginationToRestPagination(c),l=new u.f;return l=this.restService.addRestGetParams(l,s,a),this.authHttp.get(e.BASE_VIDEO_URL+r+"/comment-threads",{params:l}).pipe(Object(o.a)(function(e){return n.extractVideoComments(e)}),Object(i.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getVideoThreadComments",value:function(t){var n=this,r=t.videoId,c=t.threadId;return this.authHttp.get("".concat(e.BASE_VIDEO_URL+r,"/comment-threads/").concat(c)).pipe(Object(o.a)(function(e){return n.extractVideoCommentTree(e)}),Object(i.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"deleteVideoComment",value:function(t,n){var r=this;return this.authHttp.delete("".concat(e.BASE_VIDEO_URL+t,"/comments/").concat(n)).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(i.a)(function(e){return r.restExtractor.handleError(e)}))}},{key:"deleteVideoComments",value:function(e){var t=this;return Object(r.a)(e).pipe(Object(c.a)(function(e){return t.deleteVideoComment(e.videoId,e.commentId)}),Object(a.a)())}},{key:"getVideoCommentsFeeds",value:function(t){var n=[{format:"xml",label:"rss 2.0",url:e.BASE_FEEDS_URL+"xml".toLowerCase()},{format:"atom",label:"atom 1.0",url:e.BASE_FEEDS_URL+"atom".toLowerCase()},{format:"json",label:"json 1.0",url:e.BASE_FEEDS_URL+"json".toLowerCase()}];if(void 0!==t){var r,o=me(n);try{for(o.s();!(r=o.n()).done;){r.value.url+="?videoId="+t}}catch(i){o.e(i)}finally{o.f()}}return n}},{key:"extractVideoComment",value:function(e){return new d.a(e)}},{key:"extractVideoComments",value:function(e){var t,n=e.data,r=e.total,o=[],i=me(n);try{for(i.s();!(t=i.n()).done;){var c=t.value;o.push(new d.a(c))}}catch(a){i.e(a)}finally{i.f()}return{data:o,total:r}}},{key:"extractVideoCommentTree",value:function(e){var t=this;return e?(e.comment=new d.a(e.comment),e.children.forEach(function(e){return t.extractVideoCommentTree(e)}),e):e}},{key:"buildParamsFromSearch",value:function(e,t){var n=this.restService.parseQueryStringFilter(e,{isLocal:{prefix:"local:",isBoolean:!0,handler:function(e){return"true"===e||"false"===e?e:void 0}},searchAccount:{prefix:"account:"},searchVideo:{prefix:"video:"}});return this.restService.addObjectParams(t,n)}}]),e}();return e.BASE_FEEDS_URL=f.a.apiUrl+"/feeds/video-comments.",e.BASE_VIDEO_URL=f.a.apiUrl+"/api/v1/videos/",e.\u0275fac=function(t){return new(t||e)(b.gc(u.b),b.gc(s.r),b.gc(s.s))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac}),e}()},GxWh:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f});var r=n("lJxs"),o=n("JIr8"),i=n("tk/3"),c=n("ey9i"),a=n("AytR"),u=n("xHIW"),s=n("fXoL"),l=function(e){return e[e.Account=0]="Account",e[e.Instance=1]="Instance",e}({}),f=function(){var e=function(){function e(t,n,r){cn(this,e),this.authHttp=t,this.restExtractor=n,this.restService=r}return un(e,[{key:"getUserAccountBlocklist",value:function(t){var n=this,c=t.pagination,a=t.sort,u=t.search,s=new i.f;return s=this.restService.addRestGetParams(s,c,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/accounts",{params:s}).pipe(Object(r.a)(function(e){return n.restExtractor.convertResultListDateToHuman(e)}),Object(r.a)(function(e){return n.restExtractor.applyToResultListData(e,n.formatAccountBlock.bind(n))}),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"blockAccountByUser",value:function(t){var n=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"unblockAccountByUser",value:function(t){var n=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getUserServerBlocklist",value:function(t){var n=this,c=t.pagination,a=t.sort,u=t.search,s=new i.f;return s=this.restService.addRestGetParams(s,c,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/servers",{params:s}).pipe(Object(r.a)(function(e){return n.restExtractor.convertResultListDateToHuman(e)}),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"blockServerByUser",value:function(t){var n=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"unblockServerByUser",value:function(t){var n=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getInstanceAccountBlocklist",value:function(t){var n=this,c=t.pagination,a=t.sort,u=t.search,s=new i.f;return s=this.restService.addRestGetParams(s,c,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{params:s}).pipe(Object(r.a)(function(e){return n.restExtractor.convertResultListDateToHuman(e)}),Object(r.a)(function(e){return n.restExtractor.applyToResultListData(e,n.formatAccountBlock.bind(n))}),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"blockAccountByInstance",value:function(t){var n=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"unblockAccountByInstance",value:function(t){var n=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"getInstanceServerBlocklist",value:function(t){var n=this,c=t.pagination,a=t.sort,u=t.search,s=new i.f;return s=this.restService.addRestGetParams(s,c,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{params:s}).pipe(Object(r.a)(function(e){return n.restExtractor.convertResultListDateToHuman(e)}),Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"blockServerByInstance",value:function(t){var n=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"unblockServerByInstance",value:function(t){var n=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(o.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"formatAccountBlock",value:function(e){return new u.a(e)}}]),e}();return e.BASE_USER_BLOCKLIST_URL=a.a.apiUrl+"/api/v1/users/me/blocklist",e.BASE_SERVER_BLOCKLIST_URL=a.a.apiUrl+"/api/v1/server/blocklist",e.\u0275fac=function(t){return new(t||e)(s.gc(i.b),s.gc(c.r),s.gc(c.s))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac}),e}()},HIM4:function(e,t,n){"use strict";n.d(t,"a",function(){return o.a}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return a.b}),n.d(t,"d",function(){return f.a}),n.d(t,"f",function(){return b}),n.d(t,"h",function(){return m.a}),n.d(t,"g",function(){return S}),n("9BXX"),n("re7S"),n("BYvb");var r,o=n("9dYW"),i=(n("xHIW"),n("ey9i")),c=n("xMQD"),a=n("GxWh"),u=n("fXoL"),s=((r=function(e){Ke(n,e);var t=Ye(n);function n(e,r){var o;return cn(this,n),(o=t.call(this)).notifier=e,o.blocklistService=r,o.blockedAccounts=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return un(n,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"switchToDefaultAvatar",value:function(e){e.target.src=c.a.GET_DEFAULT_AVATAR_URL()}},{key:"unblockAccount",value:function(e){var t=this,n=e.blockedAccount;(this.mode===a.a.Account?this.blocklistService.unblockAccountByUser(n):this.blocklistService.unblockAccountByInstance(n)).subscribe(function(){t.notifier.success(t.mode===a.a.Account?"Kontot " + n.nameWithHost + " ignoreras inte l\xE4ngre.":"Kontot " + n.nameWithHost + " ignoreras inte l\xE4ngre av din instans."),t.loadData()})}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe(function(t){e.blockedAccounts=t.data,e.totalRecords=t.total},function(t){return e.notifier.error(t.message)})}}]),n}(i.t)).\u0275fac=function(e){return new(e||r)(u.Pb(i.m),u.Pb(a.b))},r.\u0275dir=u.Kb({type:r,features:[u.zb]}),r);n("E/r9");var l,f=n("QLwe"),d=["batchDomainsModal"],b=((l=function(e){Ke(n,e);var t=Ye(n);function n(e,r){var o;return cn(this,n),(o=t.call(this)).notifier=e,o.blocklistService=r,o.blockedServers=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return un(n,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"unblockServer",value:function(e){var t=this,n=e.blockedServer.host;(function(e){return t.mode===a.a.Account?t.blocklistService.unblockServerByUser(e):t.blocklistService.unblockServerByInstance(e)})(n).subscribe(function(){t.notifier.success(t.mode===a.a.Account?"Instansen " + n + " ignoreras inte l\xE4ngre.":"Instansen " + n + " ignoreras inte l\xE4ngre av din instans."),t.loadData()})}},{key:"addServersToBlock",value:function(){this.batchDomainsModal.openModal()}},{key:"onDomainsToBlock",value:function(e){var t=this;e.forEach(function(e){(function(e){return t.mode===a.a.Account?t.blocklistService.blockServerByUser(e):t.blocklistService.blockServerByInstance(e)})(e).subscribe(function(){t.notifier.success(t.mode===a.a.Account?"Instansen " + e + " kommer ignoreras.":"Instansen " + e + " ignoreras av din instans."),t.loadData()})})}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe(function(t){e.blockedServers=t.data,e.totalRecords=t.total},function(t){return e.notifier.error(t.message)})}}]),n}(i.t)).\u0275fac=function(e){return new(e||l)(u.Pb(i.m),u.Pb(a.b))},l.\u0275dir=u.Kb({type:l,viewQuery:function(e,t){var n;1&e&&u.Yc(d,!0),2&e&&u.Gc(n=u.kc())&&(t.batchDomainsModal=n.first)},features:[u.zb]}),l);n("Imgh"),n("2L7+"),n("XZU/");var v,m=n("d8Kw"),h=n("N/VM"),p=n("P8w3"),g=n("Nmku"),y=n("ix8N"),S=((v=function e(){cn(this,e)}).\u0275mod=u.Nb({type:v}),v.\u0275inj=u.Mb({factory:function(e){return new(e||v)},providers:[a.b,f.a,o.a,m.a],imports:[[g.a,h.a,p.a,y.a]]}),v)},Imgh:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("mrSG"),o=n("fXoL"),i=n("ey9i"),c=n("sWvm"),a=n("nnN+"),u=n("1kSV"),s=n("UkmY"),l=n("3Pt+"),f=n("ofXK"),d=["modal"];function b(e,t){if(1&e&&(o.Vb(0,"div",14),o.Uc(1),o.Ub()),2&e){var n=o.nc(2);o.Cb(1),o.Wc(" ",n.formErrors.reason," ")}}var v=function(e){return{"input-error":e}};function m(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",1),o.Vb(1,"h4",2),o.Zb(2,3),o.Ub(),o.Vb(3,"my-global-icon",4),o.jc("click",function(){return o.Jc(n),o.nc().hide()}),o.Ub(),o.Ub(),o.Vb(4,"div",5),o.Vb(5,"form",6),o.jc("ngSubmit",function(){return o.Jc(n),o.nc().banUser()}),o.Vb(6,"div",7),o.Qb(7,"textarea",8),o.Sc(8,b,2,1,"div",9),o.Ub(),o.Vb(9,"div"),o.Zb(10,10),o.Ub(),o.Vb(11,"div",11),o.Vb(12,"input",12),o.jc("click",function(){return o.Jc(n),o.nc().hide()})("key.enter",function(){return o.Jc(n),o.nc().hide()}),o.Ub(),o.Qb(13,"input",13),o.Ub(),o.Ub(),o.Ub()}if(2&e){var r=o.nc();o.Cb(5),o.uc("formGroup",r.form),o.Cb(2),o.uc("ngClass",o.yc(4,v,r.formErrors.reason)),o.Cb(1),o.uc("ngIf",r.formErrors.reason),o.Cb(5),o.uc("disabled",!r.form.valid)}}var h=function(){var e=function(e){Ke(n,e);var t=Ye(n);function n(e,r,i,c){var a;return cn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=r,a.notifier=i,a.userService=c,a.userBanned=new o.n,a}return un(n,[{key:"ngOnInit",value:function(){this.buildForm({reason:a.a})}},{key:"openModal",value:function(e){this.usersToBan=e,this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.usersToBan=void 0,this.openedModal.close()}},{key:"banUser",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.userService.banUsers(this.usersToBan,this.form.value.reason||void 0).subscribe(function(){var e=Array.isArray(t.usersToBan)?"\n          " + t.usersToBan.length + " anv\xE4ndare blockerade.\n        ":"Anv\xE4ndaren " + t.usersToBan.username + " har blockerats.";t.notifier.success(e),t.userBanned.emit(t.usersToBan),t.hide()},function(e){return t.notifier.error(e.message)});case 1:case"end":return e.stop()}},e,this)}))}}]),n}(c.a);return e.\u0275fac=function(t){return new(t||e)(o.Pb(c.b),o.Pb(u.m),o.Pb(i.m),o.Pb(i.D))},e.\u0275cmp=o.Jb({type:e,selectors:[["my-user-ban-modal"]],viewQuery:function(e,t){var n;(1&e&&o.Pc(d,!0),2&e)&&(o.Gc(n=o.kc())&&(t.modal=n.first))},outputs:{userBanned:"userBanned"},features:[o.zb],decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Blockera",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Anledning \u2026","formControlName","reason",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],"\n        En blockerad anv\xE4ndare kommer inte l\xE4ngre kunna logga in.\n      ",[1,"form-group","inputs"],["type","button","role","button","value","Avbryt",1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value","Blockera den h\xE4r anv\xE4ndaren",1,"action-button-submit",3,"disabled"],[1,"form-error"]]},template:function(e,t){1&e&&o.Sc(0,m,14,6,"ng-template",null,0,o.Tc)},directives:[s.a,l.y,l.n,l.h,l.b,l.m,l.f,f.l,f.n],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}"]}),e}()},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},QLwe:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("JIr8"),o=n("ey9i"),i=n("AytR"),c=n("fXoL"),a=n("tk/3"),u=function(){var e=function(){function e(t,n){cn(this,e),this.authHttp=t,this.restExtractor=n}return un(e,[{key:"removeCommentsOf",value:function(t){var n=this;return this.authHttp.post(e.BASE_BULK_URL+"/remove-comments-of",t).pipe(Object(r.a)(function(e){return n.restExtractor.handleError(e)}))}}]),e}();return e.BASE_BULK_URL=i.a.apiUrl+"/api/v1/bulk",e.\u0275fac=function(t){return new(t||e)(c.gc(a.b),c.gc(o.r))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac}),e}()},TFwu:function(e,t,n){"use strict";var r=n("25cm"),o=n("jN84"),i=n("mkut");t.a=function(e){return Object(r.a)(e,i.a,o.a)}},TSHB:function(e,t,n){"use strict";var r=n("uE2L"),o=n("mkut"),i=n("fywt");t.a=function(e,t){var n={};return t=Object(i.a)(t,3),function(e,t){e&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),c=i.length;c--;){var a=i[++r];if(!1===t(o[a],a,o))break}}(e,t,o.a)}(e,function(e,o,i){Object(r.a)(n,o,t(e,o,i))}),n}},TnHx:function(e,t,n){"use strict";var r=n("25cm"),o=n("n561"),i=n("4/q3");t.a=function(e){return Object(r.a)(e,i.a,o.a)}},U6JX:function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},UudT:function(e,t,n){"use strict";var r=n("U6JX"),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},WJ6P:function(e,t,n){"use strict";t.a=function(){return[]}},WOAq:function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),o=n("L3Qv"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=c&&c.exports===i?r.a.Buffer:void 0;t.a=(a?a.isBuffer:void 0)||o.a}).call(this,n("3UD+")(e))},"XZU/":function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("fXoL"),o=n("ey9i"),i=n("sWvm"),c=(n("xMQD"),n("3Pt+")),a={VALIDATORS:[c.w.minLength(2),c.w.maxLength(300)],MESSAGES:{minlength:"Blockeringsorsaken m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Blockeringsorsaken f\xE5r inte vara mer \xE4n 300 tecken l\xE5ng."}},u=n("d8Kw"),s=n("1kSV"),l=n("ofXK"),f=n("UkmY"),d=n("/xt7"),b=["modal"];function v(e,t){if(1&e&&(r.Vb(0,"h4",14),r.Zb(1,15),r.Ub()),2&e){var n=r.nc(2);r.Cb(1),r.dc(n.video.name),r.ac(1)}}function m(e,t){if(1&e&&(r.Vb(0,"h4",14),r.Zb(1,16),r.Ub()),2&e){var n=r.nc(2);r.Cb(1),r.dc(n.video.name),r.ac(1)}}function h(e,t){if(1&e&&(r.Vb(0,"div",17),r.Uc(1),r.Ub()),2&e){var n=r.nc(2);r.Cb(1),r.Wc(" ",n.formErrors.reason," ")}}function p(e,t){1&e&&(r.Vb(0,"div",6),r.Vb(1,"my-peertube-checkbox",18),r.Tb(2,19),r.Vb(3,"span"),r.Zb(4,20),r.Ub(),r.Sb(),r.Ub(),r.Ub())}function g(e,t){1&e&&(r.Vb(0,"strong",21),r.Zb(1,22),r.Ub())}var y=function(e){return{"input-error":e}};function S(e,t){if(1&e){var n=r.Wb();r.Vb(0,"div",1),r.Sc(1,v,2,1,"h4",2),r.Sc(2,m,2,1,"h4",2),r.Vb(3,"my-global-icon",3),r.jc("click",function(){return r.Jc(n),r.nc().hide()}),r.Ub(),r.Ub(),r.Vb(4,"div",4),r.Vb(5,"form",5),r.jc("ngSubmit",function(){return r.Jc(n),r.nc().block()}),r.Vb(6,"div",6),r.Qb(7,"textarea",7),r.Sc(8,h,2,1,"div",8),r.Ub(),r.Sc(9,p,5,0,"div",9),r.Sc(10,g,2,0,"strong",10),r.Vb(11,"div",11),r.Vb(12,"input",12),r.jc("click",function(){return r.Jc(n),r.nc().hide()})("key.enter",function(){return r.Jc(n),r.nc().hide()}),r.Ub(),r.Qb(13,"input",13),r.Ub(),r.Ub(),r.Ub()}if(2&e){var o=r.nc();r.Cb(1),r.uc("ngIf",!o.video.isLive),r.Cb(1),r.uc("ngIf",o.video.isLive),r.Cb(3),r.uc("formGroup",o.form),r.Cb(2),r.uc("ngClass",r.yc(8,y,o.formErrors.reason)),r.Cb(1),r.uc("ngIf",o.formErrors.reason),r.Cb(1),r.uc("ngIf",o.video.isLocal),r.Cb(1),r.uc("ngIf",o.video.isLive),r.Cb(3),r.uc("disabled",!o.form.valid)}}var O,j=((O=function(e){Ke(n,e);var t=Ye(n);function n(e,o,i,c){var a;return cn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=o,a.videoBlocklistService=i,a.notifier=c,a.video=null,a.videoBlocked=new r.n,a.error=null,a}return un(n,[{key:"ngOnInit",value:function(){this.buildForm({reason:a,unfederate:null},{unfederate:"true"})}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"block",value:function(){var e=this,t=this.form.value.reason||void 0;this.videoBlocklistService.blockVideo(this.video.id,t,this.video.isLocal?this.form.value.unfederate:void 0).subscribe(function(){e.notifier.success("Video blockerad."),e.hide(),e.video.blacklisted=!0,e.video.blockedReason=t,e.videoBlocked.emit()},function(t){return e.notifier.error(t.message)})}}]),n}(i.a)).\u0275fac=function(e){return new(e||O)(r.Pb(i.b),r.Pb(s.m),r.Pb(u.a),r.Pb(o.m))},O.\u0275cmp=r.Jb({type:O,selectors:[["my-video-block"]],viewQuery:function(e,t){var n;1&e&&r.Pc(b,!0),2&e&&r.Gc(n=r.kc())&&(t.modal=n.first)},inputs:{video:"video"},outputs:{videoBlocked:"videoBlocked"},features:[r.zb],decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Orsak \u2026","formControlName","reason",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["class","form-group",4,"ngIf"],["class","live-info",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value","Avbryt",1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value","Skicka",1,"action-button-submit",3,"disabled"],[1,"modal-title"],"Blockera videon \u201D" + "\ufffd0\ufffd" + "\u201D","Blockera direkts\xE4ndning \"" + "\ufffd0\ufffd" + "\"",[1,"form-error"],["inputName","unfederate","formControlName","unfederate","labelText","Upph\xF6r federera videon"],["ngProjectAs","description",5,["description"]],"Fj\xE4rrinstansen kommer ombes ta bort den",[1,"live-info"],"Blockering kommer inneb\xE4ra att direkts\xE4ndningen bryts."]},template:function(e,t){1&e&&r.Sc(0,S,14,10,"ng-template",null,0,r.Tc)},directives:[l.n,f.a,c.y,c.n,c.h,c.b,c.m,c.f,l.l,d.a],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.live-info[_ngcontent-%COMP%]{font-size:15px;margin:40px 0 20px}"]}),O)},YM6B:function(e,t,n){"use strict";var r=n("Y7yP"),o=n("Ju5/"),i=Object(r.a)(o.a,"DataView"),c=n("3cmB"),a=Object(r.a)(o.a,"Promise"),u=n("pVw1"),s=Object(r.a)(o.a,"WeakMap"),l=n("8M4i"),f=n("dLWn"),d=Object(f.a)(i),b=Object(f.a)(c.a),v=Object(f.a)(a),m=Object(f.a)(u.a),h=Object(f.a)(s),p=l.a;(i&&"[object DataView]"!=p(new i(new ArrayBuffer(1)))||c.a&&"[object Map]"!=p(new c.a)||a&&"[object Promise]"!=p(a.resolve())||u.a&&"[object Set]"!=p(new u.a)||s&&"[object WeakMap]"!=p(new s))&&(p=function(e){var t=Object(l.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case d:return"[object DataView]";case b:return"[object Map]";case v:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return t}),t.a=p},ZWiB:function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},d8Kw:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("Cfvw"),o=n("lJxs"),i=n("JIr8"),c=n("bOdf"),a=n("IAdc"),u=n("tk/3"),s=n("ey9i"),l=n("AytR"),f=n("fXoL"),d=function(){var e=function(){function e(t,n,r){cn(this,e),this.authHttp=t,this.restService=n,this.restExtractor=r}return un(e,[{key:"listBlocks",value:function(t){var n=this,r=t.pagination,c=t.sort,a=t.search,s=t.type,l=new u.f;if(l=this.restService.addRestGetParams(l,r,c),a){var f=this.restService.parseQueryStringFilter(a,{type:{prefix:"type:",handler:function(e){return"manual"===e?1:"auto"===e?2:void 0}}});l=this.restService.addObjectParams(l,f)}return s&&(l=l.append("type",s.toString())),this.authHttp.get(e.BASE_VIDEOS_URL+"blacklist",{params:l}).pipe(Object(o.a)(function(e){return n.restExtractor.convertResultListDateToHuman(e)}),Object(i.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"unblockVideo",value:function(t){var n=this,o=Array.isArray(t)?t:[t];return Object(r.a)(o).pipe(Object(c.a)(function(t){return n.authHttp.delete(e.BASE_VIDEOS_URL+t+"/blacklist")}),Object(a.a)(),Object(i.a)(function(e){return n.restExtractor.handleError(e)}))}},{key:"blockVideo",value:function(t,n,r){var c=this;return this.authHttp.post(e.BASE_VIDEOS_URL+t+"/blacklist",{unfederate:r,reason:n}).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(i.a)(function(e){return c.restExtractor.handleError(e)}))}}]),e}();return e.BASE_VIDEOS_URL=l.a.apiUrl+"/api/v1/videos/",e.\u0275fac=function(t){return new(t||e)(f.gc(u.b),f.gc(s.s),f.gc(s.r))},e.\u0275prov=f.Lb({token:e,factory:e.\u0275fac}),e}()},fywt:function(e,t,n){"use strict";var r=n("oSzE"),o=n("msdH"),i=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},c=n("ZWiB"),a=function(e,t,n,r,a,u){var s=1&n,l=e.length,f=t.length;if(l!=f&&!(s&&f>l))return!1;var d=u.get(e);if(d&&u.get(t))return d==t;var b=-1,v=!0,m=2&n?new o.a:void 0;for(u.set(e,t),u.set(t,e);++b<l;){var h=e[b],p=t[b];if(r)var g=s?r(p,h,b,t,e,u):r(h,p,b,e,t,u);if(void 0!==g){if(g)continue;v=!1;break}if(m){if(!i(t,function(e,t){if(!Object(c.a)(m,t)&&(h===e||a(h,e,n,r,u)))return m.push(t)})){v=!1;break}}else if(h!==p&&!a(h,p,n,r,u)){v=!1;break}}return u.delete(e),u.delete(t),v},u=n("ylTp"),s=n("Ce4a"),l=n("YHEm"),f=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},d=n("GYlH"),b=u.a?u.a.prototype:void 0,v=b?b.valueOf:void 0,m=n("TFwu"),h=Object.prototype.hasOwnProperty,p=n("YM6B"),g=n("/1FC"),y=n("WOAq"),S=n("oYcn"),O="[object Object]",j=Object.prototype.hasOwnProperty,k=n("EUcb"),A=function e(t,n,o,i,c){return t===n||(null==t||null==n||!Object(k.a)(t)&&!Object(k.a)(n)?t!=t&&n!=n:function(e,t,n,o,i,c){var u=Object(g.a)(e),b=Object(g.a)(t),k=u?"[object Array]":Object(p.a)(e),A=b?"[object Array]":Object(p.a)(t),x=(k="[object Arguments]"==k?O:k)==O,C=(A="[object Arguments]"==A?O:A)==O,E=k==A;if(E&&Object(y.a)(e)){if(!Object(y.a)(t))return!1;u=!0,x=!1}if(E&&!x)return c||(c=new r.a),u||Object(S.a)(e)?a(e,t,n,o,i,c):function(e,t,n,r,o,i,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new s.a(e),new s.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=f;case"[object Set]":if(u||(u=d.a),e.size!=t.size&&!(1&r))return!1;var b=c.get(e);if(b)return b==t;r|=2,c.set(e,t);var m=a(u(e),u(t),r,o,i,c);return c.delete(e),m;case"[object Symbol]":if(v)return v.call(e)==v.call(t)}return!1}(e,t,k,n,o,i,c);if(!(1&n)){var w=x&&j.call(e,"__wrapped__"),U=C&&j.call(t,"__wrapped__");if(w||U){var _=w?e.value():e,R=U?t.value():t;return c||(c=new r.a),i(_,R,n,o,c)}}return!!E&&(c||(c=new r.a),function(e,t,n,r,o,i){var c=1&n,a=Object(m.a)(e),u=a.length;if(u!=Object(m.a)(t).length&&!c)return!1;for(var s=u;s--;){var l=a[s];if(!(c?l in t:h.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);for(var b=c;++s<u;){var v=e[l=a[s]],p=t[l];if(r)var g=c?r(p,v,l,t,e,i):r(v,p,l,e,t,i);if(!(void 0===g?v===p||o(v,p,n,r,i):g)){d=!1;break}b||(b="constructor"==l)}if(d&&!b){var y=e.constructor,S=t.constructor;y==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof S&&S instanceof S||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,o,i,c))}(t,n,o,i,e,c))},x=n("IzLi"),C=function(e){return e==e&&!Object(x.a)(e)},E=n("mkut"),w=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},U=n("UTJH"),_=n("K160"),R=n("vY+C"),z=n("Tchk"),I=n("+Xah"),B=n("FSIP");t.a=function(e){return"function"==typeof e?e:null==e?I.a:"object"==typeof e?Object(g.a)(e)?(o=e[0],i=e[1],Object(R.a)(o)&&C(i)?w(Object(z.a)(o),i):function(e){var t=function(e,t,n){var r=null==e?void 0:Object(U.a)(e,t);return void 0===r?void 0:r}(e,o);return void 0===t&&t===i?Object(_.a)(e,o):A(i,t,3)}):1==(n=function(e){for(var t=Object(E.a)(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,C(o)]}return t}(t=e)).length&&n[0][2]?w(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,o){var i=n.length,c=i;if(null==e)return!c;for(e=Object(e);i--;){var a=n[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<c;){var u=(a=n[i])[0],s=e[u],l=a[1];if(a[2]){if(void 0===s&&!(u in e))return!1}else{var f=new r.a;if(!A(l,s,3,void 0,f))return!1}}return!0}(e,0,n)}:function(e){return Object(R.a)(e)?Object(B.a)(Object(z.a)(e)):function(e){return function(t){return Object(U.a)(t,e)}}(e)}(e);var t,n,o,i}},ix8N:function(e,t,n){"use strict";n.d(t,"d",function(){return o.a}),n.d(t,"b",function(){return i.a}),n.d(t,"c",function(){return i.b}),n.d(t,"a",function(){return u});var r,o=n("GeT4"),i=n("8i4Y"),c=n("Nmku"),a=n("fXoL"),u=((r=function e(){cn(this,e)}).\u0275mod=a.Nb({type:r}),r.\u0275inj=a.Mb({factory:function(e){return new(e||r)},providers:[o.a],imports:[[c.a]]}),r)},jN84:function(e,t,n){"use strict";var r=n("WJ6P"),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.a=i?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,i=null==t?0:t.length,c=0,a=[];++r<i;){var u=t[r];o.call(e,u)&&(a[c++]=u)}return a}(i(e)))}:r.a},m8R6:function(e,t,n){"use strict";var r=n("twO/"),o=n("oSzE"),i=n("23KU"),c=n("uE2L"),a=function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Object(c.a)(n,s,l):Object(i.a)(n,s,l)}return n},u=n("mkut"),s=n("4/q3"),l=n("3/ER"),f=n("jN84"),d=n("n561"),b=n("TFwu"),v=n("TnHx"),m=n("YM6B"),h=Object.prototype.hasOwnProperty,p=n("Ce4a"),g=function(e){var t=new e.constructor(e.byteLength);return new p.a(t).set(new p.a(e)),t},y=/\w*$/,S=n("ylTp"),O=S.a?S.a.prototype:void 0,j=O?O.valueOf:void 0,k=n("IzLi"),A=Object.create,x=function(){function e(){}return function(t){if(!Object(k.a)(t))return{};if(A)return A(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),C=n("UudT"),E=n("pyRK"),w=n("/1FC"),U=n("WOAq"),_=n("EUcb"),R=n("ovuK"),z=n("xutz"),I=z.a&&z.a.isMap,B=I?Object(R.a)(I):function(e){return Object(_.a)(e)&&"[object Map]"==Object(m.a)(e)},P=z.a&&z.a.isSet,L=P?Object(R.a)(P):function(e){return Object(_.a)(e)&&"[object Set]"==Object(m.a)(e)},V={};V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object DataView]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object Symbol]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Error]"]=V["[object Function]"]=V["[object WeakMap]"]=!1;var T=function e(t,n,r,c,p,S){var O,A=1&n,_=2&n,R=4&n;if(r&&(O=p?r(t,c,p,S):r(t)),void 0!==O)return O;if(!Object(k.a)(t))return t;var z=Object(w.a)(t);if(z){if(O=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&h.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!A)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,O)}else{var I=Object(m.a)(t),P="[object Function]"==I||"[object GeneratorFunction]"==I;if(Object(U.a)(t))return Object(l.a)(t,A);if("[object Object]"==I||"[object Arguments]"==I||P&&!p){if(O=_||P?{}:function(e){return"function"!=typeof e.constructor||Object(E.a)(e)?{}:x(Object(C.a)(e))}(t),!A)return _?function(e,t){return a(e,Object(d.a)(e),t)}(t,function(e,t){return e&&a(t,Object(s.a)(t),e)}(O,t)):function(e,t){return a(e,Object(f.a)(e),t)}(t,function(e,t){return e&&a(t,Object(u.a)(t),e)}(O,t))}else{if(!V[I])return p?t:{};O=function(e,t,n){var r,o,i=e.constructor;switch(t){case"[object ArrayBuffer]":return g(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return(o=new(r=e).constructor(r.source,y.exec(r))).lastIndex=r.lastIndex,o;case"[object Set]":return new i;case"[object Symbol]":return j?Object(j.call(e)):{}}}(t,I,A)}}S||(S=new o.a);var T=S.get(t);if(T)return T;S.set(t,O),L(t)?t.forEach(function(o){O.add(e(o,n,r,o,t,S))}):B(t)&&t.forEach(function(o,i){O.set(i,e(o,n,r,i,t,S))});var $=R?_?v.a:b.a:_?keysIn:u.a,M=z?void 0:$(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(M||t,function(o,c){M&&(o=t[c=o]),Object(i.a)(O,c,e(o,n,r,c,t,S))}),O},$=n("IlA0"),M=n("UTJH"),D=n("5iG2"),H=n("Tchk"),N=function(e,t){return null==(e=function(e,t){return t.length<2?e:Object(M.a)(e,Object(D.a)(t,0,-1))}(e,t=Object($.a)(t,e)))||delete e[Object(H.a)((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r},G=n("8M4i"),W=Function.prototype.toString,F=Object.prototype.hasOwnProperty,J=W.call(Object),q=function(e){return function(e){if(!Object(_.a)(e)||"[object Object]"!=Object(G.a)(e))return!1;var t=Object(C.a)(e);if(null===t)return!0;var n=F.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&W.call(n)==J}(e)?void 0:e},K=n("Tjpy"),Q=Object(K.a)(function(e,t){var n={};if(null==e)return n;var o=!1;t=Object(r.a)(t,function(t){return t=Object($.a)(t,e),o||(o=t.length>1),t}),a(e,Object(v.a)(e),n),o&&(n=T(n,7,q));for(var i=t.length;i--;)N(n,t[i]);return n});t.a=Q},mkut:function(e,t,n){"use strict";var r=n("7gMY"),o=n("pyRK"),i=n("U6JX"),c=Object(i.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty,u=n("5WsY");t.a=function(e){return Object(u.a)(e)?Object(r.a)(e):function(e){if(!Object(o.a)(e))return c(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}},msdH:function(e,t,n){"use strict";var r=n("DlmY");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},o.prototype.has=function(e){return this.__data__.has(e)},t.a=o},n561:function(e,t,n){"use strict";var r=n("tPH9"),o=n("UudT"),i=n("jN84"),c=n("WJ6P");t.a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(r.a)(t,Object(i.a)(e)),e=Object(o.a)(e);return t}:c.a},"nnN+":function(e,t,n){"use strict";n.d(t,"l",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return V}),n.d(t,"g",function(){return T}),n.d(t,"i",function(){return $}),n.d(t,"h",function(){return M}),n.d(t,"c",function(){return D}),n.d(t,"n",function(){return H}),n.d(t,"m",function(){return N}),n.d(t,"j",function(){return G}),n.d(t,"e",function(){return W}),n.d(t,"d",function(){return F}),n.d(t,"k",function(){return J}),n.d(t,"a",function(){return q});var r,o=n("3Pt+"),i={VALIDATORS:[o.w.required,o.w.minLength(1),o.w.maxLength(50),o.w.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"Anv\xE4ndarnamn m\xE5ste fyllas i.",minlength:"Anv\xE4ndarnamnet m\xE5ste inneh\xE5lla minst ett tecken.",maxlength:"Anv\xE4ndarnamnet f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt.",pattern:"Anv\xE4ndarnamnet f\xE5r inneh\xE5lla gemener, siffror, punkter samt understreck."}},c={VALIDATORS:[o.w.required,o.w.minLength(1),o.w.maxLength(50),o.w.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"Kanalens namn m\xE5ste uppges.",minlength:"Kanalens namn m\xE5ste inneh\xE5lla minste ett tecken.",maxlength:"Kanalens namn f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt.",pattern:"Kanalnamnet f\xE5r inneh\xE5lla gemener, siffror, punkter och understreck."}},V={VALIDATORS:[o.w.required,o.w.email],MESSAGES:{required:"E-postadress m\xE5ste uppges.",email:"E-postadressen m\xE5ste vara giltig."}},T={VALIDATORS:[o.w.required],MESSAGES:{required:"L\xF6senord m\xE5ste fyllas i."}},$={VALIDATORS:[o.w.required,o.w.minLength(6),o.w.maxLength(255)],MESSAGES:{required:"L\xF6senord m\xE5ste fyllas i.",minlength:"L\xF6senordet m\xE5ste inneh\xE5lla minst sex tecken.",maxlength:"L\xF6senordet f\xE5r inte vara mer \xE4n 255 tecken l\xE5ngt."}},M={VALIDATORS:[o.w.minLength(6),o.w.maxLength(255)],MESSAGES:{minlength:"L\xF6senordet m\xE5ste inneh\xE5lla minst sex tecken.",maxlength:"L\xF6senordet f\xE5r inte vara mer \xE4n 255 tecken l\xE5ngt."}},D={VALIDATORS:[],MESSAGES:{matchPassword:"Det nya l\xF6senordet och det bekr\xE4ftade l\xF6senordet st\xE4mmer inte \xF6verens."}},H={VALIDATORS:[o.w.required,o.w.min(-1)],MESSAGES:{required:"Videokvot m\xE5ste anges.",min:"Kvot m\xE5ste vara st\xF6rre \xE4n \u22121."}},N={VALIDATORS:[o.w.required,o.w.min(-1)],MESSAGES:{required:"Daglig uppladdningsgr\xE4ns m\xE5ste anges.",min:"Daglig uppladdningsgr\xE4ns m\xE5ste vara h\xF6gre \xE4n \u22121."}},G={VALIDATORS:[o.w.required],MESSAGES:{required:"Anv\xE4ndarroll kr\xE4vs."}},W=((r={VALIDATORS:[o.w.minLength(1),o.w.maxLength(120)],MESSAGES:{required:"Visningsnamn kr\xE4vs.",minlength:"Visningsnamnet m\xE5ste inneh\xE5lla minst ett tecken.",maxlength:"Visningsnamnet f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt."}}).VALIDATORS.push(o.w.required),r),F={VALIDATORS:[o.w.minLength(3),o.w.maxLength(1e3)],MESSAGES:{minlength:"Beskrivningen m\xE5ste inneh\xE5lla minst tre tecken.",maxlength:"Beskrivningen f\xE5r inte vara mer \xE4n 1000 tecken l\xE5ng."}},J={VALIDATORS:[o.w.requiredTrue],MESSAGES:{required:"Du m\xE5ste godk\xE4nna instansens villkor f\xF6r att registrera dig p\xE5 den."}},q={VALIDATORS:[o.w.minLength(3),o.w.maxLength(250)],MESSAGES:{minlength:"Blockeringsanledningen m\xE5ste inneh\xE5lla minst tre tecken.",maxlength:"Blockeringsanledningen f\xE5r inte vara mer \xE4n 250 tecken l\xE5ng."}}},oSzE:function(e,t,n){"use strict";var r=n("nLtN"),o=n("3cmB"),i=n("DlmY");function c(e){var t=this.__data__=new r.a(e);this.size=t.size}c.prototype.clear=function(){this.__data__=new r.a,this.size=0},c.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},c.prototype.get=function(e){return this.__data__.get(e)},c.prototype.has=function(e){return this.__data__.has(e)},c.prototype.set=function(e,t){var n=this.__data__;if(n instanceof r.a){var c=n.__data__;if(!o.a||c.length<199)return c.push([e,t]),this.size=++n.size,this;n=this.__data__=new i.a(c)}return n.set(e,t),this.size=n.size,this},t.a=c},oYcn:function(e,t,n){"use strict";var r=n("8M4i"),o=n("Js68"),i=n("EUcb"),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var a=n("ovuK"),u=n("xutz"),s=u.a&&u.a.isTypedArray,l=s?Object(a.a)(s):function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!c[Object(r.a)(e)]};t.a=l},pVw1:function(e,t,n){"use strict";var r=n("Y7yP"),o=n("Ju5/"),i=Object(r.a)(o.a,"Set");t.a=i},pyRK:function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},re7S:function(a,u,s){"use strict";s.d(u,"a",function(){return I});var l=s("TSHB"),f=s("u3oV"),d=s("ey9i"),b=s("4joM"),v=s("sWvm"),m=(s("ix8N"),s("3ZlK")),h=s("9dYW"),p=s("fXoL"),g=s("1kSV"),y=s("UkmY"),S=s("3Pt+"),O=s("ofXK"),j=s("/xt7"),k=s("BLxp"),A=["modal"];function x(e,t){if(1&e&&p.Qb(0,"div",26),2&e){var n=p.nc(2).$implicit;p.uc("innerHTML",n.help,p.Kc)}}function C(e,t){1&e&&p.Sc(0,x,1,1,"ng-template",25)}function E(e,t){if(1&e&&(p.Tb(0,27),p.Qb(1,"div",26),p.Sb()),2&e){var n=p.nc().$implicit;p.Cb(1),p.uc("innerHTML",n.description,p.Kc)}}function w(e,t){if(1&e&&(p.Vb(0,"div",17),p.Vb(1,"my-peertube-checkbox",23),p.Sc(2,C,1,0,void 0,16),p.Sc(3,E,2,1,"ng-container",24),p.Ub(),p.Ub()),2&e){var n=t.$implicit;p.Cb(1),p.uc("inputName",n.id)("formControlName",n.id)("labelText",n.label),p.Cb(1),p.uc("ngIf",n.help),p.Cb(1),p.uc("ngIf",n.description)}}function U(e,t){if(1&e&&(p.fc(0,15,1),p.Rb(1),p.cc()),2&e){var n=p.nc(2);p.Cb(1),p.dc(n.originHost),p.ac(0)}}function _(e,t){if(1&e&&(p.Vb(0,"div",28),p.Uc(1),p.Ub()),2&e){var n=p.nc(2);p.Cb(1),p.Wc(" ",n.formErrors.reason," ")}}var R=function(e){return{"input-error":e}};function z(e,t){if(1&e){var n=p.Wb();p.Vb(0,"div",1),p.Vb(1,"h4",2),p.Uc(2),p.Ub(),p.Vb(3,"my-global-icon",3),p.jc("click",function(){return p.Jc(n),p.nc().hide()}),p.Ub(),p.Ub(),p.Vb(4,"div",4),p.Vb(5,"form",5),p.jc("ngSubmit",function(){return p.Jc(n),p.nc().report()}),p.Vb(6,"div",6),p.Vb(7,"div",7),p.Vb(8,"label",8),p.Zb(9,9),p.Ub(),p.Vb(10,"div",10),p.Tb(11,11),p.Sc(12,w,4,5,"div",12),p.Sb(),p.Ub(),p.Ub(),p.Vb(13,"div",13),p.Vb(14,"div",14),p.fc(15,15),p.Sc(16,U,2,1,"ng-container",16),p.cc(),p.Ub(),p.Vb(17,"div",17),p.Qb(18,"textarea",18),p.Sc(19,_,2,1,"div",19),p.Ub(),p.Ub(),p.Ub(),p.Vb(20,"div",20),p.Vb(21,"input",21),p.jc("click",function(){return p.Jc(n),p.nc().hide()})("key.enter",function(){return p.Jc(n),p.nc().hide()}),p.Ub(),p.Qb(22,"input",22),p.Ub(),p.Ub(),p.Ub()}if(2&e){var r=p.nc();p.Cb(2),p.Vc(r.modalTitle),p.Cb(3),p.uc("formGroup",r.form),p.Cb(7),p.uc("ngForOf",r.predefinedReasons),p.Cb(4),p.uc("ngIf",r.isRemote()),p.dc(r.currentHost),p.ac(15),p.Cb(2),p.uc("ngClass",p.yc(8,R,r.formErrors.reason)),p.Cb(1),p.uc("ngIf",r.formErrors.reason),p.Cb(3),p.uc("disabled",!r.form.valid)}}var I=function(){var a=function(e){Ke(n,e);var t=Ye(n);function n(e,r,o,i){var c;return cn(this,n),(c=t.call(this)).formValidatorService=e,c.modalService=r,c.abuseService=o,c.notifier=i,c.comment=null,c.error=null,c.predefinedReasons=[],c}return un(n,[{key:"ngOnInit",value:function(){this.modalTitle="Anm\xE4l kommentar",this.buildForm({reason:b.c,predefinedReasons:Object(l.a)(m.a,function(e){return null})}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("comment")}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(f.a)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:t,predefinedReasons:n,comment:{id:this.comment.id}}).subscribe(function(){e.notifier.success("Kommentaren har anm\xE4lts."),e.hide()},function(t){return e.notifier.error(t.message)})}},{key:"isRemote",value:function(){return!this.comment.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.comment.account.host:""}}]),n}(v.a);return a.\u0275fac=function(e){return new(e||a)(p.Pb(v.b),p.Pb(g.m),p.Pb(h.a),p.Pb(d.m))},a.\u0275cmp=p.Jb({type:a,selectors:[["my-comment-report"]],viewQuery:function(e,t){var n;(1&e&&p.Pc(A,!0),2&e)&&(p.Gc(n=p.kc())&&(t.modal=n.first))},inputs:{comment:"comment"},features:[p.zb],decls:2,vars:0,consts:function(){var i,c,a,u;return i="Vad \xE4r problemet?",c="Beskriv problemet \u2026",a="Avbryt",u="Skicka",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],i,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + " och \xE4ven vidarebefordras till kommentarens heminstans (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["placeholder",c,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",a,1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value",u,1,"action-button-submit",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(e,t){1&e&&p.Sc(0,z,23,10,"ng-template",null,0,p.Tc)},directives:[y.a,S.y,S.n,S.h,S.i,O.m,O.n,S.b,S.m,S.f,O.l,j.a,k.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),a}()},u3oV:function(e,t,n){"use strict";var r=n("twO/"),o=n("fywt"),i=n("MKnB"),c=n("TnHx");t.a=function(e,t){if(null==e)return{};var n=Object(r.a)(Object(c.a)(e),function(e){return[e]});return t=Object(o.a)(t),Object(i.a)(e,n,function(e,n){return t(e,n[0])})}},xHIW:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("xMQD"),o=function e(t){cn(this,e),this.byAccount=new r.a(t.byAccount),this.blockedAccount=new r.a(t.blockedAccount),this.createdAt=t.createdAt}}}])}();