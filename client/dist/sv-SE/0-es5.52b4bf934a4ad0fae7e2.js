!function(){function e(){var t=tn([":\u241fb56702ff10875710f111634cc315cd3ef01b206f\u241f4471487726554766784: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the comment origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return e=function(){return t},t}function t(){var e=tn([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return t=function(){return e},e}function n(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return n=function(){return e},e}function r(){var e=tn([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return r=function(){return e},e}function o(){var e=tn([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return o=function(){return e},e}function c(){var e=tn(["Comment reported."]);return c=function(){return e},e}function i(){var e=tn(["Report comment"]);return i=function(){return e},e}function a(){var e=tn(["Ban reason cannot be more than 250 characters long."]);return a=function(){return e},e}function u(){var e=tn(["Ban reason must be at least 3 characters long."]);return u=function(){return e},e}function s(){var e=tn(["You must agree with the instance terms in order to register on it."]);return s=function(){return e},e}function l(){var e=tn(["Description cannot be more than 1000 characters long."]);return l=function(){return e},e}function f(){var e=tn(["Description must be at least 3 characters long."]);return f=function(){return e},e}function d(){var e=tn(["Display name cannot be more than 50 characters long."]);return d=function(){return e},e}function b(){var e=tn(["Display name must be at least 1 character long."]);return b=function(){return e},e}function v(){var e=tn(["Display name is required."]);return v=function(){return e},e}function m(){var e=tn(["User role is required."]);return m=function(){return e},e}function h(){var e=tn(["Daily upload limit must be greater than -1."]);return h=function(){return e},e}function p(){var e=tn(["Daily upload limit is required."]);return p=function(){return e},e}function g(){var e=tn(["Quota must be greater than -1."]);return g=function(){return e},e}function y(){var e=tn(["Video quota is required."]);return y=function(){return e},e}function O(){var e=tn(["The new password and the confirmed password do not correspond."]);return O=function(){return e},e}function S(){var e=tn(["Password cannot be more than 255 characters long."]);return S=function(){return e},e}function k(){var e=tn(["Password must be at least 6 characters long."]);return k=function(){return e},e}function j(){var e=tn(["Password cannot be more than 255 characters long."]);return j=function(){return e},e}function A(){var e=tn(["Password must be at least 6 characters long."]);return A=function(){return e},e}function x(){var e=tn(["Password is required."]);return x=function(){return e},e}function E(){var e=tn(["Email must be valid."]);return E=function(){return e},e}function _(){var e=tn(["Email is required."]);return _=function(){return e},e}function R(){var e=tn(["Channel name should be lowercase alphanumeric; dots and underscores are allowed."]);return R=function(){return e},e}function w(){var e=tn(["Channel name cannot be more than 50 characters long."]);return w=function(){return e},e}function C(){var e=tn(["Channel name must be at least 1 character long."]);return C=function(){return e},e}function z(){var e=tn(["Channel name is required."]);return z=function(){return e},e}function B(){var e=tn(["Username should be lowercase alphanumeric; dots and underscores are allowed."]);return B=function(){return e},e}function T(){var e=tn(["Username cannot be more than 50 characters long."]);return T=function(){return e},e}function I(){var e=tn(["Username must be at least 1 character long."]);return I=function(){return e},e}function V(){var e=tn(["Username is required."]);return V=function(){return e},e}function L(){var e=tn([":\u241f297603f796b0d287ac02b80d5aca6156c91a8fea\u241f4710350176324657996:This will ask remote instances to delete it"]);return L=function(){return e},e}function U(){var e=tn([":\u241f0cd0f27936731dabfd8d89277b781d5dd664bc89\u241f8558962068274430520:Unfederate the video"]);return U=function(){return e},e}function D(){var e=tn([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return D=function(){return e},e}function M(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return M=function(){return e},e}function P(){var e=tn([":\u241fdc3bdad5421d0ee7ddd76ae62b699d72dd9f61b4\u241f7256462927215762997:Please describe the reason..."]);return P=function(){return e},e}function $(){var e=tn([':\u241fdbabcb47dc77c29275d0f836280ef1dcd924fdb9\u241f6819670313991605068:Block video "',':INTERPOLATION:"']);return $=function(){return e},e}function W(){var e=tn(["Video blocked."]);return W=function(){return e},e}function G(){var e=tn(["Block reason cannot be more than 300 characters long."]);return G=function(){return e},e}function H(){var e=tn(["Block reason must be at least 2 characters long."]);return H=function(){return e},e}function N(){var e=tn([":\u241f35fdca47605de8113a0db7f587f7c099abec8020\u241f3616223838716839702:Ban this user"]);return N=function(){return e},e}function K(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return K=function(){return e},e}function Q(){var e=tn([":\u241ff21428bd564d1cacdbc737f87a8def2e2ad42251\u241f9193838977237822053: A banned user will no longer be able to login. "]);return Q=function(){return e},e}function F(){var e=tn([":\u241fbb44873ad8d4c5dbad0ac2a6a50e0ceee9119125\u241f6325096236207614377:Reason..."]);return F=function(){return e},e}function q(){var e=tn([":\u241f6a323f80f9d90a32db8ce52cc82075938c3c36f0\u241f4209525355702493436:Ban"]);return q=function(){return e},e}function X(){var e=tn(["User "," banned."]);return X=function(){return e},e}function Y(){var e=tn([""," users banned."]);return Y=function(){return e},e}function J(){var e=tn(["Instance "," muted by your instance."]);return J=function(){return e},e}function Z(){var e=tn(["Instance "," muted."]);return Z=function(){return e},e}function ee(){var e=tn(["Instance "," unmuted by your instance."]);return ee=function(){return e},e}function te(){var e=tn(["Instance "," unmuted."]);return te=function(){return e},e}function ne(){var e=tn(["Account "," unmuted by your instance."]);return ne=function(){return e},e}function re(){var e=tn(["Account "," unmuted."]);return re=function(){return e},e}function oe(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return oe=function(){return e},e}function ce(){var e=tn([':\u241f4e8635c108375983b42229df44bda8c0af84f396\u241f3516494528184217808:1 host (without "http://") per line']);return ce=function(){return e},e}function ie(){var e=tn([":\u241f270a185f179774aa3cee3120ed4f5650e8816b9f\u241f5618843729716980110:",":INTERPOLATION:"]);return ie=function(){return e},e}function ae(){var e=tn(["Process domains"]);return ae=function(){return e},e}function ue(){var e=tn(["Domains entered contain duplicates."]);return ue=function(){return e},e}function se(){var e=tn(["Domains entered are invalid."]);return se=function(){return e},e}function le(){var e=tn(["Domain is required."]);return le=function(){return e},e}function fe(){var e=tn([""," is not valid"]);return fe=function(){return e},e}function de(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(){var e=tn([":\u241f020d5da7c3f4726e3623587a05a11f00e1d40409\u241f8271428541831612630: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the video origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return ve=function(){return e},e}function me(){var e=tn([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return me=function(){return e},e}function he(){var e=tn([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return he=function(){return e},e}function pe(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return pe=function(){return e},e}function ge(){var e=tn([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return ge=function(){return e},e}function ye(){var e=tn([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return ye=function(){return e},e}function Oe(){var e=tn([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return Oe=function(){return e},e}function Se(){var e=tn([':\u241f448d436df053141260523149173073ccbb0259f9\u241f1831724022617001200:Report video "',':INTERPOLATION:"']);return Se=function(){return e},e}function ke(){var e=tn(["Video reported."]);return ke=function(){return e},e}function je(){var e=tn(["The above can only be seen in captions (please describe which)."]);return je=function(){return e},e}function Ae(){var e=tn(["Captions"]);return Ae=function(){return e},e}function xe(){var e=tn(["The above can only be seen in thumbnails."]);return xe=function(){return e},e}function Ee(){var e=tn(["Thumbnails"]);return Ee=function(){return e},e}function _e(){var e=tn(["Anything not included in the above that breaks the terms of service, code of conduct, or general rules in place on the server."]);return _e=function(){return e},e}function Re(){var e=tn(["Breaks server rules"]);return Re=function(){return e},e}function we(){var e=tn(["Infringes your copyright wrt. the regional laws with which the server must comply."]);return we=function(){return e},e}function Ce(){var e=tn(["Copyright"]);return Ce=function(){return e},e}function ze(){var e=tn(["Contains personal information that could be used to track, identify, contact or impersonate someone (e.g. name, address, phone number, email, or credit card details)."]);return ze=function(){return e},e}function Be(){var e=tn(["Privacy breach or doxxing"]);return Be=function(){return e},e}function Te(){var e=tn(["Contains marketing, spam, purposefully deceitful news, or otherwise misleading thumbnail/text/tags. Please provide reputable sources to report hoaxes."]);return Te=function(){return e},e}function Ie(){var e=tn(["Spam, ad or false news"]);return Ie=function(){return e},e}function Ve(){var e=tn(["Contains abusive, racist or sexist language or iconography."]);return Ve=function(){return e},e}function Le(){var e=tn(["Hateful or abusive"]);return Le=function(){return e},e}function Ue(){var e=tn(["Contains offensive, violent, or coarse language or iconography."]);return Ue=function(){return e},e}function De(){var e=tn(["Violent or repulsive"]);return De=function(){return e},e}function Me(){var e=tn([":\u241fb56702ff10875710f111634cc315cd3ef01b206f\u241f4471487726554766784: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the comment origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return Me=function(){return e},e}function Pe(){var e=tn([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return Pe=function(){return e},e}function $e(){var e=tn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return $e=function(){return e},e}function We(){var e=tn([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return We=function(){return e},e}function Ge(){var e=tn([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return Ge=function(){return e},e}function He(){var e=tn(["Account reported."]);return He=function(){return e},e}function Ne(){var e=tn(["Report ",""]);return Ne=function(){return e},e}function Ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(){var e=tn(["Abuse message cannot be more than 3000 characters long."]);return Ye=function(){return e},e}function Je(){var e=tn(["Abuse message must be at least 2 characters long."]);return Je=function(){return e},e}function Ze(){var e=tn(["Abuse message is required."]);return Ze=function(){return e},e}function et(){var e=tn(["Moderation comment cannot be more than 3000 characters long."]);return et=function(){return e},e}function tt(){var e=tn(["Moderation comment must be at least 2 characters long."]);return tt=function(){return e},e}function nt(){var e=tn(["Moderation comment is required."]);return nt=function(){return e},e}function rt(){var e=tn(["Report reason cannot be more than 3000 characters long."]);return rt=function(){return e},e}function ot(){var e=tn(["Report reason must be at least 2 characters long."]);return ot=function(){return e},e}function ct(){var e=tn(["Report reason is required."]);return ct=function(){return e},e}function it(){var e=tn(["Remove comments of this account from your instance."]);return it=function(){return e},e}function at(){var e=tn(["Remove comments from your instance"]);return at=function(){return e},e}function ut(){var e=tn(["Show back content from that instance for you, your instance and its users."]);return ut=function(){return e},e}function st(){var e=tn(["Unmute the instance by your instance"]);return st=function(){return e},e}function lt(){var e=tn(["Hide any content from that instance for you, your instance and its users."]);return lt=function(){return e},e}function ft(){var e=tn(["Mute the instance by your instance"]);return ft=function(){return e},e}function dt(){var e=tn(["Show back content from that user for you, your instance and its users."]);return dt=function(){return e},e}function bt(){var e=tn(["Unmute this account by your instance"]);return bt=function(){return e},e}function vt(){var e=tn(["Hide any content from that user for you, your instance and its users."]);return vt=function(){return e},e}function mt(){var e=tn(["Mute this account by your instance"]);return mt=function(){return e},e}function ht(){var e=tn(["Remove comments of this account from your videos."]);return ht=function(){return e},e}function pt(){var e=tn(["Remove comments from your videos"]);return pt=function(){return e},e}function gt(){var e=tn(["Show back content from that instance for you."]);return gt=function(){return e},e}function yt(){var e=tn(["Unmute the instance"]);return yt=function(){return e},e}function Ot(){var e=tn(["Hide any content from that instance for you."]);return Ot=function(){return e},e}function St(){var e=tn(["Mute the instance"]);return St=function(){return e},e}function kt(){var e=tn(["Show back content from that user for you."]);return kt=function(){return e},e}function jt(){var e=tn(["Unmute this account"]);return jt=function(){return e},e}function At(){var e=tn(["Hide any content from that user for you."]);return At=function(){return e},e}function xt(){var e=tn(["Mute this account"]);return xt=function(){return e},e}function Et(){var e=tn(["Set Email as Verified"]);return Et=function(){return e},e}function _t(){var e=tn(["Allow the user to login and create videos/comments again"]);return _t=function(){return e},e}function Rt(){var e=tn(["Unban user"]);return Rt=function(){return e},e}function wt(){var e=tn(["User won't be able to login anymore, but videos and comments will be kept as is."]);return wt=function(){return e},e}function Ct(){var e=tn(["Ban"]);return Ct=function(){return e},e}function zt(){var e=tn(["Videos will be deleted, comments will be tombstoned."]);return zt=function(){return e},e}function Bt(){var e=tn(["Delete user"]);return Bt=function(){return e},e}function Tt(){var e=tn(["Change quota, role, and more."]);return Tt=function(){return e},e}function It(){var e=tn(["Edit user"]);return It=function(){return e},e}function Vt(){var e=tn(["Will remove comments of this account (may take several minutes)."]);return Vt=function(){return e},e}function Lt(){var e=tn(["Delete account comments"]);return Lt=function(){return e},e}function Ut(){var e=tn(["Are you sure you want to remove all the comments of this account?"]);return Ut=function(){return e},e}function Dt(){var e=tn(["Instance "," unmuted by the instance."]);return Dt=function(){return e},e}function Mt(){var e=tn(["Instance "," muted by the instance."]);return Mt=function(){return e},e}function Pt(){var e=tn(["Account "," unmuted by the instance."]);return Pt=function(){return e},e}function $t(){var e=tn(["Account "," muted by the instance."]);return $t=function(){return e},e}function Wt(){var e=tn(["Instance "," unmuted."]);return Wt=function(){return e},e}function Gt(){var e=tn(["Instance "," muted."]);return Gt=function(){return e},e}function Ht(){var e=tn(["Account "," unmuted."]);return Ht=function(){return e},e}function Nt(){var e=tn(["Account "," muted."]);return Nt=function(){return e},e}function Kt(){var e=tn(["User "," email set as verified"]);return Kt=function(){return e},e}function Qt(){var e=tn(["User "," deleted."]);return Qt=function(){return e},e}function Ft(){var e=tn(["Delete"]);return Ft=function(){return e},e}function qt(){var e=tn(["If you remove this user, you will not be able to create another with the same username!"]);return qt=function(){return e},e}function Xt(){var e=tn(["You cannot delete root."]);return Xt=function(){return e},e}function Yt(){var e=tn(["User "," unbanned."]);return Yt=function(){return e},e}function Jt(){var e=tn(["Unban"]);return Jt=function(){return e},e}function Zt(){var e=tn(["Do you really want to unban ","?"]);return Zt=function(){return e},e}function en(){var e=tn(["You cannot ban root."]);return en=function(){return e},e}function tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"25cm":function(e,t,n){"use strict";var r=n("tPH9"),o=n("/1FC");t.a=function(e,t,n){var c=t(e);return Object(o.a)(e)?c:Object(r.a)(c,n(e))}},"2L7+":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("mrSG"),o=n("fXoL"),c=n("ey9i"),i=(n("xMQD"),n("GxWh")),a=n("QLwe"),u=n("Imgh"),s=n("ofXK"),l=n("EcKj"),f=["userBanModal"],d=function(e,t){return{user:e,account:t}};function b(e,t){if(1&e){var n=o.Xb();o.Ub(0),o.Wb(1,"my-user-ban-modal",1,2),o.kc("userBanned",(function(){return o.Kc(n),o.oc().onUserBanned()})),o.Vb(),o.Rb(3,"my-action-dropdown",3),o.Tb()}if(2&e){var r=o.oc();o.Db(3),o.vc("actions",r.userActions)("entry",o.Ac(6,d,r.user,r.account))("buttonSize",r.buttonSize)("placement",r.placement)("label",r.label)("container",r.container)}}var v=function(){var e=function(){function e(t,n,r,c,i,a,u){nn(this,e),this.authService=t,this.notifier=n,this.confirmService=r,this.serverService=c,this.userService=i,this.blocklistService=a,this.bulkService=u,this.buttonSize="normal",this.placement="right-top right-bottom auto",this.container=void 0,this.userChanged=new o.n,this.userDeleted=new o.n,this.userActions=[]}return on(e,[{key:"ngOnInit",value:function(){var e=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(t){return e.serverConfig=t}))}},{key:"ngOnChanges",value:function(){this.buildActions()}},{key:"openBanUserModal",value:function(e){"root"!==e.username?this.userBanModal.openModal(e):this.notifier.error("Du kan inte blockera root.")}},{key:"onUserBanned",value:function(){this.userChanged.emit()}},{key:"unbanUser",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=!1,t.next=3,this.confirmService.confirm("Vill du verkligen avsluta blockeringen av " + e.username + "?","Avsluta blockering");case 3:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=7;break}this.userService.unbanUsers(e).subscribe((function(){n.notifier.success("Anv\xE4ndaren " + e.username + " \xE4r inte l\xE4ngre blockerad."),n.userChanged.emit()}),(function(e){return n.notifier.error(e.message)}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"removeUser",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("root"!==e.username){t.next=2;break}return t.abrupt("return",void this.notifier.error("Du kan inte radera root."));case 2:return n="Om du tar bort den h\xE4r anv\xE4ndaren kommer du inte kunna skapa en ny med samma anv\xE4ndarnamn!",t.t0=!1,t.next=6,this.confirmService.confirm(n,"Radera");case 6:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=10;break}this.userService.removeUser(e).subscribe((function(){r.notifier.success("Anv\xE4ndaren " + e.username + " har raderats."),r.userDeleted.emit()}),(function(e){return r.notifier.error(e.message)}));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"setEmailAsVerified",value:function(e){var t=this;this.userService.updateUser(e.id,{emailVerified:!0}).subscribe((function(){t.notifier.success("E-postadressen som tillh\xF6r anv\xE4ndaren " + e.username + " har markerats som verifierad"),t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockAccountByUser",value:function(e){var t=this;this.blocklistService.blockAccountByUser(e).subscribe((function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras."),t.account.mutedByUser=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockAccountByUser",value:function(e){var t=this;this.blocklistService.unblockAccountByUser(e).subscribe((function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras inte l\xE4ngre."),t.account.mutedByUser=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockServerByUser",value:function(e){var t=this;this.blocklistService.blockServerByUser(e).subscribe((function(){t.notifier.success("Instansen " + e + " kommer ignoreras."),t.account.mutedServerByUser=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockServerByUser",value:function(e){var t=this;this.blocklistService.unblockServerByUser(e).subscribe((function(){t.notifier.success("Instansen " + e + " ignoreras inte l\xE4ngre."),t.account.mutedServerByUser=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockAccountByInstance",value:function(e){var t=this;this.blocklistService.blockAccountByInstance(e).subscribe((function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras av instansen."),t.account.mutedByInstance=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockAccountByInstance",value:function(e){var t=this;this.blocklistService.unblockAccountByInstance(e).subscribe((function(){t.notifier.success("Kontot " + e.nameWithHost + " ignoreras inte l\xE4ngre av instansen."),t.account.mutedByInstance=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockServerByInstance",value:function(e){var t=this;this.blocklistService.blockServerByInstance(e).subscribe((function(){t.notifier.success("Instansen " + e + " ignoreras av instansen."),t.account.mutedServerByInstance=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockServerByInstance",value:function(e){var t=this;this.blocklistService.unblockServerByInstance(e).subscribe((function(){t.notifier.success("Instansen " + e + " ignoreras inte l\xE4ngre av instansen."),t.account.mutedServerByInstance=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"bulkRemoveCommentsOf",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="\xC4r du s\xE4ker p\xE5 att du vill ta bort alla kommentarer f\xF6rfattade av det h\xE4r kontot?",t.t0=!1,t.next=4,this.confirmService.confirm(n,"Radera kommentarer fr\xE5n kontot");case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.bulkService.removeCommentsOf(e).subscribe((function(){r.notifier.success("Ta bort alla kommentarer som f\xF6rfattats av det h\xE4r kontot (kan ta flera minuter).")}),(function(e){return r.notifier.error(e.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getRouterUserEditLink",value:function(e){return["/admin","users","update",e.id]}},{key:"buildActions",value:function(){var e=this;if(this.userActions=[],this.prependActions&&(this.userActions=[this.prependActions]),this.authService.isLoggedIn()){var t=this.authService.getUser();if(this.user&&t.id===this.user.id)return;if(this.user&&t.hasRight(1)&&t.canManage(this.user)&&this.userActions.push([{label:"Redigera anv\xE4ndare",description:"\xC4ndra videokvot, beh\xF6righeter och mer.",linkBuilder:function(t){var n=t.user;return e.getRouterUserEditLink(n)}},{label:"Radera anv\xE4ndare",description:"Videorna kommer raderas och kommentarerna arkiverade.",handler:function(t){var n=t.user;return e.removeUser(n)}},{label:"Blockera",description:"Anv\xE4ndare kommer inte l\xE4ngre kunna logga in, men videor och kommentarer kommer beh\xE5llas s\xE5 som de \xE4r.",handler:function(t){var n=t.user;return e.openBanUserModal(n)},isDisplayed:function(e){return!e.user.blocked}},{label:"Upph\xE4v blockering av anv\xE4ndare",description:"L\xE5t anv\xE4ndaren logga in och skapa videor eller kommentarer igen",handler:function(t){var n=t.user;return e.unbanUser(n)},isDisplayed:function(e){return e.user.blocked}},{label:"Markera e-post som verifierad",handler:function(t){var n=t.user;return e.setEmailAsVerified(n)},isDisplayed:function(t){var n=t.user;return e.requiresEmailVerification&&!n.blocked&&!1===n.emailVerified}}]),this.account){this.userActions.push([{label:"Ignorera det h\xE4r kontot",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig.",isDisplayed:function(e){return!1===e.account.mutedByUser},handler:function(t){var n=t.account;return e.blockAccountByUser(n)}},{label:"Sluta ignorera det h\xE4r kontot",description:"Visa inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig igen.",isDisplayed:function(e){return!0===e.account.mutedByUser},handler:function(t){var n=t.account;return e.unblockAccountByUser(n)}},{label:"Ignorera instansen",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den instansen f\xF6r dig.",isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.blockServerByUser(n.host)}},{label:"Sluta ignorera instansen",description:"Visa inneh\xE5ll fr\xE5n den instansen f\xF6r dig igen.",isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.unblockServerByUser(n.host)}},{label:"Ta bort kommentarer fr\xE5n dina videor",description:"Ta bort kommentarer p\xE5 dina videor fr\xE5n det h\xE4r kontot.",handler:function(t){var n=t.account;return e.bulkRemoveCommentsOf({accountName:n.nameWithHost,scope:"my-videos"})}}]);var n=[];t.hasRight(9)&&(n=n.concat([{label:"Ignorera det h\xE4r kontot av din instans",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig, din instans och dess anv\xE4ndare.",isDisplayed:function(e){return!1===e.account.mutedByInstance},handler:function(t){var n=t.account;return e.blockAccountByInstance(n)}},{label:"Sluta ignorera det h\xE4r kontot av din instans",description:"Visa allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig, din instans och dess anv\xE4ndare igen.",isDisplayed:function(e){return!0===e.account.mutedByInstance},handler:function(t){var n=t.account;return e.unblockAccountByInstance(n)}}])),t.hasRight(10)&&(n=n.concat([{label:"Ignorera instansen av din instans",description:"D\xF6lj allt inneh\xE5ll fr\xE5n den instansen f\xF6r dig, din instans och dess anv\xE4ndare.",isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.blockServerByInstance(n.host)}},{label:"Sluta ignorera instansen av din instans",description:"Visa allt inneh\xE5ll fr\xE5n den anv\xE4ndaren f\xF6r dig, din instans och dess anv\xE4ndare igen.",isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var n=t.account;return e.unblockServerByInstance(n.host)}}])),t.hasRight(15)&&(n=n.concat([{label:"Ta bort kommentarer fr\xE5n din instans",description:"Ta bort kommentarer f\xF6rfattade av det h\xE4r kontot fr\xE5n din instans.",handler:function(t){var n=t.account;return e.bulkRemoveCommentsOf({accountName:n.nameWithHost,scope:"instance"})}}])),0!==n.length&&this.userActions.push(n)}}}},{key:"requiresEmailVerification",get:function(){return this.serverConfig.signup.requiresEmailVerification}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Qb(c.AuthService),o.Qb(c.Notifier),o.Qb(c.ConfirmService),o.Qb(c.ServerService),o.Qb(c.UserService),o.Qb(i.b),o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["my-user-moderation-dropdown"]],viewQuery:function(e,t){var n;1&e&&o.Zc(f,!0),2&e&&o.Hc(n=o.lc())&&(t.userBanModal=n.first)},inputs:{user:"user",account:"account",prependActions:"prependActions",buttonSize:"buttonSize",placement:"placement",label:"label",container:"container"},outputs:{userChanged:"userChanged",userDeleted:"userDeleted"},features:[o.Bb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"userBanned"],["userBanModal",""],[3,"actions","entry","buttonSize","placement","label","container"]],template:function(e,t){1&e&&o.Tc(0,b,4,9,"ng-container",0),2&e&&o.vc("ngIf",0!==t.userActions.length)},directives:[s.u,u.a,l.a],encapsulation:2}),e}()},"3/ER":function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=c&&c.exports===o?r.a.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("3UD+")(e))},"3ZlK":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={violentOrRepulsive:1,hatefulOrAbusive:2,spamOrMisleading:3,privacy:4,rights:5,serverRules:6,thumbnails:7,captions:8}},"4/q3":function(e,t,n){"use strict";var r=n("7gMY"),o=n("IzLi"),c=n("pyRK"),i=Object.prototype.hasOwnProperty,a=n("5WsY");t.a=function(e){return Object(a.a)(e)?Object(r.a)(e,!0):function(e){if(!Object(o.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(c.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&i.call(e,r))&&n.push(r);return n}(e)}},"4joM":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n("3Pt+"),o={VALIDATORS:[r.G.required,r.G.minLength(2),r.G.maxLength(3e3)],MESSAGES:{required:"Anm\xE4lans motivering m\xE5ste anges.",minlength:"Anm\xE4lans motivering m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Anm\xE4lans motivering f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}},c={VALIDATORS:[r.G.required,r.G.minLength(2),r.G.maxLength(3e3)],MESSAGES:{required:"Moderationskommentar kr\xE4vs.",minlength:"Moderationskommentaren m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Moderationskommentaren f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}},i={VALIDATORS:[r.G.required,r.G.minLength(2),r.G.maxLength(3e3)],MESSAGES:{required:"Anm\xE4lan m\xE5ste inneh\xE5lla ett meddelande.",minlength:"Anm\xE4lans meddelandetext m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Anm\xE4lans meddelandetext f\xE5r inte vara mer \xE4n 3&nbsp;000 tecken l\xE5ng."}}},"5WsY":function(e,t,n){"use strict";var r=n("vJtL"),o=n("Js68");t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},"7gMY":function(e,t,n){"use strict";var r=n("9f76"),o=n("/1FC"),c=n("WOAq"),i=n("cSlR"),a=n("oYcn"),u=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),s=!n&&Object(r.a)(e),l=!n&&!s&&Object(c.a)(e),f=!n&&!s&&!l&&Object(a.a)(e),d=n||s||l||f,b=d?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],v=b.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||l&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(i.a)(m,v))||b.push(m);return b}},"8i4Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("6rF9"),o=n("xMQD"),c=function e(t){if(nn(this,e),this.id=t.id,this.url=t.url,this.text=t.text,this.threadId=t.threadId,this.inReplyToCommentId=t.inReplyToCommentId,this.videoId=t.videoId,this.createdAt=new Date(t.createdAt.toString()),this.updatedAt=new Date(t.updatedAt.toString()),this.deletedAt=t.deletedAt?new Date(t.deletedAt.toString()):null,this.isDeleted=t.isDeleted,this.account=t.account,this.totalRepliesFromVideoAuthor=t.totalRepliesFromVideoAuthor,this.totalReplies=t.totalReplies,this.account){this.by=o.Actor.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=o.Actor.GET_ACTOR_AVATAR_URL(this.account);var n=Object(r.e)(),c=new URL(n).host;this.isLocal=this.account.host.trim()===c}}},"9BXX":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("TSHB"),o=n("u3oV"),c=n("ey9i"),i=n("4joM"),a=n("sWvm"),u=(n("xMQD"),n("3ZlK")),s=n("9dYW"),l=n("fXoL"),f=n("1kSV"),d=n("UkmY"),b=n("3Pt+"),v=n("ofXK"),m=n("/xt7"),h=n("BLxp"),p=["modal"];function g(e,t){if(1&e&&l.Rb(0,"div",29),2&e){var n=l.oc(2).$implicit;l.vc("innerHTML",n.help,l.Lc)}}function y(e,t){1&e&&l.Tc(0,g,1,1,"ng-template",28)}function O(e,t){if(1&e&&(l.Ub(0,30),l.Rb(1,"div",29),l.Tb()),2&e){var n=l.oc().$implicit;l.Db(1),l.vc("innerHTML",n.description,l.Lc)}}function S(e,t){if(1&e&&(l.Wb(0,"div",17),l.Wb(1,"my-peertube-checkbox",26),l.Tc(2,y,1,0,void 0,16),l.Tc(3,O,2,1,"ng-container",27),l.Vb(),l.Vb()),2&e){var n=t.$implicit;l.Db(1),l.vc("inputName",n.id)("formControlName",n.id)("labelText",n.label),l.Db(1),l.vc("ngIf",n.help),l.Db(1),l.vc("ngIf",n.description)}}function k(e,t){if(1&e&&(l.gc(0,15,1),l.Sb(1),l.dc()),2&e){var n=l.oc(2);l.Db(1),l.ec(n.originHost),l.bc(0)}}function j(e,t){if(1&e&&(l.Wb(0,"div",31),l.Vc(1),l.Vb()),2&e){var n=l.oc(2);l.Db(1),l.Xc(" ",n.formErrors.reason," ")}}var A=function(e){return{"input-error":e}};function x(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",1),l.Wb(1,"h4",2),l.Vc(2),l.Vb(),l.Wb(3,"my-global-icon",3),l.kc("click",(function(){return l.Kc(n),l.oc().hide()})),l.Vb(),l.Vb(),l.Wb(4,"div",4),l.Wb(5,"form",5),l.kc("ngSubmit",(function(){return l.Kc(n),l.oc().report()})),l.Wb(6,"div",6),l.Wb(7,"div",7),l.Wb(8,"label",8),l.ac(9,9),l.Vb(),l.Wb(10,"div",10),l.Ub(11,11),l.Tc(12,S,4,5,"div",12),l.Tb(),l.Vb(),l.Vb(),l.Wb(13,"div",13),l.Wb(14,"div",14),l.gc(15,15),l.Tc(16,k,2,1,"ng-container",16),l.dc(),l.Vb(),l.Wb(17,"div",17),l.Wb(18,"textarea",18),l.cc(19,19),l.Vb(),l.Tc(20,j,2,1,"div",20),l.Vb(),l.Vb(),l.Vb(),l.Wb(21,"div",21),l.Wb(22,"input",22),l.cc(23,23),l.kc("click",(function(){return l.Kc(n),l.oc().hide()}))("key.enter",(function(){return l.Kc(n),l.oc().hide()})),l.Vb(),l.Wb(24,"input",24),l.cc(25,25),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){var r=l.oc();l.Db(2),l.Wc(r.modalTitle),l.Db(3),l.vc("formGroup",r.form),l.Db(7),l.vc("ngForOf",r.predefinedReasons),l.Db(4),l.vc("ngIf",r.isRemote()),l.ec(r.currentHost),l.bc(15),l.Db(2),l.vc("ngClass",l.zc(8,A,r.formErrors.reason)),l.Db(2),l.vc("ngIf",r.formErrors.reason),l.Db(4),l.vc("disabled",!r.form.valid)}}var E=function(){var e=function(e){Ke(n,e);var t=Fe(n);function n(e,r,o,c){var i;return nn(this,n),(i=t.call(this)).formValidatorService=e,i.modalService=r,i.abuseService=o,i.notifier=c,i.account=null,i.error=null,i.predefinedReasons=[],i}return on(n,[{key:"ngOnInit",value:function(){this.modalTitle="Anm\xE4l " + this.account.displayName + " ",this.buildForm({reason:i.c,predefinedReasons:Object(r.a)(u.a,(function(e){return null}))}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("account")}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(o.a)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:t,predefinedReasons:n,account:{id:this.account.id}}).subscribe((function(){e.notifier.success("Kontot har anm\xE4lts."),e.hide()}),(function(t){return e.notifier.error(t.message)}))}},{key:"isRemote",value:function(){return!this.account.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.account.host:""}}]),n}(a.a);return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.b),l.Qb(f.k),l.Qb(s.a),l.Qb(c.Notifier))},e.\u0275cmp=l.Kb({type:e,selectors:[["my-account-report"]],viewQuery:function(e,t){var n;1&e&&l.Qc(p,!0),2&e&&l.Hc(n=l.lc())&&(t.modal=n.first)},inputs:{account:"account"},features:[l.Ab],decls:2,vars:0,consts:function(){var e,t,n,r;return e="Vad \xE4r problemet?",t="Beskriv problemet \u2026",n="Avbryt",r="Skicka",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],e,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + " och \xE4ven vidarebefordras till kommentarens heminstans (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder",t],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value",n],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],["value",r],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(e,t){1&e&&l.Tc(0,x,26,10,"ng-template",null,0,l.Uc)},directives:[d.a,b.I,b.t,b.l,b.m,v.t,v.u,b.c,b.s,b.j,v.r,m.a,h.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),e}()},"9dYW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("m8R6"),o=n("JIr8"),c=n("lJxs"),i=n("tk/3"),a=n("ey9i"),u=n("AytR"),s=n("fXoL"),l=function(){var e=function(){function e(t,n,r){nn(this,e),this.authHttp=t,this.restService=n,this.restExtractor=r}return on(e,[{key:"getAdminAbuses",value:function(t){var n=this,r=t.pagination,c=t.sort,a=t.search,u=e.BASE_ABUSE_URL,s=new i.f;return s=this.restService.addRestGetParams(s,r,c),a&&(s=this.buildParamsFromSearch(a,s)),this.authHttp.get(u,{params:s}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"getUserAbuses",value:function(t){var n=this,r=t.pagination,c=t.sort,a=t.search,u=e.BASE_MY_ABUSE_URL,s=new i.f;return s=this.restService.addRestGetParams(s,r,c),a&&(s=this.buildParamsFromSearch(a,s)),this.authHttp.get(u,{params:s}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"reportVideo",value:function(t){var n=this,i=e.BASE_ABUSE_URL,a=Object(r.a)(t,["id"]);return this.authHttp.post(i,a).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"updateAbuse",value:function(t,n){var r=this;return this.authHttp.put(e.BASE_ABUSE_URL+"/"+t.id,n).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"removeAbuse",value:function(t){var n=this;return this.authHttp.delete(e.BASE_ABUSE_URL+"/"+t.id).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"addAbuseMessage",value:function(t,n){var r=this;return this.authHttp.post(e.BASE_ABUSE_URL+"/"+t.id+"/messages",{message:n}).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"listAbuseMessages",value:function(t){var n=this;return this.authHttp.get(e.BASE_ABUSE_URL+"/"+t.id+"/messages").pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"deleteAbuseMessage",value:function(t,n){var r=this;return this.authHttp.delete(e.BASE_ABUSE_URL+"/"+t.id+"/messages/"+n.id).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"getPrefefinedReasons",value:function(e){var t=[{id:"violentOrRepulsive",label:"V\xE5ldsamt eller motbjudande",help:"Inneh\xE5ller spr\xE5k eller bildspr\xE5k som upplevs st\xF6tande, v\xE5ldsamt eller grovt."},{id:"hatefulOrAbusive",label:"Hatiskt eller neds\xE4ttande",help:"Inneh\xE5ller spr\xE5k eller bildspr\xE5k som upplevs neds\xE4ttande, rasistiskt eller sexistiskt."},{id:"spamOrMisleading",label:"Spam, reklam eller vilseledande information",help:"Inneh\xE5ller reklam, spam, medvetet vilseledande information eller p\xE5 annat s\xE4tt missvisande miniatyrbild, text eller taggar. Uppge g\xE4rna trov\xE4rdiga k\xE4llor f\xF6r att anm\xE4la bluffar."},{id:"privacy",label:"Publicering av personuppgifter eller personliga dokument",help:"Inneh\xE5ller personuppgifter som skulle kunna anv\xE4ndas f\xF6r att sp\xE5ra, identifiera, kontakta eller stj\xE4la n\xE5gons identitet (t.ex. namn, adress, telefonnummer, e-postadress eller bankuppgifter)."},{id:"rights",label:"Upphovsr\xE4tt",help:"Inkr\xE4ktar p\xE5 din upphovsr\xE4tt enligt de lagar som g\xE4ller d\xE4r servern finns."},{id:"serverRules",label:"Brott mot serverregler",description:"N\xE5gonting som inte n\xE4mns ovan och inneb\xE4r ett brott mot anv\xE4ndaravtalet, uppf\xF6randekoden eller de allm\xE4nna serverreglerna."}];return"video"===e&&(t=t.concat([{id:"thumbnails",label:"Miniatyrbilder",help:"Ovanst\xE5ende kan endast ses i miniatyrbilden."},{id:"captions",label:"Textning",help:"Ovanst\xE5ende f\xF6rekommer endast i textningen (ange vilken)."}])),t}},{key:"buildParamsFromSearch",value:function(e,t){var n=this.restService.parseQueryStringFilter(e,{id:{prefix:"#"},state:{prefix:"state:",handler:function(e){return"accepted"===e?3:"pending"===e?1:"rejected"===e?2:void 0}},videoIs:{prefix:"videoIs:",handler:function(e){return"deleted"===e||"blacklisted"===e?e:void 0}},searchReporter:{prefix:"reporter:"},searchReportee:{prefix:"reportee:"},predefinedReason:{prefix:"tag:"}});return this.restService.addObjectParams(t,n)}}]),e}();return e.BASE_ABUSE_URL=u.a.apiUrl+"/api/v1/abuses",e.BASE_MY_ABUSE_URL=u.a.apiUrl+"/api/v1/users/me/abuses",e.\u0275fac=function(t){return new(t||e)(s.hc(i.b),s.hc(a.RestService),s.hc(a.RestExtractor))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac}),e}()},BYvb:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("TSHB"),o=n("u3oV"),c=n("H9+z"),i=n("ey9i"),a=n("4joM"),u=n("sWvm"),s=n("3ZlK"),l=(n("xMQD"),n("9dYW")),f=n("fXoL"),d=n("1kSV"),b=n("jhN1"),v=n("UkmY"),m=n("3Pt+"),h=n("ofXK"),p=n("/xt7"),g=n("C8Cb"),y=n("BLxp"),O=["modal"];function S(e,t){if(1&e&&f.Rb(0,"div",18),2&e){var n=f.oc(2).$implicit;f.vc("innerHTML",n.help,f.Lc)}}function k(e,t){1&e&&f.Tc(0,S,1,1,"ng-template",38)}function j(e,t){if(1&e&&(f.Ub(0,39),f.Rb(1,"div",18),f.Tb()),2&e){var n=f.oc().$implicit;f.Db(1),f.vc("innerHTML",n.description,f.Lc)}}function A(e,t){if(1&e&&(f.Wb(0,"div",27),f.Wb(1,"my-peertube-checkbox",36),f.Tc(2,k,1,0,void 0,26),f.Tc(3,j,2,1,"ng-container",37),f.Vb(),f.Vb()),2&e){var n=t.$implicit;f.Db(1),f.vc("inputName",n.id)("formControlName",n.id)("labelText",n.label),f.Db(1),f.vc("ngIf",n.help),f.Db(1),f.vc("ngIf",n.description)}}function x(e,t){if(1&e&&(f.Wb(0,"div",40),f.Wb(1,"my-peertube-checkbox",41),f.cc(2,42),f.Vb(),f.Rb(3,"my-timestamp-input",43),f.Vb()),2&e){var n=f.oc(2);f.Db(3),f.vc("timestamp",n.timestamp.endAt)("maxTimestamp",n.video.duration)}}function E(e,t){if(1&e&&(f.gc(0,25,1),f.Sb(1),f.dc()),2&e){var n=f.oc(2);f.Db(1),f.ec(n.originHost),f.bc(0)}}function _(e,t){if(1&e&&(f.Wb(0,"div",44),f.Vc(1),f.Vb()),2&e){var n=f.oc(2);f.Db(1),f.Xc(" ",n.formErrors.reason," ")}}var R=function(e){return{"input-error":e}};function w(e,t){if(1&e){var n=f.Xb();f.Wb(0,"div",1),f.Wb(1,"h4",2),f.ac(2,3),f.Vb(),f.Wb(3,"my-global-icon",4),f.kc("click",(function(){return f.Kc(n),f.oc().hide()})),f.Vb(),f.Vb(),f.Wb(4,"div",5),f.Wb(5,"form",6),f.kc("ngSubmit",(function(){return f.Kc(n),f.oc().report()})),f.Wb(6,"div",7),f.Wb(7,"div",8),f.Wb(8,"label",9),f.ac(9,10),f.Vb(),f.Wb(10,"div",11),f.Ub(11,12),f.Tc(12,A,4,5,"div",13),f.Tb(),f.Vb(),f.Vb(),f.Wb(13,"div",14),f.Wb(14,"div",15),f.Wb(15,"div",16),f.Wb(16,"div",17),f.Rb(17,"div",18),f.Vb(),f.Vb(),f.Vb(),f.Wb(18,"div",19),f.Wb(19,"my-peertube-checkbox",20),f.cc(20,21),f.Vb(),f.Rb(21,"my-timestamp-input",22),f.Vb(),f.Tc(22,x,4,2,"div",23),f.Wb(23,"div",24),f.gc(24,25),f.Tc(25,E,2,1,"ng-container",26),f.dc(),f.Vb(),f.Wb(26,"div",27),f.Wb(27,"textarea",28),f.cc(28,29),f.Vb(),f.Tc(29,_,2,1,"div",30),f.Vb(),f.Vb(),f.Vb(),f.Wb(30,"div",31),f.Wb(31,"input",32),f.cc(32,33),f.kc("click",(function(){return f.Kc(n),f.oc().hide()}))("key.enter",(function(){return f.Kc(n),f.oc().hide()})),f.Vb(),f.Wb(33,"input",34),f.cc(34,35),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&e){var r=f.oc();f.Db(2),f.ec(r.video.name),f.bc(2),f.Db(3),f.vc("formGroup",r.form),f.Db(7),f.vc("ngForOf",r.predefinedReasons),f.Db(5),f.vc("innerHTML",r.embedHtml,f.Lc),f.Db(4),f.vc("timestamp",r.timestamp.startAt)("maxTimestamp",r.video.duration),f.Db(1),f.vc("ngIf",r.timestamp.hasStart),f.Db(3),f.vc("ngIf",r.isRemote()),f.ec(r.currentHost),f.bc(24),f.Db(2),f.vc("ngClass",f.zc(12,R,r.formErrors.reason)),f.Db(2),f.vc("ngIf",r.formErrors.reason),f.Db(4),f.vc("disabled",!r.form.valid)}}var C=function(){var e=function(e){Ke(n,e);var t=Fe(n);function n(e,r,o,c,i){var a;return nn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=r,a.abuseService=o,a.notifier=c,a.sanitizer=i,a.video=null,a.error=null,a.predefinedReasons=[],a}return on(n,[{key:"getVideoEmbed",value:function(){return this.sanitizer.bypassSecurityTrustHtml(Object(c.c)(Object(c.b)({baseUrl:this.video.embedUrl,title:!1,warningTitle:!1})))}},{key:"ngOnInit",value:function(){this.buildForm({reason:a.c,predefinedReasons:Object(r.a)(s.a,(function(e){return null})),timestamp:{hasStart:null,startAt:null,hasEnd:null,endAt:null}}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("video"),this.embedHtml=this.getVideoEmbed()}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(o.a)(this.form.get("predefinedReasons").value)),r=this.form.get("timestamp").value,c=r.hasStart,i=r.startAt,a=r.hasEnd,u=r.endAt;this.abuseService.reportVideo({reason:t,predefinedReasons:n,video:{id:this.video.id,startAt:c&&i?i:void 0,endAt:a&&u?u:void 0}}).subscribe((function(){e.notifier.success("Videon har rapporterats."),e.hide()}),(function(t){return e.notifier.error(t.message)}))}},{key:"isRemote",value:function(){return!this.video.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.video.account.host:""}},{key:"timestamp",get:function(){return this.form.get("timestamp").value}}]),n}(u.a);return e.\u0275fac=function(t){return new(t||e)(f.Qb(u.b),f.Qb(d.k),f.Qb(l.a),f.Qb(i.Notifier),f.Qb(b.b))},e.\u0275cmp=f.Kb({type:e,selectors:[["my-video-report"]],viewQuery:function(e,t){var n;1&e&&f.Qc(O,!0),2&e&&f.Hc(n=f.lc())&&(t.modal=n.first)},inputs:{video:"video"},features:[f.Ab],decls:2,vars:0,consts:function(){var e,t,n,r,o,c,i;return e="Anm\xE4l videon \u201D" + "\ufffd0\ufffd" + "\u201D",t="Vad \xE4r problemet?",n="B\xF6rja vid",r="Beskriv problemet \u2026",o="Avbryt",c="Skicka",i="Sluta vid",[["modal",""],[1,"modal-header"],[1,"modal-title"],e,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],t,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9","mb-2"],[1,"screenratio"],[3,"innerHTML"],["formGroupName","timestamp",1,"mb-1","start-at"],["formControlName","hasStart",6,"labelText"],["labelText",n],["formControlName","startAt","inputName","startAt",3,"timestamp","maxTimestamp"],["class","mb-3 stop-at","formGroupName","timestamp",4,"ngIf"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*25:1\ufffd\ufffd#1:1\ufffd" + " samt vidarebefordras till videons ursprungsv\xE4rd (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*25:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder",r],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value",o],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],["value",c],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],["ngProjectAs","description",5,["description"]],["formGroupName","timestamp",1,"mb-3","stop-at"],["formControlName","hasEnd",6,"labelText"],["labelText",i],["formControlName","endAt","inputName","endAt",3,"timestamp","maxTimestamp"],[1,"form-error"]]},template:function(e,t){1&e&&f.Tc(0,w,35,14,"ng-template",null,0,f.Uc)},directives:[v.a,m.I,m.t,m.l,m.m,h.t,p.a,m.s,m.j,g.a,h.u,m.c,h.r,y.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),e}()},Ce4a:function(e,t,n){"use strict";var r=n("Ju5/");t.a=r.a.Uint8Array},"E/r9":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("fXoL"),o=n("sWvm"),c=n("3Pt+");function i(e){return e.split("\n").filter((function(e){return e&&0!==e.length}))}var a={VALIDATORS:[c.G.required,function(e){if(!e.value)return null;var t,n,r=[],o=de(i(e.value));try{for(o.s();!(t=o.n()).done;){var c=t.value;!1===(n=c,new RegExp("^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$").test(n))&&r.push("\n          " + c + " \xE4r inte giltig\n        ")}}catch(a){o.e(a)}finally{o.f()}return 0!==r.length?{validDomains:{reason:"invalid",value:r.join(". ")+"."}}:null},function(e){if(!e.value)return null;var t=i(e.value);return t.every((function(e){return t.indexOf(e)===t.lastIndexOf(e)}))?null:{uniqueDomains:{reason:"invalid"}}}],MESSAGES:{required:"Dom\xE4n m\xE5ste uppges.",validDomains:"Angivna dom\xE4ner \xE4r ogiltiga.",uniqueDomains:"Dom\xE4nerna inneh\xE5ller dubbletter."}},u=n("1kSV"),s=n("UkmY"),l=n("ofXK"),f=["modal"];function d(e,t){if(1&e&&(r.Wb(0,"div"),r.Vc(1),r.Vb()),2&e){var n=r.oc(3);r.Db(1),r.Xc(" ",n.form.controls.domains.errors.validDomains.value," ")}}function b(e,t){if(1&e&&(r.Wb(0,"div",16),r.Vc(1),r.Tc(2,d,2,1,"div",17),r.Vb()),2&e){var n=r.oc(2);r.Db(1),r.Xc(" ",n.formErrors.domains," "),r.Db(1),r.vc("ngIf",n.form.controls.domains.errors.validDomains)}}var v=function(e){return{"input-error":e}};function m(e,t){if(1&e){var n=r.Xb();r.Wb(0,"div",1),r.Wb(1,"h4",2),r.ac(2,3),r.Vb(),r.Wb(3,"my-global-icon",4),r.kc("click",(function(){return r.Kc(n),r.oc().hide()})),r.Vb(),r.Vb(),r.Wb(4,"div",5),r.Wb(5,"form",6),r.kc("ngSubmit",(function(){return r.Kc(n),r.oc().submit()})),r.Wb(6,"div",7),r.Wb(7,"label",8),r.ac(8,9),r.Vb(),r.Rb(9,"textarea",10),r.Tc(10,b,3,2,"div",11),r.Vb(),r.tc(11),r.Wb(12,"div",12),r.Wb(13,"input",13),r.cc(14,14),r.kc("click",(function(){return r.Kc(n),r.oc().hide()}))("key.enter",(function(){return r.Kc(n),r.oc().hide()})),r.Vb(),r.Rb(15,"input",15),r.Vb(),r.Vb(),r.Vb()}if(2&e){var o=r.oc();r.Db(2),r.ec(o.action),r.bc(2),r.Db(3),r.vc("formGroup",o.form),r.Db(4),r.vc("placeholder",o.placeholder)("ngClass",r.zc(7,v,o.formErrors.domains)),r.Db(1),r.vc("ngIf",o.formErrors.domains),r.Db(5),r.vc("value",o.action)("disabled",!o.form.valid)}}var h,p=[[["warning"]]],g=["warning"],y=((h=function(e){Ke(n,e);var t=Fe(n);function n(e,o){var c;return nn(this,n),(c=t.call(this)).formValidatorService=e,c.modalService=o,c.placeholder="example.com",c.domains=new r.n,c}return on(n,[{key:"ngOnInit",value:function(){this.action||(this.action="Behandla dom\xE4ner"),this.buildForm({domains:a})}},{key:"openModal",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.openedModal.close()}},{key:"submit",value:function(){this.domains.emit(i(this.form.controls.domains.value)),this.form.reset(),this.hide()}}]),n}(o.a)).\u0275fac=function(e){return new(e||h)(r.Qb(o.b),r.Qb(u.k))},h.\u0275cmp=r.Kb({type:h,selectors:[["my-batch-domains-modal"]],viewQuery:function(e,t){var n;1&e&&r.Qc(f,!0),2&e&&r.Hc(n=r.lc())&&(t.modal=n.first)},inputs:{placeholder:"placeholder",action:"action"},outputs:{domains:"domains"},features:[r.Ab],ngContentSelectors:g,decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"\n          " + "\ufffd0\ufffd" + "\n        ",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","hosts"],"En v\xE4rd (utan \u201Dhttp://\u201D) per rad",["formControlName","domains","type","text","id","hosts","name","hosts","ngbAutofocus","",1,"form-control",3,"placeholder","ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value","Avbryt"],["type","submit",1,"action-button-submit",3,"value","disabled"],[1,"form-error"],[4,"ngIf"]]},template:function(e,t){1&e&&(r.uc(p),r.Tc(0,m,16,9,"ng-template",null,0,r.Uc))},directives:[s.a,c.I,c.t,c.l,c.c,c.s,c.j,l.r,l.u],styles:["textarea[_ngcontent-%COMP%]{height:200px}"]}),h)},GYlH:function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},GeT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("lJxs"),o=n("JIr8"),c=n("tk/3"),i=n("ey9i"),a=n("6rF9"),u=n("AytR"),s=n("8i4Y"),l=n("fXoL"),f=function(){var e=function(){function e(t,n,r){nn(this,e),this.authHttp=t,this.restExtractor=n,this.restService=r}return on(e,[{key:"addCommentThread",value:function(t,n){var c=this,i=e.BASE_VIDEO_URL+t+"/comment-threads",u=Object(a.l)(n,"text");return this.authHttp.post(i,u).pipe(Object(r.a)((function(e){return c.extractVideoComment(e.comment)})),Object(o.a)((function(e){return c.restExtractor.handleError(e)})))}},{key:"addCommentReply",value:function(t,n,c){var i=this,u=e.BASE_VIDEO_URL+t+"/comments/"+n,s=Object(a.l)(c,"text");return this.authHttp.post(u,s).pipe(Object(r.a)((function(e){return i.extractVideoComment(e.comment)})),Object(o.a)((function(e){return i.restExtractor.handleError(e)})))}},{key:"getVideoCommentThreads",value:function(t){var n=this,i=t.videoId,a=t.componentPagination,u=t.sort,s=this.restService.componentPaginationToRestPagination(a),l=new c.f;return l=this.restService.addRestGetParams(l,s,u),this.authHttp.get(e.BASE_VIDEO_URL+i+"/comment-threads",{params:l}).pipe(Object(r.a)((function(e){return n.extractVideoComments(e)})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"getVideoThreadComments",value:function(t){var n=this,c=t.videoId,i=t.threadId;return this.authHttp.get("".concat(e.BASE_VIDEO_URL+c,"/comment-threads/").concat(i)).pipe(Object(r.a)((function(e){return n.extractVideoCommentTree(e)})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"deleteVideoComment",value:function(t,n){var c=this;return this.authHttp.delete("".concat(e.BASE_VIDEO_URL+t,"/comments/").concat(n)).pipe(Object(r.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return c.restExtractor.handleError(e)})))}},{key:"getVideoCommentsFeeds",value:function(t){var n=[{format:"xml",label:"rss 2.0",url:e.BASE_FEEDS_URL+"xml".toLowerCase()},{format:"atom",label:"atom 1.0",url:e.BASE_FEEDS_URL+"atom".toLowerCase()},{format:"json",label:"json 1.0",url:e.BASE_FEEDS_URL+"json".toLowerCase()}];if(void 0!==t){var r,o=de(n);try{for(o.s();!(r=o.n()).done;){r.value.url+="?videoId="+t}}catch(c){o.e(c)}finally{o.f()}}return n}},{key:"extractVideoComment",value:function(e){return new s.a(e)}},{key:"extractVideoComments",value:function(e){var t,n=e.data,r=e.total,o=[],c=de(n);try{for(c.s();!(t=c.n()).done;){var i=t.value;o.push(new s.a(i))}}catch(a){c.e(a)}finally{c.f()}return{data:o,total:r}}},{key:"extractVideoCommentTree",value:function(e){var t=this;return e?(e.comment=new s.a(e.comment),e.children.forEach((function(e){return t.extractVideoCommentTree(e)})),e):e}}]),e}();return e.BASE_VIDEO_URL=u.a.apiUrl+"/api/v1/videos/",e.BASE_FEEDS_URL=u.a.apiUrl+"/feeds/video-comments.",e.\u0275fac=function(t){return new(t||e)(l.hc(c.b),l.hc(i.RestExtractor),l.hc(i.RestService))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac}),e}()},GxWh:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n("lJxs"),o=n("JIr8"),c=n("tk/3"),i=n("ey9i"),a=n("AytR"),u=n("xHIW"),s=n("fXoL"),l=function(e){return e[e.Account=0]="Account",e[e.Instance=1]="Instance",e}({}),f=function(){var e=function(){function e(t,n,r){nn(this,e),this.authHttp=t,this.restExtractor=n,this.restService=r}return on(e,[{key:"getUserAccountBlocklist",value:function(t){var n=this,i=t.pagination,a=t.sort,u=t.search,s=new c.f;return s=this.restService.addRestGetParams(s,i,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/accounts",{params:s}).pipe(Object(r.a)((function(e){return n.restExtractor.convertResultListDateToHuman(e)})),Object(r.a)((function(e){return n.restExtractor.applyToResultListData(e,n.formatAccountBlock.bind(n))})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"blockAccountByUser",value:function(t){var n=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"unblockAccountByUser",value:function(t){var n=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"getUserServerBlocklist",value:function(t){var n=this,i=t.pagination,a=t.sort,u=t.search,s=new c.f;return s=this.restService.addRestGetParams(s,i,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/servers",{params:s}).pipe(Object(r.a)((function(e){return n.restExtractor.convertResultListDateToHuman(e)})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"blockServerByUser",value:function(t){var n=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"unblockServerByUser",value:function(t){var n=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"getInstanceAccountBlocklist",value:function(t){var n=this,i=t.pagination,a=t.sort,u=t.search,s=new c.f;return s=this.restService.addRestGetParams(s,i,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{params:s}).pipe(Object(r.a)((function(e){return n.restExtractor.convertResultListDateToHuman(e)})),Object(r.a)((function(e){return n.restExtractor.applyToResultListData(e,n.formatAccountBlock.bind(n))})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"blockAccountByInstance",value:function(t){var n=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"unblockAccountByInstance",value:function(t){var n=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"getInstanceServerBlocklist",value:function(t){var n=this,i=t.pagination,a=t.sort,u=t.search,s=new c.f;return s=this.restService.addRestGetParams(s,i,a),u&&(s=s.append("search",u)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{params:s}).pipe(Object(r.a)((function(e){return n.restExtractor.convertResultListDateToHuman(e)})),Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"blockServerByInstance",value:function(t){var n=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"unblockServerByInstance",value:function(t){var n=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(o.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"formatAccountBlock",value:function(e){return new u.a(e)}}]),e}();return e.BASE_USER_BLOCKLIST_URL=a.a.apiUrl+"/api/v1/users/me/blocklist",e.BASE_SERVER_BLOCKLIST_URL=a.a.apiUrl+"/api/v1/server/blocklist",e.\u0275fac=function(t){return new(t||e)(s.hc(c.b),s.hc(i.RestExtractor),s.hc(i.RestService))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac}),e}()},HIM4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return m.a})),n.d(t,"f",(function(){return O})),n("9BXX"),n("re7S"),n("BYvb");var r,o=n("9dYW"),c=(n("xHIW"),n("ey9i")),i=n("xMQD"),a=n("GxWh"),u=n("fXoL"),s=((r=function(e){Ke(n,e);var t=Fe(n);function n(e,r){var o;return nn(this,n),(o=t.call(this)).notifier=e,o.blocklistService=r,o.blockedAccounts=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return on(n,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"switchToDefaultAvatar",value:function(e){e.target.src=i.Actor.GET_DEFAULT_AVATAR_URL()}},{key:"unblockAccount",value:function(e){var t=this,n=e.blockedAccount;(this.mode===a.a.Account?this.blocklistService.unblockAccountByUser(n):this.blocklistService.unblockAccountByInstance(n)).subscribe((function(){t.notifier.success(t.mode===a.a.Account?"Kontot " + n.nameWithHost + " ignoreras inte l\xE4ngre.":"Kontot " + n.nameWithHost + " ignoreras inte l\xE4ngre av din instans."),t.loadData()}))}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe((function(t){e.blockedAccounts=t.data,e.totalRecords=t.total}),(function(t){return e.notifier.error(t.message)}))}}]),n}(c.RestTable)).\u0275fac=function(e){return new(e||r)(u.Qb(c.Notifier),u.Qb(a.b))},r.\u0275dir=u.Lb({type:r,features:[u.Ab]}),r);n("E/r9");var l,f=n("QLwe"),d=["batchDomainsModal"],b=((l=function(e){Ke(n,e);var t=Fe(n);function n(e,r){var o;return nn(this,n),(o=t.call(this)).notifier=e,o.blocklistService=r,o.blockedServers=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return on(n,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"unblockServer",value:function(e){var t=this,n=e.blockedServer.host;(function(e){return t.mode===a.a.Account?t.blocklistService.unblockServerByUser(e):t.blocklistService.unblockServerByInstance(e)})(n).subscribe((function(){t.notifier.success(t.mode===a.a.Account?"Instansen " + n + " ignoreras inte l\xE4ngre.":"Instansen " + n + " ignoreras inte l\xE4ngre av din instans."),t.loadData()}))}},{key:"addServersToBlock",value:function(){this.batchDomainsModal.openModal()}},{key:"onDomainsToBlock",value:function(e){var t=this;e.forEach((function(e){(function(e){return t.mode===a.a.Account?t.blocklistService.blockServerByUser(e):t.blocklistService.blockServerByInstance(e)})(e).subscribe((function(){t.notifier.success(t.mode===a.a.Account?"Instansen " + e + " kommer ignoreras.":"Instansen " + e + " ignoreras av din instans."),t.loadData()}))}))}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe((function(t){e.blockedServers=t.data,e.totalRecords=t.total}),(function(t){return e.notifier.error(t.message)}))}}]),n}(c.RestTable)).\u0275fac=function(e){return new(e||l)(u.Qb(c.Notifier),u.Qb(a.b))},l.\u0275dir=u.Lb({type:l,viewQuery:function(e,t){var n;1&e&&u.Zc(d,!0),2&e&&u.Hc(n=u.lc())&&(t.batchDomainsModal=n.first)},features:[u.Ab]}),l);n("Imgh"),n("2L7+"),n("XZU/");var v,m=n("d8Kw"),h=n("N/VM"),p=n("P8w3"),g=n("Nmku"),y=n("ix8N"),O=((v=function e(){nn(this,e)}).\u0275mod=u.Ob({type:v}),v.\u0275inj=u.Nb({factory:function(e){return new(e||v)},providers:[a.b,f.a,o.a,m.a],imports:[[g.a,h.a,p.a,y.a]]}),v)},Imgh:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mrSG"),o=n("fXoL"),c=n("ey9i"),i=n("sWvm"),a=n("nnN+"),u=n("1kSV"),s=n("UkmY"),l=n("3Pt+"),f=n("ofXK"),d=["modal"];function b(e,t){if(1&e&&(o.Wb(0,"div",17),o.Vc(1),o.Vb()),2&e){var n=o.oc(2);o.Db(1),o.Xc(" ",n.formErrors.reason," ")}}var v=function(e){return{"input-error":e}};function m(e,t){if(1&e){var n=o.Xb();o.Wb(0,"div",1),o.Wb(1,"h4",2),o.ac(2,3),o.Vb(),o.Wb(3,"my-global-icon",4),o.kc("click",(function(){return o.Kc(n),o.oc().hide()})),o.Vb(),o.Vb(),o.Wb(4,"div",5),o.Wb(5,"form",6),o.kc("ngSubmit",(function(){return o.Kc(n),o.oc().banUser()})),o.Wb(6,"div",7),o.Wb(7,"textarea",8),o.cc(8,9),o.Vb(),o.Tc(9,b,2,1,"div",10),o.Vb(),o.Wb(10,"div"),o.ac(11,11),o.Vb(),o.Wb(12,"div",12),o.Wb(13,"input",13),o.cc(14,14),o.kc("click",(function(){return o.Kc(n),o.oc().hide()}))("key.enter",(function(){return o.Kc(n),o.oc().hide()})),o.Vb(),o.Wb(15,"input",15),o.cc(16,16),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){var r=o.oc();o.Db(5),o.vc("formGroup",r.form),o.Db(2),o.vc("ngClass",o.zc(4,v,r.formErrors.reason)),o.Db(2),o.vc("ngIf",r.formErrors.reason),o.Db(6),o.vc("disabled",!r.form.valid)}}var h=function(){var e=function(e){Ke(n,e);var t=Fe(n);function n(e,r,c,i){var a;return nn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=r,a.notifier=c,a.userService=i,a.userBanned=new o.n,a}return on(n,[{key:"ngOnInit",value:function(){this.buildForm({reason:a.a})}},{key:"openModal",value:function(e){this.usersToBan=e,this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.usersToBan=void 0,this.openedModal.close()}},{key:"banUser",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.userService.banUsers(this.usersToBan,this.form.value.reason||void 0).subscribe((function(){var e=Array.isArray(t.usersToBan)?"\n          " + t.usersToBan.length + " anv\xE4ndare blockerade.\n        ":"Anv\xE4ndaren " + t.usersToBan.username + " har blockerats.";t.notifier.success(e),t.userBanned.emit(t.usersToBan),t.hide()}),(function(e){return t.notifier.error(e.message)}));case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(i.a);return e.\u0275fac=function(t){return new(t||e)(o.Qb(i.b),o.Qb(u.k),o.Qb(c.Notifier),o.Qb(c.UserService))},e.\u0275cmp=o.Kb({type:e,selectors:[["my-user-ban-modal"]],viewQuery:function(e,t){var n;1&e&&o.Qc(d,!0),2&e&&o.Hc(n=o.lc())&&(t.modal=n.first)},outputs:{userBanned:"userBanned"},features:[o.Ab],decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Blockera",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","reason",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","Anledning \u2026"],["class","form-error",4,"ngIf"],"\n        En blockerad anv\xE4ndare kommer inte l\xE4ngre kunna logga in.\n      ",[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value","Avbryt"],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],["value","Blockera den h\xE4r anv\xE4ndaren"],[1,"form-error"]]},template:function(e,t){1&e&&o.Tc(0,m,17,6,"ng-template",null,0,o.Uc)},directives:[s.a,l.I,l.t,l.l,l.c,l.s,l.j,f.r,f.u],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}"]}),e}()},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},QLwe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("JIr8"),o=n("ey9i"),c=n("AytR"),i=n("fXoL"),a=n("tk/3"),u=function(){var e=function(){function e(t,n){nn(this,e),this.authHttp=t,this.restExtractor=n}return on(e,[{key:"removeCommentsOf",value:function(t){var n=this;return this.authHttp.post(e.BASE_BULK_URL+"/remove-comments-of",t).pipe(Object(r.a)((function(e){return n.restExtractor.handleError(e)})))}}]),e}();return e.BASE_BULK_URL=c.a.apiUrl+"/api/v1/bulk",e.\u0275fac=function(t){return new(t||e)(i.hc(a.b),i.hc(o.RestExtractor))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e}()},TFwu:function(e,t,n){"use strict";var r=n("25cm"),o=n("jN84"),c=n("mkut");t.a=function(e){return Object(r.a)(e,c.a,o.a)}},TSHB:function(e,t,n){"use strict";var r=n("uE2L"),o=n("mkut"),c=n("fywt");t.a=function(e,t){var n={};return t=Object(c.a)(t,3),function(e,t){e&&function(e,t,n){for(var r=-1,o=Object(e),c=n(e),i=c.length;i--;){var a=c[++r];if(!1===t(o[a],a,o))break}}(e,t,o.a)}(e,(function(e,o,c){Object(r.a)(n,o,t(e,o,c))})),n}},TnHx:function(e,t,n){"use strict";var r=n("25cm"),o=n("n561"),c=n("4/q3");t.a=function(e){return Object(r.a)(e,c.a,o.a)}},U6JX:function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},UudT:function(e,t,n){"use strict";var r=n("U6JX"),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},WJ6P:function(e,t,n){"use strict";t.a=function(){return[]}},WOAq:function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),o=n("L3Qv"),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=c&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===c?r.a.Buffer:void 0;t.a=(a?a.isBuffer:void 0)||o.a}).call(this,n("3UD+")(e))},"XZU/":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("fXoL"),o=n("ey9i"),c=n("sWvm"),i=(n("xMQD"),n("3Pt+")),a={VALIDATORS:[i.G.minLength(2),i.G.maxLength(300)],MESSAGES:{minlength:"Blockeringsorsaken m\xE5ste inneh\xE5lla minst tv\xE5 tecken.",maxlength:"Blockeringsorsaken f\xE5r inte vara mer \xE4n 300 tecken l\xE5ng."}},u=n("d8Kw"),s=n("1kSV"),l=n("UkmY"),f=n("ofXK"),d=n("/xt7"),b=["modal"];function v(e,t){if(1&e&&(r.Wb(0,"div",17),r.Vc(1),r.Vb()),2&e){var n=r.oc(2);r.Db(1),r.Xc(" ",n.formErrors.reason," ")}}function m(e,t){1&e&&(r.Wb(0,"div",7),r.Wb(1,"my-peertube-checkbox",18),r.cc(2,19),r.Ub(3,20),r.Wb(4,"span"),r.ac(5,21),r.Vb(),r.Tb(),r.Vb(),r.Vb())}var h=function(e){return{"input-error":e}};function p(e,t){if(1&e){var n=r.Xb();r.Wb(0,"div",1),r.Wb(1,"h4",2),r.ac(2,3),r.Vb(),r.Wb(3,"my-global-icon",4),r.kc("click",(function(){return r.Kc(n),r.oc().hide()})),r.Vb(),r.Vb(),r.Wb(4,"div",5),r.Wb(5,"form",6),r.kc("ngSubmit",(function(){return r.Kc(n),r.oc().block()})),r.Wb(6,"div",7),r.Wb(7,"textarea",8),r.cc(8,9),r.Vb(),r.Tc(9,v,2,1,"div",10),r.Vb(),r.Tc(10,m,6,0,"div",11),r.Wb(11,"div",12),r.Wb(12,"input",13),r.cc(13,14),r.kc("click",(function(){return r.Kc(n),r.oc().hide()}))("key.enter",(function(){return r.Kc(n),r.oc().hide()})),r.Vb(),r.Wb(14,"input",15),r.cc(15,16),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&e){var o=r.oc();r.Db(2),r.ec(o.video.name),r.bc(2),r.Db(3),r.vc("formGroup",o.form),r.Db(2),r.vc("ngClass",r.zc(6,h,o.formErrors.reason)),r.Db(2),r.vc("ngIf",o.formErrors.reason),r.Db(1),r.vc("ngIf",o.video.isLocal),r.Db(4),r.vc("disabled",!o.form.valid)}}var g,y=((g=function(e){Ke(n,e);var t=Fe(n);function n(e,o,c,i){var a;return nn(this,n),(a=t.call(this)).formValidatorService=e,a.modalService=o,a.videoBlocklistService=c,a.notifier=i,a.video=null,a.videoBlocked=new r.n,a.error=null,a}return on(n,[{key:"ngOnInit",value:function(){this.buildForm({reason:a,unfederate:null},{unfederate:"true"})}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"block",value:function(){var e=this,t=this.form.value.reason||void 0;this.videoBlocklistService.blockVideo(this.video.id,t,this.video.isLocal?this.form.value.unfederate:void 0).subscribe((function(){e.notifier.success("Video blockerad."),e.hide(),e.video.blacklisted=!0,e.video.blockedReason=t,e.videoBlocked.emit()}),(function(t){return e.notifier.error(t.message)}))}}]),n}(c.a)).\u0275fac=function(e){return new(e||g)(r.Qb(c.b),r.Qb(s.k),r.Qb(u.a),r.Qb(o.Notifier))},g.\u0275cmp=r.Kb({type:g,selectors:[["my-video-block"]],viewQuery:function(e,t){var n;1&e&&r.Qc(b,!0),2&e&&r.Hc(n=r.lc())&&(t.modal=n.first)},inputs:{video:"video"},outputs:{videoBlocked:"videoBlocked"},features:[r.Ab],decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Blockera videon \u201D" + "\ufffd0\ufffd" + "\u201D",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","reason",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","Orsak \u2026"],["class","form-error",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value","Avbryt"],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],["value","Skicka"],[1,"form-error"],["inputName","unfederate","formControlName","unfederate",6,"labelText"],["labelText","Upph\xF6r federera videon"],["ngProjectAs","description",5,["description"]],"Fj\xE4rrinstansen kommer ombes ta bort den"]},template:function(e,t){1&e&&r.Tc(0,p,16,8,"ng-template",null,0,r.Uc)},directives:[l.a,i.I,i.t,i.l,i.c,i.s,i.j,f.r,f.u,d.a],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}"]}),g)},YM6B:function(e,t,n){"use strict";var r=n("Y7yP"),o=n("Ju5/"),c=Object(r.a)(o.a,"DataView"),i=n("3cmB"),a=Object(r.a)(o.a,"Promise"),u=n("pVw1"),s=Object(r.a)(o.a,"WeakMap"),l=n("8M4i"),f=n("dLWn"),d=Object(f.a)(c),b=Object(f.a)(i.a),v=Object(f.a)(a),m=Object(f.a)(u.a),h=Object(f.a)(s),p=l.a;(c&&"[object DataView]"!=p(new c(new ArrayBuffer(1)))||i.a&&"[object Map]"!=p(new i.a)||a&&"[object Promise]"!=p(a.resolve())||u.a&&"[object Set]"!=p(new u.a)||s&&"[object WeakMap]"!=p(new s))&&(p=function(e){var t=Object(l.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case d:return"[object DataView]";case b:return"[object Map]";case v:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return t}),t.a=p},ZWiB:function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},d8Kw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Cfvw"),o=n("lJxs"),c=n("JIr8"),i=n("bOdf"),a=n("IAdc"),u=n("tk/3"),s=n("ey9i"),l=n("AytR"),f=n("fXoL"),d=function(){var e=function(){function e(t,n,r){nn(this,e),this.authHttp=t,this.restService=n,this.restExtractor=r}return on(e,[{key:"listBlocks",value:function(t){var n=this,r=t.pagination,i=t.sort,a=t.search,s=t.type,l=new u.f;if(l=this.restService.addRestGetParams(l,r,i),a){var f=this.restService.parseQueryStringFilter(a,{type:{prefix:"type:",handler:function(e){return"manual"===e?1:"auto"===e?2:void 0}}});l=this.restService.addObjectParams(l,f)}return s&&(l=l.append("type",s.toString())),this.authHttp.get(e.BASE_VIDEOS_URL+"blacklist",{params:l}).pipe(Object(o.a)((function(e){return n.restExtractor.convertResultListDateToHuman(e)})),Object(c.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"unblockVideo",value:function(t){var n=this,o=Array.isArray(t)?t:[t];return Object(r.a)(o).pipe(Object(i.a)((function(t){return n.authHttp.delete(e.BASE_VIDEOS_URL+t+"/blacklist")})),Object(a.a)(),Object(c.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"blockVideo",value:function(t,n,r){var i=this;return this.authHttp.post(e.BASE_VIDEOS_URL+t+"/blacklist",{unfederate:r,reason:n}).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(c.a)((function(e){return i.restExtractor.handleError(e)})))}}]),e}();return e.BASE_VIDEOS_URL=l.a.apiUrl+"/api/v1/videos/",e.\u0275fac=function(t){return new(t||e)(f.hc(u.b),f.hc(s.RestService),f.hc(s.RestExtractor))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac}),e}()},fywt:function(e,t,n){"use strict";var r=n("oSzE"),o=n("msdH"),c=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},i=n("ZWiB"),a=function(e,t,n,r,a,u){var s=1&n,l=e.length,f=t.length;if(l!=f&&!(s&&f>l))return!1;var d=u.get(e);if(d&&u.get(t))return d==t;var b=-1,v=!0,m=2&n?new o.a:void 0;for(u.set(e,t),u.set(t,e);++b<l;){var h=e[b],p=t[b];if(r)var g=s?r(p,h,b,t,e,u):r(h,p,b,e,t,u);if(void 0!==g){if(g)continue;v=!1;break}if(m){if(!c(t,(function(e,t){if(!Object(i.a)(m,t)&&(h===e||a(h,e,n,r,u)))return m.push(t)}))){v=!1;break}}else if(h!==p&&!a(h,p,n,r,u)){v=!1;break}}return u.delete(e),u.delete(t),v},u=n("ylTp"),s=n("Ce4a"),l=n("YHEm"),f=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},d=n("GYlH"),b=u.a?u.a.prototype:void 0,v=b?b.valueOf:void 0,m=n("TFwu"),h=Object.prototype.hasOwnProperty,p=n("YM6B"),g=n("/1FC"),y=n("WOAq"),O=n("oYcn"),S="[object Object]",k=Object.prototype.hasOwnProperty,j=n("EUcb"),A=function e(t,n,o,c,i){return t===n||(null==t||null==n||!Object(j.a)(t)&&!Object(j.a)(n)?t!=t&&n!=n:function(e,t,n,o,c,i){var u=Object(g.a)(e),b=Object(g.a)(t),j=u?"[object Array]":Object(p.a)(e),A=b?"[object Array]":Object(p.a)(t),x=(j="[object Arguments]"==j?S:j)==S,E=(A="[object Arguments]"==A?S:A)==S,_=j==A;if(_&&Object(y.a)(e)){if(!Object(y.a)(t))return!1;u=!0,x=!1}if(_&&!x)return i||(i=new r.a),u||Object(O.a)(e)?a(e,t,n,o,c,i):function(e,t,n,r,o,c,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!c(new s.a(e),new s.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=f;case"[object Set]":if(u||(u=d.a),e.size!=t.size&&!(1&r))return!1;var b=i.get(e);if(b)return b==t;r|=2,i.set(e,t);var m=a(u(e),u(t),r,o,c,i);return i.delete(e),m;case"[object Symbol]":if(v)return v.call(e)==v.call(t)}return!1}(e,t,j,n,o,c,i);if(!(1&n)){var R=x&&k.call(e,"__wrapped__"),w=E&&k.call(t,"__wrapped__");if(R||w){var C=R?e.value():e,z=w?t.value():t;return i||(i=new r.a),c(C,z,n,o,i)}}return!!_&&(i||(i=new r.a),function(e,t,n,r,o,c){var i=1&n,a=Object(m.a)(e),u=a.length;if(u!=Object(m.a)(t).length&&!i)return!1;for(var s=u;s--;){var l=a[s];if(!(i?l in t:h.call(t,l)))return!1}var f=c.get(e);if(f&&c.get(t))return f==t;var d=!0;c.set(e,t),c.set(t,e);for(var b=i;++s<u;){var v=e[l=a[s]],p=t[l];if(r)var g=i?r(p,v,l,t,e,c):r(v,p,l,e,t,c);if(!(void 0===g?v===p||o(v,p,n,r,c):g)){d=!1;break}b||(b="constructor"==l)}if(d&&!b){var y=e.constructor,O=t.constructor;y==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O||(d=!1)}return c.delete(e),c.delete(t),d}(e,t,n,o,c,i))}(t,n,o,c,e,i))},x=n("IzLi"),E=function(e){return e==e&&!Object(x.a)(e)},_=n("mkut"),R=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},w=n("UTJH"),C=n("K160"),z=n("vY+C"),B=n("Tchk"),T=n("+Xah"),I=n("FSIP");t.a=function(e){return"function"==typeof e?e:null==e?T.a:"object"==typeof e?Object(g.a)(e)?(o=e[0],c=e[1],Object(z.a)(o)&&E(c)?R(Object(B.a)(o),c):function(e){var t=function(e,t,n){var r=null==e?void 0:Object(w.a)(e,t);return void 0===r?void 0:r}(e,o);return void 0===t&&t===c?Object(C.a)(e,o):A(c,t,3)}):1==(n=function(e){for(var t=Object(_.a)(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,E(o)]}return t}(t=e)).length&&n[0][2]?R(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,o){var c=n.length,i=c;if(null==e)return!i;for(e=Object(e);c--;){var a=n[c];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++c<i;){var u=(a=n[c])[0],s=e[u],l=a[1];if(a[2]){if(void 0===s&&!(u in e))return!1}else{var f=new r.a;if(!A(l,s,3,void 0,f))return!1}}return!0}(e,0,n)}:function(e){return Object(z.a)(e)?Object(I.a)(Object(B.a)(e)):function(e){return function(t){return Object(w.a)(t,e)}}(e)}(e);var t,n,o,c}},ix8N:function(e,t,n){"use strict";n.d(t,"c",(function(){return o.a})),n.d(t,"b",(function(){return c.a})),n.d(t,"a",(function(){return u}));var r,o=n("GeT4"),c=n("8i4Y"),i=n("Nmku"),a=n("fXoL"),u=((r=function e(){nn(this,e)}).\u0275mod=a.Ob({type:r}),r.\u0275inj=a.Nb({factory:function(e){return new(e||r)},providers:[o.a],imports:[[i.a]]}),r)},jN84:function(e,t,n){"use strict";var r=n("WJ6P"),o=Object.prototype.propertyIsEnumerable,c=Object.getOwnPropertySymbols;t.a=c?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,c=null==t?0:t.length,i=0,a=[];++r<c;){var u=t[r];o.call(e,u)&&(a[i++]=u)}return a}(c(e)))}:r.a},m8R6:function(e,t,n){"use strict";var r=n("twO/"),o=n("oSzE"),c=n("23KU"),i=n("uE2L"),a=function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Object(i.a)(n,s,l):Object(c.a)(n,s,l)}return n},u=n("mkut"),s=n("4/q3"),l=n("3/ER"),f=n("jN84"),d=n("n561"),b=n("TFwu"),v=n("TnHx"),m=n("YM6B"),h=Object.prototype.hasOwnProperty,p=n("Ce4a"),g=function(e){var t=new e.constructor(e.byteLength);return new p.a(t).set(new p.a(e)),t},y=/\w*$/,O=n("ylTp"),S=O.a?O.a.prototype:void 0,k=S?S.valueOf:void 0,j=n("IzLi"),A=Object.create,x=function(){function e(){}return function(t){if(!Object(j.a)(t))return{};if(A)return A(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),E=n("UudT"),_=n("pyRK"),R=n("/1FC"),w=n("WOAq"),C=n("EUcb"),z=n("ovuK"),B=n("xutz"),T=B.a&&B.a.isMap,I=T?Object(z.a)(T):function(e){return Object(C.a)(e)&&"[object Map]"==Object(m.a)(e)},V=B.a&&B.a.isSet,L=V?Object(z.a)(V):function(e){return Object(C.a)(e)&&"[object Set]"==Object(m.a)(e)},U={};U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object DataView]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object Symbol]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Error]"]=U["[object Function]"]=U["[object WeakMap]"]=!1;var D=n("IlA0"),M=n("UTJH"),P=n("5iG2"),$=n("Tchk"),W=function(e,t){return null==(e=function(e,t){return t.length<2?e:Object(M.a)(e,Object(P.a)(t,0,-1))}(e,t=Object(D.a)(t,e)))||delete e[Object($.a)((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r},G=n("8M4i"),H=Function.prototype.toString,N=Object.prototype.hasOwnProperty,K=H.call(Object),Q=function(e){return function(e){if(!Object(C.a)(e)||"[object Object]"!=Object(G.a)(e))return!1;var t=Object(E.a)(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&H.call(n)==K}(e)?void 0:e},F=n("Tjpy"),q=Object(F.a)((function(e,t){var n={};if(null==e)return n;var i=!1;t=Object(r.a)(t,(function(t){return t=Object(D.a)(t,e),i||(i=t.length>1),t})),a(e,Object(v.a)(e),n),i&&(n=function e(t,n,r,i,p,O){var S,A=1&n,C=2&n,z=4&n;if(r&&(S=p?r(t,i,p,O):r(t)),void 0!==S)return S;if(!Object(j.a)(t))return t;var B=Object(R.a)(t);if(B){if(S=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&h.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!A)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,S)}else{var T=Object(m.a)(t),V="[object Function]"==T||"[object GeneratorFunction]"==T;if(Object(w.a)(t))return Object(l.a)(t,A);if("[object Object]"==T||"[object Arguments]"==T||V&&!p){if(S=C||V?{}:function(e){return"function"!=typeof e.constructor||Object(_.a)(e)?{}:x(Object(E.a)(e))}(t),!A)return C?function(e,t){return a(e,Object(d.a)(e),t)}(t,function(e,t){return e&&a(t,Object(s.a)(t),e)}(S,t)):function(e,t){return a(e,Object(f.a)(e),t)}(t,function(e,t){return e&&a(t,Object(u.a)(t),e)}(S,t))}else{if(!U[T])return p?t:{};S=function(e,t,n){var r,o,c=e.constructor;switch(t){case"[object ArrayBuffer]":return g(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return function(e,t){var n=t?g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return(o=new(r=e).constructor(r.source,y.exec(r))).lastIndex=r.lastIndex,o;case"[object Set]":return new c;case"[object Symbol]":return k?Object(k.call(e)):{}}}(t,T,A)}}O||(O=new o.a);var D=O.get(t);if(D)return D;O.set(t,S),L(t)?t.forEach((function(o){S.add(e(o,n,r,o,t,O))})):I(t)&&t.forEach((function(o,c){S.set(c,e(o,n,r,c,t,O))}));var M=z?C?v.a:b.a:C?keysIn:u.a,P=B?void 0:M(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(P||t,(function(o,i){P&&(o=t[i=o]),Object(c.a)(S,i,e(o,n,r,i,t,O))})),S}(n,7,Q));for(var p=t.length;p--;)W(n,t[p]);return n}));t.a=q},mkut:function(e,t,n){"use strict";var r=n("7gMY"),o=n("pyRK"),c=n("U6JX"),i=Object(c.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty,u=n("5WsY");t.a=function(e){return Object(u.a)(e)?Object(r.a)(e):function(e){if(!Object(o.a)(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}},msdH:function(e,t,n){"use strict";var r=n("DlmY");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},o.prototype.has=function(e){return this.__data__.has(e)},t.a=o},n561:function(e,t,n){"use strict";var r=n("tPH9"),o=n("UudT"),c=n("jN84"),i=n("WJ6P");t.a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(r.a)(t,Object(c.a)(e)),e=Object(o.a)(e);return t}:i.a},"nnN+":function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return L})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return M})),n.d(t,"m",(function(){return P})),n.d(t,"l",(function(){return $})),n.d(t,"i",(function(){return W})),n.d(t,"e",(function(){return G})),n.d(t,"d",(function(){return H})),n.d(t,"j",(function(){return N})),n.d(t,"a",(function(){return K}));var r,o=n("3Pt+"),c={VALIDATORS:[o.G.required,o.G.minLength(1),o.G.maxLength(50),o.G.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"Anv\xE4ndarnamn m\xE5ste fyllas i.",minlength:"Anv\xE4ndarnamnet m\xE5ste inneh\xE5lla minst ett tecken.",maxlength:"Anv\xE4ndarnamnet f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt.",pattern:"Anv\xE4ndarnamnet f\xE5r inneh\xE5lla gemener, siffror, punkter samt understreck."}},i={VALIDATORS:[o.G.required,o.G.minLength(1),o.G.maxLength(50),o.G.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"Kanalens namn m\xE5ste uppges.",minlength:"Kanalens namn m\xE5ste inneh\xE5lla minste ett tecken.",maxlength:"Kanalens namn f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt.",pattern:"Kanalens namn f\xE5r inneh\xE5lla gemener, siffror, punkter samt understreck."}},L={VALIDATORS:[o.G.required,o.G.email],MESSAGES:{required:"E-postadress m\xE5ste uppges.",email:"E-postadressen m\xE5ste vara giltig."}},U={VALIDATORS:[o.G.required,o.G.minLength(6),o.G.maxLength(255)],MESSAGES:{required:"L\xF6senord m\xE5ste fyllas i.",minlength:"L\xF6senordet m\xE5ste inneh\xE5lla minst sex tecken.",maxlength:"L\xF6senordet f\xE5r inte vara mer \xE4n 255 tecken l\xE5ngt."}},D={VALIDATORS:[o.G.minLength(6),o.G.maxLength(255)],MESSAGES:{minlength:"L\xF6senordet m\xE5ste inneh\xE5lla minst sex tecken.",maxlength:"L\xF6senordet f\xE5r inte vara mer \xE4n 255 tecken l\xE5ngt."}},M={VALIDATORS:[],MESSAGES:{matchPassword:"Det nya l\xF6senordet och det bekr\xE4ftade l\xF6senordet st\xE4mmer inte \xF6verens."}},P={VALIDATORS:[o.G.required,o.G.min(-1)],MESSAGES:{required:"Videokvot m\xE5ste anges.",min:"Kvot m\xE5ste vara st\xF6rre \xE4n \u22121."}},$={VALIDATORS:[o.G.required,o.G.min(-1)],MESSAGES:{required:"Daglig uppladdningsgr\xE4ns m\xE5ste anges.",min:"Daglig uppladdningsgr\xE4ns m\xE5ste vara h\xF6gre \xE4n \u22121."}},W={VALIDATORS:[o.G.required],MESSAGES:{required:"Anv\xE4ndarroll kr\xE4vs."}},G=((r={VALIDATORS:[o.G.minLength(1),o.G.maxLength(120)],MESSAGES:{required:"Visningsnamn kr\xE4vs.",minlength:"Visningsnamnet m\xE5ste inneh\xE5lla minst ett tecken.",maxlength:"Visningsnamnet f\xE5r inte vara mer \xE4n 50 tecken l\xE5ngt."}}).VALIDATORS.push(o.G.required),r),H={VALIDATORS:[o.G.minLength(3),o.G.maxLength(1e3)],MESSAGES:{minlength:"Beskrivningen m\xE5ste inneh\xE5lla minst tre tecken.",maxlength:"Beskrivningen f\xE5r inte vara mer \xE4n 1000 tecken l\xE5ng."}},N={VALIDATORS:[o.G.requiredTrue],MESSAGES:{required:"Du m\xE5ste godk\xE4nna instansens villkor f\xF6r att registrera dig p\xE5 den."}},K={VALIDATORS:[o.G.minLength(3),o.G.maxLength(250)],MESSAGES:{minlength:"Blockeringsanledningen m\xE5ste inneh\xE5lla minst tre tecken.",maxlength:"Blockeringsanledningen f\xE5r inte vara mer \xE4n 250 tecken l\xE5ng."}}},oSzE:function(e,t,n){"use strict";var r=n("nLtN"),o=n("3cmB"),c=n("DlmY");function i(e){var t=this.__data__=new r.a(e);this.size=t.size}i.prototype.clear=function(){this.__data__=new r.a,this.size=0},i.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},i.prototype.get=function(e){return this.__data__.get(e)},i.prototype.has=function(e){return this.__data__.has(e)},i.prototype.set=function(e,t){var n=this.__data__;if(n instanceof r.a){var i=n.__data__;if(!o.a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.a(i)}return n.set(e,t),this.size=n.size,this},t.a=i},oYcn:function(e,t,n){"use strict";var r=n("8M4i"),o=n("Js68"),c=n("EUcb"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a=n("ovuK"),u=n("xutz"),s=u.a&&u.a.isTypedArray,l=s?Object(a.a)(s):function(e){return Object(c.a)(e)&&Object(o.a)(e.length)&&!!i[Object(r.a)(e)]};t.a=l},pVw1:function(e,t,n){"use strict";var r=n("Y7yP"),o=n("Ju5/"),c=Object(r.a)(o.a,"Set");t.a=c},pyRK:function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},re7S:function(a,u,s){"use strict";s.d(u,"a",(function(){return T}));var l=s("TSHB"),f=s("u3oV"),d=s("ey9i"),b=s("4joM"),v=s("sWvm"),m=(s("ix8N"),s("3ZlK")),h=s("9dYW"),p=s("fXoL"),g=s("1kSV"),y=s("UkmY"),O=s("3Pt+"),S=s("ofXK"),k=s("/xt7"),j=s("BLxp"),A=["modal"];function x(e,t){if(1&e&&p.Rb(0,"div",29),2&e){var n=p.oc(2).$implicit;p.vc("innerHTML",n.help,p.Lc)}}function E(e,t){1&e&&p.Tc(0,x,1,1,"ng-template",28)}function _(e,t){if(1&e&&(p.Ub(0,30),p.Rb(1,"div",29),p.Tb()),2&e){var n=p.oc().$implicit;p.Db(1),p.vc("innerHTML",n.description,p.Lc)}}function R(e,t){if(1&e&&(p.Wb(0,"div",17),p.Wb(1,"my-peertube-checkbox",26),p.Tc(2,E,1,0,void 0,16),p.Tc(3,_,2,1,"ng-container",27),p.Vb(),p.Vb()),2&e){var n=t.$implicit;p.Db(1),p.vc("inputName",n.id)("formControlName",n.id)("labelText",n.label),p.Db(1),p.vc("ngIf",n.help),p.Db(1),p.vc("ngIf",n.description)}}function w(e,t){if(1&e&&(p.gc(0,15,1),p.Sb(1),p.dc()),2&e){var n=p.oc(2);p.Db(1),p.ec(n.originHost),p.bc(0)}}function C(e,t){if(1&e&&(p.Wb(0,"div",31),p.Vc(1),p.Vb()),2&e){var n=p.oc(2);p.Db(1),p.Xc(" ",n.formErrors.reason," ")}}var z=function(e){return{"input-error":e}};function B(e,t){if(1&e){var n=p.Xb();p.Wb(0,"div",1),p.Wb(1,"h4",2),p.Vc(2),p.Vb(),p.Wb(3,"my-global-icon",3),p.kc("click",(function(){return p.Kc(n),p.oc().hide()})),p.Vb(),p.Vb(),p.Wb(4,"div",4),p.Wb(5,"form",5),p.kc("ngSubmit",(function(){return p.Kc(n),p.oc().report()})),p.Wb(6,"div",6),p.Wb(7,"div",7),p.Wb(8,"label",8),p.ac(9,9),p.Vb(),p.Wb(10,"div",10),p.Ub(11,11),p.Tc(12,R,4,5,"div",12),p.Tb(),p.Vb(),p.Vb(),p.Wb(13,"div",13),p.Wb(14,"div",14),p.gc(15,15),p.Tc(16,w,2,1,"ng-container",16),p.dc(),p.Vb(),p.Wb(17,"div",17),p.Wb(18,"textarea",18),p.cc(19,19),p.Vb(),p.Tc(20,C,2,1,"div",20),p.Vb(),p.Vb(),p.Vb(),p.Wb(21,"div",21),p.Wb(22,"input",22),p.cc(23,23),p.kc("click",(function(){return p.Kc(n),p.oc().hide()}))("key.enter",(function(){return p.Kc(n),p.oc().hide()})),p.Vb(),p.Wb(24,"input",24),p.cc(25,25),p.Vb(),p.Vb(),p.Vb(),p.Vb()}if(2&e){var r=p.oc();p.Db(2),p.Wc(r.modalTitle),p.Db(3),p.vc("formGroup",r.form),p.Db(7),p.vc("ngForOf",r.predefinedReasons),p.Db(4),p.vc("ngIf",r.isRemote()),p.ec(r.currentHost),p.bc(15),p.Db(2),p.vc("ngClass",p.zc(8,z,r.formErrors.reason)),p.Db(2),p.vc("ngIf",r.formErrors.reason),p.Db(4),p.vc("disabled",!r.form.valid)}}var T=function(){var a=function(e){Ke(n,e);var t=Fe(n);function n(e,r,o,c){var i;return nn(this,n),(i=t.call(this)).formValidatorService=e,i.modalService=r,i.abuseService=o,i.notifier=c,i.comment=null,i.error=null,i.predefinedReasons=[],i}return on(n,[{key:"ngOnInit",value:function(){this.modalTitle="Anm\xE4l kommentar",this.buildForm({reason:b.c,predefinedReasons:Object(l.a)(m.a,(function(e){return null}))}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("comment")}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,n=Object.keys(Object(f.a)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:t,predefinedReasons:n,comment:{id:this.comment.id}}).subscribe((function(){e.notifier.success("Kommentaren har anm\xE4lts."),e.hide()}),(function(t){return e.notifier.error(t.message)}))}},{key:"isRemote",value:function(){return!this.comment.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemote()?this.comment.account.host:""}}]),n}(v.a);return a.\u0275fac=function(e){return new(e||a)(p.Qb(v.b),p.Qb(g.k),p.Qb(h.a),p.Qb(d.Notifier))},a.\u0275cmp=p.Kb({type:a,selectors:[["my-comment-report"]],viewQuery:function(e,t){var n;1&e&&p.Qc(A,!0),2&e&&p.Hc(n=p.lc())&&(t.modal=n.first)},inputs:{comment:"comment"},features:[p.Ab],decls:2,vars:0,consts:function(){var c,i,a,u;return c="Vad \xE4r problemet?",i="Beskriv problemet \u2026",a="Avbryt",u="Skicka",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],c,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],"Din anm\xE4lan kommer skickas till moderatorerna p\xE5 " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + " och \xE4ven vidarebefordras till kommentarens heminstans (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[4,"ngIf"],[1,"form-group"],["formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder",i],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value",a],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],["value",u],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(e,t){1&e&&p.Tc(0,B,26,10,"ng-template",null,0,p.Uc)},directives:[y.a,O.I,O.t,O.l,O.m,S.t,S.u,O.c,O.s,O.j,S.r,k.a,j.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),a}()},u3oV:function(e,t,n){"use strict";var r=n("twO/"),o=n("fywt"),c=n("MKnB"),i=n("TnHx");t.a=function(e,t){if(null==e)return{};var n=Object(r.a)(Object(i.a)(e),(function(e){return[e]}));return t=Object(o.a)(t),Object(c.a)(e,n,(function(e,n){return t(e,n[0])}))}},xHIW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("xMQD"),o=function e(t){nn(this,e),this.byAccount=new r.Account(t.byAccount),this.blockedAccount=new r.Account(t.blockedAccount),this.createdAt=t.createdAt}}}])}();