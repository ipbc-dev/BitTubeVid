(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"1JpH":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},"7Ijx":function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class o{}var i=e("pMnS"),u=e("iInd"),a=e("SVse"),r=e("1+T7"),s=['.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.first-step-block[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{width:90px;margin-bottom:25px}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:190px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;width:190px;background:var(--inputColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:190px){.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;width:190px;margin-top:30px}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;width:auto;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;min-width:190px}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:0;background:#fff;cursor:inherit;display:block}.first-step-block[_ngcontent-%COMP%]   .button-file-extension[_ngcontent-%COMP%]{display:block;font-size:12px;margin-top:5px}'],d=e("s7LF"),c=e("rCzg"),p=e("5hiN"),g=e("cUpR"),f=e("pyEO"),v=e("UxRq"),m=e("v9Or"),h=e("kIzR"),C=e("fKnF"),b=e("ihI+"),_=e("GS5F"),M=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-progressbar-label"]],[[4,"display",null]],null,null,null,null)),(n()(),t["\u0275ted"](1,null,["","",""]))],null,(function(n,l){var e=l.component;n(l,0,0,null!=e.value?"block":"none"),n(l,1,0,e.value,e.unit)}))}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["role","progressbar"]],[[1,"aria-valuenow",0]],null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-progressbar ui-widget ui-widget-content ui-corner-all":0,"ui-progressbar-determinate":1,"ui-progressbar-indeterminate":2}),t["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(n()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","ui-progressbar-value ui-progressbar-value-animate ui-widget-header ui-corner-all"],["style","display:block"]],[[4,"width",null]],null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](8,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component,t=e.styleClass,o=n(l,3,0,!0,"determinate"===e.mode,"indeterminate"===e.mode);n(l,2,0,t,o),n(l,5,0,e.style),n(l,8,0,e.showValue)}),(function(n,l){var e=l.component;n(l,0,0,e.value),n(l,6,0,e.value+"%")}))}var y=e("ecRl"),I=e("QUbI"),S=e("3szM"),V=e("0C+C"),k=e("cKMx"),R=e("LTwV"),N=e("mOsc"),U=e("M9Zh"),E=e("IheW"),x=e("VQoA"),w=e("BHD2"),D=(e("ey9i"),e("UFc/")),T=e("eIep"),A=e("vkgz"),F=e("JIr8"),L=e("M0ag"),B=e("HB7e");class z extends L.a{constructor(){super(...arguments),this.userVideoChannels=[],this.videoPrivacies=[],this.videoCaptions=[],this.firstStepPrivacyId=0,this.firstStepChannelId=0}ngOnInit(){this.buildForm({}),Object(B.k)(this.authService,this.userVideoChannels).then(()=>this.firstStepChannelId=this.userVideoChannels[0].id),this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(n=>this.serverConfig=n),this.serverService.getVideoPrivacies().subscribe(n=>{this.videoPrivacies=n,this.firstStepPrivacyId=this.DEFAULT_VIDEO_PRIVACY})}checkForm(){return this.forceCheck(),this.form.valid}updateVideoAndCaptions(n){return this.loadingBar.start(),this.videoService.updateVideo(n).pipe(Object(T.a)(()=>this.videoCaptionService.updateCaptions(n.id,this.videoCaptions)),Object(A.a)(()=>this.loadingBar.complete()),Object(F.a)(n=>{throw this.loadingBar.complete(),n}))}}e("HUk+");class G extends z{constructor(n,l,e,o,i,u,a,r,s,d){super(),this.formValidatorService=n,this.loadingBar=l,this.notifier=e,this.authService=o,this.serverService=i,this.videoService=u,this.videoCaptionService=a,this.userService=r,this.router=s,this.i18n=d,this.firstStepDone=new t.EventEmitter,this.firstStepError=new t.EventEmitter,this.SPECIAL_SCHEDULED_PRIVACY=D.a.SPECIAL_SCHEDULED_PRIVACY,this.userVideoQuotaUsed=0,this.userVideoQuotaUsedDaily=0,this.isUploadingAudioFile=!1,this.isUploadingVideo=!1,this.isUpdatingVideo=!1,this.videoUploaded=!1,this.videoUploadObservable=null,this.videoUploadPercents=0,this.videoUploadedIds={id:0,uuid:""},this.waitTranscodingEnabled=!0,this.DEFAULT_VIDEO_PRIVACY=w.g.PUBLIC}get videoExtensions(){return this.serverConfig.video.file.extensions.join(",")}ngOnInit(){super.ngOnInit(),this.userService.getMyVideoQuotaUsed().subscribe(n=>{this.userVideoQuotaUsed=n.videoQuotaUsed,this.userVideoQuotaUsedDaily=n.videoQuotaUsedDaily})}ngOnDestroy(){this.videoUploadObservable&&this.videoUploadObservable.unsubscribe()}canDeactivate(){let n="";return n=!0===this.videoUploaded?this.i18n("Your video was uploaded to your account and is private.")+" "+this.i18n("But associated data (tags, description...) will be lost, are you sure you want to leave this page?"):this.i18n("Your video is not uploaded yet, are you sure you want to leave this page?"),{canDeactivate:!this.isUploadingVideo,text:n}}getVideoFile(){return this.videofileInput.nativeElement.files[0]}getAudioUploadLabel(){const n=this.getVideoFile();return n?this.i18n("Upload {{videofileName}}",{videofileName:n.name}):this.i18n("Upload")}fileChange(){this.uploadFirstStep()}cancelUpload(){null!==this.videoUploadObservable&&(this.videoUploadObservable.unsubscribe(),this.isUploadingVideo=!1,this.videoUploadPercents=0,this.videoUploadObservable=null,this.notifier.info(this.i18n("Upload cancelled")))}uploadFirstStep(n=!1){const l=this.getVideoFile();if(!l)return;if(!this.checkGlobalUserQuota(l))return;if(!this.checkDailyUserQuota(l))return;if(!1===n&&this.isAudioFile(l.name))return void(this.isUploadingAudioFile=!0);const e=l.name.replace(/\.[^/.]+$/,"");let t;t=e.length<3?l.name:e,l.name.endsWith(".mp4")||l.name.endsWith(".webm")||l.name.endsWith(".ogv")||(this.waitTranscodingEnabled=!1);const o=this.firstStepPrivacyId.toString(),i=this.serverConfig.instance.isNSFW,u=this.firstStepChannelId.toString(),a=new FormData;a.append("name",t),a.append("privacy",w.g.PRIVATE.toString()),a.append("nsfw",""+i),a.append("commentsEnabled",""+!0),a.append("downloadEnabled",""+!0),a.append("waitTranscoding",""+!0),a.append("channelId",""+u),a.append("videofile",l),this.previewfileUpload&&(a.append("previewfile",this.previewfileUpload),a.append("thumbnailfile",this.previewfileUpload)),this.isUploadingVideo=!0,this.firstStepDone.emit(t),this.form.patchValue({name:t,privacy:o,nsfw:i,channelId:u,previewfile:this.previewfileUpload}),this.videoUploadObservable=this.videoService.uploadVideo(a).subscribe(n=>{n.type===E.f.UploadProgress?this.videoUploadPercents=Math.round(100*n.loaded/n.total):n instanceof E.k&&(this.videoUploaded=!0,this.videoUploadedIds=n.body.video,this.videoUploadObservable=null)},n=>{this.isUploadingVideo=!1,this.videoUploadPercents=0,this.videoUploadObservable=null,this.firstStepError.emit(),this.notifier.error(n.message)})}isPublishingButtonDisabled(){return!this.form.valid||!0===this.isUpdatingVideo||!0!==this.videoUploaded}updateSecondStep(){if(!1===this.checkForm())return;const n=new D.a;n.patch(this.form.value),n.id=this.videoUploadedIds.id,n.uuid=this.videoUploadedIds.uuid,this.isUpdatingVideo=!0,this.updateVideoAndCaptions(n).subscribe(()=>{this.isUpdatingVideo=!1,this.isUploadingVideo=!1,this.notifier.success(this.i18n("Video published.")),this.router.navigate(["/videos/watch",n.uuid])},n=>{this.error=n.message,Object(B.m)(),console.error(n)})}checkGlobalUserQuota(n){const l=new x.a,e=this.authService.getUser().videoQuota;if(-1!==e&&this.userVideoQuotaUsed+n.size>e){const t=this.i18n("Your video quota is exceeded with this video (video size: {{videoSize}}, used: {{videoQuotaUsed}}, quota: {{videoQuota}})",{videoSize:l.transform(n.size,0),videoQuotaUsed:l.transform(this.userVideoQuotaUsed,0),videoQuota:l.transform(e,0)});return this.notifier.error(t),!1}return!0}checkDailyUserQuota(n){const l=new x.a,e=this.authService.getUser().videoQuotaDaily;if(-1!==e&&this.userVideoQuotaUsedDaily+n.size>e){const t=this.i18n("Your daily video quota is exceeded with this video (video size: {{videoSize}}, used: {{quotaUsedDaily}}, quota: {{quotaDaily}})",{videoSize:l.transform(n.size,0),quotaUsedDaily:l.transform(this.userVideoQuotaUsedDaily,0),quotaDaily:l.transform(e,0)});return this.notifier.error(t),!1}return!0}isAudioFile(n){return[".mp3",".flac",".ogg",".wma",".wav"].some(l=>n.endsWith(l))}}var Q=e("TtxX"),q=e("Vurf"),j=e("vQJr"),H=e("GiVz"),Y=t["\u0275crt"]({encapsulation:0,styles:[r.a,['.first-step-block[_ngcontent-%COMP%]   .form-group-channel[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:35px}.first-step-block[_ngcontent-%COMP%]   .audio-image-info[_ngcontent-%COMP%]{margin-bottom:10px}.first-step-block[_ngcontent-%COMP%]   .audio-preview[_ngcontent-%COMP%]{margin:30px 0}.upload-progress-cancel[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:25px;margin-bottom:40px}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar{font-size:15px!important;height:30px!important;border-radius:3px!important;background-color:rgba(11,204,41,.16)!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar .ui-progressbar-value{background-color:#0bcc29!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar[_ngcontent-%COMP%]     .ui-progressbar .ui-progressbar-label{text-align:left;padding-left:18px;margin-top:0!important;color:#fff!important;line-height:30px!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar.processing[_ngcontent-%COMP%]     .ui-progressbar-label{color:rgba(11,204,41,.16)!important}.upload-progress-cancel[_ngcontent-%COMP%]   p-progressBar.processing[_ngcontent-%COMP%]     .ui-progressbar-label::before{content:\'Processing...\';color:#fff}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0;margin-left:10px}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#e5e5e5;color:#585858}.upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:#585858;background-color:#efefef}.upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#585858}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#585858}.upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#585858}'],s],data:{}});function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function W(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","form-group audio-preview"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"label",[["for","previewfileUpload"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Dealbh c\xf9laibh video"])),(n()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","audio-image-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Seo dealbh a th\xe8id a chur ris an fhaidhle fhuaime agad. "])),(n()(),t["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Bidh an dealbh a thagh thu buan is cha ghabh atharrachadh an uairsin. "])),(n()(),t["\u0275eld"](8,0,null,null,5,"my-preview-upload",[["inputLabel","Deasaich"],["inputName","previewfileUpload"],["previewHeight","200px"],["previewWidth","360px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,l,e){var t=!0;return"ngModelChange"===l&&(t=!1!==(n.component.previewfileUpload=e)&&t),t}),c.b,c.a)),t["\u0275did"](9,114688,null,0,p.a,[g.b,f.a],{inputLabel:[0,"inputLabel"],inputName:[1,"inputName"],previewWidth:[2,"previewWidth"],previewHeight:[3,"previewHeight"]},null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[p.a]),t["\u0275did"](11,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](13,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","form-group upload-audio-button"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,1,"my-button",[["className","orange-button"],["icon","upload"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.uploadFirstStep(!0)&&t),t}),v.b,v.a)),t["\u0275did"](16,49152,null,0,m.a,[],{label:[0,"label"],className:[1,"className"],icon:[2,"icon"]},null)],(function(n,l){var e=l.component;n(l,9,0,"Deasaich","previewfileUpload","360px","200px"),n(l,11,0,e.previewfileUpload),n(l,16,0,e.getAudioUploadLabel(),"orange-button","upload")}),(function(n,l){n(l,8,0,t["\u0275nov"](l,13).ngClassUntouched,t["\u0275nov"](l,13).ngClassTouched,t["\u0275nov"](l,13).ngClassPristine,t["\u0275nov"](l,13).ngClassDirty,t["\u0275nov"](l,13).ngClassValid,t["\u0275nov"](l,13).ngClassInvalid,t["\u0275nov"](l,13).ngClassPending)}))}function J(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,39,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,38,"div",[["class","first-step-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"my-global-icon",[["class","upload-icon"],["iconName","upload"]],null,null,null,h.b,h.a)),t["\u0275did"](3,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","button-file"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tagh am faidhle ri luchdadh suas"])),(n()(),t["\u0275eld"](7,0,[[1,0],["videofileInput",1]],null,0,"input",[["id","videofile"],["name","videofile"],["type","file"]],[[8,"accept",0]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.fileChange()&&t),t}),null,null)),(n()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","button-file-extension"]],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,["(",")"])),(n()(),t["\u0275eld"](10,0,null,null,11,"div",[["class","form-group form-group-channel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Seanail"])),(n()(),t["\u0275eld"](13,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,15).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,15).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o}),null,null)),t["\u0275did"](15,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](17,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](19,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](21,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](22,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](23,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Pr\xecobhaideachd"])),(n()(),t["\u0275eld"](25,0,null,null,12,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](26,0,null,null,11,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,27).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,27).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o}),null,null)),t["\u0275did"](27,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](29,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](31,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](33,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](34,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](35,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](36,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["Sgeidealaichte"])),(n()(),t["\u0275and"](16777216,null,null,1,null,W)),t["\u0275did"](39,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,3,0,"upload"),n(l,17,0,e.firstStepChannelId),n(l,21,0,e.userVideoChannels),n(l,29,0,e.firstStepPrivacyId),n(l,33,0,e.videoPrivacies),n(l,35,0,e.SPECIAL_SCHEDULED_PRIVACY),n(l,36,0,e.SPECIAL_SCHEDULED_PRIVACY),n(l,39,0,e.isUploadingAudioFile)}),(function(n,l){var e=l.component;n(l,7,0,e.videoExtensions),n(l,9,0,e.videoExtensions),n(l,14,0,t["\u0275nov"](l,19).ngClassUntouched,t["\u0275nov"](l,19).ngClassTouched,t["\u0275nov"](l,19).ngClassPristine,t["\u0275nov"](l,19).ngClassDirty,t["\u0275nov"](l,19).ngClassValid,t["\u0275nov"](l,19).ngClassInvalid,t["\u0275nov"](l,19).ngClassPending),n(l,26,0,t["\u0275nov"](l,31).ngClassUntouched,t["\u0275nov"](l,31).ngClassTouched,t["\u0275nov"](l,31).ngClassPristine,t["\u0275nov"](l,31).ngClassDirty,t["\u0275nov"](l,31).ngClassValid,t["\u0275nov"](l,31).ngClassInvalid,t["\u0275nov"](l,31).ngClassPending)}))}function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"input",[["type","button"],["value","Cancel"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancelUpload()&&t),t}),null,null))],null,null)}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","upload-progress-cancel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"p-progressBar",[],null,null,null,P,M)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](4,{processing:0}),t["\u0275did"](5,49152,null,0,_.ProgressBar,[],{value:[0,"value"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component,t=n(l,4,0,100===e.videoUploadPercents&&!1===e.videoUploaded);n(l,3,0,t),n(l,5,0,e.videoUploadPercents),n(l,7,0,!1===e.videoUploaded)}),null)}function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tha sinn duilich ach chaidh rudeigin ce\xe0rr"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,(function(n,l){n(l,3,0,l.component.error)}))}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Meal do naidheachd! Tha a\u2019 video agad ri fhaighinn san leabhar-lann phr\xecobhaideach agad a-nis."]))],null,null)}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","message-submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Gabhaidh fhoillseachadh nuair a bhios an luchdadh suas deiseil"]))],null,null)}function tn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{videofileInput:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](8,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](9,0,null,null,16,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,11).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,11).onReset()&&o),o}),null,null)),t["\u0275did"](10,16384,null,0,d["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](11,540672,null,0,d.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,d.ControlContainer,null,[d.FormGroupDirective]),t["\u0275did"](13,16384,null,0,d.NgControlStatusGroup,[[4,d.ControlContainer]],null,null),(n()(),t["\u0275eld"](14,0,null,null,1,"my-video-edit",[],null,null,null,y.b,y.a)),t["\u0275did"](15,245760,null,0,I.a,[S.a,V.a,k.a,R.a,u.a,u.p,N.a,f.a,U.a,t.NgZone],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],userVideoChannels:[3,"userVideoChannels"],videoCaptions:[4,"videoCaptions"],waitTranscodingEnabled:[5,"waitTranscodingEnabled"]},null),(n()(),t["\u0275eld"](16,0,null,null,9,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](18,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","submit-button"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](21,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](22,{disabled:0}),(n()(),t["\u0275eld"](23,0,null,null,1,"my-global-icon",[["iconName","validate"]],null,null,null,h.b,h.a)),t["\u0275did"](24,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](25,0,null,null,0,"input",[["type","button"],["value","Foillsich"]],[[8,"disabled",0]],null,null,null,null))],(function(n,l){var e=l.component;n(l,2,0,!e.isUploadingVideo),n(l,4,0,e.isUploadingVideo&&!e.error),n(l,6,0,e.error),n(l,8,0,e.videoUploaded&&!e.error),n(l,11,0,e.form),n(l,15,0,e.form,e.formErrors,e.validationMessages,e.userVideoChannels,e.videoCaptions,e.waitTranscodingEnabled),n(l,18,0,!1===e.videoUploaded);var t=n(l,22,0,e.isPublishingButtonDisabled());n(l,21,0,"submit-button",t),n(l,24,0,"validate")}),(function(n,l){var e=l.component;n(l,9,0,!e.isUploadingVideo,t["\u0275nov"](l,13).ngClassUntouched,t["\u0275nov"](l,13).ngClassTouched,t["\u0275nov"](l,13).ngClassPristine,t["\u0275nov"](l,13).ngClassDirty,t["\u0275nov"](l,13).ngClassValid,t["\u0275nov"](l,13).ngClassInvalid,t["\u0275nov"](l,13).ngClassPending),n(l,25,0,e.isPublishingButtonDisabled())}))}var on=e("rIq0"),un=e("DnSO"),an=e("D+nq");e("bkJH");class rn extends z{constructor(n,l,e,o,i,u,a,r,s,d){super(),this.formValidatorService=n,this.loadingBar=l,this.notifier=e,this.authService=o,this.serverService=i,this.videoService=u,this.videoCaptionService=a,this.router=r,this.videoImportService=s,this.i18n=d,this.firstStepDone=new t.EventEmitter,this.firstStepError=new t.EventEmitter,this.targetUrl="",this.isImportingVideo=!1,this.hasImportedVideo=!1,this.isUpdatingVideo=!1,this.DEFAULT_VIDEO_PRIVACY=w.g.PUBLIC}ngOnInit(){super.ngOnInit()}canDeactivate(){return{canDeactivate:!0}}isTargetUrlValid(){return this.targetUrl&&this.targetUrl.match(/https?:\/\//)}importVideo(){this.isImportingVideo=!0;const n={privacy:this.firstStepPrivacyId,waitTranscoding:!1,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.start(),this.videoImportService.importVideoUrl(this.targetUrl,n).subscribe(l=>{this.loadingBar.complete(),this.firstStepDone.emit(l.video.name),this.isImportingVideo=!1,this.hasImportedVideo=!0,this.video=new D.a(Object.assign(l.video,{commentsEnabled:n.commentsEnabled,downloadEnabled:n.downloadEnabled,support:null,thumbnailUrl:null,previewUrl:null})),this.hydrateFormFromVideo()},n=>{this.loadingBar.complete(),this.isImportingVideo=!1,this.firstStepError.emit(),this.notifier.error(n.message)})}updateSecondStep(){!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe(()=>{this.isUpdatingVideo=!1,this.notifier.success(this.i18n("Video to import updated.")),this.router.navigate(["/my-account","video-imports"])},n=>{this.error=n.message,Object(B.m)(),console.error(n)}))}hydrateFormFromVideo(){this.form.patchValue(this.video.toFormPatch())}}var sn=e("mTdg"),dn=t["\u0275crt"]({encapsulation:0,styles:[r.a,s],data:{}});function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u2019S urrainn dhut URL sam bith "])),(n()(),t["\u0275eld"](2,0,null,null,1,"a",[["href","https://rg3.github.io/youtube-dl/supportedsites.html"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["ris an cuir youtube-dl taic"])),(n()(),t["\u0275ted"](-1,null,[" no URL a thomhas ri faidhle MP4 amh ion-phortadh. Bu ch\xf2ir dhut d\xe8anamh cinnteach gu bheil c\xf2ir sgaoilidh agad air an t-susbaint ris an tomh e ach nach \xe8irich trioblaid a thaobh an lagha dhut fh\xe8in no dhan ionstans agad. "]))],null,null)}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,42,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,41,"div",[["class","first-step-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"my-global-icon",[["class","upload-icon"],["iconName","upload"]],null,null,null,h.b,h.a)),t["\u0275did"](3,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](4,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"label",[["for","targetUrl"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["URL"])),(n()(),t["\u0275eld"](7,0,null,null,4,"my-help",[],null,null,null,on.b,on.a)),t["\u0275did"](8,1687552,null,1,un.a,[H.a],null,null),t["\u0275qud"](603979776,1,{templates:1}),(n()(),t["\u0275and"](0,null,null,1,null,cn)),t["\u0275did"](11,16384,[[1,4]],0,an.a,[t.TemplateRef],{name:[0,"name"]},null),(n()(),t["\u0275eld"](12,0,null,null,5,"input",[["id","targetUrl"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var o=!0,i=n.component;return"input"===l&&(o=!1!==t["\u0275nov"](n,13)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,13)._compositionEnd(e.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.targetUrl=e)&&o),o}),null,null)),t["\u0275did"](13,16384,null,0,d.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,d.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.DefaultValueAccessor]),t["\u0275did"](15,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](17,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275eld"](18,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Seanail"])),(n()(),t["\u0275eld"](21,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](22,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,23).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o}),null,null)),t["\u0275did"](23,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](25,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](27,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](29,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](30,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](31,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Pr\xecobhaideachd"])),(n()(),t["\u0275eld"](33,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](34,0,null,null,7,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,35).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,35).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o}),null,null)),t["\u0275did"](35,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](37,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](39,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](41,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](42,0,null,null,0,"input",[["type","button"],["value","Ion-phortaich"]],[[8,"disabled",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.importVideo()&&t),t}),null,null))],(function(n,l){var e=l.component;n(l,3,0,"upload"),n(l,8,0),n(l,11,0,"customHtml"),n(l,15,0,e.targetUrl),n(l,25,0,e.firstStepChannelId),n(l,29,0,e.userVideoChannels),n(l,37,0,e.firstStepPrivacyId),n(l,41,0,e.videoPrivacies)}),(function(n,l){var e=l.component;n(l,12,0,t["\u0275nov"](l,17).ngClassUntouched,t["\u0275nov"](l,17).ngClassTouched,t["\u0275nov"](l,17).ngClassPristine,t["\u0275nov"](l,17).ngClassDirty,t["\u0275nov"](l,17).ngClassValid,t["\u0275nov"](l,17).ngClassInvalid,t["\u0275nov"](l,17).ngClassPending),n(l,22,0,t["\u0275nov"](l,27).ngClassUntouched,t["\u0275nov"](l,27).ngClassTouched,t["\u0275nov"](l,27).ngClassPristine,t["\u0275nov"](l,27).ngClassDirty,t["\u0275nov"](l,27).ngClassValid,t["\u0275nov"](l,27).ngClassInvalid,t["\u0275nov"](l,27).ngClassPending),n(l,34,0,t["\u0275nov"](l,39).ngClassUntouched,t["\u0275nov"](l,39).ngClassTouched,t["\u0275nov"](l,39).ngClassPristine,t["\u0275nov"](l,39).ngClassDirty,t["\u0275nov"](l,39).ngClassValid,t["\u0275nov"](l,39).ngClassInvalid,t["\u0275nov"](l,39).ngClassPending),n(l,42,0,!e.isTargetUrlValid()||e.isImportingVideo)}))}function vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tha sinn duilich ach chaidh rudeigin ce\xe0rr"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,(function(n,l){n(l,3,0,l.component.error)}))}function mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["Meal do naidheachd, th\xe8id a\u2019 video air c\xf9laibh "," ion-phortadh! \u2019S urrainn dhut fiosrachadh mun video seo a chur ris mu thr\xe0th. "]))],null,(function(n,l){n(l,1,0,l.component.targetUrl)}))}function hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](6,0,null,null,14,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),o}),null,null)),t["\u0275did"](7,16384,null,0,d["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](8,540672,null,0,d.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,d.ControlContainer,null,[d.FormGroupDirective]),t["\u0275did"](10,16384,null,0,d.NgControlStatusGroup,[[4,d.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,1,"my-video-edit",[],null,null,null,y.b,y.a)),t["\u0275did"](12,245760,null,0,I.a,[S.a,V.a,k.a,R.a,u.a,u.p,N.a,f.a,U.a,t.NgZone],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],userVideoChannels:[3,"userVideoChannels"],schedulePublicationPossible:[4,"schedulePublicationPossible"],videoCaptions:[5,"videoCaptions"]},null),(n()(),t["\u0275eld"](13,0,null,null,7,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,6,"div",[["class","submit-button"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](16,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](17,{disabled:0}),(n()(),t["\u0275eld"](18,0,null,null,1,"my-global-icon",[["iconName","validate"]],null,null,null,h.b,h.a)),t["\u0275did"](19,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](20,0,null,null,0,"input",[["type","button"],["value","\xd9raich"]],null,null,null,null,null))],(function(n,l){var e=l.component;n(l,1,0,!e.hasImportedVideo),n(l,3,0,e.error),n(l,5,0,!e.error&&e.hasImportedVideo),n(l,8,0,e.form),n(l,12,0,e.form,e.formErrors,e.validationMessages,e.userVideoChannels,!1,e.videoCaptions);var t=n(l,17,0,!e.form.valid||!0===e.isUpdatingVideo);n(l,16,0,"submit-button",t),n(l,19,0,"validate")}),(function(n,l){n(l,6,0,!l.component.hasImportedVideo,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending)}))}var Cn=e("G0yt");class bn extends z{constructor(n,l,e,o,i,u,a,r,s,d){super(),this.formValidatorService=n,this.loadingBar=l,this.notifier=e,this.authService=o,this.serverService=i,this.videoService=u,this.videoCaptionService=a,this.router=r,this.videoImportService=s,this.i18n=d,this.firstStepDone=new t.EventEmitter,this.firstStepError=new t.EventEmitter,this.magnetUri="",this.isImportingVideo=!1,this.hasImportedVideo=!1,this.isUpdatingVideo=!1,this.DEFAULT_VIDEO_PRIVACY=w.g.PUBLIC}ngOnInit(){super.ngOnInit()}canDeactivate(){return{canDeactivate:!0}}isMagnetUrlValid(){return!!this.magnetUri}fileChange(){const n=this.torrentfileInput.nativeElement.files[0];n&&this.importVideo(n)}importVideo(n){this.isImportingVideo=!0;const l={privacy:this.firstStepPrivacyId,waitTranscoding:!1,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.start(),this.videoImportService.importVideoTorrent(n||this.magnetUri,l).subscribe(n=>{this.loadingBar.complete(),this.firstStepDone.emit(n.video.name),this.isImportingVideo=!1,this.hasImportedVideo=!0,this.video=new D.a(Object.assign(n.video,{commentsEnabled:l.commentsEnabled,downloadEnabled:l.downloadEnabled,support:null,thumbnailUrl:null,previewUrl:null})),this.hydrateFormFromVideo()},n=>{this.loadingBar.complete(),this.isImportingVideo=!1,this.firstStepError.emit(),this.notifier.error(n.message)})}updateSecondStep(){!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe(()=>{this.isUpdatingVideo=!1,this.notifier.success(this.i18n("Video to import updated.")),this.router.navigate(["/my-account","video-imports"])},n=>{this.error=n.message,Object(B.m)(),console.error(n)}))}hydrateFormFromVideo(){this.form.patchValue(this.video.toFormPatch())}}var _n=t["\u0275crt"]({encapsulation:0,styles:[r.a,[".first-step-block[_ngcontent-%COMP%]   .torrent-or-magnet[_ngcontent-%COMP%]{margin:10px 0}.first-step-block[_ngcontent-%COMP%]   .form-group-magnet-uri[_ngcontent-%COMP%]{margin-bottom:40px}"],s],data:{}});function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u2019S urrainn dhut faidhle torrent sam bith a thomhas ri faidhle mp4 ion-phortadh. Bu ch\xf2ir dhut d\xe8anamh cinnteach gu bheil c\xf2ir sgaoilidh agad air an t-susbaint ris an tomh e ach nach \xe8irich trioblaid a thaobh an lagha dhut fh\xe8in no dhan ionstans agad."]))],null,null)}function On(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,d["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,50,"div",[["class","upload-video-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,49,"div",[["class","first-step-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"my-global-icon",[["class","upload-icon"],["iconName","upload"]],null,null,null,h.b,h.a)),t["\u0275did"](3,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","button-file"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tagh an torrent ri ion-phortadh"])),(n()(),t["\u0275eld"](7,0,[[1,0],["torrentfileInput",1]],null,0,"input",[["accept",".torrent"],["id","torrentfile"],["name","torrentfile"],["type","file"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.fileChange()&&t),t}),null,null)),(n()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","button-file-extension"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["(.torrent)"])),(n()(),t["\u0275eld"](10,0,null,null,1,"div",[["class","torrent-or-magnet"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["No"])),(n()(),t["\u0275eld"](12,0,null,null,13,"div",[["class","form-group form-group-magnet-uri"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"label",[["for","magnetUri"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Cuir ann URI magnet"])),(n()(),t["\u0275eld"](15,0,null,null,4,"my-help",[],null,null,null,on.b,on.a)),t["\u0275did"](16,1687552,null,1,un.a,[H.a],null,null),t["\u0275qud"](603979776,2,{templates:1}),(n()(),t["\u0275and"](0,null,null,1,null,Mn)),t["\u0275did"](19,16384,[[2,4]],0,an.a,[t.TemplateRef],{name:[0,"name"]},null),(n()(),t["\u0275eld"](20,0,null,null,5,"input",[["id","magnetUri"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var o=!0,i=n.component;return"input"===l&&(o=!1!==t["\u0275nov"](n,21)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,21).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,21)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,21)._compositionEnd(e.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.magnetUri=e)&&o),o}),null,null)),t["\u0275did"](21,16384,null,0,d.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,d.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.DefaultValueAccessor]),t["\u0275did"](23,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](25,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275eld"](26,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](27,0,null,null,1,"label",[["for","first-step-channel"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Seanail"])),(n()(),t["\u0275eld"](29,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,7,"select",[["id","first-step-channel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,31).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,31).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepChannelId=e)&&o),o}),null,null)),t["\u0275did"](31,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](33,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](35,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](37,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](38,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](39,0,null,null,1,"label",[["for","first-step-privacy"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Pr\xecobhaideachd"])),(n()(),t["\u0275eld"](41,0,null,null,8,"div",[["class","peertube-select-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](42,0,null,null,7,"select",[["id","first-step-privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var o=!0,i=n.component;return"change"===l&&(o=!1!==t["\u0275nov"](n,43).onChange(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,43).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.firstStepPrivacyId=e)&&o),o}),null,null)),t["\u0275did"](43,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,(function(n){return[n]}),[d.SelectControlValueAccessor]),t["\u0275did"](45,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](47,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](49,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](50,0,null,null,0,"input",[["type","button"],["value","Ion-phortaich"]],[[8,"disabled",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.importVideo()&&t),t}),null,null))],(function(n,l){var e=l.component;n(l,3,0,"upload"),n(l,16,0),n(l,19,0,"customHtml"),n(l,23,0,e.magnetUri),n(l,33,0,e.firstStepChannelId),n(l,37,0,e.userVideoChannels),n(l,45,0,e.firstStepPrivacyId),n(l,49,0,e.videoPrivacies)}),(function(n,l){var e=l.component;n(l,20,0,t["\u0275nov"](l,25).ngClassUntouched,t["\u0275nov"](l,25).ngClassTouched,t["\u0275nov"](l,25).ngClassPristine,t["\u0275nov"](l,25).ngClassDirty,t["\u0275nov"](l,25).ngClassValid,t["\u0275nov"](l,25).ngClassInvalid,t["\u0275nov"](l,25).ngClassPending),n(l,30,0,t["\u0275nov"](l,35).ngClassUntouched,t["\u0275nov"](l,35).ngClassTouched,t["\u0275nov"](l,35).ngClassPristine,t["\u0275nov"](l,35).ngClassDirty,t["\u0275nov"](l,35).ngClassValid,t["\u0275nov"](l,35).ngClassInvalid,t["\u0275nov"](l,35).ngClassPending),n(l,42,0,t["\u0275nov"](l,47).ngClassUntouched,t["\u0275nov"](l,47).ngClassTouched,t["\u0275nov"](l,47).ngClassPristine,t["\u0275nov"](l,47).ngClassDirty,t["\u0275nov"](l,47).ngClassValid,t["\u0275nov"](l,47).ngClassInvalid,t["\u0275nov"](l,47).ngClassPending),n(l,50,0,!e.isMagnetUrlValid()||e.isImportingVideo)}))}function In(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tha sinn duilich ach chaidh rudeigin ce\xe0rr"])),(n()(),t["\u0275ted"](3,null,[" ","\n"]))],null,(function(n,l){n(l,3,0,l.component.error)}))}function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Meal do naidheachd, th\xe8id a\u2019 video ion-phortadh le BitTorrent! \u2019S urrainn dhut fiosrachadh mun video seo a chur ris mu thr\xe0th."]))],null,null)}function Vn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{torrentfileInput:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,yn)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](7,0,null,null,14,"form",[["novalidate",""]],[[8,"hidden",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o}),null,null)),t["\u0275did"](8,16384,null,0,d["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](9,540672,null,0,d.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,d.ControlContainer,null,[d.FormGroupDirective]),t["\u0275did"](11,16384,null,0,d.NgControlStatusGroup,[[4,d.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,1,"my-video-edit",[],null,null,null,y.b,y.a)),t["\u0275did"](13,245760,null,0,I.a,[S.a,V.a,k.a,R.a,u.a,u.p,N.a,f.a,U.a,t.NgZone],{form:[0,"form"],formErrors:[1,"formErrors"],validationMessages:[2,"validationMessages"],userVideoChannels:[3,"userVideoChannels"],schedulePublicationPossible:[4,"schedulePublicationPossible"],videoCaptions:[5,"videoCaptions"]},null),(n()(),t["\u0275eld"](14,0,null,null,7,"div",[["class","submit-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,6,"div",[["class","submit-button"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.updateSecondStep()&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](17,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](18,{disabled:0}),(n()(),t["\u0275eld"](19,0,null,null,1,"my-global-icon",[["iconName","validate"]],null,null,null,h.b,h.a)),t["\u0275did"](20,114688,null,0,C.a,[t.ElementRef,b.a],{iconName:[0,"iconName"]},null),(n()(),t["\u0275eld"](21,0,null,null,0,"input",[["type","button"],["value","\xd9raich"]],null,null,null,null,null))],(function(n,l){var e=l.component;n(l,2,0,!e.hasImportedVideo),n(l,4,0,e.error),n(l,6,0,e.hasImportedVideo&&!e.error),n(l,9,0,e.form),n(l,13,0,e.form,e.formErrors,e.validationMessages,e.userVideoChannels,!1,e.videoCaptions);var t=n(l,18,0,!e.form.valid||!0===e.isUpdatingVideo);n(l,17,0,"submit-button",t),n(l,20,0,"validate")}),(function(n,l){n(l,7,0,!l.component.hasImportedVideo,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending)}))}var kn=e("9AJC");class Rn{constructor(n,l){this.auth=n,this.serverService=l}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(n=>this.serverConfig=n)}onFirstStepDone(n,l){this.secondStepType=n,this.videoName=l}onError(){this.videoName=void 0,this.secondStepType=void 0}onUnload(n){const{text:l,canDeactivate:e}=this.canDeactivate();if(!e)return n.returnValue=l,l}canDeactivate(){return"upload"===this.secondStepType?this.videoUpload.canDeactivate():"import-url"===this.secondStepType?this.videoImportUrl.canDeactivate():"import-torrent"===this.secondStepType?this.videoImportTorrent.canDeactivate():{canDeactivate:!0}}isVideoImportHttpEnabled(){return this.serverConfig.import.videos.http.enabled}isVideoImportTorrentEnabled(){return this.serverConfig.import.videos.torrent.enabled}isInSecondStep(){return!!this.secondStepType}isRootUser(){return"root"===this.auth.getUser().username}}var Nn=t["\u0275crt"]({encapsulation:0,styles:[[".margin-content[_ngcontent-%COMP%]{padding-top:50px}.alert[_ngcontent-%COMP%]{font-size:15px}  .root-tabset.video-add-tabset{margin-top:50px}  .root-tabset.video-add-tabset.hide-nav>.nav{display:none!important}  .root-tabset.video-add-tabset>.nav{border-bottom:3px solid #eaeaea;margin:0!important}  .root-tabset.video-add-tabset>.nav>li{margin-bottom:-3px}  .root-tabset.video-add-tabset>.nav a.nav-link{height:40px!important;padding:0 30px!important;font-size:15px}  .root-tabset.video-add-tabset>.nav a.nav-link:active,   .root-tabset.video-add-tabset>.nav a.nav-link:focus,   .root-tabset.video-add-tabset>.nav a.nav-link:hover{text-decoration:none!important;outline:0!important}  .root-tabset.video-add-tabset>.nav a.nav-link.active{border:3px solid #eaeaea;border-bottom:none;background-color:var(--submenuColor)!important}  .root-tabset.video-add-tabset>.nav a.nav-link.active span{border-bottom:2px solid var(--mainColor);font-weight:700}  .root-tabset.video-add-tabset .upload-video-container{border:3px solid #eaeaea;border-top:none;background-color:var(--submenuColor);border-radius:3px;width:100%;min-height:440px;padding-bottom:20px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function Un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" We recommend you to not use the "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["root"])),(n()(),t["\u0275ted"](-1,null,[" user to publish your videos, since it's the super-admin account of your instance. "])),(n()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Instead, "])),(n()(),t["\u0275eld"](7,0,null,null,2,"a",[["routerLink","/admin/users"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,8).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o}),null,null)),t["\u0275did"](8,671744,null,0,u.s,[u.p,u.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),t["\u0275ted"](-1,null,["create a dedicated account"])),(n()(),t["\u0275ted"](-1,null,[" to upload your videos. "]))],(function(n,l){n(l,8,0,"/admin/users")}),(function(n,l){n(l,7,0,t["\u0275nov"](l,8).target,t["\u0275nov"](l,8).href)}))}function En(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["Ion-phortaich ",""]))],null,(function(n,l){n(l,1,0,l.component.videoName)}))}function xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["Luchdaich suas ",""]))],null,(function(n,l){n(l,1,0,l.component.videoName)}))}function wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"import-url"===e.secondStepType||"import-torrent"===e.secondStepType),n(l,4,0,"upload"===e.secondStepType)}),null)}function Dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Luchdaich faidhle suas"]))],null,null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-upload",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],(function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("upload",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t}),tn,Y)),t["\u0275did"](1,245760,[[1,4],["videoUpload",4]],0,G,[S.a,Q.c,N.a,q.a,f.a,R.a,k.a,j.a,u.p,H.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],(function(n,l){n(l,1,0)}),null)}function An(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Ion-phortaich le URL"]))],null,null)}function Fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-import-url",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],(function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("import-url",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t}),hn,dn)),t["\u0275did"](1,114688,[[2,4],["videoImportUrl",4]],0,rn,[S.a,Q.c,N.a,q.a,f.a,R.a,k.a,u.p,sn.a,H.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],(function(n,l){n(l,1,0)}),null)}function Ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](1,2113536,[[4,4]],2,Cn.U,[],null,null),t["\u0275qud"](603979776,7,{titleTpls:1}),t["\u0275qud"](603979776,8,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,An)),t["\u0275did"](5,16384,[[7,4]],0,Cn.W,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Fn)),t["\u0275did"](7,16384,[[8,4]],0,Cn.V,[t.TemplateRef],null,null)],null,null)}function Bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Ion-phortaich le torrent"]))],null,null)}function zn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-video-import-torrent",[],null,[[null,"firstStepDone"],[null,"firstStepError"]],(function(n,l,e){var t=!0,o=n.component;return"firstStepDone"===l&&(t=!1!==o.onFirstStepDone("import-torrent",e)&&t),"firstStepError"===l&&(t=!1!==o.onError()&&t),t}),Vn,_n)),t["\u0275did"](1,114688,[[3,4],["videoImportTorrent",4]],0,bn,[S.a,Q.c,N.a,q.a,f.a,R.a,k.a,u.p,sn.a,H.a],null,{firstStepDone:"firstStepDone",firstStepError:"firstStepError"})],(function(n,l){n(l,1,0)}),null)}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](1,2113536,[[4,4]],2,Cn.U,[],null,null),t["\u0275qud"](603979776,9,{titleTpls:1}),t["\u0275qud"](603979776,10,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,Bn)),t["\u0275did"](5,16384,[[9,4]],0,Cn.W,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,zn)),t["\u0275did"](7,16384,[[10,4]],0,Cn.V,[t.TemplateRef],null,null)],null,null)}function Qn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{videoUpload:0}),t["\u0275qud"](671088640,2,{videoImportUrl:0}),t["\u0275qud"](671088640,3,{videoImportTorrent:0}),(n()(),t["\u0275eld"](3,0,null,null,22,"div",[["class","margin-content"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Un)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](8,0,null,null,17,"ngb-tabset",[["class","video-add-tabset root-tabset bootstrap"]],null,null,null,kn.d,kn.b)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](10,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](11,{"hide-nav":0}),t["\u0275did"](12,2146304,null,1,Cn.X,[Cn.Y],null,null),t["\u0275qud"](603979776,4,{tabs:1}),(n()(),t["\u0275eld"](14,0,null,null,7,"ngb-tab",[],null,null,null,null,null)),t["\u0275did"](15,2113536,[[4,4]],2,Cn.U,[],null,null),t["\u0275qud"](603979776,5,{titleTpls:1}),t["\u0275qud"](603979776,6,{contentTpls:1}),(n()(),t["\u0275and"](0,null,null,1,null,Dn)),t["\u0275did"](19,16384,[[5,4]],0,Cn.W,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Tn)),t["\u0275did"](21,16384,[[6,4]],0,Cn.V,[t.TemplateRef],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](25,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,5,0,e.isRootUser()),n(l,7,0,e.isInSecondStep());var t=n(l,11,0,void 0!==e.secondStepType);n(l,10,0,"video-add-tabset root-tabset bootstrap",t),n(l,23,0,e.isVideoImportHttpEnabled()),n(l,25,0,e.isVideoImportTorrentEnabled())}),null)}function qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"my-videos-add",[],null,[["window","beforeunload"]],(function(n,l,e){var o=!0;return"window:beforeunload"===l&&(o=!1!==t["\u0275nov"](n,1).onUnload(e)&&o),o}),Qn,Nn)),t["\u0275did"](1,114688,null,0,Rn,[q.a,f.a],null,null)],(function(n,l){n(l,1,0)}),null)}var jn=t["\u0275ccf"]("my-videos-add",Rn,qn,{},{},[]),Hn=e("CLta"),Yn=e("9IV+"),Kn=e("Huiz"),$n=e("nvTd"),Wn=e("upD4"),Jn=e("6RP5"),Xn=e("HvDw"),Zn=e("l/z6"),nl=e("wQE2"),ll=e("biPt"),el=e("VNja"),tl=e("mpCX"),ol=e("hD3C"),il=e("F4xN"),ul=e("Qmuk"),al=e("yXFd"),rl=e("wpFD"),sl=e("/7bI"),dl=e("JtBY"),cl=e("D/X6"),pl=e("cvwr"),gl=e("tSwB"),fl=e("RtUV"),vl=e("W3Gj"),ml=e("AD+P"),hl=e("hlYB"),Cl=e("I88b"),bl=e("GvuC"),_l=e("V+Hg"),Ml=e("45hh"),Ol=e("WZ9d"),Pl=e("fR23"),yl=e("1MVc"),Il=e("mpAo"),Sl=e("c6Lk"),Vl=e("j8ES"),kl=e("fftR"),Rl=e("37nT"),Nl=e("Phsq");class Ul{}var El=e("mB+Y"),xl=e("VSng"),wl=e("7LN8"),Dl=e("KB/w"),Tl=e("IbkX"),Al=e("Fa87"),Fl=e("oz/p"),Ll=e("IP0z"),Bl=e("/HVE"),zl=e("hOhj"),Gl=e("g4HV"),Ql=e("No4M"),ql=e("PCNd"),jl=e("pYoP"),Hl=e("0dEx");e.d(l,"VideoAddModuleNgFactory",(function(){return Yl}));var Yl=t["\u0275cmf"](o,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,jn,kn.g,kn.h,kn.e,kn.f]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,d.FormBuilder,d.FormBuilder,[]),t["\u0275mpd"](4608,d["\u0275angular_packages_forms_forms_o"],d["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,Hn.h,Hn.h,[]),t["\u0275mpd"](4608,E.m,E.s,[a.DOCUMENT,t.PLATFORM_ID,E.q]),t["\u0275mpd"](4608,E.t,E.t,[E.m,E.r]),t["\u0275mpd"](5120,E.a,(function(n,l){return[n,new Yn.a(l)]}),[E.t,t.Injector]),t["\u0275mpd"](4608,E.p,E.p,[]),t["\u0275mpd"](6144,E.n,null,[E.p]),t["\u0275mpd"](4608,E.l,E.l,[E.n]),t["\u0275mpd"](6144,E.b,null,[E.l]),t["\u0275mpd"](4608,E.g,E.o,[E.b,t.Injector]),t["\u0275mpd"](4608,E.c,E.c,[E.g]),t["\u0275mpd"](4608,Cn.A,Cn.A,[t.ComponentFactoryResolver,t.Injector,Cn.yb,Cn.B]),t["\u0275mpd"](4608,H.a,H.a,[t.TRANSLATIONS_FORMAT,t.TRANSLATIONS,t.LOCALE_ID,[2,H.b]]),t["\u0275mpd"](4608,Kn.a,Kn.a,[u.p,H.a]),t["\u0275mpd"](4608,$n.a,$n.a,[]),t["\u0275mpd"](4608,Wn.a,Wn.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,Jn.a,Jn.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,Xn.a,Xn.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,j.a,j.a,[E.c,Kn.a,$n.a,H.a]),t["\u0275mpd"](4608,R.a,R.a,[E.c,Kn.a,$n.a,f.a,H.a]),t["\u0275mpd"](4608,Zn.a,Zn.a,[E.c,Kn.a]),t["\u0275mpd"](4608,nl.a,nl.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,ll.a,ll.a,[E.c,f.a,Kn.a,$n.a,t.NgZone]),t["\u0275mpd"](4608,k.a,k.a,[E.c,f.a,Kn.a]),t["\u0275mpd"](4608,sn.a,sn.a,[E.c,$n.a,Kn.a,f.a]),t["\u0275mpd"](4608,el.a,el.a,[E.c,Kn.a,$n.a,t.NgZone]),t["\u0275mpd"](4608,S.a,S.a,[d.FormBuilder]),t["\u0275mpd"](4608,tl.a,tl.a,[H.a]),t["\u0275mpd"](4608,ol.a,ol.a,[H.a]),t["\u0275mpd"](4608,il.a,il.a,[H.a]),t["\u0275mpd"](4608,ul.a,ul.a,[H.a]),t["\u0275mpd"](4608,al.a,al.a,[H.a]),t["\u0275mpd"](4608,rl.a,rl.a,[H.a]),t["\u0275mpd"](4608,sl.a,sl.a,[H.a]),t["\u0275mpd"](4608,dl.a,dl.a,[H.a]),t["\u0275mpd"](4608,V.a,V.a,[H.a]),t["\u0275mpd"](4608,cl.a,cl.a,[H.a]),t["\u0275mpd"](4608,pl.a,pl.a,[H.a]),t["\u0275mpd"](4608,gl.a,gl.a,[E.c,Kn.a,R.a,f.a]),t["\u0275mpd"](4608,fl.a,fl.a,[H.a]),t["\u0275mpd"](4608,vl.a,vl.a,[H.a]),t["\u0275mpd"](4608,ml.a,ml.a,[H.a]),t["\u0275mpd"](4608,hl.a,hl.a,[E.c,Kn.a,$n.a]),t["\u0275mpd"](4608,Cl.a,Cl.a,[E.c,Kn.a,$n.a,R.a]),t["\u0275mpd"](4608,bl.a,bl.a,[]),t["\u0275mpd"](4608,_l.a,_l.a,[bl.a]),t["\u0275mpd"](4608,Ml.a,Ml.a,[_l.a]),t["\u0275mpd"](4608,Ol.a,Ol.a,[E.c,$n.a,Kn.a,Ml.a,f.a]),t["\u0275mpd"](4608,U.a,U.a,[H.a]),t["\u0275mpd"](4608,Pl.a,Pl.a,[]),t["\u0275mpd"](4608,yl.a,yl.a,[q.a,E.c,Kn.a,$n.a,Il.a]),t["\u0275mpd"](4608,Sl.a,Sl.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,Vl.a,Vl.a,[E.c,$n.a,Kn.a]),t["\u0275mpd"](4608,kl.a,kl.a,[Rl.a,H.a]),t["\u0275mpd"](1073742336,u.t,u.t,[[2,u.z],[2,u.p]]),t["\u0275mpd"](1073742336,Ul,Ul,[]),t["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["\u0275mpd"](1073742336,d["\u0275angular_packages_forms_forms_d"],d["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,d.ReactiveFormsModule,d.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,d.FormsModule,d.FormsModule,[]),t["\u0275mpd"](1073742336,El.e,El.e,[]),t["\u0275mpd"](1073742336,Hn.f,Hn.f,[]),t["\u0275mpd"](1073742336,xl.ButtonModule,xl.ButtonModule,[]),t["\u0275mpd"](1073742336,wl.SharedModule,wl.SharedModule,[]),t["\u0275mpd"](1073742336,Dl.CalendarModule,Dl.CalendarModule,[]),t["\u0275mpd"](1073742336,E.e,E.e,[]),t["\u0275mpd"](1073742336,E.d,E.d,[]),t["\u0275mpd"](1073742336,Cn.x,Cn.x,[]),t["\u0275mpd"](1073742336,Cn.C,Cn.C,[]),t["\u0275mpd"](1073742336,Cn.N,Cn.N,[]),t["\u0275mpd"](1073742336,Cn.Z,Cn.Z,[]),t["\u0275mpd"](1073742336,Cn.kb,Cn.kb,[]),t["\u0275mpd"](1073742336,Cn.m,Cn.m,[]),t["\u0275mpd"](1073742336,Tl.b,Tl.b,[]),t["\u0275mpd"](1073742336,Al.InputTextModule,Al.InputTextModule,[]),t["\u0275mpd"](1073742336,Fl.InputMaskModule,Fl.InputMaskModule,[]),t["\u0275mpd"](1073742336,x.b,x.b,[]),t["\u0275mpd"](1073742336,x.h,x.h,[]),t["\u0275mpd"](1073742336,x.e,x.e,[]),t["\u0275mpd"](1073742336,x.c,x.c,[]),t["\u0275mpd"](1073742336,x.f,x.f,[]),t["\u0275mpd"](1073742336,x.d,x.d,[]),t["\u0275mpd"](1073742336,x.g,x.g,[]),t["\u0275mpd"](1073742336,Ll.a,Ll.a,[]),t["\u0275mpd"](1073742336,Bl.b,Bl.b,[]),t["\u0275mpd"](1073742336,zl.ScrollingModule,zl.ScrollingModule,[]),t["\u0275mpd"](1073742336,Gl.TooltipModule,Gl.TooltipModule,[]),t["\u0275mpd"](1073742336,Ql.MultiSelectModule,Ql.MultiSelectModule,[]),t["\u0275mpd"](1073742336,ql.a,ql.a,[]),t["\u0275mpd"](1073742336,jl.a,jl.a,[]),t["\u0275mpd"](1073742336,_.ProgressBarModule,_.ProgressBarModule,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,u.n,(function(){return[[{path:"",component:Rn,canActivate:[Nl.a,Hl.a],canDeactivate:[kl.a]}]]}),[]),t["\u0275mpd"](256,t.LOCALE_ID,"gd",[]),t["\u0275mpd"](256,d.COMPOSITION_BUFFER_MODE,!1,[]),t["\u0275mpd"](256,E.q,"XSRF-TOKEN",[]),t["\u0275mpd"](256,E.r,"X-XSRF-TOKEN",[]),t["\u0275mpd"](256,t.TRANSLATIONS_FORMAT,"xlf",[])])}))},GS5F:function(n,l,e){"use strict";var t=this&&this.__decorate||function(n,l,e,t){var o,i=arguments.length,u=i<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,l,e,t);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(u=(i<3?o(u):i>3?o(l,e,u):o(l,e))||u);return i>3&&u&&Object.defineProperty(l,e,u),u},o=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)};Object.defineProperty(l,"__esModule",{value:!0});var i=e("8Y7J"),u=e("SVse"),a=function(){function n(){this.showValue=!0,this.unit="%",this.mode="determinate"}return t([i.Input(),o("design:type",Object)],n.prototype,"value",void 0),t([i.Input(),o("design:type",Boolean)],n.prototype,"showValue",void 0),t([i.Input(),o("design:type",Object)],n.prototype,"style",void 0),t([i.Input(),o("design:type",String)],n.prototype,"styleClass",void 0),t([i.Input(),o("design:type",String)],n.prototype,"unit",void 0),t([i.Input(),o("design:type",String)],n.prototype,"mode",void 0),t([i.Component({selector:"p-progressBar",template:'\n        <div [class]="styleClass" [ngStyle]="style" role="progressbar" aria-valuemin="0" [attr.aria-valuenow]="value" aria-valuemax="100"\n            [ngClass]="{\'ui-progressbar ui-widget ui-widget-content ui-corner-all\': true, \'ui-progressbar-determinate\': (mode === \'determinate\'), \'ui-progressbar-indeterminate\': (mode === \'indeterminate\')}">\n            <div class="ui-progressbar-value ui-progressbar-value-animate ui-widget-header ui-corner-all" [style.width]="value + \'%\'" style="display:block"></div>\n            <div class="ui-progressbar-label" [style.display]="value != null ? \'block\' : \'none\'" *ngIf="showValue">{{value}}{{unit}}</div>\n        </div>\n    '})],n)}();l.ProgressBar=a;var r=t([i.NgModule({imports:[u.CommonModule],exports:[a],declarations:[a]})],(function(){}));l.ProgressBarModule=r},QMgK:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=['my-small-loader[_ngcontent-%COMP%]     .root{display:inline-block;margin:0 3px 0 0;width:20px}.action-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0}.action-button[_ngcontent-%COMP%]:active, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:0;top:-2px}.action-button.orange-button[_ngcontent-%COMP%]     svg circle[fill="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg g[fill="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg path[fill="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.action-button.orange-button[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg g[stroke="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg path[stroke="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .action-button.orange-button[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.action-button.orange-button[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}@media screen and (max-width:1400px){td[_nghost-%COMP%]   .action-button[_ngcontent-%COMP%], td   [_nghost-%COMP%]   .action-button[_ngcontent-%COMP%]{padding:0 13px}td[_nghost-%COMP%]   .button-label[_ngcontent-%COMP%], td   [_nghost-%COMP%]   .button-label[_ngcontent-%COMP%]{display:none}}']},QmOX:function(n,l,e){"use strict";e.d(l,"a",(function(){return i})),e.d(l,"b",(function(){return a}));var t=e("8Y7J"),o=e("SVse"),i=(e("1JpH"),t["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function u(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","root"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"div",[["class","glyphicon glyphicon-refresh glyphicon-refresh-animate"]],null,null,null,null,null))],null,null)}function a(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,u)),t["\u0275did"](1,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.loading)}),null)}},UxRq:function(n,l,e){"use strict";e.d(l,"a",(function(){return c})),e.d(l,"b",(function(){return g}));var t=e("QMgK"),o=e("8Y7J"),i=e("kIzR"),u=e("fKnF"),a=e("ihI+"),r=e("SVse"),s=e("QmOX"),d=e("1JpH"),c=(e("v9Or"),o["\u0275crt"]({encapsulation:0,styles:[t.a],data:{}}));function p(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,1,"my-global-icon",[],null,null,null,i.b,i.a)),o["\u0275did"](1,114688,null,0,u.a,[o.ElementRef,a.a],{iconName:[0,"iconName"]},null)],(function(n,l){n(l,1,0,l.component.icon)}),null)}function g(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,8,"span",[["class","action-button"]],[[8,"title",0]],null,null,null,null)),o["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o["\u0275and"](16777216,null,null,1,null,p)),o["\u0275did"](4,16384,null,0,r.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),o["\u0275eld"](5,0,null,null,1,"my-small-loader",[],null,null,null,s.b,s.a)),o["\u0275did"](6,49152,null,0,d.a,[],{loading:[0,"loading"]},null),(n()(),o["\u0275eld"](7,0,null,null,1,"span",[["class","button-label"]],null,null,null,null,null)),(n()(),o["\u0275ted"](8,null,["",""]))],(function(n,l){var e=l.component;n(l,2,0,"action-button",e.className),n(l,4,0,!e.loading),n(l,6,0,e.loading)}),(function(n,l){var e=l.component;n(l,0,0,e.getTitle()),n(l,8,0,e.label)}))}},v9Or:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{constructor(){this.label="",this.className="grey-button",this.icon=void 0,this.title=void 0,this.loading=!1}getTitle(){return this.title||this.label}}}}]);