function _templateObject52(){var t=_taggedTemplateLiteral([":\u241fac3a02ecd20f41278f1ef7c03f45c1117b4b796d\u241f5910455707959454672:Torrent (.torrent file)"]);return _templateObject52=function(){return t},t}function _templateObject51(){var t=_taggedTemplateLiteral([":\u241f8d6a41c2703bed3edfc76e1df0b1ca203404c17c\u241f6316149158173629264:Direct download"]);return _templateObject51=function(){return t},t}function _templateObject50(){var t=_taggedTemplateLiteral([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return _templateObject50=function(){return t},t}function _templateObject49(){var t=_taggedTemplateLiteral([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return _templateObject49=function(){return t},t}function _templateObject48(){var t=_taggedTemplateLiteral([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return _templateObject48=function(){return t},t}function _templateObject47(){var t=_taggedTemplateLiteral([":\u241f697b93fd14fd3c85be79056c6d7f459da204eff1\u241f5496771215105419189:Audio stream"]);return _templateObject47=function(){return t},t}function _templateObject46(){var t=_taggedTemplateLiteral([":\u241f01504bc3847894e0816ec486648854d3835f91b0\u241f7385834259346199883:Video stream"]);return _templateObject46=function(){return t},t}function _templateObject45(){var t=_taggedTemplateLiteral([":\u241f7722a92a1fc887570b4f4d8a7bb916f067f32028\u241f7513076467032912668:Format"]);return _templateObject45=function(){return t},t}function _templateObject44(){var t=_taggedTemplateLiteral([":\u241fe53246788ffa2660a170aa859691a55576df2e6c\u241f1006562256968398209:video"]);return _templateObject44=function(){return t},t}function _templateObject43(){var t=_taggedTemplateLiteral([":\u241f7cdda05962b3123483985a6fe7da45a7a564ecf9\u241f5235042777215655908:subtitles"]);return _templateObject43=function(){return t},t}function _templateObject42(){var t=_taggedTemplateLiteral([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return _templateObject42=function(){return t},t}function _templateObject41(){var t=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject41=function(){return t},t}function _templateObject40(){var t=_taggedTemplateLiteral([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return _templateObject40=function(){return t},t}function _templateObject39(){var t=_taggedTemplateLiteral([":\u241fc590f63488a5179f20a46930cf5e673f8136673d\u241f3563604323510264549: You can interact with this via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the current URL in the search box and interact with it there. "]);return _templateObject39=function(){return t},t}function _templateObject38(){var t=_taggedTemplateLiteral([":\u241f01cf713559c39a17cf5c8fbcd33b004a77ce0963\u241f7929951238559799425: You can subscribe to the channel via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the channel URL in the search box and subscribe there. "]);return _templateObject38=function(){return t},t}function _templateObject37(){var t=_taggedTemplateLiteral([":\u241f4913054c95f5ba14c351ab1b787f7abac97bfdd3\u241f6146724100981538416:",":START_TAG_SPAN:Remote subscribe",":CLOSE_TAG_SPAN:",":START_TAG_SPAN_1:Remote interact",":CLOSE_TAG_SPAN:"]);return _templateObject37=function(){return t},t}function _templateObject36(){var t=_taggedTemplateLiteral([":\u241f4999ffd919bb9af482aa4c53badd6cd654468582\u241f5179071816818927117: ",":INTERPOLATION: "]);return _templateObject36=function(){return t},t}function _templateObject35(){var t=_taggedTemplateLiteral([":\u241fa3550f6ce98d90d2947fe062530629dc2d3923b4\u241f3203614451463812160:Updated ",":INTERPOLATION:"]);return _templateObject35=function(){return t},t}function _templateObject34(){var t=_taggedTemplateLiteral([":\u241f99dea2d567d6e6d610d97608c3850ddb76df9a9a\u241f5081568645420228073:{VAR_PLURAL, plural, =0 {No videos} =1 {1 video} other {{INTERPOLATION} videos}}"]);return _templateObject34=function(){return t},t}function _templateObject33(){var t=_taggedTemplateLiteral([":\u241ffb8aad312b72bbb7e5a1e2cc0b55fae8962bf0fb\u241f8699434297868700883: Cancel "]);return _templateObject33=function(){return t},t}function _templateObject32(){var t=_taggedTemplateLiteral([":\u241fc31161d1661884f54fbc5635aad5ce8d4803897e\u241f834805431202576194:No results."]);return _templateObject32=function(){return t},t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _templateObject31(){var t=_taggedTemplateLiteral([":\u241ffb8ccb136ab0ad1ff1dfbce739198be16a814f87\u241f7658055747211075451: Sensitive "]);return _templateObject31=function(){return t},t}function _templateObject30(){var t=_taggedTemplateLiteral([":\u241f1d3781d7296d4b4e04e7f023aec1052fb2955c4d\u241f9081463435738465430:Blocked"]);return _templateObject30=function(){return t},t}function _templateObject29(){var t=_taggedTemplateLiteral([":\u241ff73a82bb90c6c856cc0d2e3b2f5c109460074912\u241f6036644346758517049:{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} views}}"]);return _templateObject29=function(){return t},t}function _templateObject28(){var t=_taggedTemplateLiteral([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return _templateObject28=function(){return t},t}function _templateObject27(){var t=_taggedTemplateLiteral([":\u241f4b3963c6d0863118fe9e9e33447d12be3c2db081\u241f7539427273132299890:Unlisted"]);return _templateObject27=function(){return t},t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,i=!1,c=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(s){i=!0,c=s}finally{try{o||null==r.return||r.return()}finally{if(i)throw c}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _templateObject26(){var t=_taggedTemplateLiteral([":\u241fe7adf422424a61b71465d183f9d44bf956482ef0\u241f1740917574463702967:Subscribe with your local account"]);return _templateObject26=function(){return t},t}function _templateObject25(){var t=_taggedTemplateLiteral([":\u241fc7e2b4c04a0459ebc4d2e54e419abb679bc713f2\u241f6691897331062834756:Subscribe with an account on this instance"]);return _templateObject25=function(){return t},t}function _templateObject24(){var t=_taggedTemplateLiteral([":\u241fe01bfa3629e2133dbf307975446bde047eb8bd1f\u241f6022298687141016498:{VAR_SELECT, select, undefined {Unsubscribe} other {Unsubscribe from all channels}}"]);return _templateObject24=function(){return t},t}function _templateObject23(){var t=_taggedTemplateLiteral([":\u241fc33a843e309de9d67771aa5e666f61e92f4c6216\u241f7542242186854344789:channels subscribed"]);return _templateObject23=function(){return t},t}function _templateObject22(){var t=_taggedTemplateLiteral([":\u241f6e215e23505768151b501b7e11dd5b864e604fd9\u241f5432070253720498105:Subscribe to all channels"]);return _templateObject22=function(){return t},t}function _templateObject21(){var t=_taggedTemplateLiteral([":\u241fd0336848b0c375a1c25ba369b3481ee383217a4f\u241f1144407473317535723:Subscribe"]);return _templateObject21=function(){return t},t}function _templateObject20(){var t=_taggedTemplateLiteral([":\u241fd5e5bc7d213694fc0414a76f0ff3085bae44268a\u241f7695158742270602420:Subscribe via RSS"]);return _templateObject20=function(){return t},t}function _templateObject19(){var t=_taggedTemplateLiteral([":\u241fd8758664cadd6452256ca25ca0c7259074f427c1\u241f2949829240129672512:Using a syndication feed"]);return _templateObject19=function(){return t},t}function _templateObject18(){var t=_taggedTemplateLiteral([":\u241f5047522cc670b1f4a288bce07f9b1c5061e913ed\u241f8503291206158041343:Subscribe with a Mastodon account:"]);return _templateObject18=function(){return t},t}function _templateObject17(){var t=_taggedTemplateLiteral([":\u241f9b3287f52c239cad05ec98391553e5052ba1aa66\u241f1779391511451594552:Using an ActivityPub account"]);return _templateObject17=function(){return t},t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _templateObject16(){var t=_taggedTemplateLiteral([":\u241f70a67e04629f6d412db0a12d51820b480788d795\u241f5674286808255988565:Create"]);return _templateObject16=function(){return t},t}function _templateObject15(){var t=_taggedTemplateLiteral([":\u241fbc155f9fc3be3f32083f19b2c77d4ad3b696d9b9\u241f2409672154570643758:Display name"]);return _templateObject15=function(){return t},t}function _templateObject14(){var t=_taggedTemplateLiteral([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return _templateObject14=function(){return t},t}function _templateObject13(){var t=_taggedTemplateLiteral([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return _templateObject13=function(){return t},t}function _templateObject12(){var t=_taggedTemplateLiteral([":\u241f19fc45e7e0cab63a8c4422ea7158bf5c6228cee4\u241f6056859576122955708:Create a private playlist"]);return _templateObject12=function(){return t},t}function _templateObject11(){var t=_taggedTemplateLiteral([":\u241f8efba03f22550a671ee2c2c6dfd1ff03ea047700\u241f5201790281220738609:Search playlists"]);return _templateObject11=function(){return t},t}function _templateObject10(){var t=_taggedTemplateLiteral([":\u241f24813b8a3e45f0b57136c18d003027262cfe2d1f\u241f8432562579042371182:Options"]);return _templateObject10=function(){return t},t}function _templateObject9(){var t=_taggedTemplateLiteral([":\u241fb2b638f4333842009c258a23e59dbe4160d1e566\u241f5924559757556526785:Save to"]);return _templateObject9=function(){return t},t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw c}}}}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _templateObject8(){var t=_taggedTemplateLiteral([":\u241f52c9a103b812f258bcddc3d90a6e3f46871d25fe\u241f3768927257183755959:Save"]);return _templateObject8=function(){return t},t}function _templateObject7(){var t=_taggedTemplateLiteral([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return _templateObject7=function(){return t},t}function _templateObject6(){var t=_taggedTemplateLiteral([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return _templateObject6=function(){return t},t}function _templateObject5(){var t=_taggedTemplateLiteral([":\u241f2edccfda908b57c073dc0811eaa58818de2be2dc\u241f5263519165976128456:Edit starts/stops at"]);return _templateObject5=function(){return t},t}function _templateObject4(){var t=_taggedTemplateLiteral([":\u241fb9dee3108a18796bd69c6be316c8fb985b58fb8e\u241f7387472152909081455:Delete from ",":INTERPOLATION:"]);return _templateObject4=function(){return t},t}function _templateObject3(){var t=_taggedTemplateLiteral([":\u241f28df1b02fd88d2deb0212bc5d7ff34cf9492fa54\u241f6381490568322624964:Deleted"]);return _templateObject3=function(){return t},t}function _templateObject2(){var t=_taggedTemplateLiteral([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return _templateObject2=function(){return t},t}function _templateObject(){var t=_taggedTemplateLiteral([":\u241f15c02cb6b6c3be53477e502d3e1ee26955b23af0\u241f5643561794785412000:Unavailable"]);return _templateObject=function(){return t},t}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"2Qox":function(t,e,n){"use strict";n.d(e,"a",(function(){return X}));var o=n("fXoL"),i=n("ey9i"),c=n("XRCn"),a=n("H9+z"),r=(n("DQE6"),n("a9tR"),n("4Yo8")),s=n("7FIj"),l=n("ofXK"),d=n("tyNb"),u=n("UkmY"),g=n("qZuT"),b=n("l9Pe"),p=n("1kSV"),m=n("/xt7"),v=n("3Pt+"),f=n("C8Cb"),h=["moreDropdown"];function C(t,e){1&t&&o.Yb(0,"my-global-icon",11)}function O(t,e){if(1&t&&(o.bc(0),o.dd(1),o.ac()),2&t){var n=o.wc();o.Jb(1),o.ed(n.position)}}function _(t,e){if(1&t&&o.Yb(0,"my-video-thumbnail",12),2&t){var n=o.wc();o.Dc("video",n.playlistElement.video)("nsfw",n.isVideoBlur(n.playlistElement.video))("videoRouterLink",n.buildRouterLink())("queryParams",n.buildRouterQuery())}}function y(t,e){1&t&&o.Yb(0,"div",13)}var P,M,w,k=function(t){return["/accounts",t]};function x(t,e){if(1&t&&(o.dc(0,"a",18),o.dd(1),o.cc()),2&t){var n=o.wc(2);o.Dc("routerLink",o.Hc(2,k,n.playlistElement.video.byAccount)),o.Jb(1),o.fd(" ",n.playlistElement.video.byAccount," ")}}function S(t,e){if(1&t&&(o.dc(0,"span",19),o.dd(1),o.cc()),2&t){var n=o.wc(2);o.Jb(1),o.ed(n.playlistElement.video.byAccount)}}function T(t,e){if(1&t&&(o.bc(0),o.dc(1,"a",14),o.dd(2),o.cc(),o.bd(3,x,2,4,"a",15),o.bd(4,S,2,1,"span",16),o.dc(5,"span",17),o.dd(6),o.cc(),o.ac()),2&t){var n=o.wc();o.Jb(1),o.Dc("routerLink",n.buildRouterLink())("queryParams",n.buildRouterQuery()),o.Kb("title",n.playlistElement.video.name),o.Jb(1),o.ed(n.playlistElement.video.name),o.Jb(1),o.Dc("ngIf",n.accountLink),o.Jb(1),o.Dc("ngIf",!n.accountLink),o.Jb(2),o.ed(n.formatTimestamp(n.playlistElement))}}function L(t,e){1&t&&(o.bc(0),o.hc(1,P),o.ac())}function I(t,e){1&t&&(o.bc(0),o.hc(1,M),o.ac())}function D(t,e){1&t&&(o.bc(0),o.hc(1,w),o.ac())}function j(t,e){if(1&t&&(o.dc(0,"span",20),o.bd(1,L,2,0,"ng-container",4),o.bd(2,I,2,0,"ng-container",4),o.bd(3,D,2,0,"ng-container",4),o.cc()),2&t){var n=o.wc();o.Jb(1),o.Dc("ngIf",n.isUnavailable(n.playlistElement)),o.Jb(1),o.Dc("ngIf",n.isPrivate(n.playlistElement)),o.Jb(1),o.Dc("ngIf",n.isDeleted(n.playlistElement))}}P="Nem \xE9rhet\u0151 el",M="Szem\xE9lyes",w="T\xF6r\xF6lve";var A,E,R=function(t){return["/my-account","video-playlists",t]};function F(t,e){if(1&t&&o.Yb(0,"my-edit-button",21),2&t){var n=o.wc();o.Dc("routerLink",o.Hc(1,R,n.playlist.uuid))}}A="T\xF6rl\xE9s innen: " + "\ufffd0\ufffd" + "",E="A szerkeszt\xE9s itt kezd\u0151dik vagy v\xE9gz\u0151dik";var V=["labelText","Kezd\xE9s itt"],N=["labelText","Befejez\xE9s itt"],U=["value","Ment\xE9s"];function J(t,e){if(1&t){var n=o.ec();o.dc(0,"div",30),o.dc(1,"div"),o.dc(2,"my-peertube-checkbox",31),o.jc(3,V),o.sc("ngModelChange",(function(t){return o.Sc(n),o.wc(3).timestampOptions.startTimestampEnabled=t})),o.cc(),o.dc(4,"my-timestamp-input",32),o.sc("ngModelChange",(function(t){return o.Sc(n),o.wc(3).timestampOptions.startTimestamp=t})),o.cc(),o.cc(),o.dc(5,"div"),o.dc(6,"my-peertube-checkbox",33),o.jc(7,N),o.sc("ngModelChange",(function(t){return o.Sc(n),o.wc(3).timestampOptions.stopTimestampEnabled=t})),o.cc(),o.dc(8,"my-timestamp-input",32),o.sc("ngModelChange",(function(t){return o.Sc(n),o.wc(3).timestampOptions.stopTimestamp=t})),o.cc(),o.cc(),o.dc(9,"input",34),o.jc(10,U),o.sc("click",(function(){o.Sc(n);var t=o.wc(3);return t.updateTimestamps(t.playlistElement)})),o.cc(),o.cc()}if(2&t){var i=o.wc(3);o.Jb(2),o.Dc("ngModel",i.timestampOptions.startTimestampEnabled),o.Jb(2),o.Dc("timestamp",i.timestampOptions.startTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.startTimestampEnabled)("ngModel",i.timestampOptions.startTimestamp),o.Jb(2),o.Dc("ngModel",i.timestampOptions.stopTimestampEnabled),o.Jb(2),o.Dc("timestamp",i.timestampOptions.stopTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.stopTimestampEnabled)("ngModel",i.timestampOptions.stopTimestamp)}}function B(t,e){if(1&t){var n=o.ec();o.bc(0),o.dc(1,"div",26),o.sc("click",(function(t){o.Sc(n);var e=o.wc(2);return e.toggleDisplayTimestampsOptions(t,e.playlistElement)})),o.Yb(2,"my-global-icon",28),o.bc(3),o.hc(4,E),o.ac(),o.cc(),o.bd(5,J,11,10,"div",29),o.ac()}if(2&t){var i=o.wc(2);o.Jb(5),o.Dc("ngIf",i.displayTimestampOptions)}}function z(t,e){if(1&t){var n=o.ec();o.dc(0,"div",22,23),o.sc("openChange",(function(){return o.Sc(n),o.wc().onDropdownOpenChange()})),o.dc(2,"my-global-icon",24),o.sc("click",(function(t){return o.Sc(n),t.preventDefault()})),o.cc(),o.dc(3,"div",25),o.bd(4,B,6,1,"ng-container",4),o.dc(5,"span",26),o.sc("click",(function(){o.Sc(n);var t=o.wc();return t.removeFromPlaylist(t.playlistElement)})),o.Yb(6,"my-global-icon",27),o.bc(7),o.hc(8,A),o.ac(),o.cc(),o.cc(),o.cc()}if(2&t){var i=o.wc();o.Jb(4),o.Dc("ngIf",i.playlistElement.video),o.Jb(4),o.lc(null==i.playlist?null:i.playlist.displayName),o.ic(8)}}var H=function(t){return{playing:t}},X=function(){var t=function(){function t(e,n,i,c,a,r){_classCallCheck(this,t),this.authService=e,this.serverService=n,this.notifier=i,this.i18n=c,this.videoPlaylistService=a,this.cdr=r,this.owned=!1,this.playing=!1,this.rowLink=!1,this.accountLink=!0,this.touchScreenEditButton=!1,this.elementRemoved=new o.n,this.displayTimestampOptions=!1,this.timestampOptions={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(e){t.serverConfig=e,t.cdr.detectChanges()}))}},{key:"isUnavailable",value:function(t){return t.type===c.m.UNAVAILABLE}},{key:"isPrivate",value:function(t){return t.type===c.m.PRIVATE}},{key:"isDeleted",value:function(t){return t.type===c.m.DELETED}},{key:"buildRouterLink",value:function(){return this.playlist?["/videos/watch/playlist",this.playlist.uuid]:null}},{key:"buildRouterQuery",value:function(){return this.playlistElement&&this.playlistElement.video?{videoId:this.playlistElement.video.uuid,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{}}},{key:"isVideoBlur",value:function(t){return t.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig)}},{key:"removeFromPlaylist",value:function(t){var e=this;this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,t.id,this.playlistElement.video?this.playlistElement.video.id:void 0).subscribe((function(){e.notifier.success(e.i18n("Video removed from {{name}}",{name:e.playlist.displayName})),e.elementRemoved.emit(t)}),(function(t){return e.notifier.error(t.message)})),this.moreDropdown.close()}},{key:"updateTimestamps",value:function(t){var e=this,n={};n.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,n.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,t.id,n,this.playlistElement.video.id).subscribe((function(){e.notifier.success(e.i18n("Timestamps updated")),t.startTimestamp=n.startTimestamp,t.stopTimestamp=n.stopTimestamp,e.cdr.detectChanges()}),(function(t){return e.notifier.error(t.message)})),this.moreDropdown.close()}},{key:"formatTimestamp",value:function(t){var e=t.startTimestamp,n=t.stopTimestamp,o=Object(a.j)(e,!0,":"),i=Object(a.j)(n,!0,":");return null===e&&null===n?"":null!==e&&null===n?this.i18n("Starts at ")+o:null===e&&null!==n?this.i18n("Stops at ")+i:this.i18n("Starts at ")+o+this.i18n(" and stops at ")+i}},{key:"onDropdownOpenChange",value:function(){this.displayTimestampOptions=!1}},{key:"toggleDisplayTimestampsOptions",value:function(t,e){var n=this;t.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,!0===this.displayTimestampOptions&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:e.video.duration},e.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=e.startTimestamp),e.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=e.stopTimestamp)),setTimeout((function(){n.cdr.detectChanges()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Xb(i.a),o.Xb(i.s),o.Xb(i.k),o.Xb(s.a),o.Xb(r.a),o.Xb(o.h))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,e){var n;1&t&&o.hd(h,!0),2&t&&o.Pc(n=o.tc())&&(e.moreDropdown=n.first)},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},decls:12,vars:13,consts:[[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","more","ngbDropdown","","placement","bottom auto","autoClose","outside",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams"],[1,"fake-thumbnail"],["tabindex","-1",1,"video-info-name",3,"routerLink","queryParams"],["tabindex","-1","class","video-info-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-account",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["tabindex","-1",1,"video-info-account",3,"routerLink"],["tabindex","-1",1,"video-info-account"],[1,"video-info-name"],[3,"routerLink"],["ngbDropdown","","placement","bottom auto","autoClose","outside",1,"more",3,"openChange"],["moreDropdown","ngbDropdown"],["iconName","more-vertical","ngbDropdownToggle","","role","button",1,"icon-more",3,"click"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],["iconName","delete","aria-hidden","true"],["iconName","edit","aria-hidden","true"],["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt",3,"ngModel","ngModelChange",6,"labelText"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt",3,"ngModel","ngModelChange",6,"labelText"],["type","submit",3,"click",6,"value"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"a",1),o.dc(2,"div",2),o.bd(3,C,1,0,"my-global-icon",3),o.bd(4,O,2,1,"ng-container",4),o.cc(),o.bd(5,_,1,4,"my-video-thumbnail",5),o.bd(6,y,1,0,"div",6),o.dc(7,"div",7),o.bd(8,T,7,7,"ng-container",4),o.bd(9,j,4,3,"span",8),o.cc(),o.cc(),o.bd(10,F,1,3,"my-edit-button",9),o.bd(11,z,9,2,"div",10),o.cc()),2&t&&(o.Dc("ngClass",o.Hc(11,H,e.playing)),o.Jb(1),o.Dc("routerLink",e.buildRouterLink())("queryParams",e.buildRouterQuery()),o.Jb(2),o.Dc("ngIf",e.playing),o.Jb(1),o.Dc("ngIf",!e.playing),o.Jb(1),o.Dc("ngIf",e.playlistElement.video),o.Jb(1),o.Dc("ngIf",!e.playlistElement.video),o.Jb(2),o.Dc("ngIf",e.playlistElement.video),o.Jb(1),o.Dc("ngIf",!e.playlistElement.video),o.Jb(1),o.Dc("ngIf",e.owned&&e.touchScreenEditButton),o.Jb(1),o.Dc("ngIf",e.owned))},directives:[l.r,d.k,l.u,u.a,g.a,b.a,d.i,p.e,p.j,p.h,m.a,v.t,v.w,f.a],styles:['.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{background-color:#ececec}.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]{display:flex;margin-right:10px}.video[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}.video[_ngcontent-%COMP%]:hover   .more[_ngcontent-%COMP%]{opacity:1}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1!important}}.video.playing[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;margin-right:10px;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;margin-left:auto;cursor:pointer;min-width:24px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{opacity:1}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]:after{border:none}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:6px 15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;margin-right:10px;position:relative;top:-2px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;padding-left:35px;margin-bottom:15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:740px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}'],changeDetection:0}),t}()},"3JDX":function(t,e,n){t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return o.colors[Math.abs(e)%o.colors.length]}function o(t){var n;function a(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(a.enabled){var c=a,r=Number(new Date);c.diff=r-(n||r),c.prev=n,c.curr=r,n=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;s++;var i=o.formatters[n];return"function"==typeof i&&(t=i.call(c,e[s]),e.splice(s,1),s--),t})),o.formatArgs.call(c,e),(c.log||o.log).apply(c,e)}}return a.namespace=t,a.enabled=o.enabled(t),a.useColors=o.useColors(),a.color=e(t),a.destroy=i,a.extend=c,"function"==typeof o.init&&o.init(a),o.instances.push(a),a}function i(){var t=o.instances.indexOf(this);return-1!==t&&(o.instances.splice(t,1),!0)}function c(t,e){var n=o(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function a(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(t){return t instanceof Error?t.stack||t.message:t},o.disable=function(){var t=[].concat(_toConsumableArray(o.names.map(a)),_toConsumableArray(o.skips.map(a).map((function(t){return"-"+t})))).join(",");return o.enable(""),t},o.enable=function(t){var e;o.save(t),o.names=[],o.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+t.substr(1)+"$")):o.names.push(new RegExp("^"+t+"$")));for(e=0;e<o.instances.length;e++){var c=o.instances[e];c.enabled=o.enabled(c.namespace)}},o.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=o.skips.length;e<n;e++)if(o.skips[e].test(t))return!1;for(e=0,n=o.names.length;e<n;e++)if(o.names[e].test(t))return!0;return!1},o.humanize=n("FGiv"),Object.keys(t).forEach((function(e){o[e]=t[e]})),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=e,o.enable(o.load()),o}},"4Yo8":function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var o=n("NOtv"),i=n("BeL+"),c=n("jtHE"),a=n("XNiG"),r=n("VRyK"),s=n("D0XW"),l=n("LRne"),d=n("OsX3"),u=n("pLZG"),g=n("lJxs"),b=n("pxpQ"),p=n("eIep"),m=n("w1tV"),v=n("JIr8"),f=n("vkgz"),h=n("tk/3"),C=n("ey9i"),O=n("6rF9"),_=n("xMQD"),y=n("AytR"),P=n("DQE6"),M=n("a9tR"),w=n("fXoL"),k=o("peertube:playlists:VideoPlaylistService"),x=function(){var t=function(){function t(e,n,o,l,v){var f=this;_classCallCheck(this,t),this.authHttp=e,this.serverService=n,this.restExtractor=o,this.restService=l,this.ngZone=v,this.videoExistsInPlaylistNotifier=new c.a(1),this.videoExistsInPlaylistCacheSubject=new a.a,this.videoExistsObservableCache={},this.videoExistsCache={},this.myAccountPlaylistCache=void 0,this.myAccountPlaylistCacheSubject=new a.a,this.videoExistsInPlaylistObservable=Object(r.a)(this.videoExistsInPlaylistNotifier.pipe(Object(d.a)(500,Object(O.l)(this.ngZone,s.a)),Object(u.a)((function(t){return 0!==t.length})),Object(g.a)((function(t){return Object(i.a)(t)})),Object(b.b)(Object(O.d)(this.ngZone,s.a)),Object(p.a)((function(t){return f.doVideosExistInPlaylist(t)})),Object(m.a)()),this.videoExistsInPlaylistCacheSubject)}return _createClass(t,[{key:"listChannelPlaylists",value:function(t,e){var n=this,o=_.m.BASE_VIDEO_CHANNEL_URL+t.nameWithHost+"/video-playlists",i=this.restService.componentPaginationToRestPagination(e),c=new h.f;return c=this.restService.addRestGetParams(c,i),this.authHttp.get(o,{params:c}).pipe(Object(p.a)((function(t){return n.extractPlaylists(t)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"listMyPlaylistWithCache",value:function(t,e){var n=this;if(!e){if(this.myAccountPlaylistCacheRunning)return this.myAccountPlaylistCacheRunning;if(this.myAccountPlaylistCache)return Object(l.a)(this.myAccountPlaylistCache)}var o=this.listAccountPlaylists(t.account,void 0,"-updatedAt",e).pipe(Object(f.a)((function(t){e||(n.myAccountPlaylistCacheRunning=void 0,n.myAccountPlaylistCache=t)})),Object(m.a)());return e||(this.myAccountPlaylistCacheRunning=o),o}},{key:"listAccountPlaylists",value:function(t,e,n,o){var i=this,c=_.b.BASE_ACCOUNT_URL+t.nameWithHost+"/video-playlists",a=e?this.restService.componentPaginationToRestPagination(e):void 0,r=new h.f;return r=this.restService.addRestGetParams(r,a,n),o&&(r=this.restService.addObjectParams(r,{search:o})),this.authHttp.get(c,{params:r}).pipe(Object(p.a)((function(t){return i.extractPlaylists(t)})),Object(v.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"getVideoPlaylist",value:function(e){var n=this;return this.authHttp.get(t.BASE_VIDEO_PLAYLIST_URL+e).pipe(Object(p.a)((function(t){return n.extractPlaylist(t)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"createVideoPlaylist",value:function(e){var n=this,o=Object(O.n)(e);return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL,o).pipe(Object(f.a)((function(t){n.myAccountPlaylistCache&&(n.myAccountPlaylistCache.total++,n.myAccountPlaylistCache.data.push({id:t.videoPlaylist.id,displayName:e.displayName}),n.myAccountPlaylistCacheSubject.next(n.myAccountPlaylistCache))})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"updateVideoPlaylist",value:function(e,n){var o=this,i=Object(O.n)(n);return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+e.id,i).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){o.myAccountPlaylistCache&&(o.myAccountPlaylistCache.data.find((function(t){return t.id===e.id})).displayName=n.displayName,o.myAccountPlaylistCacheSubject.next(o.myAccountPlaylistCache))})),Object(v.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"removeVideoPlaylist",value:function(e){var n=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+e.id).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){n.myAccountPlaylistCache&&(n.myAccountPlaylistCache.total--,n.myAccountPlaylistCache.data=n.myAccountPlaylistCache.data.filter((function(t){return t.id!==e.id})),n.myAccountPlaylistCacheSubject.next(n.myAccountPlaylistCache))})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"addVideoInPlaylist",value:function(e,n){var o=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+e+"/videos",n).pipe(Object(f.a)((function(t){o.videoExistsCache[n.videoId].push({playlistId:e,playlistElementId:t.videoPlaylistElement.id,startTimestamp:n.startTimestamp,stopTimestamp:n.stopTimestamp}),o.runPlaylistCheck(n.videoId)})),Object(v.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"updateVideoOfPlaylist",value:function(e,n,o,i){var c=this;return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+e+"/videos/"+n,o).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){var t=c.videoExistsCache[i].find((function(t){return t.playlistElementId===n}));t.startTimestamp=o.startTimestamp,t.stopTimestamp=o.stopTimestamp,c.runPlaylistCheck(i)})),Object(v.a)((function(t){return c.restExtractor.handleError(t)})))}},{key:"removeVideoFromPlaylist",value:function(e,n,o){var i=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+e+"/videos/"+n).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){o&&(i.videoExistsCache[o]=i.videoExistsCache[o].filter((function(t){return t.playlistElementId!==n})),i.runPlaylistCheck(o))})),Object(v.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"reorderPlaylist",value:function(e,n,o){var i=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+e+"/videos/reorder",{startPosition:n,insertAfterPosition:o}).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(v.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"getPlaylistVideos",value:function(e,n){var o=this,i=t.BASE_VIDEO_PLAYLIST_URL+e+"/videos",c=this.restService.componentPaginationToRestPagination(n),a=new h.f;return a=this.restService.addRestGetParams(a,c),this.authHttp.get(i,{params:a}).pipe(Object(p.a)((function(t){return o.extractVideoPlaylistElements(t)})),Object(v.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"listenToMyAccountPlaylistsChange",value:function(){return this.myAccountPlaylistCacheSubject.asObservable()}},{key:"listenToVideoPlaylistChange",value:function(t){var e=this;if(this.videoExistsObservableCache[t])return this.videoExistsObservableCache[t];var n=this.videoExistsInPlaylistObservable.pipe(Object(g.a)((function(e){return e[t]})),Object(u.a)((function(t){return!!t})),Object(f.a)((function(n){return e.videoExistsCache[t]=n})));return this.videoExistsObservableCache[t]=n,n}},{key:"runPlaylistCheck",value:function(t){return k("Running playlist check."),this.videoExistsCache[t]?(k("Found cache for %d.",t),this.videoExistsInPlaylistCacheSubject.next(_defineProperty({},t,this.videoExistsCache[t]))):(k("Fetching from network for %d.",t),this.videoExistsInPlaylistNotifier.next(t))}},{key:"extractPlaylists",value:function(t){return this.serverService.getServerLocale().pipe(Object(g.a)((function(e){var n,o=t.data,i=t.total,c=[],a=_createForOfIteratorHelper(o);try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push(new M.a(r,e))}}catch(s){a.e(s)}finally{a.f()}return{data:c,total:i}})))}},{key:"extractPlaylist",value:function(t){return this.serverService.getServerLocale().pipe(Object(g.a)((function(e){return new M.a(t,e)})))}},{key:"extractVideoPlaylistElements",value:function(t){return this.serverService.getServerLocale().pipe(Object(g.a)((function(e){var n,o=t.data,i=t.total,c=[],a=_createForOfIteratorHelper(o);try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push(new P.a(r,e))}}catch(s){a.e(s)}finally{a.f()}return{total:i,data:c}})))}},{key:"doVideosExistInPlaylist",value:function(e){var n=this,o=t.MY_VIDEO_PLAYLIST_URL+"videos-exist",i=new h.f;return i=this.restService.addObjectParams(i,{videoIds:e}),this.authHttp.get(o,{params:i,headers:{ignoreLoadingBar:""}}).pipe(Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}}]),t}();return t.BASE_VIDEO_PLAYLIST_URL=y.a.apiUrl+"/api/v1/video-playlists/",t.MY_VIDEO_PLAYLIST_URL=y.a.apiUrl+"/api/v1/users/me/video-playlists/",t.\u0275fac=function(e){return new(e||t)(w.oc(h.b),w.oc(C.s),w.oc(C.n),w.oc(C.o),w.oc(w.D))},t.\u0275prov=w.Tb({token:t,factory:t.\u0275fac}),t}()},"5rWp":function(t,e,n){"use strict";var o=n("b613");n.d(e,"b",(function(){return o.a})),n("Dmbs"),n("gY50");var i=n("hHkf");n.d(e,"a",(function(){return i.a}))},"BeL+":function(t,e,n){"use strict";var o=n("msdH"),i=function(t){return t!=t},c=function(t,e){return!(null==t||!t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var o=-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}(t,e):function(t,e,n,o){for(var i=t.length,c=-1;++c<i;)if(e(t[c],c,t))return c;return-1}(t,i)}(t,e)>-1},a=n("ZWiB"),r=n("pVw1"),s=n("GYlH"),l=r.a&&1/Object(s.a)(new r.a([,-0]))[1]==1/0?function(t){return new r.a(t)}:function(){};e.a=function(t){return t&&t.length?function(t,e,n){var i=-1,r=c,d=t.length,u=!0,g=[],b=g;if(d>=200){var p=l(t);if(p)return Object(s.a)(p);u=!1,r=a.a,b=new o.a}else b=g;t:for(;++i<d;){var m=t[i],v=m;if(m=0!==m?m:0,u&&v==v){for(var f=b.length;f--;)if(b[f]===v)continue t;g.push(m)}else r(b,v,void 0)||(b!==g&&b.push(v),g.push(m))}return g}(t):[]}},DQE6:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("xMQD"),i=function t(e,n){_classCallCheck(this,t),this.id=e.id,this.position=e.position,this.startTimestamp=e.startTimestamp,this.stopTimestamp=e.stopTimestamp,this.type=e.type,e.video&&(this.video=new o.j(e.video,n))}},DTAc:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var o,i,c=n("NOtv"),a=n("XNiG"),r=n("Kj3r"),s=n("pLZG"),l=n("ey9i"),d=n("sWvm"),u=n("XRCn"),g=n("H9+z"),b=n("4Yo8"),p=n("fXoL"),m=n("7FIj"),v=n("UkmY"),f=n("ofXK"),h=n("3Pt+"),C=n("/xt7"),O=n("C8Cb");o="Ment\xE9s ide",i="Be\xE1ll\xEDt\xE1sok";var _,y=["placeholder","Lej\xE1tsz\xE1si list\xE1k keres\xE9se"];_="Szem\xE9lyes lej\xE1tsz\xE1si lista l\xE9trehoz\xE1sa";var P,M=["labelText","Kezd\xE9s itt"],w=["labelText","Befejez\xE9s itt"];function k(t,e){if(1&t){var n=p.ec();p.dc(0,"div",14),p.dc(1,"div"),p.dc(2,"my-peertube-checkbox",15),p.jc(3,M),p.sc("ngModelChange",(function(t){return p.Sc(n),p.wc().timestampOptions.startTimestampEnabled=t})),p.cc(),p.dc(4,"my-timestamp-input",16),p.sc("ngModelChange",(function(t){return p.Sc(n),p.wc().timestampOptions.startTimestamp=t})),p.cc(),p.cc(),p.dc(5,"div"),p.dc(6,"my-peertube-checkbox",17),p.jc(7,w),p.sc("ngModelChange",(function(t){return p.Sc(n),p.wc().timestampOptions.stopTimestampEnabled=t})),p.cc(),p.dc(8,"my-timestamp-input",16),p.sc("ngModelChange",(function(t){return p.Sc(n),p.wc().timestampOptions.stopTimestamp=t})),p.cc(),p.cc(),p.cc()}if(2&t){var o=p.wc();p.Jb(2),p.Dc("ngModel",o.timestampOptions.startTimestampEnabled),p.Jb(2),p.Dc("timestamp",o.timestampOptions.startTimestamp)("maxTimestamp",o.video.duration)("disabled",!o.timestampOptions.startTimestampEnabled)("ngModel",o.timestampOptions.startTimestamp),p.Jb(2),p.Dc("ngModel",o.timestampOptions.stopTimestampEnabled),p.Jb(2),p.Dc("timestamp",o.timestampOptions.stopTimestamp)("maxTimestamp",o.video.duration)("disabled",!o.timestampOptions.stopTimestampEnabled)("ngModel",o.timestampOptions.stopTimestamp)}}function x(t,e){if(1&t&&(p.dc(0,"div",22),p.dd(1),p.cc()),2&t){var n=p.wc().$implicit,o=p.wc();p.Jb(1),p.fd(" ",o.formatTimestamp(n)," ")}}function S(t,e){if(1&t){var n=p.ec();p.dc(0,"div",18),p.sc("click",(function(t){p.Sc(n);var o=e.$implicit;return p.wc().togglePlaylist(t,o)})),p.dc(1,"my-peertube-checkbox",19),p.sc("ngModelChange",(function(t){return p.Sc(n),e.$implicit.inPlaylist=t})),p.cc(),p.dc(2,"div",20),p.dd(3),p.bd(4,x,2,1,"div",21),p.cc(),p.cc()}if(2&t){var o=e.$implicit;p.Jb(1),p.Dc("inputName","in-playlist-"+o.id)("ngModel",o.inPlaylist)("onPushWorkaround",!0),p.Jb(2),p.fd(" ",o.displayName," "),p.Jb(1),p.Dc("ngIf",o.inPlaylist&&(o.startTimestamp||o.stopTimestamp))}}P="Megjelen\xEDtett n\xE9v";var T=["value","L\xE9trehoz\xE1s"];function L(t,e){if(1&t&&(p.dc(0,"div",29),p.dd(1),p.cc()),2&t){var n=p.wc(2);p.Jb(1),p.fd(" ",n.formErrors.displayName," ")}}var I=function(t){return{"input-error":t}};function D(t,e){if(1&t){var n=p.ec();p.dc(0,"form",23),p.sc("ngSubmit",(function(){return p.Sc(n),p.wc().createPlaylist()})),p.dc(1,"div",24),p.dc(2,"label",25),p.hc(3,P),p.cc(),p.Yb(4,"input",26),p.bd(5,L,2,1,"div",27),p.cc(),p.dc(6,"input",28),p.jc(7,T),p.cc(),p.cc()}if(2&t){var o=p.wc();p.Dc("formGroup",o.form),p.Jb(4),p.Dc("ngClass",p.Hc(4,I,o.formErrors.displayName)),p.Jb(1),p.Dc("ngIf",o.formErrors.displayName),p.Jb(1),p.Dc("disabled",!o.form.valid)}}var j=c("peertube:playlists:VideoAddToPlaylistComponent"),A=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,c,r,s,l){var d;return _classCallCheck(this,n),(d=e.call(this)).formValidatorService=t,d.authService=o,d.notifier=i,d.i18n=c,d.videoPlaylistService=r,d.videoPlaylistValidatorsService=s,d.cd=l,d.lazyLoad=!1,d.isNewPlaylistBlockOpened=!1,d.videoPlaylistSearchChanged=new a.a,d.videoPlaylists=[],d.displayOptions=!1,d.disabled=!1,d.playlistsData=[],d}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.buildForm({displayName:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_DISPLAY_NAME}),this.videoPlaylistService.listenToMyAccountPlaylistsChange().subscribe((function(e){t.playlistsData=e.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)})),this.videoPlaylistSearchChanged.pipe(Object(r.a)(500)).subscribe((function(){return t.load()})),!1===this.lazyLoad&&this.load()}},{key:"ngOnChanges",value:function(t){t.video&&this.reload()}},{key:"ngOnDestroy",value:function(){this.unsubscribePlaylistChanges()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"reload",value:function(){j("Reloading component"),this.videoPlaylists=[],this.videoPlaylistSearch=void 0,this.resetOptions(!0),this.load(),this.cd.markForCheck()}},{key:"load",value:function(){var t=this;j("Loading component"),this.listenToPlaylistChanges(),this.videoPlaylistService.listMyPlaylistWithCache(this.user,this.videoPlaylistSearch).subscribe((function(e){t.playlistsData=e.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)}))}},{key:"openChange",value:function(t){!1===t&&(this.isNewPlaylistBlockOpened=!1,this.displayOptions=!1)}},{key:"openCreateBlock",value:function(t){t.preventDefault(),this.isNewPlaylistBlockOpened=!0}},{key:"togglePlaylist",value:function(t,e){t.preventDefault(),!0===e.inPlaylist?this.removeVideoFromPlaylist(e):this.addVideoInPlaylist(e),e.inPlaylist=!e.inPlaylist,this.resetOptions(),this.cd.markForCheck()}},{key:"createPlaylist",value:function(){var t=this;this.videoPlaylistService.createVideoPlaylist({displayName:this.form.value.displayName,privacy:u.n.PRIVATE}).subscribe((function(){t.isNewPlaylistBlockOpened=!1,t.cd.markForCheck()}),(function(e){return t.notifier.error(e.message)}))}},{key:"resetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.displayOptions=!1,this.timestampOptions={},this.timestampOptions.startTimestampEnabled=!1,this.timestampOptions.stopTimestampEnabled=!1,t&&(this.timestampOptions.startTimestamp=0,this.timestampOptions.stopTimestamp=this.video.duration)}},{key:"formatTimestamp",value:function(t){return"(".concat(t.startTimestamp?Object(g.j)(t.startTimestamp):"","-").concat(t.stopTimestamp?Object(g.j)(t.stopTimestamp):"",")")}},{key:"onVideoPlaylistSearchChanged",value:function(){this.videoPlaylistSearchChanged.next()}},{key:"removeVideoFromPlaylist",value:function(t){var e=this;t.playlistElementId&&this.videoPlaylistService.removeVideoFromPlaylist(t.id,t.playlistElementId,this.video.id).subscribe((function(){e.notifier.success(e.i18n("Video removed from {{name}}",{name:t.displayName}))}),(function(t){e.notifier.error(t.message)}),(function(){return e.cd.markForCheck()}))}},{key:"listenToPlaylistChanges",value:function(){var t=this;this.unsubscribePlaylistChanges(),this.listenToPlaylistChangeSub=this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id).pipe(Object(s.a)((function(){return!1===t.disabled}))).subscribe((function(e){return t.rebuildPlaylists(e)}))}},{key:"unsubscribePlaylistChanges",value:function(){this.listenToPlaylistChangeSub&&(this.listenToPlaylistChangeSub.unsubscribe(),this.listenToPlaylistChangeSub=void 0)}},{key:"rebuildPlaylists",value:function(t){var e=this;j("Got existing results for %d.",this.video.id,t),this.videoPlaylists=[];var n,o=_createForOfIteratorHelper(this.playlistsData);try{var i=function(){var o=n.value,i=t.find((function(t){return t.playlistId===o.id}));e.videoPlaylists.push({id:o.id,displayName:o.displayName,inPlaylist:!!i,playlistElementId:i?i.playlistElementId:void 0,startTimestamp:i?i.startTimestamp:void 0,stopTimestamp:i?i.stopTimestamp:void 0})};for(o.s();!(n=o.n()).done;)i()}catch(c){o.e(c)}finally{o.f()}j("Rebuilt playlist state for video %d.",this.video.id,this.videoPlaylists),this.cd.markForCheck()}},{key:"addVideoInPlaylist",value:function(t){var e=this,n={videoId:this.video.id};this.timestampOptions.startTimestampEnabled&&(n.startTimestamp=this.timestampOptions.startTimestamp),this.timestampOptions.stopTimestampEnabled&&(n.stopTimestamp=this.timestampOptions.stopTimestamp),this.videoPlaylistService.addVideoInPlaylist(t.id,n).subscribe((function(){var o=n.startTimestamp||n.stopTimestamp?e.i18n("Video added in {{n}} at timestamps {{t}}",{n:t.displayName,t:e.formatTimestamp(t)}):e.i18n("Video added in {{n}}",{n:t.displayName});e.notifier.success(o)}),(function(t){e.notifier.error(t.message)}),(function(){return e.cd.markForCheck()}))}},{key:"user",get:function(){return this.authService.getUser()}}]),n}(d.c);return t.\u0275fac=function(e){return new(e||t)(p.Xb(d.d),p.Xb(l.a),p.Xb(l.k),p.Xb(m.a),p.Xb(b.a),p.Xb(d.q),p.Xb(p.h))},t.\u0275cmp=p.Rb({type:t,selectors:[["my-video-add-to-playlist"]],inputs:{video:"video",currentVideoTimestamp:"currentVideoTimestamp",lazyLoad:"lazyLoad"},features:[p.Gb,p.Hb],decls:20,vars:5,consts:[[1,"root"],[1,"header"],[1,"first-row"],[1,"title"],[1,"options",3,"click"],["iconName","cog","aria-hidden","true"],["class","options-row",4,"ngIf"],[1,"input-container"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],[1,"playlists"],["class","playlist dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"new-playlist-button","dropdown-item",3,"hidden","click"],["iconName","add","aria-hidden","true"],["class","new-playlist-block dropdown-item",3,"formGroup","ngSubmit",4,"ngIf"],[1,"options-row"],["inputName","startAt",3,"ngModel","ngModelChange",6,"labelText"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt",3,"ngModel","ngModelChange",6,"labelText"],[1,"playlist","dropdown-item",3,"click"],[3,"inputName","ngModel","onPushWorkaround","ngModelChange"],[1,"display-name"],["class","timestamp-info",4,"ngIf"],[1,"timestamp-info"],[1,"new-playlist-block","dropdown-item",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit",3,"disabled",6,"value"],[1,"form-error"]],template:function(t,e){1&t&&(p.dc(0,"div",0),p.dc(1,"div",1),p.dc(2,"div",2),p.dc(3,"div",3),p.hc(4,o),p.cc(),p.dc(5,"div",4),p.sc("click",(function(){return e.displayOptions=!e.displayOptions})),p.Yb(6,"my-global-icon",5),p.dc(7,"span"),p.hc(8,i),p.cc(),p.cc(),p.cc(),p.bd(9,k,9,10,"div",6),p.cc(),p.dc(10,"div",7),p.dc(11,"input",8),p.jc(12,y),p.sc("ngModelChange",(function(t){return e.videoPlaylistSearch=t}))("ngModelChange",(function(){return e.onVideoPlaylistSearchChanged()})),p.cc(),p.cc(),p.dc(13,"div",9),p.bd(14,S,5,5,"div",10),p.cc(),p.dc(15,"div",11),p.sc("click",(function(t){return e.openCreateBlock(t)})),p.Yb(16,"my-global-icon",12),p.dc(17,"span"),p.hc(18,_),p.cc(),p.cc(),p.bd(19,D,8,6,"form",13),p.cc()),2&t&&(p.Jb(9),p.Dc("ngIf",e.displayOptions),p.Jb(2),p.Dc("ngModel",e.videoPlaylistSearch),p.Jb(3),p.Dc("ngForOf",e.videoPlaylists),p.Jb(1),p.Dc("hidden",e.isNewPlaylistBlockOpened),p.Jb(4),p.Dc("ngIf",e.isNewPlaylistBlockOpened))},directives:[v.a,f.u,h.d,h.t,h.w,f.t,C.a,O.a,h.J,h.u,h.m,h.k,f.r],styles:['.dropdown-item[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]{padding:8px 24px}.header[_ngcontent-%COMP%]{min-width:240px;margin-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:16px;height:23px;margin-right:3px}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}.header[_ngcontent-%COMP%]   .options-row[_ngcontent-%COMP%]{margin-top:10px;padding-left:10px}.header[_ngcontent-%COMP%]   .options-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.playlists[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto}.playlist[_ngcontent-%COMP%]{display:inline-flex;cursor:pointer}.playlist[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:10px;align-self:center}.playlist[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.playlist[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   .timestamp-info[_ngcontent-%COMP%]{font-size:.9em;color:var(--greyForegroundColor);margin-left:5px}.new-playlist-block[_ngcontent-%COMP%], .new-playlist-button[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid rgba(0,0,0,.1)}.new-playlist-button[_ngcontent-%COMP%]{cursor:pointer}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-1px;top:-1px;margin-right:4px;width:21px;height:21px}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:200px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}'],changeDetection:0}),t}()},Dmbs:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var o,i,c,a,r,s,l,d=n("cp0P"),u=n("GyhO"),g=n("VRyK"),b=n("ey9i"),p=n("xMQD"),m=n("XRCn"),v=n("b613"),f=n("fXoL"),h=n("tyNb"),C=n("7FIj"),O=n("ofXK"),_=n("1kSV"),y=n("gY50"),P=n("gCBE");function M(t,e){1&t&&f.Zb(0)}function w(t,e){1&t&&f.hc(0,r)}function k(t,e){if(1&t&&(f.dc(0,"span"),f.dd(1),f.bc(2),f.hc(3,l),f.ac(),f.cc()),2&t){var n=f.wc(3);f.Jb(1),f.gd("",n.subscribeStatus(!0).length,"/",n.subscribed.size," ")}}function x(t,e){if(1&t&&(f.dc(0,"span"),f.hc(1,s),f.cc(),f.bd(2,k,4,2,"span",9)),2&t){var n=f.wc(2);f.Jb(2),f.Dc("ngIf",n.isAtLeastOneChannelSubscribed)}}function S(t,e){if(1&t&&(f.dc(0,"span",19),f.dd(1),f.xc(2,"myNumberFormatter"),f.cc()),2&t){var n=f.wc(2);f.Jb(1),f.fd(" ",f.yc(2,1,n.videoChannels[0].followersCount)," ")}}o="ActivityPub-fi\xF3k haszn\xE1lata",i="Feliratkoz\xE1s egy Mastodon-fi\xF3kkal:",c="H\xEDrforr\xE1s haszn\xE1lata",a="Feliratkoz\xE1s RSS haszn\xE1lat\xE1val",r="Feliratkoz\xE1s",s="Feliratkoz\xE1s az \xF6sszes csatorn\xE1ra",l="feliratkozott csatorna";var T,L,I,D=function(t){return{"extra-text":t}};function j(t,e){if(1&t&&(f.dc(0,"span",14),f.bd(1,M,1,0,"ng-container",15),f.bd(2,w,1,0,"ng-template",null,16,f.cd),f.bd(4,x,3,1,"ng-template",null,17,f.cd),f.cc(),f.bd(6,S,3,3,"span",18)),2&t){var n=f.Qc(3),o=f.Qc(5),i=f.wc();f.Dc("ngClass",f.Hc(5,D,i.isAtLeastOneChannelSubscribed)),f.Jb(1),f.Dc("ngIf",i.account)("ngIfThen",o)("ngIfElse",n),f.Jb(5),f.Dc("ngIf",!i.isBigButton&&i.displayFollowers&&i.videoChannels.length>1&&0!==i.videoChannel.followersCount)}}function A(t,e){}function E(t,e){if(1&t){var n=f.ec();f.dc(0,"button",21),f.sc("click",(function(){return f.Sc(n),f.wc(2).subscribe()})),f.bd(1,A,0,0,"ng-template",22),f.cc()}if(2&t){f.wc(2);var o=f.Qc(2);f.Jb(1),f.Dc("ngTemplateOutlet",o)}}function R(t,e){if(1&t){var n=f.ec();f.dc(0,"button",21),f.sc("click",(function(){return f.Sc(n),f.wc(2).unsubscribe()})),f.bc(1),f.hc(2,T),f.ac(),f.cc()}if(2&t){var o=f.wc(2);f.Jb(2),f.lc(o.account+""),f.ic(2)}}function F(t,e){if(1&t&&(f.bd(0,E,2,1,"button",20),f.bd(1,R,3,1,"button",20)),2&t){var n=f.wc();f.Dc("ngIf",!n.isAllChannelsSubscribed),f.Jb(1),f.Dc("ngIf",n.isAllChannelsSubscribed)}}function V(t,e){1&t&&f.Zb(0)}function N(t,e){1&t&&f.Zb(0)}function U(t,e){1&t&&(f.dc(0,"span"),f.hc(1,L),f.cc())}function J(t,e){1&t&&(f.dc(0,"span"),f.hc(1,I),f.cc())}T="{VAR_SELECT, select, undefined {Leiratkoz\xE1s} other {Leiratkoz\xE1s az \xF6sszes csatorn\xE1r\xF3l}}",T=f.mc(T,{VAR_SELECT:"\ufffd0\ufffd"}),L="Feliratkoz\xE1s egy ezen a p\xE9ld\xE1nyon l\xE9v\u0151 fi\xF3kkal",I="Feliratkoz\xE1s a helyi fi\xF3kj\xE1val";var B=function(t,e,n){return{"subscribe-button":t,"unsubscribe-button":e,big:n}},z=function(){var t=function(){function t(e,n,o,i,c,a){_classCallCheck(this,t),this.authService=e,this.router=n,this.notifier=o,this.userSubscriptionService=i,this.i18n=c,this.videoService=a,this.displayFollowers=!1,this.size="normal",this.subscribed=new Map}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadSubscribedStatus()}},{key:"ngOnChanges",value:function(){this.ngOnInit()}},{key:"subscribe",value:function(){return this.isUserLoggedIn()?this.localSubscribe():this.gotoLogin()}},{key:"localSubscribe",value:function(){var t=this,e=this.subscribeStatus(!1),n=this.videoChannels.map((function(e){return t.getChannelHandler(e)})).filter((function(t){return e.includes(t)})).map((function(e){return t.userSubscriptionService.addSubscription(e)}));Object(d.a)(n).subscribe((function(){t.notifier.success(t.account?t.i18n("Subscribed to all current channels of {{nameWithHost}}. You will be notified of all their new videos.",{nameWithHost:t.account.displayName}):t.i18n("Subscribed to {{nameWithHost}}. You will be notified of all their new videos.",{nameWithHost:t.videoChannels[0].displayName}),t.i18n("Subscribed"))}),(function(e){return t.notifier.error(e.message)}))}},{key:"unsubscribe",value:function(){this.isUserLoggedIn()&&this.localUnsubscribe()}},{key:"localUnsubscribe",value:function(){var t=this,e=this.subscribeStatus(!0),n=this.videoChannels.map((function(e){return t.getChannelHandler(e)})).filter((function(t){return e.includes(t)})).map((function(e){return t.userSubscriptionService.deleteSubscription(e)}));Object(u.a).apply(void 0,_toConsumableArray(n)).subscribe({complete:function(){t.notifier.success(t.account?t.i18n("Unsubscribed from all channels of {{nameWithHost}}",{nameWithHost:t.account.nameWithHost}):t.i18n("Unsubscribed from {{nameWithHost}}",{nameWithHost:t.videoChannels[0].nameWithHost}),t.i18n("Unsubscribed"))},error:function(e){return t.notifier.error(e.message)}})}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"gotoLogin",value:function(){this.router.navigate(["/login"])}},{key:"subscribeStatus",value:function(t){var e,n=[],o=_createForOfIteratorHelper(this.subscribed.entries());try{for(o.s();!(e=o.n()).done;){var i=_slicedToArray(e.value,2),c=i[0];i[1]===t&&n.push(c)}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"getChannelHandler",value:function(t){return t.name+"@"+t.host}},{key:"loadSubscribedStatus",value:function(){var t=this;if(this.isUserLoggedIn()){var e,n=_createForOfIteratorHelper(this.videoChannels);try{var o=function(){var n=e.value,o=t.getChannelHandler(n);t.subscribed.set(o,!1),Object(g.a)(t.userSubscriptionService.listenToSubscriptionCacheChange(o),t.userSubscriptionService.doesSubscriptionExist(o)).subscribe((function(e){return t.subscribed.set(o,e)}),(function(e){return t.notifier.error(e.message)}))};for(n.s();!(e=n.n()).done;)o()}catch(i){n.e(i)}finally{n.f()}}}},{key:"handle",get:function(){return this.account?this.account.nameWithHost:this.videoChannel.name+"@"+this.videoChannel.host}},{key:"channelHandle",get:function(){return this.getChannelHandler(this.videoChannel)}},{key:"uri",get:function(){return this.account?this.account.url:this.videoChannels[0].url}},{key:"rssUri",get:function(){return(this.account?this.videoService.getAccountFeedUrls(this.account.id).find((function(t){return t.format===m.a.RSS})):this.videoService.getVideoChannelFeedUrls(this.videoChannels[0].id).find((function(t){return t.format===m.a.RSS}))).url}},{key:"videoChannel",get:function(){return this.videoChannels[0]}},{key:"isAllChannelsSubscribed",get:function(){return this.subscribeStatus(!0).length===this.videoChannels.length}},{key:"isAtLeastOneChannelSubscribed",get:function(){return this.subscribeStatus(!0).length>0}},{key:"isBigButton",get:function(){return this.isUserLoggedIn()&&this.videoChannels.length>1&&this.isAtLeastOneChannelSubscribed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Xb(b.a),f.Xb(h.h),f.Xb(b.k),f.Xb(v.a),f.Xb(C.a),f.Xb(p.r))},t.\u0275cmp=f.Rb({type:t,selectors:[["my-subscribe-button"]],inputs:{account:"account",videoChannels:"videoChannels",displayFollowers:"displayFollowers",size:"size"},features:[f.Hb],decls:23,vars:14,consts:[[1,"btn-group-subscribe","btn-group",3,"ngClass"],["userLoggedOut",""],["userLoggedIn",""],[4,"ngIf","ngIfThen"],["ngbDropdown","","autoClose","outside","placement","bottom-right","role","group","aria-label","Multiple ways to subscribe to the current channel",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-sm","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item","dropdown-item-neutral"],[3,"showHelp","uri"],[1,"dropdown-divider"],["target","_blank",1,"dropdown-item",3,"href"],[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["single",""],["multiple",""],["class","followers-count",4,"ngIf"],[1,"followers-count"],["type","button","class","btn btn-sm","role","button",3,"click",4,"ngIf"],["type","button","role","button",1,"btn","btn-sm",3,"click"],[3,"ngTemplateOutlet"]],template:function(t,e){if(1&t&&(f.dc(0,"div",0),f.bd(1,j,7,7,"ng-template",null,1,f.cd),f.bd(3,F,2,2,"ng-template",null,2,f.cd),f.bd(5,V,1,0,"ng-container",3),f.dc(6,"div",4),f.dc(7,"button",5),f.bd(8,N,1,0,"ng-container",3),f.cc(),f.dc(9,"div",6),f.dc(10,"h6",7),f.hc(11,o),f.cc(),f.dc(12,"button",8),f.sc("click",(function(){return e.subscribe()})),f.bd(13,U,2,0,"span",9),f.bd(14,J,2,0,"span",9),f.cc(),f.dc(15,"button",10),f.hc(16,i),f.cc(),f.Yb(17,"my-remote-subscribe",11),f.Yb(18,"div",12),f.dc(19,"h6",7),f.hc(20,c),f.cc(),f.dc(21,"a",13),f.hc(22,a),f.cc(),f.cc(),f.cc(),f.cc()),2&t){var n=f.Qc(2),r=f.Qc(4);f.Dc("ngClass",f.Jc(10,B,!e.isAllChannelsSubscribed,e.isAllChannelsSubscribed,e.isBigButton)),f.Jb(5),f.Dc("ngIf",e.isUserLoggedIn())("ngIfThen",r),f.Jb(3),f.Dc("ngIf",!e.isUserLoggedIn())("ngIfThen",n),f.Jb(5),f.Dc("ngIf",!e.isUserLoggedIn()),f.Jb(1),f.Dc("ngIf",e.isUserLoggedIn()),f.Jb(3),f.Dc("showHelp",!0)("uri",e.uri),f.Jb(4),f.Dc("href",e.rssUri,f.Uc)}},directives:[O.r,O.u,_.e,_.j,_.h,y.a,O.C],pipes:[P.a],styles:['.btn-group-subscribe[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;float:right;padding:0}.btn-group-subscribe[_ngcontent-%COMP%]:active, .btn-group-subscribe[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]:not(.big){white-space:nowrap}.btn-group-subscribe.big[_ngcontent-%COMP%]{height:35px}.btn-group-subscribe.big[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:175px}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:80%}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:75%}.btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:3px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding-right:4px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:2px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{position:relative;top:1px}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   span.followers-count[_ngcontent-%COMP%]{padding-left:5px}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor);font-weight:600}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:hover{background-color:inherit}.btn-group-subscribe[_ngcontent-%COMP%]     form{padding:.25rem 1rem}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.extra-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:75%}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:60%;text-align:left}']}),t}()},FGiv:function(t,e){var n=1e3,o=6e4,i=60*o,c=24*i;function a(t,e,n,o){var i=e>=1.5*n;return Math.round(t/n)+" "+o+(i?"s":"")}t.exports=function(t,e){e=e||{};var r,s,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*c;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===l&&isFinite(t))return e.long?(r=t,(s=Math.abs(r))>=c?a(r,s,c,"day"):s>=i?a(r,s,i,"hour"):s>=o?a(r,s,o,"minute"):s>=n?a(r,s,n,"second"):r+" ms"):function(t){var e=Math.abs(t);return e>=c?Math.round(t/c)+"d":e>=i?Math.round(t/i)+"h":e>=o?Math.round(t/o)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},HZcR:function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var o=n("mrSG"),i=n("fXoL"),c=n("ey9i"),a=n("HIM4"),r=n("xMQD"),s=(n("SZgj"),n("tTqN")),l=n("7FIj"),d=n("ofXK"),u=n("EcKj"),g=n("EKpO"),b=n("XZU/"),p=n("1kSV"),m=n("DTAc"),v=["playlistDropdown"],f=["playlistAdd"],h=["videoDownloadModal"],C=["videoReportModal"],O=["videoBlockModal"];function _(t,e){if(1&t){var n=i.ec();i.dc(0,"div",8,9),i.sc("openChange",(function(t){return i.Sc(n),i.Qc(5).openChange(t)})),i.Yb(2,"span",10),i.dc(3,"div",11),i.Yb(4,"my-video-add-to-playlist",12,13),i.cc(),i.cc()}if(2&t){var o=i.wc(2);i.Dc("placement",o.getPlaylistDropdownPlacement()),i.Jb(4),i.Dc("video",o.video)("lazyLoad",!0)}}var y=function(t){return{video:t}};function P(t,e){if(1&t){var n=i.ec();i.bc(0),i.bd(1,_,6,3,"div",1),i.dc(2,"my-action-dropdown",2),i.sc("click",(function(){return i.Sc(n),i.wc().loadDropdownInformation()})),i.cc(),i.Yb(3,"my-video-download",null,3),i.Yb(5,"my-video-report",4,5),i.dc(7,"my-video-block",6,7),i.sc("videoBlocked",(function(){return i.Sc(n),i.wc().onVideoBlocked()})),i.cc(),i.ac()}if(2&t){var o=i.wc();i.Jb(1),i.Dc("ngIf",o.isUserLoggedIn()&&o.displayOptions.playlist),i.Jb(1),i.Dc("actions",o.videoActions)("label",o.label)("entry",i.Hc(10,y,o.video))("buttonSize",o.buttonSize)("placement",o.placement)("buttonDirection",o.buttonDirection)("buttonStyled",o.buttonStyled),i.Jb(3),i.Dc("video",o.video),i.Jb(2),i.Dc("video",o.video)}}var M=function(){var t=function(){function t(e,n,o,c,a,r,s,l,d){_classCallCheck(this,t),this.authService=e,this.notifier=n,this.confirmService=o,this.blocklistService=c,this.videoBlocklistService=a,this.screenService=r,this.videoService=s,this.redundancyService=l,this.i18n=d,this.videoCaptions=[],this.displayOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.placement="left",this.buttonStyled=!1,this.buttonSize="normal",this.buttonDirection="vertical",this.videoRemoved=new i.n,this.videoUnblocked=new i.n,this.videoBlocked=new i.n,this.videoAccountMuted=new i.n,this.modalOpened=new i.n,this.videoActions=[],this.loaded=!1}return _createClass(t,[{key:"ngOnChanges",value:function(){this.loaded&&(this.loaded=!1,this.playlistAdd.reload()),this.buildActions()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"loadDropdownInformation",value:function(){this.isUserLoggedIn()&&!0!==this.loaded&&(this.loaded=!0,this.displayOptions.playlist&&this.playlistAdd.load())}},{key:"showDownloadModal",value:function(){this.modalOpened.emit(),this.videoDownloadModal.show(this.video,this.videoCaptions)}},{key:"showReportModal",value:function(){this.modalOpened.emit(),this.videoReportModal.show()}},{key:"showBlockModal",value:function(){this.modalOpened.emit(),this.videoBlockModal.show()}},{key:"isVideoUpdatable",value:function(){return this.video.isUpdatableBy(this.user)}},{key:"isVideoRemovable",value:function(){return this.video.isRemovableBy(this.user)}},{key:"isVideoBlockable",value:function(){return this.video.isBlockableBy(this.user)}},{key:"isVideoUnblockable",value:function(){return this.video.isUnblockableBy(this.user)}},{key:"isVideoDownloadable",value:function(){return this.video&&this.video instanceof r.n&&this.video.downloadEnabled}},{key:"canVideoBeDuplicated",value:function(){return this.video.canBeDuplicatedBy(this.user)}},{key:"isVideoAccountMutable",value:function(){return this.video.account.id!==this.user.account.id}},{key:"unblockVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.i18n("Do you really want to unblock this video? It will be available again in the videos list."),t.t0=!1,t.next=4,this.confirmService.confirm(e,this.i18n("Unblock"));case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.videoBlocklistService.unblockVideo(this.video.id).subscribe((function(){n.notifier.success(n.i18n("Video {{name}} unblocked.",{name:n.video.name})),n.video.blacklisted=!1,n.video.blockedReason=null,n.videoUnblocked.emit()}),(function(t){return n.notifier.error(t.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"removeVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.modalOpened.emit(),t.t0=!1,t.next=4,this.confirmService.confirm(this.i18n("Do you really want to delete this video?"),this.i18n("Delete"));case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.videoService.removeVideo(this.video.id).subscribe((function(){e.notifier.success(e.i18n("Video {{videoName}} deleted.",{videoName:e.video.name})),e.videoRemoved.emit()}),(function(t){return e.notifier.error(t.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"duplicateVideo",value:function(){var t=this;this.redundancyService.addVideoRedundancy(this.video).subscribe((function(){var e=t.i18n("This video will be duplicated by your instance.");t.notifier.success(e)}),(function(e){return t.notifier.error(e.message)}))}},{key:"muteVideoAccount",value:function(){var t=this,e={nameWithHost:r.c.CREATE_BY_STRING(this.video.account.name,this.video.account.host)};this.blocklistService.blockAccountByUser(e).subscribe((function(){t.notifier.success(t.i18n("Account {{nameWithHost}} muted.",e)),t.videoAccountMuted.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"getPlaylistDropdownPlacement",value:function(){return this.screenService.isInSmallView()?"bottom-right":"bottom-left bottom-right"}},{key:"buildActions",value:function(){var t=this;this.videoActions=[[{label:this.i18n("Save to playlist"),handler:function(){return t.playlistDropdown.toggle()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.playlist},iconName:"playlist-add"}],[{label:this.i18n("Download"),handler:function(){return t.showDownloadModal()},isDisplayed:function(){return t.displayOptions.download&&t.isVideoDownloadable()},iconName:"download"},{label:this.i18n("Update"),linkBuilder:function(t){return["/videos/update",t.video.uuid]},iconName:"edit",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.update&&t.isVideoUpdatable()}},{label:this.i18n("Block"),handler:function(){return t.showBlockModal()},iconName:"no",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.blacklist&&t.isVideoBlockable()}},{label:this.i18n("Unblock"),handler:function(){return t.unblockVideo()},iconName:"undo",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.blacklist&&t.isVideoUnblockable()}},{label:this.i18n("Mirror"),handler:function(){return t.duplicateVideo()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.duplicate&&t.canVideoBeDuplicated()},iconName:"cloud-download"},{label:this.i18n("Delete"),handler:function(){return t.removeVideo()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.delete&&t.isVideoRemovable()},iconName:"delete"},{label:this.i18n("Report"),handler:function(){return t.showReportModal()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.report},iconName:"flag"}],[{label:this.i18n("Mute account"),handler:function(){return t.muteVideoAccount()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.mute&&t.isVideoAccountMutable()},iconName:"no"}]]}},{key:"user",get:function(){return this.authService.getUser()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Xb(c.a),i.Xb(c.k),i.Xb(c.d),i.Xb(a.b),i.Xb(a.g),i.Xb(c.q),i.Xb(r.r),i.Xb(r.f),i.Xb(l.a))},t.\u0275cmp=i.Rb({type:t,selectors:[["my-video-actions-dropdown"]],viewQuery:function(t,e){var n;1&t&&(i.hd(v,!0),i.hd(f,!0),i.hd(h,!0),i.hd(C,!0),i.hd(O,!0)),2&t&&(i.Pc(n=i.tc())&&(e.playlistDropdown=n.first),i.Pc(n=i.tc())&&(e.playlistAdd=n.first),i.Pc(n=i.tc())&&(e.videoDownloadModal=n.first),i.Pc(n=i.tc())&&(e.videoReportModal=n.first),i.Pc(n=i.tc())&&(e.videoBlockModal=n.first))},inputs:{video:"video",videoCaptions:"videoCaptions",displayOptions:"displayOptions",placement:"placement",label:"label",buttonStyled:"buttonStyled",buttonSize:"buttonSize",buttonDirection:"buttonDirection"},outputs:{videoRemoved:"videoRemoved",videoUnblocked:"videoUnblocked",videoBlocked:"videoBlocked",videoAccountMuted:"videoAccountMuted",modalOpened:"modalOpened"},features:[i.Hb],decls:1,vars:1,consts:[[4,"ngIf"],["class","playlist-dropdown","ngbDropdown","","role","button","autoClose","outside",3,"placement","openChange",4,"ngIf"],[3,"actions","label","entry","buttonSize","placement","buttonDirection","buttonStyled","click"],["videoDownloadModal",""],[3,"video"],["videoReportModal",""],[3,"video","videoBlocked"],["videoBlockModal",""],["ngbDropdown","","role","button","autoClose","outside",1,"playlist-dropdown",3,"placement","openChange"],["playlistDropdown","ngbDropdown"],["ngbDropdownAnchor","",1,"anchor"],["ngbDropdownMenu",""],[3,"video","lazyLoad"],["playlistAdd",""]],template:function(t,e){1&t&&i.bd(0,P,9,12,"ng-container",0),2&t&&i.Dc("ngIf",0!==e.videoActions.length)},directives:[d.u,u.a,s.a,g.a,b.a,p.e,p.f,p.h,m.a],styles:[".playlist-dropdown[_ngcontent-%COMP%]{position:absolute}.playlist-dropdown[_ngcontent-%COMP%]   .anchor[_ngcontent-%COMP%]{display:block;opacity:0}  .icon-playlist-add{left:2px}"]}),t}()},JEFd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return g}));var o,i=n("s/vm"),c=(n("HZcR"),n("tTqN"),n("MUmz"),n("UT6+"),n("sWvm")),a=n("P8w3"),r=n("Nmku"),s=n("HIM4"),l=n("PcNq"),d=n("aW0q"),u=n("fXoL"),g=((o=function t(){_classCallCheck(this,t)}).\u0275mod=u.Vb({type:o}),o.\u0275inj=u.Ub({factory:function(t){return new(t||o)},providers:[],imports:[[r.a,c.h,s.e,d.a,l.a,a.a]]}),o)},MUmz:function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var o,i,c=n("eIep"),a=n("fXoL"),r=n("ey9i"),s=n("voWr"),l=(n("xMQD"),n("SZgj")),d=n("7FIj"),u=n("ofXK"),g=n("qZuT"),b=n("tyNb"),p=n("4Gki"),m=n("HZcR"),v=n("gCBE");function f(t,e){1&t&&(a.bc(0,22),a.hc(1,o),a.ac())}function h(t,e){1&t&&(a.bc(0,23),a.hc(1,i),a.ac())}o="Nem list\xE1zott",i="Szem\xE9lyes";var C=function(t){return["/video-channels",t]};function O(t,e){if(1&t&&(a.dc(0,"a",24),a.Yb(1,"img",25),a.cc()),2&t){var n=a.wc();a.Dc("routerLink",a.Hc(3,C,n.video.byVideoChannel))("title",n.channelLinkTitle),a.Jb(1),a.Dc("src",n.getAvatarUrl(),a.Uc)}}var _,y=function(t){return{"blur-filter":t}};function P(t,e){if(1&t&&(a.dc(0,"a",26),a.dd(1),a.cc()),2&t){var n=a.wc();a.Dc("routerLink",n.videoRouterLink)("ngClass",a.Hc(4,y,n.isVideoBlur)),a.Kb("title",n.video.name),a.Jb(1),a.ed(n.video.name)}}function M(t,e){if(1&t&&(a.dc(0,"a",27),a.dd(1),a.cc()),2&t){var n=a.wc();a.Dc("href",n.videoHref,a.Uc)("target",n.videoTarget)("ngClass",a.Hc(5,y,n.isVideoBlur)),a.Kb("title",n.video.name),a.Jb(1),a.ed(n.video.name)}}function w(t,e){if(1&t&&a.Yb(0,"my-date-toggle",28),2&t){var n=a.wc();a.Dc("date",n.video.publishedAt)}}function k(t,e){1&t&&(a.bc(0),a.dd(1," \u2022 "),a.ac())}function x(t,e){if(1&t&&(a.bc(0),a.hc(1,_),a.xc(2,"myNumberFormatter"),a.ac()),2&t){var n=a.wc();a.Jb(2),a.lc(n.video.views)(a.yc(2,2,n.video.views)),a.ic(1)}}_="{VAR_PLURAL, plural, =1 {1 megtekint\xE9s} other {{INTERPOLATION} megtekint\xE9s}}",_=a.mc(_,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"});var S,T,L=function(t){return["/accounts",t]};function I(t,e){if(1&t&&(a.dc(0,"a",29),a.dd(1),a.cc()),2&t){var n=a.wc();a.Dc("routerLink",a.Hc(2,L,n.video.byAccount)),a.Jb(1),a.fd(" ",n.video.byAccount," ")}}function D(t,e){if(1&t&&(a.dc(0,"a",30),a.dd(1),a.cc()),2&t){var n=a.wc();a.Dc("routerLink",a.Hc(2,C,n.video.byVideoChannel)),a.Jb(1),a.fd(" ",n.video.byVideoChannel," ")}}function j(t,e){if(1&t&&(a.bc(0),a.dd(1),a.ac()),2&t){var n=a.wc();a.Jb(1),a.ed(n.video.privacy.label)}}function A(t,e){1&t&&(a.bc(0),a.dd(1," - "),a.ac())}function E(t,e){if(1&t&&(a.bc(0),a.dd(1),a.ac()),2&t){var n=a.wc();a.Jb(1),a.ed(n.getStateLabel(n.video))}}function R(t,e){if(1&t&&(a.dc(0,"span",34),a.dd(1),a.cc()),2&t){var n=a.wc(2);a.Jb(1),a.ed(n.video.blockedReason)}}function F(t,e){if(1&t&&(a.dc(0,"div",31),a.dc(1,"span",32),a.hc(2,S),a.cc(),a.bd(3,R,2,1,"span",33),a.cc()),2&t){var n=a.wc();a.Jb(3),a.Dc("ngIf",n.video.blockedReason)}}function V(t,e){1&t&&(a.dc(0,"div",35),a.hc(1,T),a.cc())}function N(t,e){if(1&t){var n=a.ec();a.dc(0,"my-video-actions-dropdown",36),a.sc("videoRemoved",(function(){return a.Sc(n),a.wc().onVideoRemoved()}))("videoBlocked",(function(){return a.Sc(n),a.wc().onVideoBlocked()}))("videoUnblocked",(function(){return a.Sc(n),a.wc().onVideoUnblocked()}))("videoAccountMuted",(function(){return a.Sc(n),a.wc().onVideoAccountMuted()})),a.cc()}if(2&t){var o=a.wc();a.Dc("video",o.video)("displayOptions",o.videoActionsDisplayOptions)}}S="Letiltva",T="\xC9rz\xE9keny";var U=function(t,e){return{"display-as-row":t,"fit-width":e}},J=function(){var t=function(){function t(e,n,o,i,c,r,s){_classCallCheck(this,t),this.screenService=e,this.serverService=n,this.i18n=o,this.authService=i,this.videoPlaylistService=c,this.cd=r,this.localeId=s,this.ownerDisplayType="account",this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.displayAsRow=!1,this.displayVideoActions=!0,this.fitWidth=!1,this.videoLinkType="internal",this.videoBlocked=new a.n,this.videoUnblocked=new a.n,this.videoRemoved=new a.n,this.videoAccountMuted=new a.n,this.videoActionsDisplayOptions={playlist:!0,download:!1,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.showActions=!1,this.channelLinkTitle="",this.videoRouterLink=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(e){t.serverConfig=e,t.buildVideoLink()})),this.setUpBy(),this.channelLinkTitle=this.i18n("{{name}} (channel page)",{name:this.video.channel.name,handle:this.video.byVideoChannel}),this.screenService.isInTouchScreen()&&this.loadActions()}},{key:"buildVideoLink",value:function(){if("internal"!==this.videoLinkType&&this.video.url)return"external"===this.videoLinkType?(this.videoRouterLink=null,this.videoHref=this.video.url,void(this.videoTarget="_blank")):void(this.videoRouterLink=["/search/lazy-load-video",{url:this.video.url}]);this.videoRouterLink=["/videos/watch",this.video.uuid]}},{key:"displayOwnerAccount",value:function(){return"account"===this.ownerDisplayTypeChosen}},{key:"displayOwnerVideoChannel",value:function(){return"videoChannel"===this.ownerDisplayTypeChosen}},{key:"isUnlistedVideo",value:function(){return this.video.privacy.id===s.c.UNLISTED}},{key:"isPrivateVideo",value:function(){return this.video.privacy.id===s.c.PRIVATE}},{key:"getStateLabel",value:function(t){if(!t.state)return"";if(t.privacy.id!==s.c.PRIVATE&&t.state.id===s.d.PUBLISHED)return this.i18n("Published");if(t.scheduledUpdate){var e=new Date(t.scheduledUpdate.updateAt.toString()).toLocaleString(this.localeId);return this.i18n("Publication scheduled on ")+e}return t.state.id===s.d.TO_TRANSCODE&&!0===t.waitTranscoding?this.i18n("Waiting transcoding"):t.state.id===s.d.TO_TRANSCODE?this.i18n("To transcode"):t.state.id===s.d.TO_IMPORT?this.i18n("To import"):""}},{key:"getAvatarUrl",value:function(){return"account"===this.ownerDisplayTypeChosen?this.video.accountAvatarUrl:this.video.videoChannelAvatarUrl}},{key:"loadActions",value:function(){this.displayVideoActions&&(this.showActions=!0),this.loadWatchLater()}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"onVideoUnblocked",value:function(){this.videoUnblocked.emit()}},{key:"onVideoRemoved",value:function(){this.videoRemoved.emit()}},{key:"onVideoAccountMuted",value:function(){this.videoAccountMuted.emit()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onWatchLaterClick",value:function(t){!0===t?this.removeFromWatchLater():this.addToWatchLater(),this.inWatchLaterPlaylist=!t}},{key:"addToWatchLater",value:function(){var t=this;this.videoPlaylistService.addVideoInPlaylist(this.watchLaterPlaylist.id,{videoId:this.video.id}).subscribe((function(e){t.watchLaterPlaylist.playlistElementId=e.videoPlaylistElement.id}))}},{key:"removeFromWatchLater",value:function(){this.videoPlaylistService.removeVideoFromPlaylist(this.watchLaterPlaylist.id,this.watchLaterPlaylist.playlistElementId,this.video.id).subscribe((function(t){}))}},{key:"isWatchLaterPlaylistDisplayed",value:function(){return this.displayVideoActions&&this.isUserLoggedIn()&&void 0!==this.inWatchLaterPlaylist}},{key:"setUpBy",value:function(){this.ownerDisplayTypeChosen="account"!==this.ownerDisplayType&&"videoChannel"!==this.ownerDisplayType?this.video.channel.name===this.video.account.name+"_channel"||this.video.channel.name.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?"account":"videoChannel":this.ownerDisplayType}},{key:"loadWatchLater",value:function(){var t=this;this.isUserLoggedIn()&&void 0===this.inWatchLaterPlaylist&&(this.authService.userInformationLoaded.pipe(Object(c.a)((function(){return t.videoPlaylistService.listenToVideoPlaylistChange(t.video.id)}))).subscribe((function(e){var n=t.authService.getUser().specialPlaylists.find((function(t){return t.type===s.b.WATCH_LATER})),o=e.find((function(t){return t.playlistId===n.id}));t.inWatchLaterPlaylist=!1,t.watchLaterPlaylist={id:n.id},o&&(t.inWatchLaterPlaylist=!0,t.watchLaterPlaylist.playlistElementId=o.playlistElementId),t.cd.markForCheck()})),this.videoPlaylistService.runPlaylistCheck(this.video.id))}},{key:"isVideoBlur",get:function(){return this.video.isVideoNSFWForUser(this.user,this.serverConfig)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Xb(r.q),a.Xb(r.s),a.Xb(d.a),a.Xb(r.a),a.Xb(l.b),a.Xb(a.h),a.Xb(a.w))},t.\u0275cmp=a.Rb({type:t,selectors:[["my-video-miniature"]],inputs:{user:"user",video:"video",ownerDisplayType:"ownerDisplayType",displayOptions:"displayOptions",displayAsRow:"displayAsRow",displayVideoActions:"displayVideoActions",fitWidth:"fitWidth",videoLinkType:"videoLinkType"},outputs:{videoBlocked:"videoBlocked",videoUnblocked:"videoUnblocked",videoRemoved:"videoRemoved",videoAccountMuted:"videoAccountMuted"},decls:26,vars:27,consts:[[1,"video-miniature",3,"ngClass","mouseenter"],[3,"video","nsfw","videoRouterLink","videoHref","videoTarget","displayWatchLaterPlaylist","inWatchLaterPlaylist","watchLaterClick"],["ngProjectAs","label-warning",5,["label-warning"],4,"ngIf"],["ngProjectAs","label-danger",5,["label-danger"],4,"ngIf"],[1,"video-bottom"],[1,"video-miniature-information"],[1,"d-inline-flex","video-miniature-meta"],["class","avatar",3,"routerLink","title",4,"ngIf"],[1,"w-100","d-flex","flex-column"],["tabindex","-1","class","video-miniature-name",3,"routerLink","ngClass",4,"ngIf"],["tabindex","-1","class","video-miniature-name",3,"href","target","ngClass",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date",4,"ngIf"],[1,"views"],[4,"ngIf"],["tabindex","-1","class","video-miniature-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-miniature-channel",3,"routerLink",4,"ngIf"],[1,"video-info-privacy"],["class","video-info-blocked",4,"ngIf"],["class","video-info-nsfw",4,"ngIf"],[1,"video-actions"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted",4,"ngIf"],["ngProjectAs","label-warning",5,["label-warning"]],["ngProjectAs","label-danger",5,["label-danger"]],[1,"avatar",3,"routerLink","title"],["alt","",3,"src"],["tabindex","-1",1,"video-miniature-name",3,"routerLink","ngClass"],["tabindex","-1",1,"video-miniature-name",3,"href","target","ngClass"],[3,"date"],["tabindex","-1",1,"video-miniature-account",3,"routerLink"],["tabindex","-1",1,"video-miniature-channel",3,"routerLink"],[1,"video-info-blocked"],[1,"blocked-label"],["class","blocked-reason",4,"ngIf"],[1,"blocked-reason"],[1,"video-info-nsfw"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted"]],template:function(t,e){1&t&&(a.dc(0,"div",0),a.sc("mouseenter",(function(){return e.loadActions()})),a.dc(1,"my-video-thumbnail",1),a.sc("watchLaterClick",(function(t){return e.onWatchLaterClick(t)})),a.bd(2,f,2,0,"ng-container",2),a.bd(3,h,2,0,"ng-container",3),a.cc(),a.dc(4,"div",4),a.dc(5,"div",5),a.dc(6,"div",6),a.bd(7,O,2,5,"a",7),a.dc(8,"div",8),a.bd(9,P,2,6,"a",9),a.bd(10,M,2,7,"a",10),a.dc(11,"span",11),a.bd(12,w,1,1,"my-date-toggle",12),a.dc(13,"span",13),a.bd(14,k,2,0,"ng-container",14),a.bd(15,x,3,4,"ng-container",14),a.cc(),a.cc(),a.bd(16,I,2,4,"a",15),a.bd(17,D,2,4,"a",16),a.dc(18,"div",17),a.bd(19,j,2,1,"ng-container",14),a.bd(20,A,2,0,"ng-container",14),a.bd(21,E,2,1,"ng-container",14),a.cc(),a.cc(),a.cc(),a.bd(22,F,4,1,"div",18),a.bd(23,V,2,0,"div",19),a.cc(),a.dc(24,"div",20),a.bd(25,N,1,2,"my-video-actions-dropdown",21),a.cc(),a.cc(),a.cc()),2&t&&(a.Dc("ngClass",a.Ic(24,U,e.displayAsRow,e.fitWidth)),a.Jb(1),a.Dc("video",e.video)("nsfw",e.isVideoBlur)("videoRouterLink",e.videoRouterLink)("videoHref",e.videoHref)("videoTarget",e.videoTarget)("displayWatchLaterPlaylist",e.isWatchLaterPlaylistDisplayed())("inWatchLaterPlaylist",e.inWatchLaterPlaylist),a.Jb(1),a.Dc("ngIf",e.displayOptions.privacyLabel&&e.isUnlistedVideo()),a.Jb(1),a.Dc("ngIf",e.displayOptions.privacyLabel&&e.isPrivateVideo()),a.Jb(4),a.Dc("ngIf",e.displayOptions.avatar),a.Jb(2),a.Dc("ngIf",!e.videoHref),a.Jb(1),a.Dc("ngIf",e.videoHref),a.Jb(2),a.Dc("ngIf",e.displayOptions.date),a.Jb(2),a.Dc("ngIf",e.displayOptions.date&&e.displayOptions.views),a.Jb(1),a.Dc("ngIf",e.displayOptions.views),a.Jb(1),a.Dc("ngIf",e.displayOptions.by&&e.displayOwnerAccount()),a.Jb(1),a.Dc("ngIf",e.displayOptions.by&&e.displayOwnerVideoChannel()),a.Jb(2),a.Dc("ngIf",e.displayOptions.privacyText),a.Jb(1),a.Dc("ngIf",e.displayOptions.privacyText&&e.displayOptions.state&&e.getStateLabel(e.video)),a.Jb(1),a.Dc("ngIf",e.displayOptions.state),a.Jb(1),a.Dc("ngIf",e.displayOptions.blacklistInfo&&e.video.blacklisted),a.Jb(1),a.Dc("ngIf",e.displayOptions.nsfw&&e.video.nsfw),a.Jb(2),a.Dc("ngIf",e.showActions))},directives:[u.r,g.a,u.u,b.k,p.a,m.a],pipes:[v.a],styles:['.video-miniature[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;padding-bottom:15px;vertical-align:top}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{display:flex}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:183px;line-height:normal}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:10px 10px 0 0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:40px;height:40px;min-width:40px;min-height:40px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.2em;font-size:1.1em;line-height:1.1em;overflow:hidden;text-overflow:ellipsis;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);margin-top:10px;margin-bottom:5px;width:calc(100% - 40px)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-meta[_ngcontent-%COMP%]{width:calc(100% + 40px);overflow:hidden}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{display:block;font-size:13px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;color:var(--greyForegroundColor)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{color:#303030}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-label[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-weight:600}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-reason[_ngcontent-%COMP%]:before{content:" - "}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin-top:3px;width:40px;height:30px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root:not(.show){opacity:0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .playlist-dropdown.show+my-action-dropdown .dropdown-root{opacity:1}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon{opacity:.6}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon:hover{opacity:1}@media screen and (max-width:800px){.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{margin:0 10px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root{opacity:1!important}}.video-miniature[_ngcontent-%COMP%]:hover   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root, .video-miniature[_ngcontent-%COMP%]:hover     .video-thumbnail .video-thumbnail-actions-overlay{opacity:1}.video-miniature.fit-width[_ngcontent-%COMP%]{width:100%}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{width:100%!important}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:calc(100% - 40px)!important}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{position:absolute;width:100%;height:100%;top:0}.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:row;padding-bottom:0;height:auto;display:flex;flex-grow:1}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:10px}@media screen and (min-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:auto;min-width:500px}}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin-top:2px;margin-bottom:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:95%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%] + .video-miniature-channel[_ngcontent-%COMP%]{margin-top:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{margin-top:3px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}@media screen and (max-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{min-width:0}}'],changeDetection:0}),t}()},NOtv:function(t,e,n){e.log=function(){var t;return"object"==typeof console&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),e.splice(i,0,n)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n("3JDX")(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},OsX3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("D0XW"),i=n("7o/Q"),c=n("z+Ro");function a(t){var e=arguments.length,n=o.a;Object(c.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var a=Number.POSITIVE_INFINITY;return e>=3&&(a=arguments[2]),function(e){return e.lift(new r(t,i,a,n))}}var r=function(){function t(e,n,o,i){_classCallCheck(this,t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=o,this.scheduler=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}]),t}(),s=function t(){_classCallCheck(this,t),this.buffer=[]},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,c,a){var r;_classCallCheck(this,n),(r=e.call(this,t)).bufferTimeSpan=o,r.bufferCreationInterval=i,r.maxBufferSize=c,r.scheduler=a,r.contexts=[];var s=r.openContext();if(r.timespanOnly=null==i||i<0,r.timespanOnly)r.add(s.closeAction=a.schedule(d,o,{subscriber:_assertThisInitialized(r),context:s,bufferTimeSpan:o}));else{var l={bufferTimeSpan:o,bufferCreationInterval:i,subscriber:_assertThisInitialized(r),scheduler:a};r.add(s.closeAction=a.schedule(g,o,{subscriber:_assertThisInitialized(r),context:s})),r.add(a.schedule(u,i,l))}return r}return _createClass(n,[{key:"_next",value:function(t){for(var e,n=this.contexts,o=n.length,i=0;i<o;i++){var c=n[i],a=c.buffer;a.push(t),a.length==this.maxBufferSize&&(e=c)}e&&this.onBufferFull(e)}},{key:"_error",value:function(t){this.contexts.length=0,_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){for(var t=this.contexts,e=this.destination;t.length>0;){var o=t.shift();e.next(o.buffer)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.contexts=null}},{key:"onBufferFull",value:function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(d,n,{subscriber:this,context:t,bufferTimeSpan:n}))}}},{key:"openContext",value:function(){var t=new s;return this.contexts.push(t),t}},{key:"closeContext",value:function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}]),n}(i.a);function d(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function u(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,c=o.openContext();o.closed||(o.add(c.closeAction=i.schedule(g,n,{subscriber:o,context:c})),this.schedule(t,e))}function g(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},PcNq:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("qZuT");var o,i=n("P8w3"),c=n("Nmku"),a=n("fXoL"),r=((o=function t(){_classCallCheck(this,t)}).\u0275mod=a.Vb({type:o}),o.\u0275inj=a.Ub({factory:function(t){return new(t||o)},providers:[],imports:[[c.a,i.a]]}),o)},SZgj:function(t,e,n){"use strict";n("DTAc"),n("2Qox"),n("DQE6"),n("dTdE"),n("a9tR");var o=n("4Yo8");n.d(e,"b",(function(){return o.a}));var i=n("aW0q");n.d(e,"a",(function(){return i.a}))},"UT6+":function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var o,i,c=n("fXoL"),a=n("ey9i"),r=n("xMQD"),s=n("s/vm"),l=n("7FIj"),d=n("tyNb"),u=n("ofXK"),g=n("UjHu"),b=n("/xt7"),p=n("3Pt+"),m=n("MUmz");function v(t,e){1&t&&(c.dc(0,"div",3),c.hc(1,o),c.cc())}function f(t,e){1&t&&c.Zb(0)}function h(t,e){if(1&t){var n=c.ec();c.dc(0,"div",10),c.dc(1,"div",11),c.dc(2,"span",12),c.sc("click",(function(){return c.Sc(n),c.wc(2).abortSelectionMode()})),c.hc(3,i),c.cc(),c.bd(4,f,1,0,"ng-container",13),c.cc(),c.cc()}if(2&t){var o=c.wc(2);c.Jb(4),c.Dc("ngTemplateOutlet",o.globalButtonsTemplate)}}function C(t,e){1&t&&c.Zb(0)}o="Nincs tal\xE1lat.",i="M\xE9gse";var O=function(t){return{$implicit:t}};function _(t,e){if(1&t&&(c.bc(0),c.bd(1,C,1,0,"ng-container",14),c.ac()),2&t){var n=c.wc().$implicit,o=c.wc();c.Jb(1),c.Dc("ngTemplateOutlet",o.rowButtonsTemplate)("ngTemplateOutletContext",c.Hc(2,O,n))}}function y(t,e){if(1&t){var n=c.ec();c.dc(0,"div",4),c.dc(1,"div",5),c.dc(2,"my-peertube-checkbox",6),c.sc("ngModelChange",(function(t){c.Sc(n);var o=e.$implicit;return c.wc()._selection[o.id]=t})),c.cc(),c.cc(),c.Yb(3,"my-video-miniature",7),c.bd(4,h,5,1,"div",8),c.bd(5,_,2,4,"ng-container",9),c.cc()}if(2&t){var o=e.$implicit,i=e.index,a=c.wc();c.Jb(2),c.Dc("inputName","video-check-"+o.id)("ngModel",a._selection[o.id]),c.Jb(1),c.Dc("video",o)("displayAsRow",!0)("displayOptions",a.miniatureDisplayOptions)("displayVideoActions",!1)("ownerDisplayType",a.ownerDisplayType),c.Jb(1),c.Dc("ngIf",!0===a.isInSelectionMode()&&0===i),c.Jb(1),c.Dc("ngIf",!1===a.isInSelectionMode())}}var P=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,a,r,s,l,d,u){var g;return _classCallCheck(this,n),(g=e.call(this)).i18n=t,g.router=o,g.route=i,g.notifier=a,g.authService=r,g.userService=s,g.screenService=l,g.storageService=d,g.serverService=u,g.selectionChange=new c.n,g.videosModelChange=new c.n,g._selection={},g}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this)}},{key:"ngAfterContentInit",value:function(){var t=this.templates.find((function(t){return"rowButtons"===t.name}));t&&(this.rowButtonsTemplate=t.template);var e=this.templates.find((function(t){return"globalButtons"===t.name}));e&&(this.globalButtonsTemplate=e.template)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"getVideosObservable",value:function(t){return this.getVideosObservableFunction(t,this.sort)}},{key:"abortSelectionMode",value:function(){this._selection={}}},{key:"isInSelectionMode",value:function(){var t=this;return Object.keys(this._selection).some((function(e){return!0===t._selection[e]}))}},{key:"generateSyndicationList",value:function(){throw new Error("Method not implemented.")}},{key:"onMoreVideos",value:function(){this.videosModel=this.videos}},{key:"selection",get:function(){return this._selection},set:function(t){this._selection=t,this.selectionChange.emit(this._selection)}},{key:"videosModel",get:function(){return this.videos},set:function(t){this.videos=t,this.videosModelChange.emit(this.videos)}}]),n}(s.a);return t.\u0275fac=function(e){return new(e||t)(c.Xb(l.a),c.Xb(d.h),c.Xb(d.a),c.Xb(a.k),c.Xb(a.a),c.Xb(a.z),c.Xb(a.q),c.Xb(a.g),c.Xb(a.s))},t.\u0275cmp=c.Rb({type:t,selectors:[["my-videos-selection"]],contentQueries:function(t,e,n){var o;1&t&&c.Pb(n,r.e,!1),2&t&&c.Pc(o=c.tc())&&(e.templates=o)},inputs:{pagination:"pagination",titlePage:"titlePage",miniatureDisplayOptions:"miniatureDisplayOptions",ownerDisplayType:"ownerDisplayType",getVideosObservableFunction:"getVideosObservableFunction",selection:"selection",videosModel:"videosModel"},outputs:{selectionChange:"selectionChange",videosModelChange:"videosModelChange"},features:[c.Gb],decls:3,vars:5,consts:[["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results"],[1,"video"],[1,"checkbox-container"],[3,"inputName","ngModel","ngModelChange"],[3,"video","displayAsRow","displayOptions","displayVideoActions","ownerDisplayType"],["class","action-selection-mode",4,"ngIf"],[4,"ngIf"],[1,"action-selection-mode"],[1,"action-selection-mode-child"],[1,"action-button","action-button-cancel-selection",3,"click"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(c.bd(0,v,2,0,"div",0),c.dc(1,"div",1),c.sc("nearOfBottom",(function(){return e.onNearOfBottom()})),c.bd(2,y,6,9,"div",2),c.cc()),2&t&&(c.Dc("ngIf",0===e.pagination.totalItems),c.Jb(1),c.Dc("autoInit",!0)("dataObservable",e.onDataSubject.asObservable()),c.Jb(1),c.Dc("ngForOf",e.videos)("ngForTrackBy",e.videoById))},directives:[u.u,g.a,u.t,b.a,p.t,p.w,m.a,u.C],styles:['.action-selection-mode[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]{position:fixed}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-left:55px}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.focus-visible[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:active, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:hover, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{cursor:default}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;margin-left:12px}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:none}.video[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-top:10px}.action-selection-mode[_ngcontent-%COMP%]{display:none}}']}),t}()},a9tR:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("6rF9"),i=n("xMQD"),c=n("XRCn"),a=function(){function t(e,n){_classCallCheck(this,t);var a=Object(o.e)();this.id=e.id,this.uuid=e.uuid,this.isLocal=e.isLocal,this.displayName=e.displayName,this.description=e.description,this.privacy=e.privacy,this.thumbnailPath=e.thumbnailPath,this.thumbnailPath?(this.thumbnailUrl=a+e.thumbnailPath,this.originThumbnailUrl=this.thumbnailUrl):this.thumbnailUrl=window.location.origin+"/client/assets/images/default-playlist.jpg",this.videosLength=e.videosLength,this.type=e.type,this.createdAt=new Date(e.createdAt),this.updatedAt=new Date(e.updatedAt),this.ownerAccount=e.ownerAccount,this.ownerBy=i.c.CREATE_BY_STRING(e.ownerAccount.name,e.ownerAccount.host),this.ownerAvatarUrl=i.c.GET_ACTOR_AVATAR_URL(this.ownerAccount),e.videoChannel&&(this.videoChannel=e.videoChannel,this.videoChannelBy=i.c.CREATE_BY_STRING(e.videoChannel.name,e.videoChannel.host),this.videoChannelAvatarUrl=i.c.GET_ACTOR_AVATAR_URL(this.videoChannel)),this.privacy.label=Object(c.B)(this.privacy.label,n),this.type.id===c.o.WATCH_LATER&&(this.displayName=Object(c.B)(this.displayName,n))}return _createClass(t,[{key:"refreshThumbnail",value:function(){this.originThumbnailUrl&&(this.thumbnailVersion||(this.thumbnailVersion=0),this.thumbnailVersion++,this.thumbnailUrl=this.originThumbnailUrl+"?v"+this.thumbnailVersion)}}]),t}()},aW0q:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("sWvm"),i=n("P8w3"),c=n("Nmku"),a=n("PcNq"),r=n("4Yo8"),s=n("fXoL"),l=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Vb({type:t}),t.\u0275inj=s.Ub({factory:function(e){return new(e||t)},providers:[r.a],imports:[[c.a,o.h,a.a,i.a]]}),t}()},b613:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var o=n("NOtv"),i=n("BeL+"),c=n("jtHE"),a=n("XNiG"),r=n("VRyK"),s=n("D0XW"),l=n("LRne"),d=n("OsX3"),u=n("pLZG"),g=n("lJxs"),b=n("pxpQ"),p=n("eIep"),m=n("w1tV"),v=n("JIr8"),f=n("vkgz"),h=n("tk/3"),C=n("ey9i"),O=n("6rF9"),_=n("xMQD"),y=n("AytR"),P=n("fXoL"),M=o("peertube:subscriptions:UserSubscriptionService"),w=function(){var t=function(){function t(e,n,o,l,v){var f=this;_classCallCheck(this,t),this.authHttp=e,this.restExtractor=n,this.videoService=o,this.restService=l,this.ngZone=v,this.existsSubject=new c.a(1),this.myAccountSubscriptionCache={},this.myAccountSubscriptionCacheObservable={},this.myAccountSubscriptionCacheSubject=new a.a,this.existsObservable=Object(r.a)(this.existsSubject.pipe(Object(d.a)(500,Object(O.l)(this.ngZone,s.a)),Object(u.a)((function(t){return 0!==t.length})),Object(g.a)((function(t){return Object(i.a)(t)})),Object(b.b)(Object(O.d)(this.ngZone,s.a)),Object(p.a)((function(t){return f.doSubscriptionsExist(t)})),Object(m.a)()),this.myAccountSubscriptionCacheSubject)}return _createClass(t,[{key:"getUserSubscriptionVideos",value:function(e){var n=this,o=e.videoPagination,i=e.sort,c=e.skipCount,a=this.restService.componentPaginationToRestPagination(o),r=new h.f;return r=this.restService.addRestGetParams(r,a,i),c&&(r=r.set("skipCount",c+"")),this.authHttp.get(t.BASE_USER_SUBSCRIPTIONS_URL+"/videos",{params:r}).pipe(Object(p.a)((function(t){return n.videoService.extractVideos(t)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"deleteSubscription",value:function(e){var n=this;return this.authHttp.delete(t.BASE_USER_SUBSCRIPTIONS_URL+"/"+e).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){n.myAccountSubscriptionCache[e]=!1,n.myAccountSubscriptionCacheSubject.next(n.myAccountSubscriptionCache)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"addSubscription",value:function(e){var n=this;return this.authHttp.post(t.BASE_USER_SUBSCRIPTIONS_URL,{uri:e}).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(f.a)((function(){n.myAccountSubscriptionCache[e]=!0,n.myAccountSubscriptionCacheSubject.next(n.myAccountSubscriptionCache)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"listSubscriptions",value:function(e){var n=this,o=t.BASE_USER_SUBSCRIPTIONS_URL,i=this.restService.componentPaginationToRestPagination(e),c=new h.f;return c=this.restService.addRestGetParams(c,i),this.authHttp.get(o,{params:c}).pipe(Object(g.a)((function(t){return _.m.extractVideoChannels(t)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"listenToMyAccountSubscriptionCacheSubject",value:function(){return this.myAccountSubscriptionCacheSubject.asObservable()}},{key:"listenToSubscriptionCacheChange",value:function(t){if(t in this.myAccountSubscriptionCacheObservable)return this.myAccountSubscriptionCacheObservable[t];var e=this.existsObservable.pipe(Object(u.a)((function(e){return void 0!==e[t]})),Object(g.a)((function(e){return e[t]})));return this.myAccountSubscriptionCacheObservable[t]=e,e}},{key:"doesSubscriptionExist",value:function(t){var e=this;return M("Running subscription check for %d.",t),t in this.myAccountSubscriptionCache?(M("Found cache for %d.",t),Object(l.a)(this.myAccountSubscriptionCache[t])):(this.existsSubject.next(t),M("Fetching from network for %d.",t),this.existsObservable.pipe(Object(u.a)((function(e){return void 0!==e[t]})),Object(g.a)((function(e){return e[t]})),Object(f.a)((function(n){return e.myAccountSubscriptionCache[t]=n}))))}},{key:"doSubscriptionsExist",value:function(e){var n=this,o=t.BASE_USER_SUBSCRIPTIONS_URL+"/exist",i=new h.f;return i=this.restService.addObjectParams(i,{uris:e}),this.authHttp.get(o,{params:i}).pipe(Object(f.a)((function(t){n.myAccountSubscriptionCache=Object.assign(Object.assign({},n.myAccountSubscriptionCache),t)})),Object(v.a)((function(t){return n.restExtractor.handleError(t)})))}}]),t}();return t.BASE_USER_SUBSCRIPTIONS_URL=y.a.apiUrl+"/api/v1/users/me/subscriptions",t.\u0275fac=function(e){return new(e||t)(P.oc(h.b),P.oc(C.n),P.oc(_.r),P.oc(C.o),P.oc(P.D))},t.\u0275prov=P.Tb({token:t,factory:t.\u0275fac}),t}()},dTdE:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n("a9tR");var o,i,c,a=n("fXoL"),r=n("ofXK"),s=n("tyNb"),l=n("LsvZ");o="{VAR_PLURAL, plural, =0 {Nincs vide\xF3} =1 {1 vide\xF3} other {{INTERPOLATION} vide\xF3}}",o=a.mc(o,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),i="" + "\ufffd0\ufffd" + " friss\xEDtve",c="" + "\ufffd0\ufffd" + " ";var d=function(t){return["/video-channels",t]};function u(t,e){if(1&t&&(a.dc(0,"a",13),a.hc(1,c),a.cc()),2&t){var n=a.wc();a.Dc("routerLink",a.Hc(2,d,n.playlist.videoChannelBy)),a.Jb(1),a.lc(n.playlist.videoChannelBy),a.ic(1)}}function g(t,e){if(1&t&&(a.dc(0,"span",14),a.dd(1),a.cc()),2&t){var n=a.wc();a.Jb(1),a.ed(n.playlist.privacy.label)}}function b(t,e){if(1&t&&(a.dc(0,"div",15),a.dd(1),a.cc()),2&t){var n=a.wc();a.Jb(1),a.ed(n.playlist.description)}}var p=function(t,e){return{"no-videos":t,"to-manage":e}},m=function(){var t=function(){function t(){_classCallCheck(this,t),this.toManage=!1,this.displayChannel=!1,this.displayDescription=!1,this.displayPrivacy=!1}return _createClass(t,[{key:"getPlaylistUrl",value:function(){return this.toManage?["/my-account/video-playlists",this.playlist.uuid]:0===this.playlist.videosLength?null:["/videos/watch/playlist",this.playlist.uuid]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Rb({type:t,selectors:[["my-video-playlist-miniature"]],inputs:{playlist:"playlist",toManage:"toManage",displayChannel:"displayChannel",displayDescription:"displayDescription",displayPrivacy:"displayPrivacy"},decls:18,vars:19,consts:[[1,"miniature",3,"ngClass"],[1,"miniature-thumbnail",3,"routerLink"],["alt",""],[1,"miniature-playlist-info-overlay"],[1,"play-overlay"],[1,"icon"],[1,"miniature-info"],["tabindex","-1",1,"miniature-name",3,"routerLink"],["class","by",3,"routerLink",4,"ngIf"],[1,"privacy-date"],["class","video-info-privacy",4,"ngIf"],[1,"updated-at"],["class","video-info-description",4,"ngIf"],[1,"by",3,"routerLink"],[1,"video-info-privacy"],[1,"video-info-description"]],template:function(t,e){1&t&&(a.dc(0,"div",0),a.dc(1,"a",1),a.Yb(2,"img",2),a.dc(3,"div",3),a.bc(4),a.hc(5,o),a.ac(),a.cc(),a.dc(6,"div",4),a.Yb(7,"div",5),a.cc(),a.cc(),a.dc(8,"div",6),a.dc(9,"a",7),a.dd(10),a.cc(),a.bd(11,u,2,4,"a",8),a.dc(12,"div",9),a.bd(13,g,2,1,"span",10),a.dc(14,"span",11),a.hc(15,i),a.xc(16,"myFromNow"),a.cc(),a.cc(),a.bd(17,b,2,1,"div",12),a.cc(),a.cc()),2&t&&(a.Dc("ngClass",a.Ic(16,p,0===e.playlist.videosLength,e.toManage)),a.Jb(1),a.Dc("routerLink",e.getPlaylistUrl()),a.Kb("title",e.playlist.description),a.Jb(1),a.Kb("aria-labelledby",e.playlist.displayName)("src",e.playlist.thumbnailUrl,a.Uc),a.Jb(3),a.lc(e.playlist.videosLength)(e.playlist.videosLength),a.ic(5),a.Jb(4),a.Dc("routerLink",e.getPlaylistUrl()),a.Kb("title",e.playlist.description),a.Jb(1),a.fd(" ",e.playlist.displayName," "),a.Jb(1),a.Dc("ngIf",e.displayChannel&&e.playlist.videoChannelBy),a.Jb(2),a.Dc("ngIf",e.displayPrivacy),a.Jb(3),a.lc(a.yc(16,14,e.playlist.updatedAt)),a.ic(15),a.Jb(1),a.Dc("ngIf",e.displayDescription))},directives:[r.r,s.k,r.u],pipes:[l.a],styles:['.miniature[_ngcontent-%COMP%]{display:inline-block}.miniature.no-videos[_ngcontent-%COMP%]:not(.to-manage)   a[_ngcontent-%COMP%]{cursor:default!important}.miniature.no-videos[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature.to-manage[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{display:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .miniature-playlist-info-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;right:0;bottom:0;height:122px;padding:0 10px;display:flex;align-items:center;font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]{width:200px;margin-top:2px;line-height:normal}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]{max-height:2.2em;font-size:1.1em;line-height:1.1em;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin:0}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]{display:block;color:var(--greyForegroundColor)}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:active, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:focus, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]{margin-top:5px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]:after{content:"-";margin:0 3px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin-top:10px;color:var(--greyForegroundColor)}']}),t}()},gY50:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o,i,c,a=n("sWvm"),r=n("fXoL"),s=n("3Pt+"),l=n("ofXK"),d=n("1lk2"),u=n("BLxp");function g(t,e){1&t&&(r.nc(0,o,1),r.Yb(1,"span"),r.kc())}function b(t,e){1&t&&(r.nc(0,o,2),r.Yb(1,"span"),r.kc())}function p(t,e){1&t&&(r.bc(0),r.nc(1,i),r.Yb(2,"br"),r.Yb(3,"br"),r.kc(),r.ac())}function m(t,e){1&t&&(r.dc(0,"my-help"),r.bd(1,p,4,0,"ng-template",5),r.cc())}function v(t,e){1&t&&(r.bc(0),r.nc(1,c),r.Yb(2,"br"),r.Yb(3,"br"),r.kc(),r.ac())}function f(t,e){1&t&&(r.dc(0,"my-help"),r.bd(1,v,4,0,"ng-template",5),r.cc())}o="" + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "T\xE1voli feliratkoz\xE1s" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + " " + "\ufffd*6:2\ufffd\ufffd#1:2\ufffd" + "T\xE1voli interakci\xF3" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + " ",o=r.mc(o),i="Feliratkozhat egy csatorn\xE1ra b\xE1rmely ActivityPub-kompatibilis f\xF6diverzum p\xE9ld\xE1nyon kereszt\xFCl." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " P\xE9ld\xE1ul a Mastodon vagy a Pleroma eset\xE9n be\xEDrhatja a csatorna URL-t a keres\u0151mez\u0151be, \xE9s ott feliratkozhat. ",i=r.mc(i),c="Interakci\xF3ba l\xE9phet ezzel b\xE1rmely ActivityPub-kompatibilis f\xF6diverzum p\xE9ld\xE1nyon kereszt\xFCl." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " P\xE9ld\xE1ul a Mastodon vagy a Pleroma eset\xE9n be\xEDrhatja a jelenlegi URL-t a keres\u0151mez\u0151be, \xE9s ott interakci\xF3ba l\xE9phet ezzel. ",c=r.mc(c);var h=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){var i;return _classCallCheck(this,n),(i=e.call(this)).formValidatorService=t,i.userValidatorsService=o,i.interact=!1,i.showHelp=!1,i}return _createClass(n,[{key:"ngOnInit",value:function(){this.buildForm({text:this.userValidatorsService.USER_EMAIL})}},{key:"onValidKey",value:function(){this.check(),this.form.valid&&this.formValidated()}},{key:"formValidated",value:function(){var t=this,e=_slicedToArray(this.form.value.text.split("@"),2),n=e[0],o=e[1];fetch("https://".concat(o,"/.well-known/webfinger?resource=acct:").concat(n,"@").concat(o)).then((function(t){return t.json()})).then((function(e){return new Promise((function(n,o){if(e&&Array.isArray(e.links)){var i=e.links.find((function(t){return t&&"string"==typeof t.template&&"http://ostatus.org/schema/1.0/subscribe"===t.rel}));i&&i.template.includes("{uri}")&&n(i.template.replace("{uri}",encodeURIComponent(t.uri)))}o()}))})).then(window.open).catch((function(t){return console.error(t)}))}}]),n}(a.c);return t.\u0275fac=function(e){return new(e||t)(r.Xb(a.d),r.Xb(a.i))},t.\u0275cmp=r.Rb({type:t,selectors:[["my-remote-subscribe"]],inputs:{uri:"uri",interact:"interact",showHelp:"showHelp"},features:[r.Gb],decls:9,vars:6,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["type","email","formControlName","text","placeholder","jane_doe@example.com",1,"form-control",3,"keyup.control.enter","keyup.meta.enter"],["type","submit",1,"btn","btn-sm","btn-remote-follow",3,"disabled"],[4,"ngIf"],["ptTemplate","customHtml"]],template:function(t,e){1&t&&(r.dc(0,"form",0),r.sc("ngSubmit",(function(){return e.formValidated()})),r.dc(1,"div",1),r.dc(2,"input",2),r.sc("keyup.control.enter",(function(){return e.onValidKey()}))("keyup.meta.enter",(function(){return e.onValidKey()})),r.cc(),r.cc(),r.dc(3,"button",3),r.nc(4,o),r.bd(5,g,2,0,"span",4),r.bd(6,b,2,0,"span",4),r.kc(),r.cc(),r.bd(7,m,2,0,"my-help",4),r.bd(8,f,2,0,"my-help",4),r.cc()),2&t&&(r.Dc("formGroup",e.form),r.Jb(3),r.Dc("disabled",!e.form.valid),r.Jb(2),r.Dc("ngIf",!e.interact),r.Jb(1),r.Dc("ngIf",e.interact),r.Jb(1),r.Dc("ngIf",!e.interact&&e.showHelp),r.Jb(1),r.Dc("ngIf",e.showHelp&&e.interact))},directives:[s.J,s.u,s.m,s.d,s.t,s.k,l.u,d.a,u.a],styles:['.btn-remote-follow[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.btn-remote-follow.focus-visible[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-remote-follow[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:active, .btn-remote-follow[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-remote-follow[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-remote-follow.disabled[_ngcontent-%COMP%], .btn-remote-follow[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t}()},hHkf:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("sWvm"),i=n("Nmku"),c=n("b613"),a=n("fXoL"),r=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Vb({type:t}),t.\u0275inj=a.Ub({factory:function(e){return new(e||t)},providers:[c.a],imports:[[i.a,o.h]]}),t}()},qZuT:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var o=n("fXoL"),i=n("ey9i"),c=(n("xMQD"),n("7FIj")),a=n("ofXK"),r=n("tyNb"),s=n("1kSV"),l=n("UkmY");function d(t,e){1&t&&o.Zb(0)}function u(t,e){if(1&t&&(o.dc(0,"a",3),o.bd(1,d,1,0,"ng-container",4),o.cc()),2&t){var n=o.wc(),i=o.Qc(3);o.Dc("routerLink",n.getVideoRouterLink())("queryParams",n.queryParams),o.Jb(1),o.Dc("ngTemplateOutlet",i)}}function g(t,e){1&t&&o.Zb(0)}function b(t,e){if(1&t&&(o.dc(0,"a",5),o.bd(1,g,1,0,"ng-container",4),o.cc()),2&t){var n=o.wc(),i=o.Qc(3);o.Dc("href",n.videoHref,o.Uc)("target",n.videoTarget),o.Jb(1),o.Dc("ngTemplateOutlet",i)}}function p(t,e){if(1&t){var n=o.ec();o.bc(0),o.dc(1,"div",16),o.sc("click",(function(t){return o.Sc(n),o.wc(3).onWatchLaterClick(t)})),o.Yb(2,"my-global-icon",17),o.cc(),o.ac()}if(2&t){var i=o.wc(3);o.Jb(1),o.Dc("ngbTooltip",i.addToWatchLaterText),o.Jb(1),o.Kb("aria-label",i.addToWatchLaterText)}}function m(t,e){if(1&t){var n=o.ec();o.bc(0),o.dc(1,"div",16),o.sc("click",(function(t){return o.Sc(n),o.wc(3).onWatchLaterClick(t)})),o.Yb(2,"my-global-icon",18),o.cc(),o.ac()}if(2&t){var i=o.wc(3);o.Jb(1),o.Dc("ngbTooltip",i.addedToWatchLaterText),o.Jb(1),o.Kb("aria-label",i.addedToWatchLaterText)}}function v(t,e){if(1&t&&(o.dc(0,"div",14),o.bd(1,p,3,2,"ng-container",15),o.bd(2,m,3,2,"ng-container",15),o.cc()),2&t){var n=o.wc(2);o.Jb(1),o.Dc("ngIf",!0!==n.inWatchLaterPlaylist),o.Jb(1),o.Dc("ngIf",!0===n.inWatchLaterPlaylist)}}var f=function(t){return{"width.%":t}};function h(t,e){if(1&t&&(o.dc(0,"div",19),o.Yb(1,"div",20),o.cc()),2&t){var n=o.wc(2);o.Jb(1),o.Dc("ngStyle",o.Hc(1,f,n.getProgressPercent()))}}var C=function(t){return{"blur-filter":t}};function O(t,e){if(1&t&&(o.Yb(0,"img",6),o.bd(1,v,3,2,"div",7),o.dc(2,"div",8),o.Bc(3),o.cc(),o.dc(4,"div",9),o.Bc(5,1),o.cc(),o.dc(6,"div",10),o.dd(7),o.cc(),o.dc(8,"div",11),o.Yb(9,"div",12),o.cc(),o.bd(10,h,2,3,"div",13)),2&t){var n=o.wc();o.Dc("ngClass",o.Hc(6,C,n.nsfw)),o.Kb("aria-label",n.video.name)("src",n.getImageUrl(),o.Uc),o.Jb(1),o.Dc("ngIf",n.displayWatchLaterPlaylist),o.Jb(6),o.ed(n.video.durationLabel),o.Jb(3),o.Dc("ngIf",null==n.video.userHistory?null:n.video.userHistory.currentTime)}}var _=[[["label-warning"]],[["label-danger"]]],y=["label-warning","label-danger"],P=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.screenService=e,this.i18n=n,this.nsfw=!1,this.watchLaterClick=new o.n,this.addToWatchLaterText=this.i18n("Add to watch later"),this.addedToWatchLaterText=this.i18n("Remove from watch later")}return _createClass(t,[{key:"getImageUrl",value:function(){return this.video?this.screenService.isInMobileView()?this.video.previewUrl:this.video.thumbnailUrl:""}},{key:"getProgressPercent",value:function(){return this.video.userHistory?this.video.userHistory.currentTime/this.video.duration*100:0}},{key:"getVideoRouterLink",value:function(){return this.videoRouterLink?this.videoRouterLink:["/videos/watch",this.video.uuid]}},{key:"onWatchLaterClick",value:function(t){return this.watchLaterClick.emit(this.inWatchLaterPlaylist),t.stopPropagation(),!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Xb(i.q),o.Xb(c.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-video-thumbnail"]],inputs:{video:"video",nsfw:"nsfw",videoRouterLink:"videoRouterLink",queryParams:"queryParams",videoHref:"videoHref",videoTarget:"videoTarget",displayWatchLaterPlaylist:"displayWatchLaterPlaylist",inWatchLaterPlaylist:"inWatchLaterPlaylist"},outputs:{watchLaterClick:"watchLaterClick"},ngContentSelectors:y,decls:4,vars:2,consts:[["class","video-thumbnail",3,"routerLink","queryParams",4,"ngIf"],["class","video-thumbnail",3,"href","target",4,"ngIf"],["aContent",""],[1,"video-thumbnail",3,"routerLink","queryParams"],[4,"ngTemplateOutlet"],[1,"video-thumbnail",3,"href","target"],["alt","",3,"ngClass"],["class","video-thumbnail-actions-overlay",4,"ngIf"],[1,"video-thumbnail-label-overlay","warning"],[1,"video-thumbnail-label-overlay","danger"],[1,"video-thumbnail-duration-overlay"],[1,"play-overlay"],[1,"icon"],["class","progress-bar",4,"ngIf"],[1,"video-thumbnail-actions-overlay"],[4,"ngIf"],["placement","left","container","body",1,"video-thumbnail-watch-later-overlay",3,"ngbTooltip","click"],["iconName","clock","role","button"],["iconName","tick","role","button"],[1,"progress-bar"],[3,"ngStyle"]],template:function(t,e){1&t&&(o.Cc(_),o.bd(0,u,2,3,"a",0),o.bd(1,b,2,3,"a",1),o.bd(2,O,11,8,"ng-template",null,2,o.cd)),2&t&&(o.Dc("ngIf",!e.videoHref),o.Jb(1),o.Dc("ngIf",e.videoHref))},directives:[a.u,r.k,a.C,a.r,s.y,l.a,a.y],styles:['.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;bottom:0;background-color:rgba(0,0,0,.2)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--mainColor)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;border-radius:3px;font-size:12px;font-weight:600;line-height:1.2;z-index:10}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;font-weight:700}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.warning[_ngcontent-%COMP%]{background-color:orange}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.danger[_ngcontent-%COMP%]{background-color:red}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 3px;right:5px;bottom:5px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{padding:3px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t}()},"s/vm":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n("XNiG"),i=n("xgIS"),c=n("Kj3r"),a=n("eIep"),r=n("vkgz");function s(t){return u(new Date,t)<=30}function l(t){return u(new Date,t)<=7}function d(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function u(t,e){return(t.getTime()-e.getTime())/864e5}var g,b=n("fXoL"),p=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.TODAY=1]="TODAY",t[t.YESTERDAY=2]="YESTERDAY",t[t.LAST_WEEK=3]="LAST_WEEK",t[t.LAST_MONTH=4]="LAST_MONTH",t[t.OLDER=5]="OLDER",t}({}),m=((g=function(){function t(){_classCallCheck(this,t),this.pagination={currentPage:1,itemsPerPage:25},this.sort="-publishedAt",this.defaultSort="-publishedAt",this.syndicationItems=[],this.loadOnInit=!0,this.useUserVideoPreferences=!1,this.ownerDisplayType="account",this.displayModerationBlock=!1,this.displayVideoActions=!0,this.groupByDate=!1,this.videos=[],this.hasDoneFirstQuery=!1,this.disabled=!1,this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!0,privacyText:!1,state:!1,blacklistInfo:!1},this.actions=[],this.onDataSubject=new o.a,this.groupedDates={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t,e=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(t){return e.serverConfig=t})),this.groupedDateLabels=(_defineProperty(t={},p.UNKNOWN,null),_defineProperty(t,p.TODAY,this.i18n("Today")),_defineProperty(t,p.YESTERDAY,this.i18n("Yesterday")),_defineProperty(t,p.LAST_WEEK,this.i18n("Last week")),_defineProperty(t,p.LAST_MONTH,this.i18n("Last month")),_defineProperty(t,p.OLDER,this.i18n("Older")),t),this.loadRouteParams(this.route.snapshot.queryParams),this.resizeSubscription=Object(i.a)(window,"resize").pipe(Object(c.a)(500)).subscribe((function(){return e.calcPageSizes()})),this.calcPageSizes();var n=this.loadUserAndSettings();!0===this.loadOnInit&&n.subscribe((function(){return e.loadMoreVideos()})),this.userService.listenAnonymousUpdate().pipe(Object(a.a)((function(){return e.loadUserAndSettings()}))).subscribe((function(){e.hasDoneFirstQuery&&e.reloadVideos()})),this.screenService.isInMobileView()&&(this.displayOptions.avatar=!0)}},{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"videoById",value:function(t,e){return e.id}},{key:"onNearOfBottom",value:function(){this.disabled||void 0!==this.lastQueryLength&&this.lastQueryLength<this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.setScrollRouteParams(),this.loadMoreVideos())}},{key:"loadMoreVideos",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getVideosObservable(this.pagination.currentPage).subscribe((function(n){var o=n.data;t.hasDoneFirstQuery=!0,t.lastQueryLength=o.length,e&&(t.videos=[]),t.videos=t.videos.concat(o),t.groupByDate&&t.buildGroupedDateLabels(),t.onMoreVideos(),t.onDataSubject.next(o)}),(function(e){var n=t.i18n("Cannot load more videos. Try again later.");console.error(n,{error:e}),t.notifier.error(n)}))}},{key:"reloadVideos",value:function(){this.pagination.currentPage=1,this.loadMoreVideos(!0)}},{key:"toggleModerationDisplay",value:function(){throw new Error("toggleModerationDisplay is not implemented")}},{key:"removeVideoFromArray",value:function(t){this.videos=this.videos.filter((function(e){return e.id!==t.id}))}},{key:"buildGroupedDateLabels",value:function(){var t,e,n,o=p.UNKNOWN,i=_createForOfIteratorHelper(this.videos);try{for(i.s();!(t=i.n()).done;){var c=t.value,a=c.publishedAt;if(o<=p.TODAY&&d(a,new Date)){if(o===p.TODAY)continue;o=p.TODAY,this.groupedDates[c.id]=o}else if(o<=p.YESTERDAY&&(e=a,n=void 0,(n=new Date).setDate(n.getDate()-1),d(e,n))){if(o===p.YESTERDAY)continue;o=p.YESTERDAY,this.groupedDates[c.id]=o}else if(o<=p.LAST_WEEK&&l(a)){if(o===p.LAST_WEEK)continue;o=p.LAST_WEEK,this.groupedDates[c.id]=o}else if(o<=p.LAST_MONTH&&s(a)){if(o===p.LAST_MONTH)continue;o=p.LAST_MONTH,this.groupedDates[c.id]=o}else if(o<=p.OLDER){if(o===p.OLDER)continue;o=p.OLDER,this.groupedDates[c.id]=o}}}catch(r){i.e(r)}finally{i.f()}}},{key:"getCurrentGroupedDateLabel",value:function(t){if(!1!==this.groupByDate)return this.groupedDateLabels[this.groupedDates[t.id]]}},{key:"onMoreVideos",value:function(){}},{key:"loadRouteParams",value:function(t){this.sort=t.sort||this.defaultSort,this.categoryOneOf=t.categoryOneOf,this.angularState=t["a-state"]}},{key:"calcPageSizes",value:function(){this.screenService.isInMobileView()&&(this.pagination.itemsPerPage=5)}},{key:"setScrollRouteParams",value:function(){if(!this.angularState){this.angularState=42;var t=this.router.url;t&&"/"!==t||(t=this.serverConfig.instance.defaultClientRoute),this.router.navigate([t],{queryParams:{"a-state":this.angularState,categoryOneOf:this.categoryOneOf},replaceUrl:!0,queryParamsHandling:"merge"})}}},{key:"loadUserAndSettings",value:function(){var t=this;return this.userService.getAnonymousOrLoggedUser().pipe(Object(r.a)((function(e){t.userMiniature=e,t.useUserVideoPreferences&&(t.languageOneOf=e.videoLanguages,t.nsfwPolicy=e.nsfwPolicy)})))}}]),t}()).\u0275fac=function(t){return new(t||g)},g.\u0275dir=b.Sb({type:g}),g)},tTqN:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y}));var o,i=n("mrSG"),c=n("TSHB"),a=n("Bw5p"),r=n("aEDk"),s=n("ey9i"),l=n("XRCn"),d=n("xMQD"),u=n("fXoL"),g=n("1kSV"),b=n("7FIj"),p=n("ofXK"),m=n("UkmY"),v=n("UXJo"),f=n("3Pt+"),h=["modal"];o="Let\xF6lt\xE9s";var C,O,_,y,P,M,w,k,x,S,T=["value","M\xE9gse"],L=["value","Let\xF6lt\xE9s"];function I(t,e){if(1&t){var n=u.ec();u.dc(0,"button",24),u.sc("click",(function(){return u.Sc(n),u.wc(3).switchToType("subtitles")})),u.hc(1,C),u.cc()}}function D(t,e){if(1&t){var n=u.ec();u.dc(0,"button",24),u.sc("click",(function(){return u.Sc(n),u.wc(3).switchToType("video")})),u.hc(1,O),u.cc()}}function j(t,e){if(1&t&&(u.dc(0,"div",20),u.dc(1,"span",21),u.dd(2),u.cc(),u.dc(3,"div",22),u.bd(4,I,2,0,"button",23),u.bd(5,D,2,0,"button",23),u.cc(),u.cc()),2&t){var n=u.wc(2);u.Jb(2),u.fd(" ",n.type," "),u.Jb(2),u.Dc("ngIf","video"===n.type),u.Jb(1),u.Dc("ngIf","subtitles"===n.type)}}function A(t,e){if(1&t&&(u.dc(0,"option",27),u.dd(1),u.cc()),2&t){var n=e.$implicit;u.Dc("value",n.resolution.id),u.Jb(1),u.ed(n.resolution.label)}}function E(t,e){if(1&t){var n=u.ec();u.dc(0,"select",25),u.sc("ngModelChange",(function(t){return u.Sc(n),u.wc(2).resolutionId=t}))("ngModelChange",(function(){return u.Sc(n),u.wc(2).onResolutionIdChange()})),u.bd(1,A,2,2,"option",26),u.cc()}if(2&t){var o=u.wc(2);u.Dc("ngModel",o.resolutionId),u.Jb(1),u.Dc("ngForOf",o.getVideoFiles())}}function R(t,e){if(1&t&&(u.dc(0,"option",27),u.dd(1),u.cc()),2&t){var n=e.$implicit;u.Dc("value",n.language.id),u.Jb(1),u.ed(n.language.label)}}function F(t,e){if(1&t){var n=u.ec();u.dc(0,"select",25),u.sc("ngModelChange",(function(t){return u.Sc(n),u.wc(2).subtitleLanguageId=t})),u.bd(1,R,2,2,"option",26),u.cc()}if(2&t){var o=u.wc(2);u.Dc("ngModel",o.subtitleLanguageId),u.Jb(1),u.Dc("ngForOf",o.videoCaptions)}}function V(t,e){if(1&t&&(u.dc(0,"div",37),u.dc(1,"span",38),u.hc(2,M),u.cc(),u.dc(3,"span",39),u.dd(4),u.cc(),u.cc()),2&t){var n=e.$implicit;u.Jb(2),u.lc(n.value.label),u.ic(2),u.Jb(2),u.ed(n.value.value)}}function N(t,e){if(1&t&&(u.dc(0,"div",35),u.bd(1,V,5,2,"div",36),u.xc(2,"keyvalue"),u.cc()),2&t){var n=u.wc(3);u.Jb(1),u.Dc("ngForOf",u.yc(2,1,n.videoFileMetadataFormat))}}function U(t,e){if(1&t&&(u.dc(0,"div",37),u.dc(1,"span",38),u.hc(2,w),u.cc(),u.dc(3,"span",39),u.dd(4),u.cc(),u.cc()),2&t){var n=e.$implicit;u.Jb(2),u.lc(n.value.label),u.ic(2),u.Jb(2),u.ed(n.value.value)}}function J(t,e){if(1&t&&(u.dc(0,"div",35),u.bd(1,U,5,2,"div",36),u.xc(2,"keyvalue"),u.cc()),2&t){var n=u.wc(3);u.Jb(1),u.Dc("ngForOf",u.yc(2,1,n.videoFileMetadataVideoStream))}}function B(t,e){if(1&t&&(u.dc(0,"div",37),u.dc(1,"span",38),u.hc(2,k),u.cc(),u.dc(3,"span",39),u.dd(4),u.cc(),u.cc()),2&t){var n=e.$implicit;u.Jb(2),u.lc(n.value.label),u.ic(2),u.Jb(2),u.ed(n.value.value)}}function z(t,e){if(1&t&&(u.dc(0,"div",35),u.bd(1,B,5,2,"div",36),u.xc(2,"keyvalue"),u.cc()),2&t){var n=u.wc(3);u.Jb(1),u.Dc("ngForOf",u.yc(2,1,n.videoFileMetadataAudioStream))}}function H(t,e){if(1&t&&(u.bc(0),u.dc(1,"div",28,29),u.bc(3,30),u.dc(4,"a",31),u.hc(5,_),u.cc(),u.bd(6,N,3,3,"ng-template",32),u.ac(),u.bc(7,33),u.dc(8,"a",31),u.hc(9,y),u.cc(),u.bd(10,J,3,3,"ng-template",32),u.ac(),u.bc(11,33),u.dc(12,"a",31),u.hc(13,P),u.cc(),u.bd(14,z,3,3,"ng-template",32),u.ac(),u.cc(),u.Yb(15,"div",34),u.ac()),2&t){var n=u.Qc(2),o=u.wc(2);u.Jb(7),u.Dc("disabled",void 0===o.videoFileMetadataVideoStream),u.Jb(4),u.Dc("disabled",void 0===o.videoFileMetadataAudioStream),u.Jb(4),u.Dc("ngbNavOutlet",n)}}function X(t,e){if(1&t){var n=u.ec();u.dc(0,"div",40),u.dc(1,"div",41),u.dc(2,"input",42),u.sc("ngModelChange",(function(t){return u.Sc(n),u.wc(2).downloadType=t})),u.cc(),u.dc(3,"label",43),u.hc(4,x),u.cc(),u.cc(),u.dc(5,"div",41),u.dc(6,"input",44),u.sc("ngModelChange",(function(t){return u.Sc(n),u.wc(2).downloadType=t})),u.cc(),u.dc(7,"label",45),u.hc(8,S),u.cc(),u.cc(),u.cc()}if(2&t){var o=u.wc(2);u.Jb(2),u.Dc("ngModel",o.downloadType),u.Jb(4),u.Dc("ngModel",o.downloadType)}}function W(t,e){if(1&t){var n=u.ec();u.dc(0,"div",1),u.dc(1,"h4",2),u.bc(2),u.hc(3,o),u.ac(),u.bd(4,j,6,3,"div",3),u.cc(),u.dc(5,"my-global-icon",4),u.sc("click",(function(){return(0,e.close)()})),u.cc(),u.cc(),u.dc(6,"div",5),u.dc(7,"div",6),u.dc(8,"div",7),u.dc(9,"div",8),u.bd(10,E,2,2,"select",9),u.bd(11,F,2,2,"select",9),u.cc(),u.dc(12,"input",10,11),u.sc("click",(function(){return u.Sc(n),u.Qc(13).select()})),u.cc(),u.dc(14,"div",12),u.dc(15,"button",13),u.sc("click",(function(){return u.Sc(n),u.wc().activateCopiedMessage()})),u.Yb(16,"span",14),u.cc(),u.cc(),u.cc(),u.cc(),u.bd(17,H,16,3,"ng-container",15),u.bd(18,X,9,2,"div",16),u.cc(),u.dc(19,"div",17),u.dc(20,"input",18),u.jc(21,T),u.sc("click",(function(){return(0,e.close)()}))("key.enter",(function(){return(0,e.close)()})),u.cc(),u.dc(22,"input",19),u.jc(23,L),u.sc("click",(function(){return u.Sc(n),u.wc().download()})),u.cc(),u.cc()}if(2&t){var i=u.Qc(13),c=u.wc();u.Jb(4),u.Dc("ngIf",c.videoCaptions),u.Jb(6),u.Dc("ngIf","video"===c.type),u.Jb(1),u.Dc("ngIf","subtitles"===c.type),u.Jb(1),u.Dc("value",c.getLink()),u.Jb(3),u.Dc("cdkCopyToClipboard",i.value),u.Jb(2),u.Dc("ngIf","video"===c.type&&(null==c.videoFile?null:c.videoFile.metadata)),u.Jb(1),u.Dc("ngIf","video"===c.type)}}C="felirat",O="vide\xF3",_="Form\xE1tum",y="Video-adatfolyam",P="Hangadatfolyam",M="" + "\ufffd0\ufffd" + "",w="" + "\ufffd0\ufffd" + "",k="" + "\ufffd0\ufffd" + "",x="K\xF6zvetlen let\xF6lt\xE9s",S="Torrent (.torrent f\xE1jl)";var Y=function(){var t=function(){function t(e,n,o,i,c){_classCallCheck(this,t),this.notifier=e,this.modalService=n,this.videoService=o,this.auth=i,this.i18n=c,this.downloadType="torrent",this.resolutionId=-1,this.type="video",this.bytesPipe=new r.a,this.numbersPipe=new d.d}return _createClass(t,[{key:"getVideoFiles",value:function(){return this.video?this.video.getFiles():[]}},{key:"show",value:function(t,e){this.video=t,this.videoCaptions=e&&e.length?e:void 0,this.activeModal=this.modalService.open(this.modal,{centered:!0}),this.resolutionId=this.getVideoFiles()[0].resolution.id,this.onResolutionIdChange(),this.videoCaptions&&(this.subtitleLanguageId=this.videoCaptions[0].language.id)}},{key:"onClose",value:function(){this.video=void 0,this.videoCaptions=void 0}},{key:"download",value:function(){window.location.assign(this.getLink()),this.activeModal.close()}},{key:"getLink",value:function(){return"subtitles"===this.type&&this.videoCaptions?this.getSubtitlesLink():this.getVideoFileLink()}},{key:"onResolutionIdChange",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoFile=this.getVideoFile(),t.t0=!this.videoFile.metadata&&this.videoFile.metadataUrl,!t.t0){t.next=8;break}return t.next=5,this.hydrateMetadataFromMetadataUrl(this.videoFile);case 5:this.videoFileMetadataFormat=this.videoFile?this.getMetadataFormat(this.videoFile.metadata.format):void 0,this.videoFileMetadataVideoStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"video"):void 0,this.videoFileMetadataAudioStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"audio"):void 0;case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getVideoFile",value:function(){var t=this;this.resolutionId=parseInt(this.resolutionId.toString(),10);var e=this.getVideoFiles().find((function(e){return e.resolution.id===t.resolutionId}));if(e)return e;console.error("Could not find file with resolution %d.",this.resolutionId)}},{key:"getVideoFileLink",value:function(){var t=this.videoFile;if(t){var e=this.video.privacy.id===l.p.PRIVATE||this.video.privacy.id===l.p.INTERNAL?"?access_token="+this.auth.getAccessToken():"";switch(this.downloadType){case"direct":return t.fileDownloadUrl+e;case"torrent":return t.torrentDownloadUrl+e}}}},{key:"getSubtitlesLink",value:function(){var t=this;return window.location.origin+this.videoCaptions.find((function(e){return e.language.id===t.subtitleLanguageId})).captionPath}},{key:"activateCopiedMessage",value:function(){this.notifier.success(this.i18n("Copied"))}},{key:"switchToType",value:function(t){this.type=t}},{key:"getMetadataFormat",value:function(t){var e=this,n={encoder:function(t){return{label:e.i18n("Encoder"),value:t}},format_long_name:function(t){return{label:e.i18n("Format name"),value:t}},size:function(t){return{label:e.i18n("Size"),value:e.bytesPipe.transform(t,2)}},bit_rate:function(t){return{label:e.i18n("Bitrate"),value:e.numbersPipe.transform(t)+"bps"}}},o=Object.assign(t,t.tags);return delete o.tags,Object(c.a)(Object(a.a)(o,Object.keys(n)),(function(t,e){return n[e](t)}))}},{key:"getMetadataStream",value:function(t,e){var n=this,o=t.find((function(t){return t.codec_type===e}));if(o){var i={codec_long_name:function(t){return{label:n.i18n("Codec"),value:t}},profile:function(t){return{label:n.i18n("Profile"),value:t}},bit_rate:function(t){return{label:n.i18n("Bitrate"),value:n.numbersPipe.transform(t)+"bps"}}};return i=Object.assign(i,"video"===e?{width:function(t){return{label:n.i18n("Resolution"),value:"".concat(t,"x").concat(o.height)}},display_aspect_ratio:function(t){return{label:n.i18n("Aspect ratio"),value:t}},avg_frame_rate:function(t){return{label:n.i18n("Average frame rate"),value:t}},pix_fmt:function(t){return{label:n.i18n("Pixel format"),value:t}}}:{sample_rate:function(t){return{label:n.i18n("Sample rate"),value:t}},channel_layout:function(t){return{label:n.i18n("Channel Layout"),value:t}}}),Object(c.a)(Object(a.a)(o,Object.keys(i)),(function(t,e){return i[e](t)}))}}},{key:"hydrateMetadataFromMetadataUrl",value:function(t){var e=this.videoService.getVideoFileMetadata(t.metadataUrl);return e.subscribe((function(e){return t.metadata=e})),e.toPromise()}},{key:"typeText",get:function(){return this.i18n("video"===this.type?"video":"subtitles")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Xb(s.k),u.Xb(g.k),u.Xb(d.r),u.Xb(s.a),u.Xb(b.a))},t.\u0275cmp=u.Rb({type:t,selectors:[["my-video-download"]],viewQuery:function(t,e){var n;1&t&&u.Yc(h,!0),2&t&&u.Pc(n=u.tc())&&(e.modal=n.first)},decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"input-group","input-group-sm"],[1,"input-group-prepend","peertube-select-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","",1,"form-control","input-sm","readonly",3,"value","click"],["urlInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"cdkCopyToClipboard","click"],[1,"glyphicon","glyphicon-copy"],[4,"ngIf"],["class","download-type",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"click",6,"value"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownDownloadType","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownDownloadType"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",3,"disabled"],[3,"ngbNavOutlet"],[1,"file-metadata"],["class","metadata-attribute metadata-attribute-tags",4,"ngFor","ngForOf"],[1,"metadata-attribute","metadata-attribute-tags"],[1,"metadata-attribute-label"],[1,"metadata-attribute-value"],[1,"download-type"],[1,"peertube-radio-container"],["type","radio","name","download","id","download-direct","value","direct",3,"ngModel","ngModelChange"],["for","download-direct"],["type","radio","name","download","id","download-torrent","value","torrent",3,"ngModel","ngModelChange"],["for","download-torrent"]],template:function(t,e){1&t&&u.bd(0,W,24,7,"ng-template",null,0,u.cd)},directives:[p.u,m.a,v.a,g.e,g.j,g.h,g.g,f.F,f.t,f.w,p.t,f.y,f.I,g.n,g.p,g.q,g.o,g.s,f.B,f.d],pipes:[p.m],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:100px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:inherit}#dropdownDownloadType[_ngcontent-%COMP%]{cursor:pointer}.download-type[_ngcontent-%COMP%]{margin-top:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.file-metadata[_ngcontent-%COMP%]{padding:1rem}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   .metadata-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:active, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:focus, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute.metadata-attribute-tags[_ngcontent-%COMP%]   .metadata-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}']}),t}()}}]);