!function(){function t(){var n=Y([":\u241fa2adc8b3bb63e13ff7adf65469f356b692bd294b\u241f1219783168145776019:LIVE ENDED"]);return t=function(){return n},n}function n(){var t=Y([":\u241fdf754f9d47b1a072519f1c9f7f1726937f44040a\u241f493135676263039396:LIVE"]);return n=function(){return t},t}function e(){var t=Y(["Remove from watch later"]);return e=function(){return t},t}function o(){var t=Y(["Add to watch later"]);return o=function(){return t},t}function i(){var t=Y([":\u241f4999ffd919bb9af482aa4c53badd6cd654468582\u241f5179071816818927117: ",":INTERPOLATION: "]);return i=function(){return t},t}function a(){var t=Y([":\u241fa3550f6ce98d90d2947fe062530629dc2d3923b4\u241f3203614451463812160:Updated ",":INTERPOLATION:"]);return a=function(){return t},t}function r(){var t=Y([":\u241f99dea2d567d6e6d610d97608c3850ddb76df9a9a\u241f5081568645420228073:{VAR_PLURAL, plural, =0 {No videos} =1 {1 video} other {{INTERPOLATION} videos}}"]);return r=function(){return t},t}function c(){var t=Y(["The channel is required when the playlist is public."]);return c=function(){return t},t}function l(){var t=Y(["Description cannot be more than 1000 characters long."]);return l=function(){return t},t}function s(){var t=Y(["Description must be at least 3 characters long."]);return s=function(){return t},t}function u(){var t=Y(["Privacy is required."]);return u=function(){return t},t}function d(){var t=Y(["Display name cannot be more than 120 characters long."]);return d=function(){return t},t}function g(){var t=Y(["Display name must be at least 1 character long."]);return g=function(){return t},t}function p(){var t=Y(["Display name is required."]);return p=function(){return t},t}function m(t,n,e){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var o=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=L(t)););return t}(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(e):i.value}})(t,n,e||t)}function b(){var t=Y([":\u241f70a67e04629f6d412db0a12d51820b480788d795\u241f5674286808255988565:Create"]);return b=function(){return t},t}function v(){var t=Y([":\u241fbc155f9fc3be3f32083f19b2c77d4ad3b696d9b9\u241f2409672154570643758:Display name"]);return v=function(){return t},t}function f(){var t=Y([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return f=function(){return t},t}function C(){var t=Y([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return C=function(){return t},t}function h(){var t=Y([":\u241f19fc45e7e0cab63a8c4422ea7158bf5c6228cee4\u241f6056859576122955708:Create a private playlist"]);return h=function(){return t},t}function y(){var t=Y([":\u241f8efba03f22550a671ee2c2c6dfd1ff03ea047700\u241f5201790281220738609:Search playlists"]);return y=function(){return t},t}function P(){var t=Y([":\u241fb2b638f4333842009c258a23e59dbe4160d1e566\u241f5924559757556526785:Save to"]);return P=function(){return t},t}function O(){var t=Y(["Video added in ",""]);return O=function(){return t},t}function _(){var t=Y(["Video added in "," at timestamps ",""]);return _=function(){return t},t}function M(){var t=Y(["Video removed from ",""]);return M=function(){return t},t}function w(){var t=Y(["Timestamps updated"]);return w=function(){return t},t}function x(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&k(t,n)}function k(t,n){return(k=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,o=L(t);if(n){var i=L(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return S(this,e)}}function S(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?E(t):n}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return I(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return I(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){c=!0,a=t},f:function(){try{r||null==e.return||e.return()}finally{if(c)throw a}}}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function U(){var t=Y([":\u241f52c9a103b812f258bcddc3d90a6e3f46871d25fe\u241f3768927257183755959:Save"]);return U=function(){return t},t}function A(){var t=Y([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return A=function(){return t},t}function j(){var t=Y([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return j=function(){return t},t}function R(){var t=Y([":\u241f2edccfda908b57c073dc0811eaa58818de2be2dc\u241f5263519165976128456:Edit starts/stops at"]);return R=function(){return t},t}function D(){var t=Y([":\u241fb9dee3108a18796bd69c6be316c8fb985b58fb8e\u241f7387472152909081455:Delete from ",":INTERPOLATION:"]);return D=function(){return t},t}function N(){var t=Y([":\u241f28df1b02fd88d2deb0212bc5d7ff34cf9492fa54\u241f6381490568322624964:Deleted"]);return N=function(){return t},t}function z(){var t=Y([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return z=function(){return t},t}function B(){var t=Y([":\u241f15c02cb6b6c3be53477e502d3e1ee26955b23af0\u241f5643561794785412000:Unavailable"]);return B=function(){return t},t}function $(){var t=Y([" and stops at "]);return $=function(){return t},t}function F(){var t=Y(["Starts at "]);return F=function(){return t},t}function W(){var t=Y(["Stops at "]);return W=function(){return t},t}function H(){var t=Y(["Starts at "]);return H=function(){return t},t}function Q(){var t=Y(["Timestamps updated"]);return Q=function(){return t},t}function q(){var t=Y(["Video removed from ",""]);return q=function(){return t},t}function Y(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function Z(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function J(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function G(t,n,e){return n&&J(t.prototype,n),e&&J(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2Qox":function(t,n,e){"use strict";e.d(n,"a",function(){return J});var o=e("fXoL"),i=e("ey9i"),a=e("H9+z"),r=(e("DQE6"),e("a9tR"),e("4Yo8")),c=e("ofXK"),l=e("tyNb"),s=e("UkmY"),u=e("qZuT"),d=e("l9Pe"),g=e("1kSV"),p=e("/xt7"),m=e("3Pt+"),b=e("C8Cb"),v=["moreDropdown"];function f(t,n){1&t&&o.Qb(0,"my-global-icon",11)}function C(t,n){if(1&t&&(o.Tb(0),o.Uc(1),o.Sb()),2&t){var e=o.nc();o.Cb(1),o.Vc(e.position)}}function h(t,n){if(1&t&&o.Qb(0,"my-video-thumbnail",12),2&t){var e=o.nc();o.uc("video",e.playlistElement.video)("nsfw",e.isVideoBlur(e.playlistElement.video))("videoRouterLink",e.buildRouterLink())("queryParams",e.buildRouterQuery())}}function y(t,n){1&t&&o.Qb(0,"div",13)}var P=function(t){return["/accounts",t]};function O(t,n){if(1&t&&(o.Vb(0,"a",18),o.Uc(1),o.Ub()),2&t){var e=o.nc(2);o.uc("routerLink",o.yc(2,P,e.playlistElement.video.byAccount)),o.Cb(1),o.Wc(" ",e.playlistElement.video.byAccount," ")}}function _(t,n){if(1&t&&(o.Vb(0,"span",19),o.Uc(1),o.Ub()),2&t){var e=o.nc(2);o.Cb(1),o.Vc(e.playlistElement.video.byAccount)}}function M(t,n){if(1&t&&(o.Tb(0),o.Vb(1,"a",14),o.Uc(2),o.Ub(),o.Sc(3,O,2,4,"a",15),o.Sc(4,_,2,1,"span",16),o.Vb(5,"span",17),o.Uc(6),o.Ub(),o.Sb()),2&t){var e=o.nc();o.Cb(1),o.uc("routerLink",e.buildRouterLink())("queryParams",e.buildRouterQuery()),o.Db("title",e.playlistElement.video.name),o.Cb(1),o.Vc(e.playlistElement.video.name),o.Cb(1),o.uc("ngIf",e.accountLink),o.Cb(1),o.uc("ngIf",!e.accountLink),o.Cb(2),o.Vc(e.formatTimestamp(e.playlistElement))}}function w(t,n){1&t&&(o.Tb(0),o.Zb(1,21),o.Sb())}function x(t,n){1&t&&(o.Tb(0),o.Zb(1,22),o.Sb())}function k(t,n){1&t&&(o.Tb(0),o.Zb(1,23),o.Sb())}function T(t,n){if(1&t&&(o.Vb(0,"span",20),o.Sc(1,w,2,0,"ng-container",4),o.Sc(2,x,2,0,"ng-container",4),o.Sc(3,k,2,0,"ng-container",4),o.Ub()),2&t){var e=o.nc();o.Cb(1),o.uc("ngIf",e.isUnavailable(e.playlistElement)),o.Cb(1),o.uc("ngIf",e.isPrivate(e.playlistElement)),o.Cb(1),o.uc("ngIf",e.isDeleted(e.playlistElement))}}var S=function(t){return["/my-library","video-playlists",t]};function E(t,n){if(1&t&&o.Qb(0,"my-edit-button",24),2&t){var e=o.nc();o.uc("routerLink",o.yc(1,S,e.playlist.uuid))}}function L(t,n){if(1&t){var e=o.Wb();o.Vb(0,"div",35),o.Vb(1,"div"),o.Vb(2,"my-peertube-checkbox",36),o.jc("ngModelChange",function(t){return o.Jc(e),o.nc(3).timestampOptions.startTimestampEnabled=t}),o.Ub(),o.Vb(3,"my-timestamp-input",37),o.jc("ngModelChange",function(t){return o.Jc(e),o.nc(3).timestampOptions.startTimestamp=t}),o.Ub(),o.Ub(),o.Vb(4,"div"),o.Vb(5,"my-peertube-checkbox",38),o.jc("ngModelChange",function(t){return o.Jc(e),o.nc(3).timestampOptions.stopTimestampEnabled=t}),o.Ub(),o.Vb(6,"my-timestamp-input",37),o.jc("ngModelChange",function(t){return o.Jc(e),o.nc(3).timestampOptions.stopTimestamp=t}),o.Ub(),o.Ub(),o.Vb(7,"input",39),o.jc("click",function(){o.Jc(e);var t=o.nc(3);return t.updateTimestamps(t.playlistElement)}),o.Ub(),o.Ub()}if(2&t){var i=o.nc(3);o.Cb(2),o.uc("ngModel",i.timestampOptions.startTimestampEnabled),o.Cb(1),o.uc("timestamp",i.timestampOptions.startTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.startTimestampEnabled)("ngModel",i.timestampOptions.startTimestamp),o.Cb(2),o.uc("ngModel",i.timestampOptions.stopTimestampEnabled),o.Cb(1),o.uc("timestamp",i.timestampOptions.stopTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.stopTimestampEnabled)("ngModel",i.timestampOptions.stopTimestamp)}}function V(t,n){if(1&t){var e=o.Wb();o.Tb(0),o.Vb(1,"div",29),o.jc("click",function(t){o.Jc(e);var n=o.nc(2);return n.toggleDisplayTimestampsOptions(t,n.playlistElement)}),o.Qb(2,"my-global-icon",32),o.Tb(3),o.Zb(4,33),o.Sb(),o.Ub(),o.Sc(5,L,8,10,"div",34),o.Sb()}if(2&t){var i=o.nc(2);o.Cb(5),o.uc("ngIf",i.displayTimestampOptions)}}function I(t,n){if(1&t){var e=o.Wb();o.Vb(0,"div",25,26),o.jc("openChange",function(){return o.Jc(e),o.nc().onDropdownOpenChange()}),o.Vb(2,"my-global-icon",27),o.jc("click",function(t){return t.preventDefault()}),o.Ub(),o.Vb(3,"div",28),o.Sc(4,V,6,1,"ng-container",4),o.Vb(5,"span",29),o.jc("click",function(){o.Jc(e);var t=o.nc();return t.removeFromPlaylist(t.playlistElement)}),o.Qb(6,"my-global-icon",30),o.Tb(7),o.Zb(8,31),o.Sb(),o.Ub(),o.Ub(),o.Ub()}if(2&t){var i=o.nc();o.Cb(4),o.uc("ngIf",i.playlistElement.video),o.Cb(4),o.dc(null==i.playlist?null:i.playlist.displayName),o.ac(8)}}var Y=function(t){return{playing:t}},J=function(){var t=function(){function t(n,e,i,a,r){Z(this,t),this.authService=n,this.serverService=e,this.notifier=i,this.videoPlaylistService=a,this.cdr=r,this.owned=!1,this.playing=!1,this.rowLink=!1,this.accountLink=!0,this.touchScreenEditButton=!1,this.elementRemoved=new o.n,this.displayTimestampOptions=!1,this.timestampOptions={}}return G(t,[{key:"ngOnInit",value:function(){var t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(function(n){t.serverConfig=n,t.cdr.detectChanges()})}},{key:"isUnavailable",value:function(t){return 3===t.type}},{key:"isPrivate",value:function(t){return 2===t.type}},{key:"isDeleted",value:function(t){return 1===t.type}},{key:"buildRouterLink",value:function(){return this.playlist?["/videos/watch/playlist",this.playlist.uuid]:null}},{key:"buildRouterQuery",value:function(){return this.playlistElement&&this.playlistElement.video?{playlistPosition:this.playlistElement.position,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{}}},{key:"isVideoBlur",value:function(t){return t.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig)}},{key:"removeFromPlaylist",value:function(t){var n=this;this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,t.id,this.playlistElement.video?this.playlistElement.video.id:void 0).subscribe(function(){n.notifier.success("Vid\xE8o levada de \n          " + n.playlist.displayName + "\n        "),n.elementRemoved.emit(t)},function(t){return n.notifier.error(t.message)}),this.moreDropdown.close()}},{key:"updateTimestamps",value:function(t){var n=this,e={};e.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,e.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,t.id,e,this.playlistElement.video.id).subscribe(function(){n.notifier.success("Data actualizada"),t.startTimestamp=e.startTimestamp,t.stopTimestamp=e.stopTimestamp,n.cdr.detectChanges()},function(t){return n.notifier.error(t.message)}),this.moreDropdown.close()}},{key:"formatTimestamp",value:function(t){var n=t.startTimestamp,e=t.stopTimestamp,o=Object(a.j)(n,!0,":"),i=Object(a.j)(e,!0,":");return null===n&&null===e?"":null!==n&&null===e?"Starts at "+o:null===n&&null!==e?"Stops at "+i:"Starts at "+o+" and stops at "+i}},{key:"onDropdownOpenChange",value:function(){this.displayTimestampOptions=!1}},{key:"toggleDisplayTimestampsOptions",value:function(t,n){var e=this;t.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,!0===this.displayTimestampOptions&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:n.video.duration},n.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=n.startTimestamp),n.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=n.stopTimestamp)),setTimeout(function(){e.cdr.detectChanges()})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Pb(i.a),o.Pb(i.x),o.Pb(i.m),o.Pb(r.a),o.Pb(o.h))},t.\u0275cmp=o.Jb({type:t,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,n){var e;(1&t&&o.Yc(v,!0),2&t)&&(o.Gc(e=o.kc())&&(n.moreDropdown=e.first))},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},decls:12,vars:13,consts:function(){return[[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","more dropdown-root","ngbDropdown","","placement","left auto","autoClose","outside","container","body",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams"],[1,"fake-thumbnail"],["tabindex","-1",1,"video-info-name",3,"routerLink","queryParams"],["tabindex","-1","class","video-info-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-account",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["tabindex","-1",1,"video-info-account",3,"routerLink"],["tabindex","-1",1,"video-info-account"],[1,"video-info-name"],"Pas disponibla","Privada","Suprimida",[3,"routerLink"],["ngbDropdown","","placement","left auto","autoClose","outside","container","body",1,"more","dropdown-root",3,"openChange"],["moreDropdown","ngbDropdown"],["iconName","more-vertical","ngbDropdownToggle","","role","button",1,"icon-more",3,"click"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],["iconName","delete","aria-hidden","true"],"Suprimir de \n          " + "\ufffd0\ufffd" + "\n        ",["iconName","edit","aria-hidden","true"],"Modificar la debuta/fin",["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt","labelText","Debuta a",3,"ngModel","ngModelChange"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt","labelText","Arr\xE8sta a",3,"ngModel","ngModelChange"],["type","submit","value","Salvagardar",3,"click"]]},template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"a",1),o.Vb(2,"div",2),o.Sc(3,f,1,0,"my-global-icon",3),o.Sc(4,C,2,1,"ng-container",4),o.Ub(),o.Sc(5,h,1,4,"my-video-thumbnail",5),o.Sc(6,y,1,0,"div",6),o.Vb(7,"div",7),o.Sc(8,M,7,7,"ng-container",4),o.Sc(9,T,4,3,"span",8),o.Ub(),o.Ub(),o.Sc(10,E,1,3,"my-edit-button",9),o.Sc(11,I,9,2,"div",10),o.Ub()),2&t&&(o.uc("ngClass",o.yc(11,Y,n.playing)),o.Cb(1),o.uc("routerLink",n.buildRouterLink())("queryParams",n.buildRouterQuery()),o.Cb(2),o.uc("ngIf",n.playing),o.Cb(1),o.uc("ngIf",!n.playing),o.Cb(1),o.uc("ngIf",n.playlistElement.video),o.Cb(1),o.uc("ngIf",!n.playlistElement.video),o.Cb(2),o.uc("ngIf",n.playlistElement.video),o.Cb(1),o.uc("ngIf",!n.playlistElement.video),o.Cb(1),o.uc("ngIf",n.owned&&n.touchScreenEditButton),o.Cb(1),o.uc("ngIf",n.owned))},directives:[c.l,l.k,c.n,s.a,u.a,d.a,l.i,g.f,g.l,g.j,p.a,m.m,m.p,b.a],styles:['.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{background-color:#ececec}.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]{display:flex;margin-right:10px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}.video[_ngcontent-%COMP%]:hover   .more[_ngcontent-%COMP%]{opacity:1}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1!important}}.video.playing[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;margin-right:10px;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;margin-left:auto;cursor:pointer;min-width:24px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{opacity:1}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]:after{border:none}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:6px 15px;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;margin-right:10px;position:relative;top:-2px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;padding-left:35px;margin-bottom:15px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:740px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}'],changeDetection:0}),t}()},"4Yo8":function(t,n,e){"use strict";e.d(n,"a",function(){return T});var o=e("NOtv"),i=e("BeL+"),a=e("jtHE"),r=e("XNiG"),c=e("VRyK"),l=e("D0XW"),s=e("LRne"),u=e("/uUt"),d=e("OsX3"),g=e("pLZG"),p=e("lJxs"),m=e("pxpQ"),b=e("eIep"),v=e("w1tV"),f=e("JIr8"),C=e("vkgz"),h=e("tk/3"),y=e("ey9i"),P=e("6rF9"),O=e("xMQD"),_=e("AytR"),M=e("DQE6"),w=e("a9tR"),x=e("fXoL"),k=o("peertube:playlists:VideoPlaylistService"),T=function(){var t=function(){function t(n,e,o,s,f){var C=this;Z(this,t),this.authHttp=n,this.serverService=e,this.restExtractor=o,this.restService=s,this.ngZone=f,this.videoExistsInPlaylistNotifier=new a.a(1),this.videoExistsInPlaylistCacheSubject=new r.a,this.videoExistsObservableCache={},this.videoExistsCache={},this.myAccountPlaylistCache=void 0,this.myAccountPlaylistCacheSubject=new r.a,this.videoExistsInPlaylistObservable=Object(c.a)(this.videoExistsInPlaylistNotifier.pipe(Object(u.a)(),Object(d.a)(500,Object(P.k)(this.ngZone,l.b)),Object(g.a)(function(t){return 0!==t.length}),Object(p.a)(function(t){return Object(i.a)(t)}),Object(m.b)(Object(P.d)(this.ngZone,l.b)),Object(b.a)(function(t){return C.doVideosExistInPlaylist(t)}),Object(v.a)()),this.videoExistsInPlaylistCacheSubject)}return G(t,[{key:"listChannelPlaylists",value:function(t,n){var e=this,o=O.n.BASE_VIDEO_CHANNEL_URL+t.nameWithHost+"/video-playlists",i=this.restService.componentPaginationToRestPagination(n),a=new h.f;return a=this.restService.addRestGetParams(a,i),this.authHttp.get(o,{params:a}).pipe(Object(b.a)(function(t){return e.extractPlaylists(t)}),Object(f.a)(function(t){return e.restExtractor.handleError(t)}))}},{key:"listMyPlaylistWithCache",value:function(t,n){var e=this;if(!n){if(this.myAccountPlaylistCacheRunning)return this.myAccountPlaylistCacheRunning;if(this.myAccountPlaylistCache)return Object(s.a)(this.myAccountPlaylistCache)}var o=this.listAccountPlaylists(t.account,void 0,"-updatedAt",n).pipe(Object(C.a)(function(t){n||(e.myAccountPlaylistCacheRunning=void 0,e.myAccountPlaylistCache=t)}),Object(v.a)());return n||(this.myAccountPlaylistCacheRunning=o),o}},{key:"listAccountPlaylists",value:function(t,n,e,o){var i=this,a=O.b.BASE_ACCOUNT_URL+t.nameWithHost+"/video-playlists",r=n?this.restService.componentPaginationToRestPagination(n):void 0,c=new h.f;return c=this.restService.addRestGetParams(c,r,e),o&&(c=this.restService.addObjectParams(c,{search:o})),this.authHttp.get(a,{params:c}).pipe(Object(b.a)(function(t){return i.extractPlaylists(t)}),Object(f.a)(function(t){return i.restExtractor.handleError(t)}))}},{key:"getVideoPlaylist",value:function(n){var e=this;return this.authHttp.get(t.BASE_VIDEO_PLAYLIST_URL+n).pipe(Object(b.a)(function(t){return e.extractPlaylist(t)}),Object(f.a)(function(t){return e.restExtractor.handleError(t)}))}},{key:"createVideoPlaylist",value:function(n){var e=this,o=Object(P.m)(n);return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL,o).pipe(Object(C.a)(function(t){e.myAccountPlaylistCache&&(e.myAccountPlaylistCache.total++,e.myAccountPlaylistCache.data.push({id:t.videoPlaylist.id,displayName:n.displayName}),e.myAccountPlaylistCacheSubject.next(e.myAccountPlaylistCache))}),Object(f.a)(function(t){return e.restExtractor.handleError(t)}))}},{key:"updateVideoPlaylist",value:function(n,e){var o=this,i=Object(P.m)(e);return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n.id,i).pipe(Object(p.a)(this.restExtractor.extractDataBool),Object(C.a)(function(){o.myAccountPlaylistCache&&(o.myAccountPlaylistCache.data.find(function(t){return t.id===n.id}).displayName=e.displayName,o.myAccountPlaylistCacheSubject.next(o.myAccountPlaylistCache))}),Object(f.a)(function(t){return o.restExtractor.handleError(t)}))}},{key:"removeVideoPlaylist",value:function(n){var e=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n.id).pipe(Object(p.a)(this.restExtractor.extractDataBool),Object(C.a)(function(){e.myAccountPlaylistCache&&(e.myAccountPlaylistCache.total--,e.myAccountPlaylistCache.data=e.myAccountPlaylistCache.data.filter(function(t){return t.id!==n.id}),e.myAccountPlaylistCacheSubject.next(e.myAccountPlaylistCache))}),Object(f.a)(function(t){return e.restExtractor.handleError(t)}))}},{key:"addVideoInPlaylist",value:function(n,e){var o=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",e).pipe(Object(C.a)(function(t){o.videoExistsCache[e.videoId].push({playlistId:n,playlistElementId:t.videoPlaylistElement.id,startTimestamp:e.startTimestamp,stopTimestamp:e.stopTimestamp}),o.runPlaylistCheck(e.videoId)}),Object(f.a)(function(t){return o.restExtractor.handleError(t)}))}},{key:"updateVideoOfPlaylist",value:function(n,e,o,i){var a=this;return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e,o).pipe(Object(p.a)(this.restExtractor.extractDataBool),Object(C.a)(function(){var t=a.videoExistsCache[i];if(t){var n=t.find(function(t){return t.playlistElementId===e});n.startTimestamp=o.startTimestamp,n.stopTimestamp=o.stopTimestamp}a.runPlaylistCheck(i)}),Object(f.a)(function(t){return a.restExtractor.handleError(t)}))}},{key:"removeVideoFromPlaylist",value:function(n,e,o){var i=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e).pipe(Object(p.a)(this.restExtractor.extractDataBool),Object(C.a)(function(){o&&(i.videoExistsCache[o]&&(i.videoExistsCache[o]=i.videoExistsCache[o].filter(function(t){return t.playlistElementId!==e})),i.runPlaylistCheck(o))}),Object(f.a)(function(t){return i.restExtractor.handleError(t)}))}},{key:"reorderPlaylist",value:function(n,e,o){var i=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/reorder",{startPosition:e,insertAfterPosition:o}).pipe(Object(p.a)(this.restExtractor.extractDataBool),Object(f.a)(function(t){return i.restExtractor.handleError(t)}))}},{key:"getPlaylistVideos",value:function(n,e){var o=this,i=t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",a=this.restService.componentPaginationToRestPagination(e),r=new h.f;return r=this.restService.addRestGetParams(r,a),this.authHttp.get(i,{params:r}).pipe(Object(b.a)(function(t){return o.extractVideoPlaylistElements(t)}),Object(f.a)(function(t){return o.restExtractor.handleError(t)}))}},{key:"listenToMyAccountPlaylistsChange",value:function(){return this.myAccountPlaylistCacheSubject.asObservable()}},{key:"listenToVideoPlaylistChange",value:function(t){var n=this;if(this.videoExistsObservableCache[t])return this.videoExistsObservableCache[t];var e=this.videoExistsInPlaylistObservable.pipe(Object(p.a)(function(n){return n[t]}),Object(g.a)(function(t){return!!t}),Object(C.a)(function(e){return n.videoExistsCache[t]=e}));return this.videoExistsObservableCache[t]=e,e}},{key:"runPlaylistCheck",value:function(t){return k("Running playlist check."),this.videoExistsCache[t]?(k("Found cache for %d.",t),this.videoExistsInPlaylistCacheSubject.next((n={},e=t,o=this.videoExistsCache[t],e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n))):(k("Fetching from network for %d.",t),this.videoExistsInPlaylistNotifier.next(t));var n,e,o}},{key:"extractPlaylists",value:function(t){return this.serverService.getServerLocale().pipe(Object(p.a)(function(n){var e,o=t.data,i=t.total,a=[],r=V(o);try{for(r.s();!(e=r.n()).done;){var c=e.value;a.push(new w.a(c,n))}}catch(l){r.e(l)}finally{r.f()}return{data:a,total:i}}))}},{key:"extractPlaylist",value:function(t){return this.serverService.getServerLocale().pipe(Object(p.a)(function(n){return new w.a(t,n)}))}},{key:"extractVideoPlaylistElements",value:function(t){return this.serverService.getServerLocale().pipe(Object(p.a)(function(n){var e,o=t.data,i=t.total,a=[],r=V(o);try{for(r.s();!(e=r.n()).done;){var c=e.value;a.push(new M.a(c,n))}}catch(l){r.e(l)}finally{r.f()}return{total:i,data:a}}))}},{key:"doVideosExistInPlaylist",value:function(n){var e=this,o=t.MY_VIDEO_PLAYLIST_URL+"videos-exist",i=new h.f;return i=this.restService.addObjectParams(i,{videoIds:n}),this.authHttp.get(o,{params:i,headers:{ignoreLoadingBar:""}}).pipe(Object(f.a)(function(t){return e.restExtractor.handleError(t)}))}}]),t}();return t.BASE_VIDEO_PLAYLIST_URL=_.a.apiUrl+"/api/v1/video-playlists/",t.MY_VIDEO_PLAYLIST_URL=_.a.apiUrl+"/api/v1/users/me/video-playlists/",t.\u0275fac=function(n){return new(n||t)(x.gc(h.b),x.gc(y.x),x.gc(y.r),x.gc(y.s),x.gc(x.B))},t.\u0275prov=x.Lb({token:t,factory:t.\u0275fac}),t}()},"BeL+":function(t,n,e){"use strict";var o=e("msdH"),i=function(t){return t!=t},a=function(t,n){return!(null==t||!t.length)&&function(t,n,e){return n==n?function(t,n,e){for(var o=-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}(t,n):function(t,n,e,o){for(var i=t.length,a=-1;++a<i;)if(n(t[a],a,t))return a;return-1}(t,i)}(t,n)>-1},r=e("ZWiB"),c=e("pVw1"),l=e("GYlH"),s=c.a&&1/Object(l.a)(new c.a([,-0]))[1]==1/0?function(t){return new c.a(t)}:function(){};n.a=function(t){return t&&t.length?function(t,n,e){var i=-1,c=a,u=t.length,d=!0,g=[],p=g;if(u>=200){var m=s(t);if(m)return Object(l.a)(m);d=!1,c=r.a,p=new o.a}else p=g;t:for(;++i<u;){var b=t[i],v=b;if(b=0!==b?b:0,d&&v==v){for(var f=p.length;f--;)if(p[f]===v)continue t;g.push(b)}else c(p,v,void 0)||(p!==g&&p.push(v),g.push(b))}return g}(t):[]}},DQE6:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e("xMQD"),i=function t(n,e){Z(this,t),this.id=n.id,this.position=n.position,this.startTimestamp=n.startTimestamp,this.stopTimestamp=n.stopTimestamp,this.type=n.type,n.video&&(this.video=new o.k(n.video,e))}},DTAc:function(t,n,e){"use strict";e.d(n,"a",function(){return B});var o=e("NOtv"),i=e("XNiG"),a=e("Kj3r"),r=e("pLZG"),c=e("ey9i"),l=e("sWvm"),s=e("H9+z"),u=e("Pehk"),d=e("4Yo8"),g=e("fXoL"),p=e("3Pt+"),m=e("ofXK"),k=e("UkmY"),S=e("/xt7"),E=e("C8Cb");function L(t,n){if(1&t){var e=g.Wb();g.Vb(0,"div",19),g.jc("click",function(t){g.Jc(e);var n=g.nc().$implicit,o=g.nc();return t.stopPropagation(),o.toggleOptionalRow(n)}),g.Qb(1,"my-global-icon",10),g.Ub()}}function I(t,n){if(1&t){var e=g.Wb();g.Vb(0,"div"),g.Vb(1,"my-peertube-checkbox",25),g.jc("click",function(t){g.Jc(e);var o=n.$implicit,i=g.Hc(3),a=g.Hc(5),r=g.nc(2).$implicit;return g.nc().toggleOptionalPlaylist(t,r,o,i.timestamp,a.timestamp)}),g.Ub(),g.Vb(2,"my-timestamp-input",26,27),g.jc("ngModelChange",function(t){return n.$implicit.startTimestamp=t})("inputBlur",function(){g.Jc(e);var t=n.$implicit,o=g.nc(2).$implicit;return g.nc().onElementTimestampUpdate(o,t)}),g.Ub(),g.Vb(4,"my-timestamp-input",26,28),g.jc("ngModelChange",function(t){return n.$implicit.stopTimestamp=t})("inputBlur",function(){g.Jc(e);var t=n.$implicit,o=g.nc(2).$implicit;return g.nc().onElementTimestampUpdate(o,t)}),g.Ub(),g.Ub()}if(2&t){var o=n.$implicit,i=g.nc(2).$implicit,a=g.nc();g.Cb(1),g.uc("inputName",a.getOptionalInputName(i,o))("ngModel",o.enabled)("onPushWorkaround",!0),g.Cb(1),g.uc("maxTimestamp",a.video.duration)("ngModel",o.startTimestamp),g.Cb(2),g.uc("maxTimestamp",a.video.duration)("ngModel",o.stopTimestamp)}}function U(t,n){if(1&t&&(g.Vb(0,"div",20),g.Vb(1,"div",21),g.Vb(2,"div"),g.Zb(3,22),g.Ub(),g.Vb(4,"div"),g.Zb(5,23),g.Ub(),g.Ub(),g.Sc(6,I,6,7,"div",24),g.Ub()),2&t){var e=g.nc().$implicit,o=g.nc();g.Cb(6),g.uc("ngForOf",o.buildOptionalRowElements(e))}}var A=function(t){return{"has-optional-row":t}};function j(t,n){if(1&t){var e=g.Wb();g.Vb(0,"div",13),g.Vb(1,"div",14),g.jc("click",function(t){g.Jc(e);var o=n.$implicit;return g.nc().toggleMainPlaylist(t,o)}),g.Qb(2,"my-peertube-checkbox",15),g.Vb(3,"label",16),g.Uc(4),g.Ub(),g.Sc(5,L,2,0,"div",17),g.Ub(),g.Sc(6,U,7,1,"div",18),g.Ub()}if(2&t){var o=n.$implicit,i=g.nc();g.uc("ngClass",g.yc(8,A,o.optionalRowDisplayed)),g.Cb(2),g.uc("disabled",i.isPresentMultipleTimes(o)||o.optionalRowDisplayed)("inputName",i.getPrimaryInputName(o))("ngModel",i.isPrimaryCheckboxChecked(o))("onPushWorkaround",!0),g.Cb(2),g.Wc(" ",o.displayName," "),g.Cb(1),g.uc("ngIf",i.isPrimaryCheckboxChecked(o)),g.Cb(1),g.uc("ngIf",o.optionalRowDisplayed)}}function R(t,n){if(1&t&&(g.Vb(0,"div",36),g.Uc(1),g.Ub()),2&t){var e=g.nc(2);g.Cb(1),g.Wc(" ",e.formErrors.displayName," ")}}var D=function(t){return{"input-error":t}};function N(t,n){if(1&t){var e=g.Wb();g.Vb(0,"form",29),g.jc("ngSubmit",function(){return g.Jc(e),g.nc().createPlaylist()}),g.Vb(1,"div",30),g.Vb(2,"label",31),g.Zb(3,32),g.Ub(),g.Qb(4,"input",33),g.Sc(5,R,2,1,"div",34),g.Ub(),g.Qb(6,"input",35),g.Ub()}if(2&t){var o=g.nc();g.uc("formGroup",o.form),g.Cb(4),g.uc("ngClass",g.yc(4,D,o.formErrors.displayName)),g.Cb(1),g.uc("ngIf",o.formErrors.displayName),g.Cb(1),g.uc("disabled",!o.form.valid)}}var z=o("peertube:playlists:VideoAddToPlaylistComponent"),B=function(){var t=function(t){x(e,t);var n=T(e);function e(t,o,a,r,c){var l;return Z(this,e),(l=n.call(this)).formValidatorService=t,l.authService=o,l.notifier=a,l.videoPlaylistService=r,l.cd=c,l.lazyLoad=!1,l.isNewPlaylistBlockOpened=!1,l.videoPlaylistSearchChanged=new i.a,l.videoPlaylists=[],l.disabled=!1,l.playlistsData=[],l}return G(e,[{key:"ngOnInit",value:function(){var t=this;this.buildForm({displayName:u.c}),this.videoPlaylistService.listenToMyAccountPlaylistsChange().subscribe(function(n){t.playlistsData=n.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)}),this.videoPlaylistSearchChanged.pipe(Object(a.a)(500)).subscribe(function(){return t.load()}),!1===this.lazyLoad&&this.load()}},{key:"ngOnChanges",value:function(t){t.video&&this.reload()}},{key:"ngOnDestroy",value:function(){this.unsubscribePlaylistChanges()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"reload",value:function(){z("Reloading component"),this.videoPlaylists=[],this.videoPlaylistSearch=void 0,this.load(),this.cd.markForCheck()}},{key:"load",value:function(){var t=this;z("Loading component"),this.listenToVideoPlaylistChange(),this.videoPlaylistService.listMyPlaylistWithCache(this.user,this.videoPlaylistSearch).subscribe(function(n){t.playlistsData=n.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)})}},{key:"openChange",value:function(t){!1===t&&(this.isNewPlaylistBlockOpened=!1)}},{key:"openCreateBlock",value:function(t){t.preventDefault(),this.isNewPlaylistBlockOpened=!0}},{key:"toggleMainPlaylist",value:function(t,n){t.preventDefault(),this.isPresentMultipleTimes(n)||n.optionalRowDisplayed||(0===n.elements.length?this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:0,stopTimestamp:this.video.duration}):(this.removeVideoFromPlaylist(n,n.elements[0].playlistElementId),n.elements=[]),this.cd.markForCheck())}},{key:"toggleOptionalPlaylist",value:function(t,n,e,o,i){t.preventDefault(),e.enabled?(this.removeVideoFromPlaylist(n,e.playlistElementId),e.enabled=!1,!1===this.isPrimaryCheckboxChecked(n)&&(n.optionalRowDisplayed=!1)):this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:o,stopTimestamp:i}),this.cd.markForCheck()}},{key:"createPlaylist",value:function(){var t=this;this.videoPlaylistService.createVideoPlaylist({displayName:this.form.value.displayName,privacy:3}).subscribe(function(){t.isNewPlaylistBlockOpened=!1,t.cd.markForCheck()},function(n){return t.notifier.error(n.message)})}},{key:"onVideoPlaylistSearchChanged",value:function(){this.videoPlaylistSearchChanged.next()}},{key:"isPrimaryCheckboxChecked",value:function(t){return 0!==t.elements.filter(function(t){return t.enabled}).length}},{key:"toggleOptionalRow",value:function(t){t.optionalRowDisplayed=!t.optionalRowDisplayed,this.cd.markForCheck()}},{key:"getPrimaryInputName",value:function(t){return"in-playlist-primary-"+t.id}},{key:"getOptionalInputName",value:function(t,n){return"in-playlist-optional-"+t.id+(n?"-"+n.playlistElementId:"")}},{key:"buildOptionalRowElements",value:function(t){var n=t.elements,e=0===n.length?void 0:n[n.length-1];return e&&!0!==e.enabled||n.push({enabled:!1,startTimestamp:0,stopTimestamp:this.video.duration}),n}},{key:"isPresentMultipleTimes",value:function(t){return t.elements.filter(function(t){return!0===t.enabled}).length>1}},{key:"onElementTimestampUpdate",value:function(t,n){var e=this;n.playlistElementId&&!1!==n.enabled&&this.videoPlaylistService.updateVideoOfPlaylist(t.id,n.playlistElementId,{startTimestamp:n.startTimestamp,stopTimestamp:n.stopTimestamp},this.video.id).subscribe(function(){e.notifier.success("Data actualizada")},function(t){e.notifier.error(t.message)},function(){return e.cd.markForCheck()})}},{key:"isOptionalRowDisplayed",value:function(t){var n=t.elements.filter(function(t){return t.enabled});if(n.length>1)return!0;if(1===n.length){var e=n[0];if(e.startTimestamp&&0!==e.startTimestamp||e.stopTimestamp&&e.stopTimestamp!==this.video.duration)return!0}return!1}},{key:"removeVideoFromPlaylist",value:function(t,n){var e=this;this.videoPlaylistService.removeVideoFromPlaylist(t.id,n,this.video.id).subscribe(function(){e.notifier.success("Vid\xE8o levada de \n          " + t.displayName + "\n        ")},function(t){e.notifier.error(t.message)},function(){return e.cd.markForCheck()})}},{key:"listenToVideoPlaylistChange",value:function(){var t=this;this.unsubscribePlaylistChanges(),this.listenToPlaylistChangeSub=this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id).pipe(Object(r.a)(function(){return!1===t.disabled})).subscribe(function(n){return t.rebuildPlaylists(n)})}},{key:"unsubscribePlaylistChanges",value:function(){this.listenToPlaylistChangeSub&&(this.listenToPlaylistChangeSub.unsubscribe(),this.listenToPlaylistChangeSub=void 0)}},{key:"rebuildPlaylists",value:function(t){var n=this;z("Got existing results for %d.",this.video.id,t);var e=this.videoPlaylists;this.videoPlaylists=[];var o,i=V(this.playlistsData);try{var a=function(){var i=o.value,a=t.filter(function(t){return t.playlistId===i.id}),r={id:i.id,optionalRowDisplayed:!1,displayName:i.displayName,elements:a.map(function(t){return{enabled:!0,playlistElementId:t.playlistElementId,startTimestamp:t.startTimestamp||0,stopTimestamp:t.stopTimestamp||n.video.duration}})},c=e.find(function(t){return t.id===i.id});r.optionalRowDisplayed=c?c.optionalRowDisplayed:n.isOptionalRowDisplayed(r),n.videoPlaylists.push(r)};for(i.s();!(o=i.n()).done;)a()}catch(r){i.e(r)}finally{i.f()}z("Rebuilt playlist state for video %d.",this.video.id,this.videoPlaylists),this.cd.markForCheck()}},{key:"addVideoInPlaylist",value:function(t,n){var e=this,o={videoId:this.video.id};n.startTimestamp&&(o.startTimestamp=n.startTimestamp),n.stopTimestamp&&n.stopTimestamp!==this.video.duration&&(o.stopTimestamp=n.stopTimestamp),this.videoPlaylistService.addVideoInPlaylist(t.id,o).subscribe(function(i){var a=o.startTimestamp||o.stopTimestamp?"Vid\xE8o ajustada a \n          " + t.displayName + " amb la data \n          " + e.formatTimestamp(n) + "\n        ":"Vid\xE8o ajustada \n          " + t.displayName + "\n        ";e.notifier.success(a),n&&(n.playlistElementId=i.videoPlaylistElement.id)},function(t){e.notifier.error(t.message)},function(){return e.cd.markForCheck()})}},{key:"formatTimestamp",value:function(t){return"(".concat(t.startTimestamp?Object(s.j)(t.startTimestamp):"","-").concat(t.stopTimestamp?Object(s.j)(t.stopTimestamp):"",")")}},{key:"user",get:function(){return this.authService.getUser()}}]),e}(l.a);return t.\u0275fac=function(n){return new(n||t)(g.Pb(l.b),g.Pb(c.a),g.Pb(c.m),g.Pb(d.a),g.Pb(g.h))},t.\u0275cmp=g.Jb({type:t,selectors:[["my-video-add-to-playlist"]],inputs:{video:"video",currentVideoTimestamp:"currentVideoTimestamp",lazyLoad:"lazyLoad"},features:[g.zb,g.Ab],decls:14,vars:4,consts:function(){return[[1,"root"],[1,"header"],[1,"first-row"],[1,"title"],"Enregistrar a",[1,"input-container"],["type","text","placeholder","Rec\xE8rca de listas de lectura",3,"ngModel","ngModelChange"],[1,"playlists"],["class","playlist dropdown-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"new-playlist-button","dropdown-item",3,"hidden","click"],["iconName","add","aria-hidden","true"],"Crear una lista de lectura privada",["class","new-playlist-block dropdown-item",3,"formGroup","ngSubmit",4,"ngIf"],[1,"playlist","dropdown-item",3,"ngClass"],[1,"primary-row",3,"click"],[3,"disabled","inputName","ngModel","onPushWorkaround"],[1,"display-name"],["class","optional-row-icon",3,"click",4,"ngIf"],["class","optional-rows",4,"ngIf"],[1,"optional-row-icon",3,"click"],[1,"optional-rows"],[1,"labels"],"Debuta a","Arr\xE8sta a",[4,"ngFor","ngForOf"],[3,"inputName","ngModel","onPushWorkaround","click"],[3,"maxTimestamp","ngModel","ngModelChange","inputBlur"],["startAt",""],["stopAt",""],[1,"new-playlist-block","dropdown-item",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],"Escais-nom",["type","text","id","displayName","formControlName","displayName",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit","value","Create",3,"disabled"],[1,"form-error"]]},template:function(t,n){1&t&&(g.Vb(0,"div",0),g.Vb(1,"div",1),g.Vb(2,"div",2),g.Vb(3,"div",3),g.Zb(4,4),g.Ub(),g.Ub(),g.Ub(),g.Vb(5,"div",5),g.Vb(6,"input",6),g.jc("ngModelChange",function(t){return n.videoPlaylistSearch=t})("ngModelChange",function(){return n.onVideoPlaylistSearchChanged()}),g.Ub(),g.Ub(),g.Vb(7,"div",7),g.Sc(8,j,7,10,"div",8),g.Ub(),g.Vb(9,"div",9),g.jc("click",function(t){return n.openCreateBlock(t)}),g.Qb(10,"my-global-icon",10),g.Vb(11,"span"),g.Zb(12,11),g.Ub(),g.Ub(),g.Sc(13,N,7,6,"form",12),g.Ub()),2&t&&(g.Cb(6),g.uc("ngModel",n.videoPlaylistSearch),g.Cb(2),g.uc("ngForOf",n.videoPlaylists),g.Cb(1),g.uc("hidden",n.isNewPlaylistBlockOpened),g.Cb(4),g.uc("ngIf",n.isNewPlaylistBlockOpened))},directives:[p.b,p.m,p.p,m.m,k.a,m.n,m.l,S.a,E.a,p.y,p.n,p.h,p.f],styles:['.dropdown-item[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]{padding:8px 24px}.dropdown-item[_ngcontent-%COMP%]:active{color:inherit}.header[_ngcontent-%COMP%]{min-width:240px;margin-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.playlists[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto}.playlist[_ngcontent-%COMP%]{padding:0}.playlist[_ngcontent-%COMP%] > .primary-row[_ngcontent-%COMP%]{padding:8px 10px 8px 24px}.playlist[_ngcontent-%COMP%] > .optional-rows[_ngcontent-%COMP%]{padding-left:24px}.playlist.has-optional-row[_ngcontent-%COMP%]:hover{background-color:inherit}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]{display:flex}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:10px;align-self:center}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;margin:0;font-weight:400;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:19px;height:19px;margin-right:0}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-right:10px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext, .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext{padding:0;width:50px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 5px 5px 10px}.optional-rows[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{display:block;width:34px;margin-right:0!important}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{margin-left:34px;font-size:13px;color:var(--greyForegroundColor);padding-top:5px;padding-bottom:0}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:50px}.new-playlist-block[_ngcontent-%COMP%], .new-playlist-button[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid rgba(0,0,0,.1)}.new-playlist-button[_ngcontent-%COMP%]{cursor:pointer}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-1px;top:-1px;margin-right:4px;width:21px;height:21px}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:200px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}'],changeDetection:0}),t}()},OsX3:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("D0XW"),i=e("7o/Q"),a=e("z+Ro");function r(t){var n=arguments.length,e=o.a;Object(a.a)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],n--);var i=null;n>=2&&(i=arguments[1]);var r=Number.POSITIVE_INFINITY;return n>=3&&(r=arguments[2]),function(n){return n.lift(new c(t,i,r,e))}}var c=function(){function t(n,e,o,i){Z(this,t),this.bufferTimeSpan=n,this.bufferCreationInterval=e,this.maxBufferSize=o,this.scheduler=i}return G(t,[{key:"call",value:function(t,n){return n.subscribe(new s(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}]),t}(),l=function t(){Z(this,t),this.buffer=[]},s=function(t){x(e,t);var n=T(e);function e(t,o,i,a,r){var c;Z(this,e),(c=n.call(this,t)).bufferTimeSpan=o,c.bufferCreationInterval=i,c.maxBufferSize=a,c.scheduler=r,c.contexts=[];var l=c.openContext();if(c.timespanOnly=null==i||i<0,c.timespanOnly)c.add(l.closeAction=r.schedule(u,o,{subscriber:E(c),context:l,bufferTimeSpan:o}));else{var s={bufferTimeSpan:o,bufferCreationInterval:i,subscriber:E(c),scheduler:r};c.add(l.closeAction=r.schedule(g,o,{subscriber:E(c),context:l})),c.add(r.schedule(d,i,s))}return c}return G(e,[{key:"_next",value:function(t){for(var n,e=this.contexts,o=e.length,i=0;i<o;i++){var a=e[i],r=a.buffer;r.push(t),r.length==this.maxBufferSize&&(n=a)}n&&this.onBufferFull(n)}},{key:"_error",value:function(t){this.contexts.length=0,m(L(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){for(var t=this.contexts,n=this.destination;t.length>0;){var o=t.shift();n.next(o.buffer)}m(L(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.contexts=null}},{key:"onBufferFull",value:function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(u,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}},{key:"openContext",value:function(){var t=new l;return this.contexts.push(t),t}},{key:"closeContext",value:function(t){this.destination.next(t.buffer);var n=this.contexts;(n?n.indexOf(t):-1)>=0&&n.splice(n.indexOf(t),1)}}]),e}(i.a);function u(t){var n=t.subscriber,e=t.context;e&&n.closeContext(e),n.closed||(t.context=n.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function d(t){var n=t.bufferCreationInterval,e=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,a=o.openContext();o.closed||(o.add(a.closeAction=i.schedule(g,e,{subscriber:o,context:a})),this.schedule(t,n))}function g(t){var n=t.subscriber,e=t.context;n.closeContext(e)}},PcNq:function(t,n,e){"use strict";e.d(n,"a",function(){return c}),e("qZuT");var o,i=e("P8w3"),a=e("Nmku"),r=e("fXoL"),c=((o=function t(){Z(this,t)}).\u0275mod=r.Nb({type:o}),o.\u0275inj=r.Mb({factory:function(t){return new(t||o)},providers:[],imports:[[a.a,i.a]]}),o)},Pehk:function(t,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"a",function(){return m}),e.d(n,"e",function(){return b});var o=e("3Pt+"),i={VALIDATORS:[o.w.required,o.w.minLength(1),o.w.maxLength(120)],MESSAGES:{required:"L\u2019escais-nom es requesit.",minlength:"Lo nom public deu almens cont\xE9ner 1 caract\xE8r.",maxlength:"L\u2019escais-nom p\xF2t pas cont\xE9ner mai de 120 caract\xE8rs."}},a={VALIDATORS:[o.w.required],MESSAGES:{required:"La confidencialitat es requesida."}},r={VALIDATORS:[o.w.minLength(3),o.w.maxLength(1e3)],MESSAGES:{minlength:"La descripcion deu almens cont\xE9ner 3 caract\xE8rs.",maxlength:"La descripcion p\xF2t pas cont\xE9ner mai de 1000 caract\xE8rs."}},m={VALIDATORS:[],MESSAGES:{required:"La cadena es requesida quand la lista de lectura es publica."}};function b(t,n){n.toString()===1..toString()?t.setValidators([o.w.required]):t.setValidators(null),t.markAsDirty(),t.updateValueAndValidity()}},SZgj:function(t,n,e){"use strict";e("DTAc"),e("2Qox"),e("DQE6"),e("dTdE"),e("a9tR");var o=e("4Yo8");e.d(n,"b",function(){return o.a});var i=e("aW0q");e.d(n,"a",function(){return i.a})},a9tR:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("6rF9"),i=e("xMQD"),a=e("UozT"),r=function(){function t(n,e){Z(this,t);var r=Object(o.e)();this.id=n.id,this.uuid=n.uuid,this.isLocal=n.isLocal,this.displayName=n.displayName,this.description=n.description,this.privacy=n.privacy,this.thumbnailPath=n.thumbnailPath,this.thumbnailPath?(this.thumbnailUrl=r+n.thumbnailPath,this.originThumbnailUrl=this.thumbnailUrl):this.thumbnailUrl=window.location.origin+"/client/assets/images/default-playlist.jpg",this.embedPath=n.embedPath,this.embedUrl=Object(o.f)()+n.embedPath,this.videosLength=n.videosLength,this.type=n.type,this.createdAt=new Date(n.createdAt),this.updatedAt=new Date(n.updatedAt),this.ownerAccount=n.ownerAccount,this.ownerBy=i.c.CREATE_BY_STRING(n.ownerAccount.name,n.ownerAccount.host),this.ownerAvatarUrl=i.a.GET_ACTOR_AVATAR_URL(this.ownerAccount),n.videoChannel&&(this.videoChannel=n.videoChannel,this.videoChannelBy=i.c.CREATE_BY_STRING(n.videoChannel.name,n.videoChannel.host),this.videoChannelAvatarUrl=i.m.GET_ACTOR_AVATAR_URL(this.videoChannel)),this.privacy.label=Object(a.h)(this.privacy.label,e),2===this.type.id&&(this.displayName=Object(a.h)(this.displayName,e))}return G(t,[{key:"refreshThumbnail",value:function(){this.originThumbnailUrl&&(this.thumbnailVersion||(this.thumbnailVersion=0),this.thumbnailVersion++,this.thumbnailUrl=this.originThumbnailUrl+"?v"+this.thumbnailVersion)}}]),t}()},aW0q:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var o=e("sWvm"),i=e("P8w3"),a=e("Nmku"),r=e("PcNq"),c=e("4Yo8"),l=e("fXoL"),s=function(){var t=function t(){Z(this,t)};return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(n){return new(n||t)},providers:[c.a],imports:[[a.a,o.c,r.a,i.a]]}),t}()},dTdE:function(t,n,e){"use strict";e.d(n,"a",function(){return b}),e("a9tR");var o=e("fXoL"),c=e("ofXK"),l=e("tyNb"),s=e("LsvZ"),u=function(t){return["/video-channels",t]};function d(t,n){if(1&t&&(o.Vb(0,"a",15),o.Zb(1,16),o.Ub()),2&t){var e=o.nc();o.uc("routerLink",o.yc(2,u,e.playlist.videoChannelBy)),o.Cb(1),o.dc(e.playlist.videoChannelBy),o.ac(1)}}function g(t,n){if(1&t&&(o.Vb(0,"span",17),o.Uc(1),o.Ub()),2&t){var e=o.nc();o.Cb(1),o.Vc(e.playlist.privacy.label)}}function p(t,n){if(1&t&&(o.Vb(0,"div",18),o.Uc(1),o.Ub()),2&t){var e=o.nc();o.Cb(1),o.Vc(e.playlist.description)}}var m=function(t,n){return{"no-videos":t,"to-manage":n}},b=function(){var t=function(){function t(){Z(this,t),this.toManage=!1,this.displayChannel=!1,this.displayDescription=!1,this.displayPrivacy=!1}return G(t,[{key:"getPlaylistUrl",value:function(){return this.toManage?["/my-library/video-playlists",this.playlist.uuid]:0===this.playlist.videosLength?null:["/videos/watch/playlist",this.playlist.uuid]}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["my-video-playlist-miniature"]],inputs:{playlist:"playlist",toManage:"toManage",displayChannel:"displayChannel",displayDescription:"displayDescription",displayPrivacy:"displayPrivacy"},decls:18,vars:19,consts:function(){var t;return t="{VAR_PLURAL, plural, =0 {Cap de vid\xE8o} =1 {1 vid\xE8o} other {{INTERPOLATION} vid\xE8os}}\n        ",[[1,"miniature",3,"ngClass"],[1,"miniature-thumbnail",3,"routerLink"],["alt",""],[1,"miniature-playlist-info-overlay"],t=o.ec(t,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[1,"play-overlay"],[1,"icon"],[1,"miniature-info"],["tabindex","-1",1,"miniature-name",3,"routerLink"],["class","by",3,"routerLink",4,"ngIf"],[1,"privacy-date"],["class","video-info-privacy",4,"ngIf"],[1,"updated-at"],"Actualizada \n          " + "\ufffd0\ufffd" + "\n        ",["class","video-info-description",4,"ngIf"],[1,"by",3,"routerLink"],"\n          " + "\ufffd0\ufffd" + "\n        ",[1,"video-info-privacy"],[1,"video-info-description"]]},template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"a",1),o.Qb(2,"img",2),o.Vb(3,"div",3),o.Tb(4),o.Zb(5,4),o.Sb(),o.Ub(),o.Vb(6,"div",5),o.Qb(7,"div",6),o.Ub(),o.Ub(),o.Vb(8,"div",7),o.Vb(9,"a",8),o.Uc(10),o.Ub(),o.Sc(11,d,2,4,"a",9),o.Vb(12,"div",10),o.Sc(13,g,2,1,"span",11),o.Vb(14,"span",12),o.Zb(15,13),o.oc(16,"myFromNow"),o.Ub(),o.Ub(),o.Sc(17,p,2,1,"div",14),o.Ub(),o.Ub()),2&t&&(o.uc("ngClass",o.zc(16,m,0===n.playlist.videosLength,n.toManage)),o.Cb(1),o.uc("routerLink",n.getPlaylistUrl()),o.Db("title",n.playlist.description),o.Cb(1),o.Db("aria-labelledby",n.playlist.displayName)("src",n.playlist.thumbnailUrl,o.Lc),o.Cb(3),o.dc(n.playlist.videosLength)(n.playlist.videosLength),o.ac(5),o.Cb(4),o.uc("routerLink",n.getPlaylistUrl()),o.Db("title",n.playlist.description),o.Cb(1),o.Wc(" ",n.playlist.displayName," "),o.Cb(1),o.uc("ngIf",n.displayChannel&&n.playlist.videoChannelBy),o.Cb(2),o.uc("ngIf",n.displayPrivacy),o.Cb(3),o.dc(o.pc(16,14,n.playlist.updatedAt)),o.ac(15),o.Cb(1),o.uc("ngIf",n.displayDescription))},directives:[c.l,l.k,c.n],pipes:[s.a],styles:['.miniature[_ngcontent-%COMP%]{display:inline-block}.miniature.no-videos[_ngcontent-%COMP%]:not(.to-manage)   a[_ngcontent-%COMP%]{cursor:default!important}.miniature.no-videos[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature.to-manage[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{display:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .miniature-playlist-info-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;right:0;bottom:0;height:122px;padding:0 10px;display:flex;align-items:center;font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]{width:200px;margin-top:2px;line-height:normal}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]{max-height:2.2em;font-size:1.1em;line-height:1.1em;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin:0}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name.blur-filter[_ngcontent-%COMP%]{filter:blur(3px);padding-left:4px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]{display:block;color:var(--greyForegroundColor)}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:active, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:focus, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]{margin-top:5px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]:after{content:"-";margin:0 3px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin-top:10px;color:var(--greyForegroundColor)}']}),t}()},qZuT:function(i,a,r){"use strict";r.d(a,"a",function(){return L});var c=r("fXoL"),l=r("ey9i"),s=(r("xMQD"),r("ofXK")),u=r("tyNb"),d=r("1kSV"),g=r("UkmY");function p(t,n){1&t&&c.Rb(0)}function m(t,n){if(1&t&&(c.Vb(0,"a",3),c.Sc(1,p,1,0,"ng-container",4),c.Ub()),2&t){var e=c.nc(),o=c.Hc(3);c.uc("routerLink",e.getVideoRouterLink())("queryParams",e.queryParams),c.Cb(1),c.uc("ngTemplateOutlet",o)}}function b(t,n){1&t&&c.Rb(0)}function v(t,n){if(1&t&&(c.Vb(0,"a",5),c.Sc(1,b,1,0,"ng-container",4),c.Ub()),2&t){var e=c.nc(),o=c.Hc(3);c.uc("href",e.videoHref,c.Lc)("target",e.videoTarget),c.Cb(1),c.uc("ngTemplateOutlet",o)}}function f(t,n){if(1&t){var e=c.Wb();c.Tb(0),c.Vb(1,"div",17),c.jc("click",function(t){return c.Jc(e),c.nc(3).onWatchLaterClick(t)}),c.Qb(2,"my-global-icon",18),c.Ub(),c.Sb()}if(2&t){var o=c.nc(3);c.Cb(1),c.uc("ngbTooltip",o.addToWatchLaterText),c.Cb(1),c.Db("aria-label",o.addToWatchLaterText)}}function C(t,n){if(1&t){var e=c.Wb();c.Tb(0),c.Vb(1,"div",17),c.jc("click",function(t){return c.Jc(e),c.nc(3).onWatchLaterClick(t)}),c.Qb(2,"my-global-icon",19),c.Ub(),c.Sb()}if(2&t){var o=c.nc(3);c.Cb(1),c.uc("ngbTooltip",o.addedToWatchLaterText),c.Cb(1),c.Db("aria-label",o.addedToWatchLaterText)}}function h(t,n){if(1&t&&(c.Vb(0,"div",15),c.Sc(1,f,3,2,"ng-container",16),c.Sc(2,C,3,2,"ng-container",16),c.Ub()),2&t){var e=c.nc(2);c.Cb(1),c.uc("ngIf",!0!==e.inWatchLaterPlaylist),c.Cb(1),c.uc("ngIf",!0===e.inWatchLaterPlaylist)}}function y(t,n){if(1&t&&(c.Vb(0,"div",20),c.Uc(1),c.Ub()),2&t){var e=c.nc(2);c.Cb(1),c.Vc(e.video.durationLabel)}}function P(t,n){1&t&&(c.Tb(0),c.Zb(1,22),c.Sb())}function O(t,n){1&t&&(c.Tb(0),c.Zb(1,23),c.Sb())}var _=function(t){return{"live-ended":t}};function M(t,n){if(1&t&&(c.Vb(0,"div",21),c.Sc(1,P,2,0,"ng-container",16),c.Sc(2,O,2,0,"ng-container",16),c.Ub()),2&t){var e=c.nc(2);c.uc("ngClass",c.yc(3,_,e.isLiveEnded())),c.Cb(1),c.uc("ngIf",!e.isLiveEnded()),c.Cb(1),c.uc("ngIf",e.isLiveEnded())}}var w=function(t){return{"width.%":t}};function x(t,n){if(1&t&&(c.Vb(0,"div",24),c.Qb(1,"div",25),c.Ub()),2&t){var e=c.nc(2);c.Cb(1),c.uc("ngStyle",c.yc(1,w,e.getProgressPercent()))}}var k=function(t){return{"blur-filter":t}};function T(t,n){if(1&t&&(c.Qb(0,"img",6),c.Sc(1,h,3,2,"div",7),c.Vb(2,"div",8),c.sc(3),c.Ub(),c.Vb(4,"div",9),c.sc(5,1),c.Ub(),c.Sc(6,y,2,1,"div",10),c.Sc(7,M,3,5,"div",11),c.Vb(8,"div",12),c.Qb(9,"div",13),c.Ub(),c.Sc(10,x,2,3,"div",14)),2&t){var e=c.nc();c.uc("ngClass",c.yc(7,k,e.nsfw)),c.Db("aria-label",e.video.name)("src",e.getImageUrl(),c.Lc),c.Cb(1),c.uc("ngIf",e.displayWatchLaterPlaylist),c.Cb(5),c.uc("ngIf",!e.video.isLive),c.Cb(1),c.uc("ngIf",e.video.isLive),c.Cb(3),c.uc("ngIf",null==e.video.userHistory?null:e.video.userHistory.currentTime)}}var S=[[["label-warning"]],[["label-danger"]]],E=["label-warning","label-danger"],L=function(){var i=function(){function t(n){Z(this,t),this.screenService=n,this.nsfw=!1,this.watchLaterClick=new c.n,this.addToWatchLaterText="Agachar mai tard",this.addedToWatchLaterText="Agachar pas mai tard"}return G(t,[{key:"isLiveEnded",value:function(){if(this.video.state)return 5===this.video.state.id}},{key:"getImageUrl",value:function(){return this.video?this.screenService.isInMobileView()?this.video.previewUrl:this.video.thumbnailUrl:""}},{key:"getProgressPercent",value:function(){return this.video.userHistory?this.video.userHistory.currentTime/this.video.duration*100:0}},{key:"getVideoRouterLink",value:function(){return this.videoRouterLink?this.videoRouterLink:["/videos/watch",this.video.uuid]}},{key:"onWatchLaterClick",value:function(t){return this.watchLaterClick.emit(this.inWatchLaterPlaylist),t.stopPropagation(),!1}}]),t}();return i.\u0275fac=function(t){return new(t||i)(c.Pb(l.v))},i.\u0275cmp=c.Jb({type:i,selectors:[["my-video-thumbnail"]],inputs:{video:"video",nsfw:"nsfw",videoRouterLink:"videoRouterLink",queryParams:"queryParams",videoHref:"videoHref",videoTarget:"videoTarget",displayWatchLaterPlaylist:"displayWatchLaterPlaylist",inWatchLaterPlaylist:"inWatchLaterPlaylist"},outputs:{watchLaterClick:"watchLaterClick"},ngContentSelectors:E,decls:4,vars:2,consts:function(){return[["class","video-thumbnail",3,"routerLink","queryParams",4,"ngIf"],["class","video-thumbnail",3,"href","target",4,"ngIf"],["aContent",""],[1,"video-thumbnail",3,"routerLink","queryParams"],[4,"ngTemplateOutlet"],[1,"video-thumbnail",3,"href","target"],["alt","",3,"ngClass"],["class","video-thumbnail-actions-overlay",4,"ngIf"],[1,"video-thumbnail-label-overlay","warning"],[1,"video-thumbnail-label-overlay","danger"],["class","video-thumbnail-duration-overlay",4,"ngIf"],["class","video-thumbnail-live-overlay",3,"ngClass",4,"ngIf"],[1,"play-overlay"],[1,"icon"],["class","progress-bar",4,"ngIf"],[1,"video-thumbnail-actions-overlay"],[4,"ngIf"],["placement","left","container","body",1,"video-thumbnail-watch-later-overlay",3,"ngbTooltip","click"],["iconName","clock","role","button"],["iconName","tick","role","button"],[1,"video-thumbnail-duration-overlay"],[1,"video-thumbnail-live-overlay",3,"ngClass"],"LIVE","LIVE ENDED",[1,"progress-bar"],[3,"ngStyle"]]},template:function(t,n){1&t&&(c.tc(S),c.Sc(0,m,2,3,"a",0),c.Sc(1,v,2,3,"a",1),c.Sc(2,T,11,9,"ng-template",null,2,c.Tc)),2&t&&(c.uc("ngIf",!n.videoHref),c.Cb(1),c.uc("ngIf",n.videoHref))},directives:[s.n,u.k,s.s,s.l,d.z,g.a,s.o],styles:['.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;bottom:0;background-color:rgba(0,0,0,.2)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--mainColor)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;border-radius:3px;font-size:12px;font-weight:600;line-height:1.2;z-index:10}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;font-weight:700}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.warning[_ngcontent-%COMP%]{background-color:orange}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.danger[_ngcontent-%COMP%]{background-color:red}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 3px;right:5px;bottom:5px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]{font-weight:600;color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]:not(.live-ended){background-color:rgba(224,8,8,.7)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{padding:3px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),i}()}}])}();