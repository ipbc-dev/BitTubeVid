!function(){function t(){var n=xn([":\u241fac3a02ecd20f41278f1ef7c03f45c1117b4b796d\u241f5910455707959454672:Torrent (.torrent file)"]);return t=function(){return n},n}function n(){var t=xn([":\u241f8d6a41c2703bed3edfc76e1df0b1ca203404c17c\u241f6316149158173629264:Direct download"]);return n=function(){return t},t}function e(){var t=xn([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return e=function(){return t},t}function o(){var t=xn([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return o=function(){return t},t}function i(){var t=xn([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return i=function(){return t},t}function c(){var t=xn([":\u241f697b93fd14fd3c85be79056c6d7f459da204eff1\u241f5496771215105419189:Audio stream"]);return c=function(){return t},t}function r(){var t=xn([":\u241f01504bc3847894e0816ec486648854d3835f91b0\u241f7385834259346199883:Video stream"]);return r=function(){return t},t}function a(){var t=xn([":\u241f7722a92a1fc887570b4f4d8a7bb916f067f32028\u241f7513076467032912668:Format"]);return a=function(){return t},t}function l(){var t=xn([":\u241fe53246788ffa2660a170aa859691a55576df2e6c\u241f1006562256968398209:video"]);return l=function(){return t},t}function s(){var t=xn([":\u241f7cdda05962b3123483985a6fe7da45a7a564ecf9\u241f5235042777215655908:subtitles"]);return s=function(){return t},t}function u(){var t=xn([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return u=function(){return t},t}function d(){var t=xn([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return d=function(){return t},t}function g(){var t=xn([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return g=function(){return t},t}function b(){var t=xn(["subtitles"]);return b=function(){return t},t}function v(){var t=xn(["video"]);return v=function(){return t},t}function p(){var t=xn(["Channel Layout"]);return p=function(){return t},t}function f(){var t=xn(["Sample rate"]);return f=function(){return t},t}function m(){var t=xn(["Pixel format"]);return m=function(){return t},t}function h(){var t=xn(["Average frame rate"]);return h=function(){return t},t}function C(){var t=xn(["Aspect ratio"]);return C=function(){return t},t}function O(){var t=xn(["Resolution"]);return O=function(){return t},t}function P(){var t=xn(["Bitrate"]);return P=function(){return t},t}function y(){var t=xn(["Profile"]);return y=function(){return t},t}function M(){var t=xn(["Codec"]);return M=function(){return t},t}function _(){var t=xn(["Bitrate"]);return _=function(){return t},t}function k(){var t=xn(["Size"]);return k=function(){return t},t}function w(){var t=xn(["Format name"]);return w=function(){return t},t}function x(){var t=xn(["Encoder"]);return x=function(){return t},t}function T(){var t=xn(["Copied"]);return T=function(){return t},t}function S(){var t=xn(["Cannot load more videos. Try again later."]);return S=function(){return t},t}function V(){var t=xn(["Older"]);return V=function(){return t},t}function D(){var t=xn(["Last month"]);return D=function(){return t},t}function I(){var t=xn(["Last week"]);return I=function(){return t},t}function L(){var t=xn(["Yesterday"]);return L=function(){return t},t}function A(){var t=xn(["Today"]);return A=function(){return t},t}function E(){var t=xn(["Remove from watch later"]);return E=function(){return t},t}function R(){var t=xn(["Add to watch later"]);return R=function(){return t},t}function W(){var t=xn([":\u241fc590f63488a5179f20a46930cf5e673f8136673d\u241f3563604323510264549: You can interact with this via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the current URL in the search box and interact with it there. "]);return W=function(){return t},t}function z(){var t=xn([":\u241f01cf713559c39a17cf5c8fbcd33b004a77ce0963\u241f7929951238559799425: You can subscribe to the channel via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the channel URL in the search box and subscribe there. "]);return z=function(){return t},t}function U(){var t=xn([":\u241f4913054c95f5ba14c351ab1b787f7abac97bfdd3\u241f6146724100981538416:",":START_TAG_SPAN:Remote subscribe",":CLOSE_TAG_SPAN:",":START_TAG_SPAN_1:Remote interact",":CLOSE_TAG_SPAN:"]);return U=function(){return t},t}function j(){var t=xn([":\u241f4999ffd919bb9af482aa4c53badd6cd654468582\u241f5179071816818927117: ",":INTERPOLATION: "]);return j=function(){return t},t}function N(){var t=xn([":\u241fa3550f6ce98d90d2947fe062530629dc2d3923b4\u241f3203614451463812160:Updated ",":INTERPOLATION:"]);return N=function(){return t},t}function F(){var t=xn([":\u241f99dea2d567d6e6d610d97608c3850ddb76df9a9a\u241f5081568645420228073:{VAR_PLURAL, plural, =0 {No videos} =1 {1 video} other {{INTERPOLATION} videos}}"]);return F=function(){return t},t}function B(){var t=xn([":\u241ffb8aad312b72bbb7e5a1e2cc0b55fae8962bf0fb\u241f8699434297868700883: Cancel "]);return B=function(){return t},t}function $(){var t=xn([":\u241fc31161d1661884f54fbc5635aad5ce8d4803897e\u241f834805431202576194:No results."]);return $=function(){return t},t}function H(){var t=xn(["The channel is required when the playlist is public."]);return H=function(){return t},t}function K(){var t=xn(["Description cannot be more than 1000 characters long."]);return K=function(){return t},t}function Q(){var t=xn(["Description must be at least 3 characters long."]);return Q=function(){return t},t}function X(){var t=xn(["Privacy is required."]);return X=function(){return t},t}function Y(){var t=xn(["Display name cannot be more than 120 characters long."]);return Y=function(){return t},t}function G(){var t=xn(["Display name must be at least 1 character long."]);return G=function(){return t},t}function q(){var t=xn(["Display name is required."]);return q=function(){return t},t}function Z(t,n,e){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var o=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=ln(t)););return t}(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(e):i.value}})(t,n,e||t)}function J(){var t=xn([":\u241ffb8ccb136ab0ad1ff1dfbce739198be16a814f87\u241f7658055747211075451: Sensitive "]);return J=function(){return t},t}function tt(){var t=xn([":\u241f1d3781d7296d4b4e04e7f023aec1052fb2955c4d\u241f9081463435738465430:Blocked"]);return tt=function(){return t},t}function nt(){var t=xn([":\u241ff73a82bb90c6c856cc0d2e3b2f5c109460074912\u241f6036644346758517049:{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} views}}"]);return nt=function(){return t},t}function et(){var t=xn([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return et=function(){return t},t}function ot(){var t=xn([":\u241f4b3963c6d0863118fe9e9e33447d12be3c2db081\u241f7539427273132299890:Unlisted"]);return ot=function(){return t},t}function it(){var t=xn(["To import"]);return it=function(){return t},t}function ct(){var t=xn(["To transcode"]);return ct=function(){return t},t}function rt(){var t=xn(["Waiting transcoding"]);return rt=function(){return t},t}function at(){var t=xn(["Publication scheduled on "]);return at=function(){return t},t}function lt(){var t=xn(["Published"]);return lt=function(){return t},t}function st(){var t=xn([""," (channel page)"]);return st=function(){return t},t}function ut(){var t=xn(["Mute account"]);return ut=function(){return t},t}function dt(){var t=xn(["Report"]);return dt=function(){return t},t}function gt(){var t=xn(["Delete"]);return gt=function(){return t},t}function bt(){var t=xn(["Mirror"]);return bt=function(){return t},t}function vt(){var t=xn(["Unblock"]);return vt=function(){return t},t}function pt(){var t=xn(["Block"]);return pt=function(){return t},t}function ft(){var t=xn(["Update"]);return ft=function(){return t},t}function mt(){var t=xn(["Download"]);return mt=function(){return t},t}function ht(){var t=xn(["Save to playlist"]);return ht=function(){return t},t}function Ct(){var t=xn(["Account "," muted."]);return Ct=function(){return t},t}function Ot(){var t=xn(["This video will be duplicated by your instance."]);return Ot=function(){return t},t}function Pt(){var t=xn(["Video "," deleted."]);return Pt=function(){return t},t}function yt(){var t=xn(["Delete"]);return yt=function(){return t},t}function Mt(){var t=xn(["Do you really want to delete this video?"]);return Mt=function(){return t},t}function _t(){var t=xn(["Video "," unblocked."]);return _t=function(){return t},t}function kt(){var t=xn(["Unblock"]);return kt=function(){return t},t}function wt(){var t=xn(["Do you really want to unblock this video? It will be available again in the videos list."]);return wt=function(){return t},t}function xt(){var t=xn([":\u241fe7adf422424a61b71465d183f9d44bf956482ef0\u241f1740917574463702967:Subscribe with your local account"]);return xt=function(){return t},t}function Tt(){var t=xn([":\u241fc7e2b4c04a0459ebc4d2e54e419abb679bc713f2\u241f6691897331062834756:Subscribe with an account on this instance"]);return Tt=function(){return t},t}function St(){var t=xn([":\u241fe01bfa3629e2133dbf307975446bde047eb8bd1f\u241f6022298687141016498:{VAR_SELECT, select, undefined {Unsubscribe} other {Unsubscribe from all channels}}"]);return St=function(){return t},t}function Vt(){var t=xn([":\u241fc33a843e309de9d67771aa5e666f61e92f4c6216\u241f7542242186854344789:channels subscribed"]);return Vt=function(){return t},t}function Dt(){var t=xn([":\u241f6e215e23505768151b501b7e11dd5b864e604fd9\u241f5432070253720498105:Subscribe to all channels"]);return Dt=function(){return t},t}function It(){var t=xn([":\u241fd0336848b0c375a1c25ba369b3481ee383217a4f\u241f1144407473317535723:Subscribe"]);return It=function(){return t},t}function Lt(){var t=xn([":\u241fd5e5bc7d213694fc0414a76f0ff3085bae44268a\u241f7695158742270602420:Subscribe via RSS"]);return Lt=function(){return t},t}function At(){var t=xn([":\u241fd8758664cadd6452256ca25ca0c7259074f427c1\u241f2949829240129672512:Using a syndication feed"]);return At=function(){return t},t}function Et(){var t=xn([":\u241f5047522cc670b1f4a288bce07f9b1c5061e913ed\u241f8503291206158041343:Subscribe with a Mastodon account:"]);return Et=function(){return t},t}function Rt(){var t=xn([":\u241f9b3287f52c239cad05ec98391553e5052ba1aa66\u241f1779391511451594552:Using an ActivityPub account"]);return Rt=function(){return t},t}function Wt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],o=!0,i=!1,c=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(e.push(r.value),!n||e.length!==n);o=!0);}catch(l){i=!0,c=l}finally{try{o||null==a.return||a.return()}finally{if(i)throw c}}return e}(t,n)||un(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(){var t=xn(["Unsubscribed"]);return zt=function(){return t},t}function Ut(){var t=xn(["Unsubscribed from ",""]);return Ut=function(){return t},t}function jt(){var t=xn(["Unsubscribed from all channels of ",""]);return jt=function(){return t},t}function Nt(t){return function(t){if(Array.isArray(t))return dn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||un(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(){var t=xn(["Subscribed"]);return Ft=function(){return t},t}function Bt(){var t=xn(["Subscribed to ",". You will be notified of all their new videos."]);return Bt=function(){return t},t}function $t(){var t=xn(["Subscribed to all current channels of ",". You will be notified of all their new videos."]);return $t=function(){return t},t}function Ht(){var t=xn([":\u241f70a67e04629f6d412db0a12d51820b480788d795\u241f5674286808255988565:Create"]);return Ht=function(){return t},t}function Kt(){var t=xn([":\u241fbc155f9fc3be3f32083f19b2c77d4ad3b696d9b9\u241f2409672154570643758:Display name"]);return Kt=function(){return t},t}function Qt(){var t=xn([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return Qt=function(){return t},t}function Xt(){var t=xn([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return Xt=function(){return t},t}function Yt(){var t=xn([":\u241f19fc45e7e0cab63a8c4422ea7158bf5c6228cee4\u241f6056859576122955708:Create a private playlist"]);return Yt=function(){return t},t}function Gt(){var t=xn([":\u241f8efba03f22550a671ee2c2c6dfd1ff03ea047700\u241f5201790281220738609:Search playlists"]);return Gt=function(){return t},t}function qt(){var t=xn([":\u241fb2b638f4333842009c258a23e59dbe4160d1e566\u241f5924559757556526785:Save to"]);return qt=function(){return t},t}function Zt(){var t=xn(["Video added in ",""]);return Zt=function(){return t},t}function Jt(){var t=xn(["Video added in "," at timestamps ",""]);return Jt=function(){return t},t}function tn(){var t=xn(["Video removed from ",""]);return tn=function(){return t},t}function nn(){var t=xn(["Timestamps updated"]);return nn=function(){return t},t}function en(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&on(t,n)}function on(t,n){return(on=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function cn(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=ln(t);if(n){var i=ln(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return rn(this,e)}}function rn(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?an(t):n}function an(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=un(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){a=!0,c=t},f:function(){try{r||null==e.return||e.return()}finally{if(a)throw c}}}}function un(t,n){if(t){if("string"==typeof t)return dn(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?dn(t,n):void 0}}function dn(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function gn(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function bn(){var t=xn([":\u241f52c9a103b812f258bcddc3d90a6e3f46871d25fe\u241f3768927257183755959:Save"]);return bn=function(){return t},t}function vn(){var t=xn([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return vn=function(){return t},t}function pn(){var t=xn([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return pn=function(){return t},t}function fn(){var t=xn([":\u241f2edccfda908b57c073dc0811eaa58818de2be2dc\u241f5263519165976128456:Edit starts/stops at"]);return fn=function(){return t},t}function mn(){var t=xn([":\u241fb9dee3108a18796bd69c6be316c8fb985b58fb8e\u241f7387472152909081455:Delete from ",":INTERPOLATION:"]);return mn=function(){return t},t}function hn(){var t=xn([":\u241f28df1b02fd88d2deb0212bc5d7ff34cf9492fa54\u241f6381490568322624964:Deleted"]);return hn=function(){return t},t}function Cn(){var t=xn([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return Cn=function(){return t},t}function On(){var t=xn([":\u241f15c02cb6b6c3be53477e502d3e1ee26955b23af0\u241f5643561794785412000:Unavailable"]);return On=function(){return t},t}function Pn(){var t=xn([" and stops at "]);return Pn=function(){return t},t}function yn(){var t=xn(["Starts at "]);return yn=function(){return t},t}function Mn(){var t=xn(["Stops at "]);return Mn=function(){return t},t}function _n(){var t=xn(["Starts at "]);return _n=function(){return t},t}function kn(){var t=xn(["Timestamps updated"]);return kn=function(){return t},t}function wn(){var t=xn(["Video removed from ",""]);return wn=function(){return t},t}function xn(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function Tn(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Sn(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vn(t,n,e){return n&&Sn(t.prototype,n),e&&Sn(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2Qox":function(t,n,e){"use strict";e.d(n,"a",(function(){return E}));var o=e("fXoL"),i=e("ey9i"),c=e("H9+z"),r=(e("DQE6"),e("a9tR"),e("4Yo8")),a=e("ofXK"),l=e("tyNb"),s=e("UkmY"),u=e("qZuT"),d=e("l9Pe"),g=e("1kSV"),b=e("/xt7"),v=e("3Pt+"),p=e("C8Cb"),f=["moreDropdown"];function m(t,n){1&t&&o.Rb(0,"my-global-icon",11)}function h(t,n){if(1&t&&(o.Ub(0),o.Vc(1),o.Tb()),2&t){var e=o.oc();o.Db(1),o.Wc(e.position)}}function C(t,n){if(1&t&&o.Rb(0,"my-video-thumbnail",12),2&t){var e=o.oc();o.vc("video",e.playlistElement.video)("nsfw",e.isVideoBlur(e.playlistElement.video))("videoRouterLink",e.buildRouterLink())("queryParams",e.buildRouterQuery())}}function O(t,n){1&t&&o.Rb(0,"div",13)}var P=function(t){return["/accounts",t]};function y(t,n){if(1&t&&(o.Wb(0,"a",18),o.Vc(1),o.Vb()),2&t){var e=o.oc(2);o.vc("routerLink",o.zc(2,P,e.playlistElement.video.byAccount)),o.Db(1),o.Xc(" ",e.playlistElement.video.byAccount," ")}}function M(t,n){if(1&t&&(o.Wb(0,"span",19),o.Vc(1),o.Vb()),2&t){var e=o.oc(2);o.Db(1),o.Wc(e.playlistElement.video.byAccount)}}function _(t,n){if(1&t&&(o.Ub(0),o.Wb(1,"a",14),o.Vc(2),o.Vb(),o.Tc(3,y,2,4,"a",15),o.Tc(4,M,2,1,"span",16),o.Wb(5,"span",17),o.Vc(6),o.Vb(),o.Tb()),2&t){var e=o.oc();o.Db(1),o.vc("routerLink",e.buildRouterLink())("queryParams",e.buildRouterQuery()),o.Eb("title",e.playlistElement.video.name),o.Db(1),o.Wc(e.playlistElement.video.name),o.Db(1),o.vc("ngIf",e.accountLink),o.Db(1),o.vc("ngIf",!e.accountLink),o.Db(2),o.Wc(e.formatTimestamp(e.playlistElement))}}function k(t,n){1&t&&(o.Ub(0),o.ac(1,21),o.Tb())}function w(t,n){1&t&&(o.Ub(0),o.ac(1,22),o.Tb())}function x(t,n){1&t&&(o.Ub(0),o.ac(1,23),o.Tb())}function T(t,n){if(1&t&&(o.Wb(0,"span",20),o.Tc(1,k,2,0,"ng-container",4),o.Tc(2,w,2,0,"ng-container",4),o.Tc(3,x,2,0,"ng-container",4),o.Vb()),2&t){var e=o.oc();o.Db(1),o.vc("ngIf",e.isUnavailable(e.playlistElement)),o.Db(1),o.vc("ngIf",e.isPrivate(e.playlistElement)),o.Db(1),o.vc("ngIf",e.isDeleted(e.playlistElement))}}var S=function(t){return["/my-account","video-playlists",t]};function V(t,n){if(1&t&&o.Rb(0,"my-edit-button",24),2&t){var e=o.oc();o.vc("routerLink",o.zc(1,S,e.playlist.uuid))}}function D(t,n){if(1&t){var e=o.Xb();o.Wb(0,"div",35),o.Wb(1,"div"),o.Wb(2,"my-peertube-checkbox",36),o.cc(3,37),o.kc("ngModelChange",(function(t){return o.Kc(e),o.oc(3).timestampOptions.startTimestampEnabled=t})),o.Vb(),o.Wb(4,"my-timestamp-input",38),o.kc("ngModelChange",(function(t){return o.Kc(e),o.oc(3).timestampOptions.startTimestamp=t})),o.Vb(),o.Vb(),o.Wb(5,"div"),o.Wb(6,"my-peertube-checkbox",39),o.cc(7,40),o.kc("ngModelChange",(function(t){return o.Kc(e),o.oc(3).timestampOptions.stopTimestampEnabled=t})),o.Vb(),o.Wb(8,"my-timestamp-input",38),o.kc("ngModelChange",(function(t){return o.Kc(e),o.oc(3).timestampOptions.stopTimestamp=t})),o.Vb(),o.Vb(),o.Wb(9,"input",41),o.cc(10,42),o.kc("click",(function(){o.Kc(e);var t=o.oc(3);return t.updateTimestamps(t.playlistElement)})),o.Vb(),o.Vb()}if(2&t){var i=o.oc(3);o.Db(2),o.vc("ngModel",i.timestampOptions.startTimestampEnabled),o.Db(2),o.vc("timestamp",i.timestampOptions.startTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.startTimestampEnabled)("ngModel",i.timestampOptions.startTimestamp),o.Db(2),o.vc("ngModel",i.timestampOptions.stopTimestampEnabled),o.Db(2),o.vc("timestamp",i.timestampOptions.stopTimestamp)("maxTimestamp",i.playlistElement.video.duration)("disabled",!i.timestampOptions.stopTimestampEnabled)("ngModel",i.timestampOptions.stopTimestamp)}}function I(t,n){if(1&t){var e=o.Xb();o.Ub(0),o.Wb(1,"div",29),o.kc("click",(function(t){o.Kc(e);var n=o.oc(2);return n.toggleDisplayTimestampsOptions(t,n.playlistElement)})),o.Rb(2,"my-global-icon",32),o.Ub(3),o.ac(4,33),o.Tb(),o.Vb(),o.Tc(5,D,11,10,"div",34),o.Tb()}if(2&t){var i=o.oc(2);o.Db(5),o.vc("ngIf",i.displayTimestampOptions)}}function L(t,n){if(1&t){var e=o.Xb();o.Wb(0,"div",25,26),o.kc("openChange",(function(){return o.Kc(e),o.oc().onDropdownOpenChange()})),o.Wb(2,"my-global-icon",27),o.kc("click",(function(t){return o.Kc(e),t.preventDefault()})),o.Vb(),o.Wb(3,"div",28),o.Tc(4,I,6,1,"ng-container",4),o.Wb(5,"span",29),o.kc("click",(function(){o.Kc(e);var t=o.oc();return t.removeFromPlaylist(t.playlistElement)})),o.Rb(6,"my-global-icon",30),o.Ub(7),o.ac(8,31),o.Tb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var i=o.oc();o.Db(4),o.vc("ngIf",i.playlistElement.video),o.Db(4),o.ec(null==i.playlist?null:i.playlist.displayName),o.bc(8)}}var A=function(t){return{playing:t}},E=function(){var t=function(){function t(n,e,i,c,r){Tn(this,t),this.authService=n,this.serverService=e,this.notifier=i,this.videoPlaylistService=c,this.cdr=r,this.owned=!1,this.playing=!1,this.rowLink=!1,this.accountLink=!0,this.touchScreenEditButton=!1,this.elementRemoved=new o.n,this.displayTimestampOptions=!1,this.timestampOptions={}}return Vn(t,[{key:"ngOnInit",value:function(){var t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(n){t.serverConfig=n,t.cdr.detectChanges()}))}},{key:"isUnavailable",value:function(t){return 3===t.type}},{key:"isPrivate",value:function(t){return 2===t.type}},{key:"isDeleted",value:function(t){return 1===t.type}},{key:"buildRouterLink",value:function(){return this.playlist?["/videos/watch/playlist",this.playlist.uuid]:null}},{key:"buildRouterQuery",value:function(){return this.playlistElement&&this.playlistElement.video?{playlistPosition:this.playlistElement.position,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{}}},{key:"isVideoBlur",value:function(t){return t.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig)}},{key:"removeFromPlaylist",value:function(t){var n=this;this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,t.id,this.playlistElement.video?this.playlistElement.video.id:void 0).subscribe((function(){n.notifier.success("Film usuni\u0119ty z \n          " + n.playlist.displayName + "\n        "),n.elementRemoved.emit(t)}),(function(t){return n.notifier.error(t.message)})),this.moreDropdown.close()}},{key:"updateTimestamps",value:function(t){var n=this,e={};e.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,e.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,t.id,e,this.playlistElement.video.id).subscribe((function(){n.notifier.success("Zaktualizowano znaczniki czasu"),t.startTimestamp=e.startTimestamp,t.stopTimestamp=e.stopTimestamp,n.cdr.detectChanges()}),(function(t){return n.notifier.error(t.message)})),this.moreDropdown.close()}},{key:"formatTimestamp",value:function(t){var n=t.startTimestamp,e=t.stopTimestamp,o=Object(c.k)(n,!0,":"),i=Object(c.k)(e,!0,":");return null===n&&null===e?"":null!==n&&null===e?"Starts at "+o:null===n&&null!==e?"Stops at "+i:"Starts at "+o+" and stops at "+i}},{key:"onDropdownOpenChange",value:function(){this.displayTimestampOptions=!1}},{key:"toggleDisplayTimestampsOptions",value:function(t,n){var e=this;t.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,!0===this.displayTimestampOptions&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:n.video.duration},n.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=n.startTimestamp),n.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=n.stopTimestamp)),setTimeout((function(){e.cdr.detectChanges()}))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Qb(i.AuthService),o.Qb(i.ServerService),o.Qb(i.Notifier),o.Qb(r.a),o.Qb(o.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,n){var e;1&t&&o.Zc(f,!0),2&t&&o.Hc(e=o.lc())&&(n.moreDropdown=e.first)},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},decls:12,vars:13,consts:function(){return[[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","more","ngbDropdown","","placement","left auto","autoClose","outside",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams"],[1,"fake-thumbnail"],["tabindex","-1",1,"video-info-name",3,"routerLink","queryParams"],["tabindex","-1","class","video-info-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-account",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["tabindex","-1",1,"video-info-account",3,"routerLink"],["tabindex","-1",1,"video-info-account"],[1,"video-info-name"],"Niedost\u0119pny","Prywatne","Usuni\u0119te",[3,"routerLink"],["ngbDropdown","","placement","left auto","autoClose","outside",1,"more",3,"openChange"],["moreDropdown","ngbDropdown"],["iconName","more-vertical","ngbDropdownToggle","","role","button",1,"icon-more",3,"click"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],["iconName","delete","aria-hidden","true"],"Usu\u0144 z \n          " + "\ufffd0\ufffd" + "\n        ",["iconName","edit","aria-hidden","true"],"Edycja zaczyna si\u0119/ko\u0144czy na",["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt",3,"ngModel","ngModelChange",6,"labelText"],["labelText","Zacznij na"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt",3,"ngModel","ngModelChange",6,"labelText"],["labelText","Zako\u0144cz na"],["type","submit",3,"click",6,"value"],["value","Zapisz"]]},template:function(t,n){1&t&&(o.Wb(0,"div",0),o.Wb(1,"a",1),o.Wb(2,"div",2),o.Tc(3,m,1,0,"my-global-icon",3),o.Tc(4,h,2,1,"ng-container",4),o.Vb(),o.Tc(5,C,1,4,"my-video-thumbnail",5),o.Tc(6,O,1,0,"div",6),o.Wb(7,"div",7),o.Tc(8,_,7,7,"ng-container",4),o.Tc(9,T,4,3,"span",8),o.Vb(),o.Vb(),o.Tc(10,V,1,3,"my-edit-button",9),o.Tc(11,L,9,2,"div",10),o.Vb()),2&t&&(o.vc("ngClass",o.zc(11,A,n.playing)),o.Db(1),o.vc("routerLink",n.buildRouterLink())("queryParams",n.buildRouterQuery()),o.Db(2),o.vc("ngIf",n.playing),o.Db(1),o.vc("ngIf",!n.playing),o.Db(1),o.vc("ngIf",n.playlistElement.video),o.Db(1),o.vc("ngIf",!n.playlistElement.video),o.Db(2),o.vc("ngIf",n.playlistElement.video),o.Db(1),o.vc("ngIf",!n.playlistElement.video),o.Db(1),o.vc("ngIf",n.owned&&n.touchScreenEditButton),o.Db(1),o.vc("ngIf",n.owned))},directives:[a.r,l.k,a.u,s.a,u.a,d.a,l.i,g.e,g.j,g.h,b.a,v.s,v.v,p.a],styles:['.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{background-color:#ececec}.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]{display:flex;margin-right:10px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}.video[_ngcontent-%COMP%]:hover   .more[_ngcontent-%COMP%]{opacity:1}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1!important}}.video.playing[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;margin-right:10px;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;margin-left:auto;cursor:pointer;min-width:24px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{opacity:1}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]:after{border:none}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:6px 15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;margin-right:10px;position:relative;top:-2px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;padding-left:35px;margin-bottom:15px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:740px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}'],changeDetection:0}),t}()},"4Yo8":function(t,n,e){"use strict";e.d(n,"a",(function(){return T}));var o=e("NOtv"),i=e("BeL+"),c=e("jtHE"),r=e("XNiG"),a=e("VRyK"),l=e("D0XW"),s=e("LRne"),u=e("/uUt"),d=e("OsX3"),g=e("pLZG"),b=e("lJxs"),v=e("pxpQ"),p=e("eIep"),f=e("w1tV"),m=e("JIr8"),h=e("vkgz"),C=e("tk/3"),O=e("ey9i"),P=e("6rF9"),y=e("xMQD"),M=e("AytR"),_=e("DQE6"),k=e("a9tR"),w=e("fXoL"),x=o("peertube:playlists:VideoPlaylistService"),T=function(){var t=function(){function t(n,e,o,s,m){var h=this;Tn(this,t),this.authHttp=n,this.serverService=e,this.restExtractor=o,this.restService=s,this.ngZone=m,this.videoExistsInPlaylistNotifier=new c.a(1),this.videoExistsInPlaylistCacheSubject=new r.a,this.videoExistsObservableCache={},this.videoExistsCache={},this.myAccountPlaylistCache=void 0,this.myAccountPlaylistCacheSubject=new r.a,this.videoExistsInPlaylistObservable=Object(a.a)(this.videoExistsInPlaylistNotifier.pipe(Object(u.a)(),Object(d.a)(500,Object(P.k)(this.ngZone,l.b)),Object(g.a)((function(t){return 0!==t.length})),Object(b.a)((function(t){return Object(i.a)(t)})),Object(v.b)(Object(P.d)(this.ngZone,l.b)),Object(p.a)((function(t){return h.doVideosExistInPlaylist(t)})),Object(f.a)()),this.videoExistsInPlaylistCacheSubject)}return Vn(t,[{key:"listChannelPlaylists",value:function(t,n){var e=this,o=y.VideoChannelService.BASE_VIDEO_CHANNEL_URL+t.nameWithHost+"/video-playlists",i=this.restService.componentPaginationToRestPagination(n),c=new C.f;return c=this.restService.addRestGetParams(c,i),this.authHttp.get(o,{params:c}).pipe(Object(p.a)((function(t){return e.extractPlaylists(t)})),Object(m.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"listMyPlaylistWithCache",value:function(t,n){var e=this;if(!n){if(this.myAccountPlaylistCacheRunning)return this.myAccountPlaylistCacheRunning;if(this.myAccountPlaylistCache)return Object(s.a)(this.myAccountPlaylistCache)}var o=this.listAccountPlaylists(t.account,void 0,"-updatedAt",n).pipe(Object(h.a)((function(t){n||(e.myAccountPlaylistCacheRunning=void 0,e.myAccountPlaylistCache=t)})),Object(f.a)());return n||(this.myAccountPlaylistCacheRunning=o),o}},{key:"listAccountPlaylists",value:function(t,n,e,o){var i=this,c=y.AccountService.BASE_ACCOUNT_URL+t.nameWithHost+"/video-playlists",r=n?this.restService.componentPaginationToRestPagination(n):void 0,a=new C.f;return a=this.restService.addRestGetParams(a,r,e),o&&(a=this.restService.addObjectParams(a,{search:o})),this.authHttp.get(c,{params:a}).pipe(Object(p.a)((function(t){return i.extractPlaylists(t)})),Object(m.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"getVideoPlaylist",value:function(n){var e=this;return this.authHttp.get(t.BASE_VIDEO_PLAYLIST_URL+n).pipe(Object(p.a)((function(t){return e.extractPlaylist(t)})),Object(m.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"createVideoPlaylist",value:function(n){var e=this,o=Object(P.m)(n);return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL,o).pipe(Object(h.a)((function(t){e.myAccountPlaylistCache&&(e.myAccountPlaylistCache.total++,e.myAccountPlaylistCache.data.push({id:t.videoPlaylist.id,displayName:n.displayName}),e.myAccountPlaylistCacheSubject.next(e.myAccountPlaylistCache))})),Object(m.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"updateVideoPlaylist",value:function(n,e){var o=this,i=Object(P.m)(e);return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n.id,i).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)((function(){o.myAccountPlaylistCache&&(o.myAccountPlaylistCache.data.find((function(t){return t.id===n.id})).displayName=e.displayName,o.myAccountPlaylistCacheSubject.next(o.myAccountPlaylistCache))})),Object(m.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"removeVideoPlaylist",value:function(n){var e=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n.id).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)((function(){e.myAccountPlaylistCache&&(e.myAccountPlaylistCache.total--,e.myAccountPlaylistCache.data=e.myAccountPlaylistCache.data.filter((function(t){return t.id!==n.id})),e.myAccountPlaylistCacheSubject.next(e.myAccountPlaylistCache))})),Object(m.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"addVideoInPlaylist",value:function(n,e){var o=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",e).pipe(Object(h.a)((function(t){o.videoExistsCache[e.videoId].push({playlistId:n,playlistElementId:t.videoPlaylistElement.id,startTimestamp:e.startTimestamp,stopTimestamp:e.stopTimestamp}),o.runPlaylistCheck(e.videoId)})),Object(m.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"updateVideoOfPlaylist",value:function(n,e,o,i){var c=this;return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e,o).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)((function(){var t=c.videoExistsCache[i];if(t){var n=t.find((function(t){return t.playlistElementId===e}));n.startTimestamp=o.startTimestamp,n.stopTimestamp=o.stopTimestamp}c.runPlaylistCheck(i)})),Object(m.a)((function(t){return c.restExtractor.handleError(t)})))}},{key:"removeVideoFromPlaylist",value:function(n,e,o){var i=this;return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)((function(){o&&(i.videoExistsCache[o]&&(i.videoExistsCache[o]=i.videoExistsCache[o].filter((function(t){return t.playlistElementId!==e}))),i.runPlaylistCheck(o))})),Object(m.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"reorderPlaylist",value:function(n,e,o){var i=this;return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/reorder",{startPosition:e,insertAfterPosition:o}).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(m.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"getPlaylistVideos",value:function(n,e){var o=this,i=t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",c=this.restService.componentPaginationToRestPagination(e),r=new C.f;return r=this.restService.addRestGetParams(r,c),this.authHttp.get(i,{params:r}).pipe(Object(p.a)((function(t){return o.extractVideoPlaylistElements(t)})),Object(m.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"listenToMyAccountPlaylistsChange",value:function(){return this.myAccountPlaylistCacheSubject.asObservable()}},{key:"listenToVideoPlaylistChange",value:function(t){var n=this;if(this.videoExistsObservableCache[t])return this.videoExistsObservableCache[t];var e=this.videoExistsInPlaylistObservable.pipe(Object(b.a)((function(n){return n[t]})),Object(g.a)((function(t){return!!t})),Object(h.a)((function(e){return n.videoExistsCache[t]=e})));return this.videoExistsObservableCache[t]=e,e}},{key:"runPlaylistCheck",value:function(t){return x("Running playlist check."),this.videoExistsCache[t]?(x("Found cache for %d.",t),this.videoExistsInPlaylistCacheSubject.next(gn({},t,this.videoExistsCache[t]))):(x("Fetching from network for %d.",t),this.videoExistsInPlaylistNotifier.next(t))}},{key:"extractPlaylists",value:function(t){return this.serverService.getServerLocale().pipe(Object(b.a)((function(n){var e,o=t.data,i=t.total,c=[],r=sn(o);try{for(r.s();!(e=r.n()).done;){var a=e.value;c.push(new k.a(a,n))}}catch(l){r.e(l)}finally{r.f()}return{data:c,total:i}})))}},{key:"extractPlaylist",value:function(t){return this.serverService.getServerLocale().pipe(Object(b.a)((function(n){return new k.a(t,n)})))}},{key:"extractVideoPlaylistElements",value:function(t){return this.serverService.getServerLocale().pipe(Object(b.a)((function(n){var e,o=t.data,i=t.total,c=[],r=sn(o);try{for(r.s();!(e=r.n()).done;){var a=e.value;c.push(new _.a(a,n))}}catch(l){r.e(l)}finally{r.f()}return{total:i,data:c}})))}},{key:"doVideosExistInPlaylist",value:function(n){var e=this,o=t.MY_VIDEO_PLAYLIST_URL+"videos-exist",i=new C.f;return i=this.restService.addObjectParams(i,{videoIds:n}),this.authHttp.get(o,{params:i,headers:{ignoreLoadingBar:""}}).pipe(Object(m.a)((function(t){return e.restExtractor.handleError(t)})))}}]),t}();return t.BASE_VIDEO_PLAYLIST_URL=M.a.apiUrl+"/api/v1/video-playlists/",t.MY_VIDEO_PLAYLIST_URL=M.a.apiUrl+"/api/v1/users/me/video-playlists/",t.\u0275fac=function(n){return new(n||t)(w.hc(C.b),w.hc(O.ServerService),w.hc(O.RestExtractor),w.hc(O.RestService),w.hc(w.C))},t.\u0275prov=w.Mb({token:t,factory:t.\u0275fac}),t}()},"5rWp":function(t,n,e){"use strict";var o=e("b613");e.d(n,"b",(function(){return o.a})),e("Dmbs"),e("gY50");var i=e("hHkf");e.d(n,"a",(function(){return i.a}))},"BeL+":function(t,n,e){"use strict";var o=e("msdH"),i=function(t){return t!=t},c=function(t,n){return!(null==t||!t.length)&&function(t,n,e){return n==n?function(t,n,e){for(var o=-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}(t,n):function(t,n,e,o){for(var i=t.length,c=-1;++c<i;)if(n(t[c],c,t))return c;return-1}(t,i)}(t,n)>-1},r=e("ZWiB"),a=e("pVw1"),l=e("GYlH"),s=a.a&&1/Object(l.a)(new a.a([,-0]))[1]==1/0?function(t){return new a.a(t)}:function(){};n.a=function(t){return t&&t.length?function(t,n,e){var i=-1,a=c,u=t.length,d=!0,g=[],b=g;if(u>=200){var v=s(t);if(v)return Object(l.a)(v);d=!1,a=r.a,b=new o.a}else b=g;t:for(;++i<u;){var p=t[i],f=p;if(p=0!==p?p:0,d&&f==f){for(var m=b.length;m--;)if(b[m]===f)continue t;g.push(p)}else a(b,f,void 0)||(b!==g&&b.push(f),g.push(p))}return g}(t):[]}},DQE6:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("xMQD"),i=function t(n,e){Tn(this,t),this.id=n.id,this.position=n.position,this.startTimestamp=n.startTimestamp,this.stopTimestamp=n.stopTimestamp,this.type=n.type,n.video&&(this.video=new o.Video(n.video,e))}},DTAc:function(t,n,e){"use strict";e.d(n,"a",(function(){return x}));var o=e("NOtv"),i=e("XNiG"),c=e("Kj3r"),r=e("pLZG"),a=e("ey9i"),l=e("sWvm"),s=e("H9+z"),u=e("Pehk"),d=e("4Yo8"),g=e("fXoL"),b=e("3Pt+"),v=e("ofXK"),p=e("UkmY"),f=e("/xt7"),m=e("C8Cb");function h(t,n){if(1&t){var e=g.Xb();g.Wb(0,"div",20),g.kc("click",(function(){g.Kc(e);var t=g.oc().$implicit;return g.oc().toggleOptionalRow(t)})),g.Rb(1,"my-global-icon",11),g.Vb()}}function C(t,n){if(1&t){var e=g.Xb();g.Wb(0,"div"),g.Wb(1,"my-peertube-checkbox",26),g.kc("click",(function(t){g.Kc(e);var o=n.$implicit,i=g.Ic(3),c=g.Ic(5),r=g.oc(2).$implicit;return g.oc().toggleOptionalPlaylist(t,r,o,i.timestamp,c.timestamp)})),g.Vb(),g.Wb(2,"my-timestamp-input",27,28),g.kc("ngModelChange",(function(t){return g.Kc(e),n.$implicit.startTimestamp=t}))("inputBlur",(function(){g.Kc(e);var t=n.$implicit,o=g.oc(2).$implicit;return g.oc().onElementTimestampUpdate(o,t)})),g.Vb(),g.Wb(4,"my-timestamp-input",27,29),g.kc("ngModelChange",(function(t){return g.Kc(e),n.$implicit.stopTimestamp=t}))("inputBlur",(function(){g.Kc(e);var t=n.$implicit,o=g.oc(2).$implicit;return g.oc().onElementTimestampUpdate(o,t)})),g.Vb(),g.Vb()}if(2&t){var o=n.$implicit,i=g.oc(2).$implicit,c=g.oc();g.Db(1),g.vc("inputName",c.getOptionalInputName(i,o))("ngModel",o.enabled)("onPushWorkaround",!0),g.Db(1),g.vc("maxTimestamp",c.video.duration)("ngModel",o.startTimestamp),g.Db(2),g.vc("maxTimestamp",c.video.duration)("ngModel",o.stopTimestamp)}}function O(t,n){if(1&t&&(g.Wb(0,"div",21),g.Wb(1,"div",22),g.Wb(2,"div"),g.ac(3,23),g.Vb(),g.Wb(4,"div"),g.ac(5,24),g.Vb(),g.Vb(),g.Tc(6,C,6,7,"div",25),g.Vb()),2&t){var e=g.oc().$implicit,o=g.oc();g.Db(6),g.vc("ngForOf",o.buildOptionalRowElements(e))}}var P=function(t){return{"has-optional-row":t}};function y(t,n){if(1&t){var e=g.Xb();g.Wb(0,"div",14),g.Wb(1,"div",15),g.Wb(2,"my-peertube-checkbox",16),g.kc("click",(function(t){g.Kc(e);var o=n.$implicit;return g.oc().toggleMainPlaylist(t,o)})),g.Vb(),g.Wb(3,"label",17),g.kc("click",(function(t){g.Kc(e);var o=n.$implicit;return g.oc().toggleMainPlaylist(t,o)})),g.Vc(4),g.Vb(),g.Tc(5,h,2,0,"div",18),g.Vb(),g.Tc(6,O,7,1,"div",19),g.Vb()}if(2&t){var o=n.$implicit,i=g.oc();g.vc("ngClass",g.zc(8,P,o.optionalRowDisplayed)),g.Db(2),g.vc("disabled",i.isPresentMultipleTimes(o)||o.optionalRowDisplayed)("inputName",i.getPrimaryInputName(o))("ngModel",i.isPrimaryCheckboxChecked(o))("onPushWorkaround",!0),g.Db(2),g.Xc(" ",o.displayName," "),g.Db(1),g.vc("ngIf",i.isPrimaryCheckboxChecked(o)),g.Db(1),g.vc("ngIf",o.optionalRowDisplayed)}}function M(t,n){if(1&t&&(g.Wb(0,"div",38),g.Vc(1),g.Vb()),2&t){var e=g.oc(2);g.Db(1),g.Xc(" ",e.formErrors.displayName," ")}}var _=function(t){return{"input-error":t}};function k(t,n){if(1&t){var e=g.Xb();g.Wb(0,"form",30),g.kc("ngSubmit",(function(){return g.Kc(e),g.oc().createPlaylist()})),g.Wb(1,"div",31),g.Wb(2,"label",32),g.ac(3,33),g.Vb(),g.Rb(4,"input",34),g.Tc(5,M,2,1,"div",35),g.Vb(),g.Wb(6,"input",36),g.cc(7,37),g.Vb(),g.Vb()}if(2&t){var o=g.oc();g.vc("formGroup",o.form),g.Db(4),g.vc("ngClass",g.zc(4,_,o.formErrors.displayName)),g.Db(1),g.vc("ngIf",o.formErrors.displayName),g.Db(1),g.vc("disabled",!o.form.valid)}}var w=o("peertube:playlists:VideoAddToPlaylistComponent"),x=function(){var t=function(t){en(e,t);var n=cn(e);function e(t,o,c,r,a){var l;return Tn(this,e),(l=n.call(this)).formValidatorService=t,l.authService=o,l.notifier=c,l.videoPlaylistService=r,l.cd=a,l.lazyLoad=!1,l.isNewPlaylistBlockOpened=!1,l.videoPlaylistSearchChanged=new i.a,l.videoPlaylists=[],l.disabled=!1,l.playlistsData=[],l}return Vn(e,[{key:"ngOnInit",value:function(){var t=this;this.buildForm({displayName:u.c}),this.videoPlaylistService.listenToMyAccountPlaylistsChange().subscribe((function(n){t.playlistsData=n.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)})),this.videoPlaylistSearchChanged.pipe(Object(c.a)(500)).subscribe((function(){return t.load()})),!1===this.lazyLoad&&this.load()}},{key:"ngOnChanges",value:function(t){t.video&&this.reload()}},{key:"ngOnDestroy",value:function(){this.unsubscribePlaylistChanges()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"reload",value:function(){w("Reloading component"),this.videoPlaylists=[],this.videoPlaylistSearch=void 0,this.load(),this.cd.markForCheck()}},{key:"load",value:function(){var t=this;w("Loading component"),this.listenToVideoPlaylistChange(),this.videoPlaylistService.listMyPlaylistWithCache(this.user,this.videoPlaylistSearch).subscribe((function(n){t.playlistsData=n.data,t.videoPlaylistService.runPlaylistCheck(t.video.id)}))}},{key:"openChange",value:function(t){!1===t&&(this.isNewPlaylistBlockOpened=!1)}},{key:"openCreateBlock",value:function(t){t.preventDefault(),this.isNewPlaylistBlockOpened=!0}},{key:"toggleMainPlaylist",value:function(t,n){t.preventDefault(),this.isPresentMultipleTimes(n)||n.optionalRowDisplayed||(0===n.elements.length?this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:0,stopTimestamp:this.video.duration}):(this.removeVideoFromPlaylist(n,n.elements[0].playlistElementId),n.elements=[]),this.cd.markForCheck())}},{key:"toggleOptionalPlaylist",value:function(t,n,e,o,i){t.preventDefault(),e.enabled?(this.removeVideoFromPlaylist(n,e.playlistElementId),e.enabled=!1,!1===this.isPrimaryCheckboxChecked(n)&&(n.optionalRowDisplayed=!1)):this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:o,stopTimestamp:i}),this.cd.markForCheck()}},{key:"createPlaylist",value:function(){var t=this;this.videoPlaylistService.createVideoPlaylist({displayName:this.form.value.displayName,privacy:3}).subscribe((function(){t.isNewPlaylistBlockOpened=!1,t.cd.markForCheck()}),(function(n){return t.notifier.error(n.message)}))}},{key:"onVideoPlaylistSearchChanged",value:function(){this.videoPlaylistSearchChanged.next()}},{key:"isPrimaryCheckboxChecked",value:function(t){return 0!==t.elements.filter((function(t){return t.enabled})).length}},{key:"toggleOptionalRow",value:function(t){t.optionalRowDisplayed=!t.optionalRowDisplayed,this.cd.markForCheck()}},{key:"getPrimaryInputName",value:function(t){return"in-playlist-primary-"+t.id}},{key:"getOptionalInputName",value:function(t,n){return"in-playlist-optional-"+t.id+(n?"-"+n.playlistElementId:"")}},{key:"buildOptionalRowElements",value:function(t){var n=t.elements,e=0===n.length?void 0:n[n.length-1];return e&&!0!==e.enabled||n.push({enabled:!1,startTimestamp:0,stopTimestamp:this.video.duration}),n}},{key:"isPresentMultipleTimes",value:function(t){return t.elements.filter((function(t){return!0===t.enabled})).length>1}},{key:"onElementTimestampUpdate",value:function(t,n){var e=this;n.playlistElementId&&!1!==n.enabled&&this.videoPlaylistService.updateVideoOfPlaylist(t.id,n.playlistElementId,{startTimestamp:n.startTimestamp,stopTimestamp:n.stopTimestamp},this.video.id).subscribe((function(){e.notifier.success("Zaktualizowano znaczniki czasu")}),(function(t){e.notifier.error(t.message)}),(function(){return e.cd.markForCheck()}))}},{key:"isOptionalRowDisplayed",value:function(t){var n=t.elements.filter((function(t){return t.enabled}));if(n.length>1)return!0;if(1===n.length){var e=n[0];if(e.startTimestamp&&0!==e.startTimestamp||e.stopTimestamp&&e.stopTimestamp!==this.video.duration)return!0}return!1}},{key:"removeVideoFromPlaylist",value:function(t,n){var e=this;this.videoPlaylistService.removeVideoFromPlaylist(t.id,n,this.video.id).subscribe((function(){e.notifier.success("Film usuni\u0119ty z \n          " + t.displayName + "\n        ")}),(function(t){e.notifier.error(t.message)}),(function(){return e.cd.markForCheck()}))}},{key:"listenToVideoPlaylistChange",value:function(){var t=this;this.unsubscribePlaylistChanges(),this.listenToPlaylistChangeSub=this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id).pipe(Object(r.a)((function(){return!1===t.disabled}))).subscribe((function(n){return t.rebuildPlaylists(n)}))}},{key:"unsubscribePlaylistChanges",value:function(){this.listenToPlaylistChangeSub&&(this.listenToPlaylistChangeSub.unsubscribe(),this.listenToPlaylistChangeSub=void 0)}},{key:"rebuildPlaylists",value:function(t){var n=this;w("Got existing results for %d.",this.video.id,t);var e=this.videoPlaylists;this.videoPlaylists=[];var o,i=sn(this.playlistsData);try{var c=function(){var i=o.value,c=t.filter((function(t){return t.playlistId===i.id})),r={id:i.id,optionalRowDisplayed:!1,displayName:i.displayName,elements:c.map((function(t){return{enabled:!0,playlistElementId:t.playlistElementId,startTimestamp:t.startTimestamp||0,stopTimestamp:t.stopTimestamp||n.video.duration}}))},a=e.find((function(t){return t.id===i.id}));r.optionalRowDisplayed=a?a.optionalRowDisplayed:n.isOptionalRowDisplayed(r),n.videoPlaylists.push(r)};for(i.s();!(o=i.n()).done;)c()}catch(r){i.e(r)}finally{i.f()}w("Rebuilt playlist state for video %d.",this.video.id,this.videoPlaylists),this.cd.markForCheck()}},{key:"addVideoInPlaylist",value:function(t,n){var e=this,o={videoId:this.video.id};n.startTimestamp&&(o.startTimestamp=n.startTimestamp),n.stopTimestamp&&n.stopTimestamp!==this.video.duration&&(o.stopTimestamp=n.stopTimestamp),this.videoPlaylistService.addVideoInPlaylist(t.id,o).subscribe((function(i){var c=o.startTimestamp||o.stopTimestamp?"Dodano film do \n          " + t.displayName + " w znacznikach czasu \n          " + e.formatTimestamp(n) + "\n        ":"Dodano film do \n          " + t.displayName + "\n        ";e.notifier.success(c),n&&(n.playlistElementId=i.videoPlaylistElement.id)}),(function(t){e.notifier.error(t.message)}),(function(){return e.cd.markForCheck()}))}},{key:"formatTimestamp",value:function(t){return"(".concat(t.startTimestamp?Object(s.k)(t.startTimestamp):"","-").concat(t.stopTimestamp?Object(s.k)(t.stopTimestamp):"",")")}},{key:"user",get:function(){return this.authService.getUser()}}]),e}(l.a);return t.\u0275fac=function(n){return new(n||t)(g.Qb(l.b),g.Qb(a.AuthService),g.Qb(a.Notifier),g.Qb(d.a),g.Qb(g.h))},t.\u0275cmp=g.Kb({type:t,selectors:[["my-video-add-to-playlist"]],inputs:{video:"video",currentVideoTimestamp:"currentVideoTimestamp",lazyLoad:"lazyLoad"},features:[g.Ab,g.Bb],decls:15,vars:4,consts:function(){return[[1,"root"],[1,"header"],[1,"first-row"],[1,"title"],"Zapisz do",[1,"input-container"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],["placeholder","Szukaj playlist"],[1,"playlists"],["class","playlist dropdown-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"new-playlist-button","dropdown-item",3,"hidden","click"],["iconName","add","aria-hidden","true"],"Stw\xF3rz prywatn\u0105 playlist\u0119",["class","new-playlist-block dropdown-item",3,"formGroup","ngSubmit",4,"ngIf"],[1,"playlist","dropdown-item",3,"ngClass"],[1,"primary-row"],[3,"disabled","inputName","ngModel","onPushWorkaround","click"],[1,"display-name",3,"click"],["class","optional-row-icon",3,"click",4,"ngIf"],["class","optional-rows",4,"ngIf"],[1,"optional-row-icon",3,"click"],[1,"optional-rows"],[1,"labels"],"Zacznij na","Zako\u0144cz na",[4,"ngFor","ngForOf"],[3,"inputName","ngModel","onPushWorkaround","click"],[3,"maxTimestamp","ngModel","ngModelChange","inputBlur"],["startAt",""],["stopAt",""],[1,"new-playlist-block","dropdown-item",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],"Nazwa wy\u015Bwietlana",["type","text","id","displayName","formControlName","displayName",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit",3,"disabled",6,"value"],["value","Create"],[1,"form-error"]]},template:function(t,n){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"div",2),g.Wb(3,"div",3),g.ac(4,4),g.Vb(),g.Vb(),g.Vb(),g.Wb(5,"div",5),g.Wb(6,"input",6),g.cc(7,7),g.kc("ngModelChange",(function(t){return n.videoPlaylistSearch=t}))("ngModelChange",(function(){return n.onVideoPlaylistSearchChanged()})),g.Vb(),g.Vb(),g.Wb(8,"div",8),g.Tc(9,y,7,10,"div",9),g.Vb(),g.Wb(10,"div",10),g.kc("click",(function(t){return n.openCreateBlock(t)})),g.Rb(11,"my-global-icon",11),g.Wb(12,"span"),g.ac(13,12),g.Vb(),g.Vb(),g.Tc(14,k,8,6,"form",13),g.Vb()),2&t&&(g.Db(6),g.vc("ngModel",n.videoPlaylistSearch),g.Db(3),g.vc("ngForOf",n.videoPlaylists),g.Db(1),g.vc("hidden",n.isNewPlaylistBlockOpened),g.Db(4),g.vc("ngIf",n.isNewPlaylistBlockOpened))},directives:[b.c,b.s,b.v,v.t,p.a,v.u,v.r,f.a,m.a,b.I,b.t,b.l,b.j],styles:['.dropdown-item[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]{padding:8px 24px}.dropdown-item[_ngcontent-%COMP%]:active{color:inherit}.header[_ngcontent-%COMP%]{min-width:240px;margin-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.playlists[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto}.playlist[_ngcontent-%COMP%]{padding:8px 10px 8px 24px}.playlist.has-optional-row[_ngcontent-%COMP%]:hover{background-color:inherit}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]{display:flex}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:10px;align-self:center}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;margin:0;font-weight:400;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:19px;height:19px;margin-right:0}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-right:10px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext, .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext{padding:0;width:50px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 5px 5px 10px}.optional-rows[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{display:block;width:34px;margin-right:0!important}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{margin-left:34px;font-size:13px;color:var(--greyForegroundColor);padding-top:5px;padding-bottom:0}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:50px}.new-playlist-block[_ngcontent-%COMP%], .new-playlist-button[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid rgba(0,0,0,.1)}.new-playlist-button[_ngcontent-%COMP%]{cursor:pointer}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-1px;top:-1px;margin-right:4px;width:21px;height:21px}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:200px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}'],changeDetection:0}),t}()},Dmbs:function(t,n,e){"use strict";e.d(n,"a",(function(){return D}));var o=e("cp0P"),i=e("GyhO"),c=e("VRyK"),r=e("ey9i"),a=e("xMQD"),l=e("b613"),s=e("fXoL"),u=e("tyNb"),d=e("ofXK"),g=e("1kSV"),b=e("gY50"),v=e("gCBE");function p(t,n){1&t&&s.Sb(0)}function f(t,n){1&t&&s.ac(0,23)}function m(t,n){if(1&t&&(s.Wb(0,"span"),s.Vc(1),s.Ub(2),s.ac(3,25),s.Tb(),s.Vb()),2&t){var e=s.oc(3);s.Db(1),s.Yc("",e.subscribeStatus(!0).length,"/",e.subscribed.size," ")}}function h(t,n){if(1&t&&(s.Wb(0,"span"),s.ac(1,24),s.Vb(),s.Tc(2,m,4,2,"span",10)),2&t){var e=s.oc(2);s.Db(2),s.vc("ngIf",e.isAtLeastOneChannelSubscribed)}}function C(t,n){if(1&t&&(s.Wb(0,"span",26),s.Vc(1),s.pc(2,"myNumberFormatter"),s.Vb()),2&t){var e=s.oc(2);s.Db(1),s.Xc(" ",s.qc(2,1,e.videoChannels[0].followersCount)," ")}}var O=function(t){return{"extra-text":t}};function P(t,n){if(1&t&&(s.Wb(0,"span",18),s.Tc(1,p,1,0,"ng-container",19),s.Tc(2,f,1,0,"ng-template",null,20,s.Uc),s.Tc(4,h,3,1,"ng-template",null,21,s.Uc),s.Vb(),s.Tc(6,C,3,3,"span",22)),2&t){var e=s.Ic(3),o=s.Ic(5),i=s.oc();s.vc("ngClass",s.zc(5,O,i.isAtLeastOneChannelSubscribed)),s.Db(1),s.vc("ngIf",i.account)("ngIfThen",o)("ngIfElse",e),s.Db(5),s.vc("ngIf",!i.isBigButton&&i.displayFollowers&&i.videoChannels.length>1&&0!==i.videoChannel.followersCount)}}function y(t,n){}function M(t,n){if(1&t){var e=s.Xb();s.Wb(0,"button",28),s.kc("click",(function(){return s.Kc(e),s.oc(2).subscribe()})),s.Tc(1,y,0,0,"ng-template",29),s.Vb()}if(2&t){s.oc(2);var o=s.Ic(2);s.Db(1),s.vc("ngTemplateOutlet",o)}}function _(t,n){if(1&t){var e=s.Xb();s.Wb(0,"button",28),s.kc("click",(function(){return s.Kc(e),s.oc(2).unsubscribe()})),s.Ub(1),s.ac(2,30),s.Tb(),s.Vb()}if(2&t){var o=s.oc(2);s.Db(2),s.ec(o.account+""),s.bc(2)}}function k(t,n){if(1&t&&(s.Tc(0,M,2,1,"button",27),s.Tc(1,_,3,1,"button",27)),2&t){var e=s.oc();s.vc("ngIf",!e.isAllChannelsSubscribed),s.Db(1),s.vc("ngIf",e.isAllChannelsSubscribed)}}function w(t,n){1&t&&s.Sb(0)}function x(t,n){1&t&&s.Sb(0)}function T(t,n){1&t&&(s.Wb(0,"span"),s.ac(1,31),s.Vb())}function S(t,n){1&t&&(s.Wb(0,"span"),s.ac(1,32),s.Vb())}var V=function(t,n,e){return{"subscribe-button":t,"unsubscribe-button":n,big:e}},D=function(){var t=function(){function t(n,e,o,i,c){Tn(this,t),this.authService=n,this.router=e,this.notifier=o,this.userSubscriptionService=i,this.videoService=c,this.displayFollowers=!1,this.size="normal",this.subscribed=new Map}return Vn(t,[{key:"ngOnInit",value:function(){this.loadSubscribedStatus()}},{key:"ngOnChanges",value:function(){this.ngOnInit()}},{key:"subscribe",value:function(){return this.isUserLoggedIn()?this.localSubscribe():this.gotoLogin()}},{key:"localSubscribe",value:function(){var t=this,n=this.subscribeStatus(!1),e=this.videoChannels.map((function(n){return t.getChannelHandler(n)})).filter((function(t){return n.includes(t)})).map((function(n){return t.userSubscriptionService.addSubscription(n)}));Object(o.a)(e).subscribe((function(){t.notifier.success(t.account?"Zasubskrybowano wszystkie kana\u0142y u\u017Cytkownika \n          " + t.account.displayName + ". Otrzymasz powiadomienia o wszystkich ich filmach.\n        ":"Zasubskrybowano kana\u0142 \n          " + t.videoChannels[0].displayName + ". Otrzymasz powiadomienia o wszystkich jego filmach.\n        ","Zasubskrybowano")}),(function(n){return t.notifier.error(n.message)}))}},{key:"unsubscribe",value:function(){this.isUserLoggedIn()&&this.localUnsubscribe()}},{key:"localUnsubscribe",value:function(){var t=this,n=this.subscribeStatus(!0),e=this.videoChannels.map((function(n){return t.getChannelHandler(n)})).filter((function(t){return n.includes(t)})).map((function(n){return t.userSubscriptionService.deleteSubscription(n)}));Object(i.a).apply(void 0,Nt(e)).subscribe({complete:function(){t.notifier.success(t.account?"Anulowano subskrypcje wszystkich kana\u0142\xF3w u\u017Cytkownika \n          " + t.account.nameWithHost + "\n        ":"Anulowano subskrypcj\u0119 kana\u0142u \n          " + t.videoChannels[0].nameWithHost + "\n        ","Odsubskrybowano")},error:function(n){return t.notifier.error(n.message)}})}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"gotoLogin",value:function(){this.router.navigate(["/login"])}},{key:"subscribeStatus",value:function(t){var n,e=[],o=sn(this.subscribed.entries());try{for(o.s();!(n=o.n()).done;){var i=Wt(n.value,2),c=i[0];i[1]===t&&e.push(c)}}catch(r){o.e(r)}finally{o.f()}return e}},{key:"getChannelHandler",value:function(t){return t.name+"@"+t.host}},{key:"loadSubscribedStatus",value:function(){var t=this;if(this.isUserLoggedIn()){var n,e=sn(this.videoChannels);try{var o=function(){var e=n.value,o=t.getChannelHandler(e);t.subscribed.set(o,!1),Object(c.a)(t.userSubscriptionService.listenToSubscriptionCacheChange(o),t.userSubscriptionService.doesSubscriptionExist(o)).subscribe((function(n){return t.subscribed.set(o,n)}),(function(n){return t.notifier.error(n.message)}))};for(e.s();!(n=e.n()).done;)o()}catch(i){e.e(i)}finally{e.f()}}}},{key:"handle",get:function(){return this.account?this.account.nameWithHost:this.videoChannel.name+"@"+this.videoChannel.host}},{key:"channelHandle",get:function(){return this.getChannelHandler(this.videoChannel)}},{key:"uri",get:function(){return this.account?this.account.url:this.videoChannels[0].url}},{key:"rssUri",get:function(){return(this.account?this.videoService.getAccountFeedUrls(this.account.id).find((function(t){return"xml"===t.format})):this.videoService.getVideoChannelFeedUrls(this.videoChannels[0].id).find((function(t){return"xml"===t.format}))).url}},{key:"videoChannel",get:function(){return this.videoChannels[0]}},{key:"isAllChannelsSubscribed",get:function(){return this.subscribeStatus(!0).length===this.videoChannels.length}},{key:"isAtLeastOneChannelSubscribed",get:function(){return this.subscribeStatus(!0).length>0}},{key:"isBigButton",get:function(){return this.isUserLoggedIn()&&this.videoChannels.length>1&&this.isAtLeastOneChannelSubscribed}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Qb(r.AuthService),s.Qb(u.h),s.Qb(r.Notifier),s.Qb(l.a),s.Qb(a.VideoService))},t.\u0275cmp=s.Kb({type:t,selectors:[["my-subscribe-button"]],inputs:{account:"account",videoChannels:"videoChannels",displayFollowers:"displayFollowers",size:"size"},features:[s.Bb],decls:23,vars:14,consts:function(){var t,n,e,o,i,c,r,a;return t="U\u017Cywaj\u0105c konta ActivityPub",n="Subskrybuj u\u017Cywaj\u0105c konta Mastodon:",e="U\u017Cywaj\u0105c kana\u0142u syndykacyjnego",o="Subskrybuj przez RSS",i="Subskrybuj",c="Subskrybuj wszystkie kana\u0142y",r="zasubskrybowanych kana\u0142\xF3w",a="{VAR_SELECT, select, undefined {Anuluj subskrypcj\u0119} other {Anuluj subskrypcj\u0119 wszystkich kana\u0142\xF3w }}",[[1,"btn-group-subscribe","btn-group",3,"ngClass"],["userLoggedOut",""],["userLoggedIn",""],[4,"ngIf","ngIfThen"],["ngbDropdown","","autoClose","outside","placement","bottom-right","role","group","aria-label","Multiple ways to subscribe to the current channel",1,"btn-group"],["ngbDropdownToggle","",1,"btn","btn-sm","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],t,[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item","dropdown-item-neutral"],n,[3,"showHelp","uri"],[1,"dropdown-divider"],e,["target","_blank",1,"dropdown-item",3,"href"],o,[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["single",""],["multiple",""],["class","followers-count",4,"ngIf"],i,c,r,[1,"followers-count"],["type","button","class","btn btn-sm","role","button",3,"click",4,"ngIf"],["type","button","role","button",1,"btn","btn-sm",3,"click"],[3,"ngTemplateOutlet"],a=s.fc(a,{VAR_SELECT:"\ufffd0\ufffd"}),"Subskrybuj kontem na tej instancji","Subskrybuj u\u017Cywaj\u0105c swojego lokalnego konta"]},template:function(t,n){if(1&t&&(s.Wb(0,"div",0),s.Tc(1,P,7,7,"ng-template",null,1,s.Uc),s.Tc(3,k,2,2,"ng-template",null,2,s.Uc),s.Tc(5,w,1,0,"ng-container",3),s.Wb(6,"div",4),s.Wb(7,"button",5),s.Tc(8,x,1,0,"ng-container",3),s.Vb(),s.Wb(9,"div",6),s.Wb(10,"h6",7),s.ac(11,8),s.Vb(),s.Wb(12,"button",9),s.kc("click",(function(){return n.subscribe()})),s.Tc(13,T,2,0,"span",10),s.Tc(14,S,2,0,"span",10),s.Vb(),s.Wb(15,"button",11),s.ac(16,12),s.Vb(),s.Rb(17,"my-remote-subscribe",13),s.Rb(18,"div",14),s.Wb(19,"h6",7),s.ac(20,15),s.Vb(),s.Wb(21,"a",16),s.ac(22,17),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t){var e=s.Ic(2),o=s.Ic(4);s.vc("ngClass",s.Bc(10,V,!n.isAllChannelsSubscribed,n.isAllChannelsSubscribed,n.isBigButton)),s.Db(5),s.vc("ngIf",n.isUserLoggedIn())("ngIfThen",o),s.Db(3),s.vc("ngIf",!n.isUserLoggedIn())("ngIfThen",e),s.Db(5),s.vc("ngIf",!n.isUserLoggedIn()),s.Db(1),s.vc("ngIf",n.isUserLoggedIn()),s.Db(3),s.vc("showHelp",!0)("uri",n.uri),s.Db(4),s.vc("href",n.rssUri,s.Mc)}},directives:[d.r,d.u,g.e,g.j,g.h,b.a,d.B],pipes:[v.a],styles:['.btn-group-subscribe[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;float:right;padding:0}.btn-group-subscribe[_ngcontent-%COMP%]:active, .btn-group-subscribe[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]:not(.big){white-space:nowrap}.btn-group-subscribe.big[_ngcontent-%COMP%]{height:35px}.btn-group-subscribe.big[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:175px}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:80%}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:75%}.btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:3px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding-right:4px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:2px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{position:relative;top:1px}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   span.followers-count[_ngcontent-%COMP%]{padding-left:5px}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor);font-weight:600}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:hover{background-color:inherit}.btn-group-subscribe[_ngcontent-%COMP%]     form{padding:.25rem 1rem}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.extra-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:75%}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:60%;text-align:left}']}),t}()},HZcR:function(t,n,e){"use strict";e.d(n,"a",(function(){return M}));var o=e("mrSG"),i=e("fXoL"),c=e("ey9i"),r=e("HIM4"),a=e("xMQD"),l=(e("SZgj"),e("tTqN")),s=e("ofXK"),u=e("EcKj"),d=e("BYvb"),g=e("XZU/"),b=e("1kSV"),v=e("DTAc"),p=["playlistDropdown"],f=["playlistAdd"],m=["videoDownloadModal"],h=["videoReportModal"],C=["videoBlockModal"];function O(t,n){if(1&t){var e=i.Xb();i.Wb(0,"div",8,9),i.kc("openChange",(function(t){return i.Kc(e),i.Ic(5).openChange(t)})),i.Rb(2,"span",10),i.Wb(3,"div",11),i.Rb(4,"my-video-add-to-playlist",12,13),i.Vb(),i.Vb()}if(2&t){var o=i.oc(2);i.vc("placement",o.getPlaylistDropdownPlacement()),i.Db(4),i.vc("video",o.video)("lazyLoad",!0)}}var P=function(t){return{video:t}};function y(t,n){if(1&t){var e=i.Xb();i.Ub(0),i.Tc(1,O,6,3,"div",1),i.Wb(2,"my-action-dropdown",2),i.kc("click",(function(){return i.Kc(e),i.oc().loadDropdownInformation()})),i.Vb(),i.Rb(3,"my-video-download",null,3),i.Rb(5,"my-video-report",4,5),i.Wb(7,"my-video-block",6,7),i.kc("videoBlocked",(function(){return i.Kc(e),i.oc().onVideoBlocked()})),i.Vb(),i.Tb()}if(2&t){var o=i.oc();i.Db(1),i.vc("ngIf",o.isUserLoggedIn()&&o.displayOptions.playlist),i.Db(1),i.vc("actions",o.videoActions)("label",o.label)("entry",i.zc(10,P,o.video))("buttonSize",o.buttonSize)("placement",o.placement)("buttonDirection",o.buttonDirection)("buttonStyled",o.buttonStyled),i.Db(3),i.vc("video",o.video),i.Db(2),i.vc("video",o.video)}}var M=function(){var t=function(){function t(n,e,o,c,r,a,l,s){Tn(this,t),this.authService=n,this.notifier=e,this.confirmService=o,this.blocklistService=c,this.videoBlocklistService=r,this.screenService=a,this.videoService=l,this.redundancyService=s,this.videoCaptions=[],this.displayOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.placement="left",this.buttonStyled=!1,this.buttonSize="normal",this.buttonDirection="vertical",this.videoRemoved=new i.n,this.videoUnblocked=new i.n,this.videoBlocked=new i.n,this.videoAccountMuted=new i.n,this.modalOpened=new i.n,this.videoActions=[],this.loaded=!1}return Vn(t,[{key:"ngOnChanges",value:function(){this.loaded&&(this.loaded=!1,this.playlistAdd.reload()),this.buildActions()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"loadDropdownInformation",value:function(){this.isUserLoggedIn()&&!0!==this.loaded&&(this.loaded=!0,this.displayOptions.playlist&&this.playlistAdd.load())}},{key:"showDownloadModal",value:function(){this.modalOpened.emit(),this.videoDownloadModal.show(this.video,this.videoCaptions)}},{key:"showReportModal",value:function(){this.modalOpened.emit(),this.videoReportModal.show()}},{key:"showBlockModal",value:function(){this.modalOpened.emit(),this.videoBlockModal.show()}},{key:"isVideoUpdatable",value:function(){return this.video.isUpdatableBy(this.user)}},{key:"isVideoRemovable",value:function(){return this.video.isRemovableBy(this.user)}},{key:"isVideoBlockable",value:function(){return this.video.isBlockableBy(this.user)}},{key:"isVideoUnblockable",value:function(){return this.video.isUnblockableBy(this.user)}},{key:"isVideoDownloadable",value:function(){return this.video&&this.video instanceof a.VideoDetails&&this.video.downloadEnabled}},{key:"canVideoBeDuplicated",value:function(){return this.video.canBeDuplicatedBy(this.user)}},{key:"isVideoAccountMutable",value:function(){return this.video.account.id!==this.user.account.id}},{key:"unblockVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="Do you really want to unblock this video? It will be available again in the videos list.",t.t0=!1,t.next=4,this.confirmService.confirm(n,"Unblock");case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.videoBlocklistService.unblockVideo(this.video.id).subscribe((function(){e.notifier.success("Video \n          " + e.video.name + " unblocked.\n        "),e.video.blacklisted=!1,e.video.blockedReason=null,e.videoUnblocked.emit()}),(function(t){return e.notifier.error(t.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"removeVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.modalOpened.emit(),t.t0=!1,t.next=4,this.confirmService.confirm("Czy na pewno chcesz usun\u0105\u0107 ten film?","Delete");case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.videoService.removeVideo(this.video.id).subscribe((function(){n.notifier.success("Usuni\u0119to film \n          " + n.video.name + ".\n        "),n.videoRemoved.emit()}),(function(t){return n.notifier.error(t.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"duplicateVideo",value:function(){var t=this;this.redundancyService.addVideoRedundancy(this.video).subscribe((function(){var n="Ten film zostanie zduplikowany przez twoj\u0105 instancj\u0119.";t.notifier.success(n)}),(function(n){return t.notifier.error(n.message)}))}},{key:"muteVideoAccount",value:function(){var t=this,n={nameWithHost:a.Actor.CREATE_BY_STRING(this.video.account.name,this.video.account.host)};this.blocklistService.blockAccountByUser(n).subscribe((function(){t.notifier.success("Wyciszono konto \n          " + n.nameWithHost + ".\n        "),t.videoAccountMuted.emit()}),(function(n){return t.notifier.error(n.message)}))}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"getPlaylistDropdownPlacement",value:function(){return this.screenService.isInSmallView()?"bottom-right":"bottom-left bottom-right"}},{key:"buildActions",value:function(){var t=this;this.videoActions=[[{label:"Dodaj do playlisty",handler:function(){return t.playlistDropdown.toggle()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.playlist},iconName:"playlist-add"}],[{label:"Download",handler:function(){return t.showDownloadModal()},isDisplayed:function(){return t.displayOptions.download&&t.isVideoDownloadable()},iconName:"download"},{label:"Update",linkBuilder:function(t){return["/videos/update",t.video.uuid]},iconName:"edit",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.update&&t.isVideoUpdatable()}},{label:"Block",handler:function(){return t.showBlockModal()},iconName:"no",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.blacklist&&t.isVideoBlockable()}},{label:"Unblock",handler:function(){return t.unblockVideo()},iconName:"undo",isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.blacklist&&t.isVideoUnblockable()}},{label:"Mirror",handler:function(){return t.duplicateVideo()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.duplicate&&t.canVideoBeDuplicated()},iconName:"cloud-download"},{label:"Delete",handler:function(){return t.removeVideo()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.delete&&t.isVideoRemovable()},iconName:"delete"},{label:"Report",handler:function(){return t.showReportModal()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.report},iconName:"flag"}],[{label:"Mute account",handler:function(){return t.muteVideoAccount()},isDisplayed:function(){return t.authService.isLoggedIn()&&t.displayOptions.mute&&t.isVideoAccountMutable()},iconName:"no"}]]}},{key:"user",get:function(){return this.authService.getUser()}}]),t}();return t.\u0275fac=function(n){return new(n||t)(i.Qb(c.AuthService),i.Qb(c.Notifier),i.Qb(c.ConfirmService),i.Qb(r.c),i.Qb(r.g),i.Qb(c.ScreenService),i.Qb(a.VideoService),i.Qb(a.RedundancyService))},t.\u0275cmp=i.Kb({type:t,selectors:[["my-video-actions-dropdown"]],viewQuery:function(t,n){var e;1&t&&(i.Zc(p,!0),i.Zc(f,!0),i.Zc(m,!0),i.Zc(h,!0),i.Zc(C,!0)),2&t&&(i.Hc(e=i.lc())&&(n.playlistDropdown=e.first),i.Hc(e=i.lc())&&(n.playlistAdd=e.first),i.Hc(e=i.lc())&&(n.videoDownloadModal=e.first),i.Hc(e=i.lc())&&(n.videoReportModal=e.first),i.Hc(e=i.lc())&&(n.videoBlockModal=e.first))},inputs:{video:"video",videoCaptions:"videoCaptions",displayOptions:"displayOptions",placement:"placement",label:"label",buttonStyled:"buttonStyled",buttonSize:"buttonSize",buttonDirection:"buttonDirection"},outputs:{videoRemoved:"videoRemoved",videoUnblocked:"videoUnblocked",videoBlocked:"videoBlocked",videoAccountMuted:"videoAccountMuted",modalOpened:"modalOpened"},features:[i.Bb],decls:1,vars:1,consts:[[4,"ngIf"],["class","playlist-dropdown","ngbDropdown","","role","button","autoClose","outside",3,"placement","openChange",4,"ngIf"],[3,"actions","label","entry","buttonSize","placement","buttonDirection","buttonStyled","click"],["videoDownloadModal",""],[3,"video"],["videoReportModal",""],[3,"video","videoBlocked"],["videoBlockModal",""],["ngbDropdown","","role","button","autoClose","outside",1,"playlist-dropdown",3,"placement","openChange"],["playlistDropdown","ngbDropdown"],["ngbDropdownAnchor","",1,"anchor"],["ngbDropdownMenu",""],[3,"video","lazyLoad"],["playlistAdd",""]],template:function(t,n){1&t&&i.Tc(0,y,9,12,"ng-container",0),2&t&&i.vc("ngIf",0!==n.videoActions.length)},directives:[s.u,u.a,l.a,d.a,g.a,b.e,b.f,b.h,v.a],styles:[".playlist-dropdown[_ngcontent-%COMP%]{position:absolute}.playlist-dropdown[_ngcontent-%COMP%]   .anchor[_ngcontent-%COMP%]{display:block;opacity:0}  .icon-playlist-add{left:2px}"]}),t}()},JEFd:function(t,n,e){"use strict";e.d(n,"a",(function(){return i.a})),e.d(n,"b",(function(){return g}));var o,i=e("s/vm"),c=(e("HZcR"),e("tTqN"),e("MUmz"),e("UT6+"),e("sWvm")),r=e("P8w3"),a=e("Nmku"),l=e("HIM4"),s=e("PcNq"),u=e("aW0q"),d=e("fXoL"),g=((o=function t(){Tn(this,t)}).\u0275mod=d.Ob({type:o}),o.\u0275inj=d.Nb({factory:function(t){return new(t||o)},providers:[],imports:[[a.a,c.c,l.f,u.a,s.a,r.a]]}),o)},MUmz:function(t,n,e){"use strict";e.d(n,"a",(function(){return A}));var o=e("eIep"),i=e("fXoL"),c=e("ey9i"),r=(e("xMQD"),e("SZgj")),a=e("ofXK"),l=e("qZuT"),s=e("tyNb"),u=e("4Gki"),d=e("HZcR"),g=e("gCBE");function b(t,n){1&t&&(i.Ub(0,22),i.ac(1,23),i.Tb())}function v(t,n){1&t&&(i.Ub(0,24),i.ac(1,25),i.Tb())}var p=function(t){return["/video-channels",t]};function f(t,n){if(1&t&&(i.Wb(0,"a",26),i.Rb(1,"img",27),i.Vb()),2&t){var e=i.oc();i.vc("routerLink",i.zc(3,p,e.video.byVideoChannel))("title",e.channelLinkTitle),i.Db(1),i.vc("src",e.getAvatarUrl(),i.Mc)}}var m=function(t){return{"blur-filter":t}};function h(t,n){if(1&t&&(i.Wb(0,"a",28),i.Vc(1),i.Vb()),2&t){var e=i.oc();i.vc("routerLink",e.videoRouterLink)("ngClass",i.zc(4,m,e.isVideoBlur)),i.Eb("title",e.video.name),i.Db(1),i.Wc(e.video.name)}}function C(t,n){if(1&t&&(i.Wb(0,"a",29),i.Vc(1),i.Vb()),2&t){var e=i.oc();i.vc("href",e.videoHref,i.Mc)("target",e.videoTarget)("ngClass",i.zc(5,m,e.isVideoBlur)),i.Eb("title",e.video.name),i.Db(1),i.Wc(e.video.name)}}function O(t,n){if(1&t&&i.Rb(0,"my-date-toggle",30),2&t){var e=i.oc();i.vc("date",e.video.publishedAt)}}function P(t,n){1&t&&(i.Ub(0),i.Vc(1," \u2022 "),i.Tb())}function y(t,n){if(1&t&&(i.Ub(0),i.ac(1,31),i.pc(2,"myNumberFormatter"),i.Tb()),2&t){var e=i.oc();i.Db(2),i.ec(e.video.views)(i.qc(2,2,e.video.views)),i.bc(1)}}var M=function(t){return["/accounts",t]};function _(t,n){if(1&t&&(i.Wb(0,"a",32),i.Vc(1),i.Vb()),2&t){var e=i.oc();i.vc("routerLink",i.zc(2,M,e.video.byAccount)),i.Db(1),i.Xc(" ",e.video.byAccount," ")}}function k(t,n){if(1&t&&(i.Wb(0,"a",33),i.Vc(1),i.Vb()),2&t){var e=i.oc();i.vc("routerLink",i.zc(2,p,e.video.byVideoChannel)),i.Db(1),i.Xc(" ",e.video.byVideoChannel," ")}}function w(t,n){if(1&t&&(i.Ub(0),i.Vc(1),i.Tb()),2&t){var e=i.oc();i.Db(1),i.Wc(e.video.privacy.label)}}function x(t,n){1&t&&(i.Ub(0),i.Vc(1," - "),i.Tb())}function T(t,n){if(1&t&&(i.Ub(0),i.Vc(1),i.Tb()),2&t){var e=i.oc();i.Db(1),i.Wc(e.getStateLabel(e.video))}}function S(t,n){if(1&t&&(i.Wb(0,"span",38),i.Vc(1),i.Vb()),2&t){var e=i.oc(2);i.Db(1),i.Wc(e.video.blockedReason)}}function V(t,n){if(1&t&&(i.Wb(0,"div",34),i.Wb(1,"span",35),i.ac(2,36),i.Vb(),i.Tc(3,S,2,1,"span",37),i.Vb()),2&t){var e=i.oc();i.Db(3),i.vc("ngIf",e.video.blockedReason)}}function D(t,n){1&t&&(i.Wb(0,"div",39),i.ac(1,40),i.Vb())}function I(t,n){if(1&t){var e=i.Xb();i.Wb(0,"my-video-actions-dropdown",41),i.kc("videoRemoved",(function(){return i.Kc(e),i.oc().onVideoRemoved()}))("videoBlocked",(function(){return i.Kc(e),i.oc().onVideoBlocked()}))("videoUnblocked",(function(){return i.Kc(e),i.oc().onVideoUnblocked()}))("videoAccountMuted",(function(){return i.Kc(e),i.oc().onVideoAccountMuted()})),i.Vb()}if(2&t){var o=i.oc();i.vc("video",o.video)("displayOptions",o.videoActionsDisplayOptions)}}var L=function(t,n){return{"display-as-row":t,"fit-width":n}},A=function(){var t=function(){function t(n,e,o,c,r,a){Tn(this,t),this.screenService=n,this.serverService=e,this.authService=o,this.videoPlaylistService=c,this.cd=r,this.localeId=a,this.ownerDisplayType="account",this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.displayAsRow=!1,this.displayVideoActions=!0,this.fitWidth=!1,this.videoLinkType="internal",this.videoBlocked=new i.n,this.videoUnblocked=new i.n,this.videoRemoved=new i.n,this.videoAccountMuted=new i.n,this.videoActionsDisplayOptions={playlist:!0,download:!1,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.showActions=!1,this.channelLinkTitle="",this.videoRouterLink=[]}return Vn(t,[{key:"ngOnInit",value:function(){var t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(n){t.serverConfig=n,t.buildVideoLink()})),this.setUpBy(),this.channelLinkTitle="\n          " + this.video.channel.name + " (channel page)\n        ",this.screenService.isInTouchScreen()&&this.loadActions()}},{key:"buildVideoLink",value:function(){if("internal"!==this.videoLinkType&&this.video.url)return"external"===this.videoLinkType?(this.videoRouterLink=null,this.videoHref=this.video.url,void(this.videoTarget="_blank")):void(this.videoRouterLink=["/search/lazy-load-video",{url:this.video.url}]);this.videoRouterLink=["/videos/watch",this.video.uuid]}},{key:"displayOwnerAccount",value:function(){return"account"===this.ownerDisplayTypeChosen}},{key:"displayOwnerVideoChannel",value:function(){return"videoChannel"===this.ownerDisplayTypeChosen}},{key:"isUnlistedVideo",value:function(){return 2===this.video.privacy.id}},{key:"isPrivateVideo",value:function(){return 3===this.video.privacy.id}},{key:"getStateLabel",value:function(t){if(!t.state)return"";if(3!==t.privacy.id&&1===t.state.id)return "Opublikowano";if(t.scheduledUpdate){var n=new Date(t.scheduledUpdate.updateAt.toString()).toLocaleString(this.localeId);return "Publication scheduled on "+n}return 2===t.state.id&&!0===t.waitTranscoding?"Oczekiwanie na transkodowanie":2===t.state.id?"Do transkodowania":3===t.state.id?"Do importu":""}},{key:"getAvatarUrl",value:function(){return"account"===this.ownerDisplayTypeChosen?this.video.accountAvatarUrl:this.video.videoChannelAvatarUrl}},{key:"loadActions",value:function(){this.displayVideoActions&&(this.showActions=!0),this.loadWatchLater()}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"onVideoUnblocked",value:function(){this.videoUnblocked.emit()}},{key:"onVideoRemoved",value:function(){this.videoRemoved.emit()}},{key:"onVideoAccountMuted",value:function(){this.videoAccountMuted.emit()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onWatchLaterClick",value:function(t){!0===t?this.removeFromWatchLater():this.addToWatchLater(),this.inWatchLaterPlaylist=!t}},{key:"addToWatchLater",value:function(){var t=this;this.videoPlaylistService.addVideoInPlaylist(this.watchLaterPlaylist.id,{videoId:this.video.id}).subscribe((function(n){t.watchLaterPlaylist.playlistElementId=n.videoPlaylistElement.id}))}},{key:"removeFromWatchLater",value:function(){this.videoPlaylistService.removeVideoFromPlaylist(this.watchLaterPlaylist.id,this.watchLaterPlaylist.playlistElementId,this.video.id).subscribe((function(t){}))}},{key:"isWatchLaterPlaylistDisplayed",value:function(){return this.displayVideoActions&&this.isUserLoggedIn()&&void 0!==this.inWatchLaterPlaylist}},{key:"setUpBy",value:function(){this.ownerDisplayTypeChosen="account"!==this.ownerDisplayType&&"videoChannel"!==this.ownerDisplayType?this.video.channel.name===this.video.account.name+"_channel"||this.video.channel.name.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?"account":"videoChannel":this.ownerDisplayType}},{key:"loadWatchLater",value:function(){var t=this;this.isUserLoggedIn()&&void 0===this.inWatchLaterPlaylist&&(this.authService.userInformationLoaded.pipe(Object(o.a)((function(){return t.videoPlaylistService.listenToVideoPlaylistChange(t.video.id)}))).subscribe((function(n){var e=t.authService.getUser().specialPlaylists.find((function(t){return 2===t.type})),o=n.find((function(t){return t.playlistId===e.id}));t.inWatchLaterPlaylist=!1,t.watchLaterPlaylist={id:e.id},o&&(t.inWatchLaterPlaylist=!0,t.watchLaterPlaylist.playlistElementId=o.playlistElementId),t.cd.markForCheck()})),this.videoPlaylistService.runPlaylistCheck(this.video.id))}},{key:"isVideoBlur",get:function(){return this.video.isVideoNSFWForUser(this.user,this.serverConfig)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(i.Qb(c.ScreenService),i.Qb(c.ServerService),i.Qb(c.AuthService),i.Qb(r.b),i.Qb(i.h),i.Qb(i.w))},t.\u0275cmp=i.Kb({type:t,selectors:[["my-video-miniature"]],inputs:{user:"user",video:"video",ownerDisplayType:"ownerDisplayType",displayOptions:"displayOptions",displayAsRow:"displayAsRow",displayVideoActions:"displayVideoActions",fitWidth:"fitWidth",videoLinkType:"videoLinkType"},outputs:{videoBlocked:"videoBlocked",videoUnblocked:"videoUnblocked",videoRemoved:"videoRemoved",videoAccountMuted:"videoAccountMuted"},decls:26,vars:27,consts:function(){var t,n,e;return t="Niepubliczny",n="Prywatne",e="{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} wy\u015Bwietle\u0144}}\n        ",[[1,"video-miniature",3,"ngClass","mouseenter"],[3,"video","nsfw","videoRouterLink","videoHref","videoTarget","displayWatchLaterPlaylist","inWatchLaterPlaylist","watchLaterClick"],["ngProjectAs","label-warning",5,["label-warning"],4,"ngIf"],["ngProjectAs","label-danger",5,["label-danger"],4,"ngIf"],[1,"video-bottom"],[1,"video-miniature-information"],[1,"d-inline-flex","video-miniature-meta"],["class","avatar",3,"routerLink","title",4,"ngIf"],[1,"w-100","d-flex","flex-column"],["tabindex","-1","class","video-miniature-name",3,"routerLink","ngClass",4,"ngIf"],["tabindex","-1","class","video-miniature-name",3,"href","target","ngClass",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date",4,"ngIf"],[1,"views"],[4,"ngIf"],["tabindex","-1","class","video-miniature-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-miniature-channel",3,"routerLink",4,"ngIf"],[1,"video-info-privacy"],["class","video-info-blocked",4,"ngIf"],["class","video-info-nsfw",4,"ngIf"],[1,"video-actions"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted",4,"ngIf"],["ngProjectAs","label-warning",5,["label-warning"]],t,["ngProjectAs","label-danger",5,["label-danger"]],n,[1,"avatar",3,"routerLink","title"],["alt","",3,"src"],["tabindex","-1",1,"video-miniature-name",3,"routerLink","ngClass"],["tabindex","-1",1,"video-miniature-name",3,"href","target","ngClass"],[3,"date"],e=i.fc(e,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),["tabindex","-1",1,"video-miniature-account",3,"routerLink"],["tabindex","-1",1,"video-miniature-channel",3,"routerLink"],[1,"video-info-blocked"],[1,"blocked-label"],"Blocked",["class","blocked-reason",4,"ngIf"],[1,"blocked-reason"],[1,"video-info-nsfw"],"Wra\u017Cliwe",["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted"]]},template:function(t,n){1&t&&(i.Wb(0,"div",0),i.kc("mouseenter",(function(){return n.loadActions()})),i.Wb(1,"my-video-thumbnail",1),i.kc("watchLaterClick",(function(t){return n.onWatchLaterClick(t)})),i.Tc(2,b,2,0,"ng-container",2),i.Tc(3,v,2,0,"ng-container",3),i.Vb(),i.Wb(4,"div",4),i.Wb(5,"div",5),i.Wb(6,"div",6),i.Tc(7,f,2,5,"a",7),i.Wb(8,"div",8),i.Tc(9,h,2,6,"a",9),i.Tc(10,C,2,7,"a",10),i.Wb(11,"span",11),i.Tc(12,O,1,1,"my-date-toggle",12),i.Wb(13,"span",13),i.Tc(14,P,2,0,"ng-container",14),i.Tc(15,y,3,4,"ng-container",14),i.Vb(),i.Vb(),i.Tc(16,_,2,4,"a",15),i.Tc(17,k,2,4,"a",16),i.Wb(18,"div",17),i.Tc(19,w,2,1,"ng-container",14),i.Tc(20,x,2,0,"ng-container",14),i.Tc(21,T,2,1,"ng-container",14),i.Vb(),i.Vb(),i.Vb(),i.Tc(22,V,4,1,"div",18),i.Tc(23,D,2,0,"div",19),i.Vb(),i.Wb(24,"div",20),i.Tc(25,I,1,2,"my-video-actions-dropdown",21),i.Vb(),i.Vb(),i.Vb()),2&t&&(i.vc("ngClass",i.Ac(24,L,n.displayAsRow,n.fitWidth)),i.Db(1),i.vc("video",n.video)("nsfw",n.isVideoBlur)("videoRouterLink",n.videoRouterLink)("videoHref",n.videoHref)("videoTarget",n.videoTarget)("displayWatchLaterPlaylist",n.isWatchLaterPlaylistDisplayed())("inWatchLaterPlaylist",n.inWatchLaterPlaylist),i.Db(1),i.vc("ngIf",n.displayOptions.privacyLabel&&n.isUnlistedVideo()),i.Db(1),i.vc("ngIf",n.displayOptions.privacyLabel&&n.isPrivateVideo()),i.Db(4),i.vc("ngIf",n.displayOptions.avatar),i.Db(2),i.vc("ngIf",!n.videoHref),i.Db(1),i.vc("ngIf",n.videoHref),i.Db(2),i.vc("ngIf",n.displayOptions.date),i.Db(2),i.vc("ngIf",n.displayOptions.date&&n.displayOptions.views),i.Db(1),i.vc("ngIf",n.displayOptions.views),i.Db(1),i.vc("ngIf",n.displayOptions.by&&n.displayOwnerAccount()),i.Db(1),i.vc("ngIf",n.displayOptions.by&&n.displayOwnerVideoChannel()),i.Db(2),i.vc("ngIf",n.displayOptions.privacyText),i.Db(1),i.vc("ngIf",n.displayOptions.privacyText&&n.displayOptions.state&&n.getStateLabel(n.video)),i.Db(1),i.vc("ngIf",n.displayOptions.state),i.Db(1),i.vc("ngIf",n.displayOptions.blacklistInfo&&n.video.blacklisted),i.Db(1),i.vc("ngIf",n.displayOptions.nsfw&&n.video.nsfw),i.Db(2),i.vc("ngIf",n.showActions))},directives:[a.r,l.a,a.u,s.k,u.a,d.a],pipes:[g.a],styles:['.video-miniature[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;padding-bottom:15px;vertical-align:top}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{display:flex}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:183px;line-height:normal}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:10px 10px 0 0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:40px;height:40px;min-width:40px;min-height:40px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.2em;font-size:1.1em;line-height:1.1em;overflow:hidden;text-overflow:ellipsis;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);margin-top:10px;margin-bottom:5px;width:calc(100% - 40px)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-meta[_ngcontent-%COMP%]{width:calc(100% + 40px);overflow:hidden}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{display:block;font-size:13px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;color:var(--greyForegroundColor)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{color:#303030}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-label[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-weight:600}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-reason[_ngcontent-%COMP%]:before{content:" - "}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin-top:3px;width:40px;height:30px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root:not(.show){opacity:0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .playlist-dropdown.show+my-action-dropdown .dropdown-root{opacity:1}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon{opacity:.6}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon:hover{opacity:1}@media screen and (max-width:800px){.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{margin:0 10px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root{opacity:1!important}}.video-miniature[_ngcontent-%COMP%]:hover   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root, .video-miniature[_ngcontent-%COMP%]:hover     .video-thumbnail .video-thumbnail-actions-overlay{opacity:1}.video-miniature.fit-width[_ngcontent-%COMP%]{width:100%}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{width:100%!important}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:calc(100% - 40px)!important}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{position:absolute;width:100%;height:100%;top:0}.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:row;padding-bottom:0;height:auto;display:flex;flex-grow:1}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:10px}@media screen and (min-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:auto;min-width:500px}}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin-top:2px;margin-bottom:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:95%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%] + .video-miniature-channel[_ngcontent-%COMP%]{margin-top:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{margin-top:3px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}@media screen and (max-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{min-width:0}}'],changeDetection:0}),t}()},OsX3:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("D0XW"),i=e("7o/Q"),c=e("z+Ro");function r(t){var n=arguments.length,e=o.a;Object(c.a)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],n--);var i=null;n>=2&&(i=arguments[1]);var r=Number.POSITIVE_INFINITY;return n>=3&&(r=arguments[2]),function(n){return n.lift(new a(t,i,r,e))}}var a=function(){function t(n,e,o,i){Tn(this,t),this.bufferTimeSpan=n,this.bufferCreationInterval=e,this.maxBufferSize=o,this.scheduler=i}return Vn(t,[{key:"call",value:function(t,n){return n.subscribe(new s(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}]),t}(),l=function t(){Tn(this,t),this.buffer=[]},s=function(t){en(e,t);var n=cn(e);function e(t,o,i,c,r){var a;Tn(this,e),(a=n.call(this,t)).bufferTimeSpan=o,a.bufferCreationInterval=i,a.maxBufferSize=c,a.scheduler=r,a.contexts=[];var l=a.openContext();if(a.timespanOnly=null==i||i<0,a.timespanOnly)a.add(l.closeAction=r.schedule(u,o,{subscriber:an(a),context:l,bufferTimeSpan:o}));else{var s={bufferTimeSpan:o,bufferCreationInterval:i,subscriber:an(a),scheduler:r};a.add(l.closeAction=r.schedule(g,o,{subscriber:an(a),context:l})),a.add(r.schedule(d,i,s))}return a}return Vn(e,[{key:"_next",value:function(t){for(var n,e=this.contexts,o=e.length,i=0;i<o;i++){var c=e[i],r=c.buffer;r.push(t),r.length==this.maxBufferSize&&(n=c)}n&&this.onBufferFull(n)}},{key:"_error",value:function(t){this.contexts.length=0,Z(ln(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){for(var t=this.contexts,n=this.destination;t.length>0;){var o=t.shift();n.next(o.buffer)}Z(ln(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.contexts=null}},{key:"onBufferFull",value:function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(u,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}},{key:"openContext",value:function(){var t=new l;return this.contexts.push(t),t}},{key:"closeContext",value:function(t){this.destination.next(t.buffer);var n=this.contexts;(n?n.indexOf(t):-1)>=0&&n.splice(n.indexOf(t),1)}}]),e}(i.a);function u(t){var n=t.subscriber,e=t.context;e&&n.closeContext(e),n.closed||(t.context=n.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function d(t){var n=t.bufferCreationInterval,e=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,c=o.openContext();o.closed||(o.add(c.closeAction=i.schedule(g,e,{subscriber:o,context:c})),this.schedule(t,n))}function g(t){var n=t.subscriber,e=t.context;n.closeContext(e)}},PcNq:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e("qZuT");var o,i=e("P8w3"),c=e("Nmku"),r=e("fXoL"),a=((o=function t(){Tn(this,t)}).\u0275mod=r.Ob({type:o}),o.\u0275inj=r.Nb({factory:function(t){return new(t||o)},providers:[],imports:[[c.a,i.a]]}),o)},Pehk:function(t,n,e){"use strict";e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return c})),e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return a})),e.d(n,"e",(function(){return l}));var o=e("3Pt+"),i={VALIDATORS:[o.G.required,o.G.minLength(1),o.G.maxLength(120)],MESSAGES:{required:"Nazwa wy\u015Bwietlana jest wymagana.",minlength:"Wy\u015Bwietlana nazwa musi zawiera\u0107 przynajmniej 1 znak.",maxlength:"Nazwa wy\u015Bwietlana nie mo\u017Ce zawiera\u0107 wi\u0119cej ni\u017C 120 znak\xF3w."}},c={VALIDATORS:[o.G.required],MESSAGES:{required:"Prywatno\u015B\u0107 jest wymagana."}},r={VALIDATORS:[o.G.minLength(3),o.G.maxLength(1e3)],MESSAGES:{minlength:"Opis musi zawiera\u0107 przynajmniej 3 znaki.",maxlength:"Opis nie mo\u017Ce mie\u0107 wi\u0119cej ni\u017C 1000 znak\xF3w."}},a={VALIDATORS:[],MESSAGES:{required:"Kana\u0142 jest wymagany gdy playlista jest publiczna."}};function l(t,n){n.toString()===1..toString()?t.setValidators([o.G.required]):t.setValidators(null),t.markAsDirty(),t.updateValueAndValidity()}},SZgj:function(t,n,e){"use strict";e("DTAc"),e("2Qox"),e("DQE6"),e("dTdE"),e("a9tR");var o=e("4Yo8");e.d(n,"b",(function(){return o.a}));var i=e("aW0q");e.d(n,"a",(function(){return i.a}))},"UT6+":function(t,n,e){"use strict";e.d(n,"a",(function(){return O}));var o=e("fXoL"),i=e("ey9i"),c=e("xMQD"),r=e("s/vm"),a=e("tyNb"),l=e("ofXK"),s=e("UjHu"),u=e("/xt7"),d=e("3Pt+"),g=e("MUmz");function b(t,n){1&t&&(o.Wb(0,"div",3),o.ac(1,4),o.Vb())}function v(t,n){1&t&&o.Sb(0)}function p(t,n){if(1&t){var e=o.Xb();o.Wb(0,"div",11),o.Wb(1,"div",12),o.Wb(2,"span",13),o.kc("click",(function(){return o.Kc(e),o.oc(2).abortSelectionMode()})),o.ac(3,14),o.Vb(),o.Tc(4,v,1,0,"ng-container",15),o.Vb(),o.Vb()}if(2&t){var i=o.oc(2);o.Db(4),o.vc("ngTemplateOutlet",i.globalButtonsTemplate)}}function f(t,n){1&t&&o.Sb(0)}var m=function(t){return{$implicit:t}};function h(t,n){if(1&t&&(o.Ub(0),o.Tc(1,f,1,0,"ng-container",16),o.Tb()),2&t){var e=o.oc().$implicit,i=o.oc();o.Db(1),o.vc("ngTemplateOutlet",i.rowButtonsTemplate)("ngTemplateOutletContext",o.zc(2,m,e))}}function C(t,n){if(1&t){var e=o.Xb();o.Wb(0,"div",5),o.Wb(1,"div",6),o.Wb(2,"my-peertube-checkbox",7),o.kc("ngModelChange",(function(t){o.Kc(e);var i=n.$implicit;return o.oc()._selection[i.id]=t})),o.Vb(),o.Vb(),o.Rb(3,"my-video-miniature",8),o.Tc(4,p,5,1,"div",9),o.Tc(5,h,2,4,"ng-container",10),o.Vb()}if(2&t){var i=n.$implicit,c=n.index,r=o.oc();o.Db(2),o.vc("inputName","video-check-"+i.id)("ngModel",r._selection[i.id]),o.Db(1),o.vc("video",i)("displayAsRow",!0)("displayOptions",r.miniatureDisplayOptions)("displayVideoActions",!1)("ownerDisplayType",r.ownerDisplayType),o.Db(1),o.vc("ngIf",!0===r.isInSelectionMode()&&0===c),o.Db(1),o.vc("ngIf",!1===r.isInSelectionMode())}}var O=function(){var t=function(t){en(e,t);var n=cn(e);function e(t,i,c,r,a,l,s,u){var d;return Tn(this,e),(d=n.call(this)).router=t,d.route=i,d.notifier=c,d.authService=r,d.userService=a,d.screenService=l,d.storageService=s,d.serverService=u,d.selectionChange=new o.n,d.videosModelChange=new o.n,d._selection={},d}return Vn(e,[{key:"ngOnInit",value:function(){Z(ln(e.prototype),"ngOnInit",this).call(this)}},{key:"ngAfterContentInit",value:function(){var t=this.templates.find((function(t){return"rowButtons"===t.name}));t&&(this.rowButtonsTemplate=t.template);var n=this.templates.find((function(t){return"globalButtons"===t.name}));n&&(this.globalButtonsTemplate=n.template)}},{key:"ngOnDestroy",value:function(){Z(ln(e.prototype),"ngOnDestroy",this).call(this)}},{key:"getVideosObservable",value:function(t){return this.getVideosObservableFunction(t,this.sort)}},{key:"abortSelectionMode",value:function(){this._selection={}}},{key:"isInSelectionMode",value:function(){var t=this;return Object.keys(this._selection).some((function(n){return!0===t._selection[n]}))}},{key:"generateSyndicationList",value:function(){throw new Error("Method not implemented.")}},{key:"onMoreVideos",value:function(){this.videosModel=this.videos}},{key:"selection",get:function(){return this._selection},set:function(t){this._selection=t,this.selectionChange.emit(this._selection)}},{key:"videosModel",get:function(){return this.videos},set:function(t){this.videos=t,this.videosModelChange.emit(this.videos)}}]),e}(r.a);return t.\u0275fac=function(n){return new(n||t)(o.Qb(a.h),o.Qb(a.a),o.Qb(i.Notifier),o.Qb(i.AuthService),o.Qb(i.UserService),o.Qb(i.ScreenService),o.Qb(i.LocalStorageService),o.Qb(i.ServerService))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-videos-selection"]],contentQueries:function(t,n,e){var i;1&t&&o.Jb(e,c.PeerTubeTemplateDirective,!1),2&t&&o.Hc(i=o.lc())&&(n.templates=i)},inputs:{pagination:"pagination",titlePage:"titlePage",miniatureDisplayOptions:"miniatureDisplayOptions",ownerDisplayType:"ownerDisplayType",getVideosObservableFunction:"getVideosObservableFunction",selection:"selection",videosModel:"videosModel"},outputs:{selectionChange:"selectionChange",videosModelChange:"videosModelChange"},features:[o.Ab],decls:3,vars:5,consts:function(){return[["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results"],"Brak wynik\xF3w.",[1,"video"],[1,"checkbox-container"],[3,"inputName","ngModel","ngModelChange"],[3,"video","displayAsRow","displayOptions","displayVideoActions","ownerDisplayType"],["class","action-selection-mode",4,"ngIf"],[4,"ngIf"],[1,"action-selection-mode"],[1,"action-selection-mode-child"],[1,"action-button","action-button-cancel-selection",3,"click"],"\n          Anuluj\n        ",[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(t,n){1&t&&(o.Tc(0,b,2,0,"div",0),o.Wb(1,"div",1),o.kc("nearOfBottom",(function(){return n.onNearOfBottom()})),o.Tc(2,C,6,9,"div",2),o.Vb()),2&t&&(o.vc("ngIf",0===n.pagination.totalItems),o.Db(1),o.vc("autoInit",!0)("dataObservable",n.onDataSubject.asObservable()),o.Db(1),o.vc("ngForOf",n.videos)("ngForTrackBy",n.videoById))},directives:[l.u,s.a,l.t,u.a,d.s,d.v,g.a,l.B],styles:['.action-selection-mode[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]{position:fixed}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-left:55px}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.focus-visible[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:active, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:hover, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{cursor:default}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;margin-left:12px}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:none}.video[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-top:10px}.action-selection-mode[_ngcontent-%COMP%]{display:none}}']}),t}()},a9tR:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("6rF9"),i=e("xMQD"),c=e("UozT"),r=function(){function t(n,e){Tn(this,t);var r=Object(o.e)();this.id=n.id,this.uuid=n.uuid,this.isLocal=n.isLocal,this.displayName=n.displayName,this.description=n.description,this.privacy=n.privacy,this.thumbnailPath=n.thumbnailPath,this.thumbnailPath?(this.thumbnailUrl=r+n.thumbnailPath,this.originThumbnailUrl=this.thumbnailUrl):this.thumbnailUrl=window.location.origin+"/client/assets/images/default-playlist.jpg",this.embedPath=n.embedPath,this.embedUrl=Object(o.f)()+n.embedPath,this.videosLength=n.videosLength,this.type=n.type,this.createdAt=new Date(n.createdAt),this.updatedAt=new Date(n.updatedAt),this.ownerAccount=n.ownerAccount,this.ownerBy=i.Actor.CREATE_BY_STRING(n.ownerAccount.name,n.ownerAccount.host),this.ownerAvatarUrl=i.Actor.GET_ACTOR_AVATAR_URL(this.ownerAccount),n.videoChannel&&(this.videoChannel=n.videoChannel,this.videoChannelBy=i.Actor.CREATE_BY_STRING(n.videoChannel.name,n.videoChannel.host),this.videoChannelAvatarUrl=i.Actor.GET_ACTOR_AVATAR_URL(this.videoChannel)),this.privacy.label=Object(c.h)(this.privacy.label,e),2===this.type.id&&(this.displayName=Object(c.h)(this.displayName,e))}return Vn(t,[{key:"refreshThumbnail",value:function(){this.originThumbnailUrl&&(this.thumbnailVersion||(this.thumbnailVersion=0),this.thumbnailVersion++,this.thumbnailUrl=this.originThumbnailUrl+"?v"+this.thumbnailVersion)}}]),t}()},aW0q:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("sWvm"),i=e("P8w3"),c=e("Nmku"),r=e("PcNq"),a=e("4Yo8"),l=e("fXoL"),s=function(){var t=function t(){Tn(this,t)};return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(n){return new(n||t)},providers:[a.a],imports:[[c.a,o.c,r.a,i.a]]}),t}()},b613:function(t,n,e){"use strict";e.d(n,"a",(function(){return k}));var o=e("NOtv"),i=e("BeL+"),c=e("jtHE"),r=e("XNiG"),a=e("VRyK"),l=e("D0XW"),s=e("LRne"),u=e("OsX3"),d=e("pLZG"),g=e("lJxs"),b=e("pxpQ"),v=e("eIep"),p=e("w1tV"),f=e("JIr8"),m=e("vkgz"),h=e("tk/3"),C=e("ey9i"),O=e("6rF9"),P=e("xMQD"),y=e("AytR"),M=e("fXoL"),_=o("peertube:subscriptions:UserSubscriptionService"),k=function(){var t=function(){function t(n,e,o,s,f){var m=this;Tn(this,t),this.authHttp=n,this.restExtractor=e,this.videoService=o,this.restService=s,this.ngZone=f,this.existsSubject=new c.a(1),this.myAccountSubscriptionCache={},this.myAccountSubscriptionCacheObservable={},this.myAccountSubscriptionCacheSubject=new r.a,this.existsObservable=Object(a.a)(this.existsSubject.pipe(Object(u.a)(500,Object(O.k)(this.ngZone,l.b)),Object(d.a)((function(t){return 0!==t.length})),Object(g.a)((function(t){return Object(i.a)(t)})),Object(b.b)(Object(O.d)(this.ngZone,l.b)),Object(v.a)((function(t){return m.doSubscriptionsExist(t)})),Object(p.a)()),this.myAccountSubscriptionCacheSubject)}return Vn(t,[{key:"getUserSubscriptionVideos",value:function(n){var e=this,o=n.videoPagination,i=n.sort,c=n.skipCount,r=this.restService.componentPaginationToRestPagination(o),a=new h.f;return a=this.restService.addRestGetParams(a,r,i),c&&(a=a.set("skipCount",c+"")),this.authHttp.get(t.BASE_USER_SUBSCRIPTIONS_URL+"/videos",{params:a}).pipe(Object(v.a)((function(t){return e.videoService.extractVideos(t)})),Object(f.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"deleteSubscription",value:function(n){var e=this;return this.authHttp.delete(t.BASE_USER_SUBSCRIPTIONS_URL+"/"+n).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(m.a)((function(){e.myAccountSubscriptionCache[n]=!1,e.myAccountSubscriptionCacheSubject.next(e.myAccountSubscriptionCache)})),Object(f.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"addSubscription",value:function(n){var e=this;return this.authHttp.post(t.BASE_USER_SUBSCRIPTIONS_URL,{uri:n}).pipe(Object(g.a)(this.restExtractor.extractDataBool),Object(m.a)((function(){e.myAccountSubscriptionCache[n]=!0,e.myAccountSubscriptionCacheSubject.next(e.myAccountSubscriptionCache)})),Object(f.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"listSubscriptions",value:function(n){var e=this,o=n.pagination,i=n.search,c=t.BASE_USER_SUBSCRIPTIONS_URL,r=this.restService.componentPaginationToRestPagination(o),a=new h.f;return a=this.restService.addRestGetParams(a,r),i&&(a=a.append("search",i)),this.authHttp.get(c,{params:a}).pipe(Object(g.a)((function(t){return P.VideoChannelService.extractVideoChannels(t)})),Object(f.a)((function(t){return e.restExtractor.handleError(t)})))}},{key:"listenToMyAccountSubscriptionCacheSubject",value:function(){return this.myAccountSubscriptionCacheSubject.asObservable()}},{key:"listenToSubscriptionCacheChange",value:function(t){if(t in this.myAccountSubscriptionCacheObservable)return this.myAccountSubscriptionCacheObservable[t];var n=this.existsObservable.pipe(Object(d.a)((function(n){return void 0!==n[t]})),Object(g.a)((function(n){return n[t]})));return this.myAccountSubscriptionCacheObservable[t]=n,n}},{key:"doesSubscriptionExist",value:function(t){var n=this;return _("Running subscription check for %d.",t),t in this.myAccountSubscriptionCache?(_("Found cache for %d.",t),Object(s.a)(this.myAccountSubscriptionCache[t])):(this.existsSubject.next(t),_("Fetching from network for %d.",t),this.existsObservable.pipe(Object(d.a)((function(n){return void 0!==n[t]})),Object(g.a)((function(n){return n[t]})),Object(m.a)((function(e){return n.myAccountSubscriptionCache[t]=e}))))}},{key:"doSubscriptionsExist",value:function(n){var e=this,o=t.BASE_USER_SUBSCRIPTIONS_URL+"/exist",i=new h.f;return i=this.restService.addObjectParams(i,{uris:n}),this.authHttp.get(o,{params:i}).pipe(Object(m.a)((function(t){e.myAccountSubscriptionCache=Object.assign(Object.assign({},e.myAccountSubscriptionCache),t)})),Object(f.a)((function(t){return e.restExtractor.handleError(t)})))}}]),t}();return t.BASE_USER_SUBSCRIPTIONS_URL=y.a.apiUrl+"/api/v1/users/me/subscriptions",t.\u0275fac=function(n){return new(n||t)(M.hc(h.b),M.hc(C.RestExtractor),M.hc(P.VideoService),M.hc(C.RestService),M.hc(M.C))},t.\u0275prov=M.Mb({token:t,factory:t.\u0275fac}),t}()},dTdE:function(t,n,e){"use strict";e.d(n,"a",(function(){return g})),e("a9tR");var o=e("fXoL"),i=e("ofXK"),c=e("tyNb"),r=e("LsvZ"),a=function(t){return["/video-channels",t]};function l(t,n){if(1&t&&(o.Wb(0,"a",15),o.ac(1,16),o.Vb()),2&t){var e=o.oc();o.vc("routerLink",o.zc(2,a,e.playlist.videoChannelBy)),o.Db(1),o.ec(e.playlist.videoChannelBy),o.bc(1)}}function s(t,n){if(1&t&&(o.Wb(0,"span",17),o.Vc(1),o.Vb()),2&t){var e=o.oc();o.Db(1),o.Wc(e.playlist.privacy.label)}}function u(t,n){if(1&t&&(o.Wb(0,"div",18),o.Vc(1),o.Vb()),2&t){var e=o.oc();o.Db(1),o.Wc(e.playlist.description)}}var d=function(t,n){return{"no-videos":t,"to-manage":n}},g=function(){var t=function(){function t(){Tn(this,t),this.toManage=!1,this.displayChannel=!1,this.displayDescription=!1,this.displayPrivacy=!1}return Vn(t,[{key:"getPlaylistUrl",value:function(){return this.toManage?["/my-account/video-playlists",this.playlist.uuid]:0===this.playlist.videosLength?null:["/videos/watch/playlist",this.playlist.uuid]}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-playlist-miniature"]],inputs:{playlist:"playlist",toManage:"toManage",displayChannel:"displayChannel",displayDescription:"displayDescription",displayPrivacy:"displayPrivacy"},decls:18,vars:19,consts:function(){var t;return t="{VAR_PLURAL, plural, =0 {No videos} =1 {1 video} other {{INTERPOLATION} film\xF3w}}\n        ",[[1,"miniature",3,"ngClass"],[1,"miniature-thumbnail",3,"routerLink"],["alt",""],[1,"miniature-playlist-info-overlay"],t=o.fc(t,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[1,"play-overlay"],[1,"icon"],[1,"miniature-info"],["tabindex","-1",1,"miniature-name",3,"routerLink"],["class","by",3,"routerLink",4,"ngIf"],[1,"privacy-date"],["class","video-info-privacy",4,"ngIf"],[1,"updated-at"],"Zaktualizowano \n          " + "\ufffd0\ufffd" + "\n        ",["class","video-info-description",4,"ngIf"],[1,"by",3,"routerLink"],"\n          " + "\ufffd0\ufffd" + "\n        ",[1,"video-info-privacy"],[1,"video-info-description"]]},template:function(t,n){1&t&&(o.Wb(0,"div",0),o.Wb(1,"a",1),o.Rb(2,"img",2),o.Wb(3,"div",3),o.Ub(4),o.ac(5,4),o.Tb(),o.Vb(),o.Wb(6,"div",5),o.Rb(7,"div",6),o.Vb(),o.Vb(),o.Wb(8,"div",7),o.Wb(9,"a",8),o.Vc(10),o.Vb(),o.Tc(11,l,2,4,"a",9),o.Wb(12,"div",10),o.Tc(13,s,2,1,"span",11),o.Wb(14,"span",12),o.ac(15,13),o.pc(16,"myFromNow"),o.Vb(),o.Vb(),o.Tc(17,u,2,1,"div",14),o.Vb(),o.Vb()),2&t&&(o.vc("ngClass",o.Ac(16,d,0===n.playlist.videosLength,n.toManage)),o.Db(1),o.vc("routerLink",n.getPlaylistUrl()),o.Eb("title",n.playlist.description),o.Db(1),o.Eb("aria-labelledby",n.playlist.displayName)("src",n.playlist.thumbnailUrl,o.Mc),o.Db(3),o.ec(n.playlist.videosLength)(n.playlist.videosLength),o.bc(5),o.Db(4),o.vc("routerLink",n.getPlaylistUrl()),o.Eb("title",n.playlist.description),o.Db(1),o.Xc(" ",n.playlist.displayName," "),o.Db(1),o.vc("ngIf",n.displayChannel&&n.playlist.videoChannelBy),o.Db(2),o.vc("ngIf",n.displayPrivacy),o.Db(3),o.ec(o.qc(16,14,n.playlist.updatedAt)),o.bc(15),o.Db(1),o.vc("ngIf",n.displayDescription))},directives:[i.r,c.k,i.u],pipes:[r.a],styles:['.miniature[_ngcontent-%COMP%]{display:inline-block}.miniature.no-videos[_ngcontent-%COMP%]:not(.to-manage)   a[_ngcontent-%COMP%]{cursor:default!important}.miniature.no-videos[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature.to-manage[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{display:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .miniature-playlist-info-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;right:0;bottom:0;height:122px;padding:0 10px;display:flex;align-items:center;font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]{width:200px;margin-top:2px;line-height:normal}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]{max-height:2.2em;font-size:1.1em;line-height:1.1em;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin:0}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(3px);filter:blur(3px);padding-left:4px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]{display:block;color:var(--greyForegroundColor)}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:active, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:focus, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]{margin-top:5px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]:after{content:"-";margin:0 3px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin-top:10px;color:var(--greyForegroundColor)}']}),t}()},gY50:function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var o=e("sWvm"),i=e("nnN+"),c=e("fXoL"),r=e("3Pt+"),a=e("ofXK"),l=e("1lk2"),s=e("BLxp");function u(t,n){1&t&&(c.gc(0,4,1),c.Rb(1,"span"),c.dc())}function d(t,n){1&t&&(c.gc(0,4,2),c.Rb(1,"span"),c.dc())}function g(t,n){1&t&&(c.Ub(0),c.gc(1,7),c.Rb(2,"br"),c.Rb(3,"br"),c.dc(),c.Tb())}function b(t,n){1&t&&(c.Wb(0,"my-help"),c.Tc(1,g,4,0,"ng-template",6),c.Vb())}function v(t,n){1&t&&(c.Ub(0),c.gc(1,8),c.Rb(2,"br"),c.Rb(3,"br"),c.dc(),c.Tb())}function p(t,n){1&t&&(c.Wb(0,"my-help"),c.Tc(1,v,4,0,"ng-template",6),c.Vb())}var f=function(){var t=function(t){en(e,t);var n=cn(e);function e(t){var o;return Tn(this,e),(o=n.call(this)).formValidatorService=t,o.interact=!1,o.showHelp=!1,o}return Vn(e,[{key:"ngOnInit",value:function(){this.buildForm({text:i.f})}},{key:"onValidKey",value:function(){this.check(),this.form.valid&&this.formValidated()}},{key:"formValidated",value:function(){var t=this,n=Wt(this.form.value.text.split("@"),2),e=n[0],o=n[1];fetch("https://".concat(o,"/.well-known/webfinger?resource=acct:").concat(e,"@").concat(o)).then((function(t){return t.json()})).then((function(n){return new Promise((function(e,o){if(n&&Array.isArray(n.links)){var i=n.links.find((function(t){return t&&"string"==typeof t.template&&"http://ostatus.org/schema/1.0/subscribe"===t.rel}));i&&i.template.includes("{uri}")&&e(i.template.replace("{uri}",encodeURIComponent(t.uri)))}o()}))})).then(window.open).catch((function(t){return console.error(t)}))}}]),e}(o.a);return t.\u0275fac=function(n){return new(n||t)(c.Qb(o.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["my-remote-subscribe"]],inputs:{uri:"uri",interact:"interact",showHelp:"showHelp"},features:[c.Ab],decls:9,vars:6,consts:function(){var t,n,e;return t="\n          " + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "Zdalna subskrypcja\n          " + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "\n          " + "\ufffd*6:2\ufffd\ufffd#1:2\ufffd" + "Zdalna interakcja\n          " + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "\n        ",t=c.fc(t),n="Mo\u017Cesz subskrybowa\u0107 ten kana\u0142 z dowolnej instancji zgodnej z protoko\u0142em ActivityPub.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Na przyk\u0142ad na Mastodonie lub Pleromie mo\u017Cesz wpisa\u0107 URL kana\u0142u do pola wyszukiwania i subskrybowa\u0107. \n        ",n=c.fc(n),e="Mo\u017Cesz wej\u015B\u0107 z tym w interakcj\u0119 z dowolnej instancji zgodnej z protoko\u0142em ActivityPub.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Na przyk\u0142ad na Mastodonie lub Pleromie mo\u017Cesz wpisa\u0107 aktualny URL do pola wyszukiwania i subskrybowa\u0107. \n        ",[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["type","email","formControlName","text","placeholder","jane_doe@example.com",1,"form-control",3,"keyup.control.enter","keyup.meta.enter"],["type","submit",1,"btn","btn-sm","btn-remote-follow",3,"disabled"],t,[4,"ngIf"],["ptTemplate","customHtml"],n,e=c.fc(e)]},template:function(t,n){1&t&&(c.Wb(0,"form",0),c.kc("ngSubmit",(function(){return n.formValidated()})),c.Wb(1,"div",1),c.Wb(2,"input",2),c.kc("keyup.control.enter",(function(){return n.onValidKey()}))("keyup.meta.enter",(function(){return n.onValidKey()})),c.Vb(),c.Vb(),c.Wb(3,"button",3),c.gc(4,4),c.Tc(5,u,2,0,"span",5),c.Tc(6,d,2,0,"span",5),c.dc(),c.Vb(),c.Tc(7,b,2,0,"my-help",5),c.Tc(8,p,2,0,"my-help",5),c.Vb()),2&t&&(c.vc("formGroup",n.form),c.Db(3),c.vc("disabled",!n.form.valid),c.Db(2),c.vc("ngIf",!n.interact),c.Db(1),c.vc("ngIf",n.interact),c.Db(1),c.vc("ngIf",!n.interact&&n.showHelp),c.Db(1),c.vc("ngIf",n.showHelp&&n.interact))},directives:[r.I,r.t,r.l,r.c,r.s,r.j,a.u,l.a,s.a],styles:['.btn-remote-follow[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.btn-remote-follow.focus-visible[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-remote-follow[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:active, .btn-remote-follow[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-remote-follow[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-remote-follow.disabled[_ngcontent-%COMP%], .btn-remote-follow[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t}()},hHkf:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e("sWvm"),i=e("Nmku"),c=e("b613"),r=e("fXoL"),a=function(){var t=function t(){Tn(this,t)};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(n){return new(n||t)},providers:[c.a],imports:[[i.a,o.c]]}),t}()},qZuT:function(t,n,e){"use strict";e.d(n,"a",(function(){return y}));var o=e("fXoL"),i=e("ey9i"),c=(e("xMQD"),e("ofXK")),r=e("tyNb"),a=e("1kSV"),l=e("UkmY");function s(t,n){1&t&&o.Sb(0)}function u(t,n){if(1&t&&(o.Wb(0,"a",3),o.Tc(1,s,1,0,"ng-container",4),o.Vb()),2&t){var e=o.oc(),i=o.Ic(3);o.vc("routerLink",e.getVideoRouterLink())("queryParams",e.queryParams),o.Db(1),o.vc("ngTemplateOutlet",i)}}function d(t,n){1&t&&o.Sb(0)}function g(t,n){if(1&t&&(o.Wb(0,"a",5),o.Tc(1,d,1,0,"ng-container",4),o.Vb()),2&t){var e=o.oc(),i=o.Ic(3);o.vc("href",e.videoHref,o.Mc)("target",e.videoTarget),o.Db(1),o.vc("ngTemplateOutlet",i)}}function b(t,n){if(1&t){var e=o.Xb();o.Ub(0),o.Wb(1,"div",16),o.kc("click",(function(t){return o.Kc(e),o.oc(3).onWatchLaterClick(t)})),o.Rb(2,"my-global-icon",17),o.Vb(),o.Tb()}if(2&t){var i=o.oc(3);o.Db(1),o.vc("ngbTooltip",i.addToWatchLaterText),o.Db(1),o.Eb("aria-label",i.addToWatchLaterText)}}function v(t,n){if(1&t){var e=o.Xb();o.Ub(0),o.Wb(1,"div",16),o.kc("click",(function(t){return o.Kc(e),o.oc(3).onWatchLaterClick(t)})),o.Rb(2,"my-global-icon",18),o.Vb(),o.Tb()}if(2&t){var i=o.oc(3);o.Db(1),o.vc("ngbTooltip",i.addedToWatchLaterText),o.Db(1),o.Eb("aria-label",i.addedToWatchLaterText)}}function p(t,n){if(1&t&&(o.Wb(0,"div",14),o.Tc(1,b,3,2,"ng-container",15),o.Tc(2,v,3,2,"ng-container",15),o.Vb()),2&t){var e=o.oc(2);o.Db(1),o.vc("ngIf",!0!==e.inWatchLaterPlaylist),o.Db(1),o.vc("ngIf",!0===e.inWatchLaterPlaylist)}}var f=function(t){return{"width.%":t}};function m(t,n){if(1&t&&(o.Wb(0,"div",19),o.Rb(1,"div",20),o.Vb()),2&t){var e=o.oc(2);o.Db(1),o.vc("ngStyle",o.zc(1,f,e.getProgressPercent()))}}var h=function(t){return{"blur-filter":t}};function C(t,n){if(1&t&&(o.Rb(0,"img",6),o.Tc(1,p,3,2,"div",7),o.Wb(2,"div",8),o.tc(3),o.Vb(),o.Wb(4,"div",9),o.tc(5,1),o.Vb(),o.Wb(6,"div",10),o.Vc(7),o.Vb(),o.Wb(8,"div",11),o.Rb(9,"div",12),o.Vb(),o.Tc(10,m,2,3,"div",13)),2&t){var e=o.oc();o.vc("ngClass",o.zc(6,h,e.nsfw)),o.Eb("aria-label",e.video.name)("src",e.getImageUrl(),o.Mc),o.Db(1),o.vc("ngIf",e.displayWatchLaterPlaylist),o.Db(6),o.Wc(e.video.durationLabel),o.Db(3),o.vc("ngIf",null==e.video.userHistory?null:e.video.userHistory.currentTime)}}var O=[[["label-warning"]],[["label-danger"]]],P=["label-warning","label-danger"],y=function(){var t=function(){function t(n){Tn(this,t),this.screenService=n,this.nsfw=!1,this.watchLaterClick=new o.n,this.addToWatchLaterText="Dodaj do playlisty \"Ogl\u0105daj p\xF3\u017Aniej\"",this.addedToWatchLaterText="Usu\u0144 z playlisty \"Ogl\u0105daj p\xF3\u017Aniej\""}return Vn(t,[{key:"getImageUrl",value:function(){return this.video?this.screenService.isInMobileView()?this.video.previewUrl:this.video.thumbnailUrl:""}},{key:"getProgressPercent",value:function(){return this.video.userHistory?this.video.userHistory.currentTime/this.video.duration*100:0}},{key:"getVideoRouterLink",value:function(){return this.videoRouterLink?this.videoRouterLink:["/videos/watch",this.video.uuid]}},{key:"onWatchLaterClick",value:function(t){return this.watchLaterClick.emit(this.inWatchLaterPlaylist),t.stopPropagation(),!1}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Qb(i.ScreenService))},t.\u0275cmp=o.Kb({type:t,selectors:[["my-video-thumbnail"]],inputs:{video:"video",nsfw:"nsfw",videoRouterLink:"videoRouterLink",queryParams:"queryParams",videoHref:"videoHref",videoTarget:"videoTarget",displayWatchLaterPlaylist:"displayWatchLaterPlaylist",inWatchLaterPlaylist:"inWatchLaterPlaylist"},outputs:{watchLaterClick:"watchLaterClick"},ngContentSelectors:P,decls:4,vars:2,consts:[["class","video-thumbnail",3,"routerLink","queryParams",4,"ngIf"],["class","video-thumbnail",3,"href","target",4,"ngIf"],["aContent",""],[1,"video-thumbnail",3,"routerLink","queryParams"],[4,"ngTemplateOutlet"],[1,"video-thumbnail",3,"href","target"],["alt","",3,"ngClass"],["class","video-thumbnail-actions-overlay",4,"ngIf"],[1,"video-thumbnail-label-overlay","warning"],[1,"video-thumbnail-label-overlay","danger"],[1,"video-thumbnail-duration-overlay"],[1,"play-overlay"],[1,"icon"],["class","progress-bar",4,"ngIf"],[1,"video-thumbnail-actions-overlay"],[4,"ngIf"],["placement","left","container","body",1,"video-thumbnail-watch-later-overlay",3,"ngbTooltip","click"],["iconName","clock","role","button"],["iconName","tick","role","button"],[1,"progress-bar"],[3,"ngStyle"]],template:function(t,n){1&t&&(o.uc(O),o.Tc(0,u,2,3,"a",0),o.Tc(1,g,2,3,"a",1),o.Tc(2,C,11,8,"ng-template",null,2,o.Uc)),2&t&&(o.vc("ngIf",!n.videoHref),o.Db(1),o.vc("ngIf",n.videoHref))},directives:[c.u,r.k,c.B,c.r,a.y,l.a,c.x],styles:['.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;bottom:0;background-color:rgba(0,0,0,.2)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--mainColor)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;border-radius:3px;font-size:12px;font-weight:600;line-height:1.2;z-index:10}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;font-weight:700}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.warning[_ngcontent-%COMP%]{background-color:orange}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.danger[_ngcontent-%COMP%]{background-color:red}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 3px;right:5px;bottom:5px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{padding:3px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t}()},"s/vm":function(t,n,e){"use strict";e.d(n,"a",(function(){return p}));var o=e("XNiG"),i=e("xgIS"),c=e("Kj3r"),r=e("eIep"),a=e("vkgz");function l(t){var n=new Date;return n.setDate(n.getDate()-1),u(t,n)}function s(t){return d(new Date,t)<=30}function u(t,n){return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function d(t,n){return(t.getTime()-n.getTime())/864e5}var g,b=e("fXoL"),v=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.TODAY=1]="TODAY",t[t.YESTERDAY=2]="YESTERDAY",t[t.LAST_WEEK=3]="LAST_WEEK",t[t.LAST_MONTH=4]="LAST_MONTH",t[t.OLDER=5]="OLDER",t}({}),p=((g=function(){function t(){Tn(this,t),this.pagination={currentPage:1,itemsPerPage:25},this.sort="-publishedAt",this.defaultSort="-publishedAt",this.syndicationItems=[],this.loadOnInit=!0,this.useUserVideoPreferences=!1,this.ownerDisplayType="account",this.displayModerationBlock=!1,this.displayVideoActions=!0,this.groupByDate=!1,this.videos=[],this.hasDoneFirstQuery=!1,this.disabled=!1,this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!0,privacyText:!1,state:!1,blacklistInfo:!1},this.actions=[],this.onDataSubject=new o.a,this.groupedDates={}}return Vn(t,[{key:"ngOnInit",value:function(){var t,n=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(t){return n.serverConfig=t})),this.groupedDateLabels=(gn(t={},v.UNKNOWN,null),gn(t,v.TODAY,"Dzisiaj"),gn(t,v.YESTERDAY,"Yesterday"),gn(t,v.LAST_WEEK,"W ostatnim tygodniu"),gn(t,v.LAST_MONTH,"Last month"),gn(t,v.OLDER,"Older"),t),this.loadRouteParams(this.route.snapshot.queryParams),this.resizeSubscription=Object(i.a)(window,"resize").pipe(Object(c.a)(500)).subscribe((function(){return n.calcPageSizes()})),this.calcPageSizes();var e=this.loadUserAndSettings();!0===this.loadOnInit&&e.subscribe((function(){return n.loadMoreVideos()})),this.userService.listenAnonymousUpdate().pipe(Object(r.a)((function(){return n.loadUserAndSettings()}))).subscribe((function(){n.hasDoneFirstQuery&&n.reloadVideos()})),this.screenService.isInMobileView()&&(this.displayOptions.avatar=!0)}},{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"videoById",value:function(t,n){return n.id}},{key:"onNearOfBottom",value:function(){this.disabled||void 0!==this.lastQueryLength&&this.lastQueryLength<this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.setScrollRouteParams(),this.loadMoreVideos())}},{key:"loadMoreVideos",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getVideosObservable(this.pagination.currentPage).subscribe((function(e){var o=e.data;t.hasDoneFirstQuery=!0,t.lastQueryLength=o.length,n&&(t.videos=[]),t.videos=t.videos.concat(o),t.groupByDate&&t.buildGroupedDateLabels(),t.onMoreVideos(),t.onDataSubject.next(o)}),(function(n){var e="Cannot load more videos. Try again later.";console.error(e,{error:n}),t.notifier.error(e)}))}},{key:"reloadVideos",value:function(){this.pagination.currentPage=1,this.loadMoreVideos(!0)}},{key:"toggleModerationDisplay",value:function(){throw new Error("toggleModerationDisplay is not implemented")}},{key:"removeVideoFromArray",value:function(t){this.videos=this.videos.filter((function(n){return n.id!==t.id}))}},{key:"buildGroupedDateLabels",value:function(){var t,n,e=v.UNKNOWN,o=sn(this.videos);try{for(o.s();!(t=o.n()).done;){var i=t.value,c=i.publishedAt;if(e<=v.TODAY&&u(c,new Date)){if(e===v.TODAY)continue;e=v.TODAY,this.groupedDates[i.id]=e}else if(e<=v.YESTERDAY&&l(c)){if(e===v.YESTERDAY)continue;e=v.YESTERDAY,this.groupedDates[i.id]=e}else if(e<=v.LAST_WEEK&&(n=c,d(new Date,n)<=7)){if(e===v.LAST_WEEK)continue;e=v.LAST_WEEK,this.groupedDates[i.id]=e}else if(e<=v.LAST_MONTH&&s(c)){if(e===v.LAST_MONTH)continue;e=v.LAST_MONTH,this.groupedDates[i.id]=e}else if(e<=v.OLDER){if(e===v.OLDER)continue;e=v.OLDER,this.groupedDates[i.id]=e}}}catch(r){o.e(r)}finally{o.f()}}},{key:"getCurrentGroupedDateLabel",value:function(t){if(!1!==this.groupByDate)return this.groupedDateLabels[this.groupedDates[t.id]]}},{key:"onMoreVideos",value:function(){}},{key:"loadRouteParams",value:function(t){this.sort=t.sort||this.defaultSort,this.categoryOneOf=t.categoryOneOf,this.angularState=t["a-state"]}},{key:"calcPageSizes",value:function(){this.screenService.isInMobileView()&&(this.pagination.itemsPerPage=5)}},{key:"setScrollRouteParams",value:function(){if(!this.angularState){this.angularState=42;var t=this.router.url;t&&"/"!==t||(t=this.serverConfig.instance.defaultClientRoute),this.router.navigate([t],{queryParams:{"a-state":this.angularState,categoryOneOf:this.categoryOneOf},replaceUrl:!0,queryParamsHandling:"merge"})}}},{key:"loadUserAndSettings",value:function(){var t=this;return this.userService.getAnonymousOrLoggedUser().pipe(Object(a.a)((function(n){t.userMiniature=n,t.useUserVideoPreferences&&(t.languageOneOf=n.videoLanguages,t.nsfwPolicy=n.nsfwPolicy)})))}}]),t}()).\u0275fac=function(t){return new(t||g)},g.\u0275dir=b.Lb({type:g}),g)},tTqN:function(S,V,D){"use strict";D.d(V,"a",(function(){return rt}));var I=D("mrSG"),L=D("TSHB"),A=D("Bw5p"),E=D("ey9i"),R=D("xMQD"),W=D("fXoL"),z=D("1kSV"),U=D("ofXK"),j=D("UkmY"),N=D("UXJo"),F=D("3Pt+"),B=["modal"];function $(t,n){if(1&t){var e=W.Xb();W.Wb(0,"button",27),W.kc("click",(function(){return W.Kc(e),W.oc(3).switchToType("subtitles")})),W.ac(1,28),W.Vb()}}function H(t,n){if(1&t){var e=W.Xb();W.Wb(0,"button",27),W.kc("click",(function(){return W.Kc(e),W.oc(3).switchToType("video")})),W.ac(1,29),W.Vb()}}function K(t,n){if(1&t&&(W.Wb(0,"div",23),W.Wb(1,"span",24),W.Vc(2),W.Vb(),W.Wb(3,"div",25),W.Tc(4,$,2,0,"button",26),W.Tc(5,H,2,0,"button",26),W.Vb(),W.Vb()),2&t){var e=W.oc(2);W.Db(2),W.Xc(" ",e.type," "),W.Db(2),W.vc("ngIf","video"===e.type),W.Db(1),W.vc("ngIf","subtitles"===e.type)}}function Q(t,n){if(1&t&&(W.Wb(0,"option",32),W.Vc(1),W.Vb()),2&t){var e=n.$implicit;W.vc("value",e.resolution.id),W.Db(1),W.Wc(e.resolution.label)}}function X(t,n){if(1&t){var e=W.Xb();W.Wb(0,"select",30),W.kc("ngModelChange",(function(t){return W.Kc(e),W.oc(2).resolutionId=t}))("ngModelChange",(function(){return W.Kc(e),W.oc(2).onResolutionIdChange()})),W.Tc(1,Q,2,2,"option",31),W.Vb()}if(2&t){var o=W.oc(2);W.vc("ngModel",o.resolutionId),W.Db(1),W.vc("ngForOf",o.getVideoFiles())}}function Y(t,n){if(1&t&&(W.Wb(0,"option",32),W.Vc(1),W.Vb()),2&t){var e=n.$implicit;W.vc("value",e.language.id),W.Db(1),W.Wc(e.language.label)}}function G(t,n){if(1&t){var e=W.Xb();W.Wb(0,"select",30),W.kc("ngModelChange",(function(t){return W.Kc(e),W.oc(2).subtitleLanguageId=t})),W.Tc(1,Y,2,2,"option",31),W.Vb()}if(2&t){var o=W.oc(2);W.vc("ngModel",o.subtitleLanguageId),W.Db(1),W.vc("ngForOf",o.videoCaptions)}}function q(t,n){if(1&t&&(W.Wb(0,"div",45),W.Wb(1,"span",46),W.ac(2,47),W.Vb(),W.Wb(3,"span",48),W.Vc(4),W.Vb(),W.Vb()),2&t){var e=n.$implicit;W.Db(2),W.ec(e.value.label),W.bc(2),W.Db(2),W.Wc(e.value.value)}}function Z(t,n){if(1&t&&(W.Wb(0,"div",43),W.Tc(1,q,5,2,"div",44),W.pc(2,"keyvalue"),W.Vb()),2&t){var e=W.oc(3);W.Db(1),W.vc("ngForOf",W.qc(2,1,e.videoFileMetadataFormat))}}function J(t,n){if(1&t&&(W.Wb(0,"div",45),W.Wb(1,"span",46),W.ac(2,49),W.Vb(),W.Wb(3,"span",48),W.Vc(4),W.Vb(),W.Vb()),2&t){var e=n.$implicit;W.Db(2),W.ec(e.value.label),W.bc(2),W.Db(2),W.Wc(e.value.value)}}function tt(t,n){if(1&t&&(W.Wb(0,"div",43),W.Tc(1,J,5,2,"div",44),W.pc(2,"keyvalue"),W.Vb()),2&t){var e=W.oc(3);W.Db(1),W.vc("ngForOf",W.qc(2,1,e.videoFileMetadataVideoStream))}}function nt(t,n){if(1&t&&(W.Wb(0,"div",45),W.Wb(1,"span",46),W.ac(2,50),W.Vb(),W.Wb(3,"span",48),W.Vc(4),W.Vb(),W.Vb()),2&t){var e=n.$implicit;W.Db(2),W.ec(e.value.label),W.bc(2),W.Db(2),W.Wc(e.value.value)}}function et(t,n){if(1&t&&(W.Wb(0,"div",43),W.Tc(1,nt,5,2,"div",44),W.pc(2,"keyvalue"),W.Vb()),2&t){var e=W.oc(3);W.Db(1),W.vc("ngForOf",W.qc(2,1,e.videoFileMetadataAudioStream))}}function ot(t,n){if(1&t&&(W.Ub(0),W.Wb(1,"div",33,34),W.Ub(3,35),W.Wb(4,"a",36),W.ac(5,37),W.Vb(),W.Tc(6,Z,3,3,"ng-template",38),W.Tb(),W.Ub(7,39),W.Wb(8,"a",36),W.ac(9,40),W.Vb(),W.Tc(10,tt,3,3,"ng-template",38),W.Tb(),W.Ub(11,39),W.Wb(12,"a",36),W.ac(13,41),W.Vb(),W.Tc(14,et,3,3,"ng-template",38),W.Tb(),W.Vb(),W.Rb(15,"div",42),W.Tb()),2&t){var e=W.Ic(2),o=W.oc(2);W.Db(7),W.vc("disabled",void 0===o.videoFileMetadataVideoStream),W.Db(4),W.vc("disabled",void 0===o.videoFileMetadataAudioStream),W.Db(4),W.vc("ngbNavOutlet",e)}}function it(t,n){if(1&t){var e=W.Xb();W.Wb(0,"div",51),W.Wb(1,"div",52),W.Wb(2,"input",53),W.kc("ngModelChange",(function(t){return W.Kc(e),W.oc(2).downloadType=t})),W.Vb(),W.Wb(3,"label",54),W.ac(4,55),W.Vb(),W.Vb(),W.Wb(5,"div",52),W.Wb(6,"input",56),W.kc("ngModelChange",(function(t){return W.Kc(e),W.oc(2).downloadType=t})),W.Vb(),W.Wb(7,"label",57),W.ac(8,58),W.Vb(),W.Vb(),W.Vb()}if(2&t){var o=W.oc(2);W.Db(2),W.vc("ngModel",o.downloadType),W.Db(4),W.vc("ngModel",o.downloadType)}}function ct(t,n){if(1&t){var e=W.Xb();W.Wb(0,"div",1),W.Wb(1,"h4",2),W.Ub(2),W.ac(3,3),W.Tb(),W.Tc(4,K,6,3,"div",4),W.Vb(),W.Wb(5,"my-global-icon",5),W.kc("click",(function(){return(0,n.close)()})),W.Vb(),W.Vb(),W.Wb(6,"div",6),W.Wb(7,"div",7),W.Wb(8,"div",8),W.Wb(9,"div",9),W.Tc(10,X,2,2,"select",10),W.Tc(11,G,2,2,"select",10),W.Vb(),W.Wb(12,"input",11,12),W.kc("click",(function(){return W.Kc(e),W.Ic(13).select()})),W.Vb(),W.Wb(14,"div",13),W.Wb(15,"button",14),W.kc("click",(function(){return W.Kc(e),W.oc().activateCopiedMessage()})),W.Rb(16,"span",15),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Tc(17,ot,16,3,"ng-container",16),W.Tc(18,it,9,2,"div",17),W.Vb(),W.Wb(19,"div",18),W.Wb(20,"input",19),W.cc(21,20),W.kc("click",(function(){return(0,n.close)()}))("key.enter",(function(){return(0,n.close)()})),W.Vb(),W.Wb(22,"input",21),W.cc(23,22),W.kc("click",(function(){return W.Kc(e),W.oc().download()})),W.Vb(),W.Vb()}if(2&t){var o=W.Ic(13),i=W.oc();W.Db(4),W.vc("ngIf",i.videoCaptions),W.Db(6),W.vc("ngIf","video"===i.type),W.Db(1),W.vc("ngIf","subtitles"===i.type),W.Db(1),W.vc("value",i.getLink()),W.Db(3),W.vc("cdkCopyToClipboard",o.value),W.Db(2),W.vc("ngIf","video"===i.type&&(null==i.videoFile?null:i.videoFile.metadata)),W.Db(1),W.vc("ngIf","video"===i.type)}}var rt=function(){var S=function(){function t(n,e,o,i){Tn(this,t),this.notifier=n,this.modalService=e,this.videoService=o,this.auth=i,this.downloadType="torrent",this.resolutionId=-1,this.type="video",this.bytesPipe=new R.BytesPipe,this.numbersPipe=new R.NumberFormatterPipe}return Vn(t,[{key:"getVideoFiles",value:function(){return this.video?this.video.getFiles():[]}},{key:"show",value:function(t,n){this.video=t,this.videoCaptions=n&&n.length?n:void 0,this.activeModal=this.modalService.open(this.modal,{centered:!0}),this.resolutionId=this.getVideoFiles()[0].resolution.id,this.onResolutionIdChange(),this.videoCaptions&&(this.subtitleLanguageId=this.videoCaptions[0].language.id)}},{key:"onClose",value:function(){this.video=void 0,this.videoCaptions=void 0}},{key:"download",value:function(){window.location.assign(this.getLink()),this.activeModal.close()}},{key:"getLink",value:function(){return"subtitles"===this.type&&this.videoCaptions?this.getSubtitlesLink():this.getVideoFileLink()}},{key:"onResolutionIdChange",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoFile=this.getVideoFile(),t.t0=!this.videoFile.metadata&&this.videoFile.metadataUrl,!t.t0){t.next=8;break}return t.next=5,this.hydrateMetadataFromMetadataUrl(this.videoFile);case 5:this.videoFileMetadataFormat=this.videoFile?this.getMetadataFormat(this.videoFile.metadata.format):void 0,this.videoFileMetadataVideoStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"video"):void 0,this.videoFileMetadataAudioStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"audio"):void 0;case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getVideoFile",value:function(){var t=this;this.resolutionId=parseInt(this.resolutionId.toString(),10);var n=this.getVideoFiles().find((function(n){return n.resolution.id===t.resolutionId}));if(n)return n;console.error("Could not find file with resolution %d.",this.resolutionId)}},{key:"getVideoFileLink",value:function(){var t=this.videoFile;if(t){var n=3===this.video.privacy.id||4===this.video.privacy.id?"?access_token="+this.auth.getAccessToken():"";switch(this.downloadType){case"direct":return t.fileDownloadUrl+n;case"torrent":return t.torrentDownloadUrl+n}}}},{key:"getSubtitlesLink",value:function(){var t=this;return window.location.origin+this.videoCaptions.find((function(n){return n.language.id===t.subtitleLanguageId})).captionPath}},{key:"activateCopiedMessage",value:function(){this.notifier.success("Skopiowano")}},{key:"switchToType",value:function(t){this.type=t}},{key:"getMetadataFormat",value:function(t){var n=this,e={encoder:function(t){return{label:"Encoder",value:t}},format_long_name:function(t){return{label:"Format name",value:t}},size:function(t){return{label:"Size",value:n.bytesPipe.transform(t,2)}},bit_rate:function(t){return{label:"Bitrate",value:n.numbersPipe.transform(t)+"bps"}}},o=Object.assign(t,t.tags);return delete o.tags,Object(L.a)(Object(A.a)(o,Object.keys(e)),(function(t,n){return e[n](t)}))}},{key:"getMetadataStream",value:function(t,n){var e=this,o=t.find((function(t){return t.codec_type===n}));if(o){var i={codec_long_name:function(t){return{label:"Codec",value:t}},profile:function(t){return{label:"Profil",value:t}},bit_rate:function(t){return{label:"Bitrate",value:e.numbersPipe.transform(t)+"bps"}}};return i=Object.assign(i,"video"===n?{width:function(t){return{label:"Resolution",value:"".concat(t,"x").concat(o.height)}},display_aspect_ratio:function(t){return{label:"Aspect ratio",value:t}},avg_frame_rate:function(t){return{label:"Average frame rate",value:t}},pix_fmt:function(t){return{label:"Pixel format",value:t}}}:{sample_rate:function(t){return{label:"Sample rate",value:t}},channel_layout:function(t){return{label:"Channel Layout",value:t}}}),Object(L.a)(Object(A.a)(o,Object.keys(i)),(function(t,n){return i[n](t)}))}}},{key:"hydrateMetadataFromMetadataUrl",value:function(t){var n=this.videoService.getVideoFileMetadata(t.metadataUrl);return n.subscribe((function(n){return t.metadata=n})),n.toPromise()}},{key:"typeText",get:function(){return"video"===this.type?"video":"subtitles"}}]),t}();return S.\u0275fac=function(t){return new(t||S)(W.Qb(E.Notifier),W.Qb(z.k),W.Qb(R.VideoService),W.Qb(E.AuthService))},S.\u0275cmp=W.Kb({type:S,selectors:[["my-video-download"]],viewQuery:function(t,n){var e;1&t&&W.Qc(B,!0),2&t&&W.Hc(e=W.lc())&&(n.modal=e.first)},decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Download",["ngbDropdown","","class","d-inline-block",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"input-group","input-group-sm"],[1,"input-group-prepend","peertube-select-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","",1,"form-control","input-sm","readonly",3,"value","click"],["urlInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"cdkCopyToClipboard","click"],[1,"glyphicon","glyphicon-copy"],[4,"ngIf"],["class","download-type",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["value","Cancel"],["type","submit",1,"action-button-submit",3,"click",6,"value"],["value","Download"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownDownloadType","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownDownloadType"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],"subtitles","video",[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],"Format",["ngbNavContent",""],["ngbNavItem","",3,"disabled"],"Stumie\u0144 wideo","Strumie\u0144 d\u017Awi\u0119ku",[3,"ngbNavOutlet"],[1,"file-metadata"],["class","metadata-attribute metadata-attribute-tags",4,"ngFor","ngForOf"],[1,"metadata-attribute","metadata-attribute-tags"],[1,"metadata-attribute-label"],"\n          " + "\ufffd0\ufffd" + "\n        ",[1,"metadata-attribute-value"],"\n          " + "\ufffd0\ufffd" + "\n        ","\n          " + "\ufffd0\ufffd" + "\n        ",[1,"download-type"],[1,"peertube-radio-container"],["type","radio","name","download","id","download-direct","value","direct",3,"ngModel","ngModelChange"],["for","download-direct"],"Pobieranie bezpo\u015Brednie",["type","radio","name","download","id","download-torrent","value","torrent",3,"ngModel","ngModelChange"],["for","download-torrent"],"Torrent (plik .torrent)"]},template:function(t,n){1&t&&W.Tc(0,ct,24,7,"ng-template",null,0,W.Uc)},directives:[U.u,j.a,N.a,z.e,z.j,z.h,z.g,F.E,F.s,F.v,U.t,F.x,F.H,z.n,z.p,z.q,z.o,z.s,F.A,F.c],pipes:[U.m],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:100px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:inherit}#dropdownDownloadType[_ngcontent-%COMP%]{cursor:pointer}.download-type[_ngcontent-%COMP%]{margin-top:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.file-metadata[_ngcontent-%COMP%]{padding:1rem}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   .metadata-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:active, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:focus, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute.metadata-attribute-tags[_ngcontent-%COMP%]   .metadata-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}']}),S}()}}])}();