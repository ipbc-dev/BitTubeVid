!function(){function n(){var t=st([":\u241fac3a02ecd20f41278f1ef7c03f45c1117b4b796d\u241f5910455707959454672:Torrent (.torrent file)"]);return n=function(){return t},t}function t(){var n=st([":\u241f8d6a41c2703bed3edfc76e1df0b1ca203404c17c\u241f6316149158173629264:Direct download"]);return t=function(){return n},n}function e(){var n=st([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return e=function(){return n},n}function o(){var n=st([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return o=function(){return n},n}function i(){var n=st([":\u241fbe745b3dc0df310871766eb6c8f78c3ce652a2b4\u241f6454940086545867643:",":INTERPOLATION:"]);return i=function(){return n},n}function c(){var n=st([":\u241f697b93fd14fd3c85be79056c6d7f459da204eff1\u241f5496771215105419189:Audio stream"]);return c=function(){return n},n}function r(){var n=st([":\u241f01504bc3847894e0816ec486648854d3835f91b0\u241f7385834259346199883:Video stream"]);return r=function(){return n},n}function a(){var n=st([":\u241f7722a92a1fc887570b4f4d8a7bb916f067f32028\u241f7513076467032912668:Format"]);return a=function(){return n},n}function u(){var n=st([":\u241fe53246788ffa2660a170aa859691a55576df2e6c\u241f1006562256968398209:video"]);return u=function(){return n},n}function l(){var n=st([":\u241f7cdda05962b3123483985a6fe7da45a7a564ecf9\u241f5235042777215655908:subtitles"]);return l=function(){return n},n}function s(){var n=st([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return s=function(){return n},n}function d(){var n=st([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return d=function(){return n},n}function b(){var n=st([":\u241fdc75033a5238fdc4f462212c847a45ba8018a3fd\u241f3099741642167775297:Download"]);return b=function(){return n},n}function g(){var n=st(["subtitles"]);return g=function(){return n},n}function f(){var n=st(["video"]);return f=function(){return n},n}function v(){var n=st(["Channel Layout"]);return v=function(){return n},n}function p(){var n=st(["Sample rate"]);return p=function(){return n},n}function h(){var n=st(["Pixel format"]);return h=function(){return n},n}function m(){var n=st(["Average frame rate"]);return m=function(){return n},n}function C(){var n=st(["Aspect ratio"]);return C=function(){return n},n}function O(){var n=st(["Resolution"]);return O=function(){return n},n}function y(){var n=st(["Bitrate"]);return y=function(){return n},n}function P(){var n=st(["Profile"]);return P=function(){return n},n}function M(){var n=st(["Codec"]);return M=function(){return n},n}function _(){var n=st(["Bitrate"]);return _=function(){return n},n}function w(){var n=st(["Size"]);return w=function(){return n},n}function k(){var n=st(["Format name"]);return k=function(){return n},n}function S(){var n=st(["Encoder"]);return S=function(){return n},n}function U(){var n=st(["Copied"]);return U=function(){return n},n}function V(){var n=st(["Cannot load more videos. Try again later."]);return V=function(){return n},n}function I(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function x(){var n=st(["Older"]);return x=function(){return n},n}function L(){var n=st(["Last month"]);return L=function(){return n},n}function T(){var n=st(["This month"]);return T=function(){return n},n}function A(){var n=st(["This week"]);return A=function(){return n},n}function D(){var n=st(["Yesterday"]);return D=function(){return n},n}function R(){var n=st(["Today"]);return R=function(){return n},n}function z(){var n=st([":\u241fc590f63488a5179f20a46930cf5e673f8136673d\u241f3563604323510264549: You can interact with this via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the current URL in the search box and interact with it there. "]);return z=function(){return n},n}function j(){var n=st([":\u241f01cf713559c39a17cf5c8fbcd33b004a77ce0963\u241f7929951238559799425: You can subscribe to the channel via any ActivityPub-capable fediverse instance.",":LINE_BREAK:",":LINE_BREAK: For instance with Mastodon or Pleroma you can type the channel URL in the search box and subscribe there. "]);return j=function(){return n},n}function E(){var n=st([":\u241f4913054c95f5ba14c351ab1b787f7abac97bfdd3\u241f6146724100981538416:",":START_TAG_SPAN:Remote subscribe",":CLOSE_TAG_SPAN:",":START_TAG_SPAN_1:Remote interact",":CLOSE_TAG_SPAN:"]);return E=function(){return n},n}function F(){var n=st([":\u241ffb8aad312b72bbb7e5a1e2cc0b55fae8962bf0fb\u241f8699434297868700883: Cancel "]);return F=function(){return n},n}function $(){var n=st([":\u241fc31161d1661884f54fbc5635aad5ce8d4803897e\u241f834805431202576194:No results."]);return $=function(){return n},n}function B(n,t,e){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=Q(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function N(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&H(n,t)}function H(n,t){return(H=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function W(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var e,o=Q(n);if(t){var i=Q(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Z(this,e)}}function Z(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function Q(n){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function J(){var n=st([":\u241f2a6ba0b4ffe992ddd03f40ee75b879996bdfb5f7\u241f3281666092801697687: ",":ICU: "]);return J=function(){return n},n}function K(){var n=st([":\u241fbcd730167966d931a8956022c370de9ac26bc3ac\u241f3835820659233410533:{VAR_PLURAL, plural, =1 {1 viewer} other {{INTERPOLATION} viewers}}"]);return K=function(){return n},n}function Y(){var n=st([":\u241f7ac18f5bb1a9b9f245acc8497c2f165a7e9f8510\u241f6421857983170100207: ",":ICU: "]);return Y=function(){return n},n}function X(){var n=st([":\u241ff73a82bb90c6c856cc0d2e3b2f5c109460074912\u241f6036644346758517049:{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} views}}"]);return X=function(){return n},n}function G(){var n=st([":\u241f6bf2a2b88df254434e6a415bfd44c8efb5fe40a7\u241f3112273530390098557:Replay will be saved"]);return G=function(){return n},n}function q(){var n=st([":\u241f5b5759ae8d3274fdc904e1ef5bb4a52c2251de66\u241f1276362324126004421:Permanent live"]);return q=function(){return n},n}function nn(){var n=st([":\u241f930826dd8818902aaf1300253dbee4717ceb35ee\u241f5058286083557987083:\u26a0\ufe0f Never share your stream key with anyone."]);return nn=function(){return n},n}function tn(){var n=st([":\u241f39d142e6915c4f2d0f9b45e76c176eec6a48c1c1\u241f1225050607125362052:Live stream key"]);return tn=function(){return n},n}function en(){var n=st([":\u241ffc840cbc744829dee0c0d50e8d32e45beb731c36\u241f7220386604464537651:Live RTMP Url"]);return en=function(){return n},n}function on(){var n=st([":\u241f5d3bc02dfb6c9b6fdd716f77c487a779ba6d6cc2\u241f4853631149357965563:Update live settings"]);return on=function(){return n},n}function cn(){var n=st([":\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return cn=function(){return n},n}function rn(){var n=st([":\u241fd8ae45f6eb0e2d78efd70b4e80e132784aa65cf1\u241f5226261760726752768:Live information"]);return rn=function(){return n},n}function an(){var n=st([":\u241ffb8ccb136ab0ad1ff1dfbce739198be16a814f87\u241f7658055747211075451: Sensitive "]);return an=function(){return n},n}function un(){var n=st([":\u241f1d3781d7296d4b4e04e7f023aec1052fb2955c4d\u241f9081463435738465430:Blocked"]);return un=function(){return n},n}function ln(){var n=st([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return ln=function(){return n},n}function sn(){var n=st([":\u241f4b3963c6d0863118fe9e9e33447d12be3c2db081\u241f7539427273132299890:Unlisted"]);return sn=function(){return n},n}function dn(){var n=st(["To import"]);return dn=function(){return n},n}function bn(){var n=st(["To transcode"]);return bn=function(){return n},n}function gn(){var n=st(["Waiting transcoding"]);return gn=function(){return n},n}function fn(){var n=st(["Publication scheduled on "]);return fn=function(){return n},n}function vn(){var n=st(["Published"]);return vn=function(){return n},n}function pn(){var n=st([""," (channel page)"]);return pn=function(){return n},n}function hn(){var n=st([":\u241f9faa7899e515045c650407ca7263db6c7b6a90f9\u241f4021487547497211597:Open video actions"]);return hn=function(){return n},n}function mn(){var n=st([":\u241f9faa7899e515045c650407ca7263db6c7b6a90f9\u241f4021487547497211597:Open video actions"]);return mn=function(){return n},n}function Cn(){var n=st(["Mute account"]);return Cn=function(){return n},n}function On(){var n=st(["Report"]);return On=function(){return n},n}function yn(){var n=st(["Delete"]);return yn=function(){return n},n}function Pn(){var n=st(["Mirror"]);return Pn=function(){return n},n}function Mn(){var n=st(["Unblock"]);return Mn=function(){return n},n}function _n(){var n=st(["Block"]);return _n=function(){return n},n}function wn(){var n=st(["Update"]);return wn=function(){return n},n}function kn(){var n=st(["Display live information"]);return kn=function(){return n},n}function Sn(){var n=st(["Download"]);return Sn=function(){return n},n}function Un(){var n=st(["Save to playlist"]);return Un=function(){return n},n}function Vn(){var n=st(["Account "," muted."]);return Vn=function(){return n},n}function In(){var n=st(["This video will be duplicated by your instance."]);return In=function(){return n},n}function xn(){var n=st(["Video "," deleted."]);return xn=function(){return n},n}function Ln(){var n=st(["Delete"]);return Ln=function(){return n},n}function Tn(){var n=st(["The live stream will be automatically terminated."]);return Tn=function(){return n},n}function An(){var n=st(["Do you really want to delete this video?"]);return An=function(){return n},n}function Dn(){var n=st(["Video "," unblocked."]);return Dn=function(){return n},n}function Rn(){var n=st(["Unblock"]);return Rn=function(){return n},n}function zn(){var n=st(["Do you really want to unblock this video? It will be available again in the videos list."]);return zn=function(){return n},n}function jn(){var n=st([":\u241fe7adf422424a61b71465d183f9d44bf956482ef0\u241f1740917574463702967:Subscribe with your local account"]);return jn=function(){return n},n}function En(){var n=st([":\u241fc7e2b4c04a0459ebc4d2e54e419abb679bc713f2\u241f6691897331062834756:Subscribe with an account on this instance"]);return En=function(){return n},n}function Fn(){var n=st([":\u241fe01bfa3629e2133dbf307975446bde047eb8bd1f\u241f6022298687141016498:{VAR_SELECT, select, undefined {Unsubscribe} other {Unsubscribe from all channels}}"]);return Fn=function(){return n},n}function $n(){var n=st([":\u241fc33a843e309de9d67771aa5e666f61e92f4c6216\u241f7542242186854344789:channels subscribed"]);return $n=function(){return n},n}function Bn(){var n=st([":\u241f6e215e23505768151b501b7e11dd5b864e604fd9\u241f5432070253720498105:Subscribe to all channels"]);return Bn=function(){return n},n}function Nn(){var n=st([":\u241fd0336848b0c375a1c25ba369b3481ee383217a4f\u241f1144407473317535723:Subscribe"]);return Nn=function(){return n},n}function Hn(){var n=st([":\u241fd5e5bc7d213694fc0414a76f0ff3085bae44268a\u241f7695158742270602420:Subscribe via RSS"]);return Hn=function(){return n},n}function Wn(){var n=st([":\u241fd8758664cadd6452256ca25ca0c7259074f427c1\u241f2949829240129672512:Using a syndication feed"]);return Wn=function(){return n},n}function Zn(){var n=st([":\u241f5047522cc670b1f4a288bce07f9b1c5061e913ed\u241f8503291206158041343:Subscribe with a Mastodon account:"]);return Zn=function(){return n},n}function Qn(){var n=st([":\u241f9b3287f52c239cad05ec98391553e5052ba1aa66\u241f1779391511451594552:Using an ActivityPub account"]);return Qn=function(){return n},n}function Jn(){var n=st([":\u241f29e51bac84b50b9a58ba54122663f31c82a504d5\u241f363499678348067004:Open subscription dropdown"]);return Jn=function(){return n},n}function Kn(){var n=st([":\u241f0713f058de1d239f503a974e384eda384d35ad2b\u241f1000724328916033777:Multiple ways to subscribe to the current channel"]);return Kn=function(){return n},n}function Yn(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var e=[],o=!0,i=!1,c=void 0;try{for(var r,a=n[Symbol.iterator]();!(o=(r=a.next()).done)&&(e.push(r.value),!t||e.length!==t);o=!0);}catch(u){i=!0,c=u}finally{try{o||null==a.return||a.return()}finally{if(i)throw c}}return e}(n,t)||et(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=et(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return r=n.done,n},e:function(n){a=!0,c=n},f:function(){try{r||null==e.return||e.return()}finally{if(a)throw c}}}}function Gn(){var n=st(["Unsubscribed"]);return Gn=function(){return n},n}function qn(){var n=st(["Unsubscribed from ",""]);return qn=function(){return n},n}function nt(){var n=st(["Unsubscribed from all channels of ",""]);return nt=function(){return n},n}function tt(n){return function(n){if(Array.isArray(n))return ot(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||et(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(n,t){if(n){if("string"==typeof n)return ot(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ot(n,t):void 0}}function ot(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function it(){var n=st(["Subscribed"]);return it=function(){return n},n}function ct(){var n=st(["Subscribed to ",". You will be notified of all their new videos."]);return ct=function(){return n},n}function rt(){var n=st(["Subscribed to all current channels of ",". You will be notified of all their new videos."]);return rt=function(){return n},n}function at(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function ut(n,t,e){return t&&at(n.prototype,t),e&&at(n,e),n}function lt(){var n=st([":\u241f8c9434491bf113074890c9c975d89d5f7727d2d9\u241f3377186655838078701: See ",":START_LINK:the documentation",":CLOSE_LINK: to learn how to use the PeerTube live streaming feature.\n"]);return lt=function(){return n},n}function st(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function dt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"5rWp":function(n,t,e){"use strict";var o=e("b613");e.d(t,"b",function(){return o.a}),e("Dmbs"),e("gY50");var i=e("hHkf");e.d(t,"a",function(){return i.a})},"9RWm":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var o=e("fXoL"),i=function(){var n=function n(){dt(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Jb({type:n,selectors:[["my-live-documentation-link"]],decls:3,vars:0,consts:function(){return["Zajrzyj do " + "\ufffd#2\ufffd" + "dokumentacji" + "\ufffd/#2\ufffd" + ", aby dowiedzie\u0107 si\u0119 jak u\u017Cywa\u0107 funkcji transmisji live na PeerTube. ",["href","https://docs.joinpeertube.org/#/use-create-upload-video?id=publish-a-live-in-peertube-gt-v3","target","_blank","rel","noopener noreferrer"]]},template:function(n,t){1&n&&(o.Vb(0,"div"),o.fc(1,0),o.Qb(2,"a",1),o.cc(),o.Ub())},encapsulation:2}),n}()},Dmbs:function(n,t,e){"use strict";e.d(t,"a",function(){return x});var o=e("cp0P"),i=e("GyhO"),c=e("VRyK"),r=e("ey9i"),a=e("xMQD"),u=e("b613"),l=e("fXoL"),s=e("tyNb"),d=e("ofXK"),b=e("1kSV"),g=e("gY50"),f=e("gCBE");function v(n,t){1&n&&l.Rb(0)}function p(n,t){1&n&&l.Zb(0,23)}function h(n,t){if(1&n&&(l.Vb(0,"span"),l.Uc(1),l.Tb(2),l.Zb(3,25),l.Sb(),l.Ub()),2&n){var e=l.nc(3);l.Cb(1),l.Xc("",e.subscribeStatus(!0).length,"/",e.subscribed.size," ")}}function m(n,t){if(1&n&&(l.Vb(0,"span"),l.Zb(1,24),l.Ub(),l.Sc(2,h,4,2,"span",10)),2&n){var e=l.nc(2);l.Cb(2),l.uc("ngIf",e.isAtLeastOneChannelSubscribed)}}function C(n,t){if(1&n&&(l.Vb(0,"span",26),l.Uc(1),l.oc(2,"myNumberFormatter"),l.Ub()),2&n){var e=l.nc(2);l.Cb(1),l.Wc(" ",l.pc(2,1,e.videoChannels[0].followersCount)," ")}}var O=function(n){return{"extra-text":n}};function y(n,t){if(1&n&&(l.Vb(0,"span",18),l.Sc(1,v,1,0,"ng-container",19),l.Sc(2,p,1,0,"ng-template",null,20,l.Tc),l.Sc(4,m,3,1,"ng-template",null,21,l.Tc),l.Ub(),l.Sc(6,C,3,3,"span",22)),2&n){var e=l.Hc(3),o=l.Hc(5),i=l.nc();l.uc("ngClass",l.yc(5,O,i.isAtLeastOneChannelSubscribed)),l.Cb(1),l.uc("ngIf",i.account)("ngIfThen",o)("ngIfElse",e),l.Cb(5),l.uc("ngIf",!i.isBigButton&&i.displayFollowers&&i.videoChannels.length>1&&0!==i.videoChannel.followersCount)}}function P(n,t){}function M(n,t){if(1&n){var e=l.Wb();l.Vb(0,"button",29),l.jc("click",function(){return l.Jc(e),l.nc(2).subscribe()}),l.Sc(1,P,0,0,"ng-template",30),l.Ub()}if(2&n){l.nc(2);var o=l.Hc(2);l.Cb(1),l.uc("ngTemplateOutlet",o)}}function _(n,t){if(1&n){var e=l.Wb();l.Vb(0,"button",31),l.jc("click",function(){return l.Jc(e),l.nc(2).unsubscribe()}),l.Tb(1),l.Zb(2,32),l.Sb(),l.Ub()}if(2&n){var o=l.nc(2);l.Cb(2),l.dc(o.account+""),l.ac(2)}}function w(n,t){if(1&n&&(l.Sc(0,M,2,1,"button",27),l.Sc(1,_,3,1,"button",28)),2&n){var e=l.nc();l.uc("ngIf",!e.isAllChannelsSubscribed),l.Cb(1),l.uc("ngIf",e.isAllChannelsSubscribed)}}function k(n,t){1&n&&l.Rb(0)}function S(n,t){1&n&&l.Rb(0)}function U(n,t){1&n&&(l.Vb(0,"span"),l.Zb(1,33),l.Ub())}function V(n,t){1&n&&(l.Vb(0,"span"),l.Zb(1,34),l.Ub())}var I=function(n,t,e){return{"subscribe-button":n,"unsubscribe-button":t,big:e}},x=function(){var n=function(){function n(t,e,o,i,c){dt(this,n),this.authService=t,this.router=e,this.notifier=o,this.userSubscriptionService=i,this.videoService=c,this.displayFollowers=!1,this.size="normal",this.subscribed=new Map}return ut(n,[{key:"ngOnInit",value:function(){this.loadSubscribedStatus()}},{key:"ngOnChanges",value:function(){this.ngOnInit()}},{key:"subscribe",value:function(){return this.isUserLoggedIn()?this.localSubscribe():this.gotoLogin()}},{key:"localSubscribe",value:function(){var n=this,t=this.subscribeStatus(!1),e=this.videoChannels.map(function(t){return n.getChannelHandler(t)}).filter(function(n){return t.includes(n)}).map(function(t){return n.userSubscriptionService.addSubscription(t)});Object(o.a)(e).subscribe(function(){n.notifier.success(n.account?"Zasubskrybowano wszystkie kana\u0142y u\u017Cytkownika \n          " + n.account.displayName + ". Otrzymasz powiadomienia o wszystkich ich filmach.\n        ":"Zasubskrybowano kana\u0142 \n          " + n.videoChannels[0].displayName + ". Otrzymasz powiadomienia o wszystkich jego filmach.\n        ","Zasubskrybowano")},function(t){return n.notifier.error(t.message)})}},{key:"unsubscribe",value:function(){this.isUserLoggedIn()&&this.localUnsubscribe()}},{key:"localUnsubscribe",value:function(){var n=this,t=this.subscribeStatus(!0),e=this.videoChannels.map(function(t){return n.getChannelHandler(t)}).filter(function(n){return t.includes(n)}).map(function(t){return n.userSubscriptionService.deleteSubscription(t)});Object(i.a).apply(void 0,tt(e)).subscribe({complete:function(){n.notifier.success(n.account?"Anulowano subskrypcje wszystkich kana\u0142\xF3w u\u017Cytkownika \n          " + n.account.nameWithHost + "\n        ":"Anulowano subskrypcj\u0119 kana\u0142u \n          " + n.videoChannels[0].nameWithHost + "\n        ","Odsubskrybowano")},error:function(t){return n.notifier.error(t.message)}})}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"gotoLogin",value:function(){this.router.navigate(["/login"])}},{key:"subscribeStatus",value:function(n){var t,e=[],o=Xn(this.subscribed.entries());try{for(o.s();!(t=o.n()).done;){var i=Yn(t.value,2),c=i[0];i[1]===n&&e.push(c)}}catch(r){o.e(r)}finally{o.f()}return e}},{key:"getChannelHandler",value:function(n){return n.name+"@"+n.host}},{key:"loadSubscribedStatus",value:function(){var n=this;if(this.isUserLoggedIn()){var t,e=Xn(this.videoChannels);try{var o=function(){var e=t.value,o=n.getChannelHandler(e);n.subscribed.set(o,!1),Object(c.a)(n.userSubscriptionService.listenToSubscriptionCacheChange(o),n.userSubscriptionService.doesSubscriptionExist(o)).subscribe(function(t){return n.subscribed.set(o,t)},function(t){return n.notifier.error(t.message)})};for(e.s();!(t=e.n()).done;)o()}catch(i){e.e(i)}finally{e.f()}}}},{key:"handle",get:function(){return this.account?this.account.nameWithHost:this.videoChannel.name+"@"+this.videoChannel.host}},{key:"channelHandle",get:function(){return this.getChannelHandler(this.videoChannel)}},{key:"uri",get:function(){return this.account?this.account.url:this.videoChannels[0].url}},{key:"rssUri",get:function(){return(this.account?this.videoService.getAccountFeedUrls(this.account.id).find(function(n){return"xml"===n.format}):this.videoService.getVideoChannelFeedUrls(this.videoChannels[0].id).find(function(n){return"xml"===n.format})).url}},{key:"videoChannel",get:function(){return this.videoChannels[0]}},{key:"isAllChannelsSubscribed",get:function(){return this.subscribeStatus(!0).length===this.videoChannels.length}},{key:"isAtLeastOneChannelSubscribed",get:function(){return this.subscribeStatus(!0).length>0}},{key:"isBigButton",get:function(){return this.isUserLoggedIn()&&this.videoChannels.length>1&&this.isAtLeastOneChannelSubscribed}}]),n}();return n.\u0275fac=function(t){return new(t||n)(l.Pb(r.a),l.Pb(s.h),l.Pb(r.m),l.Pb(u.a),l.Pb(a.s))},n.\u0275cmp=l.Jb({type:n,selectors:[["my-subscribe-button"]],inputs:{account:"account",videoChannels:"videoChannels",displayFollowers:"displayFollowers",size:"size"},features:[l.Ab],decls:23,vars:14,consts:function(){var n,t,e,o,i,c,r,a,u,s;return n="Wiele sposob\xF3w na zasubskrybowanie obecnego kana\u0142u",t="Open subscription dropdown",e="U\u017Cywaj\u0105c konta ActivityPub",o="Subskrybuj u\u017Cywaj\u0105c konta Mastodon:",i="U\u017Cywaj\u0105c kana\u0142u syndykacyjnego",c="Subskrybuj przez RSS",r="Subskrybuj",a="Subskrybuj wszystkie kana\u0142y",u="zasubskrybowanych kana\u0142\xF3w",s="{VAR_SELECT, select, undefined {Anuluj subskrypcj\u0119} other {Anuluj subskrypcj\u0119 wszystkich kana\u0142\xF3w }}",[[1,"btn-group-subscribe","btn-group",3,"ngClass"],["userLoggedOut",""],["userLoggedIn",""],[4,"ngIf","ngIfThen"],["ngbDropdown","","autoClose","outside","placement","bottom-right","role","group","aria-label",n,1,"btn-group"],["ngbDropdownToggle","","aria-label",t,1,"btn","btn-sm","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],e,[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item","dropdown-item-neutral"],o,[3,"showHelp","uri"],[1,"dropdown-divider"],i,["target","_blank",1,"dropdown-item",3,"href"],c,[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["single",""],["multiple",""],["class","followers-count",4,"ngIf"],r,a,u,[1,"followers-count"],["type","button","class","btn btn-sm",3,"click",4,"ngIf"],["type","button","class","btn btn-sm","role","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm",3,"click"],[3,"ngTemplateOutlet"],["type","button","role","button",1,"btn","btn-sm",3,"click"],s=l.ec(s,{VAR_SELECT:"\ufffd0\ufffd"}),"Subskrybuj kontem na tej instancji","Subskrybuj u\u017Cywaj\u0105c swojego lokalnego konta"]},template:function(n,t){if(1&n&&(l.Vb(0,"div",0),l.Sc(1,y,7,7,"ng-template",null,1,l.Tc),l.Sc(3,w,2,2,"ng-template",null,2,l.Tc),l.Sc(5,k,1,0,"ng-container",3),l.Vb(6,"div",4),l.Vb(7,"button",5),l.Sc(8,S,1,0,"ng-container",3),l.Ub(),l.Vb(9,"div",6),l.Vb(10,"h6",7),l.Zb(11,8),l.Ub(),l.Vb(12,"button",9),l.jc("click",function(){return t.subscribe()}),l.Sc(13,U,2,0,"span",10),l.Sc(14,V,2,0,"span",10),l.Ub(),l.Vb(15,"button",11),l.Zb(16,12),l.Ub(),l.Qb(17,"my-remote-subscribe",13),l.Qb(18,"div",14),l.Vb(19,"h6",7),l.Zb(20,15),l.Ub(),l.Vb(21,"a",16),l.Zb(22,17),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&n){var e=l.Hc(2),o=l.Hc(4);l.uc("ngClass",l.Ac(10,I,!t.isAllChannelsSubscribed,t.isAllChannelsSubscribed,t.isBigButton)),l.Cb(5),l.uc("ngIf",t.isUserLoggedIn())("ngIfThen",o),l.Cb(3),l.uc("ngIf",!t.isUserLoggedIn())("ngIfThen",e),l.Cb(5),l.uc("ngIf",!t.isUserLoggedIn()),l.Cb(1),l.uc("ngIf",t.isUserLoggedIn()),l.Cb(3),l.uc("showHelp",!0)("uri",t.uri),l.Cb(4),l.uc("href",t.rssUri,l.Lc)}},directives:[d.l,d.n,b.f,b.l,b.j,g.a,d.s],pipes:[f.a],styles:['.btn-group-subscribe[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;float:right;padding:0}.btn-group-subscribe[_ngcontent-%COMP%]:active, .btn-group-subscribe[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]:not(.big){white-space:nowrap}.btn-group-subscribe.big[_ngcontent-%COMP%]{height:35px}.btn-group-subscribe.big[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:175px}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:80%}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:75%}.btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:3px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding-right:4px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:2px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{position:relative;top:1px}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   span.followers-count[_ngcontent-%COMP%]{padding-left:5px}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor);font-weight:600}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:hover{background-color:inherit}.btn-group-subscribe[_ngcontent-%COMP%]     form{padding:.25rem 1rem}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.extra-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:75%}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:60%;text-align:left}']}),n}()},HZcR:function(n,t,e){"use strict";e.d(t,"a",function(){return k});var o=e("mrSG"),i=e("fXoL"),c=e("ey9i"),r=e("HIM4"),a=e("xMQD"),u=(e("hDKA"),e("SZgj"),e("tTqN")),l=e("ofXK"),s=e("EcKj"),d=e("BYvb"),b=e("XZU/"),g=e("1kSV"),f=e("DTAc"),v=e("S51W"),p=["playlistDropdown"],h=["playlistAdd"],m=["videoDownloadModal"],C=["videoReportModal"],O=["videoBlockModal"],y=["liveStreamInformationModal"];function P(n,t){if(1&n){var e=i.Wb();i.Vb(0,"div",8,9),i.jc("openChange",function(n){return i.Jc(e),i.Hc(5).openChange(n)}),i.Qb(2,"span",10),i.Vb(3,"div",11),i.Qb(4,"my-video-add-to-playlist",12,13),i.Ub(),i.Ub()}if(2&n){var o=i.nc(2);i.uc("placement",o.getPlaylistDropdownPlacement()),i.Cb(4),i.uc("video",o.video)("lazyLoad",!0)}}function M(n,t){1&n&&i.Qb(0,"my-live-stream-information",null,14)}var _=function(n){return{video:n}};function w(n,t){if(1&n){var e=i.Wb();i.Tb(0),i.Sc(1,P,6,3,"div",1),i.Vb(2,"my-action-dropdown",2),i.jc("click",function(){return i.Jc(e),i.nc().loadDropdownInformation()}),i.Ub(),i.Qb(3,"my-video-download",null,3),i.Qb(5,"my-video-report",4,5),i.Vb(7,"my-video-block",6,7),i.jc("videoBlocked",function(){return i.Jc(e),i.nc().onVideoBlocked()}),i.Ub(),i.Sc(9,M,2,0,"my-live-stream-information",0),i.Sb()}if(2&n){var o=i.nc();i.Cb(1),i.uc("ngIf",o.isUserLoggedIn()&&o.displayOptions.playlist),i.Cb(1),i.uc("actions",o.videoActions)("label",o.label)("entry",i.yc(11,_,o.video))("buttonSize",o.buttonSize)("placement",o.placement)("buttonDirection",o.buttonDirection)("buttonStyled",o.buttonStyled),i.Cb(3),i.uc("video",o.video),i.Cb(2),i.uc("video",o.video),i.Cb(2),i.uc("ngIf",o.displayOptions.liveInfo)}}var k=function(){var n=function(){function n(t,e,o,c,r,a,u,l){dt(this,n),this.authService=t,this.notifier=e,this.confirmService=o,this.blocklistService=c,this.videoBlocklistService=r,this.screenService=a,this.videoService=u,this.redundancyService=l,this.videoCaptions=[],this.displayOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0,liveInfo:!1},this.placement="left",this.buttonStyled=!1,this.buttonSize="normal",this.buttonDirection="vertical",this.videoRemoved=new i.n,this.videoUnblocked=new i.n,this.videoBlocked=new i.n,this.videoAccountMuted=new i.n,this.modalOpened=new i.n,this.videoActions=[],this.loaded=!1}return ut(n,[{key:"ngOnChanges",value:function(){this.loaded&&(this.loaded=!1,this.playlistAdd&&this.playlistAdd.reload()),this.buildActions()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"loadDropdownInformation",value:function(){this.isUserLoggedIn()&&!0!==this.loaded&&(this.loaded=!0,this.displayOptions.playlist&&this.playlistAdd.load())}},{key:"showDownloadModal",value:function(){this.modalOpened.emit(),this.videoDownloadModal.show(this.video,this.videoCaptions)}},{key:"showReportModal",value:function(){this.modalOpened.emit(),this.videoReportModal.show()}},{key:"showBlockModal",value:function(){this.modalOpened.emit(),this.videoBlockModal.show()}},{key:"showLiveInfoModal",value:function(n){this.modalOpened.emit(),this.liveStreamInformationModal.show(n)}},{key:"isVideoUpdatable",value:function(){return this.video.isUpdatableBy(this.user)}},{key:"isVideoRemovable",value:function(){return this.video.isRemovableBy(this.user)}},{key:"isVideoBlockable",value:function(){return this.video.isBlockableBy(this.user)}},{key:"isVideoUnblockable",value:function(){return this.video.isUnblockableBy(this.user)}},{key:"isVideoLiveInfoAvailable",value:function(){return this.video.isLiveInfoAvailableBy(this.user)}},{key:"isVideoDownloadable",value:function(){return this.video&&!0!==this.video.isLive&&this.video instanceof a.o&&this.video.downloadEnabled}},{key:"canVideoBeDuplicated",value:function(){return!this.video.isLive&&this.video.canBeDuplicatedBy(this.user)}},{key:"isVideoAccountMutable",value:function(){return this.video.account.id!==this.user.account.id}},{key:"unblockVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="Czy na pewno chcesz odblokowa\u0107 ten film? Pojawi si\u0119 on ponownie na li\u015Bcie film\xF3w",n.t0=!1,n.next=4,this.confirmService.confirm(t,"Odblokuj");case 4:if(n.t1=n.sent,n.t2=n.t0!==n.t1,!n.t2){n.next=8;break}this.videoBlocklistService.unblockVideo(this.video.id).subscribe(function(){e.notifier.success("Odblokowano film " + e.video.name + "."),e.video.blacklisted=!1,e.video.blockedReason=null,e.videoUnblocked.emit()},function(n){return e.notifier.error(n.message)});case 8:case"end":return n.stop()}},n,this)}))}},{key:"removeVideo",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.modalOpened.emit(),t="Czy na pewno chcesz usun\u0105\u0107 ten film?",this.video.isLive&&(t+=" "+"Transmisja zostanie automatycznie przerwana."),n.t0=!1,n.next=6,this.confirmService.confirm(t,"Usu\u0144");case 6:if(n.t1=n.sent,n.t2=n.t0!==n.t1,!n.t2){n.next=10;break}this.videoService.removeVideo(this.video.id).subscribe(function(){e.notifier.success("Usuni\u0119to film \n          " + e.video.name + ".\n        "),e.videoRemoved.emit()},function(n){return e.notifier.error(n.message)});case 10:case"end":return n.stop()}},n,this)}))}},{key:"duplicateVideo",value:function(){var n=this;this.redundancyService.addVideoRedundancy(this.video).subscribe(function(){var t="Ten film zostanie zduplikowany przez twoj\u0105 instancj\u0119.";n.notifier.success(t)},function(t){return n.notifier.error(t.message)})}},{key:"muteVideoAccount",value:function(){var n=this,t={nameWithHost:a.c.CREATE_BY_STRING(this.video.account.name,this.video.account.host)};this.blocklistService.blockAccountByUser(t).subscribe(function(){n.notifier.success("Wyciszono konto \n          " + t.nameWithHost + ".\n        "),n.videoAccountMuted.emit()},function(t){return n.notifier.error(t.message)})}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"getPlaylistDropdownPlacement",value:function(){return this.screenService.isInSmallView()?"bottom-right":"bottom-left bottom-right"}},{key:"buildActions",value:function(){var n=this;this.videoActions=[[{label:"Dodaj do playlisty",handler:function(){return n.playlistDropdown.toggle()},isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.playlist},iconName:"playlist-add"}],[{label:"Pobierz",handler:function(){return n.showDownloadModal()},isDisplayed:function(){return n.displayOptions.download&&n.isVideoDownloadable()},iconName:"download"},{label:"Wy\u015Bwietl informacje o live",handler:function(t){var e=t.video;return n.showLiveInfoModal(e)},isDisplayed:function(){return n.displayOptions.liveInfo&&n.isVideoLiveInfoAvailable()},iconName:"live"},{label:"Aktualizuj",linkBuilder:function(n){return["/videos/update",n.video.uuid]},iconName:"edit",isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.update&&n.isVideoUpdatable()}},{label:"Blokuj",handler:function(){return n.showBlockModal()},iconName:"no",isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.blacklist&&n.isVideoBlockable()}},{label:"Odblokuj",handler:function(){return n.unblockVideo()},iconName:"undo",isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.blacklist&&n.isVideoUnblockable()}},{label:"Mirror",handler:function(){return n.duplicateVideo()},isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.duplicate&&n.canVideoBeDuplicated()},iconName:"cloud-download"},{label:"Usu\u0144",handler:function(){return n.removeVideo()},isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.delete&&n.isVideoRemovable()},iconName:"delete"},{label:"Zg\u0142o\u015B",handler:function(){return n.showReportModal()},isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.report},iconName:"flag"}],[{label:"Wycisz konto",handler:function(){return n.muteVideoAccount()},isDisplayed:function(){return n.authService.isLoggedIn()&&n.displayOptions.mute&&n.isVideoAccountMutable()},iconName:"no"}]]}},{key:"user",get:function(){return this.authService.getUser()}}]),n}();return n.\u0275fac=function(t){return new(t||n)(i.Pb(c.a),i.Pb(c.m),i.Pb(c.d),i.Pb(r.c),i.Pb(r.h),i.Pb(c.v),i.Pb(a.s),i.Pb(a.g))},n.\u0275cmp=i.Jb({type:n,selectors:[["my-video-actions-dropdown"]],viewQuery:function(n,t){var e;(1&n&&(i.Yc(p,!0),i.Yc(h,!0),i.Yc(m,!0),i.Yc(C,!0),i.Yc(O,!0),i.Yc(y,!0)),2&n)&&(i.Gc(e=i.kc())&&(t.playlistDropdown=e.first),i.Gc(e=i.kc())&&(t.playlistAdd=e.first),i.Gc(e=i.kc())&&(t.videoDownloadModal=e.first),i.Gc(e=i.kc())&&(t.videoReportModal=e.first),i.Gc(e=i.kc())&&(t.videoBlockModal=e.first),i.Gc(e=i.kc())&&(t.liveStreamInformationModal=e.first))},inputs:{video:"video",videoCaptions:"videoCaptions",displayOptions:"displayOptions",placement:"placement",label:"label",buttonStyled:"buttonStyled",buttonSize:"buttonSize",buttonDirection:"buttonDirection"},outputs:{videoRemoved:"videoRemoved",videoUnblocked:"videoUnblocked",videoBlocked:"videoBlocked",videoAccountMuted:"videoAccountMuted",modalOpened:"modalOpened"},features:[i.Ab],decls:1,vars:1,consts:function(){return[[4,"ngIf"],["role","button","aria-label","Otw\xF3rz dzia\u0142ania dla filmu","class","playlist-dropdown","ngbDropdown","","autoClose","outside",3,"placement","openChange",4,"ngIf"],[3,"actions","label","entry","buttonSize","placement","buttonDirection","buttonStyled","click"],["videoDownloadModal",""],[3,"video"],["videoReportModal",""],[3,"video","videoBlocked"],["videoBlockModal",""],["role","button","aria-label","Otw\xF3rz dzia\u0142ania dla filmu","ngbDropdown","","autoClose","outside",1,"playlist-dropdown",3,"placement","openChange"],["playlistDropdown","ngbDropdown"],["ngbDropdownAnchor","",1,"anchor"],["ngbDropdownMenu",""],[3,"video","lazyLoad"],["playlistAdd",""],["liveStreamInformationModal",""]]},template:function(n,t){1&n&&i.Sc(0,w,10,13,"ng-container",0),2&n&&i.uc("ngIf",0!==t.videoActions.length)},directives:[l.n,s.a,u.a,d.a,b.a,g.f,g.g,g.j,f.a,v.a],styles:[".playlist-dropdown[_ngcontent-%COMP%]{position:absolute}.playlist-dropdown[_ngcontent-%COMP%]   .anchor[_ngcontent-%COMP%]{display:block;opacity:0}  .icon-playlist-add{left:2px}"]}),n}()},JEFd:function(n,t,e){"use strict";e.d(t,"a",function(){return i.a}),e.d(t,"b",function(){return f});var o,i=e("s/vm"),c=(e("HZcR"),e("tTqN"),e("MUmz"),e("UT6+"),e("sWvm")),r=e("P8w3"),a=e("Nmku"),u=e("HIM4"),l=e("h3Oa"),s=e("PcNq"),d=e("hDKA"),b=e("aW0q"),g=e("fXoL"),f=((o=function n(){dt(this,n)}).\u0275mod=g.Nb({type:o}),o.\u0275inj=g.Mb({factory:function(n){return new(n||o)},providers:[],imports:[[a.a,c.c,u.g,b.a,s.a,r.a,d.b,l.a]]}),o)},MUmz:function(n,t,e){"use strict";e.d(t,"a",function(){return A});var o=e("eIep"),i=e("fXoL"),c=e("ey9i"),r=(e("xMQD"),e("SZgj")),a=e("ofXK"),u=e("qZuT"),l=e("tyNb"),s=e("4Gki"),d=e("SecD"),b=e("HZcR");function g(n,t){1&n&&(i.Tb(0,23),i.Zb(1,24),i.Sb())}function f(n,t){1&n&&(i.Tb(0,25),i.Zb(1,26),i.Sb())}var v=function(n){return["/video-channels",n]};function p(n,t){if(1&n&&(i.Vb(0,"a",27),i.Qb(1,"img",28),i.Ub()),2&n){var e=i.nc();i.uc("routerLink",i.yc(3,v,e.video.byVideoChannel))("title",e.channelLinkTitle),i.Cb(1),i.uc("src",e.getAvatarUrl(),i.Lc)}}var h=function(n){return{"blur-filter":n}};function m(n,t){if(1&n&&(i.Vb(0,"a",29),i.Uc(1),i.Ub()),2&n){var e=i.nc();i.uc("routerLink",e.videoRouterLink)("ngClass",i.yc(4,h,e.isVideoBlur)),i.Db("title",e.video.name),i.Cb(1),i.Vc(e.video.name)}}function C(n,t){if(1&n&&(i.Vb(0,"a",30),i.Uc(1),i.Ub()),2&n){var e=i.nc();i.uc("href",e.videoHref,i.Lc)("target",e.videoTarget)("ngClass",i.yc(5,h,e.isVideoBlur)),i.Db("title",e.video.name),i.Cb(1),i.Vc(e.video.name)}}function O(n,t){if(1&n&&i.Qb(0,"my-date-toggle",31),2&n){var e=i.nc();i.uc("date",e.video.publishedAt)}}function y(n,t){1&n&&(i.Tb(0),i.Uc(1," \u2022 "),i.Sb())}function P(n,t){if(1&n&&i.Qb(0,"my-video-views-counter",32),2&n){var e=i.nc();i.uc("video",e.video)}}var M=function(n){return["/accounts",n]};function _(n,t){if(1&n&&(i.Vb(0,"a",33),i.Uc(1),i.Ub()),2&n){var e=i.nc();i.uc("routerLink",i.yc(2,M,e.video.byAccount)),i.Cb(1),i.Wc(" ",e.video.byAccount," ")}}function w(n,t){if(1&n&&(i.Vb(0,"a",34),i.Uc(1),i.Ub()),2&n){var e=i.nc();i.uc("routerLink",i.yc(2,v,e.video.byVideoChannel)),i.Cb(1),i.Wc(" ",e.video.byVideoChannel," ")}}function k(n,t){if(1&n&&(i.Tb(0),i.Uc(1),i.Sb()),2&n){var e=i.nc();i.Cb(1),i.Vc(e.video.privacy.label)}}function S(n,t){1&n&&(i.Tb(0),i.Uc(1," - "),i.Sb())}function U(n,t){if(1&n&&(i.Tb(0),i.Uc(1),i.Sb()),2&n){var e=i.nc();i.Cb(1),i.Vc(e.getStateLabel(e.video))}}function V(n,t){if(1&n&&(i.Vb(0,"span",39),i.Uc(1),i.Ub()),2&n){var e=i.nc(2);i.Cb(1),i.Vc(e.video.blockedReason)}}function I(n,t){if(1&n&&(i.Vb(0,"div",35),i.Vb(1,"span",36),i.Zb(2,37),i.Ub(),i.Sc(3,V,2,1,"span",38),i.Ub()),2&n){var e=i.nc();i.Cb(3),i.uc("ngIf",e.video.blockedReason)}}function x(n,t){1&n&&(i.Vb(0,"div",40),i.Zb(1,41),i.Ub())}function L(n,t){if(1&n){var e=i.Wb();i.Vb(0,"my-video-actions-dropdown",42),i.jc("videoRemoved",function(){return i.Jc(e),i.nc().onVideoRemoved()})("videoBlocked",function(){return i.Jc(e),i.nc().onVideoBlocked()})("videoUnblocked",function(){return i.Jc(e),i.nc().onVideoUnblocked()})("videoAccountMuted",function(){return i.Jc(e),i.nc().onVideoAccountMuted()}),i.Ub()}if(2&n){var o=i.nc();i.uc("video",o.video)("displayOptions",o.videoActionsDisplayOptions)}}var T=function(n,t){return{"display-as-row":n,"fit-width":t}},A=function(){var n=function(){function n(t,e,o,c,r,a){dt(this,n),this.screenService=t,this.serverService=e,this.authService=o,this.videoPlaylistService=c,this.cd=r,this.localeId=a,this.ownerDisplayType="account",this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.displayAsRow=!1,this.displayVideoActions=!0,this.fitWidth=!1,this.videoLinkType="internal",this.videoBlocked=new i.n,this.videoUnblocked=new i.n,this.videoRemoved=new i.n,this.videoAccountMuted=new i.n,this.videoActionsDisplayOptions={playlist:!0,download:!1,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.showActions=!1,this.channelLinkTitle="",this.videoRouterLink=[]}return ut(n,[{key:"ngOnInit",value:function(){var n=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(function(t){n.serverConfig=t,n.buildVideoLink()}),this.setUpBy(),this.channelLinkTitle="" + this.video.channel.name + " (strona kana\u0142u) ",this.screenService.isInTouchScreen()&&this.loadActions()}},{key:"buildVideoLink",value:function(){if("internal"!==this.videoLinkType&&this.video.url)return"external"===this.videoLinkType?(this.videoRouterLink=null,this.videoHref=this.video.url,void(this.videoTarget="_blank")):void(this.videoRouterLink=["/search/lazy-load-video",{url:this.video.url}]);this.videoRouterLink=["/videos/watch",this.video.uuid]}},{key:"displayOwnerAccount",value:function(){return"account"===this.ownerDisplayTypeChosen}},{key:"displayOwnerVideoChannel",value:function(){return"videoChannel"===this.ownerDisplayTypeChosen}},{key:"isUnlistedVideo",value:function(){return 2===this.video.privacy.id}},{key:"isPrivateVideo",value:function(){return 3===this.video.privacy.id}},{key:"getStateLabel",value:function(n){if(!n.state)return"";if(3!==n.privacy.id&&1===n.state.id)return "Opublikowano";if(n.scheduledUpdate){var t=new Date(n.scheduledUpdate.updateAt.toString()).toLocaleString(this.localeId);return "Zaplanowano publikacj\u0119"+t}return 2===n.state.id&&!0===n.waitTranscoding?"Oczekiwanie na transkodowanie":2===n.state.id?"Do transkodowania":3===n.state.id?"Do importu":""}},{key:"getAvatarUrl",value:function(){return"account"===this.ownerDisplayTypeChosen?this.video.accountAvatarUrl:this.video.videoChannelAvatarUrl}},{key:"loadActions",value:function(){this.displayVideoActions&&(this.showActions=!0),this.loadWatchLater()}},{key:"onVideoBlocked",value:function(){this.videoBlocked.emit()}},{key:"onVideoUnblocked",value:function(){this.videoUnblocked.emit()}},{key:"onVideoRemoved",value:function(){this.videoRemoved.emit()}},{key:"onVideoAccountMuted",value:function(){this.videoAccountMuted.emit()}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onWatchLaterClick",value:function(n){!0===n?this.removeFromWatchLater():this.addToWatchLater(),this.inWatchLaterPlaylist=!n}},{key:"addToWatchLater",value:function(){var n=this;this.videoPlaylistService.addVideoInPlaylist(this.watchLaterPlaylist.id,{videoId:this.video.id}).subscribe(function(t){n.watchLaterPlaylist.playlistElementId=t.videoPlaylistElement.id})}},{key:"removeFromWatchLater",value:function(){this.videoPlaylistService.removeVideoFromPlaylist(this.watchLaterPlaylist.id,this.watchLaterPlaylist.playlistElementId,this.video.id).subscribe(function(n){})}},{key:"isWatchLaterPlaylistDisplayed",value:function(){return this.displayVideoActions&&this.isUserLoggedIn()&&void 0!==this.inWatchLaterPlaylist}},{key:"setUpBy",value:function(){this.ownerDisplayTypeChosen="account"!==this.ownerDisplayType&&"videoChannel"!==this.ownerDisplayType?this.video.channel.name==="".concat(this.video.account.name,"_channel")||this.video.channel.name.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?"account":"videoChannel":this.ownerDisplayType}},{key:"loadWatchLater",value:function(){var n=this;this.isUserLoggedIn()&&void 0===this.inWatchLaterPlaylist&&(this.authService.userInformationLoaded.pipe(Object(o.a)(function(){return n.videoPlaylistService.listenToVideoPlaylistChange(n.video.id)})).subscribe(function(t){var e=n.authService.getUser().specialPlaylists.find(function(n){return 2===n.type}),o=t.find(function(n){return n.playlistId===e.id});n.inWatchLaterPlaylist=!1,n.watchLaterPlaylist={id:e.id},o&&(n.inWatchLaterPlaylist=!0,n.watchLaterPlaylist.playlistElementId=o.playlistElementId),n.cd.markForCheck()}),this.videoPlaylistService.runPlaylistCheck(this.video.id))}},{key:"isVideoBlur",get:function(){return this.video.isVideoNSFWForUser(this.user,this.serverConfig)}}]),n}();return n.\u0275fac=function(t){return new(t||n)(i.Pb(c.v),i.Pb(c.x),i.Pb(c.a),i.Pb(r.b),i.Pb(i.h),i.Pb(i.v))},n.\u0275cmp=i.Jb({type:n,selectors:[["my-video-miniature"]],inputs:{user:"user",video:"video",ownerDisplayType:"ownerDisplayType",displayOptions:"displayOptions",displayAsRow:"displayAsRow",displayVideoActions:"displayVideoActions",fitWidth:"fitWidth",videoLinkType:"videoLinkType"},outputs:{videoBlocked:"videoBlocked",videoUnblocked:"videoUnblocked",videoRemoved:"videoRemoved",videoAccountMuted:"videoAccountMuted"},decls:26,vars:28,consts:function(){return[[1,"video-miniature",3,"ngClass","mouseenter"],[3,"video","nsfw","videoRouterLink","videoHref","videoTarget","displayWatchLaterPlaylist","inWatchLaterPlaylist","watchLaterClick"],["ngProjectAs","label-warning",5,["label-warning"],4,"ngIf"],["ngProjectAs","label-danger",5,["label-danger"],4,"ngIf"],[1,"video-bottom"],[1,"video-miniature-information"],[1,"d-inline-flex","video-miniature-meta"],["class","avatar",3,"routerLink","title",4,"ngIf"],[1,"w-100","d-flex","flex-column"],["tabindex","-1","class","video-miniature-name",3,"routerLink","ngClass",4,"ngIf"],["tabindex","-1","class","video-miniature-name",3,"href","target","ngClass",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date",4,"ngIf"],[1,"views",3,"title"],[4,"ngIf"],[3,"video",4,"ngIf"],["tabindex","-1","class","video-miniature-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-miniature-channel",3,"routerLink",4,"ngIf"],[1,"video-info-privacy"],["class","video-info-blocked",4,"ngIf"],["class","video-info-nsfw",4,"ngIf"],[1,"video-actions"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted",4,"ngIf"],["ngProjectAs","label-warning",5,["label-warning"]],"Niepubliczny",["ngProjectAs","label-danger",5,["label-danger"]],"Prywatne",[1,"avatar",3,"routerLink","title"],["alt","",3,"src"],["tabindex","-1",1,"video-miniature-name",3,"routerLink","ngClass"],["tabindex","-1",1,"video-miniature-name",3,"href","target","ngClass"],[3,"date"],[3,"video"],["tabindex","-1",1,"video-miniature-account",3,"routerLink"],["tabindex","-1",1,"video-miniature-channel",3,"routerLink"],[1,"video-info-blocked"],[1,"blocked-label"],"Zablokowano",["class","blocked-reason",4,"ngIf"],[1,"blocked-reason"],[1,"video-info-nsfw"],"Wra\u017Cliwe",["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted"]]},template:function(n,t){1&n&&(i.Vb(0,"div",0),i.jc("mouseenter",function(){return t.loadActions()}),i.Vb(1,"my-video-thumbnail",1),i.jc("watchLaterClick",function(n){return t.onWatchLaterClick(n)}),i.Sc(2,g,2,0,"ng-container",2),i.Sc(3,f,2,0,"ng-container",3),i.Ub(),i.Vb(4,"div",4),i.Vb(5,"div",5),i.Vb(6,"div",6),i.Sc(7,p,2,5,"a",7),i.Vb(8,"div",8),i.Sc(9,m,2,6,"a",9),i.Sc(10,C,2,7,"a",10),i.Vb(11,"span",11),i.Sc(12,O,1,1,"my-date-toggle",12),i.Vb(13,"span",13),i.Sc(14,y,2,0,"ng-container",14),i.Sc(15,P,1,1,"my-video-views-counter",15),i.Ub(),i.Ub(),i.Sc(16,_,2,4,"a",16),i.Sc(17,w,2,4,"a",17),i.Vb(18,"div",18),i.Sc(19,k,2,1,"ng-container",14),i.Sc(20,S,2,0,"ng-container",14),i.Sc(21,U,2,1,"ng-container",14),i.Ub(),i.Ub(),i.Ub(),i.Sc(22,I,4,1,"div",19),i.Sc(23,x,2,0,"div",20),i.Ub(),i.Vb(24,"div",21),i.Sc(25,L,1,2,"my-video-actions-dropdown",22),i.Ub(),i.Ub(),i.Ub()),2&n&&(i.uc("ngClass",i.zc(25,T,t.displayAsRow,t.fitWidth)),i.Cb(1),i.uc("video",t.video)("nsfw",t.isVideoBlur)("videoRouterLink",t.videoRouterLink)("videoHref",t.videoHref)("videoTarget",t.videoTarget)("displayWatchLaterPlaylist",t.isWatchLaterPlaylistDisplayed())("inWatchLaterPlaylist",t.inWatchLaterPlaylist),i.Cb(1),i.uc("ngIf",t.displayOptions.privacyLabel&&t.isUnlistedVideo()),i.Cb(1),i.uc("ngIf",t.displayOptions.privacyLabel&&t.isPrivateVideo()),i.Cb(4),i.uc("ngIf",t.displayOptions.avatar),i.Cb(2),i.uc("ngIf",!t.videoHref),i.Cb(1),i.uc("ngIf",t.videoHref),i.Cb(2),i.uc("ngIf",t.displayOptions.date),i.Cb(1),i.uc("title",t.video.getExactNumberOfViews()),i.Cb(1),i.uc("ngIf",t.displayOptions.date&&t.displayOptions.views),i.Cb(1),i.uc("ngIf",t.displayOptions.views),i.Cb(1),i.uc("ngIf",t.displayOptions.by&&t.displayOwnerAccount()),i.Cb(1),i.uc("ngIf",t.displayOptions.by&&t.displayOwnerVideoChannel()),i.Cb(2),i.uc("ngIf",t.displayOptions.privacyText),i.Cb(1),i.uc("ngIf",t.displayOptions.privacyText&&t.displayOptions.state&&t.getStateLabel(t.video)),i.Cb(1),i.uc("ngIf",t.displayOptions.state),i.Cb(1),i.uc("ngIf",t.displayOptions.blacklistInfo&&t.video.blacklisted),i.Cb(1),i.uc("ngIf",t.displayOptions.nsfw&&t.video.nsfw),i.Cb(2),i.uc("ngIf",t.showActions))},directives:[a.l,u.a,a.n,l.k,s.a,d.a,b.a],styles:['.video-miniature[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;padding-bottom:15px;vertical-align:top}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{display:flex}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:183px;line-height:normal}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:10px 10px 0 0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:40px;height:40px;min-width:40px;min-height:40px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.2em;font-size:1.1em;line-height:1.1em;overflow:hidden;text-overflow:ellipsis;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);margin-top:10px;margin-bottom:5px;width:calc(100% - 40px)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name.blur-filter[_ngcontent-%COMP%]{filter:blur(3px);padding-left:4px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-meta[_ngcontent-%COMP%]{width:calc(100% + 40px);overflow:hidden}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{display:block;font-size:13px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;color:var(--greyForegroundColor)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{color:#303030}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-label[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-weight:600}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-reason[_ngcontent-%COMP%]:before{content:" - "}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin-top:3px;width:40px;height:30px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root:not(.show){opacity:0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .playlist-dropdown.show+my-action-dropdown .dropdown-root{opacity:1}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon{opacity:.6}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon:hover{opacity:1}@media screen and (max-width:800px){.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{margin:0 10px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root{opacity:1!important}}.video-miniature[_ngcontent-%COMP%]:hover   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root, .video-miniature[_ngcontent-%COMP%]:hover     .video-thumbnail .video-thumbnail-actions-overlay{opacity:1}.video-miniature.fit-width[_ngcontent-%COMP%]{width:100%}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{width:100%!important}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:calc(100% - 40px)!important}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{position:absolute;width:100%;height:100%;top:0}.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:row;padding-bottom:0;height:auto;display:flex;flex-grow:1}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:10px}@media screen and (min-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:auto;min-width:500px}}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin-top:2px;margin-bottom:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:95%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%] + .video-miniature-channel[_ngcontent-%COMP%]{margin-top:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{margin-top:3px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}@media screen and (max-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{min-width:0}}'],changeDetection:0}),n}()},S51W:function(n,t,e){"use strict";e.d(t,"a",function(){return m});var o=e("nEQH"),i=e("fXoL"),c=e("1kSV"),r=e("UkmY"),a=e("ofXK"),u=e("l9Pe"),l=e("tyNb"),s=e("9RWm"),d=e("RM9B"),b=["modal"];function g(n,t){1&n&&(i.Vb(0,"div",22),i.Zb(1,23),i.Ub())}function f(n,t){1&n&&(i.Vb(0,"div",22),i.Zb(1,24),i.Ub())}function v(n,t){if(1&n&&(i.Vb(0,"div",10),i.Vb(1,"div"),i.Sc(2,g,2,0,"div",11),i.Sc(3,f,2,0,"div",11),i.Ub(),i.Vb(4,"div",12),i.Qb(5,"my-live-documentation-link"),i.Ub(),i.Vb(6,"div",13),i.Vb(7,"label",14),i.Zb(8,15),i.Ub(),i.Qb(9,"my-input-toggle-hidden",16),i.Ub(),i.Vb(10,"div",13),i.Vb(11,"label",17),i.Zb(12,18),i.Ub(),i.Qb(13,"my-input-toggle-hidden",19),i.Vb(14,"div",20),i.Zb(15,21),i.Ub(),i.Ub(),i.Ub()),2&n){var e=i.nc(2);i.Cb(2),i.uc("ngIf",e.live.permanentLive),i.Cb(1),i.uc("ngIf",e.live.saveReplay),i.Cb(6),i.uc("value",e.live.rtmpUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),i.Cb(4),i.uc("value",e.live.streamKey)("withCopy",!0)("readonly",!0)}}var p=function(n){return["/videos","update",n]};function h(n,t){if(1&n&&(i.Vb(0,"div",1),i.Vb(1,"h4",2),i.Zb(2,3),i.Ub(),i.Vb(3,"my-global-icon",4),i.jc("click",function(){return(0,t.dismiss)()}),i.Ub(),i.Ub(),i.Sc(4,v,16,10,"div",5),i.Vb(5,"div",6),i.Vb(6,"div",7),i.Vb(7,"input",8),i.jc("click",function(){return(0,t.dismiss)()}),i.Ub(),i.Vb(8,"my-edit-button",9),i.jc("click",function(){return(0,t.dismiss)()}),i.Ub(),i.Ub(),i.Ub()),2&n){var e=i.nc();i.Cb(4),i.uc("ngIf",e.live),i.Cb(4),i.uc("routerLink",i.yc(2,p,e.video.uuid))}}var m=function(){var n=function(){function n(t,e){dt(this,n),this.modalService=t,this.liveVideoService=e}return ut(n,[{key:"show",value:function(n){this.video=n,this.live=void 0,this.loadLiveInfo(n),this.modalService.open(this.modal,{centered:!0})}},{key:"loadLiveInfo",value:function(n){var t=this;this.liveVideoService.getVideoLive(n.id).subscribe(function(n){return t.live=n})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(i.Pb(c.m),i.Pb(o.a))},n.\u0275cmp=i.Jb({type:n,selectors:[["my-live-stream-information"]],viewQuery:function(n,t){var e;(1&n&&i.Pc(b,!0),2&n)&&(i.Gc(e=i.kc())&&(t.modal=e.first))},decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Informacje o transmisji",["iconName","cross","aria-label","Close","role","button",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"form-group","inputs"],["type","button","role","button","value","Zamknij",1,"action-button","action-button-cancel",3,"click"],["label","Uaktualnij ustawienia live",3,"routerLink","click"],[1,"modal-body"],["class","badge badge-info",4,"ngIf"],[1,"alert","alert-info"],[1,"form-group"],["for","liveVideoRTMPUrl"],"Adres URL RTMP transmisji",["inputId","liveVideoRTMPUrl",3,"value","withToggle","withCopy","show","readonly"],["for","liveVideoStreamKey"],"Klucz strumienia",["inputId","liveVideoStreamKey",3,"value","withCopy","readonly"],[1,"form-group-description"],"\u26A0\uFE0F Nie dziel si\u0119 kluczem strumienia z innymi.",[1,"badge","badge-info"],"Trwa\u0142a transmisja","Powt\xF3rka zostanie zapisana"]},template:function(n,t){1&n&&i.Sc(0,h,9,4,"ng-template",null,0,i.Tc)},directives:[r.a,a.n,u.a,l.i,s.a,d.a],styles:["p-autocomplete[_ngcontent-%COMP%]{display:block}.form-group[_ngcontent-%COMP%]{margin:20px 0}.alert-info[_ngcontent-%COMP%]{margin:1rem 0}.badge[_ngcontent-%COMP%]{font-size:13px}"]}),n}()},SecD:function(n,t,e){"use strict";e.d(t,"a",function(){return u}),e("xMQD");var o=e("fXoL"),i=e("ofXK"),c=e("gCBE");function r(n,t){if(1&n&&(o.Tb(0),o.Zb(1,2),o.oc(2,"myNumberFormatter"),o.Sb()),2&n){var e=o.nc();o.Cb(2),o.dc(e.video.views)(o.pc(2,2,e.video.views)),o.ac(1)}}function a(n,t){if(1&n&&(o.Tb(0),o.Zb(1,3),o.oc(2,"myNumberFormatter"),o.Sb()),2&n){var e=o.nc();o.Cb(2),o.dc(e.video.views)(o.pc(2,2,e.video.views)),o.ac(1)}}var u=function(){var n=function n(){dt(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Jb({type:n,selectors:[["my-video-views-counter"]],inputs:{video:"video"},decls:3,vars:3,consts:function(){var n,t,e;return n="{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} wy\u015Bwietle\u0144}}\n        ",n=o.ec(n,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),t="" + n + " ",e="{VAR_PLURAL, plural, =1 {1 ogl\u0105daj\u0105cy(-a)} few {{INTERPOLATION} ogl\u0105daj\u0105cych} many {{INTERPOLATION} ogl\u0105daj\u0105cych} other {{INTERPOLATION} ogl\u0105daj\u0105cych}}",e=o.ec(e,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[[3,"title"],[4,"ngIf"],t,"" + e + " "]},template:function(n,t){1&n&&(o.Vb(0,"span",0),o.Sc(1,r,3,4,"ng-container",1),o.Sc(2,a,3,4,"ng-container",1),o.Ub()),2&n&&(o.uc("title",t.video.getExactNumberOfViews()),o.Cb(1),o.uc("ngIf",!t.video.isLive),o.Cb(1),o.uc("ngIf",t.video.isLive))},directives:[i.n],pipes:[c.a],styles:[""]}),n}()},"UT6+":function(n,t,e){"use strict";e.d(t,"a",function(){return O});var o=e("fXoL"),i=e("ey9i"),c=e("xMQD"),r=e("s/vm"),a=e("tyNb"),u=e("ofXK"),l=e("UjHu"),s=e("/xt7"),d=e("3Pt+"),b=e("MUmz");function g(n,t){1&n&&(o.Vb(0,"div",3),o.Zb(1,4),o.Ub())}function f(n,t){1&n&&o.Rb(0)}function v(n,t){if(1&n){var e=o.Wb();o.Vb(0,"div",11),o.Vb(1,"div",12),o.Vb(2,"span",13),o.jc("click",function(){return o.Jc(e),o.nc(2).abortSelectionMode()}),o.Zb(3,14),o.Ub(),o.Sc(4,f,1,0,"ng-container",15),o.Ub(),o.Ub()}if(2&n){var i=o.nc(2);o.Cb(4),o.uc("ngTemplateOutlet",i.globalButtonsTemplate)}}function p(n,t){1&n&&o.Rb(0)}var h=function(n){return{$implicit:n}};function m(n,t){if(1&n&&(o.Tb(0),o.Sc(1,p,1,0,"ng-container",16),o.Sb()),2&n){var e=o.nc().$implicit,i=o.nc();o.Cb(1),o.uc("ngTemplateOutlet",i.rowButtonsTemplate)("ngTemplateOutletContext",o.yc(2,h,e))}}function C(n,t){if(1&n){var e=o.Wb();o.Vb(0,"div",5),o.Vb(1,"div",6),o.Vb(2,"my-peertube-checkbox",7),o.jc("ngModelChange",function(n){o.Jc(e);var i=t.$implicit;return o.nc()._selection[i.id]=n}),o.Ub(),o.Ub(),o.Qb(3,"my-video-miniature",8),o.Sc(4,v,5,1,"div",9),o.Sc(5,m,2,4,"ng-container",10),o.Ub()}if(2&n){var i=t.$implicit,c=t.index,r=o.nc();o.Cb(2),o.uc("inputName","video-check-"+i.id)("ngModel",r._selection[i.id]),o.Cb(1),o.uc("video",i)("displayAsRow",!0)("displayOptions",r.miniatureDisplayOptions)("displayVideoActions",!1)("ownerDisplayType",r.ownerDisplayType),o.Cb(1),o.uc("ngIf",!0===r.isInSelectionMode()&&0===c),o.Cb(1),o.uc("ngIf",!1===r.isInSelectionMode())}}var O=function(){var n=function(n){N(e,n);var t=W(e);function e(n,i,c,r,a,u,l,s){var d;return dt(this,e),(d=t.call(this)).router=n,d.route=i,d.notifier=c,d.authService=r,d.userService=a,d.screenService=u,d.storageService=l,d.serverService=s,d.selectionChange=new o.n,d.videosModelChange=new o.n,d._selection={},d}return ut(e,[{key:"ngOnInit",value:function(){B(Q(e.prototype),"ngOnInit",this).call(this)}},{key:"ngAfterContentInit",value:function(){var n=this.templates.find(function(n){return"rowButtons"===n.name});n&&(this.rowButtonsTemplate=n.template);var t=this.templates.find(function(n){return"globalButtons"===n.name});t&&(this.globalButtonsTemplate=t.template)}},{key:"ngOnDestroy",value:function(){B(Q(e.prototype),"ngOnDestroy",this).call(this)}},{key:"getVideosObservable",value:function(n){return this.getVideosObservableFunction(n,this.sort)}},{key:"abortSelectionMode",value:function(){this._selection={}}},{key:"isInSelectionMode",value:function(){var n=this;return Object.keys(this._selection).some(function(t){return!0===n._selection[t]})}},{key:"generateSyndicationList",value:function(){throw new Error("Method not implemented.")}},{key:"onMoreVideos",value:function(){this.videosModel=this.videos}},{key:"selection",get:function(){return this._selection},set:function(n){this._selection=n,this.selectionChange.emit(this._selection)}},{key:"videosModel",get:function(){return this.videos},set:function(n){this.videos=n,this.videosModelChange.emit(this.videos)}}]),e}(r.a);return n.\u0275fac=function(t){return new(t||n)(o.Pb(a.h),o.Pb(a.a),o.Pb(i.m),o.Pb(i.a),o.Pb(i.D),o.Pb(i.v),o.Pb(i.h),o.Pb(i.x))},n.\u0275cmp=o.Jb({type:n,selectors:[["my-videos-selection"]],contentQueries:function(n,t,e){var i;(1&n&&o.Ib(e,c.f,!1),2&n)&&(o.Gc(i=o.kc())&&(t.templates=i))},inputs:{pagination:"pagination",titlePage:"titlePage",miniatureDisplayOptions:"miniatureDisplayOptions",ownerDisplayType:"ownerDisplayType",getVideosObservableFunction:"getVideosObservableFunction",selection:"selection",videosModel:"videosModel"},outputs:{selectionChange:"selectionChange",videosModelChange:"videosModelChange"},features:[o.zb],decls:3,vars:5,consts:function(){return[["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results"],"Brak wynik\xF3w.",[1,"video"],[1,"checkbox-container"],[3,"inputName","ngModel","ngModelChange"],[3,"video","displayAsRow","displayOptions","displayVideoActions","ownerDisplayType"],["class","action-selection-mode",4,"ngIf"],[4,"ngIf"],[1,"action-selection-mode"],[1,"action-selection-mode-child"],[1,"action-button","action-button-cancel-selection",3,"click"],"\n          Anuluj\n        ",[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(n,t){1&n&&(o.Sc(0,g,2,0,"div",0),o.Vb(1,"div",1),o.jc("nearOfBottom",function(){return t.onNearOfBottom()}),o.Sc(2,C,6,9,"div",2),o.Ub()),2&n&&(o.uc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),o.Cb(1),o.uc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),o.Cb(1),o.uc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[u.n,l.a,u.m,s.a,d.m,d.p,b.a,u.s],styles:['.action-selection-mode[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]{position:fixed}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-left:55px}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.focus-visible[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:active, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:hover, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{cursor:default}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;margin-left:12px}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:none}.video[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-top:10px}.action-selection-mode[_ngcontent-%COMP%]{display:none}}']}),n}()},b613:function(n,t,e){"use strict";e.d(t,"a",function(){return w});var o=e("NOtv"),i=e("BeL+"),c=e("jtHE"),r=e("XNiG"),a=e("VRyK"),u=e("D0XW"),l=e("LRne"),s=e("OsX3"),d=e("pLZG"),b=e("lJxs"),g=e("pxpQ"),f=e("eIep"),v=e("w1tV"),p=e("JIr8"),h=e("vkgz"),m=e("tk/3"),C=e("ey9i"),O=e("6rF9"),y=e("xMQD"),P=e("AytR"),M=e("fXoL"),_=o("peertube:subscriptions:UserSubscriptionService"),w=function(){var n=function(){function n(t,e,o,l,p){var h=this;dt(this,n),this.authHttp=t,this.restExtractor=e,this.videoService=o,this.restService=l,this.ngZone=p,this.existsSubject=new c.a(1),this.myAccountSubscriptionCache={},this.myAccountSubscriptionCacheObservable={},this.myAccountSubscriptionCacheSubject=new r.a,this.existsObservable=Object(a.a)(this.existsSubject.pipe(Object(s.a)(500,Object(O.k)(this.ngZone,u.b)),Object(d.a)(function(n){return 0!==n.length}),Object(b.a)(function(n){return Object(i.a)(n)}),Object(g.b)(Object(O.d)(this.ngZone,u.b)),Object(f.a)(function(n){return h.doSubscriptionsExist(n)}),Object(v.a)()),this.myAccountSubscriptionCacheSubject)}return ut(n,[{key:"getUserSubscriptionVideos",value:function(t){var e=this,o=t.videoPagination,i=t.sort,c=t.skipCount,r=this.restService.componentPaginationToRestPagination(o),a=new m.f;return a=this.restService.addRestGetParams(a,r,i),c&&(a=a.set("skipCount",c+"")),this.authHttp.get(n.BASE_USER_SUBSCRIPTIONS_URL+"/videos",{params:a}).pipe(Object(f.a)(function(n){return e.videoService.extractVideos(n)}),Object(p.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"deleteSubscription",value:function(t){var e=this;return this.authHttp.delete(n.BASE_USER_SUBSCRIPTIONS_URL+"/"+t).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)(function(){e.myAccountSubscriptionCache[t]=!1,e.myAccountSubscriptionCacheSubject.next(e.myAccountSubscriptionCache)}),Object(p.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"addSubscription",value:function(t){var e=this;return this.authHttp.post(n.BASE_USER_SUBSCRIPTIONS_URL,{uri:t}).pipe(Object(b.a)(this.restExtractor.extractDataBool),Object(h.a)(function(){e.myAccountSubscriptionCache[t]=!0,e.myAccountSubscriptionCacheSubject.next(e.myAccountSubscriptionCache)}),Object(p.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"listSubscriptions",value:function(t){var e=this,o=t.pagination,i=t.search,c=n.BASE_USER_SUBSCRIPTIONS_URL,r=this.restService.componentPaginationToRestPagination(o),a=new m.f;return a=this.restService.addRestGetParams(a,r),i&&(a=a.append("search",i)),this.authHttp.get(c,{params:a}).pipe(Object(b.a)(function(n){return y.n.extractVideoChannels(n)}),Object(p.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"listenToMyAccountSubscriptionCacheSubject",value:function(){return this.myAccountSubscriptionCacheSubject.asObservable()}},{key:"listenToSubscriptionCacheChange",value:function(n){if(n in this.myAccountSubscriptionCacheObservable)return this.myAccountSubscriptionCacheObservable[n];var t=this.existsObservable.pipe(Object(d.a)(function(t){return void 0!==t[n]}),Object(b.a)(function(t){return t[n]}));return this.myAccountSubscriptionCacheObservable[n]=t,t}},{key:"doesSubscriptionExist",value:function(n){var t=this;return _("Running subscription check for %d.",n),n in this.myAccountSubscriptionCache?(_("Found cache for %d.",n),Object(l.a)(this.myAccountSubscriptionCache[n])):(this.existsSubject.next(n),_("Fetching from network for %d.",n),this.existsObservable.pipe(Object(d.a)(function(t){return void 0!==t[n]}),Object(b.a)(function(t){return t[n]}),Object(h.a)(function(e){return t.myAccountSubscriptionCache[n]=e})))}},{key:"doSubscriptionsExist",value:function(t){var e=this,o=n.BASE_USER_SUBSCRIPTIONS_URL+"/exist",i=new m.f;return i=this.restService.addObjectParams(i,{uris:t}),this.authHttp.get(o,{params:i}).pipe(Object(h.a)(function(n){e.myAccountSubscriptionCache=Object.assign(Object.assign({},e.myAccountSubscriptionCache),n)}),Object(p.a)(function(n){return e.restExtractor.handleError(n)}))}}]),n}();return n.BASE_USER_SUBSCRIPTIONS_URL=P.a.apiUrl+"/api/v1/users/me/subscriptions",n.\u0275fac=function(t){return new(t||n)(M.gc(m.b),M.gc(C.r),M.gc(y.s),M.gc(C.s),M.gc(M.B))},n.\u0275prov=M.Lb({token:n,factory:n.\u0275fac}),n}()},gY50:function(n,t,e){"use strict";e.d(t,"a",function(){return p});var o=e("sWvm"),i=e("nnN+"),c=e("fXoL"),r=e("3Pt+"),a=e("ofXK"),u=e("1lk2"),l=e("BLxp");function s(n,t){1&n&&(c.fc(0,4,1),c.Qb(1,"span"),c.cc())}function d(n,t){1&n&&(c.fc(0,4,2),c.Qb(1,"span"),c.cc())}function b(n,t){1&n&&(c.Tb(0),c.fc(1,7),c.Qb(2,"br"),c.Qb(3,"br"),c.cc(),c.Sb())}function g(n,t){1&n&&(c.Vb(0,"my-help"),c.Sc(1,b,4,0,"ng-template",6),c.Ub())}function f(n,t){1&n&&(c.Tb(0),c.fc(1,8),c.Qb(2,"br"),c.Qb(3,"br"),c.cc(),c.Sb())}function v(n,t){1&n&&(c.Vb(0,"my-help"),c.Sc(1,f,4,0,"ng-template",6),c.Ub())}var p=function(){var n=function(n){N(e,n);var t=W(e);function e(n){var o;return dt(this,e),(o=t.call(this)).formValidatorService=n,o.interact=!1,o.showHelp=!1,o}return ut(e,[{key:"ngOnInit",value:function(){this.buildForm({text:i.f})}},{key:"onValidKey",value:function(){this.check(),this.form.valid&&this.formValidated()}},{key:"formValidated",value:function(){var n=this,t=Yn(this.form.value.text.split("@"),2),e=t[0],o=t[1];fetch("https://".concat(o,"/.well-known/webfinger?resource=acct:").concat(e,"@").concat(o)).then(function(n){return n.json()}).then(function(t){return new Promise(function(e,o){if(t&&Array.isArray(t.links)){var i=t.links.find(function(n){return n&&"string"==typeof n.template&&"http://ostatus.org/schema/1.0/subscribe"===n.rel});i&&i.template.includes("{uri}")&&e(i.template.replace("{uri}",encodeURIComponent(n.uri)))}o()})}).then(window.open).catch(function(n){return console.error(n)})}}]),e}(o.a);return n.\u0275fac=function(t){return new(t||n)(c.Pb(o.b))},n.\u0275cmp=c.Jb({type:n,selectors:[["my-remote-subscribe"]],inputs:{uri:"uri",interact:"interact",showHelp:"showHelp"},features:[c.zb],decls:9,vars:6,consts:function(){var n,t,e;return n="\n          " + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "Zdalna subskrypcja\n          " + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "\n          " + "\ufffd*6:2\ufffd\ufffd#1:2\ufffd" + "Zdalna interakcja\n          " + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "\n        ",n=c.ec(n),t="Mo\u017Cesz subskrybowa\u0107 ten kana\u0142 z dowolnej instancji zgodnej z protoko\u0142em ActivityPub.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Na przyk\u0142ad na Mastodonie lub Pleromie mo\u017Cesz wpisa\u0107 URL kana\u0142u do pola wyszukiwania i subskrybowa\u0107. \n        ",t=c.ec(t),e="Mo\u017Cesz wej\u015B\u0107 z tym w interakcj\u0119 z dowolnej instancji zgodnej z protoko\u0142em ActivityPub.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Na przyk\u0142ad na Mastodonie lub Pleromie mo\u017Cesz wpisa\u0107 aktualny URL do pola wyszukiwania i subskrybowa\u0107. \n        ",[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["type","email","formControlName","text","placeholder","jane_doe@example.com",1,"form-control",3,"keyup.control.enter","keyup.meta.enter"],["type","submit",1,"btn","btn-sm","btn-remote-follow",3,"disabled"],n,[4,"ngIf"],["ptTemplate","customHtml"],t,e=c.ec(e)]},template:function(n,t){1&n&&(c.Vb(0,"form",0),c.jc("ngSubmit",function(){return t.formValidated()}),c.Vb(1,"div",1),c.Vb(2,"input",2),c.jc("keyup.control.enter",function(){return t.onValidKey()})("keyup.meta.enter",function(){return t.onValidKey()}),c.Ub(),c.Ub(),c.Vb(3,"button",3),c.fc(4,4),c.Sc(5,s,2,0,"span",5),c.Sc(6,d,2,0,"span",5),c.cc(),c.Ub(),c.Sc(7,g,2,0,"my-help",5),c.Sc(8,v,2,0,"my-help",5),c.Ub()),2&n&&(c.uc("formGroup",t.form),c.Cb(3),c.uc("disabled",!t.form.valid),c.Cb(2),c.uc("ngIf",!t.interact),c.Cb(1),c.uc("ngIf",t.interact),c.Cb(1),c.uc("ngIf",!t.interact&&t.showHelp),c.Cb(1),c.uc("ngIf",t.showHelp&&t.interact))},directives:[r.y,r.n,r.h,r.b,r.m,r.f,a.n,u.a,l.a],styles:['.btn-remote-follow[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.btn-remote-follow.focus-visible[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-remote-follow[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:active, .btn-remote-follow[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-remote-follow[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-remote-follow.disabled[_ngcontent-%COMP%], .btn-remote-follow[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),n}()},h3Oa:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var o,i=e("Nmku"),c=e("fXoL"),r=((o=function n(){dt(this,n)}).\u0275mod=c.Nb({type:o}),o.\u0275inj=c.Mb({factory:function(n){return new(n||o)},imports:[[i.a]]}),o)},hDKA:function(n,t,e){"use strict";e.d(t,"a",function(){return i.a}),e.d(t,"b",function(){return l});var o,i=e("nEQH"),c=(e("S51W"),e("sWvm")),r=e("P8w3"),a=e("Nmku"),u=e("fXoL"),l=((o=function n(){dt(this,n)}).\u0275mod=u.Nb({type:o}),o.\u0275inj=u.Mb({factory:function(n){return new(n||o)},providers:[i.a],imports:[[a.a,c.c,r.a]]}),o)},hHkf:function(n,t,e){"use strict";e.d(t,"a",function(){return a});var o=e("sWvm"),i=e("Nmku"),c=e("b613"),r=e("fXoL"),a=function(){var n=function n(){dt(this,n)};return n.\u0275mod=r.Nb({type:n}),n.\u0275inj=r.Mb({factory:function(t){return new(t||n)},providers:[c.a],imports:[[i.a,o.c]]}),n}()},nEQH:function(n,t,e){"use strict";e.d(t,"a",function(){return u});var o=e("JIr8"),i=e("ey9i"),c=e("AytR"),r=e("fXoL"),a=e("tk/3"),u=function(){var n=function(){function n(t,e){dt(this,n),this.authHttp=t,this.restExtractor=e}return ut(n,[{key:"goLive",value:function(t){var e=this;return this.authHttp.post(n.BASE_VIDEO_LIVE_URL,t).pipe(Object(o.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"getVideoLive",value:function(t){var e=this;return this.authHttp.get(n.BASE_VIDEO_LIVE_URL+t).pipe(Object(o.a)(function(n){return e.restExtractor.handleError(n)}))}},{key:"updateLive",value:function(t,e){var i=this;return this.authHttp.put(n.BASE_VIDEO_LIVE_URL+t,e).pipe(Object(o.a)(function(n){return i.restExtractor.handleError(n)}))}}]),n}();return n.BASE_VIDEO_LIVE_URL=c.a.apiUrl+"/api/v1/videos/live/",n.\u0275fac=function(t){return new(t||n)(r.gc(a.b),r.gc(i.r))},n.\u0275prov=r.Lb({token:n,factory:n.\u0275fac}),n}()},"s/vm":function(n,t,e){"use strict";e.d(t,"a",function(){return g});var o=e("XNiG"),i=e("xgIS"),c=e("Kj3r"),r=e("eIep"),a=e("vkgz");function u(n,t){return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()}function l(n,t){return(n.getTime()-t.getTime())/864e5}var s,d=e("fXoL"),b=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.TODAY=1]="TODAY",n[n.YESTERDAY=2]="YESTERDAY",n[n.THIS_WEEK=3]="THIS_WEEK",n[n.THIS_MONTH=4]="THIS_MONTH",n[n.LAST_MONTH=5]="LAST_MONTH",n[n.OLDER=6]="OLDER",n}({}),g=((s=function(){function n(){dt(this,n),this.pagination={currentPage:1,itemsPerPage:25},this.sort="-publishedAt",this.defaultSort="-publishedAt",this.syndicationItems=[],this.loadOnInit=!0,this.useUserVideoPreferences=!1,this.ownerDisplayType="account",this.displayModerationBlock=!1,this.displayVideoActions=!0,this.groupByDate=!1,this.videos=[],this.hasDoneFirstQuery=!1,this.disabled=!1,this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!0,privacyText:!1,state:!1,blacklistInfo:!1},this.actions=[],this.onDataSubject=new o.a,this.groupedDates={}}return ut(n,[{key:"ngOnInit",value:function(){var n,t=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(function(n){return t.serverConfig=n}),this.groupedDateLabels=(I(n={},b.UNKNOWN,null),I(n,b.TODAY,"Dzisiaj"),I(n,b.YESTERDAY,"Wczoraj"),I(n,b.THIS_WEEK,"W tym tygodniu"),I(n,b.THIS_MONTH,"W tym miesi\u0105cu"),I(n,b.LAST_MONTH,"W ubieg\u0142ym miesi\u0105cu"),I(n,b.OLDER,"Starsze"),n),this.loadRouteParams(this.route.snapshot.queryParams),this.resizeSubscription=Object(i.a)(window,"resize").pipe(Object(c.a)(500)).subscribe(function(){return t.calcPageSizes()}),this.calcPageSizes();var e=this.loadUserAndSettings();!0===this.loadOnInit&&e.subscribe(function(){return t.loadMoreVideos()}),this.userService.listenAnonymousUpdate().pipe(Object(r.a)(function(){return t.loadUserAndSettings()})).subscribe(function(){t.hasDoneFirstQuery&&t.reloadVideos()}),this.screenService.isInMobileView()&&(this.displayOptions.avatar=!0)}},{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"disableForReuse",value:function(){this.disabled=!0}},{key:"enabledForReuse",value:function(){this.disabled=!1}},{key:"videoById",value:function(n,t){return t.id}},{key:"onNearOfBottom",value:function(){this.disabled||void 0!==this.lastQueryLength&&this.lastQueryLength<this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.setScrollRouteParams(),this.loadMoreVideos())}},{key:"loadMoreVideos",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getVideosObservable(this.pagination.currentPage).subscribe(function(e){var o=e.data;n.hasDoneFirstQuery=!0,n.lastQueryLength=o.length,t&&(n.videos=[]),n.videos=n.videos.concat(o),n.groupByDate&&n.buildGroupedDateLabels(),n.onMoreVideos(),n.onDataSubject.next(o)},function(t){var e="Nie mo\u017Cna za\u0142adowa\u0107 wi\u0119cej film\xF3w. Spr\xF3buj ponownie p\xF3\u017Aniej.";console.error(e,{error:t}),n.notifier.error(e)})}},{key:"reloadVideos",value:function(){this.pagination.currentPage=1,this.loadMoreVideos(!0)}},{key:"removeVideoFromArray",value:function(n){this.videos=this.videos.filter(function(t){return t.id!==n.id})}},{key:"buildGroupedDateLabels",value:function(){var n,t=b.UNKNOWN,e=[{value:b.TODAY,validator:function(n){return function(n){return u(n,new Date)}(n)}},{value:b.YESTERDAY,validator:function(n){return function(n){var t=new Date;return t.setDate(t.getDate()-1),u(n,t)}(n)}},{value:b.THIS_WEEK,validator:function(n){return function(n){return l(new Date,n)<=7}(n)}},{value:b.THIS_MONTH,validator:function(n){return function(n){var t=(new Date).getMonth();return n.getMonth()===t}(n)}},{value:b.LAST_MONTH,validator:function(n){return function(n){return l(new Date,n)<=30}(n)}},{value:b.OLDER,validator:function(){return!0}}],o=Xn(this.videos);try{for(o.s();!(n=o.n()).done;)for(var i=n.value,c=i.publishedAt,r=0;r<e.length;r++){var a=e[r];if(t<=a.value&&a.validator(c)){t!==a.value&&(t=a.value,this.groupedDates[i.id]=t);break}}}catch(s){o.e(s)}finally{o.f()}}},{key:"getCurrentGroupedDateLabel",value:function(n){if(!1!==this.groupByDate)return this.groupedDateLabels[this.groupedDates[n.id]]}},{key:"toggleModerationDisplay",value:function(){throw new Error("toggleModerationDisplay is not implemented")}},{key:"onMoreVideos",value:function(){}},{key:"loadRouteParams",value:function(n){this.sort=n.sort||this.defaultSort,this.categoryOneOf=n.categoryOneOf,this.angularState=n["a-state"]}},{key:"buildLocalFilter",value:function(n,t){return"local"===t?"local"===n?"all-local":"local":"all"===n?null:"all"}},{key:"enableAllFilterIfPossible",value:function(){var n=this;this.authService.isLoggedIn()&&this.authService.userInformationLoaded.subscribe(function(){var t=n.authService.getUser();n.displayModerationBlock=t.hasRight(19)})}},{key:"calcPageSizes",value:function(){this.screenService.isInMobileView()&&(this.pagination.itemsPerPage=5)}},{key:"setScrollRouteParams",value:function(){if(!this.angularState){this.angularState=42;var n=this.router.url;n&&"/"!==n||(n=this.serverConfig.instance.defaultClientRoute),this.router.navigate([n],{queryParams:{"a-state":this.angularState,categoryOneOf:this.categoryOneOf},replaceUrl:!0,queryParamsHandling:"merge"})}}},{key:"loadUserAndSettings",value:function(){var n=this;return this.userService.getAnonymousOrLoggedUser().pipe(Object(a.a)(function(t){n.userMiniature=t,n.useUserVideoPreferences&&(n.languageOneOf=t.videoLanguages,n.nsfwPolicy=t.nsfwPolicy)}))}}]),n}()).\u0275fac=function(n){return new(n||s)},s.\u0275dir=d.Kb({type:s}),s)},tTqN:function(V,I,x){"use strict";x.d(I,"a",function(){return an});var L=x("mrSG"),T=x("TSHB"),A=x("Bw5p"),D=x("ey9i"),R=x("xMQD"),z=x("fXoL"),j=x("1kSV"),E=x("ofXK"),F=x("UkmY"),$=x("UXJo"),B=x("3Pt+"),N=["modal"];function H(n,t){if(1&n){var e=z.Wb();z.Vb(0,"button",25),z.jc("click",function(){return z.Jc(e),z.nc(3).switchToType("subtitles")}),z.Zb(1,26),z.Ub()}}function W(n,t){if(1&n){var e=z.Wb();z.Vb(0,"button",25),z.jc("click",function(){return z.Jc(e),z.nc(3).switchToType("video")}),z.Zb(1,27),z.Ub()}}function Z(n,t){if(1&n&&(z.Vb(0,"div",21),z.Vb(1,"span",22),z.Uc(2),z.Ub(),z.Vb(3,"div",23),z.Sc(4,H,2,0,"button",24),z.Sc(5,W,2,0,"button",24),z.Ub(),z.Ub()),2&n){var e=z.nc(2);z.Cb(2),z.Wc(" ",e.type," "),z.Cb(2),z.uc("ngIf","video"===e.type),z.Cb(1),z.uc("ngIf","subtitles"===e.type)}}function Q(n,t){if(1&n&&(z.Vb(0,"option",30),z.Uc(1),z.Ub()),2&n){var e=t.$implicit;z.uc("value",e.resolution.id),z.Cb(1),z.Vc(e.resolution.label)}}function J(n,t){if(1&n){var e=z.Wb();z.Vb(0,"select",28),z.jc("ngModelChange",function(n){return z.Jc(e),z.nc(2).resolutionId=n})("ngModelChange",function(){return z.Jc(e),z.nc(2).onResolutionIdChange()}),z.Sc(1,Q,2,2,"option",29),z.Ub()}if(2&n){var o=z.nc(2);z.uc("ngModel",o.resolutionId),z.Cb(1),z.uc("ngForOf",o.getVideoFiles())}}function K(n,t){if(1&n&&(z.Vb(0,"option",30),z.Uc(1),z.Ub()),2&n){var e=t.$implicit;z.uc("value",e.language.id),z.Cb(1),z.Vc(e.language.label)}}function Y(n,t){if(1&n){var e=z.Wb();z.Vb(0,"select",28),z.jc("ngModelChange",function(n){return z.Jc(e),z.nc(2).subtitleLanguageId=n}),z.Sc(1,K,2,2,"option",29),z.Ub()}if(2&n){var o=z.nc(2);z.uc("ngModel",o.subtitleLanguageId),z.Cb(1),z.uc("ngForOf",o.videoCaptions)}}function X(n,t){if(1&n&&(z.Vb(0,"div",43),z.Vb(1,"span",44),z.Zb(2,45),z.Ub(),z.Vb(3,"span",46),z.Uc(4),z.Ub(),z.Ub()),2&n){var e=t.$implicit;z.Cb(2),z.dc(e.value.label),z.ac(2),z.Cb(2),z.Vc(e.value.value)}}function G(n,t){if(1&n&&(z.Vb(0,"div",41),z.Sc(1,X,5,2,"div",42),z.oc(2,"keyvalue"),z.Ub()),2&n){var e=z.nc(3);z.Cb(1),z.uc("ngForOf",z.pc(2,1,e.videoFileMetadataFormat))}}function q(n,t){if(1&n&&(z.Vb(0,"div",43),z.Vb(1,"span",44),z.Zb(2,47),z.Ub(),z.Vb(3,"span",46),z.Uc(4),z.Ub(),z.Ub()),2&n){var e=t.$implicit;z.Cb(2),z.dc(e.value.label),z.ac(2),z.Cb(2),z.Vc(e.value.value)}}function nn(n,t){if(1&n&&(z.Vb(0,"div",41),z.Sc(1,q,5,2,"div",42),z.oc(2,"keyvalue"),z.Ub()),2&n){var e=z.nc(3);z.Cb(1),z.uc("ngForOf",z.pc(2,1,e.videoFileMetadataVideoStream))}}function tn(n,t){if(1&n&&(z.Vb(0,"div",43),z.Vb(1,"span",44),z.Zb(2,48),z.Ub(),z.Vb(3,"span",46),z.Uc(4),z.Ub(),z.Ub()),2&n){var e=t.$implicit;z.Cb(2),z.dc(e.value.label),z.ac(2),z.Cb(2),z.Vc(e.value.value)}}function en(n,t){if(1&n&&(z.Vb(0,"div",41),z.Sc(1,tn,5,2,"div",42),z.oc(2,"keyvalue"),z.Ub()),2&n){var e=z.nc(3);z.Cb(1),z.uc("ngForOf",z.pc(2,1,e.videoFileMetadataAudioStream))}}function on(n,t){if(1&n&&(z.Tb(0),z.Vb(1,"div",31,32),z.Tb(3,33),z.Vb(4,"a",34),z.Zb(5,35),z.Ub(),z.Sc(6,G,3,3,"ng-template",36),z.Sb(),z.Tb(7,37),z.Vb(8,"a",34),z.Zb(9,38),z.Ub(),z.Sc(10,nn,3,3,"ng-template",36),z.Sb(),z.Tb(11,37),z.Vb(12,"a",34),z.Zb(13,39),z.Ub(),z.Sc(14,en,3,3,"ng-template",36),z.Sb(),z.Ub(),z.Qb(15,"div",40),z.Sb()),2&n){var e=z.Hc(2),o=z.nc(2);z.Cb(7),z.uc("disabled",void 0===o.videoFileMetadataVideoStream),z.Cb(4),z.uc("disabled",void 0===o.videoFileMetadataAudioStream),z.Cb(4),z.uc("ngbNavOutlet",e)}}function cn(n,t){if(1&n){var e=z.Wb();z.Vb(0,"div",49),z.Vb(1,"div",50),z.Vb(2,"input",51),z.jc("ngModelChange",function(n){return z.Jc(e),z.nc(2).downloadType=n}),z.Ub(),z.Vb(3,"label",52),z.Zb(4,53),z.Ub(),z.Ub(),z.Vb(5,"div",50),z.Vb(6,"input",54),z.jc("ngModelChange",function(n){return z.Jc(e),z.nc(2).downloadType=n}),z.Ub(),z.Vb(7,"label",55),z.Zb(8,56),z.Ub(),z.Ub(),z.Ub()}if(2&n){var o=z.nc(2);z.Cb(2),z.uc("ngModel",o.downloadType),z.Cb(4),z.uc("ngModel",o.downloadType)}}function rn(n,t){if(1&n){var e=z.Wb();z.Vb(0,"div",1),z.Vb(1,"h4",2),z.Tb(2),z.Zb(3,3),z.Sb(),z.Sc(4,Z,6,3,"div",4),z.Ub(),z.Vb(5,"my-global-icon",5),z.jc("click",function(){return(0,t.close)()}),z.Ub(),z.Ub(),z.Vb(6,"div",6),z.Vb(7,"div",7),z.Vb(8,"div",8),z.Vb(9,"div",9),z.Sc(10,J,2,2,"select",10),z.Sc(11,Y,2,2,"select",10),z.Ub(),z.Vb(12,"input",11,12),z.jc("click",function(){return z.Jc(e),z.Hc(13).select()}),z.Ub(),z.Vb(14,"div",13),z.Vb(15,"button",14),z.jc("click",function(){return z.Jc(e),z.nc().activateCopiedMessage()}),z.Qb(16,"span",15),z.Ub(),z.Ub(),z.Ub(),z.Ub(),z.Sc(17,on,16,3,"ng-container",16),z.Sc(18,cn,9,2,"div",17),z.Ub(),z.Vb(19,"div",18),z.Vb(20,"input",19),z.jc("click",function(){return(0,t.close)()})("key.enter",function(){return(0,t.close)()}),z.Ub(),z.Vb(21,"input",20),z.jc("click",function(){return z.Jc(e),z.nc().download()}),z.Ub(),z.Ub()}if(2&n){var o=z.Hc(13),i=z.nc();z.Cb(4),z.uc("ngIf",i.videoCaptions),z.Cb(6),z.uc("ngIf","video"===i.type),z.Cb(1),z.uc("ngIf","subtitles"===i.type),z.Cb(1),z.uc("value",i.getLink()),z.Cb(3),z.uc("cdkCopyToClipboard",o.value),z.Cb(2),z.uc("ngIf","video"===i.type&&(null==i.videoFile?null:i.videoFile.metadata)),z.Cb(1),z.uc("ngIf","video"===i.type)}}var an=function(){var V=function(){function n(t,e,o,i){dt(this,n),this.notifier=t,this.modalService=e,this.videoService=o,this.auth=i,this.downloadType="torrent",this.resolutionId=-1,this.type="video",this.bytesPipe=new R.d,this.numbersPipe=new R.e}return ut(n,[{key:"getVideoFiles",value:function(){return this.video?this.video.getFiles():[]}},{key:"show",value:function(n,t){this.video=n,this.videoCaptions=t&&t.length?t:void 0,this.activeModal=this.modalService.open(this.modal,{centered:!0}),this.resolutionId=this.getVideoFiles()[0].resolution.id,this.onResolutionIdChange(),this.videoCaptions&&(this.subtitleLanguageId=this.videoCaptions[0].language.id)}},{key:"onClose",value:function(){this.video=void 0,this.videoCaptions=void 0}},{key:"download",value:function(){window.location.assign(this.getLink()),this.activeModal.close()}},{key:"getLink",value:function(){return"subtitles"===this.type&&this.videoCaptions?this.getSubtitlesLink():this.getVideoFileLink()}},{key:"onResolutionIdChange",value:function(){return Object(L.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.videoFile=this.getVideoFile(),n.t0=!this.videoFile.metadata&&this.videoFile.metadataUrl,!n.t0){n.next=8;break}return n.next=5,this.hydrateMetadataFromMetadataUrl(this.videoFile);case 5:this.videoFileMetadataFormat=this.videoFile?this.getMetadataFormat(this.videoFile.metadata.format):void 0,this.videoFileMetadataVideoStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"video"):void 0,this.videoFileMetadataAudioStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"audio"):void 0;case 8:case"end":return n.stop()}},n,this)}))}},{key:"getVideoFile",value:function(){var n=this;this.resolutionId=parseInt(this.resolutionId.toString(),10);var t=this.getVideoFiles().find(function(t){return t.resolution.id===n.resolutionId});if(t)return t;console.error("Could not find file with resolution %d.",this.resolutionId)}},{key:"getVideoFileLink",value:function(){var n=this.videoFile;if(n){var t=3===this.video.privacy.id||4===this.video.privacy.id?"?access_token="+this.auth.getAccessToken():"";switch(this.downloadType){case"direct":return n.fileDownloadUrl+t;case"torrent":return n.torrentDownloadUrl+t}}}},{key:"getSubtitlesLink",value:function(){var n=this;return window.location.origin+this.videoCaptions.find(function(t){return t.language.id===n.subtitleLanguageId}).captionPath}},{key:"activateCopiedMessage",value:function(){this.notifier.success("Skopiowano")}},{key:"switchToType",value:function(n){this.type=n}},{key:"getMetadataFormat",value:function(n){var t=this,e={encoder:function(n){return{label:"Enkoder",value:n}},format_long_name:function(n){return{label:"Nazwa formatu",value:n}},size:function(n){return{label:"Rozmiar",value:t.bytesPipe.transform(n,2)}},bit_rate:function(n){return{label:"Cz\u0119stotliwo\u015B\u0107 pr\xF3bkowania",value:"".concat(t.numbersPipe.transform(n),"bps")}}},o=Object.assign(n,n.tags);return delete o.tags,Object(T.a)(Object(A.a)(o,Object.keys(e)),function(n,t){return e[t](n)})}},{key:"getMetadataStream",value:function(n,t){var e=this,o=n.find(function(n){return n.codec_type===t});if(o){var i={codec_long_name:function(n){return{label:"Kodek",value:n}},profile:function(n){return{label:"Profil",value:n}},bit_rate:function(n){return{label:"Cz\u0119stotliwo\u015B\u0107 pr\xF3bkowania",value:"".concat(e.numbersPipe.transform(n),"bps")}}};return i=Object.assign(i,"video"===t?{width:function(n){return{label:"Rozdzielczo\u015B\u0107",value:"".concat(n,"x").concat(o.height)}},display_aspect_ratio:function(n){return{label:"Proporcje obrazu",value:n}},avg_frame_rate:function(n){return{label:"\u015Arednia cz\u0119stotliwo\u015B\u0107 klatek",value:n}},pix_fmt:function(n){return{label:"Pixel format",value:n}}}:{sample_rate:function(n){return{label:"Cz\u0119stotliwo\u015B\u0107 pr\xF3bkowania",value:n}},channel_layout:function(n){return{label:"Uk\u0142ad kana\u0142u",value:n}}}),Object(T.a)(Object(A.a)(o,Object.keys(i)),function(n,t){return i[t](n)})}}},{key:"hydrateMetadataFromMetadataUrl",value:function(n){var t=this.videoService.getVideoFileMetadata(n.metadataUrl);return t.subscribe(function(t){return n.metadata=t}),t.toPromise()}},{key:"typeText",get:function(){return"video"===this.type?"film":"napisy"}}]),n}();return V.\u0275fac=function(n){return new(n||V)(z.Pb(D.m),z.Pb(j.m),z.Pb(R.s),z.Pb(D.a))},V.\u0275cmp=z.Jb({type:V,selectors:[["my-video-download"]],viewQuery:function(n,t){var e;(1&n&&z.Pc(N,!0),2&n)&&(z.Gc(e=z.kc())&&(t.modal=e.first))},decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"Pobierz",["ngbDropdown","","class","d-inline-block",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"input-group","input-group-sm"],[1,"input-group-prepend","peertube-select-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","",1,"form-control","input-sm","readonly",3,"value","click"],["urlInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"cdkCopyToClipboard","click"],[1,"glyphicon","glyphicon-copy"],[4,"ngIf"],["class","download-type",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button","value","Anuluj",1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value","Pobierz",1,"action-button-submit",3,"click"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownDownloadType","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownDownloadType"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],"napisy","film",[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],"Format",["ngbNavContent",""],["ngbNavItem","",3,"disabled"],"Stumie\u0144 wideo","Strumie\u0144 d\u017Awi\u0119ku",[3,"ngbNavOutlet"],[1,"file-metadata"],["class","metadata-attribute metadata-attribute-tags",4,"ngFor","ngForOf"],[1,"metadata-attribute","metadata-attribute-tags"],[1,"metadata-attribute-label"],"" + "\ufffd0\ufffd" + " ",[1,"metadata-attribute-value"],"" + "\ufffd0\ufffd" + " ","" + "\ufffd0\ufffd" + " ",[1,"download-type"],[1,"peertube-radio-container"],["type","radio","name","download","id","download-direct","value","direct",3,"ngModel","ngModelChange"],["for","download-direct"],"Pobieranie bezpo\u015Brednie",["type","radio","name","download","id","download-torrent","value","torrent",3,"ngModel","ngModelChange"],["for","download-torrent"],"Torrent (plik .torrent)"]},template:function(n,t){1&n&&z.Sc(0,rn,22,7,"ng-template",null,0,z.Tc)},directives:[E.n,F.a,$.a,j.f,j.l,j.j,j.i,B.v,B.m,B.p,E.m,B.q,B.x,j.p,j.r,j.s,j.q,j.u,B.s,B.b],pipes:[E.h],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:100px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:inherit}#dropdownDownloadType[_ngcontent-%COMP%]{cursor:pointer}.download-type[_ngcontent-%COMP%]{margin-top:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.file-metadata[_ngcontent-%COMP%]{padding:1rem}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   .metadata-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:active, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:focus, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute.metadata-attribute-tags[_ngcontent-%COMP%]   .metadata-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}']}),V}()}}])}();