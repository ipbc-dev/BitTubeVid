function _templateObject78(){var t=_taggedTemplateLiteral([":\u241f20fc98888baf65b5ba9fe9622dc036fa8dec6a5f\u241f7219238640527126652: OK "]);return _templateObject78=function(){return t},t}function _templateObject77(){var t=_taggedTemplateLiteral([":\u241fe60c11e1b1dfbbeda577364b8de39ded2d796c5e\u241f4619188387782427495:More information"]);return _templateObject77=function(){return t},t}function _templateObject76(){var t=_taggedTemplateLiteral([":\u241fbd499ca7913bb5408fd139a4cb4f863852d5f318\u241f4512155674928869984:Get more information"]);return _templateObject76=function(){return t},t}function _templateObject75(){var t=_taggedTemplateLiteral([":\u241f89707647cc7c304e499ae46a5a0c5b508c3c80a0\u241f4407625547215017697: the sharing system used for this video implies that some technical information about your system (such as a public IP address) can be sent to other peers. "]);return _templateObject75=function(){return t},t}function _templateObject74(){var t=_taggedTemplateLiteral([":\u241f4c0ba3cde3b3c58b855ffb4beaa5804a2fc3826b\u241f6402393085909200998:Friendly Reminder: "]);return _templateObject74=function(){return t},t}function _templateObject73(){var t=_taggedTemplateLiteral([":\u241f284b55e2ae9f6e5bc78c92a18ef26da02f380079\u241f5139892963394684487:Originally published"]);return _templateObject73=function(){return t},t}function _templateObject72(){var t=_taggedTemplateLiteral([":\u241f57bfd54c230fc20caff1f0b321ad42be3bf859a6\u241f8838615915903924641:Origin instance"]);return _templateObject72=function(){return t},t}function _templateObject71(){var t=_taggedTemplateLiteral([":\u241f5403a767248e304199592271bba3366d2ca3f903\u241f3517550046701184661:Show less"]);return _templateObject71=function(){return t},t}function _templateObject70(){var t=_taggedTemplateLiteral([":\u241ff0c5f6f270e70cbe063b5368fcf48f9afc1abd9b\u241f7215101881367554791:Show more"]);return _templateObject70=function(){return t},t}function _templateObject69(){var t=_taggedTemplateLiteral([":\u241fcf272d006ff8c0b60e61b14e17fa6a39b30d614a\u241f6671956963490165282:SAVE"]);return _templateObject69=function(){return t},t}function _templateObject68(){var t=_taggedTemplateLiteral([":\u241f74059c5dce671d464259e3ce37a5d408c3fd7720\u241f1813238393038053050:SUPPORT"]);return _templateObject68=function(){return t},t}function _templateObject67(){var t=_taggedTemplateLiteral([":\u241fa02ea1d4e7424ca989929da5e598f379940fdbf2\u241f7410432243549869948:Duration"]);return _templateObject67=function(){return t},t}function _templateObject66(){var t=_taggedTemplateLiteral([":\u241fcafc87479686947e2590b9f588a88040aeaf660b\u241f7886570921510760899:Tags"]);return _templateObject66=function(){return t},t}function _templateObject65(){var t=_taggedTemplateLiteral([":\u241ffe46ccaae902ce974e2441abe752399288298619\u241f2826581353496868063:Language"]);return _templateObject65=function(){return t},t}function _templateObject64(){var t=_taggedTemplateLiteral([":\u241f78d6d3ea26777cd0dad8ddbf9b314151678da46c\u241f9065795501872450602:Licence"]);return _templateObject64=function(){return t},t}function _templateObject63(){var t=_taggedTemplateLiteral([":\u241f607de17c2a755f65775881c19e276e7c933bcf94\u241f1806667489382256324:Category"]);return _templateObject63=function(){return t},t}function _templateObject62(){var t=_taggedTemplateLiteral([":\u241f3c78b53bca33467190c0b7a01320bc093a2b1427\u241f8440128775129354214:Privacy"]);return _templateObject62=function(){return t},t}function _templateObject61(){var t=_taggedTemplateLiteral([":\u241f0b7f242da10ece3f2995095c455b9a92ebcdd3b4\u241f469475518807092371:By ",":INTERPOLATION:"]);return _templateObject61=function(){return t},t}function _templateObject60(){var t=_taggedTemplateLiteral([":\u241fbe73b652c2707f42b5d780d0c7b8fc5ea0b1706c\u241f7883181802464579797:Go to the account page"]);return _templateObject60=function(){return t},t}function _templateObject59(){var t=_taggedTemplateLiteral([":\u241f5cb397241041f7ad70997806227bafcdf7eb1b33\u241f6412713762893677959:Go the channel page"]);return _templateObject59=function(){return t},t}function _templateObject58(){var t=_taggedTemplateLiteral([":\u241f83ea0f7a6f84393af198d48193e01a96f3fcbc9a\u241f9219888125536520293:SHARE"]);return _templateObject58=function(){return t},t}function _templateObject57(){var t=_taggedTemplateLiteral([":\u241f04aabb1507157d38b070f1a7ed5271bcea041404\u241f3412095934309523935: Published ",":START_TAG_MY_DATE_TOGGLE:",":CLOSE_TAG_MY_DATE_TOGGLE:",":START_TAG_SPAN: \u2022 ",":INTERPOLATION: views",":CLOSE_TAG_SPAN:"]);return _templateObject57=function(){return t},t}function _templateObject56(){var t=_taggedTemplateLiteral([":\u241f82bf4d36722689b7c0058ed18e50d7b550d6d8b6\u241f1506584581179700342: Published ",":START_TAG_MY_DATE_TOGGLE:",":CLOSE_TAG_MY_DATE_TOGGLE:",":START_TAG_SPAN: \u2022 ",":INTERPOLATION: views",":CLOSE_TAG_SPAN:"]);return _templateObject56=function(){return t},t}function _templateObject55(){var t=_taggedTemplateLiteral([":\u241fbd7055d3e38beff538463e75d508d1c75c683710\u241f2872929557058568775:This video is blacklisted."]);return _templateObject55=function(){return t},t}function _templateObject54(){var t=_taggedTemplateLiteral([":\u241f2dd4add38e83d8ec58e37735e76090e9738c974a\u241f8378465113109823068: This video will be published on ",":INTERPOLATION:. "]);return _templateObject54=function(){return t},t}function _templateObject53(){var t=_taggedTemplateLiteral([":\u241fd2a8e8e4e5345201c07ba03a7fafe8b663230246\u241f5773370738480561430: The video is being transcoded, it may not work properly. "]);return _templateObject53=function(){return t},t}function _templateObject52(){var t=_taggedTemplateLiteral([":\u241f38e66e2d779d6d819cd7703ab73ab1bab75f8614\u241f4172796003496164588: The video is being imported, it will be available when the import is finished. "]);return _templateObject52=function(){return t},t}function _templateObject51(){var t=_taggedTemplateLiteral([":\u241f70155053814b6999f8abce4f89bab85afc76e538\u241f2913936134410914576:AUTOPLAY"]);return _templateObject51=function(){return t},t}function _templateObject50(){var t=_taggedTemplateLiteral([":\u241f7ce8b0d7cc34d4c1ef4a21e990b0a001337bedd1\u241f1543212309633142156: Other videos "]);return _templateObject50=function(){return t},t}function _templateObject49(){var t=_taggedTemplateLiteral([":\u241fb7fccd922d6473725247ed85a9fdf96fe6794828\u241f1364424352067411668: Comments are disabled. "]);return _templateObject49=function(){return t},t}function _templateObject48(){var t=_taggedTemplateLiteral([":\u241fdce85627dad907cb2013d06f97f82ad7bf87b0a6\u241f2247855571589294430:View ",":INTERPOLATION: replies"]);return _templateObject48=function(){return t},t}function _templateObject47(){var t=_taggedTemplateLiteral([":\u241f8487d97def3c5336b1cde21c7da14e61a9633061\u241f2065533697802294425: View ",":INTERPOLATION: replies from ",":INTERPOLATION_1: "]);return _templateObject47=function(){return t},t}function _templateObject46(){var t=_taggedTemplateLiteral([":\u241fce6445567d33993fced14aae3456db909121d12e\u241f5032020676693262633: View ",":INTERPOLATION: replies from ",":INTERPOLATION_1: and others "]);return _templateObject46=function(){return t},t}function _templateObject45(){var t=_taggedTemplateLiteral([":\u241f17810e68b0ba21e62e61eecfaf0a93b2c91033b4\u241f7494537777006082055:No comments."]);return _templateObject45=function(){return t},t}function _templateObject44(){var t=_taggedTemplateLiteral([":\u241fc5bb9f8936cb33db2ca351a1b87a984fdf11917c\u241f3807699453257291879:Comments"]);return _templateObject44=function(){return t},t}function _templateObject43(){var t=_taggedTemplateLiteral([":\u241f8164af7bbe7fb9a3d2064ddf2627a7a4d5446575\u241f1796350071451277041:",":INTERPOLATION: Comments"]);return _templateObject43=function(){return t},t}function _templateObject42(){var t=_taggedTemplateLiteral([":\u241fa8db53a47543132da1a68066f0a9cba0551a8933\u241f7112725780805033615:1 Comment"]);return _templateObject42=function(){return t},t}function _templateObject41(){var t=_taggedTemplateLiteral([":\u241fdf2d2cca87a54e75abb4196d10358579dd0321b4\u241f5179007899354903649:Most replies first"]);return _templateObject41=function(){return t},t}function _templateObject40(){var t=_taggedTemplateLiteral([":\u241f6d355ab9a2c6af4f7ffcb44dd8ca0c5572f958ca\u241f6448160249466325288:Most recent first (default)"]);return _templateObject40=function(){return t},t}function _templateObject39(){var t=_taggedTemplateLiteral([":\u241fa87cd0a1633f944e697fa2ee68362d8bc11c41ee\u241f6792127978973927819: SORT BY "]);return _templateObject39=function(){return t},t}function _templateObject38(){var t=_taggedTemplateLiteral([":\u241f3dc4cf221502c170c7fcd4b2bffc9b3aa46b84bb\u241f2447932355167015019:This comment has been deleted"]);return _templateObject38=function(){return t},t}function _templateObject37(){var t=_taggedTemplateLiteral([":\u241f28df1b02fd88d2deb0212bc5d7ff34cf9492fa54\u241f6381490568322624964:Deleted"]);return _templateObject37=function(){return t},t}function _templateObject36(){var t=_taggedTemplateLiteral([":\u241f826b25211922a1b46436589233cb6f1a163d89b7\u241f7022070615528435141:Delete"]);return _templateObject36=function(){return t},t}function _templateObject35(){var t=_taggedTemplateLiteral([":\u241fcb23d4d98007aa4d7123837f4c17a671848377d6\u241f4502286564339177240:Reply"]);return _templateObject35=function(){return t},t}function _templateObject34(){var t=_taggedTemplateLiteral([":\u241fa607fab03e11b0e07c1640e11a1b02d7af06b285\u241f3572897237443938692:Highlighted comment"]);return _templateObject34=function(){return t},t}function _templateObject33(){var t=_taggedTemplateLiteral([":\u241f24813b8a3e45f0b57136c18d003027262cfe2d1f\u241f8432562579042371182:Options"]);return _templateObject33=function(){return t},t}function _templateObject32(){var t=_taggedTemplateLiteral([":\u241f413bcc4a4c824366e17673f38cb2af4619e940e2\u241f2958389355547305739:Login to comment"]);return _templateObject32=function(){return t},t}function _templateObject31(){var t=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject31=function(){return t},t}function _templateObject30(){var t=_taggedTemplateLiteral([":\u241f968b02fbc645be799727de0d1ec3c6f9b11b20eb\u241f3611151550276603888: If you have an account on Mastodon or Pleroma, you can open it directly in their interface: "]);return _templateObject30=function(){return t},t}function _templateObject29(){var t=_taggedTemplateLiteral([":\u241f2c6453cc150c9f652a7f1238d2f172e625f0f117\u241f3412127749264148680: You can comment using an account on any ActivityPub-compatible instance. On most platforms, you can find the video by typing its URL in the search bar and then comment it from within the software's interface. "]);return _templateObject29=function(){return t},t}function _templateObject28(){var t=_taggedTemplateLiteral([":\u241f8b2bb53dfb5f059f2b68cc4ac00661a865909135\u241f2263890353858735493:You are one step away from commenting"]);return _templateObject28=function(){return t},t}function _templateObject27(){var t=_taggedTemplateLiteral([":\u241f8956c0f4c6974289fc63f1ab6b54f5b32ed65eeb\u241f1968949218143730814: Reply "]);return _templateObject27=function(){return t},t}function _templateObject26(){var t=_taggedTemplateLiteral([":\u241fda44efc7b658c318651866454d258bbbe57ff21c\u241f4598124915768290146: Cancel "]);return _templateObject26=function(){return t},t}function _templateObject25(){var t=_taggedTemplateLiteral([":\u241fdb79255cb8757e9e945ba5f901a2b67e4189016e\u241f5733075023444401902:Add comment..."]);return _templateObject25=function(){return t},t}function _templateObject24(){var t=_taggedTemplateLiteral([":\u241f3c4c080864b313cfdff5fdea6aae5da276246d99\u241f8928816882866356838:Public"]);return _templateObject24=function(){return t},t}function _templateObject23(){var t=_taggedTemplateLiteral([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return _templateObject23=function(){return t},t}function _templateObject22(){var t=_taggedTemplateLiteral([":\u241f4b3963c6d0863118fe9e9e33447d12be3c2db081\u241f7539427273132299890:Unlisted"]);return _templateObject22=function(){return t},t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf2(t)););return t}function _inherits2(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf2(t,e)}function _setPrototypeOf2(t,e){return(_setPrototypeOf2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf2(t);if(e){var o=_getPrototypeOf2(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized2(t):e}function _assertThisInitialized2(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf2(t){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _templateObject21(){var t=_taggedTemplateLiteral([":\u241fcfad9c5d4357d7c4ac99cc2ce63c54c9738901d7\u241f1725109006614753106: Less customization "]);return _templateObject21=function(){return t},t}function _templateObject20(){var t=_taggedTemplateLiteral([":\u241ff0e9c70583e8264cda79a8151de51cbb1ecb02ef\u241f6113236250357819407: More customization "]);return _templateObject20=function(){return t},t}function _templateObject19(){var t=_taggedTemplateLiteral([":\u241f3e10c53d0372db827bf38571e56d166f1df963bf\u241f7540352830225038263:Display player controls"]);return _templateObject19=function(){return t},t}function _templateObject18(){var t=_taggedTemplateLiteral([":\u241fcd0fb32d9b50b615bdce413ca955283df7ab0b74\u241f1068153312491986796:Display privacy warning"]);return _templateObject18=function(){return t},t}function _templateObject17(){var t=_taggedTemplateLiteral([":\u241faf3ab1a1035c222ccc88816baa236eb95cea7523\u241f6212841954039032241:Display video title"]);return _templateObject17=function(){return t},t}function _templateObject16(){var t=_taggedTemplateLiteral([":\u241f9adb13e2ba5160c8b0b100dc3f4cbe6051b5af9b\u241f6375858514817734542:Auto select subtitle"]);return _templateObject16=function(){return t},t}function _templateObject15(){var t=_taggedTemplateLiteral([":\u241f08c1bbb22df74b12c362fd114d0aa5a230ee4656\u241f4469065391866412749: The url is not secured (no HTTPS), so the embed video won't work on HTTPS websites (web browsers block non secured HTTP requests on HTTPS websites). "]);return _templateObject15=function(){return t},t}function _templateObject14(){var t=_taggedTemplateLiteral([":\u241f51f7d84d38a304f7f056d2dcaf6d733c3ade35f9\u241f1253396341165671470:Share the video"]);return _templateObject14=function(){return t},t}function _templateObject13(){var t=_taggedTemplateLiteral([":\u241fdfc8701a2a6898d6784db0ebf9d3191552d81d89\u241f6460270615876918310:Share the playlist at this video position"]);return _templateObject13=function(){return t},t}function _templateObject12(){var t=_taggedTemplateLiteral([":\u241f71420314c00d8b709ea1aad8f608498f8db92258\u241f6599497107591892109:Share the playlist"]);return _templateObject12=function(){return t},t}function _templateObject11(){var t=_taggedTemplateLiteral([":\u241f67732b09326ab7941ce983205a42d7819dd35668\u241f2784956659778044823:Loop"]);return _templateObject11=function(){return t},t}function _templateObject10(){var t=_taggedTemplateLiteral([":\u241f62a557fcfdbd25a31d1a0332294f94a466fee809\u241f3959826834147169200:Muted"]);return _templateObject10=function(){return t},t}function _templateObject9(){var t=_taggedTemplateLiteral([":\u241f0c2e76c41af25effefd456fb1e86143e0cfd1a4e\u241f1452803153270294110:Autoplay"]);return _templateObject9=function(){return t},t}function _templateObject8(){var t=_taggedTemplateLiteral([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return _templateObject8=function(){return t},t}function _templateObject7(){var t=_taggedTemplateLiteral([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return _templateObject7=function(){return t},t}function _templateObject6(){var t=_taggedTemplateLiteral([":\u241fd3b15c3bf4a7ea38d6002d2d2c4781642d30e79c\u241f8151017381798767627:Embed"]);return _templateObject6=function(){return t},t}function _templateObject5(){var t=_taggedTemplateLiteral([":\u241fe0cfbc8ea680e4527ebf094c035f3342e9146d9f\u241f1845599966367432388:QR-Code"]);return _templateObject5=function(){return t},t}function _templateObject4(){var t=_taggedTemplateLiteral([":\u241f801b98c6f02fe3b32f6afa3ee854c99ed83474e6\u241f2375260419993138758:URL"]);return _templateObject4=function(){return t},t}function _templateObject3(){var t=_taggedTemplateLiteral([":\u241f0bd8b27f60a1f098a53e06328426d818e3508ff9\u241f7419704019640008953:Share"]);return _templateObject3=function(){return t},t}function _templateObject2(){var t=_taggedTemplateLiteral([":\u241fcb66498f1a530d9b29ee5bc6605628add658dd87\u241f5336944753883027145:Maybe later"]);return _templateObject2=function(){return t},t}function _templateObject(){var t=_taggedTemplateLiteral([":\u241f71b6e75eb1d54bcd9a64b9af9b99121785a065d0\u241f8010199319802993209:Support ",":INTERPOLATION:"]);return _templateObject=function(){return t},t}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+X0y":function(t,e){var n={"":!0,up:!0};function i(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,o=0,r=100,a=0,s=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");o=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return c},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):c=e}}})}},"0CxO":function(t,e,n){var i=n("7zRj"),o=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function r(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function a(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function s(){this.values=o(null)}function c(t,e,n,i){var o=i?t.split(i):[t];for(var r in o)if("string"==typeof o[r]){var a=o[r].split(n);2===a.length&&e(a[0],a[1])}}function l(t,e,n){var i=t;function o(){var e=a(t);if(null===e)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=o(),l(),"--\x3e"!==t.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),l(),e.endTime=o(),l(),function(t,e){var i=new s;c(t,(function(t,e){switch(t){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===e){i.set(t,n[o].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),a=r[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start","center","end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(o){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(o){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(o){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}(r.prototype=o(Error.prototype)).constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var u=i.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function v(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return e=e.substr((t=n[1]?n[1]:n[2]).length),t}function i(t,e){return!f[e.localName]||f[e.localName]===t.localName}function o(e,n){var i=d[e];if(!i)return null;var o=t.document.createElement(i),r=p[e];return r&&n&&(o[r]=n.trim()),o}for(var r,s,c=t.document.createElement("div"),l=c,v=[];null!==(r=n());)if("<"!==r[0])l.appendChild(t.document.createTextNode((u.innerHTML=r,s=u.textContent,u.textContent="",s)));else{if("/"===r[1]){v.length&&v[v.length-1]===r.substr(2).replace(">","")&&(v.pop(),l=l.parentNode);continue}var g,m=a(r.substr(1,r.length-2));if(m){g=t.document.createProcessingInstruction("timestamp",m),l.appendChild(g);continue}var y=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=o(y[1],y[3])))continue;if(!i(l,g))continue;if(y[2]){var b=y[2].split(".");b.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;h.hasOwnProperty(n)&&(g.style[e?"background-color":"color"]=h[n])})),g.className=b.join(" ")}v.push(y[1]),l.appendChild(g),l=g}return c}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(t){for(var e=0;e<g.length;e++){var n=g[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function y(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function o(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?(t.length=0,r[0]):n}return"ruby"===e.tagName?o(t):e.childNodes?(i(t,e),o(t)):void 0}for(i(e,t);n=o(e);)for(var r=0;r<n.length;r++)if(m(n.charCodeAt(r)))return"rtl";return"ltr"}function b(){}function _(t,e,n){b.call(this),this.cue=e,this.cueDiv=v(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:y(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"center":o=e.position-e.size/2;break;case"end":o=e.position-e.size}this.applyStyles(""===e.vertical?{left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}:{top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function C(t){var e,n,i,o;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,o=t.div.offsetTop;var r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();t=t.div.getBoundingClientRect(),e=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0}this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||n,this.bottom=t.bottom||o+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function O(t,e,n,i){var o=new C(e),r=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,o=0;o<n.length&&n[o]!==e;o++)"showing"===n[o].mode&&i++;return-1*++i}(r),s=[];if(r.snapToLines){var c;switch(r.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var l=o.lineHeight,u=l*Math.round(a),d=n[c]+l,h=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/l)*l),a<0&&(u+=""===r.vertical?n.height:n.width,s=s.reverse()),o.move(h,u)}else{var p=o.lineHeight/n.height*100;switch(r.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],o=new C(e)}var f=function(t,e){for(var o,r=new C(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var c=t.intersectPercentage(n);a>c&&(o=new C(t),a=c),t=new C(r)}return o||r}(o,s);e.move(f.toCSSCompatValues(n))}function P(){}b.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},b.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(_.prototype=o(b.prototype)).constructor=_,C.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},C.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},C.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},C.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},C.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},C.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},C.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},C.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},P.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},P.convertCueToDOMTree=function(t,e){return t&&e?v(t,e):null},P.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var o=[],r=C.getSimpleBoxPosition(i),a={font:Math.round(.05*r.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<e.length;c++)n=new _(t,s=e[c],a),i.appendChild(n.div),O(0,n,r,o),s.displayState=n.div,o.push(C.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},(P.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof r))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e,n=this;function i(){for(var t=n.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,n.buffer=t.substr(e),i}t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{var o;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var u=(o=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new r(r.Errors.BadSignature);n.state="HEADER"}for(var d=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(d?d=!1:o=i(),n.state){case"HEADER":/:/.test(o)?(e=o).match(/X-TIMESTAMP-MAP/)?c(e,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":!function(t){var e=new s;c(t,(function(t,n){switch(t){case"MPEGT":e.integer(t+"S",n);break;case"LOCA":e.set(t+"L",a(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}(e)}}),/=/):c(e,(function(t,e){switch(t){case"Region":!function(t){var e=new s;if(c(t,(function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new s;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;e.set(t+"X",o.get("x")),e.set(t+"Y",o.get("y"));break;case"scroll":e.alt(t,n,["up"])}}),/=/,/\s/),e.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=e.get("width",100),i.lines=e.get("lines",3),i.regionAnchorX=e.get("regionanchorX",0),i.regionAnchorY=e.get("regionanchorY",100),i.viewportAnchorX=e.get("viewportanchorX",0),i.viewportAnchorY=e.get("viewportanchorY",100),i.scroll=e.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:e.get("id"),region:i})}}(e)}}),/:/):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(p){n.cue.align="middle"}if(n.state="CUE",-1===o.indexOf("--\x3e")){n.cue.id=o;continue}case"CUE":try{l(o,n.cue,n.regionList)}catch(p){n.reportOrThrowError(p),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var h=-1!==o.indexOf("--\x3e");if(!o||h&&(d=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=o.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":o||(n.state="ID");continue}}}catch(p){n.reportOrThrowError(p),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new r(r.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=P},"0FX9":function(t,e,n){var i=n("Z92M"),o=n("qmMu"),r=n("QUaw"),a=n("QAZZ");function s(t,e,n,r,a){var s=[].slice.call(arguments,1),c=s.length,l="function"==typeof s[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=r=void 0):2!==c||e.getContext||(r=n,n=e,e=void 0),new Promise((function(i,a){try{var s=o.create(n,r);i(t(s,e,r))}catch(c){a(c)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=e,e=r=void 0):3===c&&(e.getContext&&void 0===a?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0));try{var u=o.create(n,r);a(null,t(u,e,r))}catch(d){a(d)}}e.create=o.create,e.toCanvas=s.bind(null,r.render),e.toDataURL=s.bind(null,r.renderToDataURL),e.toString=s.bind(null,(function(t,e,n){return a.render(t,n)}))},"0dgD":function(t,e,n){"use strict";n.r(e),n.d(e,"VideoWatchModule",(function(){return Dr}));var i,o,r=n("M0ag"),a=n("lJxs"),s=n("JIr8"),c=n("tk/3"),l=n("HB7e"),u=n("XRCn"),d=n("AytR"),h=n("hB5V"),p=n("wJRF"),f=function t(e){if(_classCallCheck(this,t),this.id=e.id,this.url=e.url,this.text=e.text,this.threadId=e.threadId,this.inReplyToCommentId=e.inReplyToCommentId,this.videoId=e.videoId,this.createdAt=new Date(e.createdAt.toString()),this.updatedAt=new Date(e.updatedAt.toString()),this.deletedAt=e.deletedAt?new Date(e.deletedAt.toString()):null,this.isDeleted=e.isDeleted,this.account=e.account,this.totalRepliesFromVideoAuthor=e.totalRepliesFromVideoAuthor,this.totalReplies=e.totalReplies,this.account){this.by=p.a.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=p.a.GET_ACTOR_AVATAR_URL(this.account);var n=Object(l.c)(),i=new URL(n).host;this.isLocal=this.account.host.trim()===i}},v=n("fXoL"),g=((i=function(){function t(e,n,i){_classCallCheck(this,t),this.authHttp=e,this.restExtractor=n,this.restService=i}return _createClass(t,[{key:"addCommentThread",value:function(e,n){var i=this,o=t.BASE_VIDEO_URL+e+"/comment-threads",r=Object(l.g)(n,"text");return this.authHttp.post(o,r).pipe(Object(a.a)((function(t){return i.extractVideoComment(t.comment)})),Object(s.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"addCommentReply",value:function(e,n,i){var o=this,r=t.BASE_VIDEO_URL+e+"/comments/"+n,c=Object(l.g)(i,"text");return this.authHttp.post(r,c).pipe(Object(a.a)((function(t){return o.extractVideoComment(t.comment)})),Object(s.a)((function(t){return o.restExtractor.handleError(t)})))}},{key:"getVideoCommentThreads",value:function(e){var n=this,i=e.videoId,o=e.componentPagination,r=e.sort,l=this.restService.componentPaginationToRestPagination(o),u=new c.f;return u=this.restService.addRestGetParams(u,l,r),this.authHttp.get(t.BASE_VIDEO_URL+i+"/comment-threads",{params:u}).pipe(Object(a.a)((function(t){return n.extractVideoComments(t)})),Object(s.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"getVideoThreadComments",value:function(e){var n=this,i=e.videoId,o=e.threadId;return this.authHttp.get("".concat(t.BASE_VIDEO_URL+i,"/comment-threads/").concat(o)).pipe(Object(a.a)((function(t){return n.extractVideoCommentTree(t)})),Object(s.a)((function(t){return n.restExtractor.handleError(t)})))}},{key:"deleteVideoComment",value:function(e,n){var i=this;return this.authHttp.delete("".concat(t.BASE_VIDEO_URL+e,"/comments/").concat(n)).pipe(Object(a.a)(this.restExtractor.extractDataBool),Object(s.a)((function(t){return i.restExtractor.handleError(t)})))}},{key:"getVideoCommentsFeeds",value:function(e){var n=[{format:u.a.RSS,label:"rss 2.0",url:t.BASE_FEEDS_URL+u.a.RSS.toLowerCase()},{format:u.a.ATOM,label:"atom 1.0",url:t.BASE_FEEDS_URL+u.a.ATOM.toLowerCase()},{format:u.a.JSON,label:"json 1.0",url:t.BASE_FEEDS_URL+u.a.JSON.toLowerCase()}];if(void 0!==e){var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;)i.value.url+="?videoId="+e}catch(r){o.e(r)}finally{o.f()}}return n}},{key:"extractVideoComment",value:function(t){return new f(t)}},{key:"extractVideoComments",value:function(t){var e,n=t.data,i=t.total,o=[],r=_createForOfIteratorHelper(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;o.push(new f(a))}}catch(s){r.e(s)}finally{r.f()}return{data:o,total:i}}},{key:"extractVideoCommentTree",value:function(t){var e=this;return t?(t.comment=new f(t.comment),t.children.forEach((function(t){return e.extractVideoCommentTree(t)})),t):t}}]),t}()).BASE_VIDEO_URL=d.a.apiUrl+"/api/v1/videos/",i.BASE_FEEDS_URL=d.a.apiUrl+"/feeds/video-comments.",i.\u0275fac=function(t){return new(t||i)(v.oc(c.b),v.oc(h.a),v.oc(h.b))},i.\u0275prov=v.Tb({token:i,factory:i.\u0275fac}),i),m=n("tyNb"),y=n("Phsq"),b=n("dubb"),_=n("fyHm"),C=(n("FOce"),n("V8il")),O=n("1kSV"),P=n("fKnF"),T=["modal"];o="Soporte" + "\ufffd0\ufffd" + "";var k=["value","Quizas mas tarde"];function w(t,e){if(1&t&&(v.dc(0,"div",1),v.dc(1,"h4",2),v.hc(2,o),v.cc(),v.dc(3,"my-global-icon",3),v.sc("click",(function(){return(0,e.close)()})),v.cc(),v.cc(),v.Yb(4,"div",4),v.dc(5,"div",5),v.dc(6,"input",6),v.jc(7,k),v.sc("click",(function(){return(0,e.close)()}))("key.enter",(function(){return(0,e.close)()})),v.cc(),v.cc()),2&t){var n=v.wc();v.Jb(2),v.lc(n.video.account.displayName),v.ic(2),v.Jb(2),v.Dc("innerHTML",n.videoHTMLSupport,v.Sc)}}var M,x,E,S,j,I,A,L=((M=function(){function t(e,n){_classCallCheck(this,t),this.markdownService=e,this.modalService=n,this.video=null,this.videoHTMLSupport=""}return _createClass(t,[{key:"show",value:function(){var t=this;this.modalService.open(this.modal,{centered:!0}),this.markdownService.enhancedMarkdownToHTML(this.video.support).then((function(e){return t.videoHTMLSupport=e}))}}]),t}()).\u0275fac=function(t){return new(t||M)(v.Xb(C.c),v.Xb(O.k))},M.\u0275cmp=v.Rb({type:M,selectors:[["my-video-support"]],viewQuery:function(t,e){var n;1&t&&v.Xc(T,!0),2&t&&v.Oc(n=v.tc())&&(e.modal=n.first)},inputs:{video:"video"},decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"]],template:function(t,e){1&t&&v.ad(0,w,8,2,"ng-template",null,0,v.bd)},directives:[P.a],styles:[".action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}"]}),M),R=n("ey9i"),D=n("cp0P"),N=n("yl57"),B=n("voWr"),V=n("LTwV"),z=n("H9+z"),F=(n("vCWj"),n("ofXK")),H=n("ybWZ"),U=n("3Pt+"),J=n("btCD"),q=n("cC62"),K=n("0FX9"),W=["qrcElement"],Y=((E=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.renderer=e,this.platformId=n,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,this.qrcode=null,this.isValidQrCodeText=function(t){return!1===i.allowEmptyString?!(void 0===t||""===t||"null"===t):!(void 0===t)},""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'img'\".")}return _createClass(t,[{key:"ngAfterViewInit",value:function(){"server"!==this.platformId&&this.createQRCode()}},{key:"ngOnChanges",value:function(){this.createQRCode()}},{key:"toDataURL",value:function(){var t=this;return new Promise((function(e,n){Object(K.toDataURL)(t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},(function(t,i){t?n(t):e(i)}))}))}},{key:"toCanvas",value:function(t){var e=this;return new Promise((function(n,i){Object(K.toCanvas)(t,e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},(function(t){t?i(t):n("success")}))}))}},{key:"toSVG",value:function(){var t=this;return new Promise((function(e,n){Object(K.toString)(t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:"svg",version:t.version,width:t.width},(function(t,i){t?n(t):e(i)}))}))}},{key:"renderElement",value:function(t){var e,n=_createForOfIteratorHelper(this.qrcElement.nativeElement.childNodes);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.renderer.removeChild(this.qrcElement.nativeElement,i)}}catch(o){n.e(o)}finally{n.f()}this.renderer.appendChild(this.qrcElement.nativeElement,t)}},{key:"createQRCode",value:function(){var t=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto"),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty");var e;switch(this.elementType){case"canvas":e=this.renderer.createElement("canvas"),this.toCanvas(e).then((function(){t.renderElement(e)})).catch((function(t){console.error("[angularx-qrcode] error: ",t)}));break;case"svg":e=this.renderer.createElement("svg","svg"),this.toSVG().then((function(n){e.innerHTML=n,t.renderer.setAttribute(e,"height","256"),t.renderer.setAttribute(e,"width","256"),t.renderElement(e)})).catch((function(t){console.error("[angularx-qrcode] svg error: ",t)}));break;case"url":case"img":default:e=this.renderer.createElement("img"),this.toDataURL().then((function(n){e.setAttribute("src",n),t.renderElement(e)})).catch((function(t){console.error("[angularx-qrcode] error: ",t)}))}}catch(n){console.error("[angularx-qrcode] Error generating QR Code: ",n.message)}}}]),t}()).\u0275fac=function(t){return new(t||E)(v.Xb(v.I),v.Xb(v.F))},E.\u0275cmp=v.Rb({type:E,selectors:[["qrcode"]],viewQuery:function(t,e){var n;1&t&&v.Xc(W,!0),2&t&&v.Oc(n=v.tc())&&(e.qrcElement=n.first)},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[v.Hb],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,e){1&t&&v.Yb(0,"div",null,0),2&t&&v.Lb(e.cssClass)},encapsulation:2,changeDetection:0}),E),$=((x=function t(){_classCallCheck(this,t)}).\u0275mod=v.Vb({type:x}),x.\u0275inj=v.Ub({factory:function(t){return new(t||x)},providers:[]}),x),X=["modal"];S="Compartir",j="URL",I="C\xF3digo QR",A="Incrustar";var G,Q=["labelText","Empezar en"],Z=["labelText","Detener en"],tt=["labelText","Auto-reproducci\xF3n"],et=["labelText","Silenciados"],nt=["labelText","Bucle"];G="Comparte la lista de reproducci\xF3n";var it,ot,rt=["labelText","Comparte la lista de reproducci\xF3n en esta posici\xF3n de video"];function at(t,e){if(1&t){var n=v.ec();v.dc(0,"div",30),v.dc(1,"div",31),v.hc(2,G),v.cc(),v.Yb(3,"my-input-readonly-copy",32),v.dc(4,"div",16),v.dc(5,"div",24),v.dc(6,"my-peertube-checkbox",33),v.jc(7,rt),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).includeVideoInPlaylist=t})),v.cc(),v.cc(),v.cc(),v.cc()}if(2&t){var i=v.wc(2);v.Jb(3),v.Dc("value",i.getPlaylistUrl()),v.Jb(3),v.Dc("ngModel",i.includeVideoInPlaylist)}}function st(t,e){1&t&&(v.dc(0,"div",31),v.hc(1,it),v.cc())}function ct(t,e){if(1&t&&(v.dc(0,"div",34),v.Yb(1,"my-input-readonly-copy",32),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.Dc("value",n.getVideoUrl())}}function lt(t,e){if(1&t&&(v.dc(0,"div",34),v.Yb(1,"qrcode",35),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.Dc("qrdata",n.getVideoUrl())("size",256)}}function ut(t,e){1&t&&(v.dc(0,"div",37),v.hc(1,ot),v.cc())}function dt(t,e){if(1&t&&(v.dc(0,"div",34),v.Yb(1,"my-input-readonly-copy",32),v.ad(2,ut,2,0,"div",36),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.Dc("value",n.getVideoIframeCode()),v.Jb(1),v.Dc("ngIf",n.notSecure())}}it="Comparte el video",ot="La URL no es segura (no HTTPS), por lo que el video incrustado no funcionar\xE1 en los sitios web HTTPS (los navegadores web bloquean las solicitudes HTTP no seguras en los sitios web HTTPS).";var ht=["labelText","Auto-selecciona el subtituulo"];function pt(t,e){if(1&t&&(v.dc(0,"option",32),v.cd(1),v.cc()),2&t){var n=e.$implicit;v.Dc("value",n.language.id),v.Jb(1),v.dd(n.language.label)}}var ft=function(t){return{disabled:t}};function vt(t,e){if(1&t){var n=v.ec();v.dc(0,"div",38),v.dc(1,"my-peertube-checkbox",39),v.jc(2,ht),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).customizations.subtitleCheckbox=t})),v.cc(),v.dc(3,"div",40),v.dc(4,"select",41),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).customizations.subtitle=t})),v.ad(5,pt,2,2,"option",42),v.cc(),v.cc(),v.cc()}if(2&t){var i=v.wc(2);v.Jb(1),v.Dc("ngModel",i.customizations.subtitleCheckbox),v.Jb(2),v.Dc("ngClass",v.Hc(5,ft,!i.customizations.subtitleCheckbox)),v.Jb(1),v.Dc("ngModel",i.customizations.subtitle)("disabled",!i.customizations.subtitleCheckbox),v.Jb(1),v.Dc("ngForOf",i.videoCaptions)}}var gt,mt,yt=["labelText","Muestra el t\xEDtulo del video"],bt=["labelText","Muestra advertencia de privacidad"],_t=["labelText","Muestra controles del reproductor"];function Ct(t,e){if(1&t){var n=v.ec();v.bc(0),v.dc(1,"div",24),v.dc(2,"my-peertube-checkbox",43),v.jc(3,yt),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).customizations.title=t})),v.cc(),v.cc(),v.dc(4,"div",24),v.dc(5,"my-peertube-checkbox",44),v.jc(6,bt),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).customizations.warningTitle=t})),v.cc(),v.cc(),v.dc(7,"div",24),v.dc(8,"my-peertube-checkbox",45),v.jc(9,_t),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).customizations.controls=t})),v.cc(),v.cc(),v.ac()}if(2&t){var i=v.wc(2);v.Jb(2),v.Dc("ngModel",i.customizations.title),v.Jb(3),v.Dc("ngModel",i.customizations.warningTitle),v.Jb(3),v.Dc("ngModel",i.customizations.controls)}}function Ot(t,e){1&t&&(v.bc(0),v.Yb(1,"span",46),v.bc(2),v.hc(3,gt),v.ac(),v.ac())}function Pt(t,e){1&t&&(v.bc(0),v.Yb(1,"span",47),v.bc(2),v.hc(3,mt),v.ac(),v.ac())}function Tt(t,e){if(1&t){var n=v.ec();v.dc(0,"div",1),v.dc(1,"h4",2),v.hc(2,S),v.cc(),v.dc(3,"my-global-icon",3),v.sc("click",(function(){return(0,e.close)()})),v.cc(),v.cc(),v.dc(4,"div",4),v.ad(5,at,8,2,"div",5),v.dc(6,"div",6),v.ad(7,st,2,0,"div",7),v.dc(8,"div",8,9),v.sc("activeIdChange",(function(t){return v.Rc(n),v.wc().activeId=t})),v.bc(10,10),v.dc(11,"a",11),v.hc(12,j),v.cc(),v.ad(13,ct,2,1,"ng-template",12),v.ac(),v.bc(14,13),v.dc(15,"a",11),v.hc(16,I),v.cc(),v.ad(17,lt,2,2,"ng-template",12),v.ac(),v.bc(18,14),v.dc(19,"a",11),v.hc(20,A),v.cc(),v.ad(21,dt,3,2,"ng-template",12),v.ac(),v.cc(),v.Yb(22,"div",15),v.dc(23,"div",16),v.dc(24,"div"),v.dc(25,"div",17),v.dc(26,"my-peertube-checkbox",18),v.jc(27,Q),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.startAtCheckbox=t})),v.cc(),v.dc(28,"my-timestamp-input",19),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.startAt=t})),v.cc(),v.cc(),v.ad(29,vt,6,7,"div",20),v.cc(),v.dc(30,"div",21),v.dc(31,"div"),v.dc(32,"div",22),v.dc(33,"my-peertube-checkbox",23),v.jc(34,Z),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.stopAtCheckbox=t})),v.cc(),v.dc(35,"my-timestamp-input",19),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.stopAt=t})),v.cc(),v.cc(),v.dc(36,"div",24),v.dc(37,"my-peertube-checkbox",25),v.jc(38,tt),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.autoplay=t})),v.cc(),v.cc(),v.dc(39,"div",24),v.dc(40,"my-peertube-checkbox",26),v.jc(41,et),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.muted=t})),v.cc(),v.cc(),v.dc(42,"div",24),v.dc(43,"my-peertube-checkbox",27),v.jc(44,nt),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc().customizations.loop=t})),v.cc(),v.cc(),v.cc(),v.ad(45,Ct,10,3,"ng-container",28),v.cc(),v.dc(46,"div",29),v.sc("click",(function(){v.Rc(n);var t=v.wc();return t.isAdvancedCustomizationCollapsed=!t.isAdvancedCustomizationCollapsed})),v.ad(47,Ot,4,0,"ng-container",28),v.ad(48,Pt,4,0,"ng-container",28),v.cc(),v.cc(),v.cc(),v.cc()}if(2&t){var i=v.Pc(9),o=v.wc();v.Jb(5),v.Dc("ngIf",o.hasPlaylist()),v.Jb(2),v.Dc("ngIf",o.hasPlaylist()),v.Jb(1),v.Dc("activeId",o.activeId),v.Jb(14),v.Dc("ngbNavOutlet",i),v.Jb(4),v.Dc("ngModel",o.customizations.startAtCheckbox),v.Jb(2),v.Dc("timestamp",o.customizations.startAt)("maxTimestamp",o.video.duration)("disabled",!o.customizations.startAtCheckbox)("ngModel",o.customizations.startAt),v.Jb(1),v.Dc("ngIf",0!==o.videoCaptions.length),v.Jb(1),v.Dc("ngbCollapse",o.isAdvancedCustomizationCollapsed),v.Jb(3),v.Dc("ngModel",o.customizations.stopAtCheckbox),v.Jb(2),v.Dc("timestamp",o.customizations.stopAt)("maxTimestamp",o.video.duration)("disabled",!o.customizations.stopAtCheckbox)("ngModel",o.customizations.stopAt),v.Jb(2),v.Dc("ngModel",o.customizations.autoplay),v.Jb(3),v.Dc("ngModel",o.customizations.muted),v.Jb(3),v.Dc("ngModel",o.customizations.loop),v.Jb(2),v.Dc("ngIf",o.isInEmbedTab()),v.Jb(1),v.Kb("aria-expanded",!o.isAdvancedCustomizationCollapsed),v.Jb(1),v.Dc("ngIf",o.isAdvancedCustomizationCollapsed),v.Jb(1),v.Dc("ngIf",!o.isAdvancedCustomizationCollapsed)}}gt="M\xE1s personalizaci\xF3n",mt="Menos personalizaci\xF3n";var kt,wt=((kt=function(){function t(e){_classCallCheck(this,t),this.modalService=e,this.video=null,this.videoCaptions=[],this.playlist=null,this.activeId="url",this.isAdvancedCustomizationCollapsed=!0,this.includeVideoInPlaylist=!1}return _createClass(t,[{key:"show",value:function(t){var e;this.currentVideoTimestamp=t,0!==this.videoCaptions.length&&(e=this.videoCaptions[0].language.id),this.customizations={startAtCheckbox:!1,startAt:t?Math.floor(t):0,stopAtCheckbox:!1,stopAt:this.video.duration,subtitleCheckbox:!1,subtitle:e,loop:!1,autoplay:!1,muted:!1,title:!0,warningTitle:!0,controls:!0},this.modalService.open(this.modal,{centered:!0})}},{key:"getVideoIframeCode",value:function(){var t=this.getOptions(this.video.embedUrl),e=Object(z.b)(t);return Object(z.a)(e)}},{key:"getVideoUrl",value:function(){var t=window.location.origin+"/videos/watch/"+this.video.uuid,e=this.getOptions(t);return Object(z.b)(e)}},{key:"getPlaylistUrl",value:function(){var t=window.location.origin+"/videos/watch/playlist/"+this.playlist.uuid;return this.includeVideoInPlaylist?t+"?videoId="+this.video.uuid:t}},{key:"notSecure",value:function(){return"http:"===window.location.protocol}},{key:"isInEmbedTab",value:function(){return"embed"===this.activeId}},{key:"hasPlaylist",value:function(){return!!this.playlist}},{key:"getOptions",value:function(t){return{baseUrl:t,startTime:this.customizations.startAtCheckbox?this.customizations.startAt:void 0,stopTime:this.customizations.stopAtCheckbox?this.customizations.stopAt:void 0,subtitle:this.customizations.subtitleCheckbox?this.customizations.subtitle:void 0,loop:this.customizations.loop,autoplay:this.customizations.autoplay,muted:this.customizations.muted,title:this.customizations.title,warningTitle:this.customizations.warningTitle,controls:this.customizations.controls}}}]),t}()).\u0275fac=function(t){return new(t||kt)(v.Xb(O.k))},kt.\u0275cmp=v.Rb({type:kt,selectors:[["my-video-share"]],viewQuery:function(t,e){var n;1&t&&v.Xc(X,!0),2&t&&v.Oc(n=v.tc())&&(e.modal=n.first)},inputs:{video:"video",videoCaptions:"videoCaptions",playlist:"playlist"},decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["class","playlist",4,"ngIf"],[1,"video"],["class","title-page title-page-single",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],["ngbNavItem","url"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","qrcode"],["ngbNavItem","embed"],[3,"ngbNavOutlet"],[1,"filters"],[1,"form-group","start-at"],["inputName","startAt",3,"ngModel","ngModelChange",6,"labelText"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["class","form-group video-caption-block",4,"ngIf"],[1,"advanced-filters","collapse-transition",3,"ngbCollapse"],[1,"form-group","stop-at"],["inputName","stopAt",3,"ngModel","ngModelChange",6,"labelText"],[1,"form-group"],["inputName","autoplay",3,"ngModel","ngModelChange",6,"labelText"],["inputName","muted",3,"ngModel","ngModelChange",6,"labelText"],["inputName","loop",3,"ngModel","ngModelChange",6,"labelText"],[4,"ngIf"],["role","button","aria-controls","collapseBasic",1,"advanced-filters-button",3,"click"],[1,"playlist"],[1,"title-page","title-page-single"],[3,"value"],["inputName","includeVideoInPlaylist",3,"ngModel","ngModelChange",6,"labelText"],[1,"nav-content"],["level","Q",3,"qrdata","size"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"],[1,"form-group","video-caption-block"],["inputName","subtitleCheckbox",3,"ngModel","ngModelChange",6,"labelText"],[1,"peertube-select-container",3,"ngClass"],[3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["inputName","title",3,"ngModel","ngModelChange",6,"labelText"],["inputName","warningTitle",3,"ngModel","ngModelChange",6,"labelText"],["inputName","controls",3,"ngModel","ngModelChange",6,"labelText"],[1,"glyphicon","glyphicon-menu-down"],[1,"glyphicon","glyphicon-menu-up"]],template:function(t,e){1&t&&v.ad(0,Tt,49,23,"ng-template",null,0,v.bd)},directives:[P.a,F.u,O.n,O.p,O.q,O.o,O.s,H.a,U.t,U.w,J.a,O.c,q.a,Y,F.r,U.F,F.t,U.y,U.I],styles:['my-input-readonly-copy[_ngcontent-%COMP%]{width:100%}.title-page.title-page-single[_ngcontent-%COMP%]{margin-top:0}.playlist[_ngcontent-%COMP%]{margin-bottom:50px}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:200px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:200px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.qr-code-group[_ngcontent-%COMP%]{text-align:center}.nav-content[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center;flex-direction:column}.alert[_ngcontent-%COMP%]{margin-top:20px}.filters[_ngcontent-%COMP%]{margin-top:30px}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;font-size:16px;font-weight:600;cursor:pointer}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:5px}.filters[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;height:34px}.filters[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]{display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-left:10px}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}']}),kt);n("jxlV");var Mt=n("HUk+"),xt=(n("cmjK"),n("7zRj")),Et=n.n(xt),St=n("x3Ew"),jt=n.n(St);function It(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var At=1,Lt=function(){return At++},Rt=jt.a.dom||jt.a,Dt=jt.a.registerPlugin||jt.a.plugin,Nt=jt.a.getComponent("Component"),Bt=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var o=e.$(".vjs-tech");return o.setAttribute("aria-labelledby",i.title.id),o.setAttribute("aria-describedby",i.description.id),i}It(e,t);var n=e.prototype;return n.createEl=function(){var e=Rt.createEl("div",{className:"vjs-dock-title",title:this.options_.title,innerHTML:this.options_.title},{id:"vjs-dock-title-"+Lt()}),n=Rt.createEl("div",{className:"vjs-dock-description",title:this.options_.description,innerHTML:this.options_.description},{id:"vjs-dock-description-"+Lt()}),i=t.prototype.createEl.call(this,"div",{className:"vjs-dock-text"});return this.title=e,this.description=n,i.appendChild(e),i.appendChild(n),i},n.update=function(t,e){this.title.innerHTML="",this.description.innerHTML="",this.title.appendChild(Et.a.createTextNode(t)),this.description.appendChild(Et.a.createTextNode(e))},e}(Nt),Vt=function(t){function e(){return t.apply(this,arguments)||this}return It(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-dock-shelf"})},e}(Nt);jt.a.registerComponent("Title",Bt),jt.a.registerComponent("Shelf",Vt);var zt=function(t){var e=t||{},n={title:{title:e.title||"",description:e.description||""}},i=this.title,o=this.shelf;this.addClass("vjs-dock");var r=this.children().indexOf(this.getChild("bigPlayButton")),a=r>0?r-1:null;o||(o=this.shelf=this.addChild("shelf",n,a)),i?i.update(n.title.title,n.title.description):i=this.title=this.addChild("title",n.title,a),this.one(i,"dispose",(function(){this.title=null})),this.one(o,"dispose",(function(){this.shelf=null}))};zt.VERSION="2.1.4",Dt("dock",zt);var Ft=n("vgmO"),Ht=n.n(Ft);function Ut(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Jt=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.handleClick=function(e){var n=this;t.prototype.handleClick.call(this),this.options_.listener(),Ht.a.setTimeout((function(){n.player().contextmenuUI.menu.dispose()}),1)},e}(jt.a.getComponent("MenuItem")),qt=jt.a.getComponent("Menu"),Kt=jt.a.dom||jt.a,Wt=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).dispose=jt.a.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),i.dispose),n.content.forEach((function(t){var n=function(){};"function"==typeof t.listener?n=t.listener:"string"==typeof t.href&&(n=function(){return Ht.a.open(t.href)}),i.addItem(new Jt(e,{label:t.label,listener:jt.a.bind(e,n)}))})),i}return Ut(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return Kt.addClass(e,"vjs-contextmenu-ui-menu"),e.style.left=this.options_.position.left+"px",e.style.top=this.options_.position.top+"px",e},e}(qt);function Yt(t){return t.hasOwnProperty("contextmenuUI")&&t.contextmenuUI.hasOwnProperty("menu")&&t.contextmenuUI.menu.el()}function $t(t){var e=t.tagName.toLowerCase();return"input"===e||"textarea"===e}function Xt(t){var e,n,i,o,r,a,s,c,l,u,d,h=this;if(Yt(this))this.contextmenuUI.menu.dispose();else if(!this.contextmenuUI.options_.excludeElements(t.target)){var p=(o=t,r={},a=function(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=Et.a.documentElement,i=Et.a.body,o=e.top+(Ht.a.pageYOffset||i.scrollTop)-(n.clientTop||i.clientTop||0);return{left:Math.round(e.left+(Ht.a.pageXOffset||i.scrollLeft)-(n.clientLeft||i.clientLeft||0)),top:Math.round(o)}}(i=this.el()),s=i.offsetWidth,c=i.offsetHeight,l=a.left,u=o.pageY,d=o.pageX,o.changedTouches&&(d=o.changedTouches[0].pageX,u=o.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a.top-u+c)/c)),r.x=Math.max(0,Math.min(1,(d-l)/s)),e=r,n=this.el().getBoundingClientRect(),{left:Math.round(n.width*e.x),top:Math.round(n.height-n.height*e.y)}),f=jt.a.browser.IS_FIREFOX?Et.a.documentElement:Et.a;t.preventDefault();var v=this.contextmenuUI.menu=new Wt(this,{content:this.contextmenuUI.content,position:p});this.contextmenuUI.closeMenu=function(){jt.a.log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),v.dispose()},v.on("dispose",(function(){jt.a.off(f,["click","tap"],v.dispose),h.removeChild(v),delete h.contextmenuUI.menu})),this.addChild(v);var g=v.el_.getBoundingClientRect(),m=Et.a.body.getBoundingClientRect();(this.contextmenuUI.keepInside||g.right>m.width||g.bottom>m.height)&&(v.el_.style.left=Math.floor(Math.min(p.left,this.player_.currentWidth()-v.currentWidth()))+"px",v.el_.style.top=Math.floor(Math.min(p.top,this.player_.currentHeight()-v.currentHeight()))+"px"),jt.a.on(f,["click","tap"],v.dispose)}}function Gt(t){var e=this;if(t=jt.a.mergeOptions({keepInside:!0,excludeElements:$t},t),!Array.isArray(t.content))throw new Error('"content" required');Yt(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var n=this.contextmenuUI=function(){Gt.apply(this,arguments)};n.onContextMenu=jt.a.bind(this,Xt),n.content=t.content,n.keepInside=t.keepInside,n.options_=t,n.VERSION="5.2.0",this.on("contextmenu",n.onContextMenu),this.ready((function(){return e.addClass("vjs-contextmenu-ui")}))}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}jt.a.registerPlugin("contextmenuUI",Gt),Gt.VERSION="5.2.0";var Zt=function t(e){var n=this;if(jt.a.browser.IS_IE8)for(var i in n=Et.a.createElement("custom"),t.prototype)"constructor"!==i&&(n[i]=t.prototype[i]);return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(t){n.enabled_(t)}}),n},te=function(t){var e,n;function i(){var e,n=Qt(Qt(e=t.call(this)||this));if(jt.a.browser.IS_IE8)for(var o in n=Et.a.createElement("custom"),i.prototype)"constructor"!==o&&(n[o]=i.prototype[o]);return n.levels_=[],n.selectedIndex_=-1,Object.defineProperty(n,"selectedIndex",{get:function(){return n.selectedIndex_}}),Object.defineProperty(n,"length",{get:function(){return n.levels_.length}}),n||Qt(e)}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.addQualityLevel=function(t){var e=this.getQualityLevelById(t.id);if(e)return e;var n=this.levels_.length;return e=new Zt(t),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(e),this.trigger({qualityLevel:e,type:"addqualitylevel"}),e},o.removeQualityLevel=function(t){for(var e=null,n=0,i=this.length;n<i;n++)if(this[n]===t){e=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return e&&this.trigger({qualityLevel:t,type:"removequalitylevel"}),e},o.getQualityLevelById=function(t){for(var e=0,n=this.length;e<n;e++){var i=this[e];if(i.id===t)return i}return null},o.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},i}(jt.a.EventTarget);for(var ee in te.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},te.prototype.allowedEvents_)te.prototype["on"+ee]=null;var ne=function(t){return e=this,jt.a.mergeOptions({},t),n=e.qualityLevels,i=new te,e.on("dispose",(function t(){i.dispose(),e.qualityLevels=n,e.off("dispose",t)})),e.qualityLevels=function(){return i},e.qualityLevels.VERSION="2.0.9",i;var e,n,i};(jt.a.registerPlugin||jt.a.plugin)("qualityLevels",ne),ne.VERSION="2.0.9";var ie=jt.a.getComponent("Component");jt.a.registerComponent("EndCard",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).dashOffsetTotal=586,o.dashOffsetStart=293,o.interval=50,o.upNextEvents=new jt.a.EventTarget,o.ticks=0,o.totalTicks=o.options_.timeout/o.interval,t.on("ended",(function(e){o.options_.condition()&&(t.addClass("vjs-upnext--showing"),o.showCard((function(e){t.removeClass("vjs-upnext--showing"),o.container.style.display="none",e||o.options_.next()})))})),t.on("playing",(function(){o.upNextEvents.trigger("playing")})),o}return _createClass(n,[{key:"createEl",value:function(){var t,e=this,i=_get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-upnext-content",innerHTML:(t=this.options_,'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'.concat(t.headText,'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">').concat(t.cancelText,'</button>\n      </span>\n      <span class="vjs-upnext-suspended">').concat(t.suspendedText,"</span>\n    </span>\n  "))});return this.container=i,i.style.display="none",this.autoplayRing=i.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=i.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=i.getElementsByClassName("vjs-upnext-cancel-button")[0],this.suspendedMessage=i.getElementsByClassName("vjs-upnext-suspended")[0],this.nextButton=i.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){e.upNextEvents.trigger("cancel")},this.nextButton.onclick=function(){e.upNextEvents.trigger("next")},i}},{key:"showCard",value:function(t){var e,n=this;this.autoplayRing.setAttribute("stroke-dasharray",""+this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",""+-this.dashOffsetStart),this.title.innerHTML=this.options_.getTitle(),this.upNextEvents.one("cancel",(function(){clearTimeout(e),t(!0)})),this.upNextEvents.one("playing",(function(){clearTimeout(e),t(!0)})),this.upNextEvents.one("next",(function(){clearTimeout(e),t(!1)}));var i=function(t){var e=Math.max(-n.dashOffsetTotal,-n.dashOffsetStart-t*n.dashOffsetTotal/2/100);n.autoplayRing.setAttribute("stroke-dashoffset",""+e)};this.container.style.display="block",e=setTimeout((function o(){n.options_.suspended()?(n.suspendedMessage.innerText=n.options_.suspendedText,i(0),n.ticks=0,e=setTimeout(o.bind(n),300)):n.ticks>=n.totalTicks?(clearTimeout(e),t(!1)):(n.suspendedMessage.innerText="",i(100*n.ticks++/n.totalTicks),e=setTimeout(o.bind(n),n.interval))}).bind(this),this.interval)}}]),n}(ie));var oe=jt.a.getPlugin("plugin");jt.a.registerPlugin("upnext",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);var r={next:o.next,getTitle:o.getTitle,timeout:o.timeout||5e3,cancelText:o.cancelText||"Cancel",headText:o.headText||"Up Next",suspendedText:o.suspendedText||"Autoplay is suspended",condition:o.condition,suspended:o.suspended};return(i=e.call(this,t)).player.ready((function(){t.addClass("vjs-upnext")})),t.addChild("EndCard",r),i}return n}(oe));var re=jt.a.getComponent("Component");jt.a.registerComponent("PauseBezel",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),o=e.call(this,t,i),t.on("pause",(function(e){t.seeking()||t.ended()||(o.container.innerHTML='\n  <div class="vjs-bezels-pause">\n    <div class="vjs-bezel" role="status" aria-label="Pause">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-1"></use>\n          <path class="vjs-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id="vjs-id-1"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())})),t.on("play",(function(e){t.seeking()||(o.container.innerHTML='\n  <div class="vjs-bezels-play">\n    <div class="vjs-bezel" role="status" aria-label="Play">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-2"></use>\n          <path class="vjs-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id="ytp-id-2"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())})),o}return _createClass(n,[{key:"createEl",value:function(){return this.container=_get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-bezels-content"}),this.container.style.display="none",this.container}},{key:"showBezel",value:function(){var t=this;this.container.style.display="inherit",setTimeout((function(){t.container.style.display="none"}),500)}}]),n}(re));var ae=jt.a.getPlugin("plugin");jt.a.registerPlugin("bezels",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).player.ready((function(){t.addClass("vjs-bezels")})),t.addChild("PauseBezel",i),o}return n}(ae));var se=jt.a.getComponent("MenuItem"),ce=jt.a.getComponent("Component"),le=function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;_classCallCheck(this,n),(o=e.call(this,t,i)).settingsButton=i.menuButton,o.dialog=o.settingsButton.dialog,o.mainMenu=o.settingsButton.menu,o.panel=o.dialog.getChild("settingsPanel"),o.panelChild=o.panel.getChild("settingsPanelChild"),o.panelChildEl=o.panelChild.el(),o.size=null,o.menuToLoad="mainmenu";var r=Object(z.l)(i.entry),a=jt.a.getComponent(r);if(!a)throw new Error("Component ".concat(r," does not exist"));var s=Object.assign({},i,{entry:i.menuButton,menuButton:_assertThisInitialized2(o)});o.subMenu=new a(o.player(),s);var c=o.subMenu.buildCSSClass().split(" ")[0];return o.settingsSubMenuEl_.className+=" "+c,o.eventHandlers(),t.ready((function(){setTimeout((function(){o.player_&&(o.build(),t.on("ratechange",o.submenuClickHandler),"CaptionsButton"===r&&t.on("captionsChanged",(function(){setTimeout((function(){o.settingsSubMenuEl_.innerHTML="",o.settingsSubMenuEl_.appendChild(o.subMenu.menu.el()),o.update(),o.bindClickEvents()}),0)})),o.reset())}),0)})),o}return _createClass(n,[{key:"eventHandlers",value:function(){this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)}},{key:"onSubmenuClick",value:function(t){var e=this,n=null;(n="tap"===t.type?t.target:t.currentTarget)&&n.classList.contains("vjs-back-button")?this.loadMainMenu():(setTimeout((function(){return e.update(t)}),0),this.subMenu.menu.removeClass("vjs-hidden"))}},{key:"createEl",value:function(){var t=jt.a.dom.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuTitleEl_=jt.a.dom.createEl("div",{className:"vjs-settings-sub-menu-title"}),t.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=jt.a.dom.createEl("div",{className:"vjs-settings-sub-menu-value"}),t.appendChild(this.settingsSubMenuValueEl_),this.settingsSubMenuEl_=jt.a.dom.createEl("div",{className:"vjs-settings-sub-menu"}),t}},{key:"handleClick",value:function(t){var e=this;this.menuToLoad="submenu",jt.a.dom.removeClass(this.el(),"open"),_get(_getPrototypeOf2(n.prototype),"handleClick",this).call(this,t),this.mainMenu.el().style.opacity="0",jt.a.dom.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(jt.a.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout((function(){e.settingsSubMenuEl_.style.opacity="1",e.settingsSubMenuEl_.style.marginRight="0px"}),0),this.settingsButton.setDialogSize(this.size)):jt.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}},{key:"createBackButton",value:function(){var t=this.subMenu.menu.addChild("MenuItem",{},0);t.addClass("vjs-back-button"),t.el().innerHTML=this.player().localize(this.subMenu.controlText())}},{key:"PrefixedEvent",value:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEvent",o=["webkit","moz","MS","o",""],r=0;r<o.length;r++)o[r]||(e=e.toLowerCase()),"addEvent"===i?t.addEventListener(o[r]+e,n,!1):"removeEvent"===i&&t.removeEventListener(o[r]+e,n,!1)}},{key:"onTransitionEnd",value:function(t){"margin-right"===t.propertyName&&"mainmenu"===this.menuToLoad&&(jt.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")}},{key:"reset",value:function(){jt.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()}},{key:"loadMainMenu",value:function(){var t=this,e=this.mainMenu.el();this.menuToLoad="mainmenu",this.mainMenu.show(),e.style.opacity="0";var n=this.mainMenu;this.settingsButton.setDialogSize([n.width,n.height]),setTimeout((function(){t.setMargin(),e.style.opacity="1"}),0)}},{key:"build",value:function(){var t=this;this.subMenu.on("updateLabel",(function(){t.update()})),this.subMenu.on("menuChanged",(function(){t.bindClickEvents(),t.setSize(),t.update()})),this.settingsSubMenuTitleEl_.innerHTML=this.player().localize(this.subMenu.controlText()),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el()),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.setSize(),this.bindClickEvents(),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")}},{key:"update",value:function(t){var e=this,n=null,i=this.subMenu.name();if(t&&"tap"===t.type?n=t.target:t&&(n=t.currentTarget),"PlaybackRateMenuButton"===i){var o=this.subMenu.labelEl_.innerHTML;setTimeout((function(){return e.settingsSubMenuValueEl_.innerHTML=o}),250)}else{var r,a=_createForOfIteratorHelper(this.subMenu.menu.children_);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s instanceof ce&&s.hasClass("vjs-selected")){var c=s;if("function"==typeof c.getLabel){this.settingsSubMenuValueEl_.innerHTML=c.getLabel();break}this.settingsSubMenuValueEl_.innerHTML=c.options_.label}}}catch(l){a.e(l)}finally{a.f()}}n&&!n.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog()}},{key:"bindClickEvents",value:function(){var t,e=_createForOfIteratorHelper(this.subMenu.menu.children());try{for(e.s();!(t=e.n()).done;){var n=t.value;n instanceof ce&&n.on(["tap","click"],this.submenuClickHandler)}}catch(i){e.e(i)}finally{e.f()}}},{key:"setSize",value:function(){this.dialog.removeClass("vjs-hidden"),jt.a.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),jt.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}},{key:"setMargin",value:function(){if(this.size){var t=_slicedToArray(this.size,1)[0];this.settingsSubMenuEl_.style.marginRight="-".concat(t,"px")}}},{key:"hideSubMenu",value:function(){this.el()&&jt.a.dom.hasClass(this.el(),"open")&&(jt.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),jt.a.dom.removeClass(this.el(),"open"))}}]),n}(se);le.prototype.contentElType="button",jt.a.registerComponent("SettingsMenuItem",le);var ue=jt.a.getComponent("Button"),de=jt.a.getComponent("Menu"),he=jt.a.getComponent("Component");he.registerComponent("SettingsButton",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).settingsButtonOptions=i,o.controlText("Settings"),o.dialog=o.player().addChild("settingsDialog"),o.dialogEl=o.dialog.el(),o.menu=null,o.panel=o.dialog.addChild("settingsPanel"),o.panelChild=o.panel.addChild("settingsPanelChild"),o.addClass("vjs-settings"),o.el().setAttribute("aria-label","Settings Button"),o.addSettingsItemHandler=o.onAddSettingsItem.bind(_assertThisInitialized2(o)),o.disposeSettingsItemHandler=o.onDisposeSettingsItem.bind(_assertThisInitialized2(o)),o.playerClickHandler=o.onPlayerClick.bind(_assertThisInitialized2(o)),o.userInactiveHandler=o.onUserInactive.bind(_assertThisInitialized2(o)),o.buildMenu(),o.bindEvents(),o.player().one("play",(function(){return o.hideDialog()})),o}return _createClass(n,[{key:"onPlayerClick",value:function(t){var e=t.target;e.classList.contains("vjs-settings")||e.parentElement.classList.contains("vjs-settings")||this.dialog.hasClass("vjs-hidden")||this.hideDialog()}},{key:"onDisposeSettingsItem",value:function(t,e){if(void 0===e){for(var n=this.menu.children();n.length>0;)n[0].dispose(),this.menu.removeChild(n[0]);this.addClass("vjs-hidden")}else{var i=this.menu.getChild(e);i&&(i.dispose(),this.menu.removeChild(i))}this.hideDialog(),0===this.settingsButtonOptions.entries.length&&this.addClass("vjs-hidden")}},{key:"onAddSettingsItem",value:function(t,e){var n=_slicedToArray(e,2),i=n[0],o=n[1];this.addMenuItem(i,o),this.removeClass("vjs-hidden")}},{key:"onUserInactive",value:function(){this.dialog.hasClass("vjs-hidden")||this.hideDialog()}},{key:"bindEvents",value:function(){this.player().on("click",this.playerClickHandler),this.player().on("addsettingsitem",this.addSettingsItemHandler),this.player().on("disposesettingsitem",this.disposeSettingsItemHandler),this.player().on("userinactive",this.userInactiveHandler)}},{key:"buildCSSClass",value:function(){return"vjs-icon-settings "+_get(_getPrototypeOf2(n.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.dialog.hasClass("vjs-hidden")?this.showDialog():this.hideDialog()}},{key:"showDialog",value:function(){this.player().peertube().onMenuOpen(),this.menu.el().style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu))}},{key:"hideDialog",value:function(){this.player_.peertube().onMenuClosed(),this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el().style.opacity="1",this.resetChildren()}},{key:"getComponentSize",value:function(t){var e=null,n=null;if(t instanceof he){var i=t.el();e=i.offsetWidth,n=i.offsetHeight,t.width=e,t.height=n}else e=t.offsetWidth,n=t.offsetHeight;return[e,n]}},{key:"setDialogSize",value:function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];if("number"==typeof i){var o=this.settingsButtonOptions.setup.maxHeightOffset,r=this.player().el().offsetHeight-o,a=this.panel.el();i>r?(n+=17,a.style.maxHeight=(i=r)+"px"):""!==a.style.maxHeight&&(a.style.maxHeight=""),this.dialogEl.style.width=n+"px",this.dialogEl.style.height=i+"px"}}},{key:"buildMenu",value:function(){this.menu=new de(this.player()),this.menu.addClass("vjs-main-menu");var t=this.settingsButtonOptions.entries;if(0===t.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addMenuItem(i,this.settingsButtonOptions)}}catch(o){n.e(o)}finally{n.f()}this.panelChild.addChild(this.menu)}},{key:"addMenuItem",value:function(t,e){e.name=Object(z.l)(t);var n=Object.assign({},e,{entry:t,menuButton:this}),i=new le(this.player(),n);this.menu.addChild(i),i.on("click",jt.a.bind(this,this.hideChildren)),i.on("click",(function(){jt.a.dom.hasClass(this.el_,"open")?jt.a.dom.removeClass(this.el_,"open"):jt.a.dom.addClass(this.el_,"open")}))}},{key:"resetChildren",value:function(){var t,e=_createForOfIteratorHelper(this.menu.children());try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(n){e.e(n)}finally{e.f()}}},{key:"hideChildren",value:function(){var t,e=_createForOfIteratorHelper(this.menu.children());try{for(e.s();!(t=e.n()).done;){t.value.hideSubMenu()}}catch(n){e.e(n)}finally{e.f()}}}]),n}(ue));var pe=n("Trnl"),fe=jt.a.getPlugin("plugin");jt.a.registerPlugin("peertube",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).CONSTANTS={USER_WATCHING_VIDEO_INTERVAL:5e3},o.menuOpened=!1,o.mouseInControlBar=!1,o.videoViewUrl=i.videoViewUrl,o.videoDuration=i.videoDuration,o.videoCaptions=i.videoCaptions,o.savedInactivityTimeout=t.options_.inactivityTimeout,i.autoplay&&o.player.addClass("vjs-has-autoplay"),o.player.on("autoplay-failure",(function(){o.player.removeClass("vjs-has-autoplay")})),o.player.ready((function(){var t=o.player.options_;"webtorrent"===i.mode&&(o.player.webtorrent().on("resolutionChange",(function(t,e){return o.handleResolutionChange(e)})),o.player.webtorrent().on("autoResolutionChange",(function(t,e){return o.trigger("autoResolutionChange",e)}))),"p2p-media-loader"===i.mode&&o.player.p2pMediaLoader().on("resolutionChange",(function(t,e){return o.handleResolutionChange(e)}));var e=Object(pe.e)();o.player.tech(!0).on("loadedqualitydata",(function(){setTimeout((function(){o.lastResolutionChange&&e&&"auto"!==e&&(o.lastResolutionChange.auto=!1,o.lastResolutionChange.resolutionId=parseInt(e),o.handleResolutionChange(o.lastResolutionChange))}),10)}));var n=Object(pe.g)();void 0!==n&&o.player.volume(n);var r=void 0!==t.muted?t.muted:Object(pe.c)();if(void 0!==r&&o.player.muted(r),o.defaultSubtitle=i.subtitle||Object(pe.b)(),o.player.on("volumechange",(function(){Object(pe.m)(o.player.volume()),Object(pe.j)(o.player.muted())})),i.stopTime){var a=Object(z.k)(i.stopTime),s=_assertThisInitialized2(o);o.player.on("timeupdate",(function t(){s.player.currentTime()>a&&(s.player.pause(),s.player.trigger("stopped"),s.player.off("timeupdate",t))}))}o.player.textTracks().on("change",(function(){var t=o.player.textTracks().tracks_.find((function(t){return"captions"===t.kind&&"showing"===t.mode}));t?Object(pe.i)(t.language):Object(pe.i)("off")})),o.player.on("sourcechange",(function(){return o.initCaptions()})),o.player.duration(i.videoDuration),o.initializePlayer(),o.runViewAdd(),i.userWatching&&o.runUserWatchVideo(i.userWatching)})),o}return _createClass(n,[{key:"dispose",value:function(){this.videoViewInterval&&clearInterval(this.videoViewInterval),this.userWatchingVideoInterval&&clearInterval(this.userWatchingVideoInterval)}},{key:"onMenuOpen",value:function(){this.menuOpened=!1,this.alterInactivity()}},{key:"onMenuClosed",value:function(){this.menuOpened=!0,this.alterInactivity()}},{key:"initializePlayer",value:function(){Object(z.g)()&&this.player.addClass("vjs-is-mobile"),this.initSmoothProgressBar(),this.initCaptions(),this.listenControlBarMouse()}},{key:"runViewAdd",value:function(){var t=this;this.clearVideoViewInterval();var e=30;this.videoDuration<e&&(e=3*this.videoDuration/4);var n=0;this.videoViewInterval=setInterval((function(){t.player&&!t.player.paused()&&((n+=1)>e&&(t.clearVideoViewInterval(),t.addViewToVideo().catch((function(t){return console.error(t)}))))}),1e3)}},{key:"runUserWatchVideo",value:function(t){var e=this,n=0;this.userWatchingVideoInterval=setInterval((function(){var i=Math.floor(e.player.currentTime());i-n>=1&&(n=i,e.notifyUserIsWatching(i,t.url,t.authorizationHeader).catch((function(t){return console.error("Cannot notify user is watching.",t)})))}),this.CONSTANTS.USER_WATCHING_VIDEO_INTERVAL)}},{key:"clearVideoViewInterval",value:function(){void 0!==this.videoViewInterval&&(clearInterval(this.videoViewInterval),this.videoViewInterval=void 0)}},{key:"addViewToVideo",value:function(){return this.videoViewUrl?fetch(this.videoViewUrl,{method:"POST"}):Promise.resolve(void 0)}},{key:"notifyUserIsWatching",value:function(t,e,n){var i=new URLSearchParams;i.append("currentTime",t.toString());var o=new Headers({Authorization:n});return fetch(e,{method:"PUT",body:i,headers:o})}},{key:"handleResolutionChange",value:function(t){this.lastResolutionChange=t,!1===t.auto?Object(pe.k)(t.resolutionId.toString()):Object(pe.k)("auto");for(var e=this.player.qualityLevels(),n=0;n<e.length;n++)if(e[n].height===t.resolutionId){t.id=e[n].id;break}this.trigger("resolutionChange",t)}},{key:"listenControlBarMouse",value:function(){var t=this;this.player.controlBar.on("mouseenter",(function(){t.mouseInControlBar=!0,t.alterInactivity()})),this.player.controlBar.on("mouseleave",(function(){t.mouseInControlBar=!1,t.alterInactivity()}))}},{key:"alterInactivity",value:function(){this.player.options_.inactivityTimeout=this.menuOpened||this.mouseInControlBar?this.savedInactivityTimeout:1}},{key:"initCaptions",value:function(){var t,e=_createForOfIteratorHelper(this.videoCaptions);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.player.addRemoteTextTrack({kind:"captions",label:n.label,language:n.language,id:n.language,src:n.src,default:this.defaultSubtitle===n.language},!1)}}catch(i){e.e(i)}finally{e.f()}this.player.trigger("captionsChanged")}},{key:"initSmoothProgressBar",value:function(){var t=jt.a.getComponent("SeekBar");t.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},t.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e),this.update()}}}]),n}(fe));var ve=jt.a.getComponent("Button");jt.a.registerComponent("NextVideoButton",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).nextVideoButtonOptions=i,o}return _createClass(n,[{key:"createEl",value:function(){var t=jt.a.dom.createEl("button",{className:"vjs-next-video"}),e=jt.a.dom.createEl("span",{className:"icon icon-next"});return t.appendChild(e),t.title=this.player_.localize("Next video"),t}},{key:"handleClick",value:function(){this.nextVideoButtonOptions.handler()}}]),n}(ve));var ge=jt.a.getComponent("Button");jt.a.registerComponent("P2PInfoButton",function(t){_inherits2(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"createEl",value:function(){var t=this,e=jt.a.dom.createEl("div",{className:"vjs-peertube"}),n=jt.a.dom.createEl("div",{className:"vjs-peertube-hidden"});e.appendChild(n);var i=jt.a.dom.createEl("span",{className:"icon icon-download"});n.appendChild(i);var o=jt.a.dom.createEl("span",{className:"download-speed-text"}),r=jt.a.dom.createEl("span",{className:"download-speed-number"}),a=jt.a.dom.createEl("span");o.appendChild(r),o.appendChild(a),n.appendChild(o);var s=jt.a.dom.createEl("span",{className:"icon icon-upload"});n.appendChild(s);var c=jt.a.dom.createEl("span",{className:"upload-speed-text"}),l=jt.a.dom.createEl("span",{className:"upload-speed-number"}),u=jt.a.dom.createEl("span");c.appendChild(l),c.appendChild(u),n.appendChild(c);var d=jt.a.dom.createEl("span",{className:"peers-text"}),h=jt.a.dom.createEl("span",{className:"peers-number"});n.appendChild(h),n.appendChild(d);var p=jt.a.dom.createEl("div",{className:"vjs-peertube-hidden"}),f=jt.a.dom.createEl("span",{className:"http-fallback",textContent:"HTTP"});return p.appendChild(f),e.appendChild(p),this.player_.on("p2pInfo",(function(e,i){if(!i)return p.className="vjs-peertube-displayed",void(n.className="vjs-peertube-hidden");var o=i.p2p,s=i.http,c=Object(z.c)(o.downloadSpeed+s.downloadSpeed),f=Object(z.c)(o.uploadSpeed+s.uploadSpeed),v=Object(z.c)(o.downloaded+s.downloaded),g=Object(z.c)(o.uploaded+s.uploaded),m=o.numPeers;n.title=t.player().localize("Total downloaded: ")+v.join(" ")+"\n"+t.player().localize("Total uploaded: "+g.join(" ")),r.textContent=c[0],a.textContent=" "+c[1],l.textContent=f[0],u.textContent=" "+f[1],h.textContent=m.toString(),d.textContent=" "+(m>1?t.player().localize("peers"):t.player_.localize("peer")),p.className="vjs-peertube-hidden",n.className="vjs-peertube-displayed"})),e}}]),n}(ge));var me=jt.a.getComponent("Button");jt.a.registerComponent("PeerTubeLinkButton",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return _createClass(n,[{key:"createEl",value:function(){return this.buildElement()}},{key:"updateHref",value:function(){this.el().setAttribute("href",Object(z.b)({startTime:this.player().currentTime()}))}},{key:"handleClick",value:function(){this.player().pause()}},{key:"buildElement",value:function(){var t=this,e=jt.a.dom.createEl("a",{href:Object(z.b)(),innerHTML:"PeerTube",title:this.player().localize("Go to the video page"),className:"vjs-peertube-link",target:"_blank"});return e.addEventListener("mouseenter",(function(){return t.updateHref()})),e}}]),n}(me));var ye=jt.a.getComponent("Component");ye.registerComponent("PeerTubeLoadProgressBar",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).on(t,"progress",o.update),o}return _createClass(n,[{key:"createEl",value:function(){return _get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'.concat(this.localize("Loaded"),"</span>: 0%</span>")})}},{key:"dispose",value:function(){_get(_getPrototypeOf2(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){var t=this.player().webtorrent().getTorrent();t&&(this.el().style.width=100*t.progress+"%")}}]),n}(ye));var be=function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),i.selectable=!0,(o=e.call(this,t,i)).autoResolutionPossible=!0,o.currentResolutionLabel="",o.resolutionId=i.id,o.label=i.label,o.labels=i.labels,o.callback=i.callback,t.peertube().on("resolutionChange",(function(t,e){return o.updateSelection(e)})),-1===o.resolutionId&&t.peertube().on("autoResolutionChange",(function(t,e){return o.updateAutoResolution(e)})),o}return _createClass(n,[{key:"handleClick",value:function(t){!1===this.autoResolutionPossible&&-1===this.resolutionId||(_get(_getPrototypeOf2(n.prototype),"handleClick",this).call(this,t),this.callback(this.resolutionId,"video"))}},{key:"updateSelection",value:function(t){-1===this.resolutionId&&(this.currentResolutionLabel=this.labels[t.id]),this.selected(!0!==t.auto?this.resolutionId===t.id:-1===this.resolutionId)}},{key:"updateAutoResolution",value:function(t){!1===t.possible?this.addClass("disabled"):this.removeClass("disabled"),this.autoResolutionPossible=t.possible}},{key:"getLabel",value:function(){return-1===this.resolutionId?this.label+" <small>"+this.currentResolutionLabel+"</small>":this.label}}]),n}(jt.a.getComponent("MenuItem"));jt.a.registerComponent("ResolutionMenuItem",be);var _e=jt.a.getComponent("Menu"),Ce=jt.a.getComponent("MenuButton");jt.a.registerComponent("ResolutionMenuButton",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).controlText("Quality"),t.tech(!0).on("loadedqualitydata",(function(t,e){return o.buildQualities(e)})),t.peertube().on("resolutionChange",(function(){return setTimeout((function(){return o.trigger("updateLabel")}),0)})),o}return _createClass(n,[{key:"createEl",value:function(){var t=_get(_getPrototypeOf2(n.prototype),"createEl",this).call(this);return this.labelEl_=jt.a.dom.createEl("div",{className:"vjs-resolution-value"}),t.appendChild(this.labelEl_),t}},{key:"updateARIAAttributes",value:function(){this.el().setAttribute("aria-label","Quality")}},{key:"createMenu",value:function(){return new _e(this.player_)}},{key:"buildCSSClass",value:function(){return _get(_getPrototypeOf2(n.prototype),"buildCSSClass",this).call(this)+" vjs-resolution-button"}},{key:"buildWrapperCSSClass",value:function(){return"vjs-resolution-control "+_get(_getPrototypeOf2(n.prototype),"buildWrapperCSSClass",this).call(this)}},{key:"addClickListener",value:function(t){var e=this;t.on("click",(function(){var n,i=_createForOfIteratorHelper(e.menu.children());try{for(i.s();!(n=i.n()).done;){var o=n.value;t!==o&&o.selected(!1)}}catch(r){i.e(r)}finally{i.f()}}))}},{key:"buildQualities",value:function(t){var e={};t.qualityData.video.sort((function(t,e){return t.id>e.id?-1:t.id===e.id?0:1}));var n,i=_createForOfIteratorHelper(t.qualityData.video);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(-1!==o.id){var r="0p"===o.label?this.player().localize("Audio-only"):o.label;this.menu.addChild(new be(this.player_,{id:o.id,label:r,selected:o.selected,callback:t.qualitySwitchCallback})),e[o.id]=o.label}}}catch(l){i.e(l)}finally{i.f()}this.menu.addChild(new be(this.player_,{id:-1,label:this.player_.localize("Auto"),labels:e,callback:t.qualitySwitchCallback,selected:!0}));var a,s=_createForOfIteratorHelper(this.menu.children());try{for(s.s();!(a=s.n()).done;){var c=a.value;this.addClickListener(c)}}catch(l){s.e(l)}finally{s.f()}this.trigger("menuChanged")}}]),n}(Ce));var Oe=jt.a.getComponent("Component");Oe.registerComponent("SettingsDialog",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).hide(),i}return _createClass(n,[{key:"createEl",value:function(){var t=this.id();return _get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"dialog","aria-labelledby":"TTsettingsDialogLabel-"+t,"aria-describedby":"TTsettingsDialogDescription-"+t})}}]),n}(Oe));var Pe=jt.a.getComponent("Component");Pe.registerComponent("SettingsPanel",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return _createClass(n,[{key:"createEl",value:function(){return _get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})}}]),n}(Pe));var Te=jt.a.getComponent("Component");Te.registerComponent("SettingsPanelChild",function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return _createClass(n,[{key:"createEl",value:function(){return _get(_getPrototypeOf2(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel-child",innerHTML:"",tabIndex:-1})}}]),n}(Te));var ke,we=jt.a.getComponent("Button");jt.a.registerComponent("TheaterButton",((ke=function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i){var o;_classCallCheck(this,n),o=e.call(this,t,i);var r=Object(pe.f)();return!0===r&&(o.player().addClass(n.THEATER_MODE_CLASS),o.handleTheaterChange()),o.controlText("Theater mode"),o.player().theaterEnabled=r,o}return _createClass(n,[{key:"buildCSSClass",value:function(){return"vjs-theater-control "+_get(_getPrototypeOf2(n.prototype),"buildCSSClass",this).call(this)}},{key:"handleTheaterChange",value:function(){var t=this.isTheaterEnabled();this.controlText(t?"Normal mode":"Theater mode"),Object(pe.l)(t),this.player_.trigger("theaterChange",t)}},{key:"handleClick",value:function(){this.player_.toggleClass(n.THEATER_MODE_CLASS),this.handleTheaterChange()}},{key:"isTheaterEnabled",value:function(){return this.player_.hasClass(n.THEATER_MODE_CLASS)}}]),n}(we)).THEATER_MODE_CLASS="vjs-theater-enabled",ke));var Me=n("OQMk"),xe=n("nKAH"),Ee=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.baseUrls=e}return _createClass(t,[{key:"removeBySegmentUrl",value:function(t){console.log("Removing redundancy of segment URL %s.",t);var e=Object(xe.dirname)(t);this.baseUrls=this.baseUrls.filter((function(t){return t!==e&&t!==e+"/"}))}},{key:"buildUrl",value:function(t){var e=this.baseUrls.length+1,n=this.getRandomInt(e);if(n===e-1)return t;var i=this.baseUrls[n],o=i.endsWith("/")?"":"/";return i+o+Object(xe.basename)(t)}},{key:"countBaseUrls",value:function(){return this.baseUrls.length}},{key:"getRandomInt",value:function(t){return Math.floor(Math.random()*Math.floor(t))}}]),t}();function Se(t){return function(e){return t.buildUrl(e.url)}}var je,Ie=((je=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getServerTranslations",value:function(e,n){var i=t.getLocalePath(e,n);return i?fetch(i+"/server.json").then((function(t){return t.json()})).catch((function(t){console.error("Cannot get server translations",t)})):Promise.resolve(void 0)}},{key:"loadLocaleInVideoJS",value:function(e,n,i){var o,r=t.getLocalePath(e,n);if(!r)return Promise.resolve(void 0);o=t.videojsLocaleCache[r]?Promise.resolve(t.videojsLocaleCache[r]):fetch(r+"/player.json").then((function(t){return t.json()})).then((function(e){return t.videojsLocaleCache[r]=e,e})).catch((function(t){console.error("Cannot get player translations",t)}));var a=Object(u.q)(n);return o.then((function(t){return i.addLanguage(Object(u.r)(a),t)}))}},{key:"getLocalePath",value:function(t,e){var n=Object(u.q)(e);if(Object(u.s)(n)&&!Object(u.t)(n))return t+"/client/locales/"+n}}]),t}()).videojsLocaleCache={},je),Ae=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};jt.a.getComponent("PlaybackRateMenuButton").prototype.controlText_="Speed";var Le=jt.a.getComponent("CaptionsButton");Le.prototype.controlText_="Subtitles/CC",Le.prototype.label_=" ";var Re,De,Ne,Be=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"initialize",value:function(t,e,i){return Ae(this,void 0,void 0,regeneratorRuntime.mark((function o(){var r,a,s,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.onPlayerChange=i,this.playerElementClassName=e.common.playerElement.className,o.t0="webtorrent"===t,!o.t0){o.next=6;break}return o.next=6,Promise.all([n.e(2),n.e(4)]).then(n.bind(null,"ewd/"));case 6:if(o.t1="p2p-media-loader"===t,!o.t1){o.next=14;break}return o.next=10,Promise.all([Promise.all([n.e(2),n.e(5)]).then(n.t.bind(null,"tlK4",7)),Promise.all([n.e(2),n.e(5),n.e(18)]).then(n.bind(null,"izw0"))]);case 10:r=o.sent,a=_slicedToArray(r,1),s=a[0];case 14:return c=this.getVideojsOptions(t,e,s),o.next=17,Ie.loadLocaleInVideoJS(e.common.serverUrl,e.common.language,jt.a);case 17:return l=this,o.abrupt("return",new Promise((function(n){jt()(e.common.playerElement,c,(function(){var i=this,o=!1;return i.tech(!0).one("error",(function(){o||l.maybeFallbackToWebTorrent(t,i,e),o=!0})),i.one("error",(function(){o||l.maybeFallbackToWebTorrent(t,i,e),o=!0})),l.addContextMenu(t,i,e.common.embedUrl),i.bezels(),n(i)}))})));case 19:case"end":return o.stop()}}),o,this)})))}},{key:"maybeFallbackToWebTorrent",value:function(e,i,o){return Ae(this,void 0,void 0,regeneratorRuntime.mark((function r(){var a,s,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("webtorrent"!==e){r.next=2;break}return r.abrupt("return");case 2:return console.log("Fallback to webtorrent."),(a=document.createElement("video")).className=this.playerElementClassName,(s=o.common.playerElement.parentNode)||(s=document.getElementById(o.common.playerElement.id).parentNode),s.parentNode.insertBefore(a,s),o.common.playerElement=a,o.common.onPlayerElementChange(a),i.dispose(),r.next=13,Promise.all([n.e(2),n.e(4)]).then(n.bind(null,"ewd/"));case 13:c=this.getVideojsOptions("webtorrent",o),l=this,jt()(a,c,(function(){l.addContextMenu("webtorrent",this,o.common.embedUrl),t.onPlayerChange(this)}));case 15:case"end":return r.stop()}}),r,this)})))}},{key:"getVideojsOptions",value:function(e,n,i){var o=n.common,r=this.getAutoPlayValue(o.autoplay),a={},s={peertube:{mode:e,autoplay:r,videoViewUrl:o.videoViewUrl,videoDuration:o.videoDuration,userWatching:o.userWatching,subtitle:o.subtitle,videoCaptions:o.videoCaptions,stopTime:o.stopTime}};(!0===o.enableHotkeys&&t.addHotkeysOptions(s),"p2p-media-loader"===e)&&(a=t.addP2PMediaLoaderOptions(s,n,i).hlsjs.html5);"webtorrent"===e&&(t.addWebTorrentOptions(s,n),r=!1);var c={html5:a,textTrackSettings:!1,controls:void 0===o.controls||o.controls,loop:void 0!==o.loop&&o.loop,muted:void 0!==o.muted?o.muted:void 0,autoplay:this.getAutoPlayValue(r),poster:o.poster,inactivityTimeout:o.inactivityTimeout,playbackRates:[.5,.75,1,1.25,1.5,2],plugins:s,controlBar:{children:this.getControlBarChildren(e,{captions:o.captions,peertubeLink:o.peertubeLink,theaterButton:o.theaterButton,nextVideo:o.nextVideo})}};return o.language&&!Object(Me.g)(o.language)&&Object.assign(c,{language:o.language}),c}},{key:"addP2PMediaLoaderOptions",value:function(t,e,n){var i=e.p2pMediaLoader,o=e.common,r=i.trackerAnnounce.filter((function(t){return t.startsWith("ws")})),a=new Ee(e.p2pMediaLoader.redundancyBaseUrls),s={redundancyUrlManager:a,type:"application/x-mpegURL",startTime:o.startTime,src:i.playlistUrl},c=!1;navigator&&navigator.connection&&"cellular"===navigator.connection.type&&(console.log("We are on a cellular connection: disabling seeding."),c=!0);var l,u,d,h={loader:{trackerAnnounce:r,segmentValidator:(l=e.p2pMediaLoader.segmentsSha256Url,u=fetch(l).then((function(t){return t.json()})).catch((function(t){return console.error("Cannot get sha256 segments",t),{}})),d=/bytes=(\d+)-(\d+)/,function(t){return e=this,i=regeneratorRuntime.mark((function e(){var n,i,o,r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(xe.basename)(t.url),i=d.exec(t.range),o=i[1]+"-"+i[2],e.next=5,u;case 5:if(e.t0=n,e.t1=o,void 0!==(r=e.sent[e.t0][e.t1])){e.next=10;break}throw new Error("Unknown segment name ".concat(n,"/").concat(o," in segment validator"));case 10:return e.t2=function(t){if(!t)return"";var e="",n="0123456789abcdef";return new Uint8Array(t).forEach((function(t){return e+=n[t>>4]+n[15&t]})),e},e.next=13,(s=t.data)?window.crypto.subtle.digest("SHA-256",s):void 0;case 13:if(e.t3=e.sent,(a=(0,e.t2)(e.t3))===r){e.next=17;break}throw new Error("Hashes does not correspond for segment ".concat(n,"/").concat(o,"(expected: ").concat(r," instead of ").concat(a,")"));case 17:case"end":return e.stop()}}),e)})),new((n=void 0)||(n=Promise))((function(t,o){function r(t){try{s(i.next(t))}catch(e){o(e)}}function a(t){try{s(i.throw(t))}catch(e){o(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(r,a)}s((i=i.apply(e,[])).next())}));var e,n,i}),rtcConfig:Object(z.e)(),requiredSegmentsPriority:5,segmentUrlBuilder:Se(a),useP2P:Object(pe.d)(),consumeOnly:c},segments:{swarmId:i.playlistUrl}},p={p2pMediaLoader:s,hlsjs:{levelLabelHandler:function(t){var e=i.videoFiles.find((function(e){return e.resolution.id===t.height})),n=e.resolution.label;return e.fps>=50&&(n+=e.fps),n},html5:{hlsjsConfig:{capLevelToPlayerSize:!0,autoStartLoad:!1,liveSyncDurationCount:7,loader:new n.Engine(h).createLoaderClass()}}}};return Object.assign(t,p),p}},{key:"addWebTorrentOptions",value:function(t,e){var n=e.common;Object.assign(t,{webtorrent:{autoplay:n.autoplay,videoDuration:n.videoDuration,playerElement:n.playerElement,videoFiles:e.webtorrent.videoFiles,startTime:n.startTime}})}},{key:"getControlBarChildren",value:function(t,e){var n,i=[],o="webtorrent"===t?"peerTubeLoadProgressBar":"loadProgressBar";i.push("playbackRateMenuButton"),!0===e.captions&&i.push("captionsButton"),i.push("resolutionMenuButton");var r={playToggle:{}};return e.nextVideo&&Object.assign(r,{nextVideoButton:{handler:e.nextVideo}}),Object.assign(r,{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},liveDisplay:{},flexibleWidthSpacer:{},progressControl:{children:{seekBar:{children:(n={},_defineProperty(n,o,{}),_defineProperty(n,"mouseTimeDisplay",{}),_defineProperty(n,"playProgressBar",{}),n)}}},p2PInfoButton:{},muteToggle:{},volumeControl:{},settingsButton:{setup:{maxHeightOffset:40},entries:i}}),!0===e.peertubeLink&&Object.assign(r,{peerTubeLinkButton:{}}),!0===e.theaterButton&&Object.assign(r,{theaterButton:{}}),Object.assign(r,{fullscreenToggle:{}}),r}},{key:"addContextMenu",value:function(t,e,n){var i=[{label:e.localize("Copy the video URL"),listener:function(){Object(z.d)(Object(z.b)())}},{label:e.localize("Copy the video URL at the current time"),listener:function(){Object(z.d)(Object(z.b)({startTime:this.currentTime()}))}},{label:e.localize("Copy embed code"),listener:function(){Object(z.d)(Object(z.a)(n))}}];"webtorrent"===t&&i.push({label:e.localize("Copy magnet URI"),listener:function(){Object(z.d)(this.webtorrent().getCurrentVideoFile().magnetUri)}}),e.contextmenuUI({content:i})}},{key:"addHotkeysOptions",value:function(t){Object.assign(t,{hotkeys:{enableVolumeScroll:!1,enableModifiersForNumbers:!1,fullscreenKey:function(t){return"f"===t.key||t.ctrlKey&&"Enter"===t.key},seekStep:function(t){return t.ctrlKey&&t.altKey?300:t.ctrlKey?60:t.altKey?10:5},customKeys:{increasePlaybackRateKey:{key:function(t){return">"===t.key},handler:function(t){var e=Math.min(t.playbackRate()+.1,5);t.playbackRate(parseFloat(e.toFixed(2)))}},decreasePlaybackRateKey:{key:function(t){return"<"===t.key},handler:function(t){var e=Math.max(t.playbackRate()-.1,.1);t.playbackRate(parseFloat(e.toFixed(2)))}},frameByFrame:{key:function(t){return"."===t.key},handler:function(t){t.pause(),t.currentTime(t.currentTime()+1/30)}}}}})}},{key:"getAutoPlayValue",value:function(t){return!0!==t?t:!Object(z.f)()&&(Object(z.h)()?"any":"play")}}]),t}(),Ve=n("biPt"),ze=n("eQvQ"),Fe=n("7FIj"),He=n("F3OD"),Ue=n("yc0L");function Je(t,e){1&t&&(v.dc(0,"span",14),v.hc(1,Re),v.cc())}function qe(t,e){1&t&&(v.dc(0,"span",15),v.hc(1,De),v.cc())}function Ke(t,e){1&t&&(v.dc(0,"span",16),v.hc(1,Ne),v.cc())}function We(t,e){if(1&t){var n=v.ec();v.dc(0,"div"),v.dc(1,"my-video-playlist-element-miniature",17),v.sc("elementRemoved",(function(t){return v.Rc(n),v.wc(2).onElementRemoved(t)})),v.cc(),v.cc()}if(2&t){var i=e.$implicit,o=v.wc(2);v.Jb(1),v.Dc("playlistElement",i)("playlist",o.playlist)("owned",o.isPlaylistOwned())("playing",o.currentPlaylistPosition===i.position)("accountLink",!1)("position",i.position)("touchScreenEditButton",!0)}}function Ye(t,e){if(1&t){var n=v.ec();v.dc(0,"div",1),v.sc("nearOfBottom",(function(){return v.Rc(n),v.wc().onPlaylistVideosNearOfBottom()})),v.dc(1,"div",2),v.dc(2,"div",3),v.cd(3),v.ad(4,Je,2,0,"span",4),v.ad(5,qe,2,0,"span",5),v.ad(6,Ke,2,0,"span",6),v.cc(),v.dc(7,"div",7),v.dc(8,"div",8),v.cd(9),v.cc(),v.dc(10,"div",9),v.dc(11,"span"),v.cd(12),v.cc(),v.dc(13,"span"),v.cd(14),v.cc(),v.cc(),v.cc(),v.dc(15,"div",10),v.dc(16,"my-global-icon",11),v.sc("click",(function(){return v.Rc(n),v.wc().switchAutoPlayNextVideoPlaylist()})),v.cc(),v.dc(17,"my-global-icon",12),v.sc("click",(function(){return v.Rc(n),v.wc().switchLoopPlaylist()})),v.cc(),v.cc(),v.cc(),v.ad(18,We,2,7,"div",13),v.cc()}if(2&t){var i=v.wc();v.Dc("autoInit",!0)("onItself",!0),v.Jb(3),v.ed(" ",i.playlist.displayName," "),v.Jb(1),v.Dc("ngIf",i.isUnlistedPlaylist()),v.Jb(1),v.Dc("ngIf",i.isPrivatePlaylist()),v.Jb(1),v.Dc("ngIf",i.isPublicPlaylist()),v.Jb(3),v.dd(i.playlist.ownerBy),v.Jb(3),v.dd(i.currentPlaylistPosition),v.Jb(2),v.dd(i.playlistPagination.totalItems),v.Jb(2),v.Ob("active",i.autoPlayNextVideoPlaylist),v.Dc("ngbTooltip",i.autoPlayNextVideoPlaylistSwitchText),v.Jb(1),v.Ob("active",i.loopPlaylist),v.Dc("ngbTooltip",i.loopPlaylistSwitchText),v.Jb(1),v.Dc("ngForOf",i.playlistElements)}}Re="No listado",De="Privado",Ne="P\xFAblico";var $e,Xe,Ge,Qe,Ze=(($e=function(){function t(e,n,i,o,r,a,s,c){_classCallCheck(this,t),this.userService=e,this.auth=n,this.notifier=i,this.i18n=o,this.videoPlaylist=r,this.localStorageService=a,this.sessionStorageService=s,this.router=c,this.playlistElements=[],this.playlistPagination={currentPage:1,itemsPerPage:30,totalItems:null},this.autoPlayNextVideoPlaylistSwitchText="",this.loopPlaylistSwitchText="",this.noPlaylistVideos=!1,this.currentPlaylistPosition=1,this.autoPlayNextVideoPlaylist=this.auth.isLoggedIn()?this.auth.getUser().autoPlayNextVideoPlaylist:"false"!==this.localStorageService.getItem(t.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setAutoPlayNextVideoPlaylistSwitchText(),this.loopPlaylist="true"===this.sessionStorageService.getItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setLoopPlaylistSwitchText()}return _createClass(t,[{key:"onPlaylistVideosNearOfBottom",value:function(){this.playlistPagination.totalItems<=this.playlistPagination.currentPage*this.playlistPagination.itemsPerPage||(this.playlistPagination.currentPage+=1,this.loadPlaylistElements(this.playlist,!1))}},{key:"onElementRemoved",value:function(t){this.playlistElements=this.playlistElements.filter((function(e){return e.id!==t.id})),this.playlistPagination.totalItems--}},{key:"isPlaylistOwned",value:function(){return!0===this.playlist.isLocal&&this.auth.isLoggedIn()&&this.playlist.ownerAccount.name===this.auth.getUser().username}},{key:"isUnlistedPlaylist",value:function(){return this.playlist.privacy.id===u.k.UNLISTED}},{key:"isPrivatePlaylist",value:function(){return this.playlist.privacy.id===u.k.PRIVATE}},{key:"isPublicPlaylist",value:function(){return this.playlist.privacy.id===u.k.PUBLIC}},{key:"loadPlaylistElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.videoPlaylist.getPlaylistVideos(t.uuid,this.playlistPagination).subscribe((function(t){var i=t.total,o=t.data;e.playlistElements=e.playlistElements.concat(o),e.playlistPagination.totalItems=i;var r=e.playlistElements.find((function(t){return!!t.video}));r?(e.updatePlaylistIndex(e.video),n&&e.router.navigate([],{queryParams:{start:r.startTimestamp,stop:r.stopTimestamp,videoId:r.video.uuid},replaceUrl:!0})):e.noPlaylistVideos=!0}))}},{key:"updatePlaylistIndex",value:function(t){if(0!==this.playlistElements.length&&t){var e,n=_createForOfIteratorHelper(this.playlistElements);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.video&&i.video.id===t.id)return void(this.currentPlaylistPosition=i.position)}}catch(o){n.e(o)}finally{n.f()}this.onPlaylistVideosNearOfBottom()}}},{key:"findNextPlaylistVideo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPlaylistPosition;if(this.currentPlaylistPosition>=this.playlistPagination.totalItems){if(!this.loopPlaylist)return;this.currentPlaylistPosition=t=0}var e=this.playlistElements.find((function(e){return e.position===t}));return e&&e.video?e:this.findNextPlaylistVideo(t+1)}},{key:"navigateToNextPlaylistVideo",value:function(){var t=this.findNextPlaylistVideo(this.currentPlaylistPosition+1);t&&this.router.navigate([],{queryParams:{videoId:t.video.uuid,start:t.startTimestamp,stop:t.stopTimestamp}})}},{key:"switchAutoPlayNextVideoPlaylist",value:function(){var e=this;this.autoPlayNextVideoPlaylist=!this.autoPlayNextVideoPlaylist,this.setAutoPlayNextVideoPlaylistSwitchText(),_.a.setItem(t.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.autoPlayNextVideoPlaylist.toString()),this.auth.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideoPlaylist:this.autoPlayNextVideoPlaylist}).subscribe((function(){e.auth.refreshUserInformation()}),(function(t){return e.notifier.error(t.message)}))}},{key:"switchLoopPlaylist",value:function(){this.loopPlaylist=!this.loopPlaylist,this.setLoopPlaylistSwitchText(),_.b.setItem(t.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.loopPlaylist.toString())}},{key:"setAutoPlayNextVideoPlaylistSwitchText",value:function(){this.autoPlayNextVideoPlaylistSwitchText=this.i18n(this.autoPlayNextVideoPlaylist?"Stop autoplaying next video":"Autoplay next video")}},{key:"setLoopPlaylistSwitchText",value:function(){this.loopPlaylistSwitchText=this.i18n(this.loopPlaylist?"Stop looping playlist videos":"Loop playlist videos")}}]),t}()).LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="auto_play_video_playlist",$e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="loop_playlist",$e.\u0275fac=function(t){return new(t||$e)(v.Xb(r.j),v.Xb(R.a),v.Xb(R.f),v.Xb(Fe.a),v.Xb(Ve.a),v.Xb(ze.a),v.Xb(ze.b),v.Xb(m.h))},$e.\u0275cmp=v.Rb({type:$e,selectors:[["my-video-watch-playlist"]],inputs:{video:"video",playlist:"playlist"},decls:1,vars:1,consts:[["class","playlist","myInfiniteScroller","",3,"autoInit","onItself","nearOfBottom",4,"ngIf"],["myInfiniteScroller","",1,"playlist",3,"autoInit","onItself","nearOfBottom"],[1,"playlist-info"],[1,"playlist-display-name"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[1,"playlist-by-index"],[1,"playlist-by"],[1,"playlist-index"],[1,"playlist-controls"],["iconName","videos","placement","bottom auto","container","body",3,"ngbTooltip","click"],["iconName","repeat","placement","bottom auto","container","body",3,"ngbTooltip","click"],[4,"ngFor","ngForOf"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-info"],[3,"playlistElement","playlist","owned","playing","accountLink","position","touchScreenEditButton","elementRemoved"]],template:function(t,e){1&t&&v.ad(0,Ye,19,16,"div",0),2&t&&v.Dc("ngIf",e.playlist&&e.video)},directives:[F.u,He.a,P.a,O.y,F.t,Ue.a],styles:['.playlist[_ngcontent-%COMP%]{min-width:200px;max-width:470px;height:66vh;background-color:var(--mainBackgroundColor);overflow-y:auto;border-bottom:1px solid rgba(0,0,0,.1)}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]{padding:5px 30px;background-color:#e4e4e4}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]{color:var(--greyForegroundColor);display:flex}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-right:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:after{content:"/";margin:0 3px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]{display:flex;margin:10px 0}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(.active){opacity:.5}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]    {cursor:pointer}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-right:0}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .video-info .video-info-name{font-size:15px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .fake-thumbnail, .playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     my-video-thumbnail   .video-thumbnail{width:90px;height:50px}']}),$e),tn=n("ihI+"),en=n("fgyJ"),nn=n("MEIN"),on=n("dvLV"),rn=n("2e92"),an=((Xe=function(){function t(){_classCallCheck(this,t),this.timestampClicked=new v.n}return _createClass(t,[{key:"onClick",value:function(t){var e=t.target;if(!0===e.hasAttribute("href")){var n=document.createElement("a");if(n.href=e.getAttribute("href"),n.host===window.location.host){var i=new URLSearchParams(n.search);if(!0===i.has("start")){var o=i.get("start").match(new RegExp("(\\d{1,9}["+["h","m","s"].join("")+"])","g")).map((function(t){return t.includes("h")?3600*parseInt(t,10):t.includes("m")?60*parseInt(t,10):parseInt(t,10)})).reduce((function(t,e){return t+e}));this.timestampClicked.emit(o),t.preventDefault()}}}}}]),t}()).\u0275fac=function(t){return new(t||Xe)},Xe.\u0275dir=v.Sb({type:Xe,selectors:[["","timestampRouteTransformer",""]],hostBindings:function(t,e){1&t&&v.sc("click",(function(t){return e.onClick(t)}))},outputs:{timestampClicked:"timestampClicked"}}),Xe),sn=n("XNiG"),cn=n("Rtfg"),ln=n("6dmf"),un=(n("OwH3"),n("MGin")),dn=(n("aaN0"),n("3szM")),hn=n("JtBY"),pn=n("rCE/"),fn=["visitorModal"],vn=["textarea"],gn=["placeholder","A\xF1adir comentario..."];function mn(t,e){if(1&t&&(v.dc(0,"div",11),v.cd(1),v.cc()),2&t){var n=v.wc();v.Jb(1),v.ed(" ",n.formErrors.text," ")}}function yn(t,e){if(1&t){var n=v.ec();v.dc(0,"button",12),v.sc("click",(function(){return v.Rc(n),v.wc().cancelCommentReply()})),v.hc(1,Ge),v.cc()}}Ge="\n      Cancelar\n    ",Qe="Respuesta";var bn,_n,Cn,On=function(t){return{disabled:t}};function Pn(t,e){if(1&t&&(v.dc(0,"button",13),v.hc(1,Qe),v.cc()),2&t){var n=v.wc();v.Dc("ngClass",v.Hc(1,On,!n.form.valid||n.addingComment))}}bn="Est\xE1 a un paso de poder comentar",_n="Puede comentar utilizando una cuenta en cualquier instancia compatible con ActivityPub. En la mayor\xEDa de las plataformas, puede encontrar el video escribiendo su URL en la barra de b\xFAsqueda y luego comentarlo desde la interfaz del software.",Cn="\n      Si tiene una cuenta en Mastodon o Pleroma, puede abrirlo directamente en su interfaz:\n    ";var Tn=["value","cancelar"],kn=["value","Inicia sesi\xF3n para comentar"];function wn(t,e){if(1&t){var n=v.ec();v.dc(0,"div",14),v.dc(1,"h4",15),v.hc(2,bn),v.cc(),v.dc(3,"my-global-icon",16),v.sc("click",(function(){return v.Rc(n),v.wc().hideVisitorModal()})),v.cc(),v.cc(),v.dc(4,"div",17),v.dc(5,"span"),v.hc(6,_n),v.cc(),v.dc(7,"span"),v.hc(8,Cn),v.cc(),v.Yb(9,"my-remote-subscribe",18),v.cc(),v.dc(10,"div",19),v.dc(11,"input",20),v.jc(12,Tn),v.sc("click",(function(){return v.Rc(n),v.wc().hideVisitorModal()}))("key.enter",(function(){return v.Rc(n),v.wc().hideVisitorModal()})),v.cc(),v.dc(13,"input",21),v.jc(14,kn),v.sc("click",(function(){return v.Rc(n),v.wc().gotoLogin()})),v.cc(),v.cc()}if(2&t){var i=v.wc();v.Jb(9),v.Dc("interact",!0)("uri",i.getUri())}}var Mn,xn=function(t){return{"input-error":t}},En=((Mn=function(t){_inherits2(n,t);var e=_createSuper(n);function n(t,i,o,r,a,s){var c;return _classCallCheck(this,n),(c=e.call(this)).formValidatorService=t,c.videoCommentValidatorsService=i,c.notifier=o,c.videoCommentService=r,c.modalService=a,c.router=s,c.focusOnInit=!1,c.commentCreated=new v.n,c.cancel=new v.n,c.addingComment=!1,c}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;if(this.buildForm({text:this.videoCommentValidatorsService.VIDEO_COMMENT_TEXT}),this.user&&(!0===this.focusOnInit&&this.textareaElement.nativeElement.focus(),this.parentComment)){var e=this.parentComments.filter((function(e){return e.account&&e.account.id!==t.user.account.id})).map((function(t){return"@"+t.by})),n=new Set(e),i=Array.from(n).join(" ")+" ";this.form.patchValue({text:i})}}},{key:"onValidKey",value:function(){this.check(),this.form.valid&&this.formValidated()}},{key:"openVisitorModal",value:function(t){null===this.user&&(t.srcElement.blur(),t.preventDefault(),this.modalService.open(this.visitorModal))}},{key:"hideVisitorModal",value:function(){this.modalService.dismissAll()}},{key:"formValidated",value:function(){var t=this;if(!this.addingComment){this.addingComment=!0;var e=this.form.value;(this.parentComment?this.addCommentReply(e):this.addCommentThread(e)).subscribe((function(e){t.addingComment=!1,t.commentCreated.emit(e),t.form.reset()}),(function(e){t.addingComment=!1,t.notifier.error(e.text)}))}}},{key:"isAddButtonDisplayed",value:function(){return this.form.value.text}},{key:"getUri",value:function(){return window.location.href}},{key:"getAvatarUrl",value:function(){return this.user?this.user.accountAvatarUrl:window.location.origin+"/client/assets/images/default-avatar.png"}},{key:"gotoLogin",value:function(){this.hideVisitorModal(),this.router.navigate(["/login"])}},{key:"cancelCommentReply",value:function(){this.cancel.emit(null),this.form.value.text=this.textareaElement.nativeElement.value=""}},{key:"addCommentReply",value:function(t){return this.videoCommentService.addCommentReply(this.video.id,this.parentComment.id,t)}},{key:"addCommentThread",value:function(t){return this.videoCommentService.addCommentThread(this.video.id,t)}}]),n}(r.b)).\u0275fac=function(t){return new(t||Mn)(v.Xb(dn.a),v.Xb(hn.a),v.Xb(R.f),v.Xb(g),v.Xb(O.k),v.Xb(m.h))},Mn.\u0275cmp=v.Rb({type:Mn,selectors:[["my-video-comment-add"]],viewQuery:function(t,e){var n;1&t&&(v.Xc(fn,!0),v.Xc(vn,!0)),2&t&&(v.Oc(n=v.tc())&&(e.visitorModal=n.first),v.Oc(n=v.tc())&&(e.textareaElement=n.first))},inputs:{user:"user",video:"video",parentComment:"parentComment",parentComments:"parentComments",focusOnInit:"focusOnInit"},outputs:{commentCreated:"commentCreated",cancel:"cancel"},features:[v.Gb],decls:14,vars:9,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"avatar-and-textarea"],["alt","Avatar",3,"src"],[1,"form-group"],["myAutoResize","","formControlName","text",3,"readonly","ngClass","click","keyup.control.enter","keyup.meta.enter",6,"placeholder"],["textarea",""],["class","form-error",4,"ngIf"],[1,"comment-buttons"],["class","cancel-button","type","button",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],["visitorModal",""],[1,"form-error"],["type","button",1,"cancel-button",3,"click"],[3,"ngClass"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[3,"interact","uri"],[1,"modal-footer","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"click",6,"value"]],template:function(t,e){1&t&&(v.dc(0,"form",0),v.sc("ngSubmit",(function(){return e.formValidated()})),v.dc(1,"div",1),v.Yb(2,"img",2),v.dc(3,"div",3),v.dc(4,"textarea",4,5),v.jc(6,gn),v.sc("click",(function(t){return e.openVisitorModal(t)}))("keyup.control.enter",(function(){return e.onValidKey()}))("keyup.meta.enter",(function(){return e.onValidKey()})),v.cd(7,"\n      "),v.cc(),v.ad(8,mn,2,1,"div",6),v.cc(),v.cc(),v.dc(9,"div",7),v.ad(10,yn,2,0,"button",8),v.ad(11,Pn,2,3,"button",9),v.cc(),v.cc(),v.ad(12,wn,15,2,"ng-template",null,10,v.bd)),2&t&&(v.Dc("formGroup",e.form),v.Jb(2),v.Dc("src",e.getAvatarUrl(),v.Tc),v.Jb(2),v.Dc("readonly",null===e.user)("ngClass",v.Hc(7,xn,e.formErrors.text)),v.Jb(4),v.Dc("ngIf",e.formErrors.text),v.Jb(2),v.Dc("ngIf",e.isAddButtonDisplayed()),v.Jb(1),v.Dc("ngIf",e.isAddButtonDisplayed()))},directives:[U.J,U.u,U.m,pn.h,U.d,U.t,U.k,F.r,F.u,P.a,rn.a],styles:['form[_ngcontent-%COMP%]{margin-bottom:30px}.avatar-and-textarea[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.avatar-and-textarea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px;vertical-align:top;margin-right:10px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex-grow:1;margin:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:100%){.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.comment-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.focus-visible, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{color:#fff;background-color:var(--mainColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{color:#fff;background-color:var(--mainHoverColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.disabled, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child[disabled]{cursor:default;color:#fff;background-color:#c6c6c6}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:transparent;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button.focus-visible[_ngcontent-%COMP%], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.comment-buttons[_ngcontent-%COMP%]   .cancel-button.disabled[_ngcontent-%COMP%], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[disabled][_ngcontent-%COMP%]{cursor:default}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:transparent}@media screen and (max-width:600px){.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:14px!important}textarea[_ngcontent-%COMP%]{padding:5px!important}}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.modal-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;margin-bottom:20px}']}),Mn),Sn=n("MpoC"),jn=n("l/z6"),In=n("joIj"),An=n("lKr9"),Ln=n("WMbD");function Rn(t,e){if(1&t){var n=v.ec();v.dc(0,"a",10),v.dc(1,"img",11),v.sc("error",(function(t){return v.Rc(n),v.wc().switchToDefaultAvatar(t)})),v.cc(),v.cc()}if(2&t){var i=v.wc();v.Dc("href",i.comment.account.url,v.Tc),v.Jb(1),v.Dc("src",i.comment.accountAvatarUrl,v.Tc)}}function Dn(t,e){1&t&&v.Yb(0,"span",12)}var Nn,Bn,Vn,zn=["label","Opciones"];function Fn(t,e){1&t&&(v.dc(0,"div",24),v.hc(1,Nn),v.cc())}function Hn(t,e){if(1&t){var n=v.ec();v.dc(0,"div",25),v.sc("click",(function(){return v.Rc(n),v.wc(2).onWantToReply()})),v.hc(1,Bn),v.cc()}}function Un(t,e){if(1&t){var n=v.ec();v.dc(0,"div",26),v.sc("click",(function(){return v.Rc(n),v.wc(2).onWantToDelete()})),v.hc(1,Vn),v.cc()}}Nn="Comentario resaltado",Bn="Responder",Vn="Eliminar";var Jn,qn,Kn=function(t){return["/accounts",t]},Wn=function(t){return{"video-author":t}},Yn=function(t){return{threadId:t}},$n=function(t,e){return["/videos/watch",t,e]};function Xn(t,e){if(1&t){var n=v.ec();v.bc(0),v.ad(1,Fn,2,0,"div",13),v.dc(2,"div",14),v.dc(3,"div",15),v.dc(4,"a",16),v.cd(5),v.cc(),v.dc(6,"a",17),v.cd(7),v.cc(),v.cc(),v.dc(8,"a",18),v.cd(9),v.xc(10,"myFromNow"),v.cc(),v.cc(),v.dc(11,"div",19),v.sc("timestampClicked",(function(t){return v.Rc(n),v.wc().handleTimestampClicked(t)})),v.cc(),v.dc(12,"div",20),v.ad(13,Hn,2,0,"div",21),v.ad(14,Un,2,0,"div",22),v.dc(15,"my-user-moderation-dropdown",23),v.jc(16,zn),v.cc(),v.cc(),v.ac()}if(2&t){var i=v.wc();v.Jb(1),v.Dc("ngIf",!0===i.highlightedComment),v.Jb(3),v.Dc("routerLink",v.Hc(16,Kn,i.comment.by))("ngClass",v.Hc(18,Wn,i.video.account.id===i.comment.account.id)),v.Jb(1),v.ed(" ",i.comment.account.displayName," "),v.Jb(1),v.Dc("href",i.comment.account.url,v.Tc),v.Jb(1),v.dd(i.comment.by),v.Jb(1),v.Dc("routerLink",v.Ic(22,$n,i.video.uuid,v.Hc(20,Yn,i.comment.threadId)))("title",i.comment.createdAt),v.Jb(1),v.dd(v.yc(10,14,i.comment.createdAt)),v.Jb(2),v.Dc("innerHTML",i.sanitizedCommentHTML,v.Sc),v.Jb(2),v.Dc("ngIf",i.isUserLoggedIn()),v.Jb(1),v.Dc("ngIf",i.isRemovableByUser()),v.Jb(1),v.Dc("account",i.commentAccount)("user",i.commentUser)}}function Gn(t,e){1&t&&(v.dc(0,"div",29),v.dc(1,"i"),v.hc(2,qn),v.cc(),v.cc())}function Qn(t,e){if(1&t&&(v.bc(0),v.dc(1,"div",14),v.dc(2,"span",15),v.hc(3,Jn),v.cc(),v.dc(4,"a",27),v.cd(5),v.xc(6,"myFromNow"),v.cc(),v.cc(),v.ad(7,Gn,3,0,"div",28),v.ac()),2&t){var n=v.wc();v.Jb(4),v.Dc("routerLink",v.Ic(7,$n,n.video.uuid,v.Hc(5,Yn,n.comment.threadId))),v.Jb(1),v.dd(v.yc(6,3,n.comment.createdAt)),v.Jb(2),v.Dc("ngIf",n.comment.isDeleted)}}function Zn(t,e){if(1&t){var n=v.ec();v.dc(0,"my-video-comment-add",30),v.sc("commentCreated",(function(t){return v.Rc(n),v.wc().onCommentReplyCreated(t)}))("cancel",(function(){return v.Rc(n),v.wc().onResetReply()})),v.cc()}if(2&t){var i=v.wc();v.Dc("user",i.user)("video",i.video)("parentComment",i.comment)("parentComments",i.newParentComments)("focusOnInit",!0)}}function ti(t,e){if(1&t){var n=v.ec();v.dc(0,"div"),v.dc(1,"my-video-comment",33),v.sc("wantedToReply",(function(t){return v.Rc(n),v.wc(2).onWantToReply(t)}))("wantedToDelete",(function(t){return v.Rc(n),v.wc(2).onWantToDelete(t)}))("resetReply",(function(){return v.Rc(n),v.wc(2).onResetReply()}))("timestampClicked",(function(t){return v.Rc(n),v.wc(2).handleTimestampClicked(t)})),v.cc(),v.cc()}if(2&t){var i=e.$implicit,o=v.wc(2);v.Jb(1),v.Dc("comment",i.comment)("video",o.video)("inReplyToCommentId",o.inReplyToCommentId)("commentTree",i)("parentComments",o.newParentComments)}}function ei(t,e){if(1&t&&(v.dc(0,"div",31),v.ad(1,ti,2,5,"div",32),v.cc()),2&t){var n=v.wc();v.Jb(1),v.Dc("ngForOf",n.commentTree.children)}}Jn="Borrado",qn="Este comentario ha sido eliminado";var ni,ii,oi,ri,ai,si,ci,li,ui,di,hi,pi,fi=function(t){return{"mb-3":t}},vi=["*"],gi=((ni=function(){function t(e,n,i,o,r){_classCallCheck(this,t),this.markdownService=e,this.authService=n,this.accountService=i,this.userService=o,this.notifier=r,this.parentComments=[],this.highlightedComment=!1,this.firstInThread=!1,this.wantedToDelete=new v.n,this.wantedToReply=new v.n,this.threadCreated=new v.n,this.resetReply=new v.n,this.timestampClicked=new v.n,this.sanitizedCommentHTML="",this.newParentComments=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"ngOnChanges",value:function(){this.init()}},{key:"onCommentReplyCreated",value:function(t){this.commentTree||(this.commentTree={comment:this.comment,children:[]},this.threadCreated.emit(this.commentTree)),this.commentTree.children.unshift({comment:t,children:[]}),this.resetReply.emit()}},{key:"onWantToReply",value:function(t){this.wantedToReply.emit(t||this.comment)}},{key:"onWantToDelete",value:function(t){this.wantedToDelete.emit(t||this.comment)}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onResetReply",value:function(){this.resetReply.emit()}},{key:"handleTimestampClicked",value:function(t){this.timestampClicked.emit(t)}},{key:"isRemovableByUser",value:function(){return this.comment.account&&this.isUserLoggedIn()&&(this.user.account.id===this.comment.account.id||this.user.account.id===this.video.account.id||this.user.hasRight(Sn.d.REMOVE_ANY_VIDEO_COMMENT))}},{key:"switchToDefaultAvatar",value:function(t){t.target.src=p.a.GET_DEFAULT_AVATAR_URL()}},{key:"getUserIfNeeded",value:function(t){var e=this;t.userId&&this.authService.isLoggedIn()&&this.authService.getUser().hasRight(Sn.d.MANAGE_USERS)&&this.userService.getUserWithCache(t.userId).subscribe((function(t){return e.commentUser=t}),(function(t){return e.notifier.error(t.message)}))}},{key:"init",value:function(){return t=this,n=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.markdownService.textMarkdownToHTML(this.comment.text,!0);case 2:return e=t.sent,t.next=5,this.markdownService.processVideoTimestamps(e);case 5:this.sanitizedCommentHTML=t.sent,this.newParentComments=this.parentComments.concat([this.comment]),this.comment.account?(this.commentAccount=new In.a(this.comment.account),this.getUserIfNeeded(this.commentAccount)):this.comment.account=null;case 8:case"end":return t.stop()}}),t,this)})),new((e=void 0)||(e=Promise))((function(i,o){function r(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,a)}s((n=n.apply(t,[])).next())}));var t,e,n}},{key:"user",get:function(){return this.authService.getUser()}}]),t}()).\u0275fac=function(t){return new(t||ni)(v.Xb(C.c),v.Xb(cn.a),v.Xb(jn.a),v.Xb(r.j),v.Xb(R.f))},ni.\u0275cmp=v.Rb({type:ni,selectors:[["my-video-comment"]],inputs:{video:"video",comment:"comment",parentComments:"parentComments",commentTree:"commentTree",inReplyToCommentId:"inReplyToCommentId",highlightedComment:"highlightedComment",firstInThread:"firstInThread"},outputs:{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"},features:[v.Hb],ngContentSelectors:vi,decls:12,vars:9,consts:[[1,"root-comment"],[1,"left"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],[1,"vertical-border"],[1,"right",3,"ngClass"],["class","comment-avatar",4,"ngIf"],[1,"comment"],[4,"ngIf"],[3,"user","video","parentComment","parentComments","focusOnInit","commentCreated","cancel",4,"ngIf"],["class","children",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["alt","Avatar",1,"comment-avatar",3,"src","error"],[1,"comment-avatar"],["class","highlighted-comment",4,"ngIf"],[1,"comment-account-date"],[1,"comment-account"],[1,"comment-account-name",3,"routerLink","ngClass"],["target","_blank","rel","noopener noreferrer",1,"comment-account-fid","ml-1",3,"href"],[1,"comment-date",3,"routerLink","title"],["timestampRouteTransformer","",1,"comment-html",3,"innerHTML","timestampClicked"],[1,"comment-actions"],["class","comment-action-reply",3,"click",4,"ngIf"],["class","comment-action-delete",3,"click",4,"ngIf"],["buttonSize","small","placement","bottom-left auto",3,"account","user",6,"label"],[1,"highlighted-comment"],[1,"comment-action-reply",3,"click"],[1,"comment-action-delete",3,"click"],[1,"comment-date",3,"routerLink"],["class","comment-html comment-html-deleted",4,"ngIf"],[1,"comment-html","comment-html-deleted"],[3,"user","video","parentComment","parentComments","focusOnInit","commentCreated","cancel"],[1,"children"],[4,"ngFor","ngForOf"],[3,"comment","video","inReplyToCommentId","commentTree","parentComments","wantedToReply","wantedToDelete","resetReply","timestampClicked"]],template:function(t,e){1&t&&(v.Cc(),v.dc(0,"div",0),v.dc(1,"div",1),v.ad(2,Rn,2,2,"a",2),v.Yb(3,"div",3),v.cc(),v.dc(4,"div",4),v.ad(5,Dn,1,0,"span",5),v.dc(6,"div",6),v.ad(7,Xn,17,25,"ng-container",7),v.ad(8,Qn,8,10,"ng-container",7),v.ad(9,Zn,1,5,"my-video-comment-add",8),v.ad(10,ei,2,1,"div",9),v.Bc(11),v.cc(),v.cc(),v.cc()),2&t&&(v.Jb(2),v.Dc("ngIf",!e.comment.isDeleted),v.Jb(2),v.Dc("ngClass",v.Hc(7,fi,e.firstInThread)),v.Jb(1),v.Dc("ngIf",e.comment.isDeleted),v.Jb(2),v.Dc("ngIf",!e.comment.isDeleted),v.Jb(1),v.Dc("ngIf",e.comment.isDeleted),v.Jb(1),v.Dc("ngIf",!e.comment.isDeleted&&e.isUserLoggedIn()&&e.inReplyToCommentId===e.comment.id),v.Jb(1),v.Dc("ngIf",e.commentTree))},directives:[F.u,F.r,m.k,an,An.a,En,F.t,ni],pipes:[Ln.a],styles:[".root-comment[_ngcontent-%COMP%]{font-size:15px;display:flex}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{width:2px;height:100%;background-color:rgba(0,0,0,.05);margin:10px calc(1rem + 1px)}.root-comment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.root-comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:36px;height:36px;min-width:36px;min-height:36px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{flex-grow:1;min-width:1px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .highlighted-comment[_ngcontent-%COMP%]{display:inline-block;background-color:#f5f5f5;color:#3d3d3d;padding:0 5px;font-size:13px;margin-bottom:5px;font-weight:600;border-radius:3px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{display:flex;margin-bottom:4px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .video-author[_ngcontent-%COMP%]{height:20px;background-color:#888;border-radius:12px;margin-bottom:2px;max-width:100%;box-sizing:border-box;flex-direction:row;align-items:center;display:inline-flex;padding-right:6px;padding-left:6px;color:#fff!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]{word-break:break-all;font-weight:600;font-size:90%}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   .comment-account-fid[_ngcontent-%COMP%]{opacity:.6}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{font-size:90%;color:var(--greyForegroundColor);margin-left:5px;text-decoration:none}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url){color:var(--mainForegroundColor);font-weight:600}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):hover{text-decoration:none!important;outline:none!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     p{margin-bottom:.3rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html.comment-html-deleted[_ngcontent-%COMP%]{color:var(--greyForegroundColor);margin-bottom:1rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{margin-bottom:10px;display:flex}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle{color:var(--greyForegroundColor);cursor:pointer;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:hover{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .action-button{background-color:transparent;padding:0;font-weight:unset}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   my-video-comment-add[_ngcontent-%COMP%]     form{margin-top:1rem;margin-bottom:0}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:6px}@media screen and (max-width:1200px){.children[_ngcontent-%COMP%]{margin-left:-10px}}@media screen and (max-width:600px){.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:-20px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-items:flex-start}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-left:2px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{flex-direction:column}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-left:0}}"]}),ni),mi=n("1JpH"),yi=["commentHighlightBlock"];function bi(t,e){1&t&&v.Zb(0)}function _i(t,e){1&t&&(v.bc(0),v.hc(1,ai),v.ac())}function Ci(t,e){if(1&t&&v.hc(0,si),2&t){var n=v.wc(2);v.lc(n.componentPagination.totalItems),v.ic(0)}}function Oi(t,e){if(1&t&&(v.ad(0,_i,2,0,"ng-container",12),v.ad(1,Ci,1,1,"ng-template",null,13,v.bd)),2&t){var n=v.Pc(2),i=v.wc();v.Dc("ngIf",1===i.componentPagination.totalItems)("ngIfElse",n)}}function Pi(t,e){1&t&&v.hc(0,ci)}function Ti(t,e){1&t&&(v.dc(0,"div"),v.hc(1,li),v.cc())}function ki(t,e){if(1&t){var n=v.ec();v.dc(0,"my-video-comment",20),v.sc("wantedToReply",(function(t){return v.Rc(n),v.wc(2).onWantedToReply(t)}))("wantedToDelete",(function(t){return v.Rc(n),v.wc(2).onWantedToDelete(t)}))("threadCreated",(function(t){return v.Rc(n),v.wc(2).onThreadCreated(t)}))("resetReply",(function(){return v.Rc(n),v.wc(2).onResetReply()}))("timestampClicked",(function(t){return v.Rc(n),v.wc(2).handleTimestampClicked(t)})),v.cc()}if(2&t){var i=v.wc(2);v.Dc("comment",i.highlightedThread)("video",i.video)("inReplyToCommentId",i.inReplyToCommentId)("commentTree",i.threadComments[i.highlightedThread.id])("highlightedComment",!0)("firstInThread",!0)}}function wi(t,e){1&t&&v.Zb(0)}function Mi(t,e){if(1&t&&(v.bc(0),v.hc(1,ui),v.ac()),2&t){var n=v.wc(4).$implicit,i=v.wc(2);v.Jb(1),v.lc(n.totalReplies)((null==i.video||null==i.video.account?null:i.video.account.displayName)||"the author"),v.ic(1)}}function xi(t,e){if(1&t&&v.hc(0,di),2&t){var n=v.wc(4).$implicit,i=v.wc(2);v.lc(n.totalReplies)((null==i.video||null==i.video.account?null:i.video.account.displayName)||"the author"),v.ic(0)}}function Ei(t,e){if(1&t&&(v.ad(0,Mi,2,2,"ng-container",12),v.ad(1,xi,1,2,"ng-template",null,29,v.bd)),2&t){var n=v.Pc(2),i=v.wc(3).$implicit;v.Dc("ngIf",i.totalReplies!==i.totalRepliesFromVideoAuthor)("ngIfElse",n)}}function Si(t,e){if(1&t&&v.hc(0,hi),2&t){var n=v.wc(3).$implicit;v.lc(n.totalReplies),v.ic(0)}}function ji(t,e){if(1&t){var n=v.ec();v.dc(0,"div",24),v.sc("click",(function(){v.Rc(n);var t=v.wc(2).$implicit;return v.wc(2).viewReplies(t.id)})),v.Yb(1,"span",25),v.ad(2,wi,1,0,"ng-container",2),v.ad(3,Ei,3,2,"ng-template",null,26,v.bd),v.ad(5,Si,1,1,"ng-template",null,27,v.bd),v.Yb(7,"my-small-loader",28),v.cc()}if(2&t){var i=v.Pc(4),o=v.Pc(6),r=v.wc(2).$implicit,a=v.wc(2);v.Jb(2),v.Dc("ngIf",r.totalRepliesFromVideoAuthor>0)("ngIfThen",i)("ngIfElse",o),v.Jb(5),v.Dc("loading",a.threadLoading[r.id])}}function Ii(t,e){if(1&t){var n=v.ec();v.dc(0,"my-video-comment",22),v.sc("wantedToReply",(function(t){return v.Rc(n),v.wc(3).onWantedToReply(t)}))("wantedToDelete",(function(t){return v.Rc(n),v.wc(3).onWantedToDelete(t)}))("threadCreated",(function(t){return v.Rc(n),v.wc(3).onThreadCreated(t)}))("resetReply",(function(){return v.Rc(n),v.wc(3).onResetReply()}))("timestampClicked",(function(t){return v.Rc(n),v.wc(3).handleTimestampClicked(t)})),v.ad(1,ji,8,4,"div",23),v.cc()}if(2&t){var i=v.wc(),o=i.$implicit,r=i.index,a=v.wc(2);v.Dc("comment",o)("video",a.video)("inReplyToCommentId",a.inReplyToCommentId)("commentTree",a.threadComments[o.id])("firstInThread",r+1!==a.comments.length),v.Jb(1),v.Dc("ngIf",0!==o.totalReplies&&!a.threadComments[o.id])}}function Ai(t,e){if(1&t&&(v.dc(0,"div"),v.ad(1,Ii,2,6,"my-video-comment",21),v.cc()),2&t){var n=e.$implicit,i=v.wc(2);v.Jb(1),v.Dc("ngIf",!i.highlightedThread||n.id!==i.highlightedThread.id)}}function Li(t,e){if(1&t){var n=v.ec();v.dc(0,"my-video-comment-add",14),v.sc("commentCreated",(function(t){return v.Rc(n),v.wc().onCommentThreadCreated(t)})),v.cc(),v.ad(1,Ti,2,0,"div",11),v.dc(2,"div",15),v.sc("nearOfBottom",(function(){return v.Rc(n),v.wc().onNearOfBottom()})),v.dc(3,"div"),v.Yb(4,"div",16,17),v.ad(6,ki,1,6,"my-video-comment",18),v.cc(),v.ad(7,Ai,2,1,"div",19),v.cc()}if(2&t){var i=v.wc();v.Dc("video",i.video)("user",i.user),v.Jb(1),v.Dc("ngIf",0===i.componentPagination.totalItems&&0===i.comments.length),v.Jb(1),v.Dc("autoInit",!0)("dataObservable",i.onDataSubject.asObservable()),v.Jb(4),v.Dc("ngIf",i.highlightedThread),v.Jb(1),v.Dc("ngForOf",i.comments)}}function Ri(t,e){1&t&&(v.dc(0,"div"),v.hc(1,pi),v.cc())}ii="ORDENAR POR",oi="M\xE1s reciente primero (predeterminado)",ri="Mayor\xEDa de las respuestas primero",ai="1 Comentario",si="" + "\ufffd0\ufffd" + " Comentarios",ci="Comentarios",li="Sin comentarios.",ui="Ver" + "\ufffd0\ufffd" + "respuestas" + "\ufffd1\ufffd" + " y otros ",di="Ver" + "\ufffd0\ufffd" + " respuestas de " + "\ufffd1\ufffd" + " ",hi="Ver" + "\ufffd0\ufffd" + " respuestas",pi="\n    Los comentarios est\xE1n inhabilitados.\n  ";var Di,Ni,Bi,Vi,zi,Fi=((Di=function(){function t(e,n,i,o,r,a,s){_classCallCheck(this,t),this.authService=e,this.notifier=n,this.confirmService=i,this.videoCommentService=o,this.activatedRoute=r,this.i18n=a,this.hooks=s,this.timestampClicked=new v.n,this.comments=[],this.sort="-createdAt",this.componentPagination={currentPage:1,itemsPerPage:10,totalItems:null},this.threadComments={},this.threadLoading={},this.syndicationItems=[],this.onDataSubject=new sn.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.sub=this.activatedRoute.params.subscribe((function(e){e.threadId&&t.processHighlightedThread(+e.threadId)}))}},{key:"ngOnChanges",value:function(t){t.video&&this.resetVideo()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"viewReplies",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.threadLoading[t]=!0;var i={videoId:this.video.id,threadId:t};this.hooks.wrapObsFun(this.videoCommentService.getVideoThreadComments.bind(this.videoCommentService),i,"video-watch","filter:api.video-watch.video-thread-replies.list.params","filter:api.video-watch.video-thread-replies.list.result").subscribe((function(i){e.threadComments[t]=i,e.threadLoading[t]=!1,e.hooks.runAction("action:video-watch.video-thread-replies.loaded","video-watch",{data:i}),n&&(e.highlightedThread=new f(i.comment),setTimeout((function(){return e.commentHighlightBlock.nativeElement.scrollIntoView()}),0))}),(function(t){return e.notifier.error(t.message)}))}},{key:"loadMoreThreads",value:function(){var t=this,e={videoId:this.video.id,componentPagination:this.componentPagination,sort:this.sort};this.hooks.wrapObsFun(this.videoCommentService.getVideoCommentThreads.bind(this.videoCommentService),e,"video-watch","filter:api.video-watch.video-threads.list.params","filter:api.video-watch.video-threads.list.result").subscribe((function(e){t.comments=t.comments.concat(e.data),t.componentPagination.totalItems=e.total,t.onDataSubject.next(e.data),t.hooks.runAction("action:video-watch.video-threads.loaded","video-watch",{data:t.componentPagination})}),(function(e){return t.notifier.error(e.message)}))}},{key:"onCommentThreadCreated",value:function(t){this.comments.unshift(t)}},{key:"onWantedToReply",value:function(t){this.inReplyToCommentId=t.id}},{key:"onResetReply",value:function(){this.inReplyToCommentId=void 0}},{key:"onThreadCreated",value:function(t){this.viewReplies(t.comment.id)}},{key:"handleSortChange",value:function(t){this.sort!==t&&(this.sort=t,this.resetVideo())}},{key:"handleTimestampClicked",value:function(t){this.timestampClicked.emit(t)}},{key:"onWantedToDelete",value:function(t){return e=this,i=regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Do you really want to delete this comment?",n+=this.i18n(t.isLocal||this.video.isLocal?" The deletion will be sent to remote instances so they can reflect the change.":" It is a remote comment, so the deletion will only be effective on your instance."),e.t0=!1,e.next=5,this.confirmService.confirm(n,this.i18n("Delete"));case 5:if(e.t1=e.sent,e.t2=e.t0!==e.t1,!e.t2){e.next=9;break}this.videoCommentService.deleteVideoComment(t.videoId,t.id).subscribe((function(){var e;(null===(e=i.highlightedThread)||void 0===e?void 0:e.id)===t.id&&(t=i.comments.find((function(e){return e.id===t.id})),i.highlightedThread=void 0),i.softDeleteComment(t)}),(function(t){return i.notifier.error(t.message)}));case 9:case"end":return e.stop()}}),e,this)})),new((n=void 0)||(n=Promise))((function(t,o){function r(t){try{s(i.next(t))}catch(e){o(e)}}function a(t){try{s(i.throw(t))}catch(e){o(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(r,a)}s((i=i.apply(e,[])).next())}));var e,n,i}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onNearOfBottom",value:function(){Object(ln.a)(this.componentPagination)&&(this.componentPagination.currentPage++,this.loadMoreThreads())}},{key:"softDeleteComment",value:function(t){t.isDeleted=!0,t.deletedAt=new Date,t.text="",t.account=null}},{key:"resetVideo",value:function(){!0===this.video.commentsEnabled&&(this.highlightedThread=null,this.comments=[],this.threadComments={},this.threadLoading={},this.inReplyToCommentId=void 0,this.componentPagination.currentPage=1,this.componentPagination.totalItems=null,this.syndicationItems=this.videoCommentService.getVideoCommentsFeeds(this.video.uuid),this.loadMoreThreads())}},{key:"processHighlightedThread",value:function(t){this.highlightedThread=this.comments.find((function(e){return e.id===t})),this.viewReplies(t,!0)}}]),t}()).\u0275fac=function(t){return new(t||Di)(v.Xb(cn.a),v.Xb(R.f),v.Xb(R.c),v.Xb(g),v.Xb(m.a),v.Xb(Fe.a),v.Xb(tn.a))},Di.\u0275cmp=v.Rb({type:Di,selectors:[["my-video-comments"]],viewQuery:function(t,e){var n;1&t&&v.gd(yi,!0),2&t&&v.Oc(n=v.tc())&&(e.commentHighlightBlock=n.first)},inputs:{video:"video",user:"user"},outputs:{timestampClicked:"timestampClicked"},features:[v.Hb],decls:19,vars:6,consts:[[1,"title-block"],[1,"title-page","title-page-single"],[4,"ngIf","ngIfThen","ngIfElse"],["hasComments",""],["noComments",""],[3,"syndicationItems"],["ngbDropdown","",1,"d-inline-block","ml-4"],["id","dropdown-sort-comments","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-secondary"],["ngbDropdownMenu","","aria-labelledby","dropdown-sort-comments"],["ngbDropdownItem","",3,"click"],[3,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["manyComments",""],[3,"video","user","commentCreated"],["myInfiniteScroller","",1,"comment-threads",3,"autoInit","dataObservable","nearOfBottom"],["id","highlighted-comment",1,"anchor"],["commentHighlightBlock",""],[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","wantedToReply","wantedToDelete","threadCreated","resetReply","timestampClicked",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","wantedToReply","wantedToDelete","threadCreated","resetReply","timestampClicked"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","wantedToReply","wantedToDelete","threadCreated","resetReply","timestampClicked",4,"ngIf"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","wantedToReply","wantedToDelete","threadCreated","resetReply","timestampClicked"],["class","view-replies mb-2",3,"click",4,"ngIf"],[1,"view-replies","mb-2",3,"click"],[1,"glyphicon","glyphicon-menu-down"],["hasAuthorComments",""],["noAuthorComments",""],[1,"comment-thread-loading","ml-1",3,"loading"],["onlyAuthorComments",""]],template:function(t,e){if(1&t&&(v.dc(0,"div"),v.dc(1,"div",0),v.dc(2,"div",1),v.ad(3,bi,1,0,"ng-container",2),v.ad(4,Oi,3,2,"ng-template",null,3,v.bd),v.ad(6,Pi,1,0,"ng-template",null,4,v.bd),v.cc(),v.Yb(8,"my-feed",5),v.dc(9,"div",6),v.dc(10,"button",7),v.hc(11,ii),v.cc(),v.dc(12,"div",8),v.dc(13,"button",9),v.sc("click",(function(){return e.handleSortChange("-createdAt")})),v.hc(14,oi),v.cc(),v.dc(15,"button",9),v.sc("click",(function(){return e.handleSortChange("-totalReplies")})),v.hc(16,ri),v.cc(),v.cc(),v.cc(),v.cc(),v.ad(17,Li,8,7,"ng-template",10),v.ad(18,Ri,2,0,"div",11),v.cc()),2&t){var n=v.Pc(5),i=v.Pc(7);v.Jb(3),v.Dc("ngIf",e.componentPagination.totalItems>0)("ngIfThen",n)("ngIfElse",i),v.Jb(5),v.Dc("syndicationItems",e.syndicationItems),v.Jb(9),v.Dc("ngIf",!0===e.video.commentsEnabled),v.Jb(1),v.Dc("ngIf",!1===e.video.commentsEnabled)}},directives:[F.u,un.a,O.e,O.j,O.h,O.g,En,He.a,F.t,gi,mi.a],styles:["#highlighted-comment[_ngcontent-%COMP%]{margin-bottom:25px}.view-replies[_ngcontent-%COMP%]{font-weight:600;font-size:15px;cursor:pointer}.comment-thread-loading[_ngcontent-%COMP%], .glyphicon[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;font-size:13px}.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-right:0}.title-block[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;opacity:0;transition:opacity .2s ease-in}.title-block[_ngcontent-%COMP%]:hover   my-feed[_ngcontent-%COMP%]{opacity:1}#dropdown-sort-comments[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;border:none;transform:translateY(-7%)}@media screen and (max-width:600px){.view-replies[_ngcontent-%COMP%]{margin-left:46px}}@media screen and (max-width:450px){.view-replies[_ngcontent-%COMP%]{font-size:14px}}"]}),Di),Hi=n("jtHE"),Ui=n("eIep"),Ji=n("LRne"),qi=n("to4i"),Ki=n("OVpf"),Wi=((Ni=function(){function t(e,n){_classCallCheck(this,t),this.videos=e,this.searchService=n,this.pageSize=5}return _createClass(t,[{key:"getRecommendations",value:function(t){var e=this;return this.fetchPage(1,t).pipe(Object(a.a)((function(n){return n.filter((function(e){return e.uuid!==t.uuid})).slice(0,e.pageSize)})))}},{key:"fetchPage",value:function(t,e){var n={currentPage:t,itemsPerPage:this.pageSize+1},i=this.videos.getVideos({videoPagination:n,sort:"-createdAt"}).pipe(Object(a.a)((function(t){return t.data})));if(!e.tags||0===e.tags.length)return i;var o={search:"",componentPagination:n,advancedSearch:new Ki.a({tagsOneOf:e.tags.join(","),sort:"-createdAt"})};return this.searchService.searchVideos(o).pipe(Object(a.a)((function(t){return t.data})),Object(Ui.a)((function(t){return t.length<=1?i:Object(Ji.a)(t)})))}}]),t}()).\u0275fac=function(t){return new(t||Ni)(v.oc(V.a),v.oc(qi.a))},Ni.\u0275prov=v.Tb({token:Ni,factory:Ni.\u0275fac}),Ni),Yi=n("IzEk"),$i=n("UXun"),Xi=((Bi=function(){function t(e){_classCallCheck(this,t),this.recommendations=e,this.requestsForLoad$$=new Hi.a(1),this.recommendations$=this.requestsForLoad$$.pipe(Object(Ui.a)((function(t){return e.getRecommendations(t).pipe(Object(Yi.a)(1))})),Object($i.a)()),this.hasRecommendations$=this.recommendations$.pipe(Object(a.a)((function(t){return t.length>0})))}return _createClass(t,[{key:"requestNewRecommendations",value:function(t){this.requestsForLoad$$.next(t)}}]),t}()).\u0275fac=function(t){return new(t||Bi)(v.oc(Wi))},Bi.\u0275prov=v.Tb({token:Bi,factory:Bi.\u0275fac}),Bi),Gi=n("vQJr"),Qi=n("rLzU"),Zi=n("4SI2");function to(t,e){if(1&t){var n=v.ec();v.dc(0,"div",6),v.dc(1,"span"),v.hc(2,zi),v.cc(),v.dc(3,"p-inputSwitch",7),v.sc("ngModelChange",(function(t){return v.Rc(n),v.wc(2).autoPlayNextVideo=t}))("ngModelChange",(function(){return v.Rc(n),v.wc(2).switchAutoPlayNextVideo()})),v.cc(),v.cc()}if(2&t){var i=v.wc(2);v.Dc("ngbTooltip",i.autoPlayNextVideoTooltip),v.Jb(3),v.Dc("ngModel",i.autoPlayNextVideo)}}function eo(t,e){1&t&&v.Yb(0,"hr")}function no(t,e){if(1&t){var n=v.ec();v.dc(0,"div"),v.dc(1,"my-video-miniature",8),v.sc("videoBlacklisted",(function(){return v.Rc(n),v.wc(2).onVideoRemoved()}))("videoRemoved",(function(){return v.Rc(n),v.wc(2).onVideoRemoved()})),v.cc(),v.ad(2,eo,1,0,"hr",1),v.cc()}if(2&t){var i=e.$implicit,o=e.index,r=e.count,a=v.wc(2);v.Jb(1),v.Dc("video",i)("user",a.user),v.Jb(1),v.Dc("ngIf",!a.playlist&&0==o&&r>1)}}function io(t,e){if(1&t&&(v.bc(0),v.dc(1,"div",2),v.dc(2,"div",3),v.hc(3,Vi),v.cc(),v.ad(4,to,4,2,"div",4),v.cc(),v.ad(5,no,3,3,"div",5),v.xc(6,"async"),v.ac()),2&t){var n=v.wc();v.Jb(4),v.Dc("ngIf",!n.playlist),v.Jb(1),v.Dc("ngForOf",v.yc(6,2,n.videos$))}}Vi="Otros videos",zi="AUTOPLAY";var oo,ro,ao,so,co,lo,uo,ho,po=((oo=function(){function t(e,n,i,o,a,s){var c=this;_classCallCheck(this,t),this.userService=e,this.authService=n,this.notifier=i,this.i18n=o,this.store=a,this.sessionStorageService=s,this.gotRecommendations=new v.n,this.videos$=this.store.recommendations$,this.hasVideos$=this.store.hasRecommendations$,this.videos$.subscribe((function(t){return c.gotRecommendations.emit(t)})),this.authService.isLoggedIn()?this.autoPlayNextVideo=this.authService.getUser().autoPlayNextVideo:(this.autoPlayNextVideo="true"===this.sessionStorageService.getItem(r.i.KEYS.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)||!1,this.sessionStorageService.watch([r.i.KEYS.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO]).subscribe((function(){return c.autoPlayNextVideo="true"===c.sessionStorageService.getItem(r.i.KEYS.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)}))),this.autoPlayNextVideoTooltip=this.i18n("When active, the next video is automatically played after the current one.")}return _createClass(t,[{key:"ngOnChanges",value:function(){this.inputRecommendation&&this.store.requestNewRecommendations(this.inputRecommendation)}},{key:"onVideoRemoved",value:function(){this.store.requestNewRecommendations(this.inputRecommendation)}},{key:"switchAutoPlayNextVideo",value:function(){var t=this;this.sessionStorageService.setItem(r.i.KEYS.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO,this.autoPlayNextVideo.toString()),this.authService.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideo:this.autoPlayNextVideo}).subscribe((function(){t.authService.refreshUserInformation()}),(function(e){return t.notifier.error(e.message)}))}}]),t}()).\u0275fac=function(t){return new(t||oo)(v.Xb(Gi.a),v.Xb(R.a),v.Xb(R.f),v.Xb(Fe.a),v.Xb(Xi),v.Xb(ze.b))},oo.\u0275cmp=v.Rb({type:oo,selectors:[["my-recommended-videos"]],inputs:{inputRecommendation:"inputRecommendation",user:"user",playlist:"playlist"},outputs:{gotRecommendations:"gotRecommendations"},features:[v.Hb],decls:3,vars:3,consts:[[1,"other-videos"],[4,"ngIf"],[1,"title-page-container"],[1,"title-page","title-page-single"],["class","title-page-autoplay","placement","bottom-right auto",3,"ngbTooltip",4,"ngIf"],[4,"ngFor","ngForOf"],["placement","bottom-right auto",1,"title-page-autoplay",3,"ngbTooltip"],[1,"small",3,"ngModel","ngModelChange"],[3,"video","user","videoBlacklisted","videoRemoved"]],template:function(t,e){1&t&&(v.dc(0,"div",0),v.ad(1,io,7,4,"ng-container",1),v.xc(2,"async"),v.cc()),2&t&&(v.Jb(1),v.Dc("ngIf",v.yc(2,1,e.hasVideos$)))},directives:[F.u,F.t,O.y,Qi.a,U.t,U.w,Zi.a],pipes:[F.b],styles:[".title-page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:25px;flex-wrap:wrap-reverse}.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-bottom:unset;margin-right:.5rem!important}.title-page-autoplay[_ngcontent-%COMP%]{display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content;align-items:center;margin-left:auto}.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem;text-transform:uppercase;font-size:85%;font-weight:600}"]}),oo),fo=n("1wmk"),vo=n("dzsG"),go=n("t1iq"),mo=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))},yo=["videoWatchPlaylist"],bo=["videoShareModal"],_o=["videoSupportModal"],Co=["subscribeButton"];function Oo(t,e){1&t&&(v.dc(0,"div",13),v.cd(1," Sorry, but this video is not available because the remote instance is not responding. "),v.Yb(2,"br"),v.cd(3," Please try again later. "),v.cc())}function Po(t,e){1&t&&(v.dc(0,"div",14),v.hc(1,ro),v.cc())}function To(t,e){1&t&&(v.dc(0,"div",14),v.hc(1,ao),v.cc())}function ko(t,e){if(1&t&&(v.dc(0,"div",15),v.hc(1,so),v.xc(2,"date"),v.cc()),2&t){var n=v.wc();v.Jb(2),v.lc(v.zc(2,1,n.video.scheduledUpdate.updateAt,"full")),v.ic(1)}}function wo(t,e){if(1&t&&(v.dc(0,"div",16),v.dc(1,"div",17),v.hc(2,co),v.cc(),v.cd(3),v.cc()),2&t){var n=v.wc();v.Jb(3),v.ed(" ",n.video.blacklistedReason," ")}}ro="El video se est\xE1 importando, estar\xE1 disponible cuando termine el proceso.",ao="El video se est\xE1 transcodificando, es posible que no funcione correctamente.",so="Este video ser\xE1 publicado en" + "\ufffd0\ufffd" + ". ",co="Este video est\xE1 bloqueado.",lo="Published " + "\ufffd#9\ufffd" + "" + "\ufffd/#9\ufffd" + " " + "\ufffd#10\ufffd" + " \u2022 " + "\ufffd0\ufffd" + " vistas" + "\ufffd/#10\ufffd" + " ",uo="Publicado" + "\ufffd#19\ufffd" + "" + "\ufffd/#19\ufffd" + " " + "\ufffd#20\ufffd" + " \u2022 " + "\ufffd0\ufffd" + " views" + "\ufffd/#20\ufffd" + " ",ho="COMPARTIR";var Mo,xo,Eo,So,jo,Io,Ao,Lo,Ro,Do=["title","Ir a la p\xE1gina del canal"],No=["title","Ir a la p\xE1gina de la cuenta"];function Bo(t,e){if(1&t&&(v.dc(0,"span",67),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.dd(n.video.likes)}}function Vo(t,e){if(1&t&&(v.dc(0,"span",67),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.dd(n.video.dislikes)}}function zo(t,e){if(1&t){var n=v.ec();v.dc(0,"div",68),v.sc("click",(function(){return v.Rc(n),v.wc(2).showSupportModal()})),v.Yb(1,"my-global-icon",69),v.dc(2,"span",40),v.hc(3,Lo),v.cc(),v.cc()}if(2&t){var i=v.wc(2);v.Dc("ngbTooltip",i.tooltipSupport)}}function Fo(t,e){if(1&t){var n=v.ec();v.dc(0,"div",70),v.sc("openChange",(function(t){return v.Rc(n),v.Pc(7).openChange(t)})),v.dc(1,"div",71),v.Yb(2,"my-global-icon",72),v.dc(3,"span",40),v.hc(4,Ro),v.cc(),v.cc(),v.dc(5,"div",73),v.Yb(6,"my-video-add-to-playlist",48,74),v.cc(),v.cc()}if(2&t){var i=v.wc(2);v.Dc("ngbTooltip",i.tooltipSaveToPlaylist),v.Jb(6),v.Dc("video",i.video)}}Mo="Por " + "\ufffd0\ufffd" + "",xo="Privacidad",Eo="Categor\xEDa",So="Licencia",jo="Idioma",Io="Etiquetas",Ao="Duraci\xF3n",Lo="APOYO",Ro="GUARDAR";var Ho,Uo,Jo,qo,Ko=function(t){return{liked:t}},Wo=function(t){return{"width.%":t}};function Yo(t,e){if(1&t&&(v.dc(0,"div",75),v.dc(1,"div",76),v.Yb(2,"div",77),v.cc(),v.cc()),2&t){var n=v.wc(2);v.Dc("ngbTooltip",n.likesBarTooltipText),v.Jb(2),v.Dc("ngClass",v.Hc(3,Ko,"none"!==n.userRating))("ngStyle",v.Hc(5,Wo,n.video.likesPercent))}}function $o(t,e){if(1&t&&(v.dc(0,"div",78),v.Yb(1,"div",79),v.cc()),2&t){var n=v.wc(2);v.Dc("ngbTooltip",n.likesBarTooltipText),v.Jb(1),v.Dc("ngStyle",v.Hc(2,Wo,n.video.likesPercent))}}function Xo(t,e){1&t&&v.Yb(0,"span",83)}function Go(t,e){if(1&t){var n=v.ec();v.dc(0,"div",80),v.sc("click",(function(){return v.Rc(n),v.wc(2).showMoreDescription()})),v.bc(1),v.hc(2,Ho),v.ac(),v.ad(3,Xo,1,0,"span",81),v.Yb(4,"my-small-loader",82),v.cc()}if(2&t){var i=v.wc(2);v.Jb(3),v.Dc("ngIf",!1===i.descriptionLoading),v.Jb(1),v.Dc("loading",i.descriptionLoading)}}function Qo(t,e){1&t&&v.Yb(0,"span",85)}function Zo(t,e){if(1&t){var n=v.ec();v.dc(0,"div",80),v.sc("click",(function(){return v.Rc(n),v.wc(2).showLessDescription()})),v.bc(1),v.hc(2,Uo),v.ac(),v.ad(3,Qo,1,0,"span",84),v.cc()}if(2&t){var i=v.wc(2);v.Jb(3),v.Dc("ngIf",!1===i.descriptionLoading)}}function tr(t,e){if(1&t&&(v.dc(0,"div",57),v.dc(1,"span",58),v.hc(2,Jo),v.cc(),v.dc(3,"a",86),v.cd(4),v.cc(),v.cc()),2&t){var n=v.wc(2);v.Jb(3),v.Dc("href",n.video.originInstanceUrl,v.Tc),v.Jb(1),v.dd(n.video.originInstanceHost)}}function er(t,e){if(1&t&&(v.dc(0,"div",57),v.dc(1,"span",58),v.hc(2,qo),v.cc(),v.dc(3,"span",59),v.cd(4),v.xc(5,"date"),v.cc(),v.cc()),2&t){var n=v.wc(2);v.Jb(4),v.dd(v.zc(5,1,n.video.originallyPublishedAt,"dd MMMM yyyy"))}}function nr(t,e){if(1&t&&(v.dc(0,"span",59),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.dd(n.video.category.label)}}Ho="Mostrar m\xE1s",Uo="Mostrar menos",Jo="Instancia original",qo="Publicado originalmente";var ir=function(){return["/search"]},or=function(t){return[t]},rr=function(t){return{categoryOneOf:t}};function ar(t,e){if(1&t&&(v.dc(0,"a",87),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Dc("routerLink",v.Gc(3,ir))("queryParams",v.Hc(6,rr,v.Hc(4,or,n.video.category.id))),v.Jb(1),v.dd(n.video.category.label)}}function sr(t,e){if(1&t&&(v.dc(0,"span",59),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.dd(n.video.licence.label)}}var cr=function(t){return{licenceOneOf:t}};function lr(t,e){if(1&t&&(v.dc(0,"a",87),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Dc("routerLink",v.Gc(3,ir))("queryParams",v.Hc(6,cr,v.Hc(4,or,n.video.licence.id))),v.Jb(1),v.dd(n.video.licence.label)}}function ur(t,e){if(1&t&&(v.dc(0,"span",59),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Jb(1),v.dd(n.video.language.label)}}var dr=function(t){return{languageOneOf:t}};function hr(t,e){if(1&t&&(v.dc(0,"a",87),v.cd(1),v.cc()),2&t){var n=v.wc(2);v.Dc("routerLink",v.Gc(3,ir))("queryParams",v.Hc(6,dr,v.Hc(4,or,n.video.language.id))),v.Jb(1),v.dd(n.video.language.label)}}var pr=function(t){return{tagsOneOf:t}};function fr(t,e){if(1&t&&(v.dc(0,"a",87),v.cd(1),v.cc()),2&t){var n=e.$implicit;v.Dc("routerLink",v.Gc(3,ir))("queryParams",v.Hc(6,pr,v.Hc(4,or,n))),v.Jb(1),v.dd(n)}}var vr,gr,mr=function(t){return{activated:t}},yr=function(t){return["/video-channels",t]},br=function(t){return["/accounts",t]},_r=function(t,e){return{uuid:t,tags:e}};function Cr(t,e){if(1&t){var n=v.ec();v.dc(0,"div",18),v.dc(1,"div",19),v.dc(2,"div",20),v.dc(3,"div"),v.dc(4,"div",21),v.dc(5,"h1",22),v.cd(6),v.cc(),v.dc(7,"div",23),v.nc(8,lo),v.Yb(9,"my-date-toggle",24),v.Yb(10,"span",25),v.xc(11,"myNumberFormatter"),v.kc(),v.cc(),v.cc(),v.dc(12,"div",26),v.dc(13,"div",27),v.dc(14,"h1",22),v.cd(15),v.cc(),v.cc(),v.dc(16,"div",28),v.dc(17,"div",29),v.nc(18,uo),v.Yb(19,"my-date-toggle",24),v.Yb(20,"span",25),v.xc(21,"myNumberFormatter"),v.kc(),v.cc(),v.dc(22,"div",30),v.dc(23,"div",31),v.dc(24,"div",32),v.sc("click",(function(){return v.Rc(n),v.wc().setLike()})),v.Yb(25,"my-global-icon",33),v.ad(26,Bo,2,1,"span",34),v.cc(),v.dc(27,"div",35),v.sc("click",(function(){return v.Rc(n),v.wc().setDislike()})),v.Yb(28,"my-global-icon",36),v.ad(29,Vo,2,1,"span",34),v.cc(),v.ad(30,zo,4,1,"div",37),v.dc(31,"div",38),v.sc("click",(function(){return v.Rc(n),v.wc().showShareModal()})),v.Yb(32,"my-global-icon",39),v.dc(33,"span",40),v.hc(34,ho),v.cc(),v.cc(),v.ad(35,Fo,8,2,"div",41),v.dc(36,"my-video-actions-dropdown",42),v.sc("videoRemoved",(function(){return v.Rc(n),v.wc().onVideoRemoved()}))("modalOpened",(function(){return v.Rc(n),v.wc().onModalOpened()})),v.cc(),v.cc(),v.dc(37,"div",43),v.ad(38,Yo,3,7,"div",44),v.cc(),v.cc(),v.ad(39,$o,2,4,"div",45),v.cc(),v.cc(),v.dc(40,"div",46),v.dc(41,"div",47),v.Yb(42,"avatar-channel",48),v.dc(43,"div",49),v.dc(44,"a",50),v.jc(45,Do),v.cd(46),v.cc(),v.dc(47,"a",50),v.jc(48,No),v.dc(49,"span"),v.hc(50,Mo),v.cc(),v.cc(),v.cc(),v.cc(),v.Yb(51,"my-subscribe-button",51,52),v.cc(),v.cc(),v.cc(),v.dc(53,"div",53),v.dc(54,"div",54),v.sc("timestampClicked",(function(t){return v.Rc(n),v.wc().handleTimestampClicked(t)})),v.cc(),v.ad(55,Go,5,2,"div",55),v.ad(56,Zo,4,1,"div",55),v.cc(),v.dc(57,"div",56),v.dc(58,"div",57),v.dc(59,"span",58),v.hc(60,xo),v.cc(),v.dc(61,"span",59),v.cd(62),v.cc(),v.cc(),v.ad(63,tr,5,2,"div",60),v.ad(64,er,6,4,"div",60),v.dc(65,"div",57),v.dc(66,"span",58),v.hc(67,Eo),v.cc(),v.ad(68,nr,2,1,"span",61),v.ad(69,ar,2,8,"a",62),v.cc(),v.dc(70,"div",57),v.dc(71,"span",58),v.hc(72,So),v.cc(),v.ad(73,sr,2,1,"span",61),v.ad(74,lr,2,8,"a",62),v.cc(),v.dc(75,"div",57),v.dc(76,"span",58),v.hc(77,jo),v.cc(),v.ad(78,ur,2,1,"span",61),v.ad(79,hr,2,8,"a",62),v.cc(),v.dc(80,"div",63),v.dc(81,"span",58),v.hc(82,Io),v.cc(),v.ad(83,fr,2,8,"a",64),v.cc(),v.dc(84,"div",57),v.dc(85,"span",58),v.hc(86,Ao),v.cc(),v.dc(87,"span",59),v.cd(88),v.xc(89,"myVideoDurationFormatter"),v.cc(),v.cc(),v.cc(),v.dc(90,"my-video-comments",65),v.sc("timestampClicked",(function(t){return v.Rc(n),v.wc().handleTimestampClicked(t)})),v.cc(),v.cc(),v.dc(91,"my-recommended-videos",66),v.sc("gotRecommendations",(function(t){return v.Rc(n),v.wc().onRecommendations(t)})),v.cc(),v.cc()}if(2&t){var i=v.wc();v.Jb(6),v.dd(i.video.name),v.Jb(3),v.Dc("date",i.video.publishedAt),v.Jb(2),v.lc(v.yc(11,48,i.video.views)),v.ic(8),v.Jb(4),v.dd(i.video.name),v.Jb(4),v.Dc("date",i.video.publishedAt),v.Jb(2),v.lc(v.yc(21,50,i.video.views)),v.ic(18),v.Jb(3),v.Dc("ngbPopover",i.getRatePopoverText())("ngClass",v.Hc(54,mr,"like"===i.userRating))("ngbTooltip",i.tooltipLike),v.Kb("aria-pressed","like"===i.userRating),v.Jb(2),v.Dc("ngIf",i.video.likes),v.Jb(1),v.Dc("ngbPopover",i.getRatePopoverText())("ngClass",v.Hc(56,mr,"dislike"===i.userRating))("ngbTooltip",i.tooltipDislike),v.Kb("aria-pressed","dislike"===i.userRating),v.Jb(2),v.Dc("ngIf",i.video.dislikes),v.Jb(1),v.Dc("ngIf",i.video.support),v.Jb(5),v.Dc("ngIf",i.isUserLoggedIn()),v.Jb(1),v.Dc("buttonStyled",!0)("video",i.video)("videoCaptions",i.videoCaptions),v.Jb(2),v.Dc("ngIf",0!==i.video.likes||0!==i.video.dislikes),v.Jb(1),v.Dc("ngIf",0!==i.video.likes||0!==i.video.dislikes),v.Jb(3),v.Dc("video",i.video),v.Jb(2),v.Dc("routerLink",v.Hc(58,yr,i.video.byVideoChannel)),v.Jb(2),v.ed(" ",i.video.channel.displayName," "),v.Jb(1),v.Dc("routerLink",v.Hc(60,br,i.video.byAccount)),v.Jb(3),v.lc(i.video.byAccount),v.ic(50),v.Jb(1),v.Dc("videoChannels",v.Hc(62,or,i.video.channel)),v.Jb(3),v.Dc("innerHTML",i.videoHTMLDescription,v.Sc),v.Jb(1),v.Dc("ngIf",!1===i.completeDescriptionShown&&(null==i.video.description?null:i.video.description.length)>=250),v.Jb(1),v.Dc("ngIf",!0===i.completeDescriptionShown),v.Jb(6),v.dd(i.video.privacy.label),v.Jb(1),v.Dc("ngIf",!1===i.video.isLocal),v.Jb(1),v.Dc("ngIf",!!i.video.originallyPublishedAt),v.Jb(4),v.Dc("ngIf",!i.video.category.id),v.Jb(1),v.Dc("ngIf",i.video.category.id),v.Jb(4),v.Dc("ngIf",!i.video.licence.id),v.Jb(1),v.Dc("ngIf",i.video.licence.id),v.Jb(4),v.Dc("ngIf",!i.video.language.id),v.Jb(1),v.Dc("ngIf",i.video.language.id),v.Jb(4),v.Dc("ngForOf",i.getVideoTags()),v.Jb(5),v.dd(v.yc(89,52,i.video.duration)),v.Jb(2),v.Dc("video",i.video)("user",i.user),v.Jb(1),v.Dc("inputRecommendation",v.Ic(64,_r,i.video.uuid,i.video.tags))("user",i.user)("playlist",i.playlist)}}vr="Recordatorio amistoso:",gr="el sistema de uso compartido utilizado para este video implica que cierta informaci\xF3n t\xE9cnica sobre su sistema (como una direcci\xF3n IP p\xFAblica) se puede enviar a otros pares.";var Or,Pr,Tr=["title","Ver m\xE1s informaci\xF3n"];function kr(t,e){if(1&t){var n=v.ec();v.dc(0,"div",88),v.dc(1,"div",89),v.dc(2,"span",90),v.dc(3,"strong"),v.hc(4,vr),v.cc(),v.bc(5),v.hc(6,gr),v.ac(),v.cc(),v.dc(7,"a",91),v.jc(8,Tr),v.hc(9,Or),v.cc(),v.cc(),v.dc(10,"div",92),v.sc("click",(function(){return v.Rc(n),v.wc().acceptedPrivacyConcern()})),v.hc(11,Pr),v.cc(),v.cc()}}function wr(t,e){if(1&t&&(v.bc(0),v.Yb(1,"my-video-support",48,93),v.Yb(3,"my-video-share",94,95),v.ac()),2&t){var n=v.wc();v.Jb(1),v.Dc("video",n.video),v.Jb(2),v.Dc("video",n.video)("videoCaptions",n.videoCaptions)("playlist",n.playlist)}}Or="M\xE1s informaci\xF3n",Pr="OK";var Mr,xr,Er,Sr,jr=function(t){return{"theater-enabled":t}},Ir=((Mr=function(){function t(e,n,i,o,r,a,s,c,l,u,d,h,p,f,v,g,m,y,b,_,C,O){_classCallCheck(this,t),this.elementRef=e,this.changeDetector=n,this.route=i,this.router=o,this.videoService=r,this.playlistService=a,this.confirmService=s,this.metaService=c,this.authService=l,this.userService=u,this.serverService=d,this.restExtractor=h,this.notifier=p,this.markdownService=f,this.zone=v,this.redirectService=g,this.videoCaptionService=m,this.i18n=y,this.hotkeysService=b,this.hooks=_,this.location=C,this.localeId=O,this.theaterEnabled=!1,this.userRating=null,this.descriptionLoading=!1,this.video=null,this.videoCaptions=[],this.playlist=null,this.completeDescriptionShown=!1,this.videoHTMLDescription="",this.likesBarTooltipText="",this.hasAlreadyAcceptedPrivacyConcern=!1,this.remoteServerDown=!1,this.hotkeys=[],this.tooltipLike="",this.tooltipDislike="",this.tooltipSupport="",this.tooltipSaveToPlaylist="",this.nextVideoUuid="",this.nextVideoTitle="",this.tooltipLike=this.i18n("Like this video"),this.tooltipDislike=this.i18n("Dislike this video"),this.tooltipSupport=this.i18n("Support options for this video"),this.tooltipSaveToPlaylist=this.i18n("Save to playlist")}return _createClass(t,[{key:"ngOnInit",value:function(){return mo(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.serverConfig=this.serverService.getTmpConfig(),this.configSub=this.serverService.getConfig().subscribe((function(e){n.serverConfig=e,(Object(z.i)()||!1===n.serverConfig.tracker.enabled||!1===Object(pe.d)()||"true"===_.a.getItem(t.LOCAL_STORAGE_PRIVACY_CONCERN_KEY))&&(n.hasAlreadyAcceptedPrivacyConcern=!0)})),this.paramsSub=this.route.params.subscribe((function(t){var e=t.videoId;e&&n.loadVideo(e);var i=t.playlistId;i&&n.loadPlaylist(i)})),this.queryParamsSub=this.route.queryParams.subscribe((function(t){return mo(n,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.videoId)&&this.loadVideo(n),i=t.start,this.player&&i&&this.player.currentTime(parseInt(i,10));case 4:case"end":return e.stop()}}),e,this)})))})),this.initHotkeys(),this.theaterEnabled=Object(pe.f)(),this.hooks.runAction("action:video-watch.init","video-watch");case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.flushPlayer(),this.paramsSub&&this.paramsSub.unsubscribe(),this.queryParamsSub&&this.queryParamsSub.unsubscribe(),this.hotkeysService.remove(this.hotkeys)}},{key:"setLike",value:function(){!1!==this.isUserLoggedIn()&&this.setRating("like"===this.userRating?"none":"like")}},{key:"setDislike",value:function(){!1!==this.isUserLoggedIn()&&this.setRating("dislike"===this.userRating?"none":"dislike")}},{key:"getRatePopoverText",value:function(){if(!this.isUserLoggedIn())return this.i18n("You need to be connected to rate this content.")}},{key:"showMoreDescription",value:function(){if(void 0===this.completeVideoDescription)return this.loadCompleteDescription();this.updateVideoDescription(this.completeVideoDescription),this.completeDescriptionShown=!0}},{key:"showLessDescription",value:function(){this.updateVideoDescription(this.shortVideoDescription),this.completeDescriptionShown=!1}},{key:"loadCompleteDescription",value:function(){var t=this;this.descriptionLoading=!0,this.videoService.loadCompleteDescription(this.video.descriptionPath).subscribe((function(e){t.completeDescriptionShown=!0,t.descriptionLoading=!1,t.shortVideoDescription=t.video.description,t.completeVideoDescription=e,t.updateVideoDescription(t.completeVideoDescription)}),(function(e){t.descriptionLoading=!1,t.notifier.error(e.message)}))}},{key:"showSupportModal",value:function(){this.pausePlayer(),this.videoSupportModal.show()}},{key:"showShareModal",value:function(){this.pausePlayer(),this.videoShareModal.show(this.currentTime)}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"getVideoTags",value:function(){return this.video&&!1!==Array.isArray(this.video.tags)?this.video.tags:[]}},{key:"onRecommendations",value:function(t){if(t.length>0){var e=t[0];this.nextVideoUuid=e.uuid,this.nextVideoTitle=e.name}}},{key:"onModalOpened",value:function(){this.pausePlayer()}},{key:"onVideoRemoved",value:function(){this.redirectService.redirectToHomepage()}},{key:"declinedPrivacyConcern",value:function(){_.a.setItem(t.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"false"),this.hasAlreadyAcceptedPrivacyConcern=!1}},{key:"acceptedPrivacyConcern",value:function(){_.a.setItem(t.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"true"),this.hasAlreadyAcceptedPrivacyConcern=!0}},{key:"isVideoToTranscode",value:function(){return this.video&&this.video.state.id===B.l.TO_TRANSCODE}},{key:"isVideoToImport",value:function(){return this.video&&this.video.state.id===B.l.TO_IMPORT}},{key:"hasVideoScheduledPublication",value:function(){return this.video&&void 0!==this.video.scheduledUpdate}},{key:"isVideoBlur",value:function(t){return t.isVideoNSFWForUser(this.user,this.serverConfig)}},{key:"isAutoPlayEnabled",value:function(){return this.user&&this.user.autoPlayNextVideo||this.anonymousUser.autoPlayNextVideo}},{key:"handleTimestampClicked",value:function(t){this.player&&this.player.currentTime(t),Object(l.l)()}},{key:"isPlaylistAutoPlayEnabled",value:function(){return this.user&&this.user.autoPlayNextVideoPlaylist||this.anonymousUser.autoPlayNextVideoPlaylist}},{key:"loadVideo",value:function(t){var e=this;if(!this.video||this.video.uuid!==t){this.player&&this.player.pause();var n=this.hooks.wrapObsFun(this.videoService.getVideo.bind(this.videoService),{videoId:t},"video-watch","filter:api.video-watch.video.get.params","filter:api.video-watch.video.get.result");Object(D.a)([n,this.videoCaptionService.listCaptions(t)]).pipe(Object(s.a)((function(t){return e.restExtractor.redirectTo404IfNotFound(t,[400,401,403,404])}))).subscribe((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1],r=e.route.snapshot.queryParams;e.onVideoFetched(i,o.data,{startTime:r.start,stopTime:r.stop,muted:r.muted,loop:r.loop,subtitle:r.subtitle,playerMode:r.mode,peertubeLink:!1}).catch((function(t){return e.handleError(t)}))}))}}},{key:"loadPlaylist",value:function(t){var e=this;this.playlist&&this.playlist.uuid===t||this.playlistService.getVideoPlaylist(t).pipe(Object(s.a)((function(t){return e.restExtractor.redirectTo404IfNotFound(t,[400,401,403,404])}))).subscribe((function(t){e.playlist=t,e.videoWatchPlaylist.loadPlaylistElements(t,!e.route.snapshot.queryParams.videoId)}))}},{key:"updateVideoDescription",value:function(t){this.video.description=t,this.setVideoDescriptionHTML().catch((function(t){return console.error(t)}))}},{key:"setVideoDescriptionHTML",value:function(){return mo(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.markdownService.textMarkdownToHTML(this.video.description);case 2:return e=t.sent,t.next=5,this.markdownService.processVideoTimestamps(e);case 5:this.videoHTMLDescription=t.sent;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setVideoLikesBarTooltipText",value:function(){this.likesBarTooltipText=this.i18n("{{likesNumber}} likes / {{dislikesNumber}} dislikes",{likesNumber:this.video.likes,dislikesNumber:this.video.dislikes})}},{key:"handleError",value:function(t){var e="string"==typeof t?t:t.message;if(e)return-1!==e.indexOf("from xs param")?(this.flushPlayer(),this.remoteServerDown=!0,void this.changeDetector.detectChanges()):void this.notifier.error(e)}},{key:"checkUserRating",value:function(){var t=this;!1!==this.isUserLoggedIn()&&this.videoService.getUserVideoRating(this.video.id).subscribe((function(e){e&&(t.userRating=e.rating)}),(function(e){return t.notifier.error(e.message)}))}},{key:"onVideoFetched",value:function(t,e,n){return mo(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,r,a,s,c,u=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.video=t,this.videoCaptions=e,this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.remoteServerDown=!1,this.currentTime=void 0,this.videoWatchPlaylist.updatePlaylistIndex(t),i.t0=this.isVideoBlur(this.video),!i.t0){i.next=14;break}return i.t1=!1,i.next=12,this.confirmService.confirm(this.i18n("This video contains mature or explicit content. Are you sure you want to watch it?"),this.i18n("Mature or explicit content"));case 12:i.t2=i.sent,i.t0=i.t1===i.t2;case 14:if(!i.t0){i.next=16;break}return i.abrupt("return",this.location.back());case 16:return this.flushPlayer(),o=this.elementRef.nativeElement.querySelector("#videojs-wrapper"),this.playerElement=document.createElement("video"),this.playerElement.className="video-js vjs-peertube-skin",this.playerElement.setAttribute("playsinline","true"),o.appendChild(this.playerElement),r={video:this.video,videoCaptions:e,urlOptions:n,user:this.user},i.next=22,this.hooks.wrapFun(this.buildPlayerManagerOptions.bind(this),r,"video-watch","filter:internal.video-watch.player.build-options.params","filter:internal.video-watch.player.build-options.result");case 22:a=i.sent,s=a.playerMode,c=a.playerOptions,this.zone.runOutsideAngular((function(){return mo(u,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.initialize(s,c,(function(t){return e.player=t}));case 2:this.player=t.sent,this.player.focus(),this.player.on("customError",(function(t){var n=t.err;return e.handleError(n)})),this.player.on("timeupdate",(function(){e.currentTime=Math.floor(e.player.currentTime())})),this.player.upnext({timeout:1e4,headText:this.i18n("Up Next"),cancelText:this.i18n("Cancel"),suspendedText:this.i18n("Autoplay is suspended"),getTitle:function(){return e.nextVideoTitle},next:function(){return e.zone.run((function(){return e.autoplayNext()}))},condition:function(){if(e.playlist)e.isPlaylistAutoPlayEnabled()&&e.zone.run((function(){return e.videoWatchPlaylist.navigateToNextPlaylistVideo()}));else if(e.isAutoPlayEnabled())return!0;return!1},suspended:function(){return!Object(l.f)(e.player.el(),80)||!document.getElementById("content").contains(document.activeElement)}}),this.player.one("stopped",(function(){e.playlist&&e.isPlaylistAutoPlayEnabled()&&e.zone.run((function(){return e.videoWatchPlaylist.navigateToNextPlaylistVideo()}))})),this.player.on("theaterChange",(function(t,n){e.zone.run((function(){return e.theaterEnabled=n}))})),this.hooks.runAction("action:video-watch.player.loaded","video-watch",{player:this.player});case 10:case"end":return t.stop()}}),t,this)})))})),this.setVideoDescriptionHTML(),this.setVideoLikesBarTooltipText(),this.setOpenGraphTags(),this.checkUserRating(),this.hooks.runAction("action:video-watch.video.loaded","video-watch",{videojs:jt.a});case 26:case"end":return i.stop()}}),i,this)})))}},{key:"autoplayNext",value:function(){var t=this;this.playlist?this.zone.run((function(){return t.videoWatchPlaylist.navigateToNextPlaylistVideo()})):this.nextVideoUuid&&this.router.navigate(["/videos/watch",this.nextVideoUuid])}},{key:"setRating",value:function(t){var e=this;({like:this.videoService.setVideoLike,dislike:this.videoService.setVideoDislike,none:this.videoService.unsetVideoLike})[t].call(this.videoService,this.video.id).subscribe((function(){e.updateVideoRating(e.userRating,t),e.userRating=t}),(function(t){return e.notifier.error(t.message)}))}},{key:"updateVideoRating",value:function(t,e){var n=0,i=0;t&&("like"===t&&n--,"dislike"===t&&i--),"like"===e&&n++,"dislike"===e&&i++,this.video.likes+=n,this.video.dislikes+=i,this.video.buildLikeAndDislikePercents(),this.setVideoLikesBarTooltipText()}},{key:"setOpenGraphTags",value:function(){this.metaService.setTitle(this.video.name),this.metaService.setTag("og:type","video"),this.metaService.setTag("og:title",this.video.name),this.metaService.setTag("name",this.video.name),this.metaService.setTag("og:description",this.video.description),this.metaService.setTag("description",this.video.description),this.metaService.setTag("og:image",this.video.previewPath),this.metaService.setTag("og:duration",this.video.duration.toString()),this.metaService.setTag("og:site_name","PeerTube"),this.metaService.setTag("og:url",window.location.href),this.metaService.setTag("url",window.location.href)}},{key:"isAutoplay",value:function(){return!(this.route.snapshot.params.threadId||this.user&&!1===this.user.autoPlayVideo)}},{key:"flushPlayer",value:function(){if(this.player)try{this.player.dispose(),this.player=void 0}catch(t){console.error("Cannot dispose player.",t)}}},{key:"buildPlayerManagerOptions",value:function(t){var e,n=this,i=t.video,o=t.videoCaptions,r=t.urlOptions,a=t.user,s=(e=i.userHistory&&(!n.playlist||void 0!==r.resume),void 0!==r.startTime?Object(z.k)(r.startTime):e?i.userHistory.currentTime:0);i.duration-s<=1&&(s=0);var c,l=o.map((function(t){return{label:t.language.label,language:t.language.id,src:d.a.apiUrl+t.captionPath}})),u={common:{autoplay:this.isAutoplay(),nextVideo:function(){return n.zone.run((function(){return n.autoplayNext()}))},playerElement:this.playerElement,onPlayerElementChange:function(t){return n.playerElement=t},videoDuration:i.duration,enableHotkeys:!0,inactivityTimeout:2500,poster:i.previewUrl,startTime:s,stopTime:r.stopTime,controls:r.controls,muted:r.muted,loop:r.loop,subtitle:r.subtitle,peertubeLink:r.peertubeLink,theaterButton:!0,captions:0!==o.length,videoViewUrl:i.privacy.id!==B.j.PRIVATE?this.videoService.getVideoViewUrl(i.uuid):null,embedUrl:i.embedUrl,language:this.localeId,userWatching:a&&!0===a.videosHistoryEnabled?{url:this.videoService.getUserWatchingVideoUrl(i.uuid),authorizationHeader:this.authService.getRequestHeaderValue()}:void 0,serverUrl:d.a.apiUrl,videoCaptions:l},webtorrent:{videoFiles:i.files}};if(c=r.playerMode?"p2p-media-loader"===r.playerMode?"p2p-media-loader":"webtorrent":i.hasHlsPlaylist()?"p2p-media-loader":"webtorrent","undefined"==typeof TextEncoder&&(c="webtorrent"),"p2p-media-loader"===c){var h=i.getHlsPlaylist(),p={playlistUrl:h.playlistUrl,segmentsSha256Url:h.segmentsSha256Url,redundancyBaseUrls:h.redundancies.map((function(t){return t.baseUrl})),trackerAnnounce:i.trackerUrls,videoFiles:h.files};Object.assign(u,{p2pMediaLoader:p})}return{playerMode:c,playerOptions:u}}},{key:"pausePlayer",value:function(){this.player&&this.player.pause()}},{key:"initHotkeys",value:function(){var t=this;this.hotkeys=[new N.a("f",(function(t){return t}),void 0,this.i18n("Enter/exit fullscreen (requires player focus)")),new N.a("space",(function(t){return t}),void 0,this.i18n("Play/Pause the video (requires player focus)")),new N.a("m",(function(t){return t}),void 0,this.i18n("Mute/unmute the video (requires player focus)")),new N.a("0-9",(function(t){return t}),void 0,this.i18n("Skip to a percentage of the video: 0 is 0% and 9 is 90% (requires player focus)")),new N.a("up",(function(t){return t}),void 0,this.i18n("Increase the volume (requires player focus)")),new N.a("down",(function(t){return t}),void 0,this.i18n("Decrease the volume (requires player focus)")),new N.a("right",(function(t){return t}),void 0,this.i18n("Seek the video forward (requires player focus)")),new N.a("left",(function(t){return t}),void 0,this.i18n("Seek the video backward (requires player focus)")),new N.a(">",(function(t){return t}),void 0,this.i18n("Increase playback rate (requires player focus)")),new N.a("<",(function(t){return t}),void 0,this.i18n("Decrease playback rate (requires player focus)")),new N.a(".",(function(t){return t}),void 0,this.i18n("Navigate in the video frame by frame (requires player focus)"))],this.isUserLoggedIn()&&(this.hotkeys=this.hotkeys.concat([new N.a("shift+l",(function(){return t.setLike(),!1}),void 0,this.i18n("Like the video")),new N.a("shift+d",(function(){return t.setDislike(),!1}),void 0,this.i18n("Dislike the video")),new N.a("shift+s",(function(){return t.subscribeButton.subscribed?t.subscribeButton.unsubscribe():t.subscribeButton.subscribe(),!1}),void 0,this.i18n("Subscribe to the account"))])),this.hotkeysService.add(this.hotkeys)}},{key:"user",get:function(){return this.authService.getUser()}},{key:"anonymousUser",get:function(){return this.userService.getAnonymousUser()}}]),t}()).LOCAL_STORAGE_PRIVACY_CONCERN_KEY="video-watch-privacy-concern",Mr.\u0275fac=function(t){return new(t||Mr)(v.Xb(v.l),v.Xb(v.h),v.Xb(m.a),v.Xb(m.h),v.Xb(V.a),v.Xb(Ve.a),v.Xb(R.c),v.Xb(y.d),v.Xb(R.a),v.Xb(r.j),v.Xb(R.i),v.Xb(r.e),v.Xb(R.f),v.Xb(C.c),v.Xb(v.D),v.Xb(b.a),v.Xb(Mt.a),v.Xb(Fe.a),v.Xb(N.c),v.Xb(tn.a),v.Xb(F.F),v.Xb(v.w))},Mr.\u0275cmp=v.Rb({type:Mr,selectors:[["my-video-watch"]],viewQuery:function(t,e){var n;1&t&&(v.Xc(yo,!0),v.gd(bo,!0),v.gd(_o,!0),v.gd(Co,!0)),2&t&&(v.Oc(n=v.tc())&&(e.videoWatchPlaylist=n.first),v.Oc(n=v.tc())&&(e.videoShareModal=n.first),v.Oc(n=v.tc())&&(e.videoSupportModal=n.first),v.Oc(n=v.tc())&&(e.subscribeButton=n.first))},decls:14,vars:13,consts:[[1,"root",3,"ngClass"],["id","video-wrapper"],["class","remote-server-down",4,"ngIf"],["id","videojs-wrapper"],[1,"playlist",3,"video","playlist"],["videoWatchPlaylist",""],[1,"row"],["class","col-md-12 alert alert-warning",4,"ngIf"],["class","col-md-12 alert alert-info",4,"ngIf"],["class","col-md-12 alert alert-danger",4,"ngIf"],["class","margin-content video-bottom",4,"ngIf"],["class","row privacy-concerns",4,"ngIf"],[4,"ngIf"],[1,"remote-server-down"],[1,"col-md-12","alert","alert-warning"],[1,"col-md-12","alert","alert-info"],[1,"col-md-12","alert","alert-danger"],[1,"blacklisted-label"],[1,"margin-content","video-bottom"],[1,"video-info"],[1,"video-info-first-row"],[1,"d-block","d-md-none"],[1,"video-info-name"],[1,"video-info-date-views"],[3,"date"],[1,"views"],[1,"d-flex","justify-content-between","flex-direction-column"],[1,"d-none","d-md-block"],[1,"video-info-first-row-bottom"],[1,"d-none","d-md-block","video-info-date-views"],[1,"video-actions-rates"],[1,"video-actions","fullWidth","justify-content-end"],["role","button","placement","bottom auto",1,"action-button","action-button-like",3,"ngbPopover","ngClass","ngbTooltip","click"],["iconName","like"],["class","count",4,"ngIf"],["role","button","placement","bottom auto",1,"action-button","action-button-dislike",3,"ngbPopover","ngClass","ngbTooltip","click"],["iconName","dislike"],["class","action-button action-button-support","placement","bottom auto",3,"ngbTooltip","click",4,"ngIf"],["role","button",1,"action-button",3,"click"],["iconName","share"],[1,"icon-text"],["class","action-dropdown","ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",3,"ngbTooltip","openChange",4,"ngIf"],["placement","bottom auto","buttonDirection","horizontal",3,"buttonStyled","video","videoCaptions","videoRemoved","modalOpened"],[1,"video-info-likes-dislikes-bar-outer-container"],["class","video-info-likes-dislikes-bar-inner-container","placement","bottom",3,"ngbTooltip",4,"ngIf"],["class","video-info-likes-dislikes-bar","placement","bottom",3,"ngbTooltip",4,"ngIf"],[1,"pt-3","border-top","video-info-channel","d-flex"],[1,"video-info-channel-left","d-flex"],[3,"video"],[1,"video-info-channel-left-links","ml-1"],[3,"routerLink",6,"title"],["size","small",3,"videoChannels"],["subscribeButton",""],[1,"video-info-description"],["timestampRouteTransformer","",1,"video-info-description-html",3,"innerHTML","timestampClicked"],["class","video-info-description-more",3,"click",4,"ngIf"],[1,"video-attributes","mb-3"],[1,"video-attribute"],[1,"video-attribute-label"],[1,"video-attribute-value"],["class","video-attribute",4,"ngIf"],["class","video-attribute-value",4,"ngIf"],["class","video-attribute-value",3,"routerLink","queryParams",4,"ngIf"],[1,"video-attribute","video-attribute-tags"],["class","video-attribute-value",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"border-top",3,"video","user","timestampClicked"],[3,"inputRecommendation","user","playlist","gotRecommendations"],[1,"count"],["placement","bottom auto",1,"action-button","action-button-support",3,"ngbTooltip","click"],["iconName","support"],["ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",1,"action-dropdown",3,"ngbTooltip","openChange"],["ngbDropdownToggle","","role","button",1,"action-button","action-button-save"],["iconName","playlist-add"],["ngbDropdownMenu",""],["addContent",""],["placement","bottom",1,"video-info-likes-dislikes-bar-inner-container",3,"ngbTooltip"],[1,"video-info-likes-dislikes-bar"],[1,"likes-bar",3,"ngClass","ngStyle"],["placement","bottom",1,"video-info-likes-dislikes-bar",3,"ngbTooltip"],[1,"likes-bar",3,"ngStyle"],[1,"video-info-description-more",3,"click"],["class","glyphicon glyphicon-menu-down",4,"ngIf"],[1,"description-loading",3,"loading"],[1,"glyphicon","glyphicon-menu-down"],["class","glyphicon glyphicon-menu-up",4,"ngIf"],[1,"glyphicon","glyphicon-menu-up"],["target","_blank","rel","noopener noreferrer",1,"video-attribute-value",3,"href"],[1,"video-attribute-value",3,"routerLink","queryParams"],[1,"row","privacy-concerns"],[1,"privacy-concerns-text"],[1,"mr-2"],["target","_blank","rel","noopener noreferrer","href","/about/peertube#privacy",6,"title"],[1,"privacy-concerns-button","privacy-concerns-okay",3,"click"],["videoSupportModal",""],[3,"video","videoCaptions","playlist"],["videoShareModal",""]],template:function(t,e){1&t&&(v.dc(0,"div",0),v.dc(1,"div",1),v.ad(2,Oo,4,0,"div",2),v.Yb(3,"div",3),v.Yb(4,"my-video-watch-playlist",4,5),v.cc(),v.dc(6,"div",6),v.ad(7,Po,2,0,"div",7),v.ad(8,To,2,0,"div",7),v.ad(9,ko,3,4,"div",8),v.ad(10,wo,4,1,"div",9),v.cc(),v.ad(11,Cr,92,67,"div",10),v.ad(12,kr,12,0,"div",11),v.cc(),v.ad(13,wr,5,4,"ng-container",12)),2&t&&(v.Dc("ngClass",v.Hc(11,jr,e.theaterEnabled)),v.Jb(2),v.Dc("ngIf",e.remoteServerDown),v.Jb(2),v.Dc("video",e.video)("playlist",e.playlist),v.Jb(3),v.Dc("ngIf",e.isVideoToImport()),v.Jb(1),v.Dc("ngIf",e.isVideoToTranscode()),v.Jb(1),v.Dc("ngIf",e.hasVideoScheduledPublication()),v.Jb(1),v.Dc("ngIf",null==e.video?null:e.video.blacklisted),v.Jb(1),v.Dc("ngIf",e.video),v.Jb(1),v.Dc("ngIf",!1===e.hasAlreadyAcceptedPrivacyConcern),v.Jb(1),v.Dc("ngIf",null!==e.video))},directives:[F.r,F.u,Ze,en.a,O.w,O.y,P.a,nn.a,on.a,m.k,rn.b,an,F.t,Fi,po,O.e,O.j,O.h,fo.a,F.y,mi.a,L,wt],pipes:[F.f,vo.a,go.a],styles:['.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{width:100%}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]     .video-js{height:calc(100vh - 165px);width:100%;max-width:none}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:none;border-bottom:1px solid rgba(0,0,0,.1)!important}.blacklisted-label[_ngcontent-%COMP%]{font-weight:600}#video-wrapper[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;align-items:center;text-align:center;justify-content:center;background-color:#141313;width:100%;font-size:24px;height:500px}@media screen and (max-width:1000px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:16px}}#video-wrapper[_ngcontent-%COMP%]     .video-js{width:100%;max-width:112.2vh;height:66vh}#video-wrapper[_ngcontent-%COMP%]     .video-js video{outline:0;position:relative!important}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]     .video-js{width:100vw;height:58.82353vw}}.alert[_ngcontent-%COMP%]{text-align:center;border-radius:0}.flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}#video-not-found[_ngcontent-%COMP%]{height:300px;line-height:300px;margin-top:50px;text-align:center;font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]{display:flex;margin-top:40px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{flex-grow:1;min-width:1px;max-width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]{display:flex}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{margin-right:30px;min-height:40px;font-size:27px;font-weight:600;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-first-row-bottom[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{align-self:start;margin-bottom:10px;margin-right:10px;font-size:1em}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:18px;height:18px;min-width:18px;min-height:18px;margin:-2px 5px 0 0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]{flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;line-height:1.37}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){font-weight:500;font-size:90%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-left:5px;margin-top:1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{align-items:start;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 0 10px auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button{border:none;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;font-size:100%;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background-color:transparent!important;color:var(--actionButtonColor);text-transform:uppercase}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button my-global-icon{position:relative;width:21px;margin-right:0;top:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[fill="#000000"]{fill:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[stroke="#000000"]{stroke:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg stop[stop-color="#000000"]{stop-color:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:after{display:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like{-webkit-filter:brightness(120%);filter:brightness(120%)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like .count{margin-right:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated .count{color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[fill="#000000"]{fill:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[stroke="#000000"]{stroke:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated .count{color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[fill="#000000"]{fill:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[stroke="#000000"]{stroke:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support{color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[fill="#000000"]{fill:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[stroke="#000000"]{stroke:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg stop[stop-color="#000000"]{stop-color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   path:first-child{fill:var(--supportButtonHeartColor)!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-save my-global-icon{top:0!important;right:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button .icon-text{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-outer-container[_ngcontent-%COMP%]{position:relative}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-inner-container[_ngcontent-%COMP%]{position:absolute;height:20px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]{height:2px;margin-top:-2px;width:120px;background-color:#ccc;position:relative;top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar[_ngcontent-%COMP%]{height:100%;background-color:#909090}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar.liked[_ngcontent-%COMP%]{background-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin:20px 0 20px 44px;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]     a{text-decoration:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{display:inline-block}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:var(--greyForegroundColor);font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:relative;top:2px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]{margin-left:44px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   .video-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute.video-attribute-tags[_ngcontent-%COMP%]   .video-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:15px;min-width:238px}@media screen and (min-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos{width:-webkit-min-content;width:-moz-min-content;width:min-content}}.video-bottom[_ngcontent-%COMP%]     .other-videos .title-page{margin:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos .video-miniature{display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:100%;margin-bottom:20px;flex-wrap:wrap}@media screen and (max-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:1rem}}@media screen and (max-width:500px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:0;margin-top:.5rem}}my-video-comments[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}.privacy-concerns[_ngcontent-%COMP%]{z-index:12001;width:calc(100% - 240px)}@media screen and (max-width:800px){.privacy-concerns[_ngcontent-%COMP%]{margin-left:225px}}.expanded[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{width:100%;margin-left:-15px}.privacy-concerns[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:20;padding:5px 15px;display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;background-color:rgba(0,0,0,.9);color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0 5px}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor);transition:color .3s}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-button[_ngcontent-%COMP%]{padding:5px 8px 5px 7px;margin-left:auto;border-radius:3px;white-space:nowrap;cursor:pointer;transition:background-color .3s;font-weight:600}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-button[_ngcontent-%COMP%]:hover{background-color:#000}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]{background-color:var(--mainColor);margin-left:10px}@media screen and (max-width:1600px){.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{margin-bottom:5px}}@media screen and (max-width:1300px){.privacy-concerns[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:1100px){#video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:none;border-bottom:1px solid rgba(0,0,0,.1)!important}.video-bottom[_ngcontent-%COMP%]{flex-direction:column}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos   .video-miniature{flex-direction:row;width:auto}}@media screen and (max-width:600px){.video-bottom[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{padding:0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:20px;height:auto}  .other-videos .video-miniature{flex-direction:column}.privacy-concerns[_ngcontent-%COMP%]{width:100%}.privacy-concerns[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:450px){.video-bottom[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin-top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{font-size:14px!important}}']}),Mr),Ar=[{path:"playlist/:playlistId",component:Ir,canActivate:[y.a]},{path:":videoId/comments/:commentId",redirectTo:":videoId"},{path:":videoId",component:Ir,canActivate:[y.a]}],Lr=((Sr=function t(){_classCallCheck(this,t)}).\u0275mod=v.Vb({type:Sr}),Sr.\u0275inj=v.Ub({factory:function(t){return new(t||Sr)},imports:[[m.l.forChild(Ar)],m.l]}),Sr),Rr=((Er=function t(){_classCallCheck(this,t)}).\u0275mod=v.Vb({type:Er}),Er.\u0275inj=v.Ub({factory:function(t){return new(t||Er)},providers:[Xi,Wi],imports:[[Qi.b,r.h,F.c]]}),Er),Dr=((xr=function t(){_classCallCheck(this,t)}).\u0275mod=v.Vb({type:xr}),xr.\u0275inj=v.Ub({factory:function(t){return new(t||xr)},providers:[g],imports:[[Lr,r.h,O.z,$,Rr]]}),xr)},"1sBl":function(t,e,n){var i=n("e/Dd").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=i(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),r=[n-7],a=1;a<e-1;a++)r[a]=r[a-1]-o;return r.push(6),r.reverse()},e.getPositions=function(t){for(var n=[],i=e.getRowColCoords(t),o=i.length,r=0;r<o;r++)for(var a=0;a<o;a++)0===r&&0===a||0===r&&a===o-1||r===o-1&&0===a||n.push([i[r],i[a]]);return n}},"33yf":function(t,e,n){"use strict";function i(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function o(t,e){for(var n,i="",o=0,r=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(r===s-1||1===a);else if(r!==s-1&&2===a){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var c=i.lastIndexOf("/");if(c!==i.length-1){-1===c?(i="",o=0):o=(i=i.slice(0,c)).length-1-i.lastIndexOf("/"),r=s,a=0;continue}}else if(2===i.length||1===i.length){i="",o=0,r=s,a=0;continue}e&&(i.length>0?i+="/..":i="..",o=2)}else i.length>0?i+="/"+t.slice(r+1,s):i=t.slice(r+1,s),o=s-r-1;r=s,a=0}else 46===n&&-1!==a?++a:a=-1}return i}var r={resolve:function(){for(var t,e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var a;r>=0?a=arguments[r]:(void 0===t&&(t=process.cwd()),a=t),i(a),0!==a.length&&(e=a+"/"+e,n=47===a.charCodeAt(0))}return e=o(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(i(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=o(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];i(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":r.normalize(t)},relative:function(t,e){if(i(t),i(e),t===e)return"";if((t=r.resolve(t))===(e=r.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var o=t.length,a=o-n,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var c=e.length-s,l=a<c?a:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(47===e.charCodeAt(s+d))return e.slice(s+d+1);if(0===d)return e.slice(s+d)}else a>l&&(47===t.charCodeAt(n+d)?u=d:0===d&&(u=0));break}var h=t.charCodeAt(n+d);if(h!==e.charCodeAt(s+d))break;47===h&&(u=d)}var p="";for(d=n+u+1;d<=o;++d)d!==o&&47!==t.charCodeAt(d)||(p+=0===p.length?"..":"/..");return p.length>0?p+e.slice(s+u):(47===e.charCodeAt(s+=u)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(i(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,o=-1,r=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!r){o=a;break}}else r=!1;return-1===o?n?"/":".":n&&1===o?"//":t.slice(0,o)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');i(t);var n,o=0,r=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,c=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!a){o=n+1;break}}else-1===c&&(a=!1,c=n+1),s>=0&&(l===e.charCodeAt(s)?-1==--s&&(r=n):(s=-1,r=c))}return o===r?r=c:-1===r&&(r=t.length),t.slice(o,r)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===r&&(a=!1,r=n+1);return-1===r?"":t.slice(o,r)},extname:function(t){i(t);for(var e=-1,n=0,o=-1,r=!0,a=0,s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(47!==c)-1===o&&(r=!1,o=s+1),46===c?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!r){n=s+1;break}}return-1===e||-1===o||0===a||1===a&&e===o-1&&e===n+1?"":t.slice(e,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+"/"+i:i}(0,t)},parse:function(t){i(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,o=t.charCodeAt(0),r=47===o;r?(e.root="/",n=1):n=0;for(var a=-1,s=0,c=-1,l=!0,u=t.length-1,d=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===o?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!l){s=u+1;break}return-1===a||-1===c||0===d||1===d&&a===c-1&&a===s+1?-1!==c&&(e.base=e.name=t.slice(0===s&&r?1:s,c)):(0===s&&r?(e.name=t.slice(1,a),e.base=t.slice(1,c)):(e.name=t.slice(s,a),e.base=t.slice(s,c)),e.ext=t.slice(a,c)),s>0?e.dir=t.slice(0,s-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},"3X7Y":function(t,e,n){var i=n("u/Db");function o(t){this.mode=i.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);var o=this.data.length-e;o>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*o+1))},t.exports=o},"3zPy":function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,r=String(t);return(n=i[r.toLowerCase()])?n:(n=o[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var r;if(r=i[e.toLowerCase()])return r===n;if(r=o[e.toLowerCase()])return r===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=e.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)i[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)i[r-48]=r;for(r=1;r<13;r++)i["f"+r]=r+111;for(r=0;r<10;r++)i["numpad "+r]=r+96;var a=e.names=e.title={};for(r in i)a[i[r]]=r;for(var s in o)i[s]=o[s]},5:function(t,e){},6:function(t,e){},"7W2i":function(t,e,n){var i=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},"7uVY":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"7zRj":function(t,e,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},r=n(6);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=r),t.exports=i},AZa5:function(t,e,n){var i=n("Wogr"),o=n("u/Db");function r(t){this.mode=o.BYTE,this.data=new i(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=r},BCVQ:function(t,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var o=new RegExp("^"+n+"$"),r=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return r.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},BF8C:function(t,e,n){"use strict";var i=n("vgmO"),o=n("pVnL"),r=n("g2LC");function a(t,e,n){var i=t;return r(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=o({},e,{uri:t}),i.callback=n,i}function s(t,e,n){return c(e=a(t,e,n))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,o){e||(e=!0,t.callback(n,i,o))};function i(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;if(""===t.responseType&&(!t.responseXML||"parsererror"!==t.responseXML.documentElement.nodeName))return t.responseXML}catch(e){}return null}(l),g)try{t=JSON.parse(t)}catch(e){}return t}function o(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function r(){if(!c){var e;clearTimeout(u);var o=m,r=null;return 0!==(e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status)?(o={body:i(),statusCode:e,method:h,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(o.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),i=t.slice(0,n).trim().toLowerCase(),o=t.slice(n+1).trim();void 0===e[i]?e[i]=o:Array.isArray(e[i])?e[i].push(o):e[i]=[e[i],o]})),e):e}(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,o,o.body)}}var a,c,l=t.xhr||null;l||(l=t.cors||t.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var u,d=l.url=t.uri||t.url,h=l.method=t.method||"GET",p=t.body||t.data,f=l.headers=t.headers||{},v=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:l};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(r,0)},l.onload=r,l.onerror=o,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=o,l.open(h,d,!v,t.username,t.password),v||(l.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(u=setTimeout((function(){if(!c){c=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),l.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&l.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(p||null),l}t.exports=s,t.exports.default=s,s.XMLHttpRequest=i.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){s["delete"===t?"del":t]=function(e,n,i){return(n=a(e,n,i)).method=t.toUpperCase(),c(n)}}))},ELBg:function(t,e,n){"use strict";var i={single_source_shortest_paths:function(t,e,n){var o={},r={};r[e]=0;var a,s,c,l,u,d,h=i.PriorityQueue.make();for(h.push(e,0);!h.empty();)for(c in l=(a=h.pop()).cost,u=t[s=a.value]||{})u.hasOwnProperty(c)&&(d=l+u[c],(void 0===r[c]||r[c]>d)&&(r[c]=d,h.push(c,d),o[c]=s));if(void 0!==n&&void 0===r[n]){var p=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e;i;)n.push(i),i=t[i];return n.reverse(),n},find_path:function(t,e,n){var o=i.single_source_shortest_paths(t,e,n);return i.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var e,n=i.PriorityQueue,o={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},J6Nv:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},JzKC:function(t,e,n){var i=n("Wogr"),o=n("aZ40");e.mul=function(t,e){var n=new i(t.length+e.length-1);n.fill(0);for(var r=0;r<t.length;r++)for(var a=0;a<e.length;a++)n[r+a]^=o.mul(t[r],e[a]);return n},e.mod=function(t,e){for(var n=new i(t);n.length-e.length>=0;){for(var r=n[0],a=0;a<e.length;a++)n[a]^=o.mul(e[a],r);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=new i([1]),r=0;r<t;r++)n=e.mul(n,[1,o.exp(r)]);return n}},K4wu:function(t,e,n){var i=n("vgmO"),o=t.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};i.vttjs=o,i.WebVTT=o.WebVTT;var r=o.VTTCue,a=o.VTTRegion,s=i.VTTCue,c=i.VTTRegion;o.shim=function(){i.VTTCue=r,i.VTTRegion=a},o.restore=function(){i.VTTCue=s,i.VTTRegion=c},i.VTTCue||o.shim()},Lzq4:function(t,e,n){var i=n("u/Db"),o=n("e/Dd");function r(t){this.mode=i.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=o.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}t.put(n=192*(n>>>8&255)+(255&n),13)}},t.exports=r},NPxG:function(t,e,n){var i=n("ekOh"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return o[4*(t-1)+0];case i.M:return o[4*(t-1)+1];case i.Q:return o[4*(t-1)+2];case i.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},QAZZ:function(t,e,n){var i=n("Rb7d");function o(t,e){var n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function r(t,e,n){var i=t+e;return void 0!==n&&(i+=" "+n),i}e.render=function(t,e,n){var a=i.getOptions(e),s=t.modules.size,c=t.modules.data,l=s+2*a.margin,u=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+o(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var i="",o=0,a=!1,s=0,c=0;c<t.length;c++){var l=Math.floor(c%e),u=Math.floor(c/e);l||a||(a=!0),t[c]?(s++,c>0&&l>0&&t[c-1]||(i+=a?r("M",l+n,.5+u+n):r("m",o,0),o=0,a=!1),l+1<e&&t[c+1]||(i+=r("h",s),s=0)):o++}return i}(c,s,a.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,h),h}},QUaw:function(t,e,n){var i=n("Rb7d");e.render=function(t,e,n){var o=n,r=e;void 0!==o||e&&e.getContext||(o=e,e=void 0),e||(r=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),o=i.getOptions(o);var a=i.getImageWidth(t.modules.size,o),s=r.getContext("2d"),c=s.createImageData(a,a);return i.qrToImageData(c.data,t,o),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,r,a),s.putImageData(c,0,0),r},e.renderToDataURL=function(t,n,i){var o=i;return void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={}),e.render(t,n,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}},Rb7d:function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=t.width&&t.width>=21?t.width:void 0;return{width:e,scale:e?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var i=e.getScale(t,n);return Math.floor((t+2*n.margin)*i)},e.qrToImageData=function(t,n,i){for(var o=n.modules.size,r=n.modules.data,a=e.getScale(o,i),s=Math.floor((o+2*i.margin)*a),c=i.margin*a,l=[i.color.light,i.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var h=4*(u*s+d),p=i.color.light;u>=c&&d>=c&&u<s-c&&d<s-c&&(p=l[r[Math.floor((u-c)/a)*o+Math.floor((d-c)/a)]?1:0]),t[h++]=p.r,t[h++]=p.g,t[h++]=p.b,t[h]=p.a}}},SksO:function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},Trnl:function(t,e,n){"use strict";function i(){var t=g("volume");if(null!=t){var e=parseFloat(t);if(isNaN(e))return;return e}}function o(){var t=g("webtorrent_enabled");return null==t||"true"===t}function r(){var t=g("mute");if(null!=t)return"true"===t}function a(){var t=g("theater-enabled");return null!=t&&"true"===t}function s(){var t=g("video-quality");if(null!=t)return t}function c(t){return m("video-quality",t)}function l(t){return m("volume",t.toString())}function u(t){return m("mute",t.toString())}function d(t){return m("theater-enabled",t.toString())}function h(t){return m("average-bandwidth",t.toString())}function p(){var t=g("average-bandwidth");if(null!=t){var e=parseInt(t,10);if(isNaN(e))return;return e}}function f(t){return m("last-subtitle",t)}function v(){return g("last-subtitle")}function g(t){try{return localStorage.getItem("peertube-videojs-"+t)}catch(e){return}}function m(t,e){try{localStorage.setItem("peertube-videojs-"+t,e)}catch(n){}}n.d(e,"g",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"k",(function(){return c})),n.d(e,"m",(function(){return l})),n.d(e,"j",(function(){return u})),n.d(e,"l",(function(){return d})),n.d(e,"h",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"b",(function(){return v}))},V35J:function(t,e,n){var i=n("Wogr");function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new i(t*t),this.data.fill(0),this.reservedBit=new i(t*t),this.reservedBit.fill(0)}o.prototype.set=function(t,e,n,i){var o=t*this.size+e;this.data[o]=n,i&&(this.reservedBit[o]=!0)},o.prototype.get=function(t,e){return this.data[t*this.size+e]},o.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},o.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=o},VbXa:function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},Wogr:function(t,e,n){"use strict";var i=n("7uVY"),o=(r.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}())?2147483647:1073741823;function r(t,e,n){return r.TYPED_ARRAY_SUPPORT||this instanceof r?"number"==typeof t?c(this,t):function(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var o;return o=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),r.TYPED_ARRAY_SUPPORT?o.__proto__=r.prototype:o=l(t,o),o}(t,e,n,i):"string"==typeof e?function(t,e){var n=0|d(e),i=s(t,n),o=i.write(e);return o!==n&&(i=i.slice(0,o)),i}(t,e):function(t,e){if(r.isBuffer(e)){var n=0|a(e.length),i=s(t,n);return 0===i.length||e.copy(i,0,0,n),i}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?s(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new r(t,e,n)}function a(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function s(t,e){var n;return r.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=r.prototype:(null===(n=t)&&(n=new r(e)),n.length=e),n}function c(t,e){var n=s(t,e<0?0:0|a(e));if(!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)n[i]=0;return n}function l(t,e){for(var n=e.length<0?0:0|a(e.length),i=s(t,n),o=0;o<n;o+=1)i[o]=255&e[o];return i}function u(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function d(t){return r.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:u(t).length)}r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),r.prototype.write=function(t,e,n){void 0===e||void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,i){return function(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}(u(e,t.length-n),t,n,i)}(this,t,e,n)},r.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=r.prototype;else{var o=e-t;n=new r(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+t]}return n},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,a=i-n;if(this===t&&n<e&&e<i)for(o=a-1;o>=0;--o)t[o+e]=this[o+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},r.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=r.isBuffer(t)?t:new r(t),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this},r.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c(null,e),a=0;for(n=0;n<t.length;++n){var l=t[n];if(!r.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,a),a+=l.length}return o},r.byteLength=d,r.prototype._isBuffer=!0,r.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=r},Z92M:function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},ZyuO:function(t,e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n},a1gu:function(t,e,n){var i=n("cDf5"),o=n("PJYZ");t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?o(t):e}},aZ40:function(t,e,n){var i,o,r=n("Wogr");r.alloc?(i=r.alloc(512),o=r.alloc(256)):(i=new r(512),o=new r(256)),function(){for(var t=1,e=0;e<255;e++)i[e]=t,o[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)i[e]=i[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[o[t]+o[e]]}},b48C:function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},cDf5:function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},cmjK:function(t,e,n){var i,o,r;r=function(t){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.25"}),(t.registerPlugin||t.plugin)("hotkeys",(function(e){var n=this,i=n.el(),o=document,r=(e=(t.mergeOptions||t.util.mergeOptions)({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(t){return 32===t.which||179===t.which},rewindKey:function(t){return 37===t.which||177===t.which},forwardKey:function(t){return 39===t.which||176===t.which},volumeUpKey:function(t){return 38===t.which},volumeDownKey:function(t){return 40===t.which},muteKey:function(t){return 77===t.which},fullscreenKey:function(t){return 70===t.which},customKeys:{}},e||{})).volumeStep,a=e.seekStep,s=e.enableMute,c=e.enableVolumeScroll,l=e.enableHoverScroll,u=e.enableFullscreen,d=e.enableNumbers,h=e.enableJogStyle,p=e.alwaysCaptureHotkeys,f=e.enableModifiersForNumbers,v=e.enableInactiveFocus,g=e.skipInitialFocus,m=t.VERSION;i.hasAttribute("tabIndex")||i.setAttribute("tabIndex","-1"),i.style.outline="none",!p&&n.autoplay()||g||n.one("play",(function(){i.focus()})),v&&n.on("userinactive",(function(){var t=function(){clearTimeout(e)},e=setTimeout((function(){n.off("useractive",t);var e=o.activeElement,r=i.querySelector(".vjs-control-bar");e&&e.parentElement==r&&i.focus()}),10);n.one("useractive",t)})),n.on("play",(function(){var t=i.querySelector(".iframeblocker");t&&""===t.style.display&&(t.style.display="block",t.style.bottom="39px")}));var y=!1,b=i.querySelector(".vjs-volume-menu-button")||i.querySelector(".vjs-volume-panel");null!=b&&(b.onmouseover=function(){y=!0},b.onmouseout=function(){y=!1});var _=function(t){if(l)var e=0;else e=o.activeElement;if(n.controls()&&(p||e==i||e==i.querySelector(".vjs-tech")||e==i.querySelector(".iframeblocker")||e==i.querySelector(".vjs-control-bar")||y)&&c){t=window.event||t;var a=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==a?n.volume(n.volume()+r):-1==a&&n.volume(n.volume()-r)}};function C(t){return"function"==typeof a?a(t):a}function O(t){null!=t&&"function"==typeof t.then&&t.then(null,(function(t){}))}return n.on("keydown",(function(t){var a,c,l=t.which,v=t.preventDefault,g=n.duration();if(n.controls()){var m=o.activeElement;if(p||m==i||m==i.querySelector(".vjs-tech")||m==i.querySelector(".vjs-control-bar")||m==i.querySelector(".iframeblocker"))switch(function(t,n){return e.playPauseKey(t,n)?1:e.rewindKey(t,n)?2:e.forwardKey(t,n)?3:e.volumeUpKey(t,n)?4:e.volumeDownKey(t,n)?5:e.muteKey(t,n)?6:e.fullscreenKey(t,n)?7:void 0}(t,n)){case 1:v(),p&&t.stopPropagation(),n.paused()?O(n.play()):n.pause();break;case 2:a=!n.paused(),v(),a&&n.pause(),(c=n.currentTime()-C(t))<=0&&(c=0),n.currentTime(c),a&&O(n.play());break;case 3:a=!n.paused(),v(),a&&n.pause(),(c=n.currentTime()+C(t))>=g&&(c=a?g-.001:g),n.currentTime(c),a&&O(n.play());break;case 5:v(),h?(c=n.currentTime()-1,n.currentTime()<=1&&(c=0),n.currentTime(c)):n.volume(n.volume()-r);break;case 4:v(),h?((c=n.currentTime()+1)>=g&&(c=g),n.currentTime(c)):n.volume(n.volume()+r);break;case 6:s&&n.muted(!n.muted());break;case 7:u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:if((l>47&&l<59||l>95&&l<106)&&(f||!(t.metaKey||t.ctrlKey||t.altKey))&&d){var y=48;l>95&&(y=96);var b=l-y;v(),n.currentTime(n.duration()*b*.1)}for(var _ in e.customKeys){var P=e.customKeys[_];P&&P.key&&P.handler&&P.key(t)&&(v(),P.handler(n,e,t))}}}})),n.on("dblclick",(function(t){if(null!=m&&m<="7.1.0"&&n.controls()){var e=t.relatedTarget||t.toElement||o.activeElement;e!=i&&e!=i.querySelector(".vjs-tech")&&e!=i.querySelector(".iframeblocker")||u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}})),n.on("mousewheel",_),n.on("DOMMouseScroll",_),this}))},"undefined"!=typeof window&&window.videojs?r(window.videojs):(i=[n("x3Ew")],void 0===(o=(function(t){return r(t.default||t)}).apply(e,i))||(t.exports=o))},"e/Dd":function(t,e){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},e6BP:function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},eQOe:function(t,e){function n(t,n,i){switch(t){case e.Patterns.PATTERN000:return(n+i)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(n+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return n*i%2+n*i%3==0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,n=0,i=0,o=0,r=null,a=null,s=0;s<e;s++){i=o=0,r=a=null;for(var c=0;c<e;c++){var l=t.get(s,c);l===r?i++:(i>=5&&(n+=i-5+3),r=l,i=1),(l=t.get(c,s))===a?o++:(o>=5&&(n+=o-5+3),a=l,o=1)}i>=5&&(n+=i-5+3),o>=5&&(n+=o-5+3)}return n},e.getPenaltyN2=function(t){for(var e=t.size,n=0,i=0;i<e-1;i++)for(var o=0;o<e-1;o++){var r=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);4!==r&&0!==r||n++}return 3*n},e.getPenaltyN3=function(t){for(var e=t.size,n=0,i=0,o=0,r=0;r<e;r++){i=o=0;for(var a=0;a<e;a++)i=i<<1&2047|t.get(r,a),a>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|t.get(a,r),a>=10&&(1488===o||93===o)&&n++}return 40*n},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,i=0;i<n;i++)e+=t.data[i];return 10*Math.abs(Math.ceil(100*e/n/5)-10)},e.applyMask=function(t,e){for(var i=e.size,o=0;o<i;o++)for(var r=0;r<i;r++)e.isReserved(r,o)||e.xor(r,o,n(t,r,o))},e.getBestMask=function(t,n){for(var i=Object.keys(e.Patterns).length,o=0,r=1/0,a=0;a<i;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<r&&(r=s,o=a)}return o}},ekOh:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(i){return n}}},g2LC:function(t,e){t.exports=function(t){if(!t)return!1;var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},jBAH:function(t,e){t.exports=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(o){i=o}return[i,n]}},jSPq:function(t,e,n){var i=n("Wogr"),o=n("JzKC");function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new i(this.degree);e.fill(0);var n=i.concat([t,e],t.length+this.degree),r=o.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){var s=new i(this.degree);return s.fill(0),r.copy(s,a),s}return r},t.exports=r},"kk9/":function(t,e,n){var i=n("e/Dd").getSymbolSize;e.getPositions=function(t){var e=i(t);return[[0,0],[e-7,0],[0,e-7]]}},lYJp:function(t,e,n){var i=n("e/Dd"),o=i.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,r=n<<10;i.getBCHDigit(r)-o>=0;)r^=1335<<i.getBCHDigit(r)-o;return 21522^(n<<10|r)}},nKAH:function(t,e,n){"use strict";t.exports=n("33yf")},nZSm:function(t,e,n){var i=n("u/Db"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=i.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=r},pVnL:function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n.apply(this,arguments)}t.exports=n},qmMu:function(t,e,n){var i=n("Wogr"),o=n("e/Dd"),r=n("ekOh"),a=n("e6BP"),s=n("V35J"),c=n("1sBl"),l=n("kk9/"),u=n("eQOe"),d=n("NPxG"),h=n("jSPq"),p=n("yKow"),f=n("lYJp"),v=n("u/Db"),g=n("vvrf"),m=n("7uVY");function y(t,e,n){var i,o,r=t.size,a=f.getEncodedBits(e,n);for(i=0;i<15;i++)t.set(i<6?i:i<8?i+1:r-15+i,8,o=1==(a>>i&1),!0),t.set(8,i<8?r-i-1:i<9?15-i-1+1:15-i-1,o,!0);t.set(r-8,8,1,!0)}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,f,b=r.M;return void 0!==e&&(b=r.from(e.errorCorrectionLevel,r.M),n=p.from(e.version),f=u.from(e.maskPattern),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),function(t,e,n,r){var f;if(m(t))f=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var b=e;if(!b){var _=g.rawSplit(t);b=p.getBestVersionForData(_,n)}f=g.fromString(t,b||40)}var C=p.getBestVersionForData(f,n);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<C)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+C+".\n")}else e=C;var O=function(t,e,n){var r=new a;n.forEach((function(e){r.put(e.mode.bit,4),r.put(e.getLength(),v.getCharCountIndicator(e.mode,t)),e.write(r)}));var s=8*(o.getSymbolTotalCodewords(t)-d.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var c=(s-r.getLengthInBits())/8,l=0;l<c;l++)r.put(l%2?17:236,8);return function(t,e,n){for(var r=o.getSymbolTotalCodewords(e),a=r-d.getTotalCodewordsCount(e,n),s=d.getBlocksCount(e,n),c=s-r%s,l=Math.floor(r/s),u=Math.floor(a/s),p=u+1,f=l-u,v=new h(f),g=0,m=new Array(s),y=new Array(s),b=0,_=new i(t.buffer),C=0;C<s;C++){var O=C<c?u:p;m[C]=_.slice(g,g+O),y[C]=v.encode(m[C]),g+=O,b=Math.max(b,O)}var P,T,k=new i(r),w=0;for(P=0;P<b;P++)for(T=0;T<s;T++)P<m[T].length&&(k[w++]=m[T][P]);for(P=0;P<f;P++)for(T=0;T<s;T++)k[w++]=y[T][P];return k}(r,t,e)}(e,n,f),P=o.getSymbolSize(e),T=new s(P);return function(t,e){for(var n=t.size,i=l.getPositions(e),o=0;o<i.length;o++)for(var r=i[o][0],a=i[o][1],s=-1;s<=7;s++)if(!(r+s<=-1||n<=r+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||t.set(r+s,a+c,s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4,!0)}(T,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var i=n%2==0;t.set(n,6,i,!0),t.set(6,n,i,!0)}}(T),function(t,e){for(var n=c.getPositions(e),i=0;i<n.length;i++)for(var o=n[i][0],r=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)t.set(o+a,r+s,-2===a||2===a||-2===s||2===s||0===a&&0===s,!0)}(T,e),y(T,n,0),e>=7&&function(t,e){for(var n,i,o,r=t.size,a=p.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),t.set(n,i=s%3+r-8-3,o=1==(a>>s&1),!0),t.set(i,n,o,!0)}(T,e),function(t,e){for(var n=t.size,i=-1,o=n-1,r=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!t.isReserved(o,s-c)){var l=!1;a<e.length&&(l=1==(e[a]>>>r&1)),t.set(o,s-c,l),-1==--r&&(a++,r=7)}if((o+=i)<0||n<=o){o-=i,i=-i;break}}}(T,O),isNaN(r)&&(r=u.getBestMask(T,y.bind(null,T,n))),u.applyMask(r,T),y(T,n,r),{modules:T,version:e,errorCorrectionLevel:n,maskPattern:r,segments:f}}(t,n,b,f)}},sDzi:function(t,e){var n={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function o(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}function r(t,e,i){this.hasBeenReset=!1;var r="",a=!1,s=t,c=e,l=i,u=null,d="",h=!0,p="auto",f="start",v="auto",g="auto",m=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(t){a=!!t}},startTime:{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");s=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(t){h=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=o(t);e?(f=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(t){var e=o(t);e?(g=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");m=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(t){var e=o(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=e,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=r},sXyB:function(t,e,n){var i=n("SksO"),o=n("b48C");function r(e,n,a){return t.exports=r=o()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&i(r,n.prototype),r},r.apply(null,arguments)}t.exports=r},"u/Db":function(t,e,n){var i=n("J6Nv"),o=n("BCVQ");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return o.testNumeric(t)?e.NUMERIC:o.testAlphanumeric(t)?e.ALPHANUMERIC:o.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(i){return n}}},vgmO:function(t,e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n},vvrf:function(t,e,n){var i=n("u/Db"),o=n("3X7Y"),r=n("nZSm"),a=n("AZa5"),s=n("Lzq4"),c=n("BCVQ"),l=n("e/Dd"),u=n("ELBg");function d(t){return unescape(encodeURIComponent(t)).length}function h(t,e,n){for(var i,o=[];null!==(i=t.exec(n));)o.push({data:i[0],index:i.index,mode:e,length:i[0].length});return o}function p(t){var e,n,o=h(c.NUMERIC,i.NUMERIC,t),r=h(c.ALPHANUMERIC,i.ALPHANUMERIC,t);return l.isKanjiModeEnabled()?(e=h(c.BYTE,i.BYTE,t),n=h(c.KANJI,i.KANJI,t)):(e=h(c.BYTE_KANJI,i.BYTE,t),n=[]),o.concat(r,e,n).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case i.NUMERIC:return o.getBitsLength(t);case i.ALPHANUMERIC:return r.getBitsLength(t);case i.KANJI:return s.getBitsLength(t);case i.BYTE:return a.getBitsLength(t)}}function v(t,e){var n,c=i.getBestModeForData(t);if((n=i.from(e,c))!==i.BYTE&&n.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(c));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new o(t);case i.ALPHANUMERIC:return new r(t);case i.KANJI:return new s(t);case i.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(v(e,null)):e.data&&t.push(v(e.data,e.mode)),t}),[])},e.fromString=function(t,n){for(var o=function(t,e){for(var n={},o={start:{}},r=["start"],a=0;a<t.length;a++){for(var s=t[a],c=[],l=0;l<s.length;l++){var u=s[l],d=""+a+l;c.push(d),n[d]={node:u,lastCount:0},o[d]={};for(var h=0;h<r.length;h++){var p=r[h];n[p]&&n[p].node.mode===u.mode?(o[p][d]=f(n[p].lastCount+u.length,u.mode)-f(n[p].lastCount,u.mode),n[p].lastCount+=u.length):(n[p]&&(n[p].lastCount=u.length),o[p][d]=f(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,e))}}r=c}for(h=0;h<r.length;h++)o[r[h]].end=0;return{map:o,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case i.NUMERIC:e.push([o,{data:o.data,mode:i.ALPHANUMERIC,length:o.length},{data:o.data,mode:i.BYTE,length:o.length}]);break;case i.ALPHANUMERIC:e.push([o,{data:o.data,mode:i.BYTE,length:o.length}]);break;case i.KANJI:e.push([o,{data:o.data,mode:i.BYTE,length:d(o.data)}]);break;case i.BYTE:e.push([{data:o.data,mode:i.BYTE,length:d(o.data)}])}}return e}(p(t,l.isKanjiModeEnabled())),n),r=u.find_path(o.map,"start","end"),a=[],s=1;s<r.length-1;s++)a.push(o.table[r[s]].node);return e.fromArray(a.reduce((function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(p(t,l.isKanjiModeEnabled()))}},x3Ew:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=i(n("ZyuO")),r=i(n("zFeg")),a=i(n("pVnL")),s=i(n("PJYZ"));n("a1gu"),n("Nsbk");var c=i(n("VbXa")),l=i(n("jBAH")),u=i(n("3zPy")),d=i(n("BF8C")),h=i(n("K4wu")),p=i(n("sXyB")),f=i(n("7W2i")),v=[],g=function t(e){var n,i="info",r=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];n("log",i,e)};return n=function(t,e){return function(n,i,r){var a=e.levels[i],s=new RegExp("^("+a+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(t+":"),v){v.push([].concat(r));var c=v.length-1e3;v.splice(0,c>0?c:0)}if(o.console){var l=o.console[n];l||"debug"!==n||(l=o.console.info||o.console.log),l&&a&&s.test(n)&&l[Array.isArray(r)?"apply":"call"](o.console,r)}}}(e,r),r.createLogger=function(n){return t(e+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},(r.history=function(){return v?[].concat(v):[]}).filter=function(t){return(v||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},r.history.clear=function(){v&&(v.length=0)},r.history.disable=function(){null!==v&&(v.length=0,v=null)},r.history.enable=function(){null===v&&(v=[])},r.error=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n("error",i,e)},r.warn=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n("warn",i,e)},r.debug=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n("debug",i,e)},r}("VIDEOJS"),m=g.createLogger,y=Object.prototype.toString,b=function(t){return O(t)?Object.keys(t):[]};function _(t,e){b(t).forEach((function(n){return e(t[n],n)}))}function C(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?a.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&_(e,(function(e,n){t[n]=e}))})),t)}function O(t){return!!t&&"object"==typeof t}function P(t){return O(t)&&"[object Object]"===y.call(t)&&t.constructor===Object}function T(t,e){if(!t||!e)return"";if("function"==typeof o.getComputedStyle){var n=o.getComputedStyle(t);return n?n.getPropertyValue(e)||n[e]:""}return""}function k(t){return"string"==typeof t&&Boolean(t.trim())}function w(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function M(){return r===o.document}function x(t){return O(t)&&1===t.nodeType}function E(){try{return o.parent!==o.self}catch(t){return!0}}function S(t){return function(e,n){if(!k(e))return r[t](null);k(n)&&(n=r.querySelector(n));var i=x(n)?n:r;return i[t]&&i[t](e)}}function j(t,e,n,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var o=r.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(g.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+n+"."),o.setAttribute(t,n)):"textContent"===t?I(o,n):o[t]!==n&&(o[t]=n)})),Object.getOwnPropertyNames(n).forEach((function(t){o.setAttribute(t,n[t])})),i&&G(o,i),o}function I(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function A(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function L(t,e){return w(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function R(t,e){return t.classList?t.classList.add(e):L(t,e)||(t.className=(t.className+" "+e).trim()),t}function D(t,e){return t.classList?t.classList.remove(e):(w(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function N(t,e,n){var i=L(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?R(t,e):D(t,e),t}function B(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)}))}function V(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof t[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),e[o]=r}return e}function z(t,e){return t.getAttribute(e)}function F(t,e,n){t.setAttribute(e,n)}function H(t,e){t.removeAttribute(e)}function U(){r.body.focus(),r.onselectstart=function(){return!1}}function J(){r.onselectstart=function(){return!0}}function q(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(T(t,"height"))),n.width||(n.width=parseFloat(T(t,"width"))),n}}function K(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=r.documentElement,i=r.body,a=e.top+(o.pageYOffset||i.scrollTop)-(n.clientTop||i.clientTop||0);return{left:Math.round(e.left+(o.pageXOffset||i.scrollLeft)-(n.clientLeft||i.clientLeft||0)),top:Math.round(a)}}function W(t,e){var n={},i=K(t),o=t.offsetWidth,r=t.offsetHeight,a=i.left,s=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(i.top-s+r)/r)),n.x=Math.max(0,Math.min(1,(c-a)/o)),n}function Y(t){return O(t)&&3===t.nodeType}function $(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function X(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),x(t)||Y(t)?t:"string"==typeof t&&/\S/.test(t)?r.createTextNode(t):void 0})).filter((function(t){return t}))}function G(t,e){return X(e).forEach((function(e){return t.appendChild(e)})),t}function Q(t,e){return G($(t),e)}function Z(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var tt,et=S("querySelector"),nt=S("querySelectorAll"),it=Object.freeze({isReal:M,isEl:x,isInFrame:E,createEl:j,textContent:I,prependTo:A,hasClass:L,addClass:R,removeClass:D,toggleClass:N,setAttributes:B,getAttributes:V,getAttribute:z,setAttribute:F,removeAttribute:H,blockTextSelection:U,unblockTextSelection:J,getBoundingClientRect:q,findPosition:K,getPointerPosition:W,isTextNode:Y,emptyEl:$,normalizeContent:X,appendContent:G,insertContent:Q,isSingleLeftClick:Z,$:et,$$:nt}),ot=!1,rt=function(){if(M()&&!1!==tt.options.autoSetup){var t=Array.prototype.slice.call(r.getElementsByTagName("video")),e=Array.prototype.slice.call(r.getElementsByTagName("audio")),n=Array.prototype.slice.call(r.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var s=i[o];if(!s||!s.getAttribute){at(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&tt(s)}else ot||at(1)}};function at(t,e){e&&(tt=e),o.setTimeout(rt,t)}function st(){ot=!0,o.removeEventListener("load",st)}M()&&("complete"===r.readyState?st():o.addEventListener("load",st));var ct,lt=function(t){var e=r.createElement("style");return e.className=t,e},ut=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},dt=3;function ht(){return dt++}o.WeakMap||(ct=function(){function t(){this.vdata="vdata"+Math.floor(o.performance&&o.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var n=t[this.vdata]||ht();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];g("We have no data for this element",t)},e.has=function(t){return t[this.vdata]in this.data},e.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var pt,ft=o.WeakMap?new WeakMap:new ct;function vt(t,e){if(ft.has(t)){var n=ft.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ft.delete(t)}}function gt(t,e,n,i){n.forEach((function(n){t(e,n,i)}))}function mt(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||o.event;for(var a in t={},i)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&i.preventDefault||(t[a]=i[a]));if(t.target||(t.target=t.srcElement||r),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var s=r.documentElement,c=r.body;t.pageX=t.clientX+(s&&s.scrollLeft||c&&c.scrollLeft||0)-(s&&s.clientLeft||c&&c.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||c&&c.scrollTop||0)-(s&&s.clientTop||c&&c.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var yt=["touchstart","touchmove"];function bt(t,e,n){if(Array.isArray(e))return gt(bt,t,e,n);ft.has(t)||ft.set(t,{});var i=ft.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=ht()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=mt(e);var o=i.handlers[e.type];if(o)for(var r=o.slice(0),a=0,s=r.length;a<s&&!e.isImmediatePropagationStopped();a++)try{r[a].call(t,e,n)}catch(c){g.error(c)}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;(function(){if("boolean"!=typeof pt){pt=!1;try{var t=Object.defineProperty({},"passive",{get:function(){pt=!0}});o.addEventListener("test",null,t),o.removeEventListener("test",null,t)}catch(e){}}return pt})()&&yt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function _t(t,e,n){if(ft.has(t)){var i=ft.get(t);if(i.handlers){if(Array.isArray(e))return gt(_t,t,e,n);var o=function(t,e){i.handlers[e]=[],vt(t,e)};if(void 0!==e){var r=i.handlers[e];if(r)if(n){if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);vt(t,e)}else o(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&o(t,s)}}}function Ct(t,e,n){var i=ft.has(t)?ft.get(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=mt(e),i.dispatcher&&i.dispatcher.call(t,e,n),o&&!e.isPropagationStopped()&&!0===e.bubbles)Ct.call(null,o,e,n);else if(!o&&!e.defaultPrevented&&e.target&&e.target[e.type]){ft.has(e.target)||ft.set(e.target,{});var r=ft.get(e.target);e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function Ot(t,e,n){if(Array.isArray(e))return gt(Ot,t,e,n);var i=function i(){_t(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ht(),bt(t,e,i)}function Pt(t,e,n){var i=function i(){_t(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ht(),bt(t,e,i)}var Tt,kt=Object.freeze({fixEvent:mt,on:bt,off:_t,trigger:Ct,one:Ot,any:Pt}),wt=function(t,e,n){e.guid||(e.guid=ht());var i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},Mt=function(t,e){var n=o.performance.now();return function(){var i=o.performance.now();i-n>=e&&(t.apply(void 0,arguments),n=i)}},xt=function(){};xt.prototype.allowedEvents_={},xt.prototype.addEventListener=xt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},bt(this,t,e),this.addEventListener=n},xt.prototype.removeEventListener=xt.prototype.off=function(t,e){_t(this,t,e)},xt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Ot(this,t,e),this.addEventListener=n},xt.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Pt(this,t,e),this.addEventListener=n},xt.prototype.dispatchEvent=xt.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=mt(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Ct(this,t)},xt.prototype.queueTrigger=function(t){var e=this;Tt||(Tt=new Map);var n=t.type||t,i=Tt.get(this);i||(i=new Map,Tt.set(this,i));var r=i.get(n);i.delete(n),o.clearTimeout(r);var a=o.setTimeout((function(){0===i.size&&(i=null,Tt.delete(e)),e.trigger(t)}),0);i.set(n,a)};var Et=function(t){return t instanceof xt||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},St=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},jt=function(t){if(!t.nodeName&&!Et(t))throw new Error("Invalid target; must be a DOM node or evented object.")},It=function(t){if(!St(t))throw new Error("Invalid event type; must be a non-empty string or array.")},At=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Lt=function(t,e){var n,i,o,r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return r?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],o=e[1]):(n=e[0],i=e[1],o=e[2]),jt(n),It(i),At(o),{isTargetingSelf:r,target:n,type:i,listener:o=wt(t,o)}},Rt=function(t,e,n,i){jt(t),t.nodeName?kt[e](t,n,i):t[e](n,i)},Dt={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Lt(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(Rt(a,"on",s,c),!r){var l=function(){return t.off(a,s,c)};l.guid=c.guid;var u=function(){return t.off("dispose",l)};u.guid=c.guid,Rt(this,"on","dispose",l),Rt(a,"on","dispose",u)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Lt(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(r)Rt(a,"one",s,c);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];c.apply(null,i)};l.guid=c.guid,Rt(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Lt(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(r)Rt(a,"any",s,c);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];c.apply(null,i)};l.guid=c.guid,Rt(a,"any",s,l)}},off:function(t,e,n){if(!t||St(t))_t(this.eventBusEl_,t,e);else{var i=t,o=e;jt(i),It(o),At(n),n=wt(this,n),this.off("dispose",n),i.nodeName?(_t(i,o,n),_t(i,"dispose",n)):Et(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(t,e){return Ct(this.eventBusEl_,t,e)}};function Nt(t,e){void 0===e&&(e={});var n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=j("span",{className:"vjs-event-bus"});return C(t,Dt),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(t){t()})),t.on("dispose",(function(){t.off(),o.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var Bt={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),_(t,(function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t})),e&&Et(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Vt(t,e){return C(t,Bt),t.state=C({},t.state,e),"function"==typeof t.handleStateChanged&&Et(t)&&t.on("statechanged",t.handleStateChanged),t}var zt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},Ft=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Ht(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){e&&_(e,(function(e,n){P(e)?(P(t[n])||(t[n]={}),t[n]=Ht(t[n],e)):t[n]=e}))})),t}var Ut=function(){function t(t,e,n){if(this.player_=!t&&this.play?t=this:t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ht({},this.options_),e=this.options_=Ht(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+ht()}var r;this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Nt(this,{eventBusKey:this.el_?"el_":null}),Vt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},o.Set||(r=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}()),this.setTimeoutIds_=o.Set?new Set:new r,this.setIntervalIds_=o.Set?new Set:new r,this.rafIds_=o.Set?new Set:new r,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ft.has(this.el_)&&ft.delete(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=Ht(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,n){return j(t,e,n)},e.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),r=o&&o[i],a=i&&i.split("-")[0],s=o&&o[a],c=n;return r&&r[t]?c=r[t]:s&&s[t]&&(c=s[t]),e&&(c=c.replace(/\{(\d+)\}/g,(function(t,n){var i=e[n-1],o=i;return void 0===i&&(o=t),o}))),c},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.addChild=function(e,n,i){var o,r;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof e){r=Ft(e);var a=n.componentClass||r;n.name=r;var s=t.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;o=new s(this.player_||this,n)}else o=e;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(i,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(r=r||o.name&&Ft(o.name()))&&(this.childNameIndex_[r]=o,this.childNameIndex_[zt(r)]=o),"function"==typeof o.el&&o.el()){var c=null;this.children_[i+1]&&this.children_[i+1].el_&&(c=this.children_[i+1].el_),this.contentEl().insertBefore(o.el(),c)}return o},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Ft(t.name())]=null,this.childNameIndex_[zt(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,n=this.options_.children;if(n){var i,o=this.options_,r=t.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(t){var i,o;return"string"==typeof t?o=n[i=t]||e.options_[i]||{}:(i=t.name,o=t),{name:i,opts:o}})).filter((function(e){var n=t.getComponent(e.opts.componentClass||Ft(e.name));return n&&!r.isTech(n)})).forEach((function(t){var n=t.name,i=t.opts;if(void 0!==o[n]&&(i=o[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var r=e.addChild(n,i);r&&(e[n]=r)}}))}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},e.$=function(t,e){return et(t,e||this.contentEl())},e.$$=function(t,e){return nt(t,e||this.contentEl())},e.hasClass=function(t){return L(this.el_,t)},e.addClass=function(t){R(this.el_,t)},e.removeClass=function(t){D(this.el_,t)},e.toggleClass=function(t,e){N(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return z(this.el_,t)},e.setAttribute=function(t,e){F(this.el_,t,e)},e.removeAttribute=function(t){H(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),this.el_.style[t]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+Ft(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=T(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+Ft(t);e=this.el_[n]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=o.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(n){var i=e.touches[0].pageX-n.pageX,o=e.touches[0].pageY-n.pageY;Math.sqrt(i*i+o*o)>10&&(t=!1)}}));var i=function(){t=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){n=null,!0===t&&o.performance.now()-e<200&&(i.preventDefault(),this.trigger("tap"))}))},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=wt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(t,e){var n,i=this;return t=wt(this,t),this.clearTimersOnDispose_(),n=o.setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),t()}),e),this.setTimeoutIds_.add(n),n},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),o.clearTimeout(t)),t},e.setInterval=function(t,e){t=wt(this,t),this.clearTimersOnDispose_();var n=o.setInterval(t,e);return this.setIntervalIds_.add(n),n},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),o.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=wt(this,t),e=o.requestAnimationFrame((function(){n.rafIds_.has(e)&&n.rafIds_.delete(e),t()})),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),o.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){t[e[0]].forEach(t[e[1]],t)})),t.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),o=i&&i.isTech(n),r=t===n||t.prototype.isPrototypeOf(n.prototype);if(o||!r)throw new Error('Illegal component, "'+e+'"; '+(o?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");e=Ft(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var s=a.players,c=Object.keys(s);if(s&&c.length>0&&c.map((function(t){return s[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,t.components_[zt(e)]=n,n},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();Ut.prototype.supportsRaf_="function"==typeof o.requestAnimationFrame&&"function"==typeof o.cancelAnimationFrame,Ut.registerComponent("Component",Ut);var Jt,qt,Kt,Wt=o.navigator&&o.navigator.userAgent||"",Yt=/AppleWebKit\/([\d.]+)/i.exec(Wt),$t=Yt?parseFloat(Yt.pop()):null,Xt=/iPod/i.test(Wt),Gt=(Jt=Wt.match(/OS (\d+)_/i))&&Jt[1]?Jt[1]:null,Qt=/Android/i.test(Wt),Zt=function(){var t=Wt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),te=Qt&&Zt<5&&$t<537,ee=/Firefox/i.test(Wt),ne=/Edg/i.test(Wt),ie=!ne&&(/Chrome/i.test(Wt)||/CriOS/i.test(Wt)),oe=function(){var t=Wt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),re=(!(Kt=(qt=/MSIE\s(\d+)\.\d/.exec(Wt))&&parseFloat(qt[1]))&&/Trident\/7.0/i.test(Wt)&&/rv:11.0/.test(Wt)&&(Kt=11),Kt),ae=/Safari/i.test(Wt)&&!ie&&!Qt&&!ne,se=/Windows/i.test(Wt),ce=M()&&("ontouchstart"in o||o.navigator.maxTouchPoints||o.DocumentTouch&&o.document instanceof o.DocumentTouch),le=/iPad/i.test(Wt)||ae&&ce&&!/iPhone/i.test(Wt),ue=/iPhone/i.test(Wt)&&!le,de=ue||le||Xt,he=(ae||de)&&!ie,pe=Object.freeze({IS_IPOD:Xt,IOS_VERSION:Gt,IS_ANDROID:Qt,ANDROID_VERSION:Zt,IS_NATIVE_ANDROID:te,IS_FIREFOX:ee,IS_EDGE:ne,IS_CHROME:ie,CHROME_VERSION:oe,IE_VERSION:re,IS_SAFARI:ae,IS_WINDOWS:se,TOUCH_ENABLED:ce,IS_IPAD:le,IS_IPHONE:ue,IS_IOS:de,IS_ANY_SAFARI:he});function fe(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function ve(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:fe.bind(null,"start",0,t),end:fe.bind(null,"end",1,t)}}function ge(t,e){return Array.isArray(t)?ve(t):void 0===t||void 0===e?ve():ve([[t,e]])}function me(t,e){var n,i,o=0;if(!e)return 0;t&&t.length||(t=ge(0,0));for(var r=0;r<t.length;r++)n=t.start(r),(i=t.end(r))>e&&(i=e),o+=i-n;return o/e}for(var ye,be={prefixed:!0},_e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ce=_e[0],Oe=0;Oe<_e.length;Oe++)if(_e[Oe][1]in r){ye=_e[Oe];break}if(ye){for(var Pe=0;Pe<ye.length;Pe++)be[Ce[Pe]]=ye[Pe];be.prefixed=ye[0]!==Ce[0]}function Te(t){if(t instanceof Te)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:O(t)&&("number"==typeof t.code&&(this.code=t.code),C(this,t)),this.message||(this.message=Te.defaultMessages[this.code]||"")}Te.prototype.code=0,Te.prototype.message="",Te.prototype.status=null,Te.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Te.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ke=0;ke<Te.errorTypes.length;ke++)Te[Te.errorTypes[ke]]=ke,Te.prototype[Te.errorTypes[ke]]=ke;function we(t){return null!=t&&"function"==typeof t.then}function Me(t){we(t)&&t.then(null,(function(t){}))}var xe=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,i){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Ee=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=j("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=j("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),I(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Q(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},n.empty=function(){this.trigger("beforemodalempty"),$(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return void 0!==t&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=r.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),u.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(u.isEventKey(t,"Tab")){for(var e,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),o=0;o<n.length;o++)if(i===n[o]){e=o;break}r.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof o.HTMLAnchorElement||t instanceof o.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof o.HTMLInputElement||t instanceof o.HTMLSelectElement||t instanceof o.HTMLTextAreaElement||t instanceof o.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof o.HTMLIFrameElement||t instanceof o.HTMLObjectElement||t instanceof o.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(Ut);Ee.prototype.options_={pauseOnOpen:!0,temporary:!0},Ut.registerComponent("ModalDialog",Ee);var Se=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(s(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}c(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===t){e=o;break}}return e},e}(xt);for(var je in Se.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Se.prototype.allowedEvents_)Se.prototype["on"+je]=null;var Ie=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Ae=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){Ie(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}c(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Ie(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Ie(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Se),Le=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Re=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){Le(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(s(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}c(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&Le(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Le(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Se),De=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Se),Ne=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Be=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var o=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)o.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===t){e=o;break}}return e},t}(),Ve={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ze={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Fe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},He={disabled:"disabled",hidden:"hidden",showing:"showing"},Ue=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+ht(),kind:e.kind||"",label:e.label||"",language:e.language||""},o=function(t){Object.defineProperty(s(n),t,{get:function(){return i[t]},set:function(){}})};for(var r in i)o(r);return n}return c(e,t),e}(xt),Je=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=r.createElement("a");n.href=t;var i,a=""===n.host&&"file:"!==n.protocol;a&&((i=r.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),r.body.appendChild(i));for(var s={},c=0;c<e.length;c++)s[e[c]]=n[e[c]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=o.location.protocol),a&&r.body.removeChild(i),s},qe=function(t){if(!t.match(/^https?:\/\//)){var e=r.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Ke=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},We=function(t,e){void 0===e&&(e=o.location);var n=Je(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},Ye=Object.freeze({parseUrl:Je,getAbsoluteURL:qe,getFileExtension:Ke,isCrossOrigin:We}),$e=function(t,e){var n=new o.WebVTT.Parser(o,o.vttjs,o.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(o.console&&o.console.groupCollapsed&&o.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach((function(t){return g.error(t)})),o.console&&o.console.groupEnd&&o.console.groupEnd()),n.flush()},Xe=function(t,e){var n={uri:t},i=We(t);i&&(n.cors=i),d(n,wt(this,(function(t,n,i){if(t)return g.error(t,n);e.loaded_=!0,"function"!=typeof o.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return $e(i,e);g.error("vttjs failed to load, stopping trying to process "+e.src)})):$e(i,e)})))},Ge=function(t){function e(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Ht(e,{kind:Fe[e.kind]||"subtitles",language:e.language||e.srclang||""}),o=He[i.mode]||"disabled",r=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden"),(n=t.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new Be(n.cues_),c=new Be(n.activeCues_),l=!1,u=wt(s(n),(function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)}));return"disabled"!==o&&n.tech_.ready((function(){n.tech_.on("timeupdate",u)}),!0),Object.defineProperties(s(n),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return o},set:function(t){var e=this;He[t]&&(o=t,this.preload_||"disabled"===o||0!==this.cues.length||Xe(this.src,this),"disabled"!==o?this.tech_.ready((function(){e.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];(o.startTime<=t&&o.endTime>=t||o.startTime===o.endTime&&o.startTime<=t&&o.startTime+.5>=t)&&e.push(o)}if(l=!1,e.length!==this.activeCues_.length)l=!0;else for(var r=0;r<e.length;r++)-1===this.activeCues_.indexOf(e[r])&&(l=!0);return this.activeCues_=e,c.setCues_(this.activeCues_),c},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||r||"subtitles"!==i.kind&&"captions"!==i.kind)&&Xe(n.src,s(n))):n.loaded_=!0,n}c(e,t);var n=e.prototype;return n.addCue=function(t){var e=t;if(o.vttjs&&!(t instanceof o.vttjs.VTTCue)){for(var n in e=new o.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Ue);Ge.prototype.allowedEvents_={cuechange:"cuechange"};var Qe=function(t){function e(e){var n;void 0===e&&(e={});var i=Ht(e,{kind:ze[e.kind]||""});n=t.call(this,i)||this;var o=!1;return Object.defineProperty(s(n),"enabled",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return c(e,t),e}(Ue),Ze=function(t){function e(e){var n;void 0===e&&(e={});var i=Ht(e,{kind:Ve[e.kind]||""});n=t.call(this,i)||this;var o=!1;return Object.defineProperty(s(n),"selected",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return c(e,t),e}(Ue),tn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var o=new Ge(e);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(s(n),{readyState:{get:function(){return i}},track:{get:function(){return o}}}),i=0,o.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:s(n)})})),n}return c(e,t),e}(xt);tn.prototype.allowedEvents_={load:"load"},tn.NONE=0,tn.LOADING=1,tn.LOADED=2,tn.ERROR=3;var en={audio:{ListClass:Ae,TrackClass:Qe,capitalName:"Audio"},video:{ListClass:Re,TrackClass:Ze,capitalName:"Video"},text:{ListClass:De,TrackClass:Ge,capitalName:"Text"}};Object.keys(en).forEach((function(t){en[t].getterName=t+"Tracks",en[t].privateName=t+"Tracks_"}));var nn={remoteText:{ListClass:De,TrackClass:Ge,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ne,TrackClass:tn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},on=a({},en,nn);nn.names=Object.keys(nn),en.names=Object.keys(en),on.names=[].concat(nn.names).concat(en.names);var rn=function(t){function e(e,n){var i;return void 0===e&&(e={}),void 0===n&&(n=function(){}),e.reportTouchActivity=!1,(i=t.call(this,null,e,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),on.names.forEach((function(t){var n=on[t];e&&e[n.getterName]&&(i[n.privateName]=e[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==e.preloadTextTracks,i.autoRemoteTextTracks_=new on.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}c(e,t);var n=e.prototype;return n.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(wt(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return ge(0,0)},n.bufferedPercent=function(){return me(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(en.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var o=n[i];"text"===t&&e.removeRemoteTextTrack(o),n.removeTrack(o)}}))},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;)this.removeRemoteTextTrack(t[e])},n.reset=function(){},n.error=function(t){return void 0!==t&&(this.error_=new Te(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?ge(0,0):ge()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;en.names.forEach((function(e){var n=function(){t.trigger(e+"trackchange")},i=t[en[e].getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),t.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},n.addWebVttScript_=function(){var t=this;if(!o.WebVTT)if(r.body.contains(this.el())){if(!this.options_["vtt.js"]&&P(h)&&Object.keys(h).length>0)return void this.trigger("vttjsloaded");var e=r.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),o.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},o=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",o),this.addWebVttScript_();var r=function(){return t.trigger("texttrackchange")},a=function(){r();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",o),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",r)}))},n.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,o){void 0===o&&(o={});var r=t.textTracks();o.kind=e,n&&(o.label=n),i&&(o.language=i),o.tech=t;var a=new on.text.TrackClass(o);return r.addTrack(a),a}(this,t,e,n)},n.createRemoteTextTrack=function(t){var e=Ht(t,{tech:this});return new nn.remoteTextEl.TrackClass(e)},n.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(g.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||o.Promise;if(t)return t.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ft(t),e.techs_[t]=n,e.techs_[zt(t)]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=Ft(t),o&&o.videojs&&o.videojs[t]?(g.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),o.videojs[t]):void 0)},e}(Ut);on.names.forEach((function(t){var e=on[t];rn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),rn.prototype.featuresVolumeControl=!0,rn.prototype.featuresMuteControl=!0,rn.prototype.featuresFullscreenResize=!1,rn.prototype.featuresPlaybackRate=!1,rn.prototype.featuresProgressEvents=!1,rn.prototype.featuresSourceset=!1,rn.prototype.featuresTimeupdateEvents=!1,rn.prototype.featuresNativeTextTracks=!1,rn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],o=0;o<i.length;o++)if(n=i[o].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],o=0;o<i.length;o++)if(i[o].canHandleSource(e,n))return i[o];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:g.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ut.registerComponent("Tech",rn),rn.registerTech("Tech",rn),rn.defaultTechOrder_=[];var an={},sn={},cn={};function ln(t,e,n,i){void 0===i&&(i=null);var o="call"+Ft(n),r=t.reduce(pn(o),i),a=r===cn,s=a?null:e[n](r);return function(t,e,n,i){for(var o=t.length-1;o>=0;o--){var r=t[o];r[e]&&r[e](i,n)}}(t,n,s,a),s}var un={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},dn={setCurrentTime:1,setMuted:1,setVolume:1},hn={play:1,pause:1};function pn(t){return function(e,n){return e===cn?cn:n[t]?n[t](e):e}}var fn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},vn=function(t){void 0===t&&(t="");var e=Ke(t);return fn[e.toLowerCase()]||""};function gn(t){if(!t.type){var e=vn(t.src);e&&(t.type=e)}return t}var mn=function(t){function e(e,n,i){var o,r=Ht({createEl:!1},n);if(o=t.call(this,e,r,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var c=Ft(s[a]),l=rn.getTech(c);if(c||(l=Ut.getComponent(c)),l&&l.isSupported()){e.loadTech_(c);break}}return o}return c(e,t),e}(Ut);Ut.registerComponent("MediaLoader",mn);var yn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}c(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&g.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=C({role:"button"},i),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=j("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,I(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){u.isEventKey(e,"Space")||u.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Ut);Ut.registerComponent("ClickableComponent",yn),Ut.registerComponent("PosterImage",function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",wt(s(i),i.update)),i}c(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return j("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(re||ne)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Me(this.player_.play()):this.player_.pause()}},e}(yn));var bn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _n(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Cn(t,e,n){try{t.style[e]=n}catch(i){return}}Ut.registerComponent("TextTrackDisplay",function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var a=wt(s(r),r.updateDisplay);return e.on("loadstart",wt(s(r),r.toggleDisplay)),e.on("texttrackchange",a),e.on("loadedmetadata",wt(s(r),r.preselectTrack)),e.ready(wt(s(r),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),o.addEventListener("orientationchange",a),e.on("dispose",(function(){return o.removeEventListener("orientationchange",a)}));for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}}))),r}c(e,t);var n=e.prototype;return n.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},o=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,a=0;a<o.length;a++){var s=o[a];r&&r.enabled&&r.language&&r.language===s.language&&s.kind in i?s.kind===r.kind?n=s:n||(n=s):r&&!r.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof o.WebVTT&&o.WebVTT.processCues(o,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var o=t[i];"showing"===o.mode&&n.push(o)}this.updateForTrack(n)}else{for(var r=null,a=null,s=t.length;s--;){var c=t[s];"showing"===c.mode&&("descriptions"===c.kind?r=c:a=c)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):r&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))}},n.updateDisplayState=function(t){for(var e=this.player_.textTrackSettings.getValues(),n=t.activeCues,i=n.length;i--;){var r=n[i];if(r){var a=r.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&Cn(a.firstChild,"color",_n(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&Cn(a.firstChild,"backgroundColor",_n(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?Cn(a,"backgroundColor",_n(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent){var s=o.parseFloat(a.style.fontSize);a.style.fontSize=s*e.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=bn[e.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof o.WebVTT&&!t.every((function(t){return!t.activeCues}))){for(var e=[],n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.activeCues.length;++r)e.push(i.activeCues[r]);o.WebVTT.processCues(o,e,this.el_);for(var a=0;a<t.length;++a){for(var s=t[a],c=0;c<s.activeCues.length;++c){var l=s.activeCues[c].displayState;R(l,"vjs-text-track-cue"),R(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},e}(Ut)),Ut.registerComponent("LoadingSpinner",function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=j("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(i),o},e}(Ut));var On=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=C({type:"button"},n);var i=Ut.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){return void 0===e&&(e={}),g.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),Ut.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){u.isEventKey(e,"Space")||u.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(yn);Ut.registerComponent("Button",On);var Pn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Me(e),void(!this.player_.tech(!0)||(re||ne)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),o=i&&i.getChild("playToggle");if(o){var r=function(){return o.focus()};we(e)?e.then(r,(function(){})):this.setTimeout(r,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(On);Pn.prototype.controlText_="Play Video",Ut.registerComponent("BigPlayButton",Pn),Ut.registerComponent("CloseButton",function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){u.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(On));var Tn=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(On);Tn.prototype.controlText_="Play",Ut.registerComponent("PlayToggle",Tn);var kn=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(o=i=n="-"),(o=o>0||a>0?o+":":"")+(i=((o||r>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},wn=kn;function Mn(t,e){return void 0===e&&(e=t),wn(t,e)}var xn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=j("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=Mn(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestAnimationFrame((function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=r.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},n.updateContent=function(t){},e}(Ut);xn.prototype.labelText_="Time",xn.prototype.controlText_="Time",Ut.registerComponent("TimeDisplay",xn);var En=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(xn);En.prototype.labelText_="Current Time",En.prototype.controlText_="Current Time",Ut.registerComponent("CurrentTimeDisplay",En);var Sn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(xn);Sn.prototype.labelText_="Duration",Sn.prototype.controlText_="Duration",Ut.registerComponent("DurationDisplay",Sn),Ut.registerComponent("TimeDivider",function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Ut));var jn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(j("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(xn);jn.prototype.labelText_="Remaining Time",jn.prototype.controlText_="Remaining Time",Ut.registerComponent("RemainingTimeDisplay",jn),Ut.registerComponent("LiveDisplay",function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=j("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Ut));var In=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=j("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(On);In.prototype.controlText_="Seek to live, currently playing live",Ut.registerComponent("SeekToLive",In);var An=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},Ln=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}c(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=C({tabIndex:0},n),i=C({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||ie||t.preventDefault(),U(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;J(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestAnimationFrame((function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(An(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=W(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){u.isEventKey(e,"Left")||u.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):u.isEventKey(e,"Right")||u.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},e}(Ut);Ut.registerComponent("Slider",Ln);var Rn=function(t,e){return An(t/e*100,0,100).toFixed(2)+"%"};Ut.registerComponent("LoadProgressBar",function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=j("span",{className:"vjs-control-text"}),i=j("span",{textContent:this.localize("Loaded")}),o=r.createTextNode(": ");return this.percentageEl_=j("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(i),n.appendChild(o),n.appendChild(this.percentageEl_),e},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this;this.requestAnimationFrame((function(){var t=e.player_.liveTracker,n=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),o=e.player_.bufferedEnd(),r=e.partEls_,a=Rn(o,i);e.percent_!==a&&(e.el_.style.width=a,I(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var c=n.start(s),l=n.end(s),u=r[s];u||(u=e.el_.appendChild(j()),r[s]=u),u.dataset.start===c&&u.dataset.end===l||(u.dataset.start=c,u.dataset.end=l,u.style.left=Rn(c,o),u.style.width=Rn(l-c,o))}for(var d=r.length;d>n.length;d--)e.el_.removeChild(r[d-1]);r.length=n.length}))},e}(Ut)),Ut.registerComponent("TimeTooltip",function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=Mt(wt(s(i),i.update),30),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=q(this.el_),o=q(this.player_.el()),r=t.width*e;if(o&&i){var a=t.left-o.left+r,s=t.width-r+(o.right-t.right),c=i.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>i.width&&(c=i.width),this.el_.style.right="-"+c+"px",this.write(n)}},n.write=function(t){I(this.el_,t)},n.updateTime=function(t,e,n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var r,a=o.player_.duration();if(o.player_.liveTracker&&o.player_.liveTracker.isLive()){var s=o.player_.liveTracker.liveWindow(),c=s-e*s;r=(c<1?"":"-")+Mn(c,s)}else r=Mn(n,a);o.update(t,e,r),i&&i()}))},e}(Ut));var Dn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=Mt(wt(s(i),i.update),30),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(Ut);Dn.prototype.options_={children:[]},de||Qt||Dn.prototype.options_.children.push("timeTooltip"),Ut.registerComponent("PlayProgressBar",Dn);var Nn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=Mt(wt(s(i),i.update),30),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){n.el_.style.left=t.width*e+"px"}))},e}(Ut);Nn.prototype.options_={children:["timeTooltip"]},Ut.registerComponent("MouseTimeDisplay",Nn);var Bn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}c(e,t);var n=e.prototype;return n.setEventHandlers_=function(){this.update_=wt(this,this.update),this.update=Mt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in r&&"visibilityState"in r&&this.on(r,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){r.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(e){var n=this,i=t.prototype.update.call(this);return this.requestAnimationFrame((function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,o=n.player_.duration();e&&e.isLive()&&(o=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===t&&n.duration_===o||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Mn(t,o),Mn(o,o)],"{1} of {2}")),n.currentTime_=t,n.duration_=o),n.bar&&n.bar.update(q(n.el()),n.getProgress())})),i},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},n.handleMouseDown=function(e){Z(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t){if(Z(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){var o=i.seekableStart(),r=i.liveCurrentTime();if((e=o+n*i.liveWindow())>=r&&(e=r),e<=o&&(e=o+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Me(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(e){if(u.isEventKey(e,"Space")||u.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(u.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(u.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(u(e))){e.preventDefault(),e.stopPropagation();var n=10*(u.codes[u(e)]-u.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else u.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):u.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},e}(Ln);Bn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},de||Qt||Bn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ut.registerComponent("SeekBar",Bn);var Vn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=Mt(wt(s(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=Mt(wt(s(i),i.handleMouseSeek),30),i.enable(),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var o=e.el(),r=q(o),a=W(o,t).x;a=An(0,1,a),i&&i.update(r,a),n&&n.update(r,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Ut);Vn.prototype.options_={children:["seekBar"]},Ut.registerComponent("ProgressControl",Vn);var zn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),r.pictureInPictureEnabled||i.disable(),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(On);zn.prototype.controlText_="Picture-in-Picture",Ut.registerComponent("PictureInPictureToggle",zn);var Fn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===r[e.fsApi_.fullscreenEnabled]&&i.disable(),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(On);Fn.prototype.controlText_="Fullscreen",Ut.registerComponent("FullscreenToggle",Fn),Ut.registerComponent("VolumeLevel",function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Ut));var Hn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){Z(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){Z(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(Ln);Hn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Hn.prototype.playerEvent="volumechange",Ut.registerComponent("VolumeBar",Hn);var Un=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||P(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(s(i),e),i.throttledHandleMouseMove=Mt(wt(s(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Ut);Un.prototype.options_={children:["volumeBar"]},Ut.registerComponent("VolumeControl",Un);var Jn=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(s(i),e),i.on(e,["loadstart","volumechange"],i.update),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;de&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)D(this.el_,"vjs-vol-"+n);R(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(On);Jn.prototype.controlText_="Mute",Ut.registerComponent("MuteToggle",Jn);var qn=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||P(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}c(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){u.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),bt(r,"keyup",wt(this,this.handleKeyPress))},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),_t(r,"keyup",wt(this,this.handleKeyPress))},n.handleKeyPress=function(t){u.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(Ut);qn.prototype.options_={children:["muteToggle","volumeControl"]},Ut.registerComponent("VolumePanel",qn);var Kn=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=wt(s(i),i.handleBlur),i.boundHandleTapClick_=wt(s(i),i.handleTapClick),i}c(e,t);var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof Ut&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof Ut&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},n.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},n.createEl=function(){this.contentEl_=j(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),bt(e,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),e},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(t){var e=t.relatedTarget||r.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var n=this.menuButton_;n&&n.buttonPressed_&&e!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(t){u.isEventKey(t,"Left")||u.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(u.isEventKey(t,"Right")||u.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Ut);Ut.registerComponent("Menu",Kn);var Wn=function(t){function e(e,n){var i;void 0===n&&(n={}),(i=t.call(this,e,n)||this).menuButton_=new On(e,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=On.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),bt(r,"keyup",wt(s(i),i.handleMenuKeyUp))})),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}c(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var t=new Kn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=j("li",{className:"vjs-menu-title",innerHTML:Ft(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ut(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+On.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),_t(r,"keyup",wt(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){u.isEventKey(t,"Esc")||u.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),u.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(u.isEventKey(t,"Up")||u.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(u.isEventKey(t,"Esc")||u.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(u.isEventKey(t,"Esc")||u.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),u.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),de&&E())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ut);Ut.registerComponent("MenuButton",Wn);var Yn=function(t){function e(e,n){var i,o=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!o)return s(i);var r=wt(s(i),i.update);return o.addEventListener("removetrack",r),o.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",(function(){o.removeEventListener("removetrack",r),o.removeEventListener("addtrack",r)})),i}return c(e,t),e}(Wn);Ut.registerComponent("TrackButton",Yn);var $n=["Tab","Esc","Up","Down","Right","Left"],Xn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.el_.setAttribute("role",i.selectable?i.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),i}c(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",C({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){$n.some((function(t){return u.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(yn);Ut.registerComponent("MenuItem",Xn);var Gn=function(t){function e(e,n){var i,a=n.track,c=e.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,(i=t.call(this,e,n)||this).track=a,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var l,u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(s(i),e)},d=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleSelectedLanguageChange.apply(s(i),e)};return e.on(["loadstart","texttrackchange"],u),c.addEventListener("change",u),c.addEventListener("selectedlanguagechange",d),i.on("dispose",(function(){e.off(["loadstart","texttrackchange"],u),c.removeEventListener("change",u),c.removeEventListener("selectedlanguagechange",d)})),void 0===c.onchange&&i.on(["tap","click"],(function(){if("object"!=typeof o.Event)try{l=new o.Event("change")}catch(t){}l||(l=r.createEvent("Event")).initEvent("change",!0,!0),c.dispatchEvent(l)})),i.handleTracksChange(),i}c(e,t);var n=e.prototype;return n.handleClick=function(e){var n=this.track,i=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var r=i[o];-1!==this.kinds.indexOf(r.kind)&&(r===n?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},n.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},n.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Xn);Ut.registerComponent("TextTrackMenuItem",Gn);var Qn=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}c(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,o=e.length;i<o;i++){var r=e[i];if(this.options_.kinds.indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,o=e.length;i<o;i++){var r=e[i];if(["captions","descriptions","subtitles"].indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gn);Ut.registerComponent("OffTextTrackMenuItem",Qn);var Zn=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return c(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Gn),this.label_&&(n=this.label_+" off"),t.push(new Qn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(this.kinds_.indexOf(r.kind)>-1){var a=new e(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+r.kind+"-menu-item"),t.push(a)}}return t},e}(Yn);Ut.registerComponent("TextTrackButton",Zn);var ti=function(t){function e(e,n){var i,o=n.track,r=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=a&&a<r.endTime,(i=t.call(this,e,n)||this).track=o,i.cue=r,o.addEventListener("cuechange",wt(s(i),i.update)),i}c(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Xn);Ut.registerComponent("ChaptersTrackMenuItem",ti);var ei=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ft(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var o=new ti(this.player_,{track:this.track_,cue:e[n]});t.push(o)}return t},e}(Zn);ei.prototype.kind_="chapters",ei.prototype.controlText_="Chapters",Ut.registerComponent("ChaptersButton",ei);var ni=function(t){function e(e,n,i){var o;o=t.call(this,e,n,i)||this;var r=e.textTracks(),a=wt(s(o),o.handleTracksChange);return r.addEventListener("change",a),o.on("dispose",(function(){r.removeEventListener("change",a)})),o}c(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,o=e.length;i<o;i++){var r=e[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Zn);ni.prototype.kind_="descriptions",ni.prototype.controlText_="Descriptions",Ut.registerComponent("DescriptionsButton",ni);var ii=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Zn);ii.prototype.kind_="subtitles",ii.prototype.controlText_="Subtitles",Ut.registerComponent("SubtitlesButton",ii);var oi=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return c(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Gn);Ut.registerComponent("CaptionSettingsMenuItem",oi);var ri=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new oi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Zn);ri.prototype.kind_="captions",ri.prototype.controlText_="Captions",Ut.registerComponent("CaptionsButton",ri);var ai=function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.createEl=function(e,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),t.prototype.createEl.call(this,e,C({innerHTML:o+="</span>"},n),i)},e}(Gn);Ut.registerComponent("SubsCapsMenuItem",ai);var si=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Ft(i.label_)),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new oi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,ai)},e}(Zn);si.prototype.kinds_=["captions","subtitles"],si.prototype.controlText_="Subtitles",Ut.registerComponent("SubsCapsButton",si);var ci=function(t){function e(e,n){var i,o=n.track,r=e.audioTracks();n.label=o.label||o.language||"Unknown",n.selected=o.enabled,(i=t.call(this,e,n)||this).track=o,i.addClass("vjs-"+o.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(s(i),e)};return r.addEventListener("change",a),i.on("dispose",(function(){r.removeEventListener("change",a)})),i}c(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),t.prototype.createEl.call(this,e,C({innerHTML:o+="</span>"},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var o=n[i];o.enabled=o===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Xn);Ut.registerComponent("AudioTrackMenuItem",ci);var li=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++)t.push(new ci(this.player_,{track:e[n],selectable:!0,multiSelectable:!1}));return t},e}(Yn);li.prototype.controlText_="Audio Track",Ut.registerComponent("AudioTrackButton",li);var ui=function(t){function e(e,n){var i,o=n.rate,r=parseFloat(o,10);return n.label=o,n.selected=1===r,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=o,i.rate=r,i.on(e,"ratechange",i.update),i}c(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Xn);ui.prototype.contentElType="button",Ut.registerComponent("PlaybackRateMenuItem",ui);var di=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}c(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=j("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Kn(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new ui(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>e){i=n[o];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Wn);di.prototype.controlText_="Playback Rate",Ut.registerComponent("PlaybackRateMenuButton",di);var hi=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Ut);Ut.registerComponent("Spacer",hi),Ut.registerComponent("CustomControlSpacer",function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="\xa0",e},e}(hi));var pi=function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ut);pi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in r&&pi.prototype.options_.children.splice(pi.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ut.registerComponent("ControlBar",pi);var fi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}c(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ee);fi.prototype.options_=a({},Ee.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ut.registerComponent("ErrorDisplay",fi);var vi=["#000","Black"],gi=["#00F","Blue"],mi=["#0FF","Cyan"],yi=["#0F0","Green"],bi=["#F0F","Magenta"],_i=["#F00","Red"],Ci=["#FFF","White"],Oi=["#FF0","Yellow"],Pi=["1","Opaque"],Ti=["0.5","Semi-Transparent"],ki=["0","Transparent"],wi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[vi,Ci,_i,yi,gi,Oi,bi,mi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Pi,Ti,ki]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ci,vi,_i,yi,gi,Oi,bi,mi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Pi,Ti]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ki,Ti,Pi]}};function Mi(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}wi.windowColor.options=wi.backgroundColor.options,Ut.registerComponent("TextTrackSettings",function(t){function e(e,n){var i;return n.temporary=!1,(i=t.call(this,e,n)||this).updateDisplay=wt(s(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=j("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),_(wi,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}c(e,t);var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var o=wi[t],r=o.id.replace("%s",this.id_),a=[e,r].join(" ").trim();return["<"+n+' id="'+r+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(o.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(o.options.map((function(t){var e=r+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return j("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return j("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return j("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t,e,n,i=this;return e=function(t,e,n){var o,r=Mi((o=i.$(e.selector)).options[o.options.selectedIndex].value,e.parser);return void 0!==r&&(t[n]=r),t},void 0===(n={})&&(n=0),b(t=wi).reduce((function(n,i){return e(n,t[i],i)}),n)},n.setValues=function(t){var e=this;_(wi,(function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(Mi(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)}))},n.setDefaults=function(){var t=this;_(wi,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},n.restoreSettings=function(){var t;try{t=JSON.parse(o.localStorage.getItem("vjs-text-track-settings"))}catch(e){g.warn(e)}t&&this.setValues(t)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?o.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):o.localStorage.removeItem("vjs-text-track-settings")}catch(e){g.warn(e)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(Ee)),Ut.registerComponent("ResizeManager",function(t){function e(e,n){var i,r=n.ResizeObserver||o.ResizeObserver;null===n.ResizeObserver&&(r=!1);var a=Ht({createEl:!r,reportTouchActivity:!1},n);return(i=t.call(this,e,a)||this).ResizeObserver=n.ResizeObserver||o.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(t,e,n,i){var r;void 0===i&&(i=o);var a=function(){var e=this,n=arguments,o=function(){r=null,o=null,t.apply(e,n)};i.clearTimeout(r),r=i.setTimeout(o,100)};return a.cancel=function(){i.clearTimeout(r),r=null},a}((function(){i.resizeHandler()}),0,0,s(i)),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var t=i.debouncedHandler_,e=i.unloadListener_=function(){_t(this,"resize",t),_t(this,"unload",e),e=null};bt(i.el_.contentWindow,"unload",e),bt(i.el_.contentWindow,"resize",t)}},i.one("load",i.loadListener_)),i}c(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(Ut));var xi={trackingThreshold:30};Ut.registerComponent("LiveTracker",function(t){function e(e,n){var i,o=Ht(xi,n,{createEl:!1});return(i=t.call(this,e,o)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),re&&"hidden"in r&&"visibilityState"in r&&i.on(r,"visibilitychange",i.handleVisibilityChange),i}c(e,t);var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(r.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime();return t!==1/0&&t-(2*this.seekableIncrement_+.07)>=e},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e,n,i,o=this.seekableEnd();o!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(o-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=(e=this.seekableIncrementList_,n=Math.floor(e.length/2),i=[].concat(e).sort((function(t,e){return t-e})),e.length%2!=0?i[n]:(i[n-1]+i[n])/2))),this.pastSeekEnd_=0,this.lastSeekEnd_=o,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()>1.5*this.seekableIncrement_?0:this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},e}(Ut));var Ei,Si=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],o="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(o=i[0]),t.triggerSourceset(o),!0)},ji=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=r.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=r.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",o.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Ii=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Ai=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=function(t){return Ii([t.el(),o.HTMLMediaElement.prototype,o.Element.prototype,ji],"innerHTML")}(t),r=function(n){return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];var a=n.apply(e,o);return Si(t),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(n[t]=e[t],e[t]=r(n[t]))})),Object.defineProperty(e,"innerHTML",Ht(i,{set:r(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach((function(t){e[t]=n[t]})),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},Li=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?qe(o.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return o.Element.prototype.setAttribute.call(this,"src",t),t}}),Ri=function(t,e,n,i){void 0===i&&(i=!0);var o=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},r={configurable:!0,enumerable:!0,get:function(){var t=n();return o(t),t}};return i&&(r.set=o),Object.defineProperty(t,e,r)},Di=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var o=e.source,r=!1;if(o&&(i.el_.currentSrc!==o.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,c=[];s--;){var l=a[s];"track"===l.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(l),i.remoteTextTracks().addTrack(l.track),i.textTracks().addTrack(l.track),r||i.el_.hasAttribute("crossorigin")||!We(l.src)||(r=!0)):c.push(l))}for(var u=0;u<c.length;u++)i.el_.removeChild(c[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&g.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(ce||ue||te)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}c(e,t);var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=function(t){return Ii([t.el(),o.HTMLMediaElement.prototype,Li],"src")}(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Ht(n,{set:function(i){var o=n.set.call(e,i);return t.triggerSourceset(e.src),o}})),e.setAttribute=function(n,o){var r=i.call(e,n,o);return/src/i.test(n)&&t.triggerSourceset(e.src),r},e.load=function(){var n=r.call(e);return Si(t)||(t.triggerSourceset(""),Ai(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):Si(t)||Ai(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<t.length;i++){var o=t[i];"disabled"===o.track.mode&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))},n.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e=this,n=en[t],i=this.el()[n.getterName],o=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var r={change:function(n){var i={type:"change",target:o,currentTarget:o,srcElement:o};o.trigger(i),"text"===t&&e[nn.remoteText.getterName]().trigger(i)},addtrack:function(t){o.addTrack(t.track)},removetrack:function(t){o.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<o.length;e++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===o[e]){n=!0;break}n||t.push(o[e])}for(;t.length;)o.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=r,Object.keys(r).forEach((function(t){var n=r[t];i.addEventListener(t,n),e.on("dispose",(function(e){return i.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var t=this;en.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},n.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=r.createElement("video");var i=Ht({},this.options_.tag&&V(this.options_.tag));ce&&!0===this.options_.nativeControlsForTouch||delete i.controls,B(t,C(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&F(t,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],c=this.options_[s];void 0!==c&&(c?F(t,s,s):H(t,s),t[s]=c)}return t},n.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var o=["loadstart"];o.push("loadedmetadata"),t.readyState>=2&&o.push("loadeddata"),t.readyState>=3&&o.push("canplay"),t.readyState>=4&&o.push("canplaythrough"),this.ready((function(){o.forEach((function(t){this.trigger(t)}),this)}))}},n.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){g(e,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;return this.el_.duration===1/0&&Qt&&ie&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=o.navigator&&o.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=r.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},n.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),o.performance&&"function"==typeof o.performance.now?t.creationTime=o.performance.now():o.performance&&o.performance.timing&&"number"==typeof o.performance.timing.navigationStart&&(t.creationTime=o.Date.now()-o.performance.timing.navigationStart),t},e}(rn);Ri(Di,"TEST_VID",(function(){if(M()){var t=r.createElement("video"),e=r.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Di.isSupported=function(){try{Di.TEST_VID.volume=.5}catch(t){return!1}return!(!Di.TEST_VID||!Di.TEST_VID.canPlayType)},Di.canPlayType=function(t){return Di.TEST_VID.canPlayType(t)},Di.canPlaySource=function(t,e){return Di.canPlayType(t.type)},Di.canControlVolume=function(){try{var t=Di.TEST_VID.volume;return Di.TEST_VID.volume=t/2+.1,t!==Di.TEST_VID.volume}catch(e){return!1}},Di.canMuteVolume=function(){try{var t=Di.TEST_VID.muted;return Di.TEST_VID.muted=!t,Di.TEST_VID.muted?F(Di.TEST_VID,"muted","muted"):H(Di.TEST_VID,"muted"),t!==Di.TEST_VID.muted}catch(e){return!1}},Di.canControlPlaybackRate=function(){if(Qt&&ie&&oe<58)return!1;try{var t=Di.TEST_VID.playbackRate;return Di.TEST_VID.playbackRate=t/2+.1,t!==Di.TEST_VID.playbackRate}catch(e){return!1}},Di.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(r.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(r.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(r.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(r.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Di.supportsNativeTextTracks=function(){return he||de&&ie},Di.supportsNativeVideoTracks=function(){return!(!Di.TEST_VID||!Di.TEST_VID.videoTracks)},Di.supportsNativeAudioTracks=function(){return!(!Di.TEST_VID||!Di.TEST_VID.audioTracks)},Di.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[1];Ri(Di.prototype,t[0],(function(){return Di[e]()}),!0)})),Di.prototype.movingMediaElementInDOM=!de,Di.prototype.featuresFullscreenResize=!0,Di.prototype.featuresProgressEvents=!0,Di.prototype.featuresTimeupdateEvents=!0,Di.patchCanPlayType=function(){Zt>=4&&!ee&&!ie&&(Ei=Di.TEST_VID&&Di.TEST_VID.constructor.prototype.canPlayType,Di.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Ei.call(this,t)})},Di.unpatchCanPlayType=function(){var t=Di.TEST_VID.constructor.prototype.canPlayType;return Ei&&(Di.TEST_VID.constructor.prototype.canPlayType=Ei),t},Di.patchCanPlayType(),Di.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},Di.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Di.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Di.prototype["set"+Ft(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){Di.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){Di.prototype["set"+Ft(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Di.prototype[t]=function(){return this.el_[t]()}})),rn.withSourceHandlers(Di),Di.nativeSourceHandler={},Di.nativeSourceHandler.canPlayType=function(t){try{return Di.TEST_VID.canPlayType(t)}catch(e){return""}},Di.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Di.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Ke(t.src);return Di.nativeSourceHandler.canPlayType("video/"+n)}return""},Di.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Di.nativeSourceHandler.dispose=function(){},Di.registerSourceHandler(Di.nativeSourceHandler),rn.registerTech("Html5",Di);var Ni=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Bi={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Vi=["tiny","xsmall","small","medium","large","xlarge","huge"],zi={};Vi.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;zi[t]="vjs-layout-"+e}));var Fi={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Hi=function(t){function e(n,i,o){var a;if(n.id=n.id||i.id||"vjs_video_"+ht(),(i=C(e.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var c=n.closest("[lang]");c&&c.getAttribute&&(i.language=c.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(V(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((a=t.call(this,null,i,o)||this).boundDocumentFullscreenChange_=wt(s(a),a.documentFullscreenChange_),a.boundFullWindowOnEscKey_=wt(s(a),a.fullWindowOnEscKey),a.isFullscreen_=!1,a.log=m(a.id_),a.fsApi_=be,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&V(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach((function(t){u[t.toLowerCase()]=i.languages[t]})),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(t){if("function"!=typeof a[t])throw new Error('plugin "'+t+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),Nt(s(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(bt(r,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var d=Ht(a.options_);i.plugins&&Object.keys(i.plugins).forEach((function(t){a[t](i.plugins[t])})),a.options_.playerOptions=d,a.middleware_=[],a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),ce&&a.addClass("vjs-touch-enabled"),de||a.addClass("vjs-workinghover"),e.players[a.id_]=s(a);var h="7.7.6".split(".")[0];return a.addClass("vjs-v"+h),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("stageclick",a.handleStageClick_),a.on("keydown",a.handleKeyDown),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}c(e,t);var n=e.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),_t(r,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),_t(r,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),sn[this.id()]=null,on.names.forEach((function(t){var e=n[on[t].getterName]();e&&e.off&&e.off()})),t.prototype.dispose.call(this)},n.createEl=function(){var e,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=n.parentNode:a||(e=this.el_=t.prototype.createEl.call(this,"div"));var s=V(n);if(a){for(e=this.el_=n,n=this.tag=r.createElement("video");e.children.length;)n.appendChild(e.firstChild);L(e,"video-js")||R(e,"video-js"),e.appendChild(n),i=this.playerElIngest_=e,Object.keys(e).forEach((function(t){try{n[t]=e[t]}catch(i){}}))}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(re||ie&&se)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||e.setAttribute(t,s[t]),a&&n.setAttribute(t,s[t])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=lt("vjs-styles-dimensions");var c=et(".vjs-styles-defaults"),l=et("head");l.insertBefore(this.styleEl_,c?c.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=n.getElementsByTagName("a"),d=0;d<u.length;d++){var h=u.item(d);R(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(e,n),A(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=e,e},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?g.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},n.fluid=function(t){if(void 0===t)return!!this.fluid_;var e;this.fluid_=!!t,Et(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Et(e=function(){this.on("playerreset",this.updateStyleEl_)})?(void 0)():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(void 0))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ut(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(a>=0&&(c.width=a),s>=0&&(c.height=s))}},n.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Ft(t),o=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(rn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};on.names.forEach((function(t){var e=on[t];r[e.getterName]=n[e.privateName]})),C(r,this.options_[i]),C(r,this.options_[o]),C(r,this.options_[t.toLowerCase()]),this.tag&&(r.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime);var a,s=rn.getTech(t);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(r),this.tech_.ready(wt(this,this.handleTechReady_),!0),a=this.tech_,(this.textTracksJson_||[]).forEach((function(t){var e=a.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return e.addCue(t)}))})),a.textTracks(),Ni.forEach((function(t){n.on(n.tech_,t,n["handleTech"+Ft(t)+"_"])})),Object.keys(Bi).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Bi[t]+"_"].bind(n),event:e}):n["handleTech"+Bi[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||A(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t,e,n,i=this;on.names.forEach((function(t){var e=on[t];i[e.privateName]=i[e.getterName]()})),this.textTracksJson_=(e=(t=this.tech_).$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track})),Array.prototype.map.call(e,(function(t){var e=xe(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(xe))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return void 0===t&&g.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(we(i))return i.catch(n)};if("any"===t&&!0!==this.muted()?we(n=this.play())&&(n=n.catch(i)):n="muted"===t&&!0!==this.muted()?i():this.play(),we(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},n.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var i=t.$$("source"),o=0;o<i.length;o++){var r=i[o];if(r.type&&r.src&&r.src===e)return r.type}return vn(e)}(this,e)),this.cache_.source=Ht({},t,{src:e,type:n});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),o=[],r=this.$$("source"),a=[],s=0;s<r.length;s++){var c=V(r[s]);o.push(c),c.src&&c.src===e&&a.push(c.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},n.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,o=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==i)&&(n=function(){}),n(o),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(g.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){Z(t)&&this.controls_&&(this.paused()?Me(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var n=this.el(),i=r[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(t,e){this.ready((function(){if(t in dn)return function(t,e,n,i){return e[n](t.reduce(pn(n),i))}(this.middleware_,this.tech_,t,e);if(t in hn)return ln(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(n){throw g(n),n}}),!0)},n.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in un)return function(t,e,n){return t.reduceRight(pn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in hn)return ln(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw g("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw g("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw g(e),e}}},n.play=function(){var t=this,e=this.options_.Promise||o.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},n.play_=function(t){var e=this;void 0===t&&(t=Me),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!he&&!de||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},n.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||ge(0,0)},n.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=ge(0,0)),t},n.bufferedPercent=function(){return me(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},n.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},n.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},n.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=r[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=r.documentElement.style.overflow,bt(r,"keydown",this.boundFullWindowOnEscKey_),r.documentElement.style.overflow="hidden",R(r.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){u.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,_t(r,"keydown",this.boundFullWindowOnEscKey_),r.documentElement.style.overflow=this.docOrigOverflow,D(r.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in r)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in r)return r.exitPictureInPicture()},n.handleKeyDown=function(t){var e,n,i=this.options_.userActions;i&&i.hotkeys&&(n=(e=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,t):this.handleHotkeys(t)))},n.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},n=e.fullscreenKey,i=e.muteKey,o=void 0===i?function(t){return u.isEventKey(t,"m")}:i,a=e.playPauseKey,s=void 0===a?function(t){return u.isEventKey(t,"k")||u.isEventKey(t,"Space")}:a;if((void 0===n?function(t){return u.isEventKey(t,"f")}:n).call(this,t)){t.preventDefault(),t.stopPropagation();var c=Ut.getComponent("FullscreenToggle");!1!==r[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,t)}else o.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ut.getComponent("MuteToggle").prototype.handleClick.call(this,t)):s.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ut.getComponent("PlayToggle").prototype.handleClick.call(this,t))},n.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=rn.getTech(o);if(r||(r=Ut.getComponent(o)),r){if(r.isSupported()&&(e=r.canPlayType(t)))return e}else g.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map((function(t){return[t,rn.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(g.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,n){var i;return t.some((function(t){return e.some((function(e){if(i=n(t,e))return!0}))})),i},r=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?o(t,i,(e=r,function(t,n){return e(n,t)})):o(i,t,r))||!1},n.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n,i,o,r=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):O(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[gn({src:e})]:O(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[gn(e)]:[];return e}(t);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),i=r[0],o=function(t,n){var i;if(e.middleware_=n,e.cache_.sources=r,e.updateSourceCaches_(t),e.src_(t))return r.length>1?e.src(r.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());i=e.tech_,n.forEach((function(t){return t.setTech&&t.setTech(i)}))},(n=this).setTimeout((function(){return function t(e,n,i,o,r,a){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===a&&(a=!1);var s=n[0],c=n.slice(1);if("string"==typeof s)t(e,an[s],i,o,r,a);else if(s){var l=function(t,e){var n=sn[t.id()],i=null;if(null==n)return i=e(t),sn[t.id()]=[[e,i]],i;for(var o=0;o<n.length;o++){var r=n[o];r[0]===e&&(i=r[1])}return null===i&&(i=e(t),n.push([e,i])),i}(o,s);if(!l.setSource)return r.push(l),t(e,c,i,o,r,a);l.setSource(C({},e),(function(n,s){if(n)return t(e,c,i,o,r,a);r.push(l),t(s,e.type===s.type?c:an[s.type],i,o,r,a)}))}else c.length?t(e,c,i,o,r,a):a?i(e,r):t(e,an["*"],i,o,r,!0)}(i,an[i.type],o,n)}),1)):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(t){var e,n=this,i=this.selectSource([t]);return!i||(e=this.techName_,Ft(i.tech)!==Ft(e)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var t=this,e=this.options_.Promise||o.Promise;this.paused()||!e?this.doReset_():Me(this.play().then((function(){return t.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Et(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},n.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},n.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Te(t),this.addClass("vjs-error"),g.error("(CODE:"+this.error_.code+" "+Te.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,e,n,i=wt(this,this.reportUserActivity),o=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())})),this.on("mouseup",o),this.on("mouseleave",o);var r,a=this.getChild("controlBar");!a||de||Qt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var t=this.options_.inactivityTimeout;t<=0||(r=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},n.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},n.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},n.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},n.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},n.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},n.languages=function(){return Ht(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Ht(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Ht(i)).player=void 0,t.tracks[n]=i}return t},n.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Ee(this,e);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Vi.length;n++){var i=Vi[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(zi[t]),this.addClass(zi[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=C({},Fi,t),this.updateCurrentBreakpoint_()),C(this.breakpoints_)},n.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return zi[this.breakpoint_]||""},n.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Ht(t);var i=this.cache_.media,o=i.poster,r=i.src,a=i.textTracks;!i.artwork&&o&&(this.cache_.media.artwork=[{src:o,type:vn(o)}]),r&&this.src(r),o&&this.poster(o),Array.isArray(a)&&a.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},n.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:vn(e.poster)}]),e}return Ht(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=V(t),i=n["data-setup"];if(L(t,"vjs-fill")&&(n.fill=!0),L(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=l(i||"{}"),r=o[0],a=o[1];r&&g.error(r),C(n,a)}if(C(e,n),t.hasChildNodes())for(var s=t.childNodes,c=0,u=s.length;c<u;c++){var d=s[c],h=d.nodeName.toLowerCase();"source"===h?e.sources.push(V(d)):"track"===h&&e.tracks.push(V(d))}return e},n.flexNotSupported_=function(){var t=r.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(Ut);on.names.forEach((function(t){var e=on[t];Hi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Hi.players={};var Ui=o.navigator;Hi.prototype.options_={techOrder:rn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ui&&(Ui.languages&&Ui.languages[0]||Ui.userLanguage||Ui.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Hi.prototype[t]=function(){return this.techGet_(t)}})),Ni.forEach((function(t){Hi.prototype["handleTech"+Ft(t)+"_"]=function(){return this.trigger(t)}})),Ut.registerComponent("Player",Hi);var Ji={},qi=function(t){return Ji.hasOwnProperty(t)},Ki=function(t){return qi(t)?Ji[t]:void 0},Wi=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Yi=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},$i=function(t,e){return e.prototype.name=t,function(){Yi(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=p(e,[this].concat(i));return this[t]=function(){return r},Yi(this,r.getEventHash()),r}},Xi=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Nt(this),delete this.trigger,Vt(this,this.constructor.defaultState),Wi(e,this.name),this.dispose=wt(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Ct(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=$i(t,Ji[t])},t.isBasic=function(e){var n="string"==typeof e?Ki(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(qi(e))g.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Hi.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Ji[e]=n,"plugin"!==e&&(Hi.prototype[e]=t.isBasic(n)?function(t,e){var n=function(){Yi(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Wi(this,t),Yi(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):$i(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");qi(t)&&(delete Ji[t],delete Hi.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Ji)),t.forEach((function(t){var n=Ki(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=Ki(t);return e&&e.VERSION||""},t}();Xi.getPlugin=Ki,Xi.BASE_PLUGIN_NAME="plugin",Xi.registerPlugin("plugin",Xi),Hi.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Hi.prototype.hasPlugin=function(t){return!!qi(t)};var Gi=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Qi(t,e,n){var i=Qi.getPlayer(t);if(i)return e&&g.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?et("#"+Gi(t)):t;if(!x(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||g.warn("The element supplied is not included in the DOM"),e=e||{},Qi.hooks("beforesetup").forEach((function(t){var n=t(o,Ht(e));O(n)&&!Array.isArray(n)?e=Ht(e,n):g.error("please return an object in beforesetup hooks")}));var r=Ut.getComponent("Player");return i=new r(o,e,n),Qi.hooks("setup").forEach((function(t){return t(i)})),i}if(Qi.hooks_={},Qi.hooks=function(t,e){return Qi.hooks_[t]=Qi.hooks_[t]||[],e&&(Qi.hooks_[t]=Qi.hooks_[t].concat(e)),Qi.hooks_[t]},Qi.hook=function(t,e){Qi.hooks(t,e)},Qi.hookOnce=function(t,e){Qi.hooks(t,[].concat(e).map((function(e){return function n(){return Qi.removeHook(t,n),e.apply(void 0,arguments)}})))},Qi.removeHook=function(t,e){var n=Qi.hooks(t).indexOf(e);return!(n<=-1||((Qi.hooks_[t]=Qi.hooks_[t].slice()).splice(n,1),0))},!0!==o.VIDEOJS_NO_DYNAMIC_STYLE&&M()){var Zi=et(".vjs-styles-defaults");if(!Zi){Zi=lt("vjs-styles-defaults");var to=et("head");to&&to.insertBefore(Zi,to.firstChild),ut(Zi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}at(1,Qi),Qi.VERSION="7.7.6",Qi.options=Hi.prototype.options_,Qi.getPlayers=function(){return Hi.players},Qi.getPlayer=function(t){var e,n=Hi.players;if("string"==typeof t){var i=Gi(t),o=n[i];if(o)return o;e=et("#"+i)}else e=t;if(x(e)){var r=e.player,a=e.playerId;if(r||n[a])return r||n[a]}},Qi.getAllPlayers=function(){return Object.keys(Hi.players).map((function(t){return Hi.players[t]})).filter(Boolean)},Qi.players=Hi.players,Qi.getComponent=Ut.getComponent,Qi.registerComponent=function(t,e){rn.isTech(e)&&g.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ut.registerComponent.call(Ut,t,e)},Qi.getTech=rn.getTech,Qi.registerTech=rn.registerTech,Qi.use=function(t,e){an[t]=an[t]||[],an[t].push(e)},Object.defineProperty(Qi,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qi.middleware,"TERMINATOR",{value:cn,writeable:!1,enumerable:!0}),Qi.browser=pe,Qi.TOUCH_ENABLED=ce,Qi.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var o in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),f(n,t),t&&(n.super_=t),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},Qi.mergeOptions=Ht,Qi.bind=wt,Qi.registerPlugin=Xi.registerPlugin,Qi.deregisterPlugin=Xi.deregisterPlugin,Qi.plugin=function(t,e){return g.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xi.registerPlugin(t,e)},Qi.getPlugins=Xi.getPlugins,Qi.getPlugin=Xi.getPlugin,Qi.getPluginVersion=Xi.getPluginVersion,Qi.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),(Qi.options.languages=Ht(Qi.options.languages,((n={})[t]=e,n)))[t]},Qi.log=g,Qi.createLogger=m,Qi.createTimeRange=Qi.createTimeRanges=ge,Qi.formatTime=Mn,Qi.setFormatTime=function(t){wn=t},Qi.resetFormatTime=function(){wn=kn},Qi.parseUrl=Je,Qi.isCrossOrigin=We,Qi.EventTarget=xt,Qi.on=bt,Qi.one=Ot,Qi.off=_t,Qi.trigger=Ct,Qi.xhr=d,Qi.TextTrack=Ge,Qi.AudioTrack=Qe,Qi.VideoTrack=Ze,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Qi[t]=function(){return g.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),it[t].apply(null,arguments)}})),Qi.computedStyle=T,Qi.dom=it,Qi.url=Ye,Qi.defineLazyProperty=Ri,t.exports=Qi},yKow:function(t,e,n){var i=n("e/Dd"),o=n("NPxG"),r=n("ekOh"),a=n("u/Db"),s=n("J6Nv"),c=n("7uVY"),l=i.getBCHDigit(7973);function u(t,e){return a.getCharCountIndicator(t,e)+4}function d(t,e){var n=0;return t.forEach((function(t){var i=u(t.mode,e);n+=i+t.getBitsLength()})),n}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var r=8*(i.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,e));if(n===a.MIXED)return r;var c=r-u(n,t);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){var i,o=r.from(n,r.M);if(c(t)){if(t.length>1)return function(t,n){for(var i=1;i<=40;i++)if(d(t,i)<=e.getCapacity(i,n,a.MIXED))return i}(t,o);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,i){for(var o=1;o<=40;o++)if(n<=e.getCapacity(o,i,t))return o}(i.mode,i.getLength(),o)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;i.getBCHDigit(e)-l>=0;)e^=7973<<i.getBCHDigit(e)-l;return t<<12|e}},zFeg:function(t,e,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},r=n(5);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=r),t.exports=i}}]);