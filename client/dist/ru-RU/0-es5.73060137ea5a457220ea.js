function _templateObject22(){var e=_taggedTemplateLiteral([":\u241f297603f796b0d287ac02b80d5aca6156c91a8fea\u241f4710350176324657996:This will ask remote instances to delete it"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":\u241f0cd0f27936731dabfd8d89277b781d5dd664bc89\u241f8558962068274430520:Unfederate the video"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":\u241fdc3bdad5421d0ee7ddd76ae62b699d72dd9f61b4\u241f7256462927215762997:Please describe the reason..."]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([':\u241fdbabcb47dc77c29275d0f836280ef1dcd924fdb9\u241f6819670313991605068:Block video "',':INTERPOLATION:"']);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":\u241f35fdca47605de8113a0db7f587f7c099abec8020\u241f3616223838716839702:Ban this user"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":\u241ff21428bd564d1cacdbc737f87a8def2e2ad42251\u241f9193838977237822053: A banned user will no longer be able to login. "]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":\u241fbb44873ad8d4c5dbad0ac2a6a50e0ceee9119125\u241f6325096236207614377:Reason..."]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":\u241f6a323f80f9d90a32db8ce52cc82075938c3c36f0\u241f4209525355702493436:Ban"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":\u241f020d5da7c3f4726e3623587a05a11f00e1d40409\u241f8271428541831612630: Your report will be sent to moderators of ",":INTERPOLATION:",":START_TAG_NG_CONTAINER: and will be forwarded to the video origin (",":INTERPOLATION_1:) too",":CLOSE_TAG_NG_CONTAINER:. "]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":\u241f4d20563f7e338a1d09eb756054564ccf7c6a30ef\u241f5964984095397511808:Stop at"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":\u241f71c77bb8cecdf11ec3eead24dd1ba506573fa9cd\u241f935187492052582731:Submit"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":\u241f04f47b9519b96ac834a111c0e113d18c77d177de\u241f6990204431018013063:Please describe the issue..."]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":\u241f85e5d1de15d23cde43c530e3740a2a61aed24c2d\u241f1394835141143590910:Start at"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":\u241f97916f2928694b8d574b6f052b93e54565ed9823\u241f5471125870639393916:What is the issue?"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([':\u241f448d436df053141260523149173073ccbb0259f9\u241f1831724022617001200:Report video "',':INTERPOLATION:"']);return _templateObject4=function(){return e},e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var c=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _templateObject3(){var e=_taggedTemplateLiteral([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([':\u241f4e8635c108375983b42229df44bda8c0af84f396\u241f3516494528184217808:1 host (without "http://") per line']);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":\u241f270a185f179774aa3cee3120ed4f5650e8816b9f\u241f5618843729716980110:",":INTERPOLATION:"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"25cm":function(e,t,r){"use strict";var n=r("tPH9"),c=r("/1FC");t.a=function(e,t,r){var o=t(e);return Object(c.a)(e)?o:Object(n.a)(o,r(e))}},"2L7+":function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("mrSG"),c=r("fXoL"),o=r("ey9i"),a=(r("xMQD"),r("XRCn")),i=r("GxWh"),s=r("QLwe"),u=r("Imgh"),l=r("7FIj"),d=r("ofXK"),f=r("EcKj"),b=["userBanModal"],h=function(e,t){return{user:e,account:t}};function p(e,t){if(1&e){var r=c.ec();c.bc(0),c.dc(1,"my-user-ban-modal",1,2),c.sc("userBanned",(function(){return c.Sc(r),c.wc().onUserBanned()})),c.cc(),c.Yb(3,"my-action-dropdown",3),c.ac()}if(2&e){var n=c.wc();c.Jb(3),c.Dc("actions",n.userActions)("entry",c.Ic(6,h,n.user,n.account))("buttonSize",n.buttonSize)("placement",n.placement)("label",n.label)("container",n.container)}}var v=function(){var e=function(){function e(t,r,n,o,a,i,s,u){_classCallCheck(this,e),this.authService=t,this.notifier=r,this.confirmService=n,this.serverService=o,this.userService=a,this.blocklistService=i,this.bulkService=s,this.i18n=u,this.buttonSize="normal",this.placement="left-top left-bottom auto",this.container=void 0,this.userChanged=new c.n,this.userDeleted=new c.n,this.userActions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(t){return e.serverConfig=t}))}},{key:"ngOnChanges",value:function(){this.buildActions()}},{key:"openBanUserModal",value:function(e){"root"!==e.username?this.userBanModal.openModal(e):this.notifier.error(this.i18n("You cannot ban root."))}},{key:"onUserBanned",value:function(){this.userChanged.emit()}},{key:"unbanUser",value:function(e){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.i18n("Do you really want to unban {{username}}?",{username:e.username}),t.t0=!1,t.next=4,this.confirmService.confirm(r,this.i18n("Unban"));case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.userService.unbanUsers(e).subscribe((function(){n.notifier.success(n.i18n("User {{username}} unbanned.",{username:e.username})),n.userChanged.emit()}),(function(e){return n.notifier.error(e.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"removeUser",value:function(e){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("root"!==e.username){t.next=2;break}return t.abrupt("return",void this.notifier.error(this.i18n("You cannot delete root.")));case 2:return r=this.i18n("If you remove this user, you will not be able to create another with the same username!"),t.t0=!1,t.next=6,this.confirmService.confirm(r,this.i18n("Delete"));case 6:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=10;break}this.userService.removeUser(e).subscribe((function(){n.notifier.success(n.i18n("User {{username}} deleted.",{username:e.username})),n.userDeleted.emit()}),(function(e){return n.notifier.error(e.message)}));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"setEmailAsVerified",value:function(e){var t=this;this.userService.updateUser(e.id,{emailVerified:!0}).subscribe((function(){t.notifier.success(t.i18n("User {{username}} email set as verified",{username:e.username})),t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockAccountByUser",value:function(e){var t=this;this.blocklistService.blockAccountByUser(e).subscribe((function(){t.notifier.success(t.i18n("Account {{nameWithHost}} muted.",{nameWithHost:e.nameWithHost})),t.account.mutedByUser=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockAccountByUser",value:function(e){var t=this;this.blocklistService.unblockAccountByUser(e).subscribe((function(){t.notifier.success(t.i18n("Account {{nameWithHost}} unmuted.",{nameWithHost:e.nameWithHost})),t.account.mutedByUser=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockServerByUser",value:function(e){var t=this;this.blocklistService.blockServerByUser(e).subscribe((function(){t.notifier.success(t.i18n("Instance {{host}} muted.",{host:e})),t.account.mutedServerByUser=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockServerByUser",value:function(e){var t=this;this.blocklistService.unblockServerByUser(e).subscribe((function(){t.notifier.success(t.i18n("Instance {{host}} unmuted.",{host:e})),t.account.mutedServerByUser=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockAccountByInstance",value:function(e){var t=this;this.blocklistService.blockAccountByInstance(e).subscribe((function(){t.notifier.success(t.i18n("Account {{nameWithHost}} muted by the instance.",{nameWithHost:e.nameWithHost})),t.account.mutedByInstance=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockAccountByInstance",value:function(e){var t=this;this.blocklistService.unblockAccountByInstance(e).subscribe((function(){t.notifier.success(t.i18n("Account {{nameWithHost}} unmuted by the instance.",{nameWithHost:e.nameWithHost})),t.account.mutedByInstance=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"blockServerByInstance",value:function(e){var t=this;this.blocklistService.blockServerByInstance(e).subscribe((function(){t.notifier.success(t.i18n("Instance {{host}} muted by the instance.",{host:e})),t.account.mutedServerByInstance=!0,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"unblockServerByInstance",value:function(e){var t=this;this.blocklistService.unblockServerByInstance(e).subscribe((function(){t.notifier.success(t.i18n("Instance {{host}} unmuted by the instance.",{host:e})),t.account.mutedServerByInstance=!1,t.userChanged.emit()}),(function(e){return t.notifier.error(e.message)}))}},{key:"bulkRemoveCommentsOf",value:function(e){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.i18n("Are you sure you want to remove all the comments of this account?"),t.t0=!1,t.next=4,this.confirmService.confirm(r,this.i18n("Delete account comments"));case 4:if(t.t1=t.sent,t.t2=t.t0!==t.t1,!t.t2){t.next=8;break}this.bulkService.removeCommentsOf(e).subscribe((function(){n.notifier.success(n.i18n("Will remove comments of this account (may take several minutes)."))}),(function(e){return n.notifier.error(e.message)}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getRouterUserEditLink",value:function(e){return["/admin","users","update",e.id]}},{key:"buildActions",value:function(){var e=this;if(this.userActions=[],this.authService.isLoggedIn()){var t=this.authService.getUser();if(this.user&&t.id===this.user.id)return;if(this.user&&t.hasRight(a.h.MANAGE_USERS)&&t.canManage(this.user)&&this.userActions.push([{label:this.i18n("Edit user"),description:this.i18n("Change quota, role, and more."),linkBuilder:function(t){var r=t.user;return e.getRouterUserEditLink(r)}},{label:this.i18n("Delete user"),description:this.i18n("Videos will be deleted, comments will be tombstoned."),handler:function(t){var r=t.user;return e.removeUser(r)}},{label:this.i18n("Ban"),description:this.i18n("User won't be able to login anymore, but videos and comments will be kept as is."),handler:function(t){var r=t.user;return e.openBanUserModal(r)},isDisplayed:function(e){return!e.user.blocked}},{label:this.i18n("Unban user"),description:this.i18n("Allow the user to login and create videos/comments again"),handler:function(t){var r=t.user;return e.unbanUser(r)},isDisplayed:function(e){return e.user.blocked}},{label:this.i18n("Set Email as Verified"),handler:function(t){var r=t.user;return e.setEmailAsVerified(r)},isDisplayed:function(t){var r=t.user;return e.requiresEmailVerification&&!r.blocked&&!1===r.emailVerified}}]),this.account){this.userActions.push([{label:this.i18n("Mute this account"),description:this.i18n("Hide any content from that user for you."),isDisplayed:function(e){return!1===e.account.mutedByUser},handler:function(t){var r=t.account;return e.blockAccountByUser(r)}},{label:this.i18n("Unmute this account"),description:this.i18n("Show back content from that user for you."),isDisplayed:function(e){return!0===e.account.mutedByUser},handler:function(t){var r=t.account;return e.unblockAccountByUser(r)}},{label:this.i18n("Mute the instance"),description:this.i18n("Hide any content from that instance for you."),isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var r=t.account;return e.blockServerByUser(r.host)}},{label:this.i18n("Unmute the instance"),description:this.i18n("Show back content from that instance for you."),isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var r=t.account;return e.unblockServerByUser(r.host)}},{label:this.i18n("Remove comments from your videos"),description:this.i18n("Remove comments of this account from your videos."),handler:function(t){var r=t.account;return e.bulkRemoveCommentsOf({accountName:r.nameWithHost,scope:"my-videos"})}}]);var r=[];t.hasRight(a.h.MANAGE_ACCOUNTS_BLOCKLIST)&&(r=r.concat([{label:this.i18n("Mute this account by your instance"),description:this.i18n("Hide any content from that user for you, your instance and its users."),isDisplayed:function(e){return!1===e.account.mutedByInstance},handler:function(t){var r=t.account;return e.blockAccountByInstance(r)}},{label:this.i18n("Unmute this account by your instance"),description:this.i18n("Show back content from that user for you, your instance and its users."),isDisplayed:function(e){return!0===e.account.mutedByInstance},handler:function(t){var r=t.account;return e.unblockAccountByInstance(r)}}])),t.hasRight(a.h.MANAGE_SERVERS_BLOCKLIST)&&(r=r.concat([{label:this.i18n("Mute the instance by your instance"),description:this.i18n("Hide any content from that instance for you, your instance and its users."),isDisplayed:function(e){var t=e.account;return!t.userId&&!1===t.mutedServerByInstance},handler:function(t){var r=t.account;return e.blockServerByInstance(r.host)}},{label:this.i18n("Unmute the instance by your instance"),description:this.i18n("Show back content from that instance for you, your instance and its users."),isDisplayed:function(e){var t=e.account;return!t.userId&&!0===t.mutedServerByInstance},handler:function(t){var r=t.account;return e.unblockServerByInstance(r.host)}}])),t.hasRight(a.h.REMOVE_ANY_VIDEO_COMMENT)&&(r=r.concat([{label:this.i18n("Remove comments from your instance"),description:this.i18n("Remove comments of this account from your instance."),handler:function(t){var r=t.account;return e.bulkRemoveCommentsOf({accountName:r.nameWithHost,scope:"instance"})}}])),0!==r.length&&this.userActions.push(r)}}}},{key:"requiresEmailVerification",get:function(){return this.serverConfig.signup.requiresEmailVerification}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(o.a),c.Xb(o.k),c.Xb(o.d),c.Xb(o.s),c.Xb(o.z),c.Xb(i.b),c.Xb(s.a),c.Xb(l.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["my-user-moderation-dropdown"]],viewQuery:function(e,t){var r;1&e&&c.hd(b,!0),2&e&&c.Pc(r=c.tc())&&(t.userBanModal=r.first)},inputs:{user:"user",account:"account",buttonSize:"buttonSize",placement:"placement",label:"label",container:"container"},outputs:{userChanged:"userChanged",userDeleted:"userDeleted"},features:[c.Hb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"userBanned"],["userBanModal",""],[3,"actions","entry","buttonSize","placement","label","container"]],template:function(e,t){1&e&&c.bd(0,p,4,9,"ng-container",0),2&e&&c.Dc("ngIf",0!==t.userActions.length)},directives:[d.u,u.a,f.a],encapsulation:2}),e}()},"3/ER":function(e,t,r){"use strict";(function(e){var n=r("Ju5/"),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=c&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===c?n.a.Buffer:void 0,i=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}}).call(this,r("3UD+")(e))},"4/q3":function(e,t,r){"use strict";var n=r("7gMY"),c=r("IzLi"),o=r("pyRK"),a=Object.prototype.hasOwnProperty,i=r("5WsY");t.a=function(e){return Object(i.a)(e)?Object(n.a)(e,!0):function(e){if(!Object(c.a)(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Object(o.a)(e),r=[];for(var n in e)("constructor"!=n||!t&&a.call(e,n))&&r.push(n);return r}(e)}},"5WsY":function(e,t,r){"use strict";var n=r("vJtL"),c=r("Js68");t.a=function(e){return null!=e&&Object(c.a)(e.length)&&!Object(n.a)(e)}},"7gMY":function(e,t,r){"use strict";var n=r("9f76"),c=r("/1FC"),o=r("WOAq"),a=r("cSlR"),i=r("oYcn"),s=Object.prototype.hasOwnProperty;t.a=function(e,t){var r=Object(c.a)(e),u=!r&&Object(n.a)(e),l=!r&&!u&&Object(o.a)(e),d=!r&&!u&&!l&&Object(i.a)(e),f=r||u||l||d,b=f?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],h=b.length;for(var p in e)!t&&!s.call(e,p)||f&&("length"==p||l&&("offset"==p||"parent"==p)||d&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||Object(a.a)(p,h))||b.push(p);return b}},At31:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("m8R6"),c=r("JIr8"),o=r("lJxs"),a=r("tk/3"),i=r("ey9i"),s=r("XRCn"),u=r("AytR"),l=r("fXoL"),d=function(){var e=function(){function e(t,r,n){_classCallCheck(this,e),this.authHttp=t,this.restService=r,this.restExtractor=n}return _createClass(e,[{key:"getVideoAbuses",value:function(t){var r=this,n=t.pagination,o=t.sort,i=t.search,u=e.BASE_VIDEO_ABUSE_URL+"abuse",l=new a.f;if(l=this.restService.addRestGetParams(l,n,o),i){var d=this.restService.parseQueryStringFilter(i,{id:{prefix:"#"},state:{prefix:"state:",handler:function(e){return"accepted"===e?s.j.ACCEPTED:"pending"===e?s.j.PENDING:"rejected"===e?s.j.REJECTED:void 0}},videoIs:{prefix:"videoIs:",handler:function(e){return"deleted"===e||"blacklisted"===e?e:void 0}},searchReporter:{prefix:"reporter:"},searchReportee:{prefix:"reportee:"},predefinedReason:{prefix:"tag:"}});l=this.restService.addObjectParams(l,d)}return this.authHttp.get(u,{params:l}).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"reportVideo",value:function(t){var r=this,a=e.BASE_VIDEO_ABUSE_URL+t.id+"/abuse",i=Object(n.a)(t,["id"]);return this.authHttp.post(a,i).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"updateVideoAbuse",value:function(t,r){var n=this;return this.authHttp.put(e.BASE_VIDEO_ABUSE_URL+t.video.uuid+"/abuse/"+t.id,r).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(c.a)((function(e){return n.restExtractor.handleError(e)})))}},{key:"removeVideoAbuse",value:function(t){var r=this;return this.authHttp.delete(e.BASE_VIDEO_ABUSE_URL+t.video.uuid+"/abuse/"+t.id).pipe(Object(o.a)(this.restExtractor.extractDataBool),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}}]),e}();return e.BASE_VIDEO_ABUSE_URL=u.a.apiUrl+"/api/v1/videos/",e.\u0275fac=function(t){return new(t||e)(l.oc(a.b),l.oc(i.o),l.oc(i.n))},e.\u0275prov=l.Tb({token:e,factory:e.\u0275fac}),e}()},Ce4a:function(e,t,r){"use strict";var n=r("Ju5/");t.a=n.a.Uint8Array},"E/r9":function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n,c,o=r("fXoL"),a=r("sWvm"),i=r("1kSV"),s=r("7FIj"),u=r("UkmY"),l=r("3Pt+"),d=r("ofXK"),f=["modal"];n="" + "\ufffd0\ufffd" + "",c="1 \u0445\u043E\u0441\u0442 (\u0431\u0435\u0437 \"http://\") \u043D\u0430 \u043E\u0434\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0435";var b=["value","\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"];function h(e,t){if(1&e&&(o.dc(0,"div"),o.dd(1),o.cc()),2&e){var r=o.wc(3);o.Jb(1),o.fd(" ",r.form.controls.domains.errors.validDomains.value," ")}}function p(e,t){if(1&e&&(o.dc(0,"div",13),o.dd(1),o.bd(2,h,2,1,"div",14),o.cc()),2&e){var r=o.wc(2);o.Jb(1),o.fd(" ",r.formErrors.domains," "),o.Jb(1),o.Dc("ngIf",r.form.controls.domains.errors.validDomains)}}var v=function(e){return{"input-error":e}};function m(e,t){if(1&e){var r=o.ec();o.dc(0,"div",1),o.dc(1,"h4",2),o.hc(2,n),o.cc(),o.dc(3,"my-global-icon",3),o.sc("click",(function(){return o.Sc(r),o.wc().hide()})),o.cc(),o.cc(),o.dc(4,"div",4),o.dc(5,"form",5),o.sc("ngSubmit",(function(){return o.Sc(r),o.wc().submit()})),o.dc(6,"div",6),o.dc(7,"label",7),o.hc(8,c),o.cc(),o.Yb(9,"textarea",8),o.bd(10,p,3,2,"div",9),o.cc(),o.Bc(11),o.dc(12,"div",10),o.dc(13,"input",11),o.jc(14,b),o.sc("click",(function(){return o.Sc(r),o.wc().hide()}))("key.enter",(function(){return o.Sc(r),o.wc().hide()})),o.cc(),o.Yb(15,"input",12),o.cc(),o.cc(),o.cc()}if(2&e){var a=o.wc();o.Jb(2),o.lc(a.action),o.ic(2),o.Jb(3),o.Dc("formGroup",a.form),o.Jb(4),o.Dc("placeholder",a.placeholder)("ngClass",o.Hc(7,v,a.formErrors.domains)),o.Jb(1),o.Dc("ngIf",a.formErrors.domains),o.Jb(5),o.Dc("value",a.action)("disabled",!a.form.valid)}}var y=[[["warning"]]],g=["warning"],j=function(){var e=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,c,a){var i;return _classCallCheck(this,r),(i=t.call(this)).formValidatorService=e,i.modalService=n,i.batchDomainsValidatorsService=c,i.i18n=a,i.placeholder="example.com",i.domains=new o.n,i}return _createClass(r,[{key:"ngOnInit",value:function(){this.action||(this.action=this.i18n("Process domains")),this.buildForm({domains:this.batchDomainsValidatorsService.DOMAINS})}},{key:"openModal",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.openedModal.close()}},{key:"submit",value:function(){this.domains.emit(this.batchDomainsValidatorsService.getNotEmptyHosts(this.form.controls.domains.value)),this.form.reset(),this.hide()}}]),r}(a.c);return e.\u0275fac=function(t){return new(t||e)(o.Xb(a.d),o.Xb(i.k),o.Xb(a.a),o.Xb(s.a))},e.\u0275cmp=o.Rb({type:e,selectors:[["my-batch-domains-modal"]],viewQuery:function(e,t){var r;1&e&&o.Yc(f,!0),2&e&&o.Pc(r=o.tc())&&(t.modal=r.first)},inputs:{placeholder:"placeholder",action:"action"},outputs:{domains:"domains"},features:[o.Gb],ngContentSelectors:g,decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","hosts"],["formControlName","domains","type","text","id","hosts","name","hosts","ngbAutofocus","",1,"form-control",3,"placeholder","ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"value","disabled"],[1,"form-error"],[4,"ngIf"]],template:function(e,t){1&e&&(o.Cc(y),o.bd(0,m,16,9,"ng-template",null,0,o.cd))},directives:[u.a,l.J,l.u,l.m,l.d,l.t,l.k,d.r,d.u],styles:["textarea[_ngcontent-%COMP%]{height:200px}"]}),e}()},EKpO:function(e,t,r){"use strict";r.d(t,"a",(function(){return J}));var n,c,o=r("TSHB"),a=r("twO/"),i=r("fywt"),s=r("MKnB"),u=r("TnHx"),l=r("H9+z"),d=r("ey9i"),f=r("sWvm"),b=r("ppEV"),h=(r("xMQD"),r("At31")),p=r("fXoL"),v=r("1kSV"),m=r("jhN1"),y=r("7FIj"),g=r("UkmY"),j=r("3Pt+"),O=r("ofXK"),_=r("/xt7"),k=r("C8Cb"),S=r("BLxp"),A=["modal"];n="Report video \"" + "\ufffd0\ufffd" + "\"",c="What is the issue?";var E=["labelText","\u041D\u0430\u0447\u0430\u043B\u043E \u0432"],w=["placeholder","\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043E\u043F\u0438\u0448\u0438\u0442\u0435 \u044D\u0442\u0443 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0443..."],C=["value","\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"],B=["value","\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"];function x(e,t){if(1&e&&p.Yb(0,"div",16),2&e){var r=p.wc(2).$implicit;p.Dc("innerHTML",r.help,p.Tc)}}function I(e,t){1&e&&p.bd(0,x,1,1,"ng-template",31)}function R(e,t){if(1&e&&(p.bc(0,32),p.Yb(1,"div",16),p.ac()),2&e){var r=p.wc().$implicit;p.Jb(1),p.Dc("innerHTML",r.description,p.Tc)}}function U(e,t){if(1&e&&(p.dc(0,"div",23),p.dc(1,"my-peertube-checkbox",29),p.bd(2,I,1,0,void 0,22),p.bd(3,R,2,1,"ng-container",30),p.cc(),p.cc()),2&e){var r=t.$implicit;p.Jb(1),p.Ec("formControlName",r.id),p.Ec("labelText",r.label),p.Jb(1),p.Dc("ngIf",r.help),p.Jb(1),p.Dc("ngIf",r.description)}}var L,T=["labelText","\u041A\u043E\u043D\u0435\u0446 \u0432"];function P(e,t){if(1&e&&(p.dc(0,"div",33),p.dc(1,"my-peertube-checkbox",34),p.jc(2,T),p.cc(),p.Yb(3,"my-timestamp-input",35),p.cc()),2&e){var r=p.wc(2);p.Jb(3),p.Dc("timestamp",r.timestamp.endAt)("maxTimestamp",r.video.duration)}}function D(e,t){if(1&e&&(p.nc(0,L,1),p.Zb(1),p.kc()),2&e){var r=p.wc(2);p.Jb(1),p.lc(r.originHost),p.ic(0)}}function M(e,t){if(1&e&&(p.dc(0,"div",36),p.dd(1),p.cc()),2&e){var r=p.wc(2);p.Jb(1),p.fd(" ",r.formErrors.reason," ")}}L="\n          Your report will be sent to moderators of " + "\ufffd0\ufffd" + "" + "\ufffd*25:1\ufffd\ufffd#1:1\ufffd" + " and will be forwarded to the video origin (" + "\ufffd0:1\ufffd" + ") too" + "\ufffd/#1:1\ufffd\ufffd/*25:1\ufffd" + ".\n        ";var H=function(e){return{"input-error":e}};function V(e,t){if(1&e){var r=p.ec();p.dc(0,"div",1),p.dc(1,"h4",2),p.hc(2,n),p.cc(),p.dc(3,"my-global-icon",3),p.sc("click",(function(){return p.Sc(r),p.wc().hide()})),p.cc(),p.cc(),p.dc(4,"div",4),p.dc(5,"form",5),p.sc("ngSubmit",(function(){return p.Sc(r),p.wc().report()})),p.dc(6,"div",6),p.dc(7,"div",7),p.dc(8,"label",8),p.hc(9,c),p.cc(),p.dc(10,"div",9),p.bc(11,10),p.bd(12,U,4,4,"div",11),p.ac(),p.cc(),p.cc(),p.dc(13,"div",12),p.dc(14,"div",13),p.dc(15,"div",14),p.dc(16,"div",15),p.Yb(17,"div",16),p.cc(),p.cc(),p.cc(),p.dc(18,"div",17),p.dc(19,"my-peertube-checkbox",18),p.jc(20,E),p.cc(),p.Yb(21,"my-timestamp-input",19),p.cc(),p.bd(22,P,4,2,"div",20),p.dc(23,"div",21),p.nc(24,L),p.bd(25,D,2,1,"ng-container",22),p.kc(),p.cc(),p.dc(26,"div",23),p.dc(27,"textarea",24),p.jc(28,w),p.cc(),p.bd(29,M,2,1,"div",25),p.cc(),p.cc(),p.cc(),p.dc(30,"div",26),p.dc(31,"input",27),p.jc(32,C),p.sc("click",(function(){return p.Sc(r),p.wc().hide()}))("key.enter",(function(){return p.Sc(r),p.wc().hide()})),p.cc(),p.dc(33,"input",28),p.jc(34,B),p.cc(),p.cc(),p.cc(),p.cc()}if(2&e){var o=p.wc();p.Jb(2),p.lc(o.video.name),p.ic(2),p.Jb(3),p.Dc("formGroup",o.form),p.Jb(7),p.Dc("ngForOf",o.predefinedReasons),p.Jb(5),p.Dc("innerHTML",o.embedHtml,p.Tc),p.Jb(4),p.Dc("timestamp",o.timestamp.startAt)("maxTimestamp",o.video.duration),p.Jb(1),p.Dc("ngIf",o.timestamp.hasStart),p.Jb(3),p.Dc("ngIf",o.isRemoteVideo()),p.lc(o.currentHost),p.ic(24),p.Jb(2),p.Dc("ngClass",p.Hc(12,H,o.formErrors.reason)),p.Jb(2),p.Dc("ngIf",o.formErrors.reason),p.Jb(4),p.Dc("disabled",!o.form.valid)}}var N,J=((N=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,c,o,a,i,s){var u;return _classCallCheck(this,r),(u=t.call(this)).formValidatorService=e,u.modalService=n,u.videoAbuseValidatorsService=c,u.videoAbuseService=o,u.notifier=a,u.sanitizer=i,u.i18n=s,u.video=null,u.error=null,u.predefinedReasons=[],u}return _createClass(r,[{key:"getVideoEmbed",value:function(){return this.sanitizer.bypassSecurityTrustHtml(Object(l.a)(Object(l.b)({baseUrl:this.video.embedUrl,title:!1,warningTitle:!1})))}},{key:"ngOnInit",value:function(){this.buildForm({reason:this.videoAbuseValidatorsService.VIDEO_ABUSE_REASON,predefinedReasons:Object(o.a)(b.a,(function(e){return null})),timestamp:{hasStart:null,startAt:null,hasEnd:null,endAt:null}}),this.predefinedReasons=[{id:"violentOrRepulsive",label:this.i18n("Violent or repulsive"),help:this.i18n("Contains offensive, violent, or coarse language or iconography.")},{id:"hatefulOrAbusive",label:this.i18n("Hateful or abusive"),help:this.i18n("Contains abusive, racist or sexist language or iconography.")},{id:"spamOrMisleading",label:this.i18n("Spam, ad or false news"),help:this.i18n("Contains marketing, spam, purposefully deceitful news, or otherwise misleading thumbnail/text/tags. Please provide reputable sources to report hoaxes.")},{id:"privacy",label:this.i18n("Privacy breach or doxxing"),help:this.i18n("Contains personal information that could be used to track, identify, contact or impersonate someone (e.g. name, address, phone number, email, or credit card details).")},{id:"rights",label:this.i18n("Intellectual property violation"),help:this.i18n("Infringes my intellectual property or copyright, wrt. the regional rules with which the server must comply.")},{id:"serverRules",label:this.i18n("Breaks server rules"),description:this.i18n("Anything not included in the above that breaks the terms of service, code of conduct, or general rules in place on the server.")},{id:"thumbnails",label:this.i18n("Thumbnails"),help:this.i18n("The above can only be seen in thumbnails.")},{id:"captions",label:this.i18n("Captions"),help:this.i18n("The above can only be seen in captions (please describe which).")}],this.embedHtml=this.getVideoEmbed()}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"report",value:function(){var e=this,t=this.form.get("reason").value,r=Object.keys(function(e,t){if(null==e)return{};var r=Object(a.a)(Object(u.a)(e),(function(e){return[e]}));return t=Object(i.a)(t),Object(s.a)(e,r,(function(e,r){return t(e,r[0])}))}(this.form.get("predefinedReasons").value)),n=this.form.get("timestamp").value,c=n.hasStart,o=n.startAt,l=n.hasEnd,d=n.endAt;this.videoAbuseService.reportVideo({id:this.video.id,reason:t,predefinedReasons:r,startAt:c&&o?o:void 0,endAt:l&&d?d:void 0}).subscribe((function(){e.notifier.success(e.i18n("Video reported.")),e.hide()}),(function(t){return e.notifier.error(t.message)}))}},{key:"isRemoteVideo",value:function(){return!this.video.isLocal}},{key:"currentHost",get:function(){return window.location.host}},{key:"originHost",get:function(){return this.isRemoteVideo()?this.video.account.host:""}},{key:"timestamp",get:function(){return this.form.get("timestamp").value}}]),r}(f.c)).\u0275fac=function(e){return new(e||N)(p.Xb(f.d),p.Xb(v.k),p.Xb(f.j),p.Xb(h.a),p.Xb(d.k),p.Xb(m.b),p.Xb(y.a))},N.\u0275cmp=p.Rb({type:N,selectors:[["my-video-report"]],viewQuery:function(e,t){var r;1&e&&p.Yc(A,!0),2&e&&p.Pc(r=p.tc())&&(t.modal=r.first)},inputs:{video:"video"},features:[p.Gb],decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9","mb-2"],[1,"screenratio"],[3,"innerHTML"],["formGroupName","timestamp",1,"mb-1","start-at"],["formControlName","hasStart",6,"labelText"],["formControlName","startAt","inputName","startAt",3,"timestamp","maxTimestamp"],["class","mb-3 stop-at","formGroupName","timestamp",4,"ngIf"],[1,"information"],[4,"ngIf"],[1,"form-group"],["formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass",6,"placeholder"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],[3,"formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],["ngProjectAs","description",5,["description"]],["formGroupName","timestamp",1,"mb-3","stop-at"],["formControlName","hasEnd",6,"labelText"],["formControlName","endAt","inputName","endAt",3,"timestamp","maxTimestamp"],[1,"form-error"]],template:function(e,t){1&e&&p.bd(0,V,35,14,"ng-template",null,0,p.cd)},directives:[g.a,j.J,j.u,j.m,j.n,O.t,_.a,j.t,j.k,k.a,O.u,j.d,O.r,S.a],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}"]}),N)},GYlH:function(e,t,r){"use strict";t.a=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},GxWh:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r("lJxs"),c=r("JIr8"),o=r("tk/3"),a=r("ey9i"),i=r("AytR"),s=r("xHIW"),u=r("fXoL"),l=function(e){return e[e.Account=0]="Account",e[e.Instance=1]="Instance",e}({}),d=function(){var e=function(){function e(t,r,n){_classCallCheck(this,e),this.authHttp=t,this.restExtractor=r,this.restService=n}return _createClass(e,[{key:"getUserAccountBlocklist",value:function(t){var r=this,a=t.pagination,i=t.sort,s=t.search,u=new o.f;return u=this.restService.addRestGetParams(u,a,i),s&&(u=u.append("search",s)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/accounts",{params:u}).pipe(Object(n.a)((function(e){return r.restExtractor.convertResultListDateToHuman(e)})),Object(n.a)((function(e){return r.restExtractor.applyToResultListData(e,r.formatAccountBlock.bind(r))})),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"blockAccountByUser",value:function(t){var r=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"unblockAccountByUser",value:function(t){var r=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"getUserServerBlocklist",value:function(t){var r=this,a=t.pagination,i=t.sort,s=t.search,u=new o.f;return u=this.restService.addRestGetParams(u,a,i),s&&(u=u.append("search",s)),this.authHttp.get(e.BASE_USER_BLOCKLIST_URL+"/servers",{params:u}).pipe(Object(n.a)((function(e){return r.restExtractor.convertResultListDateToHuman(e)})),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"blockServerByUser",value:function(t){var r=this;return this.authHttp.post(e.BASE_USER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"unblockServerByUser",value:function(t){var r=this;return this.authHttp.delete(e.BASE_USER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"getInstanceAccountBlocklist",value:function(t){var r=this,a=t.pagination,i=t.sort,s=t.search,u=new o.f;return u=this.restService.addRestGetParams(u,a,i),s&&(u=u.append("search",s)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{params:u}).pipe(Object(n.a)((function(e){return r.restExtractor.convertResultListDateToHuman(e)})),Object(n.a)((function(e){return r.restExtractor.applyToResultListData(e,r.formatAccountBlock.bind(r))})),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"blockAccountByInstance",value:function(t){var r=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/accounts",{accountName:t.nameWithHost}).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"unblockAccountByInstance",value:function(t){var r=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/accounts/"+t.nameWithHost).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"getInstanceServerBlocklist",value:function(t){var r=this,a=t.pagination,i=t.sort,s=t.search,u=new o.f;return u=this.restService.addRestGetParams(u,a,i),s&&(u=u.append("search",s)),this.authHttp.get(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{params:u}).pipe(Object(n.a)((function(e){return r.restExtractor.convertResultListDateToHuman(e)})),Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"blockServerByInstance",value:function(t){var r=this;return this.authHttp.post(e.BASE_SERVER_BLOCKLIST_URL+"/servers",{host:t}).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"unblockServerByInstance",value:function(t){var r=this;return this.authHttp.delete(e.BASE_SERVER_BLOCKLIST_URL+"/servers/"+t).pipe(Object(c.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"formatAccountBlock",value:function(e){return new s.a(e)}}]),e}();return e.BASE_USER_BLOCKLIST_URL=i.a.apiUrl+"/api/v1/users/me/blocklist",e.BASE_SERVER_BLOCKLIST_URL=i.a.apiUrl+"/api/v1/server/blocklist",e.\u0275fac=function(t){return new(t||e)(u.oc(o.b),u.oc(a.n),u.oc(a.o))},e.\u0275prov=u.Tb({token:e,factory:e.\u0275fac}),e}()},HIM4:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return a.a})),r.d(t,"b",(function(){return a.b})),r.d(t,"d",(function(){return b})),r.d(t,"f",(function(){return p.a})),r.d(t,"g",(function(){return v.a})),r.d(t,"e",(function(){return j})),r("xHIW");var n,c=r("ey9i"),o=r("xMQD"),a=r("GxWh"),i=r("fXoL"),s=r("7FIj"),u=((n=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,c){var o;return _classCallCheck(this,r),(o=t.call(this)).notifier=e,o.blocklistService=n,o.i18n=c,o.blockedAccounts=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return _createClass(r,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"switchToDefaultAvatar",value:function(e){e.target.src=o.c.GET_DEFAULT_AVATAR_URL()}},{key:"unblockAccount",value:function(e){var t=this,r=e.blockedAccount;(this.mode===a.a.Account?this.blocklistService.unblockAccountByUser(r):this.blocklistService.unblockAccountByInstance(r)).subscribe((function(){t.notifier.success(t.i18n(t.mode===a.a.Account?"Account {{nameWithHost}} unmuted.":"Account {{nameWithHost}} unmuted by your instance.",{nameWithHost:r.nameWithHost})),t.loadData()}))}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe((function(t){e.blockedAccounts=t.data,e.totalRecords=t.total}),(function(t){return e.notifier.error(t.message)}))}}]),r}(c.p)).\u0275fac=function(e){return new(e||n)(i.Xb(c.k),i.Xb(a.b),i.Xb(s.a))},n.\u0275dir=i.Sb({type:n,features:[i.Gb]}),n);r("E/r9");var l,d=r("QLwe"),f=["batchDomainsModal"],b=((l=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,c){var o;return _classCallCheck(this,r),(o=t.call(this)).notifier=e,o.blocklistService=n,o.i18n=c,o.blockedServers=[],o.totalRecords=0,o.sort={field:"createdAt",order:-1},o.pagination={count:o.rowsPerPage,start:0},o}return _createClass(r,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"unblockServer",value:function(e){var t=this,r=e.blockedServer.host;(function(e){return t.mode===a.a.Account?t.blocklistService.unblockServerByUser(e):t.blocklistService.unblockServerByInstance(e)})(r).subscribe((function(){t.notifier.success(t.i18n(t.mode===a.a.Account?"Instance {{host}} unmuted.":"Instance {{host}} unmuted by your instance.",{host:r})),t.loadData()}))}},{key:"addServersToBlock",value:function(){this.batchDomainsModal.openModal()}},{key:"onDomainsToBlock",value:function(e){var t=this;e.forEach((function(e){(function(e){return t.mode===a.a.Account?t.blocklistService.blockServerByUser(e):t.blocklistService.blockServerByInstance(e)})(e).subscribe((function(){t.notifier.success(t.i18n(t.mode===a.a.Account?"Instance {{domain}} muted.":"Instance {{domain}} muted by your instance.",{domain:e})),t.loadData()}))}))}},{key:"loadData",value:function(){var e=this;return(this.mode===a.a.Account?this.blocklistService.getUserServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe((function(t){e.blockedServers=t.data,e.totalRecords=t.total}),(function(t){return e.notifier.error(t.message)}))}}]),r}(c.p)).\u0275fac=function(e){return new(e||l)(i.Xb(c.k),i.Xb(a.b),i.Xb(s.a))},l.\u0275dir=i.Sb({type:l,viewQuery:function(e,t){var r;1&e&&i.hd(f,!0),2&e&&i.Pc(r=i.tc())&&(t.batchDomainsModal=r.first)},features:[i.Gb]}),l);r("Imgh"),r("2L7+");var h,p=r("At31"),v=(r("XZU/"),r("d8Kw")),m=(r("EKpO"),r("N/VM")),y=r("P8w3"),g=r("Nmku"),j=((h=function e(){_classCallCheck(this,e)}).\u0275mod=i.Vb({type:h}),h.\u0275inj=i.Ub({factory:function(e){return new(e||h)},providers:[a.b,d.a,p.a,v.a],imports:[[g.a,m.a,y.a]]}),h)},Imgh:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n,c=r("mrSG"),o=r("fXoL"),a=r("ey9i"),i=r("sWvm"),s=r("1kSV"),u=r("7FIj"),l=r("UkmY"),d=r("3Pt+"),f=r("ofXK"),b=["modal"];n="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043E";var h,p=["placeholder","\u041F\u0440\u0438\u0447\u0438\u043D\u0430..."];h="\n        \u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0431\u043E\u043B\u044C\u0448\u0435 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F.\n      ";var v=["value","\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"],m=["value","\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u0442\u043E\u0433\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"];function y(e,t){if(1&e&&(o.dc(0,"div",12),o.dd(1),o.cc()),2&e){var r=o.wc(2);o.Jb(1),o.fd(" ",r.formErrors.reason," ")}}var g=function(e){return{"input-error":e}};function j(e,t){if(1&e){var r=o.ec();o.dc(0,"div",1),o.dc(1,"h4",2),o.hc(2,n),o.cc(),o.dc(3,"my-global-icon",3),o.sc("click",(function(){return o.Sc(r),o.wc().hide()})),o.cc(),o.cc(),o.dc(4,"div",4),o.dc(5,"form",5),o.sc("ngSubmit",(function(){return o.Sc(r),o.wc().banUser()})),o.dc(6,"div",6),o.dc(7,"textarea",7),o.jc(8,p),o.cc(),o.bd(9,y,2,1,"div",8),o.cc(),o.dc(10,"div"),o.hc(11,h),o.cc(),o.dc(12,"div",9),o.dc(13,"input",10),o.jc(14,v),o.sc("click",(function(){return o.Sc(r),o.wc().hide()}))("key.enter",(function(){return o.Sc(r),o.wc().hide()})),o.cc(),o.dc(15,"input",11),o.jc(16,m),o.cc(),o.cc(),o.cc(),o.cc()}if(2&e){var c=o.wc();o.Jb(5),o.Dc("formGroup",c.form),o.Jb(2),o.Dc("ngClass",o.Hc(4,g,c.formErrors.reason)),o.Jb(2),o.Dc("ngIf",c.formErrors.reason),o.Jb(6),o.Dc("disabled",!c.form.valid)}}var O=function(){var e=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,c,a,i,s){var u;return _classCallCheck(this,r),(u=t.call(this)).formValidatorService=e,u.modalService=n,u.notifier=c,u.userService=a,u.userValidatorsService=i,u.i18n=s,u.userBanned=new o.n,u}return _createClass(r,[{key:"ngOnInit",value:function(){this.buildForm({reason:this.userValidatorsService.USER_BAN_REASON})}},{key:"openModal",value:function(e){this.usersToBan=e,this.openedModal=this.modalService.open(this.modal,{centered:!0})}},{key:"hide",value:function(){this.usersToBan=void 0,this.openedModal.close()}},{key:"banUser",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.userService.banUsers(this.usersToBan,this.form.value.reason||void 0).subscribe((function(){var e=Array.isArray(t.usersToBan)?t.i18n("{{num}} users banned.",{num:t.usersToBan.length}):t.i18n("User {{username}} banned.",{username:t.usersToBan.username});t.notifier.success(e),t.userBanned.emit(t.usersToBan),t.hide()}),(function(e){return t.notifier.error(e.message)}));case 1:case"end":return e.stop()}}),e,this)})))}}]),r}(i.c);return e.\u0275fac=function(t){return new(t||e)(o.Xb(i.d),o.Xb(s.k),o.Xb(a.k),o.Xb(a.z),o.Xb(i.i),o.Xb(u.a))},e.\u0275cmp=o.Rb({type:e,selectors:[["my-user-ban-modal"]],viewQuery:function(e,t){var r;1&e&&o.Yc(b,!0),2&e&&o.Pc(r=o.tc())&&(t.modal=r.first)},outputs:{userBanned:"userBanned"},features:[o.Gb],decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","reason",1,"form-control",3,"ngClass",6,"placeholder"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],[1,"form-error"]],template:function(e,t){1&e&&o.bd(0,j,17,6,"ng-template",null,0,o.cd)},directives:[l.a,d.J,d.u,d.m,d.d,d.t,d.k,f.r,f.u],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}"]}),e}()},L3Qv:function(e,t,r){"use strict";t.a=function(){return!1}},QLwe:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("JIr8"),c=r("ey9i"),o=r("AytR"),a=r("fXoL"),i=r("tk/3"),s=function(){var e=function(){function e(t,r){_classCallCheck(this,e),this.authHttp=t,this.restExtractor=r}return _createClass(e,[{key:"removeCommentsOf",value:function(t){var r=this;return this.authHttp.post(e.BASE_BULK_URL+"/remove-comments-of",t).pipe(Object(n.a)((function(e){return r.restExtractor.handleError(e)})))}}]),e}();return e.BASE_BULK_URL=o.a.apiUrl+"/api/v1/bulk",e.\u0275fac=function(t){return new(t||e)(a.oc(i.b),a.oc(c.n))},e.\u0275prov=a.Tb({token:e,factory:e.\u0275fac}),e}()},TFwu:function(e,t,r){"use strict";var n=r("25cm"),c=r("jN84"),o=r("mkut");t.a=function(e){return Object(n.a)(e,o.a,c.a)}},TSHB:function(e,t,r){"use strict";var n=r("uE2L"),c=r("mkut"),o=r("fywt");t.a=function(e,t){var r={};return t=Object(o.a)(t,3),function(e,t){e&&function(e,t,r){for(var n=-1,c=Object(e),o=r(e),a=o.length;a--;){var i=o[++n];if(!1===t(c[i],i,c))break}}(e,t,c.a)}(e,(function(e,c,o){Object(n.a)(r,c,t(e,c,o))})),r}},TnHx:function(e,t,r){"use strict";var n=r("25cm"),c=r("n561"),o=r("4/q3");t.a=function(e){return Object(n.a)(e,o.a,c.a)}},U6JX:function(e,t,r){"use strict";t.a=function(e,t){return function(r){return e(t(r))}}},UudT:function(e,t,r){"use strict";var n=r("U6JX"),c=Object(n.a)(Object.getPrototypeOf,Object);t.a=c},WJ6P:function(e,t,r){"use strict";t.a=function(){return[]}},WOAq:function(e,t,r){"use strict";(function(e){var n=r("Ju5/"),c=r("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?n.a.Buffer:void 0;t.a=(i?i.isBuffer:void 0)||c.a}).call(this,r("3UD+")(e))},"XZU/":function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,c=r("fXoL"),o=r("ey9i"),a=r("sWvm"),i=(r("xMQD"),r("d8Kw")),s=r("1kSV"),u=r("7FIj"),l=r("UkmY"),d=r("3Pt+"),f=r("ofXK"),b=r("/xt7"),h=["modal"];n="Block video \"" + "\ufffd0\ufffd" + "\"";var p=["placeholder","Please describe the reason..."],v=["value","\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"],m=["value","\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"];function y(e,t){if(1&e&&(c.dc(0,"div",13),c.dd(1),c.cc()),2&e){var r=c.wc(2);c.Jb(1),c.fd(" ",r.formErrors.reason," ")}}var g,j=["labelText","Unfederate the video"];function O(e,t){1&e&&(c.dc(0,"div",6),c.dc(1,"my-peertube-checkbox",14),c.jc(2,j),c.bc(3,15),c.dc(4,"span"),c.hc(5,g),c.cc(),c.ac(),c.cc(),c.cc())}g="This will ask remote instances to delete it";var _=function(e){return{"input-error":e}};function k(e,t){if(1&e){var r=c.ec();c.dc(0,"div",1),c.dc(1,"h4",2),c.hc(2,n),c.cc(),c.dc(3,"my-global-icon",3),c.sc("click",(function(){return c.Sc(r),c.wc().hide()})),c.cc(),c.cc(),c.dc(4,"div",4),c.dc(5,"form",5),c.sc("ngSubmit",(function(){return c.Sc(r),c.wc().block()})),c.dc(6,"div",6),c.dc(7,"textarea",7),c.jc(8,p),c.cc(),c.bd(9,y,2,1,"div",8),c.cc(),c.bd(10,O,6,0,"div",9),c.dc(11,"div",10),c.dc(12,"input",11),c.jc(13,v),c.sc("click",(function(){return c.Sc(r),c.wc().hide()}))("key.enter",(function(){return c.Sc(r),c.wc().hide()})),c.cc(),c.dc(14,"input",12),c.jc(15,m),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){var o=c.wc();c.Jb(2),c.lc(o.video.name),c.ic(2),c.Jb(3),c.Dc("formGroup",o.form),c.Jb(2),c.Dc("ngClass",c.Hc(6,_,o.formErrors.reason)),c.Jb(2),c.Dc("ngIf",o.formErrors.reason),c.Jb(1),c.Dc("ngIf",o.video.isLocal),c.Jb(4),c.Dc("disabled",!o.form.valid)}}var S=function(){var e=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,o,a,i,s){var u;return _classCallCheck(this,r),(u=t.call(this)).formValidatorService=e,u.modalService=n,u.videoBlockValidatorsService=o,u.videoBlocklistService=a,u.notifier=i,u.i18n=s,u.video=null,u.videoBlocked=new c.n,u.error=null,u}return _createClass(r,[{key:"ngOnInit",value:function(){this.buildForm({reason:this.videoBlockValidatorsService.VIDEO_BLOCK_REASON,unfederate:null},{unfederate:"true"})}},{key:"show",value:function(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1})}},{key:"hide",value:function(){this.openedModal.close(),this.openedModal=null}},{key:"block",value:function(){var e=this,t=this.form.value.reason||void 0;this.videoBlocklistService.blockVideo(this.video.id,t,this.video.isLocal?this.form.value.unfederate:void 0).subscribe((function(){e.notifier.success(e.i18n("Video blocked.")),e.hide(),e.video.blacklisted=!0,e.video.blockedReason=t,e.videoBlocked.emit()}),(function(t){return e.notifier.error(t.message)}))}}]),r}(a.c);return e.\u0275fac=function(t){return new(t||e)(c.Xb(a.d),c.Xb(s.k),c.Xb(a.l),c.Xb(i.a),c.Xb(o.k),c.Xb(u.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["my-video-block"]],viewQuery:function(e,t){var r;1&e&&c.Yc(h,!0),2&e&&c.Pc(r=c.tc())&&(t.modal=r.first)},inputs:{video:"video"},outputs:{videoBlocked:"videoBlocked"},features:[c.Gb],decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","reason",1,"form-control",3,"ngClass",6,"placeholder"],["class","form-error",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"disabled",6,"value"],[1,"form-error"],["inputName","unfederate","formControlName","unfederate",6,"labelText"],["ngProjectAs","description",5,["description"]]],template:function(e,t){1&e&&c.bd(0,k,16,8,"ng-template",null,0,c.cd)},directives:[l.a,d.J,d.u,d.m,d.d,d.t,d.k,f.r,f.u,b.a],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){textarea[_ngcontent-%COMP%]{width:100%}}"]}),e}()},YM6B:function(e,t,r){"use strict";var n=r("Y7yP"),c=r("Ju5/"),o=Object(n.a)(c.a,"DataView"),a=r("3cmB"),i=Object(n.a)(c.a,"Promise"),s=r("pVw1"),u=Object(n.a)(c.a,"WeakMap"),l=r("8M4i"),d=r("dLWn"),f=Object(d.a)(o),b=Object(d.a)(a.a),h=Object(d.a)(i),p=Object(d.a)(s.a),v=Object(d.a)(u),m=l.a;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||a.a&&"[object Map]"!=m(new a.a)||i&&"[object Promise]"!=m(i.resolve())||s.a&&"[object Set]"!=m(new s.a)||u&&"[object WeakMap]"!=m(new u))&&(m=function(e){var t=Object(l.a)(e),r="[object Object]"==t?e.constructor:void 0,n=r?Object(d.a)(r):"";if(n)switch(n){case f:return"[object DataView]";case b:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case v:return"[object WeakMap]"}return t}),t.a=m},ZWiB:function(e,t,r){"use strict";t.a=function(e,t){return e.has(t)}},d8Kw:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("Cfvw"),c=r("lJxs"),o=r("JIr8"),a=r("bOdf"),i=r("IAdc"),s=r("tk/3"),u=r("ey9i"),l=r("XRCn"),d=r("AytR"),f=r("fXoL"),b=function(){var e=function(){function e(t,r,n){_classCallCheck(this,e),this.authHttp=t,this.restService=r,this.restExtractor=n}return _createClass(e,[{key:"listBlocks",value:function(t){var r=this,n=t.pagination,a=t.sort,i=t.search,u=t.type,d=new s.f;if(d=this.restService.addRestGetParams(d,n,a),i){var f=this.restService.parseQueryStringFilter(i,{type:{prefix:"type:",handler:function(e){return"manual"===e?l.k.MANUAL:"auto"===e?l.k.AUTO_BEFORE_PUBLISHED:void 0}}});d=this.restService.addObjectParams(d,f)}return u&&(d=d.append("type",u.toString())),this.authHttp.get(e.BASE_VIDEOS_URL+"blacklist",{params:d}).pipe(Object(c.a)((function(e){return r.restExtractor.convertResultListDateToHuman(e)})),Object(o.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"unblockVideo",value:function(t){var r=this,c=Array.isArray(t)?t:[t];return Object(n.a)(c).pipe(Object(a.a)((function(t){return r.authHttp.delete(e.BASE_VIDEOS_URL+t+"/blacklist")})),Object(i.a)(),Object(o.a)((function(e){return r.restExtractor.handleError(e)})))}},{key:"blockVideo",value:function(t,r,n){var a=this;return this.authHttp.post(e.BASE_VIDEOS_URL+t+"/blacklist",{unfederate:n,reason:r}).pipe(Object(c.a)(this.restExtractor.extractDataBool),Object(o.a)((function(e){return a.restExtractor.handleError(e)})))}}]),e}();return e.BASE_VIDEOS_URL=d.a.apiUrl+"/api/v1/videos/",e.\u0275fac=function(t){return new(t||e)(f.oc(s.b),f.oc(u.o),f.oc(u.n))},e.\u0275prov=f.Tb({token:e,factory:e.\u0275fac}),e}()},fywt:function(e,t,r){"use strict";var n=r("oSzE"),c=r("msdH"),o=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},a=r("ZWiB"),i=function(e,t,r,n,i,s){var u=1&r,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var b=-1,h=!0,p=2&r?new c.a:void 0;for(s.set(e,t),s.set(t,e);++b<l;){var v=e[b],m=t[b];if(n)var y=u?n(m,v,b,t,e,s):n(v,m,b,e,t,s);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!o(t,(function(e,t){if(!Object(a.a)(p,t)&&(v===e||i(v,e,r,n,s)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!i(v,m,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h},s=r("ylTp"),u=r("Ce4a"),l=r("YHEm"),d=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},f=r("GYlH"),b=s.a?s.a.prototype:void 0,h=b?b.valueOf:void 0,p=r("TFwu"),v=Object.prototype.hasOwnProperty,m=r("YM6B"),y=r("/1FC"),g=r("WOAq"),j=r("oYcn"),O="[object Object]",_=Object.prototype.hasOwnProperty,k=r("EUcb"),S=function e(t,r,c,o,a){return t===r||(null==t||null==r||!Object(k.a)(t)&&!Object(k.a)(r)?t!=t&&r!=r:function(e,t,r,c,o,a){var s=Object(y.a)(e),b=Object(y.a)(t),k=s?"[object Array]":Object(m.a)(e),S=b?"[object Array]":Object(m.a)(t),A=(k="[object Arguments]"==k?O:k)==O,E=(S="[object Arguments]"==S?O:S)==O,w=k==S;if(w&&Object(g.a)(e)){if(!Object(g.a)(t))return!1;s=!0,A=!1}if(w&&!A)return a||(a=new n.a),s||Object(j.a)(e)?i(e,t,r,c,o,a):function(e,t,r,n,c,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new u.a(e),new u.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=d;case"[object Set]":if(s||(s=f.a),e.size!=t.size&&!(1&n))return!1;var b=a.get(e);if(b)return b==t;n|=2,a.set(e,t);var p=i(s(e),s(t),n,c,o,a);return a.delete(e),p;case"[object Symbol]":if(h)return h.call(e)==h.call(t)}return!1}(e,t,k,r,c,o,a);if(!(1&r)){var C=A&&_.call(e,"__wrapped__"),B=E&&_.call(t,"__wrapped__");if(C||B){var x=C?e.value():e,I=B?t.value():t;return a||(a=new n.a),o(x,I,r,c,a)}}return!!w&&(a||(a=new n.a),function(e,t,r,n,c,o){var a=1&r,i=Object(p.a)(e),s=i.length;if(s!=Object(p.a)(t).length&&!a)return!1;for(var u=s;u--;){var l=i[u];if(!(a?l in t:v.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var b=a;++u<s;){var h=e[l=i[u]],m=t[l];if(n)var y=a?n(m,h,l,t,e,o):n(h,m,l,e,t,o);if(!(void 0===y?h===m||c(h,m,r,n,o):y)){f=!1;break}b||(b="constructor"==l)}if(f&&!b){var g=e.constructor,j=t.constructor;g==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,c,o,a))}(t,r,c,o,e,a))},A=r("IzLi"),E=function(e){return e==e&&!Object(A.a)(e)},w=r("mkut"),C=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},B=r("UTJH"),x=r("K160"),I=r("vY+C"),R=r("Tchk"),U=r("+Xah"),L=r("FSIP");t.a=function(e){return"function"==typeof e?e:null==e?U.a:"object"==typeof e?Object(y.a)(e)?(c=e[0],o=e[1],Object(I.a)(c)&&E(o)?C(Object(R.a)(c),o):function(e){var t=function(e,t,r){var n=null==e?void 0:Object(B.a)(e,t);return void 0===n?void 0:n}(e,c);return void 0===t&&t===o?Object(x.a)(e,c):S(o,t,3)}):1==(r=function(e){for(var t=Object(w.a)(e),r=t.length;r--;){var n=t[r],c=e[n];t[r]=[n,c,E(c)]}return t}(t=e)).length&&r[0][2]?C(r[0][0],r[0][1]):function(e){return e===t||function(e,t,r,c){var o=r.length,a=o;if(null==e)return!a;for(e=Object(e);o--;){var i=r[o];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){var s=(i=r[o])[0],u=e[s],l=i[1];if(i[2]){if(void 0===u&&!(s in e))return!1}else{var d=new n.a;if(!S(l,u,3,void 0,d))return!1}}return!0}(e,0,r)}:function(e){return Object(I.a)(e)?Object(L.a)(Object(R.a)(e)):function(e){return function(t){return Object(B.a)(t,e)}}(e)}(e);var t,r,c,o}},jN84:function(e,t,r){"use strict";var n=r("WJ6P"),c=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.a=o?function(e){return null==e?[]:(e=Object(e),function(t,r){for(var n=-1,o=null==t?0:t.length,a=0,i=[];++n<o;){var s=t[n];c.call(e,s)&&(i[a++]=s)}return i}(o(e)))}:n.a},m8R6:function(e,t,r){"use strict";var n=r("twO/"),c=r("oSzE"),o=r("23KU"),a=r("uE2L"),i=function(e,t,r,n){var c=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var u=t[i],l=n?n(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),c?Object(a.a)(r,u,l):Object(o.a)(r,u,l)}return r},s=r("mkut"),u=r("4/q3"),l=r("3/ER"),d=r("jN84"),f=r("n561"),b=r("TFwu"),h=r("TnHx"),p=r("YM6B"),v=Object.prototype.hasOwnProperty,m=r("Ce4a"),y=function(e){var t=new e.constructor(e.byteLength);return new m.a(t).set(new m.a(e)),t},g=/\w*$/,j=r("ylTp"),O=j.a?j.a.prototype:void 0,_=O?O.valueOf:void 0,k=r("IzLi"),S=Object.create,A=function(){function e(){}return function(t){if(!Object(k.a)(t))return{};if(S)return S(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),E=r("UudT"),w=r("pyRK"),C=r("/1FC"),B=r("WOAq"),x=r("EUcb"),I=r("ovuK"),R=r("xutz"),U=R.a&&R.a.isMap,L=U?Object(I.a)(U):function(e){return Object(x.a)(e)&&"[object Map]"==Object(p.a)(e)},T=R.a&&R.a.isSet,P=T?Object(I.a)(T):function(e){return Object(x.a)(e)&&"[object Set]"==Object(p.a)(e)},D={};D["[object Arguments]"]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D["[object Object]"]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D["[object Function]"]=D["[object WeakMap]"]=!1;var M=r("IlA0"),H=r("UTJH"),V=r("5iG2"),N=r("Tchk"),J=function(e,t){return null==(e=function(e,t){return t.length<2?e:Object(H.a)(e,Object(V.a)(t,0,-1))}(e,t=Object(M.a)(t,e)))||delete e[Object(N.a)((r=t,n=null==r?0:r.length,n?r[n-1]:void 0))];var r,n},z=r("8M4i"),X=Function.prototype.toString,W=Object.prototype.hasOwnProperty,F=X.call(Object),G=function(e){return function(e){if(!Object(x.a)(e)||"[object Object]"!=Object(z.a)(e))return!1;var t=Object(E.a)(e);if(null===t)return!0;var r=W.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&X.call(r)==F}(e)?void 0:e},Y=r("Tjpy"),K=Object(Y.a)((function(e,t){var r={};if(null==e)return r;var a=!1;t=Object(n.a)(t,(function(t){return t=Object(M.a)(t,e),a||(a=t.length>1),t})),i(e,Object(h.a)(e),r),a&&(r=function e(t,r,n,a,m,j){var O,S=1&r,x=2&r,I=4&r;if(n&&(O=m?n(t,a,m,j):n(t)),void 0!==O)return O;if(!Object(k.a)(t))return t;var R=Object(C.a)(t);if(R){if(O=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&v.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(t),!S)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(t,O)}else{var U=Object(p.a)(t),T="[object Function]"==U||"[object GeneratorFunction]"==U;if(Object(B.a)(t))return Object(l.a)(t,S);if("[object Object]"==U||"[object Arguments]"==U||T&&!m){if(O=x||T?{}:function(e){return"function"!=typeof e.constructor||Object(w.a)(e)?{}:A(Object(E.a)(e))}(t),!S)return x?function(e,t){return i(e,Object(f.a)(e),t)}(t,function(e,t){return e&&i(t,Object(u.a)(t),e)}(O,t)):function(e,t){return i(e,Object(d.a)(e),t)}(t,function(e,t){return e&&i(t,Object(s.a)(t),e)}(O,t))}else{if(!D[U])return m?t:{};O=function(e,t,r){var n,c,o=e.constructor;switch(t){case"[object ArrayBuffer]":return y(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?y(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?y(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(c=new(n=e).constructor(n.source,g.exec(n))).lastIndex=n.lastIndex,c;case"[object Set]":return new o;case"[object Symbol]":return _?Object(_.call(e)):{}}}(t,U,S)}}j||(j=new c.a);var M=j.get(t);if(M)return M;j.set(t,O),P(t)?t.forEach((function(c){O.add(e(c,r,n,c,t,j))})):L(t)&&t.forEach((function(c,o){O.set(o,e(c,r,n,o,t,j))}));var H=I?x?h.a:b.a:x?keysIn:s.a,V=R?void 0:H(t);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r););}(V||t,(function(c,a){V&&(c=t[a=c]),Object(o.a)(O,a,e(c,r,n,a,t,j))})),O}(r,7,G));for(var m=t.length;m--;)J(r,t[m]);return r}));t.a=K},mkut:function(e,t,r){"use strict";var n=r("7gMY"),c=r("pyRK"),o=r("U6JX"),a=Object(o.a)(Object.keys,Object),i=Object.prototype.hasOwnProperty,s=r("5WsY");t.a=function(e){return Object(s.a)(e)?Object(n.a)(e):function(e){if(!Object(c.a)(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}},msdH:function(e,t,r){"use strict";var n=r("DlmY");function c(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.a;++t<r;)this.add(e[t])}c.prototype.add=c.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},c.prototype.has=function(e){return this.__data__.has(e)},t.a=c},n561:function(e,t,r){"use strict";var n=r("tPH9"),c=r("UudT"),o=r("jN84"),a=r("WJ6P");t.a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(n.a)(t,Object(o.a)(e)),e=Object(c.a)(e);return t}:a.a},oSzE:function(e,t,r){"use strict";var n=r("nLtN"),c=r("3cmB"),o=r("DlmY");function a(e){var t=this.__data__=new n.a(e);this.size=t.size}a.prototype.clear=function(){this.__data__=new n.a,this.size=0},a.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},a.prototype.get=function(e){return this.__data__.get(e)},a.prototype.has=function(e){return this.__data__.has(e)},a.prototype.set=function(e,t){var r=this.__data__;if(r instanceof n.a){var a=r.__data__;if(!c.a||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o.a(a)}return r.set(e,t),this.size=r.size,this},t.a=a},oYcn:function(e,t,r){"use strict";var n=r("8M4i"),c=r("Js68"),o=r("EUcb"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var i=r("ovuK"),s=r("xutz"),u=s.a&&s.a.isTypedArray,l=u?Object(i.a)(u):function(e){return Object(o.a)(e)&&Object(c.a)(e.length)&&!!a[Object(n.a)(e)]};t.a=l},pVw1:function(e,t,r){"use strict";var n=r("Y7yP"),c=r("Ju5/"),o=Object(n.a)(c.a,"Set");t.a=o},pyRK:function(e,t,r){"use strict";var n=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},voWr:function(e,t,r){"use strict";var n=r("XRCn");r.d(t,"a",(function(){return n.h})),r.d(t,"b",(function(){return n.o})),r.d(t,"c",(function(){return n.p})),r.d(t,"d",(function(){return n.r}))},xHIW:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("xMQD"),c=function e(t){_classCallCheck(this,e),this.byAccount=new n.a(t.byAccount),this.blockedAccount=new n.a(t.blockedAccount),this.createdAt=t.createdAt}}}]);