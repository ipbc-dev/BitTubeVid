!function(){function e(){var n=re(["Search"]);return e=function(){return n},n}function n(){var e=re([":\u241f10341623e991a4185990a0c3c76ac2bc3543cc4a\u241f8582152375176771323:",":INTERPOLATION: subscribers"]);return n=function(){return e},e}function t(){var e=re([":\u241fe2dbf0426cbb0b573faf49dffeb7d5bdf16eda5d\u241f4807349555079727801: No results found "]);return t=function(){return e},e}function a(){var e=re([":\u241f7c603b9ed878097782e2b8908f662e2344b46061\u241f560526000950992250: Filters ",":START_TAG_SPAN:",":INTERPOLATION:",":CLOSE_TAG_SPAN:"]);return a=function(){return e},e}function r(){var e=re([":\u241f4c3960fb1d9b07d1db3b5bda3ee40019211830dc\u241f4074022836655142947: for ",":START_TAG_SPAN:",":INTERPOLATION:",":CLOSE_TAG_SPAN:"]);return r=function(){return e},e}function i(){var e=re([":\u241fcdc5b877341ff8e6009282a299f2f2d6987dbdbe\u241f761579517995454927:on the vidiverse"]);return i=function(){return e},e}function o(){var e=re([":\u241f26b0b148ff87e083300fa9ca213f8ada7fa6211d\u241f4319634264526091601:on this instance"]);return o=function(){return e},e}function c(){var e=re([":\u241f406b08e859ab668ff07056881dcc4390109d4e1d\u241f6979064202931934288:",":INTERPOLATION: ",":ICU: "]);return c=function(){return e},e}function l(){var e=re([":\u241f16e81be2315b29492395d99ba53a83e770430494\u241f4829334382801061923:{VAR_PLURAL, plural, =1 {result} other {results}}"]);return l=function(){return e},e}function s(){var e=re(["Search"]);return s=function(){return e},e}function u(){var e=re(["Search error"]);return u=function(){return e},e}function d(){var e=re(["Search index is unavailable. Retrying with instance results instead."]);return d=function(){return e},e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);a=!0);}catch(l){r=!0,i=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function h(){var e=re([":\u241fca72d574353a355b8fadbc1ceda174a0bd1bf7cd\u241f1346148828783338504: Reset "]);return h=function(){return e},e}function f(){var e=re([":\u241fcdfec9a92a3081018d34e82d74e85e4e9f63a95f\u241f2489767671380266270:Vidiverse"]);return f=function(){return e},e}function v(){var e=re([":\u241fff78f059449d44322f627d0f66df07abe476962b\u241f2381859602529023966:Instance"]);return v=function(){return e},e}function p(){var e=re([":\u241f118bedbb308a28f06d1c0c84645a35c9bf93cbf3\u241f283421392567624698:Search target"]);return p=function(){return e},e}function m(){var e=re([":\u241f265ee68edfe57e510270da31ec99f67d94346009\u241f3466654961496504426: Reset "]);return m=function(){return e},e}function O(){var e=re([":\u241f265ee68edfe57e510270da31ec99f67d94346009\u241f3466654961496504426: Reset "]);return O=function(){return e},e}function C(){var e=re([":\u241f265ee68edfe57e510270da31ec99f67d94346009\u241f3466654961496504426: Reset "]);return C=function(){return e},e}function M(){var e=re([":\u241f265ee68edfe57e510270da31ec99f67d94346009\u241f3466654961496504426: Reset "]);return M=function(){return e},e}function P(){var e=re([":\u241f265ee68edfe57e510270da31ec99f67d94346009\u241f3466654961496504426: Reset "]);return P=function(){return e},e}function y(){var e=re([":\u241fa57adbb9bc3ecbc397157af25f96fc2123c9c383\u241f2135121506383895389: Reset "]);return y=function(){return e},e}function _(){var e=re([":\u241fa57adbb9bc3ecbc397157af25f96fc2123c9c383\u241f2135121506383895389: Reset "]);return _=function(){return e},e}function S(){var e=re([":\u241fa57adbb9bc3ecbc397157af25f96fc2123c9c383\u241f2135121506383895389: Reset "]);return S=function(){return e},e}function k(){var e=re([":\u241fa57adbb9bc3ecbc397157af25f96fc2123c9c383\u241f2135121506383895389: Reset "]);return k=function(){return e},e}function x(){var e=re([":\u241fa57adbb9bc3ecbc397157af25f96fc2123c9c383\u241f2135121506383895389: Reset "]);return x=function(){return e},e}function V(){var e=re([":\u241f5ca707824ab93066c7d9b44e1b8bf216725c2c22\u241f8829497237648100098:Filter"]);return V=function(){return e},e}function D(){var e=re([":\u241f492d2bd18db0cba03f6d9e3b0c42b8639fbe51ab\u241f4413784616961145955:One of these tags"]);return D=function(){return e},e}function W(){var e=re([":\u241fc8d58c4fbe23e51af3dc8f58cb4a81eac20739e8\u241f2252476112877289102:All of these tags"]);return W=function(){return e},e}function w(){var e=re([":\u241fdcc3173a99661496cd1f836283993cc3e6576b26\u241f7904142744051432458:Display all languages"]);return w=function(){return e},e}function I(){var e=re([":\u241ffe46ccaae902ce974e2441abe752399288298619\u241f2826581353496868063:Language"]);return I=function(){return e},e}function z(){var e=re([":\u241fe19d80c6277747a68f3da8cfe1318303d2b5c952\u241f4184995865179898060:Display all licenses"]);return z=function(){return e},e}function R(){var e=re([":\u241f78d6d3ea26777cd0dad8ddbf9b314151678da46c\u241f9065795501872450602:Licence"]);return R=function(){return e},e}function F(){var e=re([":\u241f75706466a5cffa6f6bf0d6c94a8345a001ce8cea\u241f2199290266269383925:Display all categories"]);return F=function(){return e},e}function $(){var e=re([":\u241f607de17c2a755f65775881c19e276e7c933bcf94\u241f1806667489382256324:Category"]);return $=function(){return e},e}function T(){var e=re([":\u241fa02ea1d4e7424ca989929da5e598f379940fdbf2\u241f7410432243549869948:Duration"]);return T=function(){return e},e}function A(){var e=re([":\u241f46c36269a23f9105124bbdd58f8c91833b92e565\u241f5418443214217152433:Before..."]);return A=function(){return e},e}function L(){var e=re([":\u241fe9866754251f6f45c42710a3de01da5d79c6ae91\u241f2316758236788716819:After..."]);return L=function(){return e},e}function U(){var e=re([":\u241f31523e672b9f39a621e5d9e2a22b24bbf9aa8d4d\u241f5038188980760269298:Original publication year"]);return U=function(){return e},e}function E(){var e=re([":\u241f98acac685fc4b2d35e5d0cf3cd224d247a756c3e\u241f7970752988844762769:Published date"]);return E=function(){return e},e}function Y(){var e=re([":\u241f3d3ae7deebc5949b0c1c78b9847886a94321d9fd\u241f3542042671420335679:No"]);return Y=function(){return e},e}function J(){var e=re([":\u241f4f20f2d5a6882190892e58b85f6ccbedfa737952\u241f2807800733729323332:Yes"]);return J=function(){return e},e}function N(){var e=re([":\u241fdc67060f94f0f2b58549f54a5c07925dffd20238\u241f3589238979642505685:Display sensitive content"]);return N=function(){return e},e}function j(){var e=re([":\u241f5d43539fc358c3a548b9d487be821db73e2702ff\u241f5146398958364876914:Sort"]);return j=function(){return e},e}function X(){var e=re(["Views"]);return X=function(){return e},e}function B(){var e=re(["Publish date"]);return B=function(){return e},e}function H(){var e=re(["Relevance"]);return H=function(){return e},e}function Q(){var e=re(["Long (> 10 min)"]);return Q=function(){return e},e}function G(){var e=re(["Medium (4-10 min)"]);return G=function(){return e},e}function K(){var e=re(["Short (< 4 min)"]);return K=function(){return e},e}function q(){var e=re(["Any"]);return q=function(){return e},e}function Z(){var e=re(["Last 365 days"]);return Z=function(){return e},e}function ee(){var e=re(["Last 30 days"]);return ee=function(){return e},e}function ne(){var e=re(["Last 7 days"]);return ne=function(){return e},e}function te(){var e=re(["Today"]);return te=function(){return e},e}function ae(){var e=re(["Any"]);return ae=function(){return e},e}function re(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,n,t){return n&&oe(e.prototype,n),t&&oe(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"3HlY":function(g,re,oe){"use strict";oe.r(re),oe.d(re,"SearchModule",(function(){return kn}));var le,se=oe("sWvm"),ue=oe("xMQD"),de=oe("sKkf"),be=oe("5rWp"),ge=oe("JEFd"),he=oe("XKTX"),fe=oe("lJxs"),ve=oe("fXoL"),pe=oe("tyNb"),me=((le=function(){function e(n,t){ie(this,e),this.router=n,this.searchService=t}return ce(e,[{key:"resolve",value:function(e){var n=this,t=e.params.url;return t?this.searchService.searchVideoChannels({search:t}).pipe(Object(fe.a)((function(e){return 1!==e.data.length?(console.error("Cannot find result for this URL"),n.router.navigateByUrl("/404")):n.router.navigateByUrl("/video-channels/"+e.data[0].nameWithHost)}))):(console.error("Could not find url param.",{params:e.params}),this.router.navigateByUrl("/404"))}}]),e}()).\u0275fac=function(e){return new(e||le)(ve.hc(pe.h),ve.hc(de.b))},le.\u0275prov=ve.Mb({token:le,factory:le.\u0275fac}),le),Oe=oe("Phsq"),Ce=oe("mrSG"),Me=oe("cp0P"),Pe=oe("LRne"),ye=oe("ey9i"),_e=oe("6rF9"),Se=oe("UjHu"),ke=oe("ofXK"),xe=oe("1kSV"),Ve=oe("3Pt+"),De=oe("S+Ld");function We(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("sort","-match")})),ve.ac(1,54),ve.Vb()}}function we(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"div",9),ve.Wb(1,"input",55),ve.kc("ngModelChange",(function(e){return ve.Jc(t),ve.oc().advancedSearch.sort=e})),ve.Vb(),ve.Wb(2,"label",56),ve.Uc(3),ve.Vb(),ve.Vb()}if(2&e){var a=n.$implicit,r=ve.oc();ve.Db(1),ve.vc("id",a.id)("value",a.id)("ngModel",r.advancedSearch.sort),ve.Db(1),ve.vc("for",a.id),ve.Db(1),ve.Vc(a.label)}}function Ie(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("nsfw")})),ve.ac(1,57),ve.Vb()}}function ze(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetLocalField("publishedDateRange")})),ve.ac(1,58),ve.Vb()}}function Re(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"div",9),ve.Wb(1,"input",59),ve.kc("change",(function(){return ve.Jc(t),ve.oc().inputUpdated()}))("ngModelChange",(function(e){return ve.Jc(t),ve.oc().publishedDateRange=e})),ve.Vb(),ve.Wb(2,"label",56),ve.Uc(3),ve.Vb(),ve.Vb()}if(2&e){var a=n.$implicit,r=ve.oc();ve.Db(1),ve.vc("id",a.id)("value",a.id)("ngModel",r.publishedDateRange),ve.Db(1),ve.vc("for",a.id),ve.Db(1),ve.Vc(a.label)}}function Fe(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetOriginalPublicationYears()})),ve.ac(1,60),ve.Vb()}}function $e(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetLocalField("durationRange")})),ve.ac(1,61),ve.Vb()}}function Te(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"div",9),ve.Wb(1,"input",62),ve.kc("change",(function(){return ve.Jc(t),ve.oc().inputUpdated()}))("ngModelChange",(function(e){return ve.Jc(t),ve.oc().durationRange=e})),ve.Vb(),ve.Wb(2,"label",56),ve.Uc(3),ve.Vb(),ve.Vb()}if(2&e){var a=n.$implicit,r=ve.oc();ve.Db(1),ve.vc("id",a.id)("value",a.id)("ngModel",r.durationRange),ve.Db(1),ve.vc("for",a.id),ve.Db(1),ve.Vc(a.label)}}function Ae(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("categoryOneOf")})),ve.ac(1,63),ve.Vb()}}function Le(e,n){if(1&e&&(ve.Wb(0,"option",31),ve.Uc(1),ve.Vb()),2&e){var t=n.$implicit;ve.vc("value",t.id),ve.Db(1),ve.Vc(t.label)}}function Ue(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("licenceOneOf")})),ve.ac(1,64),ve.Vb()}}function Ee(e,n){if(1&e&&(ve.Wb(0,"option",31),ve.Uc(1),ve.Vb()),2&e){var t=n.$implicit;ve.vc("value",t.id),ve.Db(1),ve.Vc(t.label)}}function Ye(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("languageOneOf")})),ve.ac(1,65),ve.Vb()}}function Je(e,n){if(1&e&&(ve.Wb(0,"option",31),ve.Uc(1),ve.Vb()),2&e){var t=n.$implicit;ve.vc("value",t.id),ve.Db(1),ve.Vc(t.label)}}function Ne(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("tagsAllOf")})),ve.ac(1,66),ve.Vb()}}function je(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",53),ve.kc("click",(function(){return ve.Jc(t),ve.oc().resetField("tagsOneOf")})),ve.ac(1,67),ve.Vb()}}function Xe(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"div",3),ve.Wb(1,"div",4),ve.Wb(2,"label"),ve.ac(3,68),ve.Vb(),ve.Vb(),ve.Wb(4,"div",9),ve.Wb(5,"input",69),ve.kc("ngModelChange",(function(e){return ve.Jc(t),ve.oc().advancedSearch.searchTarget=e})),ve.Vb(),ve.Wb(6,"label",70),ve.ac(7,71),ve.Vb(),ve.Vb(),ve.Wb(8,"div",9),ve.Wb(9,"input",72),ve.kc("ngModelChange",(function(e){return ve.Jc(t),ve.oc().advancedSearch.searchTarget=e})),ve.Vb(),ve.Wb(10,"label",73),ve.ac(11,74),ve.Vb(),ve.Vb(),ve.Vb()}if(2&e){var a=ve.oc();ve.Db(5),ve.vc("ngModel",a.advancedSearch.searchTarget),ve.Db(4),ve.vc("ngModel",a.advancedSearch.searchTarget)}}function Be(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"button",75),ve.kc("click",(function(){return ve.Jc(t),ve.oc().reset()})),ve.ac(1,76),ve.Vb()}}var He,Qe=((He=function(){function e(n){ie(this,e),this.serverService=n,this.advancedSearch=new de.a,this.filtered=new ve.n,this.videoCategories=[],this.videoLicences=[],this.videoLanguages=[],this.publishedDateRanges=[],this.sorts=[],this.durationRanges=[],this.publishedDateRanges=[{id:"any_published_date",label:"Any"},{id:"today",label:"Oggi"},{id:"last_7days",label:"Ultimi 7 giorni"},{id:"last_30days",label:"Ultimi 30 giorni"},{id:"last_365days",label:"Ultimi 365 giorni"}],this.durationRanges=[{id:"any_duration",label:"Any"},{id:"short",label:"Breve (< 4 min)"},{id:"medium",label:"Medio (4-10 min)"},{id:"long",label:"Lungo (> 10 min)"}],this.sorts=[{id:"-match",label:"Rilevanza"},{id:"-publishedAt",label:"Data pubblicazione"},{id:"-views",label:"Visualizzazioni"}]}return ce(e,[{key:"ngOnInit",value:function(){var e=this;this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe((function(n){return e.serverConfig=n})),this.serverService.getVideoCategories().subscribe((function(n){return e.videoCategories=n})),this.serverService.getVideoLicences().subscribe((function(n){return e.videoLicences=n})),this.serverService.getVideoLanguages().subscribe((function(n){return e.videoLanguages=n})),this.loadFromDurationRange(),this.loadFromPublishedRange(),this.loadOriginallyPublishedAtYears()}},{key:"inputUpdated",value:function(){this.updateModelFromDurationRange(),this.updateModelFromPublishedRange(),this.updateModelFromOriginallyPublishedAtYears()}},{key:"formUpdated",value:function(){this.inputUpdated(),this.filtered.emit(this.advancedSearch)}},{key:"reset",value:function(){this.advancedSearch.reset(),this.durationRange=void 0,this.publishedDateRange=void 0,this.originallyPublishedStartYear=void 0,this.originallyPublishedEndYear=void 0,this.inputUpdated()}},{key:"resetField",value:function(e,n){this.advancedSearch[e]=n}},{key:"resetLocalField",value:function(e,n){this[e]=n,this.inputUpdated()}},{key:"resetOriginalPublicationYears",value:function(){this.originallyPublishedStartYear=this.originallyPublishedEndYear=void 0}},{key:"isSearchTargetEnabled",value:function(){return this.serverConfig.search.searchIndex.enabled&&!0!==this.serverConfig.search.searchIndex.disableLocalSearch}},{key:"loadOriginallyPublishedAtYears",value:function(){this.originallyPublishedStartYear=this.advancedSearch.originallyPublishedStartDate?new Date(this.advancedSearch.originallyPublishedStartDate).getFullYear().toString():null,this.originallyPublishedEndYear=this.advancedSearch.originallyPublishedEndDate?new Date(this.advancedSearch.originallyPublishedEndDate).getFullYear().toString():null}},{key:"loadFromDurationRange",value:function(){(this.advancedSearch.durationMin||this.advancedSearch.durationMax)&&(240===this.advancedSearch.durationMin&&600===this.advancedSearch.durationMax?this.durationRange="medium":240===this.advancedSearch.durationMax?this.durationRange="short":600===this.advancedSearch.durationMin&&(this.durationRange="long"))}},{key:"loadFromPublishedRange",value:function(){if(this.advancedSearch.startDate){var e=new Date(this.advancedSearch.startDate),n=new Date,t=Math.abs(e.getTime()-n.getTime())/864e5;t>=365?this.publishedDateRange="last_365days":t>=30?this.publishedDateRange="last_30days":t>=7?this.publishedDateRange="last_7days":t>=0&&(this.publishedDateRange="today")}}},{key:"updateModelFromOriginallyPublishedAtYears",value:function(){var e=new Date;if(e.setHours(0,0,0,0),e.setMonth(0,1),this.originallyPublishedStartYear){var n=parseInt(this.originallyPublishedStartYear,10),t=new Date(e);t.setFullYear(n),this.advancedSearch.originallyPublishedStartDate=t.toISOString()}else this.advancedSearch.originallyPublishedStartDate=null;if(this.originallyPublishedEndYear){var a=parseInt(this.originallyPublishedEndYear,10),r=new Date(e);r.setFullYear(a),this.advancedSearch.originallyPublishedEndDate=r.toISOString()}else this.advancedSearch.originallyPublishedEndDate=null}},{key:"updateModelFromDurationRange",value:function(){if(this.durationRange)switch(this.durationRange){case"short":this.advancedSearch.durationMin=void 0,this.advancedSearch.durationMax=240;break;case"medium":this.advancedSearch.durationMin=240,this.advancedSearch.durationMax=600;break;case"long":this.advancedSearch.durationMin=600,this.advancedSearch.durationMax=void 0}}},{key:"updateModelFromPublishedRange",value:function(){if(this.publishedDateRange){var e=new Date;switch(e.setHours(0,0,0,0),this.publishedDateRange){case"last_7days":e.setDate(e.getDate()-7);break;case"last_30days":e.setDate(e.getDate()-30);break;case"last_365days":e.setDate(e.getDate()-365)}this.advancedSearch.startDate=e.toISOString()}}}]),e}()).\u0275fac=function(e){return new(e||He)(ve.Qb(ye.ServerService))},He.\u0275cmp=ve.Kb({type:He,selectors:[["my-search-filters"]],inputs:{advancedSearch:"advancedSearch"},outputs:{filtered:"filtered"},decls:90,vars:30,consts:function(){return[["role","form",3,"ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-xs-12"],[1,"form-group"],[1,"radio-label","label-container"],"Ordina",["class","reset-button reset-button-small",3,"click",4,"ngIf"],["class","peertube-radio-container",4,"ngFor","ngForOf"],"Mostra contenuti sensibili",[1,"peertube-radio-container"],["type","radio","name","sensitiveContent","id","sensitiveContentYes","value","both",3,"ngModel","ngModelChange"],["for","sensitiveContentYes",1,"radio"],"S\xEC",["type","radio","name","sensitiveContent","id","sensitiveContentNo","value","false",3,"ngModel","ngModelChange"],["for","sensitiveContentNo",1,"radio"],"No","Data di pubblicazione",[1,"label-container"],["for","original-publication-after"],"Data di pubblicazione",[1,"pl-0","col-sm-6"],["type","text","id","original-publication-after","name","original-publication-after",1,"form-control",3,"ngModel","change","keydown.enter","ngModelChange",6,"placeholder"],["placeholder","Dopo..."],[1,"pr-0","col-sm-6"],["type","text","id","original-publication-before","name","original-publication-before",1,"form-control",3,"ngModel","change","keydown.enter","ngModelChange",6,"placeholder"],["placeholder","Prima..."],"Durata",["for","category"],"Categoria",[1,"peertube-select-container"],["id","category","name","category",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],"Display all categories",[3,"value",4,"ngFor","ngForOf"],["for","licence"],"Licenza",["id","licence","name","licence",1,"form-control",3,"ngModel","ngModelChange"],"Display all licenses",["for","language"],"Lingua",["id","language","name","language",1,"form-control",3,"ngModel","ngModelChange"],"Display all languages",["for","tagsAllOf"],"Tutti questi tag",["name","tagsAllOf","labelForId","tagsAllOf","id","tagsAllOf",3,"ngModel","ngModelChange"],["for","tagsOneOf"],"Uno di questi tag",["name","tagsOneOf","labelForId","tagsOneOf","id","tagsOneOf",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"submit-button"],["class","reset-button",3,"click",4,"ngIf"],["type","submit",6,"value"],["value","Filtra"],[1,"reset-button","reset-button-small",3,"click"],"\n            Reset\n          ",["type","radio","name","sort",3,"id","value","ngModel","ngModelChange"],[1,"radio",3,"for"],"\n            Reset\n          ","\n            Reset\n          ",["type","radio","name","publishedDateRange",3,"id","value","ngModel","change","ngModelChange"],"\n            Reset\n          ","\n            Reset\n          ",["type","radio","name","durationRange",3,"id","value","ngModel","change","ngModelChange"],"\n          Reset\n        ","\n          Reset\n        ","\n          Reset\n        ","\n          Reset\n        ","\n          Reset\n        ","Search target",["type","radio","name","searchTarget","id","searchTargetLocal","value","local",3,"ngModel","ngModelChange"],["for","searchTargetLocal",1,"radio"],"Istanza",["type","radio","name","searchTarget","id","searchTargetSearchIndex","value","search-index",3,"ngModel","ngModelChange"],["for","searchTargetSearchIndex",1,"radio"],"Vidiverse",[1,"reset-button",3,"click"],"\n      Reset\n    "]},template:function(e,n){1&e&&(ve.Wb(0,"form",0),ve.kc("ngSubmit",(function(){return n.formUpdated()})),ve.Wb(1,"div",1),ve.Wb(2,"div",2),ve.Wb(3,"div",3),ve.Wb(4,"div",4),ve.Wb(5,"label"),ve.ac(6,5),ve.Vb(),ve.Sc(7,We,2,0,"button",6),ve.Vb(),ve.Sc(8,we,4,5,"div",7),ve.Vb(),ve.Wb(9,"div",3),ve.Wb(10,"div",4),ve.Wb(11,"label"),ve.ac(12,8),ve.Vb(),ve.Sc(13,Ie,2,0,"button",6),ve.Vb(),ve.Wb(14,"div",9),ve.Wb(15,"input",10),ve.kc("ngModelChange",(function(e){return n.advancedSearch.nsfw=e})),ve.Vb(),ve.Wb(16,"label",11),ve.ac(17,12),ve.Vb(),ve.Vb(),ve.Wb(18,"div",9),ve.Wb(19,"input",13),ve.kc("ngModelChange",(function(e){return n.advancedSearch.nsfw=e})),ve.Vb(),ve.Wb(20,"label",14),ve.ac(21,15),ve.Vb(),ve.Vb(),ve.Vb(),ve.Wb(22,"div",3),ve.Wb(23,"div",4),ve.Wb(24,"label"),ve.ac(25,16),ve.Vb(),ve.Sc(26,ze,2,0,"button",6),ve.Vb(),ve.Sc(27,Re,4,5,"div",7),ve.Vb(),ve.Wb(28,"div",3),ve.Wb(29,"div",17),ve.Wb(30,"label",18),ve.ac(31,19),ve.Vb(),ve.Sc(32,Fe,2,0,"button",6),ve.Vb(),ve.Wb(33,"div",1),ve.Wb(34,"div",20),ve.Wb(35,"input",21),ve.cc(36,22),ve.kc("change",(function(){return n.inputUpdated()}))("keydown.enter",(function(e){return e.preventDefault()}))("ngModelChange",(function(e){return n.originallyPublishedStartYear=e})),ve.Vb(),ve.Vb(),ve.Wb(37,"div",23),ve.Wb(38,"input",24),ve.cc(39,25),ve.kc("change",(function(){return n.inputUpdated()}))("keydown.enter",(function(e){return e.preventDefault()}))("ngModelChange",(function(e){return n.originallyPublishedEndYear=e})),ve.Vb(),ve.Vb(),ve.Vb(),ve.Vb(),ve.Vb(),ve.Wb(40,"div",2),ve.Wb(41,"div",3),ve.Wb(42,"div",4),ve.Wb(43,"label"),ve.ac(44,26),ve.Vb(),ve.Sc(45,$e,2,0,"button",6),ve.Vb(),ve.Sc(46,Te,4,5,"div",7),ve.Vb(),ve.Wb(47,"div",3),ve.Wb(48,"label",27),ve.ac(49,28),ve.Vb(),ve.Sc(50,Ae,2,0,"button",6),ve.Wb(51,"div",29),ve.Wb(52,"select",30),ve.kc("ngModelChange",(function(e){return n.advancedSearch.categoryOneOf=e})),ve.Wb(53,"option",31),ve.ac(54,32),ve.Vb(),ve.Sc(55,Le,2,2,"option",33),ve.Vb(),ve.Vb(),ve.Vb(),ve.Wb(56,"div",3),ve.Wb(57,"label",34),ve.ac(58,35),ve.Vb(),ve.Sc(59,Ue,2,0,"button",6),ve.Wb(60,"div",29),ve.Wb(61,"select",36),ve.kc("ngModelChange",(function(e){return n.advancedSearch.licenceOneOf=e})),ve.Wb(62,"option",31),ve.ac(63,37),ve.Vb(),ve.Sc(64,Ee,2,2,"option",33),ve.Vb(),ve.Vb(),ve.Vb(),ve.Wb(65,"div",3),ve.Wb(66,"label",38),ve.ac(67,39),ve.Vb(),ve.Sc(68,Ye,2,0,"button",6),ve.Wb(69,"div",29),ve.Wb(70,"select",40),ve.kc("ngModelChange",(function(e){return n.advancedSearch.languageOneOf=e})),ve.Wb(71,"option",31),ve.ac(72,41),ve.Vb(),ve.Sc(73,Je,2,2,"option",33),ve.Vb(),ve.Vb(),ve.Vb(),ve.Vb(),ve.Wb(74,"div",2),ve.Wb(75,"div",3),ve.Wb(76,"label",42),ve.ac(77,43),ve.Vb(),ve.Sc(78,Ne,2,0,"button",6),ve.Wb(79,"my-select-tags",44),ve.kc("ngModelChange",(function(e){return n.advancedSearch.tagsAllOf=e})),ve.Vb(),ve.Vb(),ve.Wb(80,"div",3),ve.Wb(81,"label",45),ve.ac(82,46),ve.Vb(),ve.Sc(83,je,2,0,"button",6),ve.Wb(84,"my-select-tags",47),ve.kc("ngModelChange",(function(e){return n.advancedSearch.tagsOneOf=e})),ve.Vb(),ve.Vb(),ve.Sc(85,Xe,12,2,"div",48),ve.Vb(),ve.Vb(),ve.Wb(86,"div",49),ve.Sc(87,Be,2,0,"button",50),ve.Wb(88,"input",51),ve.cc(89,52),ve.Vb(),ve.Vb(),ve.Vb()),2&e&&(ve.Db(7),ve.vc("ngIf","-match"!==n.advancedSearch.sort),ve.Db(1),ve.vc("ngForOf",n.sorts),ve.Db(5),ve.vc("ngIf",void 0!==n.advancedSearch.nsfw),ve.Db(2),ve.vc("ngModel",n.advancedSearch.nsfw),ve.Db(4),ve.vc("ngModel",n.advancedSearch.nsfw),ve.Db(7),ve.vc("ngIf",void 0!==n.publishedDateRange),ve.Db(1),ve.vc("ngForOf",n.publishedDateRanges),ve.Db(5),ve.vc("ngIf",n.originallyPublishedStartYear||n.originallyPublishedEndYear),ve.Db(3),ve.vc("ngModel",n.originallyPublishedStartYear),ve.Db(3),ve.vc("ngModel",n.originallyPublishedEndYear),ve.Db(7),ve.vc("ngIf",void 0!==n.durationRange),ve.Db(1),ve.vc("ngForOf",n.durationRanges),ve.Db(4),ve.vc("ngIf",void 0!==n.advancedSearch.categoryOneOf),ve.Db(2),ve.vc("ngModel",n.advancedSearch.categoryOneOf),ve.Db(1),ve.vc("value",void 0),ve.Db(2),ve.vc("ngForOf",n.videoCategories),ve.Db(4),ve.vc("ngIf",void 0!==n.advancedSearch.licenceOneOf),ve.Db(2),ve.vc("ngModel",n.advancedSearch.licenceOneOf),ve.Db(1),ve.vc("value",void 0),ve.Db(2),ve.vc("ngForOf",n.videoLicences),ve.Db(4),ve.vc("ngIf",void 0!==n.advancedSearch.languageOneOf),ve.Db(2),ve.vc("ngModel",n.advancedSearch.languageOneOf),ve.Db(1),ve.vc("value",void 0),ve.Db(2),ve.vc("ngForOf",n.videoLanguages),ve.Db(5),ve.vc("ngIf",n.advancedSearch.tagsAllOf),ve.Db(1),ve.vc("ngModel",n.advancedSearch.tagsAllOf),ve.Db(4),ve.vc("ngIf",n.advancedSearch.tagsOneOf),ve.Db(1),ve.vc("ngModel",n.advancedSearch.tagsOneOf),ve.Db(1),ve.vc("ngIf",n.isSearchTargetEnabled()),ve.Db(2),ve.vc("ngIf",n.advancedSearch.size()))},directives:[Ve.I,Ve.t,Ve.u,ke.u,ke.t,Ve.A,Ve.c,Ve.s,Ve.v,Ve.E,Ve.x,Ve.H,De.a],styles:['form[_ngcontent-%COMP%]{margin-top:40px}.radio-label[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.peertube-select-container[_ngcontent-%COMP%]{padding:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;margin:0 0 1rem}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.submit-button[_ngcontent-%COMP%]{text-align:right}.reset-button[_ngcontent-%COMP%]{border:none;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background:transparent;margin-right:1rem}.reset-button-small[_ngcontent-%COMP%]{font-size:80%;height:unset;line-height:unset;margin:unset;margin-bottom:.5rem}.label-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap}']}),He),Ge=oe("Dmbs"),Ke=oe("MUmz"),qe=oe("gCBE");function Ze(e,n){1&e&&(ve.Wb(0,"span"),ve.ac(1,15),ve.Vb())}function en(e,n){1&e&&(ve.Wb(0,"span"),ve.ac(1,16),ve.Vb())}function nn(e,n){if(1&e&&(ve.Wb(0,"span"),ve.gc(1,17),ve.Rb(2,"span",18),ve.dc(),ve.Vb()),2&e){var t=ve.oc(2);ve.Db(2),ve.ec(t.currentSearch),ve.bc(1)}}function tn(e,n){if(1&e&&(ve.Wb(0,"div",12),ve.Wb(1,"span"),ve.ac(2,13),ve.pc(3,"myNumberFormatter"),ve.Vb(),ve.Sc(4,Ze,2,0,"span",14),ve.Sc(5,en,2,0,"span",14),ve.Sc(6,nn,3,1,"span",14),ve.Vb()),2&e){var t=ve.oc();ve.Db(3),ve.ec(ve.qc(3,5,t.pagination.totalItems))(t.pagination.totalItems),ve.bc(2),ve.Db(1),ve.vc("ngIf","local"===t.advancedSearch.searchTarget),ve.Db(1),ve.vc("ngIf","search-index"===t.advancedSearch.searchTarget),ve.Db(1),ve.vc("ngIf",t.currentSearch)}}function an(e,n){if(1&e&&(ve.gc(0,6,1),ve.Rb(1,"span",19),ve.dc()),2&e){var t=ve.oc();ve.Db(1),ve.ec(t.numberOfFilters()),ve.bc(0)}}function rn(e,n){1&e&&(ve.Wb(0,"div",20),ve.ac(1,21),ve.Vb())}function on(e,n){if(1&e&&(ve.Wb(0,"a",34),ve.Rb(1,"img",35),ve.Vb()),2&e){var t=ve.oc(2).$implicit,a=ve.oc();ve.vc("routerLink",a.getChannelUrl(t)),ve.Db(1),ve.vc("src",t.avatarUrl,ve.Lc)}}function cn(e,n){if(1&e&&(ve.Wb(0,"a",36),ve.Rb(1,"img",35),ve.Vb()),2&e){var t=ve.oc(2).$implicit,a=ve.oc();ve.vc("href",a.getChannelUrl(t),ve.Lc),ve.Db(1),ve.vc("src",t.avatarUrl,ve.Lc)}}function ln(e,n){1&e&&ve.Sb(0)}function sn(e,n){if(1&e&&(ve.Wb(0,"a",37),ve.Sc(1,ln,1,0,"ng-container",38),ve.Vb()),2&e){ve.oc();var t=ve.Hc(7),a=ve.oc().$implicit,r=ve.oc();ve.vc("routerLink",r.getChannelUrl(a)),ve.Db(1),ve.vc("ngTemplateOutlet",t)}}function un(e,n){1&e&&ve.Sb(0)}function dn(e,n){if(1&e&&(ve.Wb(0,"a",39),ve.Sc(1,un,1,0,"ng-container",38),ve.Vb()),2&e){ve.oc();var t=ve.Hc(7),a=ve.oc().$implicit,r=ve.oc();ve.vc("href",r.getChannelUrl(a),ve.Lc),ve.Db(1),ve.vc("ngTemplateOutlet",t)}}function bn(e,n){if(1&e&&(ve.Wb(0,"div",40),ve.Uc(1),ve.Vb(),ve.Wb(2,"div",41),ve.Uc(3),ve.Vb()),2&e){var t=ve.oc(2).$implicit;ve.Db(1),ve.Vc(t.displayName),ve.Db(2),ve.Vc(t.nameWithHost)}}var gn=function(e){return[e]};function hn(e,n){if(1&e&&ve.Rb(0,"my-subscribe-button",42),2&e){var t=ve.oc(2).$implicit;ve.vc("videoChannels",ve.zc(1,gn,t))}}function fn(e,n){if(1&e&&(ve.Wb(0,"div",24),ve.Sc(1,on,2,2,"a",25),ve.Sc(2,cn,2,2,"a",26),ve.Wb(3,"div",27),ve.Sc(4,sn,2,2,"a",28),ve.Sc(5,dn,2,2,"a",29),ve.Sc(6,bn,4,2,"ng-template",null,30,ve.Tc),ve.Wb(8,"div",31),ve.ac(9,32),ve.Vb(),ve.Vb(),ve.Sc(10,hn,1,3,"my-subscribe-button",33),ve.Vb()),2&e){var t=ve.oc().$implicit,a=ve.oc();ve.Db(1),ve.vc("ngIf",!a.isExternalChannelUrl()),ve.Db(1),ve.vc("ngIf",a.isExternalChannelUrl()),ve.Db(2),ve.vc("ngIf",!a.isExternalChannelUrl()),ve.Db(1),ve.vc("ngIf",a.isExternalChannelUrl()),ve.Db(4),ve.ec(t.followersCount),ve.bc(9),ve.Db(1),ve.vc("ngIf",!a.hideActions())}}function vn(e,n){if(1&e){var t=ve.Xb();ve.Wb(0,"div",43),ve.Wb(1,"my-video-miniature",44),ve.kc("videoBlocked",(function(){ve.Jc(t);var e=ve.oc().$implicit;return ve.oc().removeVideoFromArray(e)}))("videoRemoved",(function(){ve.Jc(t);var e=ve.oc().$implicit;return ve.oc().removeVideoFromArray(e)})),ve.Vb(),ve.Vb()}if(2&e){var a=ve.oc().$implicit,r=ve.oc();ve.Db(1),ve.vc("video",a)("user",r.userMiniature)("displayAsRow",!0)("displayVideoActions",!r.hideActions())("displayOptions",r.videoDisplayOptions)("videoLinkType",r.getVideoLinkType())}}function pn(e,n){if(1&e&&(ve.Ub(0),ve.Sc(1,fn,11,6,"div",22),ve.Sc(2,vn,2,6,"div",23),ve.Tb()),2&e){var t=n.$implicit,a=ve.oc();ve.Db(1),ve.vc("ngIf",a.isVideoChannel(t)),ve.Db(1),ve.vc("ngIf",a.isVideo(t))}}var mn,On,Cn,Mn,Pn=((On=function(){function e(n,t,a,r,i,o,c,l,s){ie(this,e),this.route=n,this.router=t,this.metaService=a,this.notifier=r,this.searchService=i,this.authService=o,this.userService=c,this.hooks=l,this.serverService=s,this.results=[],this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.advancedSearch=new de.a,this.isSearchFilterCollapsed=!0,this.videoDisplayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.isInitialLoad=!1,this.firstSearch=!0,this.channelsPerPage=2}return ce(e,[{key:"ngOnInit",value:function(){var e=this;this.serverService.getConfig().subscribe((function(n){return e.serverConfig=n})),this.subActivatedRoute=this.route.queryParams.subscribe((function(n){return Object(Ce.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.search,this.currentSearch===t&&n.searchTarget===this.advancedSearch.searchTarget||(this.resetPagination(),this.advancedSearch.reset(),this.currentSearch=t||void 0,this.updateTitle()),this.advancedSearch=new de.a(n),e.t0=this.advancedSearch.searchTarget,e.t0){e.next=8;break}return e.next=7,this.serverService.getDefaultSearchTarget();case 7:this.advancedSearch.searchTarget=e.sent;case 8:this.isSearchFilterCollapsed=!1===this.isInitialLoad||!this.advancedSearch.containsValues(),this.isInitialLoad=!1,this.search();case 11:case"end":return e.stop()}}),e,this)})))}),(function(n){return e.notifier.error(n.text)})),this.userService.getAnonymousOrLoggedUser().subscribe((function(n){return e.userMiniature=n})),this.hooks.runAction("action:search.init","search")}},{key:"ngOnDestroy",value:function(){this.subActivatedRoute&&this.subActivatedRoute.unsubscribe()}},{key:"isVideoChannel",value:function(e){return e instanceof ue.VideoChannel}},{key:"isVideo",value:function(e){return e instanceof ue.Video}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"getVideoLinkType",value:function(){if("search-index"===this.advancedSearch.searchTarget){var e=this.serverConfig.search.remoteUri;return(this.isUserLoggedIn()||e.anonymous)&&e.users?"lazy-load":"external"}return"internal"}},{key:"isExternalChannelUrl",value:function(){return"external"===this.getVideoLinkType()}},{key:"search",value:function(){var e=this;Object(Me.a)([this.getVideosObs(),this.getVideoChannelObs()]).subscribe((function(n){var t=b(n,2),a=t[0],r=t[1];e.results=e.results.concat(r.data).concat(a.data),e.pagination.totalItems=a.total+r.total,e.lastSearchTarget=e.advancedSearch.searchTarget,!0===e.firstSearch&&a.data.length<e.pagination.itemsPerPage&&(e.resetPagination(),e.firstSearch=!1,e.channelsPerPage=10,e.search()),e.firstSearch=!1}),(function(n){"search-index"===e.advancedSearch.searchTarget?(e.notifier.error("Search index is unavailable. Retrying with instance results instead.","Search error"),e.advancedSearch.searchTarget="local",e.search()):e.notifier.error(n.message)}))}},{key:"onNearOfBottom",value:function(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.search())}},{key:"onFiltered",value:function(){this.resetPagination(),this.updateUrlFromAdvancedSearch()}},{key:"numberOfFilters",value:function(){return this.advancedSearch.size()}},{key:"removeVideoFromArray",value:function(e){var n=this;this.results=this.results.filter((function(t){return!n.isVideo(t)||t.id!==e.id}))}},{key:"getChannelUrl",value:function(e){return"external"===this.getVideoLinkType()?e.url:"internal"===this.getVideoLinkType()?["/video-channels",e.nameWithHost]:["/search/lazy-load-channel",{url:e.url}]}},{key:"hideActions",value:function(){return"search-index"===this.lastSearchTarget}},{key:"resetPagination",value:function(){this.pagination.currentPage=1,this.pagination.totalItems=null,this.channelsPerPage=2,this.results=[]}},{key:"updateTitle",value:function(){this.metaService.setTitle("Search"+(this.currentSearch?" "+this.currentSearch:""))}},{key:"updateUrlFromAdvancedSearch",value:function(){var e=this.currentSearch||void 0;this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},this.advancedSearch.toUrlObject(),{search:e})})}},{key:"getVideosObs",value:function(){var e={search:this.currentSearch,componentPagination:this.pagination,advancedSearch:this.advancedSearch};return this.hooks.wrapObsFun(this.searchService.searchVideos.bind(this.searchService),e,"search","filter:api.search.videos.list.params","filter:api.search.videos.list.result")}},{key:"getVideoChannelObs",value:function(){if(!this.currentSearch)return Object(Pe.a)({data:[],total:0});var e={search:this.currentSearch,componentPagination:Object(_e.h)(this.pagination,{itemsPerPage:this.channelsPerPage}),searchTarget:this.advancedSearch.searchTarget};return this.hooks.wrapObsFun(this.searchService.searchVideoChannels.bind(this.searchService),e,"search","filter:api.search.video-channels.list.params","filter:api.search.video-channels.list.result")}}]),e}()).\u0275fac=function(e){return new(e||On)(ve.Qb(pe.a),ve.Qb(pe.h),ve.Qb(Oe.d),ve.Qb(ye.Notifier),ve.Qb(de.b),ve.Qb(ye.AuthService),ve.Qb(ye.UserService),ve.Qb(ye.HooksService),ve.Qb(ye.ServerService))},On.\u0275cmp=ve.Kb({type:On,selectors:[["my-search"]],decls:13,vars:8,consts:function(){var e,s,u,d,b;return e="{VAR_PLURAL, plural, =1 {result} other {results}}",e=ve.fc(e,{VAR_PLURAL:"\ufffd1\ufffd"}),s="\n          " + "\ufffd0\ufffd" + "\n          " + e + "\n        ",u="on this instance",d="on the vidiverse",b="\n          per \n          " + "\ufffd#2\ufffd" + "\n          " + "\ufffd0\ufffd" + "\n          " + "\ufffd/#2\ufffd" + "\n        ",[["myInfiniteScroller","",1,"search-result",3,"autoInit","nearOfBottom"],[1,"results-header"],[1,"first-line"],["class","results-counter",4,"ngIf"],["role","button","aria-controls","collapseBasic",1,"results-filter-button","ml-auto",3,"click"],[1,"icon","icon-filter"],"\n          Filtri\n          \n          " + "\ufffd*8:1\ufffd\ufffd#1:1\ufffd" + "\n          " + "\ufffd0:1\ufffd" + "\n          " + "\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd" + "\n        ",["class","badge badge-secondary",4,"ngIf"],[1,"results-filter","collapse-transition",3,"ngbCollapse"],[3,"advancedSearch","filtered"],["class","no-results",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"results-counter"],s,[4,"ngIf"],u,d,b,[1,"search-value"],[1,"badge","badge-secondary"],[1,"no-results"],"\n    Nessun risultato trovato\n  ",["class","entry video-channel",4,"ngIf"],["class","entry video",4,"ngIf"],[1,"entry","video-channel"],[3,"routerLink",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],[1,"video-channel-info"],["class","video-channel-names",3,"routerLink",4,"ngIf"],["target","_blank","class","video-channel-names",3,"href",4,"ngIf"],["aContent",""],[1,"video-channel-followers"],"\n          " + "\ufffd0\ufffd" + " iscritti\n        ",[3,"videoChannels",4,"ngIf"],[3,"routerLink"],["alt","Avatar",3,"src"],["target","_blank",3,"href"],[1,"video-channel-names",3,"routerLink"],[4,"ngTemplateOutlet"],["target","_blank",1,"video-channel-names",3,"href"],[1,"video-channel-display-name"],[1,"video-channel-name"],[3,"videoChannels"],[1,"entry","video"],[3,"video","user","displayAsRow","displayVideoActions","displayOptions","videoLinkType","videoBlocked","videoRemoved"]]},template:function(e,n){1&e&&(ve.Wb(0,"div",0),ve.kc("nearOfBottom",(function(){return n.onNearOfBottom()})),ve.Wb(1,"div",1),ve.Wb(2,"div",2),ve.Sc(3,tn,7,7,"div",3),ve.Wb(4,"div",4),ve.kc("click",(function(){return n.isSearchFilterCollapsed=!n.isSearchFilterCollapsed})),ve.Rb(5,"span",5),ve.Ub(6),ve.gc(7,6),ve.Sc(8,an,2,1,"span",7),ve.dc(),ve.Tb(),ve.Vb(),ve.Vb(),ve.Wb(9,"div",8),ve.Wb(10,"my-search-filters",9),ve.kc("filtered",(function(){return n.onFiltered()})),ve.Vb(),ve.Vb(),ve.Vb(),ve.Sc(11,rn,2,0,"div",10),ve.Sc(12,pn,3,2,"ng-container",11),ve.Vb()),2&e&&(ve.vc("autoInit",!0),ve.Db(3),ve.vc("ngIf",n.pagination.totalItems),ve.Db(1),ve.Eb("aria-expanded",!n.isSearchFilterCollapsed),ve.Db(4),ve.vc("ngIf",n.numberOfFilters()>0),ve.Db(1),ve.vc("ngbCollapse",n.isSearchFilterCollapsed),ve.Db(1),ve.vc("advancedSearch",n.advancedSearch),ve.Db(1),ve.vc("ngIf",0===n.pagination.totalItems&&0===n.results.length),ve.Db(1),ve.vc("ngForOf",n.results))},directives:[Se.a,ke.u,xe.c,Qe,ke.t,pe.k,ke.B,Ge.a,Ke.a],pipes:[qe.a],styles:[".search-result[_ngcontent-%COMP%]{padding:40px}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]{font-size:16px;padding-bottom:20px;margin-bottom:30px;border-bottom:1px solid #dadada}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]{display:flex;flex-direction:row}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-counter[_ngcontent-%COMP%]{flex-grow:1}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-counter[_ngcontent-%COMP%]   .search-value[_ngcontent-%COMP%]{font-weight:600}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-filter-button[_ngcontent-%COMP%]{cursor:pointer}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-filter-button[_ngcontent-%COMP%]   .icon.icon-filter[_ngcontent-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:contain;width:20px;height:20px;vertical-align:middle;cursor:pointer;position:relative;top:-1px;margin-right:5px;background-image:url(filter.f342dd7b00319746f418.svg)}.search-result[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:130px;height:130px;min-width:130px;min-height:130px;margin:0 56.5px 0 46.5px}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{flex-grow:1;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]{display:flex;align-items:baseline;color:var(--mainForegroundColor);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]:active, .search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]:focus, .search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{font-size:14px;color:#777272;margin-left:5px}@media screen and (min-width:800px) and (max-width:1200px){.video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]{flex-direction:column!important}.video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px;margin-left:0!important}.main-col[_nghost-%COMP%]:not(.expanded)     .video-miniature-information, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-miniature-information{min-width:300px!important}}@media screen and (min-width:800px) and (max-width:900px){.main-col[_nghost-%COMP%]:not(.expanded)   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{max-width:160px}.main-col[_nghost-%COMP%]:not(.expanded)     .video-miniature-information, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-miniature-information{min-width:223px!important}.expanded[_nghost-%COMP%]     .video-miniature-information, .expanded   [_nghost-%COMP%]     .video-miniature-information{min-width:300px!important}}@media screen and (max-width:800px){.search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]{flex-direction:column;height:auto;justify-content:center;align-items:center;text-align:center}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]{align-items:center;flex-direction:column!important}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{margin-left:0!important}.search-result[_ngcontent-%COMP%]   .entry.video-channel[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{margin-top:5px}}@media screen and (max-width:500px){.search-result[_ngcontent-%COMP%]{padding:20px 10px}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]{font-size:15px!important}.search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{margin:auto}.search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0!important}.search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail, .search-result[_ngcontent-%COMP%]   .entry.video[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail img{width:100%;height:auto}}"]}),On),yn=((mn=function(){function e(n,t){ie(this,e),this.router=n,this.searchService=t}return ce(e,[{key:"resolve",value:function(e){var n=this,t=e.params.url;return t?this.searchService.searchVideos({search:t}).pipe(Object(fe.a)((function(e){return 1!==e.data.length?(console.error("Cannot find result for this URL"),n.router.navigateByUrl("/404")):n.router.navigateByUrl("/videos/watch/"+e.data[0].uuid)}))):(console.error("Could not find url param.",{params:e.params}),this.router.navigateByUrl("/404"))}}]),e}()).\u0275fac=function(e){return new(e||mn)(ve.hc(pe.h),ve.hc(de.b))},mn.\u0275prov=ve.Mb({token:mn,factory:mn.\u0275fac}),mn),_n=[{path:"",component:Pn,canActivate:[Oe.a],data:{meta:{title:"Search"}}},{path:"lazy-load-video",component:Pn,canActivate:[Oe.a],resolve:{data:yn}},{path:"lazy-load-channel",component:Pn,canActivate:[Oe.a],resolve:{data:me}}],Sn=((Mn=function e(){ie(this,e)}).\u0275mod=ve.Ob({type:Mn}),Mn.\u0275inj=ve.Nb({factory:function(e){return new(e||Mn)},imports:[[pe.l.forChild(_n)],pe.l]}),Mn),kn=((Cn=function e(){ie(this,e)}).\u0275mod=ve.Ob({type:Cn}),Cn.\u0275inj=ve.Nb({factory:function(e){return new(e||Cn)},providers:[he.a,yn,me],imports:[[Sn,ue.SharedMainModule,de.c,se.c,be.a,ge.b]]}),Cn)}}])}();