(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"5rWp":function(e,t,n){"use strict";var o=n("b613");n.d(t,"b",function(){return o.a}),n("Dmbs"),n("gY50");var i=n("hHkf");n.d(t,"a",function(){return i.a})},"9RWm":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("fXoL");let i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["my-live-documentation-link"]],decls:3,vars:0,consts:function(){let e;return e="Consulta " + "\ufffd#2\ufffd" + "la documentazione" + "\ufffd/#2\ufffd" + " per imparare a utilizzare la funzione della diretta streaming di PeerTube. ",[e,["href","https://docs.joinpeertube.org/use-create-upload-video?id=publish-a-live-in-peertube-gt-v3","target","_blank","rel","noopener noreferrer"]]},template:function(e,t){1&e&&(o.Wb(0,"div"),o.gc(1,0),o.Rb(2,"a",1),o.dc(),o.Vb())},encapsulation:2}),e})()},CXni:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("mrSG"),i=n("fXoL"),c=n("1kSV");let a=(()=>{let e=class{constructor(e){this.data=e}};return e=Object(o.b)([Object(o.d)(0,Object(i.p)("data")),Object(o.c)("design:paramtypes",[Object])],e),e})(),s=(()=>{class e extends a{constructor(e){super(e),this.data=e}}return e.\u0275fac=function(t){return new(t||e)(i.Qb("data"))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-list-header"]],features:[i.Ab],decls:3,vars:2,consts:[[1,"title-page","title-page-single"],["placement","bottom","container","body",3,"ngbTooltip"]],template:function(e,t){1&e&&(i.Wb(0,"h1",0),i.Wb(1,"div",1),i.Tc(2),i.Vb(),i.Vb()),2&e&&(i.Db(1),i.vc("ngbTooltip",t.data.titleTooltip),i.Db(1),i.Vc(" ",t.data.titlePage," "))},directives:[c.D],encapsulation:2}),e})()},Dmbs:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var o=n("cp0P"),i=n("GyhO"),c=n("VRyK"),a=n("ey9i"),s=n("xMQD"),r=n("b613"),l=n("fXoL"),d=n("tyNb"),b=n("ofXK"),u=n("1kSV"),g=n("gY50"),v=n("gCBE");function p(e,t){1&e&&l.Sb(0)}function h(e,t){1&e&&l.ac(0,24)}function f(e,t){if(1&e&&(l.Wb(0,"span"),l.Tc(1),l.Ub(2),l.ac(3,26),l.Tb(),l.Vb()),2&e){const e=l.oc(3);l.Db(1),l.Wc("",e.subscribeStatus(!0).length,"/",e.subscribed.size," ")}}function m(e,t){if(1&e&&(l.Wb(0,"span"),l.ac(1,25),l.Vb(),l.Rc(2,f,4,2,"span",10)),2&e){const e=l.oc(2);l.Db(2),l.vc("ngIf",e.isAtLeastOneChannelSubscribed)}}function O(e,t){if(1&e&&(l.Wb(0,"span",27),l.Tc(1),l.pc(2,"myNumberFormatter"),l.Vb()),2&e){const e=l.oc(2);l.Db(1),l.Vc(" ",l.qc(2,1,e.videoChannels[0].followersCount)," ")}}const C=function(e){return{"extra-text":e}};function M(e,t){if(1&e&&(l.Wb(0,"span",19),l.Rc(1,p,1,0,"ng-container",20),l.Rc(2,h,1,0,"ng-template",null,21,l.Sc),l.Rc(4,m,3,1,"ng-template",null,22,l.Sc),l.Vb(),l.Rc(6,O,3,3,"span",23)),2&e){const e=l.Ic(3),t=l.Ic(5),n=l.oc();l.vc("ngClass",l.zc(5,C,n.isAtLeastOneChannelSubscribed)),l.Db(1),l.vc("ngIf",n.account)("ngIfThen",t)("ngIfElse",e),l.Db(5),l.vc("ngIf",!n.isBigButton&&n.displayFollowers&&n.videoChannels.length>1&&0!==n.videoChannel.followersCount)}}function P(e,t){}function _(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",30),l.kc("click",function(){return l.Kc(e),l.oc(2).subscribe()}),l.Rc(1,P,0,0,"ng-template",31),l.Vb()}if(2&e){l.oc(2);const e=l.Ic(2);l.Db(1),l.vc("ngTemplateOutlet",e)}}function y(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",32),l.kc("click",function(){return l.Kc(e),l.oc(2).unsubscribe()}),l.Ub(1),l.ac(2,33),l.Tb(),l.Vb()}if(2&e){const e=l.oc(2);l.Db(2),l.ec(e.account+""),l.bc(2)}}function w(e,t){if(1&e&&(l.Rc(0,_,2,1,"button",28),l.Rc(1,y,3,1,"button",29)),2&e){const e=l.oc();l.vc("ngIf",!e.isAllChannelsSubscribed),l.Db(1),l.vc("ngIf",e.isAllChannelsSubscribed)}}function k(e,t){1&e&&l.Sb(0)}function S(e,t){1&e&&l.Sb(0)}function V(e,t){1&e&&(l.Wb(0,"span"),l.ac(1,34),l.Vb())}function I(e,t){1&e&&(l.Wb(0,"span"),l.ac(1,35),l.Vb())}const D=function(e,t,n){return{"subscribe-button":e,"unsubscribe-button":t,big:n}};let x=(()=>{class e{constructor(e,t,n,o,i){this.authService=e,this.router=t,this.notifier=n,this.userSubscriptionService=o,this.videoService=i,this.displayFollowers=!1,this.size="normal",this.subscribed=new Map}get handle(){return this.account?this.account.nameWithHost:this.videoChannel.name+"@"+this.videoChannel.host}get channelHandle(){return this.getChannelHandler(this.videoChannel)}get uri(){return this.account?this.account.url:this.videoChannels[0].url}get rssUri(){return(this.account?this.videoService.getAccountFeedUrls(this.account.id).find(e=>"xml"===e.format):this.videoService.getVideoChannelFeedUrls(this.videoChannels[0].id).find(e=>"xml"===e.format)).url}get videoChannel(){return this.videoChannels[0]}get isAllChannelsSubscribed(){return this.subscribeStatus(!0).length===this.videoChannels.length}get isAtLeastOneChannelSubscribed(){return this.subscribeStatus(!0).length>0}get isBigButton(){return this.isUserLoggedIn()&&this.videoChannels.length>1&&this.isAtLeastOneChannelSubscribed}ngOnInit(){this.loadSubscribedStatus()}ngOnChanges(){this.ngOnInit()}subscribe(){return this.isUserLoggedIn()?this.localSubscribe():this.gotoLogin()}localSubscribe(){const e=this.subscribeStatus(!1),t=this.videoChannels.map(e=>this.getChannelHandler(e)).filter(t=>e.includes(t)).map(e=>this.userSubscriptionService.addSubscription(e));Object(o.a)(t).subscribe(()=>{this.notifier.success(this.account?"Iscrizione a tutti i canali correnti di " + this.account.displayName + ". Riceverai una notifica di tutti i loro nuovi video.":"Iscritto a " + this.videoChannels[0].displayName + ". Riceverai una notifica di tutti i loro nuovi video.","Iscritto")},e=>this.notifier.error(e.message))}unsubscribe(){this.isUserLoggedIn()&&this.localUnsubscribe()}localUnsubscribe(){const e=this.subscribeStatus(!0),t=this.videoChannels.map(e=>this.getChannelHandler(e)).filter(t=>e.includes(t)).map(e=>this.userSubscriptionService.deleteSubscription(e));Object(i.a)(...t).subscribe({complete:()=>{this.notifier.success(this.account?"Disiscritto da tutti i canali di " + this.account.nameWithHost + " ":"Disiscritto da \n          " + this.videoChannels[0].nameWithHost + "\n        ","Disiscritto")},error:e=>this.notifier.error(e.message)})}isUserLoggedIn(){return this.authService.isLoggedIn()}gotoLogin(){this.router.navigate(["/login"])}subscribeStatus(e){const t=[];for(const[n,o]of this.subscribed.entries())o===e&&t.push(n);return t}getChannelHandler(e){return e.name+"@"+e.host}loadSubscribedStatus(){if(this.isUserLoggedIn())for(const e of this.videoChannels){const t=this.getChannelHandler(e);this.subscribed.set(t,!1),Object(c.a)(this.userSubscriptionService.listenToSubscriptionCacheChange(t),this.userSubscriptionService.doesSubscriptionExist(t)).subscribe(e=>this.subscribed.set(t,e),e=>this.notifier.error(e.message))}}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(d.h),l.Qb(a.m),l.Qb(r.a),l.Qb(s.s))},e.\u0275cmp=l.Kb({type:e,selectors:[["my-subscribe-button"]],inputs:{account:"account",videoChannels:"videoChannels",displayFollowers:"displayFollowers",size:"size"},features:[l.Bb],decls:24,vars:14,consts:function(){let e,t,n,o,i,c,a,s,r,d,b,u;return e="Multiple ways to subscribe to the current channel",t="Open subscription dropdown",n="Utilizzando un account ActivityPub",o="Iscriviti con un account remoto:",i="Usando una syndication feed",c="Iscriviti usando RSS",a="Iscriviti",s="Iscriviti a tutti i canali",r="canali sottoscritti",d="{VAR_SELECT, select, undefined {Disiscriviti} other {Disiscriviti da tutti i canali}}",d=l.fc(d,{VAR_SELECT:"\ufffd0\ufffd"}),b="Iscriviti a questa istanza con un account",u="Iscriviti con il tuo account locale",[[1,"btn-group-subscribe","btn-group",3,"ngClass"],["userLoggedOut",""],["userLoggedIn",""],[4,"ngIf","ngIfThen"],["ngbDropdown","","autoClose","outside","placement","bottom-right","role","group","aria-label",e,1,"btn-group"],["ngbDropdownToggle","","aria-label",t,1,"btn","btn-sm","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],n,[1,"dropdown-item",3,"click"],[4,"ngIf"],[1,"dropdown-item","dropdown-item-neutral"],[1,"mb-1"],o,[3,"showHelp","uri"],[1,"dropdown-divider"],i,["target","_blank",1,"dropdown-item",3,"href"],c,[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["single",""],["multiple",""],["class","followers-count",4,"ngIf"],a,s,r,[1,"followers-count"],["type","button","class","btn btn-sm",3,"click",4,"ngIf"],["type","button","class","btn btn-sm","role","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm",3,"click"],[3,"ngTemplateOutlet"],["type","button","role","button",1,"btn","btn-sm",3,"click"],d,b,u]},template:function(e,t){if(1&e&&(l.Wb(0,"div",0),l.Rc(1,M,7,7,"ng-template",null,1,l.Sc),l.Rc(3,w,2,2,"ng-template",null,2,l.Sc),l.Rc(5,k,1,0,"ng-container",3),l.Wb(6,"div",4),l.Wb(7,"button",5),l.Rc(8,S,1,0,"ng-container",3),l.Vb(),l.Wb(9,"div",6),l.Wb(10,"h6",7),l.ac(11,8),l.Vb(),l.Wb(12,"button",9),l.kc("click",function(){return t.subscribe()}),l.Rc(13,V,2,0,"span",10),l.Rc(14,I,2,0,"span",10),l.Vb(),l.Wb(15,"button",11),l.Wb(16,"div",12),l.ac(17,13),l.Vb(),l.Rb(18,"my-remote-subscribe",14),l.Vb(),l.Rb(19,"div",15),l.Wb(20,"h6",7),l.ac(21,16),l.Vb(),l.Wb(22,"a",17),l.ac(23,18),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=l.Ic(2),n=l.Ic(4);l.vc("ngClass",l.Bc(10,D,!t.isAllChannelsSubscribed,t.isAllChannelsSubscribed,t.isBigButton)),l.Db(5),l.vc("ngIf",t.isUserLoggedIn())("ngIfThen",n),l.Db(3),l.vc("ngIf",!t.isUserLoggedIn())("ngIfThen",e),l.Db(5),l.vc("ngIf",!t.isUserLoggedIn()),l.Db(1),l.vc("ngIf",t.isUserLoggedIn()),l.Db(4),l.vc("showHelp",!0)("uri",t.uri),l.Db(4),l.vc("href",t.rssUri,l.Mc)}},directives:[b.l,b.n,u.h,u.n,u.l,g.a,b.s],pipes:[v.a],styles:['.btn-group-subscribe[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;float:right;padding:0}.btn-group-subscribe[_ngcontent-%COMP%]:active, .btn-group-subscribe[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]:not(.big){white-space:nowrap}.btn-group-subscribe.big[_ngcontent-%COMP%]{height:35px}.btn-group-subscribe.big[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:-webkit-max-content;width:max-content;min-width:175px}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:80%}.btn-group-subscribe.big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:75%}.btn-group-subscribe[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:3px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding-right:4px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:2px}.btn-group-subscribe[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{position:relative;top:1px}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.btn-group-subscribe.subscribe-button[_ngcontent-%COMP%]   span.followers-count[_ngcontent-%COMP%]{padding-left:5px}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor);font-weight:600}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.btn-group-subscribe.unsubscribe-button[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]{cursor:default}.btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:focus, .btn-group-subscribe[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item-neutral[_ngcontent-%COMP%]:hover{background-color:inherit}.btn-group-subscribe[_ngcontent-%COMP%]     form{padding:.25rem 1rem}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.btn-group-subscribe[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.btn-group-subscribe[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.extra-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{line-height:75%}.extra-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){font-size:60%;text-align:left}']}),e})()},HZcR:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var o=n("mrSG"),i=n("fXoL"),c=n("ey9i"),a=n("HIM4"),s=n("xMQD"),r=(n("hDKA"),n("SZgj"),n("tTqN")),l=n("ofXK"),d=n("EcKj"),b=n("BYvb"),u=n("XZU/"),g=n("1kSV"),v=n("DTAc"),p=n("S51W");const h=["playlistDropdown"],f=["playlistAdd"],m=["videoDownloadModal"],O=["videoReportModal"],C=["videoBlockModal"],M=["liveStreamInformationModal"];function P(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",8,9),i.kc("openChange",function(t){return i.Kc(e),i.Ic(5).openChange(t)}),i.Rb(2,"span",10),i.Wb(3,"div",11),i.Rb(4,"my-video-add-to-playlist",12,13),i.Vb(),i.Vb()}if(2&e){const e=i.oc(2);i.vc("placement",e.getPlaylistDropdownPlacement()),i.Db(4),i.vc("video",e.video)("lazyLoad",!0)}}function _(e,t){1&e&&i.Rb(0,"my-live-stream-information",null,14)}const y=function(e){return{video:e}};function w(e,t){if(1&e){const e=i.Xb();i.Ub(0),i.Rc(1,P,6,3,"div",1),i.Wb(2,"my-action-dropdown",2),i.kc("click",function(){return i.Kc(e),i.oc().loadDropdownInformation()}),i.Vb(),i.Rb(3,"my-video-download",null,3),i.Rb(5,"my-video-report",4,5),i.Wb(7,"my-video-block",6,7),i.kc("videoBlocked",function(){return i.Kc(e),i.oc().onVideoBlocked()}),i.Vb(),i.Rc(9,_,2,0,"my-live-stream-information",0),i.Tb()}if(2&e){const e=i.oc();i.Db(1),i.vc("ngIf",e.isUserLoggedIn()&&e.displayOptions.playlist),i.Db(1),i.vc("actions",e.videoActions)("label",e.label)("entry",i.zc(11,y,e.video))("buttonSize",e.buttonSize)("placement",e.placement)("buttonDirection",e.buttonDirection)("buttonStyled",e.buttonStyled),i.Db(3),i.vc("video",e.video),i.Db(2),i.vc("video",e.video),i.Db(2),i.vc("ngIf",e.displayOptions.liveInfo)}}let k=(()=>{class e{constructor(e,t,n,o,c,a,s,r){this.authService=e,this.notifier=t,this.confirmService=n,this.blocklistService=o,this.videoBlocklistService=c,this.screenService=a,this.videoService=s,this.redundancyService=r,this.videoCaptions=[],this.displayOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0,liveInfo:!1},this.placement="left",this.buttonStyled=!1,this.buttonSize="normal",this.buttonDirection="vertical",this.videoRemoved=new i.n,this.videoUnblocked=new i.n,this.videoBlocked=new i.n,this.videoAccountMuted=new i.n,this.modalOpened=new i.n,this.videoActions=[],this.loaded=!1}get user(){return this.authService.getUser()}ngOnChanges(){this.loaded&&(this.loaded=!1,this.playlistAdd&&this.playlistAdd.reload()),this.buildActions()}isUserLoggedIn(){return this.authService.isLoggedIn()}loadDropdownInformation(){this.isUserLoggedIn()&&!0!==this.loaded&&(this.loaded=!0,this.displayOptions.playlist&&this.playlistAdd.load())}showDownloadModal(){this.modalOpened.emit(),this.videoDownloadModal.show(this.video,this.videoCaptions)}showReportModal(){this.modalOpened.emit(),this.videoReportModal.show()}showBlockModal(){this.modalOpened.emit(),this.videoBlockModal.show()}showLiveInfoModal(e){this.modalOpened.emit(),this.liveStreamInformationModal.show(e)}isVideoUpdatable(){return this.video.isUpdatableBy(this.user)}isVideoRemovable(){return this.video.isRemovableBy(this.user)}isVideoBlockable(){return this.video.isBlockableBy(this.user)}isVideoUnblockable(){return this.video.isUnblockableBy(this.user)}isVideoLiveInfoAvailable(){return this.video.isLiveInfoAvailableBy(this.user)}isVideoDownloadable(){return this.video&&!0!==this.video.isLive&&this.video instanceof s.o&&this.video.downloadEnabled}canVideoBeDuplicated(){return!this.video.isLive&&this.video.canBeDuplicatedBy(this.user)}isVideoAccountMutable(){return this.video.account.id!==this.user.account.id}unblockVideo(){return Object(o.a)(this,void 0,void 0,function*(){const e="Vuoi davvero sbloccare questo video? Sar\xE0 nuovamente disponibile nell'elenco dei video.";!1!==(yield this.confirmService.confirm(e,"Sblocca"))&&this.videoBlocklistService.unblockVideo(this.video.id).subscribe(()=>{this.notifier.success("Video " + this.video.name + " sbloccato."),this.video.blacklisted=!1,this.video.blockedReason=null,this.videoUnblocked.emit()},e=>this.notifier.error(e.message))})}removeVideo(){return Object(o.a)(this,void 0,void 0,function*(){this.modalOpened.emit();let e="Eliminare questo video ?";this.video.isLive&&(e+=" "+"La diretta streaming verr\xE0 terminata automaticamente."),!1!==(yield this.confirmService.confirm(e,"Cancella"))&&this.videoService.removeVideo(this.video.id).subscribe(()=>{this.notifier.success("Il video " + this.video.name + " \xE8 stato eliminato."),this.videoRemoved.emit()},e=>this.notifier.error(e.message))})}duplicateVideo(){this.redundancyService.addVideoRedundancy(this.video).subscribe(()=>{const e="Questo video verr\xE0 duplicato dalla tua istanza.";this.notifier.success(e)},e=>this.notifier.error(e.message))}muteVideoAccount(){const e={nameWithHost:s.c.CREATE_BY_STRING(this.video.account.name,this.video.account.host)};this.blocklistService.blockAccountByUser(e).subscribe(()=>{this.notifier.success("Account " + e.nameWithHost + " silenziato."),this.videoAccountMuted.emit()},e=>this.notifier.error(e.message))}onVideoBlocked(){this.videoBlocked.emit()}getPlaylistDropdownPlacement(){return this.screenService.isInSmallView()?"bottom-right":"bottom-left bottom-right"}buildActions(){this.videoActions=[[{label:"Salva nella playlist",handler:()=>this.playlistDropdown.toggle(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.playlist,iconName:"playlist-add"}],[{label:"Download",handler:()=>this.showDownloadModal(),isDisplayed:()=>this.displayOptions.download&&this.isVideoDownloadable(),iconName:"download"},{label:"Visualizza informazioni della diretta",handler:({video:e})=>this.showLiveInfoModal(e),isDisplayed:()=>this.displayOptions.liveInfo&&this.isVideoLiveInfoAvailable(),iconName:"live"},{label:"Modifica",linkBuilder:({video:e})=>["/videos/update",e.uuid],iconName:"edit",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.update&&this.isVideoUpdatable()},{label:"Blocca",handler:()=>this.showBlockModal(),iconName:"no",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.blacklist&&this.isVideoBlockable()},{label:"Sblocca",handler:()=>this.unblockVideo(),iconName:"undo",isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.blacklist&&this.isVideoUnblockable()},{label:"Copia speculare",handler:()=>this.duplicateVideo(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.duplicate&&this.canVideoBeDuplicated(),iconName:"cloud-download"},{label:"Cancella",handler:()=>this.removeVideo(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.delete&&this.isVideoRemovable(),iconName:"delete"},{label:"Segnala",handler:()=>this.showReportModal(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.report,iconName:"flag"}],[{label:"Silenzia account",handler:()=>this.muteVideoAccount(),isDisplayed:()=>this.authService.isLoggedIn()&&this.displayOptions.mute&&this.isVideoAccountMutable(),iconName:"no"}]]}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(c.a),i.Qb(c.m),i.Qb(c.d),i.Qb(a.c),i.Qb(a.h),i.Qb(c.v),i.Qb(s.s),i.Qb(s.g))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-actions-dropdown"]],viewQuery:function(e,t){if(1&e&&(i.Xc(h,1),i.Xc(f,1),i.Xc(m,1),i.Xc(O,1),i.Xc(C,1),i.Xc(M,1)),2&e){let e;i.Hc(e=i.lc())&&(t.playlistDropdown=e.first),i.Hc(e=i.lc())&&(t.playlistAdd=e.first),i.Hc(e=i.lc())&&(t.videoDownloadModal=e.first),i.Hc(e=i.lc())&&(t.videoReportModal=e.first),i.Hc(e=i.lc())&&(t.videoBlockModal=e.first),i.Hc(e=i.lc())&&(t.liveStreamInformationModal=e.first)}},inputs:{video:"video",videoCaptions:"videoCaptions",displayOptions:"displayOptions",placement:"placement",label:"label",buttonStyled:"buttonStyled",buttonSize:"buttonSize",buttonDirection:"buttonDirection"},outputs:{videoRemoved:"videoRemoved",videoUnblocked:"videoUnblocked",videoBlocked:"videoBlocked",videoAccountMuted:"videoAccountMuted",modalOpened:"modalOpened"},features:[i.Bb],decls:1,vars:1,consts:function(){let e;return e="Open video actions",[[4,"ngIf"],["role","button","aria-label",e,"class","playlist-dropdown","ngbDropdown","","autoClose","outside",3,"placement","openChange",4,"ngIf"],[3,"actions","label","entry","buttonSize","placement","buttonDirection","buttonStyled","click"],["videoDownloadModal",""],[3,"video"],["videoReportModal",""],[3,"video","videoBlocked"],["videoBlockModal",""],["role","button","aria-label",e,"ngbDropdown","","autoClose","outside",1,"playlist-dropdown",3,"placement","openChange"],["playlistDropdown","ngbDropdown"],["ngbDropdownAnchor","",1,"anchor"],["ngbDropdownMenu",""],[3,"video","lazyLoad"],["playlistAdd",""],["liveStreamInformationModal",""]]},template:function(e,t){1&e&&i.Rc(0,w,10,13,"ng-container",0),2&e&&i.vc("ngIf",0!==t.videoActions.length)},directives:[l.n,d.a,r.a,b.a,u.a,g.h,g.i,g.l,v.a,p.a],styles:[".playlist-dropdown[_ngcontent-%COMP%]{position:absolute}.playlist-dropdown[_ngcontent-%COMP%]   .anchor[_ngcontent-%COMP%]{display:block;opacity:0}  .icon-playlist-add{left:2px}"]}),e})()},JEFd:function(e,t,n){"use strict";n.d(t,"a",function(){return o.a}),n.d(t,"c",function(){return i.a}),n.d(t,"b",function(){return v});var o=n("s/vm"),i=(n("HZcR"),n("tTqN"),n("MUmz"),n("UT6+"),n("CXni")),c=n("sWvm"),a=n("P8w3"),s=n("Nmku"),r=n("HIM4"),l=n("h3Oa"),d=n("PcNq"),b=n("hDKA"),u=n("aW0q"),g=n("fXoL");let v=(()=>{class e{}return e.\u0275mod=g.Ob({type:e}),e.\u0275inj=g.Nb({factory:function(t){return new(t||e)},providers:[],imports:[[s.a,c.c,r.g,u.a,d.a,a.a,b.b,l.a]]}),e})()},MUmz:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var o=n("eIep"),i=n("fXoL"),c=n("ey9i"),a=(n("xMQD"),n("SZgj")),s=n("ofXK"),r=n("qZuT"),l=n("tyNb"),d=n("4Gki"),b=n("SecD"),u=n("HZcR");function g(e,t){1&e&&(i.Ub(0,23),i.ac(1,24),i.Tb())}function v(e,t){1&e&&(i.Ub(0,25),i.ac(1,26),i.Tb())}const p=function(e){return["/video-channels",e]};function h(e,t){if(1&e&&(i.Wb(0,"a",27),i.Rb(1,"img",28),i.Vb()),2&e){const e=i.oc();i.vc("routerLink",i.zc(3,p,e.video.byVideoChannel))("title",e.channelLinkTitle),i.Db(1),i.vc("src",e.getAvatarUrl(),i.Mc)}}const f=function(e){return{"blur-filter":e}};function m(e,t){if(1&e&&(i.Wb(0,"a",29),i.Tc(1),i.Vb()),2&e){const e=i.oc();i.vc("routerLink",e.videoRouterLink)("ngClass",i.zc(4,f,e.isVideoBlur)),i.Eb("title",e.video.name),i.Db(1),i.Uc(e.video.name)}}function O(e,t){if(1&e&&(i.Wb(0,"a",30),i.Tc(1),i.Vb()),2&e){const e=i.oc();i.vc("href",e.videoHref,i.Mc)("target",e.videoTarget)("ngClass",i.zc(5,f,e.isVideoBlur)),i.Eb("title",e.video.name),i.Db(1),i.Uc(e.video.name)}}function C(e,t){if(1&e&&i.Rb(0,"my-date-toggle",31),2&e){const e=i.oc();i.vc("date",e.video.publishedAt)}}function M(e,t){1&e&&(i.Ub(0),i.Tc(1," \u2022 "),i.Tb())}function P(e,t){if(1&e&&i.Rb(0,"my-video-views-counter",32),2&e){const e=i.oc();i.vc("video",e.video)}}const _=function(e){return["/accounts",e]};function y(e,t){if(1&e&&(i.Wb(0,"a",33),i.Tc(1),i.Vb()),2&e){const e=i.oc();i.vc("routerLink",i.zc(2,_,e.video.byAccount)),i.Db(1),i.Vc(" ",e.video.byAccount," ")}}function w(e,t){if(1&e&&(i.Wb(0,"a",34),i.Tc(1),i.Vb()),2&e){const e=i.oc();i.vc("routerLink",i.zc(2,p,e.video.byVideoChannel)),i.Db(1),i.Vc(" ",e.video.byVideoChannel," ")}}function k(e,t){if(1&e&&(i.Ub(0),i.Tc(1),i.Tb()),2&e){const e=i.oc();i.Db(1),i.Uc(e.video.privacy.label)}}function S(e,t){1&e&&(i.Ub(0),i.Tc(1," - "),i.Tb())}function V(e,t){if(1&e&&(i.Ub(0),i.Tc(1),i.Tb()),2&e){const e=i.oc();i.Db(1),i.Uc(e.getStateLabel(e.video))}}function I(e,t){if(1&e&&(i.Wb(0,"span",39),i.Tc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Uc(e.video.blockedReason)}}function D(e,t){if(1&e&&(i.Wb(0,"div",35),i.Wb(1,"span",36),i.ac(2,37),i.Vb(),i.Rc(3,I,2,1,"span",38),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.video.blockedReason)}}function x(e,t){1&e&&(i.Wb(0,"div",40),i.ac(1,41),i.Vb())}function L(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-video-actions-dropdown",42),i.kc("videoRemoved",function(){return i.Kc(e),i.oc().onVideoRemoved()})("videoBlocked",function(){return i.Kc(e),i.oc().onVideoBlocked()})("videoUnblocked",function(){return i.Kc(e),i.oc().onVideoUnblocked()})("videoAccountMuted",function(){return i.Kc(e),i.oc().onVideoAccountMuted()}),i.Vb()}if(2&e){const e=i.oc();i.vc("video",e.video)("displayOptions",e.videoActionsDisplayOptions)}}const R=function(e,t){return{"display-as-row":e,"fit-width":t}};let T=(()=>{class e{constructor(e,t,n,o,c,a){this.screenService=e,this.serverService=t,this.authService=n,this.videoPlaylistService=o,this.cd=c,this.localeId=a,this.ownerDisplayType="account",this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1},this.displayAsRow=!1,this.displayVideoActions=!0,this.fitWidth=!1,this.videoLinkType="internal",this.videoBlocked=new i.n,this.videoUnblocked=new i.n,this.videoRemoved=new i.n,this.videoAccountMuted=new i.n,this.videoActionsDisplayOptions={playlist:!0,download:!1,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0},this.showActions=!1,this.channelLinkTitle="",this.videoRouterLink=[]}get isVideoBlur(){return this.video.isVideoNSFWForUser(this.user,this.serverConfig)}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>{this.serverConfig=e,this.buildVideoLink()}),this.setUpBy(),this.channelLinkTitle="" + this.video.channel.name + " (pagina del canale) ",this.screenService.isInTouchScreen()&&this.loadActions()}buildVideoLink(){if("internal"!==this.videoLinkType&&this.video.url)return"external"===this.videoLinkType?(this.videoRouterLink=null,this.videoHref=this.video.url,void(this.videoTarget="_blank")):void(this.videoRouterLink=["/search/lazy-load-video",{url:this.video.url}]);this.videoRouterLink=["/videos/watch",this.video.uuid]}displayOwnerAccount(){return"account"===this.ownerDisplayTypeChosen}displayOwnerVideoChannel(){return"videoChannel"===this.ownerDisplayTypeChosen}isUnlistedVideo(){return 2===this.video.privacy.id}isPrivateVideo(){return 3===this.video.privacy.id}getStateLabel(e){if(!e.state)return"";if(3!==e.privacy.id&&1===e.state.id)return "Pubblicato";if(e.scheduledUpdate){const t=new Date(e.scheduledUpdate.updateAt.toString()).toLocaleString(this.localeId);return "Pubblicazione schedulata per"+t}return 2===e.state.id&&!0===e.waitTranscoding?"Aspettando trascodifica":2===e.state.id?"Da trascodificare":3===e.state.id?"Da importare":""}getAvatarUrl(){return"account"===this.ownerDisplayTypeChosen?this.video.accountAvatarUrl:this.video.videoChannelAvatarUrl}loadActions(){this.displayVideoActions&&(this.showActions=!0),this.loadWatchLater()}onVideoBlocked(){this.videoBlocked.emit()}onVideoUnblocked(){this.videoUnblocked.emit()}onVideoRemoved(){this.videoRemoved.emit()}onVideoAccountMuted(){this.videoAccountMuted.emit()}isUserLoggedIn(){return this.authService.isLoggedIn()}onWatchLaterClick(e){!0===e?this.removeFromWatchLater():this.addToWatchLater(),this.inWatchLaterPlaylist=!e}addToWatchLater(){this.videoPlaylistService.addVideoInPlaylist(this.watchLaterPlaylist.id,{videoId:this.video.id}).subscribe(e=>{this.watchLaterPlaylist.playlistElementId=e.videoPlaylistElement.id})}removeFromWatchLater(){this.videoPlaylistService.removeVideoFromPlaylist(this.watchLaterPlaylist.id,this.watchLaterPlaylist.playlistElementId,this.video.id).subscribe(e=>{})}isWatchLaterPlaylistDisplayed(){return this.displayVideoActions&&this.isUserLoggedIn()&&void 0!==this.inWatchLaterPlaylist}setUpBy(){this.ownerDisplayTypeChosen="account"!==this.ownerDisplayType&&"videoChannel"!==this.ownerDisplayType?this.video.channel.name===`${this.video.account.name}_channel`||this.video.channel.name.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/)?"account":"videoChannel":this.ownerDisplayType}loadWatchLater(){this.isUserLoggedIn()&&void 0===this.inWatchLaterPlaylist&&(this.authService.userInformationLoaded.pipe(Object(o.a)(()=>this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id))).subscribe(e=>{const t=this.authService.getUser().specialPlaylists.find(e=>2===e.type),n=e.find(e=>e.playlistId===t.id);this.inWatchLaterPlaylist=!1,this.watchLaterPlaylist={id:t.id},n&&(this.inWatchLaterPlaylist=!0,this.watchLaterPlaylist.playlistElementId=n.playlistElementId),this.cd.markForCheck()}),this.videoPlaylistService.runPlaylistCheck(this.video.id))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(c.v),i.Qb(c.x),i.Qb(c.a),i.Qb(a.b),i.Qb(i.h),i.Qb(i.w))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-miniature"]],inputs:{user:"user",video:"video",ownerDisplayType:"ownerDisplayType",displayOptions:"displayOptions",displayAsRow:"displayAsRow",displayVideoActions:"displayVideoActions",fitWidth:"fitWidth",videoLinkType:"videoLinkType"},outputs:{videoBlocked:"videoBlocked",videoUnblocked:"videoUnblocked",videoRemoved:"videoRemoved",videoAccountMuted:"videoAccountMuted"},decls:26,vars:28,consts:function(){let e,t,n,o;return e="Non elencato",t="Privato",n="Bloccato",o="\n        Sensibile\n      ",[[1,"video-miniature",3,"ngClass","mouseenter"],[3,"video","nsfw","videoRouterLink","videoHref","videoTarget","displayWatchLaterPlaylist","inWatchLaterPlaylist","watchLaterClick"],["ngProjectAs","label-warning",5,["label-warning"],4,"ngIf"],["ngProjectAs","label-danger",5,["label-danger"],4,"ngIf"],[1,"video-bottom"],[1,"video-miniature-information"],[1,"d-inline-flex","video-miniature-meta"],["class","avatar",3,"routerLink","title",4,"ngIf"],[1,"w-100","d-flex","flex-column"],["tabindex","-1","class","video-miniature-name",3,"routerLink","ngClass",4,"ngIf"],["tabindex","-1","class","video-miniature-name",3,"href","target","ngClass",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date",4,"ngIf"],[1,"views",3,"title"],[4,"ngIf"],[3,"video",4,"ngIf"],["tabindex","-1","class","video-miniature-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-miniature-channel",3,"routerLink",4,"ngIf"],[1,"video-info-privacy"],["class","video-info-blocked",4,"ngIf"],["class","video-info-nsfw",4,"ngIf"],[1,"video-actions"],["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted",4,"ngIf"],["ngProjectAs","label-warning",5,["label-warning"]],e,["ngProjectAs","label-danger",5,["label-danger"]],t,[1,"avatar",3,"routerLink","title"],["alt","",3,"src"],["tabindex","-1",1,"video-miniature-name",3,"routerLink","ngClass"],["tabindex","-1",1,"video-miniature-name",3,"href","target","ngClass"],[3,"date"],[3,"video"],["tabindex","-1",1,"video-miniature-account",3,"routerLink"],["tabindex","-1",1,"video-miniature-channel",3,"routerLink"],[1,"video-info-blocked"],[1,"blocked-label"],n,["class","blocked-reason",4,"ngIf"],[1,"blocked-reason"],[1,"video-info-nsfw"],o,["placement","bottom-left bottom-right left auto",3,"video","displayOptions","videoRemoved","videoBlocked","videoUnblocked","videoAccountMuted"]]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.kc("mouseenter",function(){return t.loadActions()}),i.Wb(1,"my-video-thumbnail",1),i.kc("watchLaterClick",function(e){return t.onWatchLaterClick(e)}),i.Rc(2,g,2,0,"ng-container",2),i.Rc(3,v,2,0,"ng-container",3),i.Vb(),i.Wb(4,"div",4),i.Wb(5,"div",5),i.Wb(6,"div",6),i.Rc(7,h,2,5,"a",7),i.Wb(8,"div",8),i.Rc(9,m,2,6,"a",9),i.Rc(10,O,2,7,"a",10),i.Wb(11,"span",11),i.Rc(12,C,1,1,"my-date-toggle",12),i.Wb(13,"span",13),i.Rc(14,M,2,0,"ng-container",14),i.Rc(15,P,1,1,"my-video-views-counter",15),i.Vb(),i.Vb(),i.Rc(16,y,2,4,"a",16),i.Rc(17,w,2,4,"a",17),i.Wb(18,"div",18),i.Rc(19,k,2,1,"ng-container",14),i.Rc(20,S,2,0,"ng-container",14),i.Rc(21,V,2,1,"ng-container",14),i.Vb(),i.Vb(),i.Vb(),i.Rc(22,D,4,1,"div",19),i.Rc(23,x,2,0,"div",20),i.Vb(),i.Wb(24,"div",21),i.Rc(25,L,1,2,"my-video-actions-dropdown",22),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.vc("ngClass",i.Ac(25,R,t.displayAsRow,t.fitWidth)),i.Db(1),i.vc("video",t.video)("nsfw",t.isVideoBlur)("videoRouterLink",t.videoRouterLink)("videoHref",t.videoHref)("videoTarget",t.videoTarget)("displayWatchLaterPlaylist",t.isWatchLaterPlaylistDisplayed())("inWatchLaterPlaylist",t.inWatchLaterPlaylist),i.Db(1),i.vc("ngIf",t.displayOptions.privacyLabel&&t.isUnlistedVideo()),i.Db(1),i.vc("ngIf",t.displayOptions.privacyLabel&&t.isPrivateVideo()),i.Db(4),i.vc("ngIf",t.displayOptions.avatar),i.Db(2),i.vc("ngIf",!t.videoHref),i.Db(1),i.vc("ngIf",t.videoHref),i.Db(2),i.vc("ngIf",t.displayOptions.date),i.Db(1),i.vc("title",t.video.getExactNumberOfViews()),i.Db(1),i.vc("ngIf",t.displayOptions.date&&t.displayOptions.views),i.Db(1),i.vc("ngIf",t.displayOptions.views),i.Db(1),i.vc("ngIf",t.displayOptions.by&&t.displayOwnerAccount()),i.Db(1),i.vc("ngIf",t.displayOptions.by&&t.displayOwnerVideoChannel()),i.Db(2),i.vc("ngIf",t.displayOptions.privacyText),i.Db(1),i.vc("ngIf",t.displayOptions.privacyText&&t.displayOptions.state&&t.getStateLabel(t.video)),i.Db(1),i.vc("ngIf",t.displayOptions.state),i.Db(1),i.vc("ngIf",t.displayOptions.blacklistInfo&&t.video.blacklisted),i.Db(1),i.vc("ngIf",t.displayOptions.nsfw&&t.video.nsfw),i.Db(2),i.vc("ngIf",t.showActions))},directives:[s.l,r.a,s.n,l.k,d.a,b.a,u.a],styles:['.video-miniature[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;padding-bottom:15px;vertical-align:top}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{display:flex}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:183px;line-height:normal}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:10px 10px 0 0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%;width:40px;height:40px;min-width:40px;min-height:40px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.2em;font-size:1.1em;line-height:1.1em;overflow:hidden;text-overflow:ellipsis;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);margin-top:10px;margin-bottom:5px;width:calc(100% - 40px)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name.blur-filter[_ngcontent-%COMP%]{filter:blur(3px);padding-left:4px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-meta[_ngcontent-%COMP%]{width:calc(100% + 40px);overflow:hidden}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{display:block;font-size:13px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;color:var(--greyForegroundColor)}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:active, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:focus, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%]:hover, .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%]:hover{color:#303030}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-label[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%], .video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-weight:600}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]   .blocked-reason[_ngcontent-%COMP%]:before{content:" - "}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-nsfw[_ngcontent-%COMP%]{color:red}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin-top:3px;width:40px;height:30px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root:not(.show){opacity:0}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .playlist-dropdown.show+my-action-dropdown .dropdown-root{opacity:1}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon{opacity:.6}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .more-icon:hover{opacity:1}@media screen and (max-width:800px){.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{margin:0 10px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}.video-miniature[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root{opacity:1!important}}.video-miniature[_ngcontent-%COMP%]:hover   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]     .dropdown-root, .video-miniature[_ngcontent-%COMP%]:hover     .video-thumbnail .video-thumbnail-actions-overlay{opacity:1}.video-miniature.fit-width[_ngcontent-%COMP%]{width:100%}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]{width:100%!important}.video-miniature.fit-width[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:calc(100% - 40px)!important}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.video-miniature.fit-width[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{position:absolute;width:100%;height:100%;top:0}.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:row;padding-bottom:0;height:auto;display:flex;flex-grow:1}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:10px}@media screen and (min-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{width:auto;min-width:500px}}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-name[_ngcontent-%COMP%]{display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin-top:2px;margin-bottom:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-account[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-channel[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:95%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%], .video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-miniature-created-at-views[_ngcontent-%COMP%] + .video-miniature-channel[_ngcontent-%COMP%]{margin-top:5px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]   .video-info-blocked[_ngcontent-%COMP%]{margin-top:3px}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-bottom[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{margin:0;top:-3px}@media screen and (max-width:800px){.video-miniature.display-as-row[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video-miniature.display-as-row[_ngcontent-%COMP%]   my-video-thumbnail[_ngcontent-%COMP%]{margin-right:0}.video-miniature.display-as-row[_ngcontent-%COMP%]   .video-miniature-information[_ngcontent-%COMP%]{min-width:0}}'],changeDetection:0}),e})()},S51W:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("nEQH"),i=n("fXoL"),c=n("1kSV"),a=n("UkmY"),s=n("ofXK"),r=n("l9Pe"),l=n("tyNb"),d=n("9RWm"),b=n("RM9B");const u=["modal"];function g(e,t){1&e&&(i.Wb(0,"div",22),i.ac(1,23),i.Vb())}function v(e,t){1&e&&(i.Wb(0,"div",22),i.ac(1,24),i.Vb())}function p(e,t){if(1&e&&(i.Wb(0,"div",10),i.Wb(1,"div"),i.Rc(2,g,2,0,"div",11),i.Rc(3,v,2,0,"div",11),i.Vb(),i.Wb(4,"div",12),i.Rb(5,"my-live-documentation-link"),i.Vb(),i.Wb(6,"div",13),i.Wb(7,"label",14),i.ac(8,15),i.Vb(),i.Rb(9,"my-input-toggle-hidden",16),i.Vb(),i.Wb(10,"div",13),i.Wb(11,"label",17),i.ac(12,18),i.Vb(),i.Rb(13,"my-input-toggle-hidden",19),i.Wb(14,"div",20),i.ac(15,21),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc(2);i.Db(2),i.vc("ngIf",e.live.permanentLive),i.Db(1),i.vc("ngIf",e.live.saveReplay),i.Db(6),i.vc("value",e.live.rtmpUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),i.Db(4),i.vc("value",e.live.streamKey)("withCopy",!0)("readonly",!0)}}const h=function(e){return["/videos","update",e]};function f(e,t){if(1&e&&(i.Wb(0,"div",1),i.Wb(1,"h4",2),i.ac(2,3),i.Vb(),i.Wb(3,"my-global-icon",4),i.kc("click",function(){return(0,t.dismiss)()}),i.Vb(),i.Vb(),i.Rc(4,p,16,10,"div",5),i.Wb(5,"div",6),i.Wb(6,"div",7),i.Wb(7,"input",8),i.kc("click",function(){return(0,t.dismiss)()}),i.Vb(),i.Wb(8,"my-edit-button",9),i.kc("click",function(){return(0,t.dismiss)()}),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(4),i.vc("ngIf",e.live),i.Db(4),i.vc("routerLink",i.zc(2,h,e.video.uuid))}}let m=(()=>{class e{constructor(e,t){this.modalService=e,this.liveVideoService=t}show(e){this.video=e,this.live=void 0,this.loadLiveInfo(e),this.modalService.open(this.modal,{centered:!0})}loadLiveInfo(e){this.liveVideoService.getVideoLive(e.id).subscribe(e=>this.live=e)}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(c.o),i.Qb(o.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-live-stream-information"]],viewQuery:function(e,t){if(1&e&&i.Xc(u,3),2&e){let e;i.Hc(e=i.lc())&&(t.modal=e.first)}},decls:2,vars:0,consts:function(){let e,t,n,o,i,c,a,s;return e="Informazione sulla diretta",t="Chiudi",n="Aggiorna le impostazioni della diretta",o="Diretta RTMP Url",i="Chiave della diretta streaming",c="\u26A0\uFE0F Non condividere mai la tua chiave di streaming con nessuno.",a="Diretta permanente",s="Il replay verr\xE0 salvato",[["modal",""],[1,"modal-header"],[1,"modal-title"],e,["iconName","cross","aria-label","Close","role","button",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"form-group","inputs"],["type","button","role","button","value",t,1,"action-button","action-button-cancel",3,"click"],["label",n,3,"routerLink","click"],[1,"modal-body"],["class","badge badge-info",4,"ngIf"],[1,"alert","alert-info"],[1,"form-group"],["for","liveVideoRTMPUrl"],o,["inputId","liveVideoRTMPUrl",3,"value","withToggle","withCopy","show","readonly"],["for","liveVideoStreamKey"],i,["inputId","liveVideoStreamKey",3,"value","withCopy","readonly"],[1,"form-group-description"],c,[1,"badge","badge-info"],a,s]},template:function(e,t){1&e&&i.Rc(0,f,9,4,"ng-template",null,0,i.Sc)},directives:[a.a,s.n,r.a,l.i,d.a,b.a],styles:["p-autocomplete[_ngcontent-%COMP%]{display:block}.form-group[_ngcontent-%COMP%]{margin:20px 0}.alert-info[_ngcontent-%COMP%]{margin:1rem 0}.badge[_ngcontent-%COMP%]{font-size:13px}"]}),e})()},SecD:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n("xMQD");var o=n("fXoL"),i=n("ofXK"),c=n("gCBE");function a(e,t){if(1&e&&(o.Ub(0),o.ac(1,2),o.pc(2,"myNumberFormatter"),o.Tb()),2&e){const e=o.oc();o.Db(2),o.ec(e.video.views)(o.qc(2,2,e.video.views)),o.bc(1)}}function s(e,t){if(1&e&&(o.Ub(0),o.ac(1,3),o.pc(2,"myNumberFormatter"),o.Tb()),2&e){const e=o.oc();o.Db(2),o.ec(e.video.views)(o.qc(2,2,e.video.views)),o.bc(1)}}let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["my-video-views-counter"]],inputs:{video:"video"},decls:3,vars:3,consts:function(){let e,t,n,i;return e="{VAR_PLURAL, plural, =1 {1 view} other {{INTERPOLATION} visualizzazioni}}",e=o.fc(e,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),t="" + e + " ",n="{VAR_PLURAL, plural, =1 {1 viewer} other {{INTERPOLATION} viewers}}",n=o.fc(n,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),i="" + n + " ",[[3,"title"],[4,"ngIf"],t,i]},template:function(e,t){1&e&&(o.Wb(0,"span",0),o.Rc(1,a,3,4,"ng-container",1),o.Rc(2,s,3,4,"ng-container",1),o.Vb()),2&e&&(o.vc("title",t.video.getExactNumberOfViews()),o.Db(1),o.vc("ngIf",!t.video.isLive),o.Db(1),o.vc("ngIf",t.video.isLive))},directives:[i.n],pipes:[c.a],styles:[""]}),e})()},"UT6+":function(e,t,n){"use strict";n.d(t,"a",function(){return C});var o=n("fXoL"),i=n("ey9i"),c=n("xMQD"),a=n("s/vm"),s=n("tyNb"),r=n("ofXK"),l=n("UjHu"),d=n("/xt7"),b=n("3Pt+"),u=n("MUmz");function g(e,t){1&e&&(o.Wb(0,"div",3),o.ac(1,4),o.Vb())}function v(e,t){1&e&&o.Sb(0)}function p(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",11),o.Wb(1,"div",12),o.Wb(2,"span",13),o.kc("click",function(){return o.Kc(e),o.oc(2).abortSelectionMode()}),o.ac(3,14),o.Vb(),o.Rc(4,v,1,0,"ng-container",15),o.Vb(),o.Vb()}if(2&e){const e=o.oc(2);o.Db(4),o.vc("ngTemplateOutlet",e.globalButtonsTemplate)}}function h(e,t){1&e&&o.Sb(0)}const f=function(e){return{$implicit:e}};function m(e,t){if(1&e&&(o.Ub(0),o.Rc(1,h,1,0,"ng-container",16),o.Tb()),2&e){const e=o.oc().$implicit,t=o.oc();o.Db(1),o.vc("ngTemplateOutlet",t.rowButtonsTemplate)("ngTemplateOutletContext",o.zc(2,f,e))}}function O(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",5),o.Wb(1,"div",6),o.Wb(2,"my-peertube-checkbox",7),o.kc("ngModelChange",function(n){o.Kc(e);const i=t.$implicit;return o.oc()._selection[i.id]=n}),o.Vb(),o.Vb(),o.Rb(3,"my-video-miniature",8),o.Rc(4,p,5,1,"div",9),o.Rc(5,m,2,4,"ng-container",10),o.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=o.oc();o.Db(2),o.vc("inputName","video-check-"+e.id)("ngModel",i._selection[e.id]),o.Db(1),o.vc("video",e)("displayAsRow",!0)("displayOptions",i.miniatureDisplayOptions)("displayVideoActions",!1)("ownerDisplayType",i.ownerDisplayType)("user",i.user),o.Db(1),o.vc("ngIf",!0===i.isInSelectionMode()&&0===n),o.Db(1),o.vc("ngIf",!1===i.isInSelectionMode())}}let C=(()=>{class e extends a.a{constructor(e,t,n,i,c,a,s,r,l){super(),this.router=e,this.route=t,this.notifier=n,this.authService=i,this.userService=c,this.screenService=a,this.storageService=s,this.serverService=r,this.cfr=l,this.selectionChange=new o.n,this.videosModelChange=new o.n,this._selection={}}get selection(){return this._selection}set selection(e){this._selection=e,this.selectionChange.emit(this._selection)}get videosModel(){return this.videos}set videosModel(e){this.videos=e,this.videosModelChange.emit(this.videos)}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){{const e=this.templates.find(e=>"rowButtons"===e.name);e&&(this.rowButtonsTemplate=e.template)}{const e=this.templates.find(e=>"globalButtons"===e.name);e&&(this.globalButtonsTemplate=e.template)}}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(e){return this.getVideosObservableFunction(e,this.sort)}abortSelectionMode(){this._selection={}}isInSelectionMode(){return Object.keys(this._selection).some(e=>!0===this._selection[e])}generateSyndicationList(){throw new Error("Method not implemented.")}onMoreVideos(){this.videosModel=this.videos}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(s.h),o.Qb(s.a),o.Qb(i.m),o.Qb(i.a),o.Qb(i.D),o.Qb(i.v),o.Qb(i.h),o.Qb(i.x),o.Qb(o.j))},e.\u0275cmp=o.Kb({type:e,selectors:[["my-videos-selection"]],contentQueries:function(e,t,n){if(1&e&&o.Jb(n,c.f,0),2&e){let e;o.Hc(e=o.lc())&&(t.templates=e)}},inputs:{user:"user",pagination:"pagination",titlePage:"titlePage",miniatureDisplayOptions:"miniatureDisplayOptions",ownerDisplayType:"ownerDisplayType",getVideosObservableFunction:"getVideosObservableFunction",selection:"selection",videosModel:"videosModel"},outputs:{selectionChange:"selectionChange",videosModelChange:"videosModelChange"},features:[o.Ab],decls:3,vars:5,consts:function(){let e,t;return e="Nessun risultato.",t="\n          Annulla\n        ",[["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],[1,"no-results"],e,[1,"video"],[1,"checkbox-container"],[3,"inputName","ngModel","ngModelChange"],[3,"video","displayAsRow","displayOptions","displayVideoActions","ownerDisplayType","user"],["class","action-selection-mode",4,"ngIf"],[4,"ngIf"],[1,"action-selection-mode"],[1,"action-selection-mode-child"],[1,"action-button","action-button-cancel-selection",3,"click"],t,[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(e,t){1&e&&(o.Rc(0,g,2,0,"div",0),o.Wb(1,"div",1),o.kc("nearOfBottom",function(){return t.onNearOfBottom()}),o.Rc(2,O,6,10,"div",2),o.Vb()),2&e&&(o.vc("ngIf",t.hasDoneFirstQuery&&0===t.videos.length),o.Db(1),o.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),o.Db(1),o.vc("ngForOf",t.videos)("ngForTrackBy",t.videoById))},directives:[r.n,l.a,r.m,d.a,b.m,b.p,u.a,r.s],styles:['.action-selection-mode[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-grow:1}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]{position:fixed}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-left:55px}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.focus-visible[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:active, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:focus, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]:hover, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection.disabled[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[disabled][_ngcontent-%COMP%]{cursor:default}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.action-selection-mode[_ngcontent-%COMP%]   .action-selection-mode-child[_ngcontent-%COMP%]   .action-button-cancel-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:20px;margin-left:12px}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:none}.video[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-top:10px}.action-selection-mode[_ngcontent-%COMP%]{display:none}}']}),e})()},b613:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var o=n("NOtv"),i=n("BeL+"),c=n("jtHE"),a=n("XNiG"),s=n("VRyK"),r=n("D0XW"),l=n("LRne"),d=n("OsX3"),b=n("pLZG"),u=n("lJxs"),g=n("pxpQ"),v=n("eIep"),p=n("w1tV"),h=n("JIr8"),f=n("vkgz"),m=n("tk/3"),O=n("ey9i"),C=n("6rF9"),M=n("xMQD"),P=n("AytR"),_=n("fXoL");const y=o("peertube:subscriptions:UserSubscriptionService");let w=(()=>{class e{constructor(e,t,n,o,l){this.authHttp=e,this.restExtractor=t,this.videoService=n,this.restService=o,this.ngZone=l,this.existsSubject=new c.a(1),this.myAccountSubscriptionCache={},this.myAccountSubscriptionCacheObservable={},this.myAccountSubscriptionCacheSubject=new a.a,this.existsObservable=Object(s.a)(this.existsSubject.pipe(Object(d.a)(500,Object(C.k)(this.ngZone,r.b)),Object(b.a)(e=>0!==e.length),Object(u.a)(e=>Object(i.a)(e)),Object(g.b)(Object(C.d)(this.ngZone,r.b)),Object(v.a)(e=>this.doSubscriptionsExist(e)),Object(p.a)()),this.myAccountSubscriptionCacheSubject)}getUserSubscriptionVideos(t){const{videoPagination:n,sort:o,skipCount:i}=t,c=this.restService.componentPaginationToRestPagination(n);let a=new m.f;return a=this.restService.addRestGetParams(a,c,o),i&&(a=a.set("skipCount",i+"")),this.authHttp.get(e.BASE_USER_SUBSCRIPTIONS_URL+"/videos",{params:a}).pipe(Object(v.a)(e=>this.videoService.extractVideos(e)),Object(h.a)(e=>this.restExtractor.handleError(e)))}deleteSubscription(t){return this.authHttp.delete(e.BASE_USER_SUBSCRIPTIONS_URL+"/"+t).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(f.a)(()=>{this.myAccountSubscriptionCache[t]=!1,this.myAccountSubscriptionCacheSubject.next(this.myAccountSubscriptionCache)}),Object(h.a)(e=>this.restExtractor.handleError(e)))}addSubscription(t){return this.authHttp.post(e.BASE_USER_SUBSCRIPTIONS_URL,{uri:t}).pipe(Object(u.a)(this.restExtractor.extractDataBool),Object(f.a)(()=>{this.myAccountSubscriptionCache[t]=!0,this.myAccountSubscriptionCacheSubject.next(this.myAccountSubscriptionCache)}),Object(h.a)(e=>this.restExtractor.handleError(e)))}listSubscriptions(t){const{pagination:n,search:o}=t,i=e.BASE_USER_SUBSCRIPTIONS_URL,c=this.restService.componentPaginationToRestPagination(n);let a=new m.f;return a=this.restService.addRestGetParams(a,c),o&&(a=a.append("search",o)),this.authHttp.get(i,{params:a}).pipe(Object(u.a)(e=>M.n.extractVideoChannels(e)),Object(h.a)(e=>this.restExtractor.handleError(e)))}listenToMyAccountSubscriptionCacheSubject(){return this.myAccountSubscriptionCacheSubject.asObservable()}listenToSubscriptionCacheChange(e){if(e in this.myAccountSubscriptionCacheObservable)return this.myAccountSubscriptionCacheObservable[e];const t=this.existsObservable.pipe(Object(b.a)(t=>void 0!==t[e]),Object(u.a)(t=>t[e]));return this.myAccountSubscriptionCacheObservable[e]=t,t}doesSubscriptionExist(e){return y("Running subscription check for %d.",e),e in this.myAccountSubscriptionCache?(y("Found cache for %d.",e),Object(l.a)(this.myAccountSubscriptionCache[e])):(this.existsSubject.next(e),y("Fetching from network for %d.",e),this.existsObservable.pipe(Object(b.a)(t=>void 0!==t[e]),Object(u.a)(t=>t[e]),Object(f.a)(t=>this.myAccountSubscriptionCache[e]=t)))}doSubscriptionsExist(t){const n=e.BASE_USER_SUBSCRIPTIONS_URL+"/exist";let o=new m.f;return o=this.restService.addObjectParams(o,{uris:t}),this.authHttp.get(n,{params:o}).pipe(Object(f.a)(e=>{this.myAccountSubscriptionCache=Object.assign(Object.assign({},this.myAccountSubscriptionCache),e)}),Object(h.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_USER_SUBSCRIPTIONS_URL=P.a.apiUrl+"/api/v1/users/me/subscriptions",e.\u0275fac=function(t){return new(t||e)(_.hc(m.b),_.hc(O.r),_.hc(M.s),_.hc(O.s),_.hc(_.C))},e.\u0275prov=_.Mb({token:e,factory:e.\u0275fac}),e})()},gY50:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("ey9i"),i=n("sWvm"),c=n("nnN+"),a=n("fXoL"),s=n("3Pt+"),r=n("ofXK"),l=n("1lk2"),d=n("BLxp");function b(e,t){1&e&&(a.gc(0,4,1),a.Rb(1,"span"),a.dc())}function u(e,t){1&e&&(a.gc(0,4,2),a.Rb(1,"span"),a.dc())}function g(e,t){1&e&&(a.Ub(0),a.ac(1,7),a.Tb())}function v(e,t){1&e&&(a.Wb(0,"my-help"),a.Rc(1,g,2,0,"ng-template",6),a.Vb())}function p(e,t){1&e&&(a.Ub(0),a.ac(1,8),a.Tb())}function h(e,t){1&e&&(a.Wb(0,"my-help"),a.Rc(1,p,2,0,"ng-template",6),a.Vb())}let f=(()=>{class e extends i.a{constructor(e,t){super(),this.formValidatorService=e,this.notifier=t,this.interact=!1,this.showHelp=!1}ngOnInit(){this.buildForm({text:c.h})}onValidKey(){this.check(),this.form.valid&&this.formValidated()}formValidated(){const e=this.form.value.text,[t,n]=e.split("@"),o=window.location.protocol;fetch(`${o}//${n}/.well-known/webfinger?resource=acct:${t}@${n}`).then(e=>e.json()).then(e=>new Promise((t,n)=>{if(!e||!1===Array.isArray(e.links))return n();const o=e.links.find(e=>e&&"string"==typeof e.template&&"http://ostatus.org/schema/1.0/subscribe"===e.rel);o&&o.template.includes("{uri}")&&t(o.template.replace("{uri}",encodeURIComponent(this.uri)))})).then(window.open).catch(e=>{console.error(e),this.notifier.error("Impossibile recuperare le informazioni di questo account remoto")})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(i.b),a.Qb(o.m))},e.\u0275cmp=a.Kb({type:e,selectors:[["my-remote-subscribe"]],inputs:{uri:"uri",interact:"interact",showHelp:"showHelp"},features:[a.Ab],decls:9,vars:6,consts:function(){let e,t,n;return e="" + "\ufffd*5:1\ufffd\ufffd#1:1\ufffd" + "Iscrizione remota" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "" + "\ufffd*6:2\ufffd\ufffd#1:2\ufffd" + "Interazione remota" + "[\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*6:2\ufffd]" + "",e=a.fc(e),t="Puoi iscriverti al canale tramite qualsiasi istanza del Fediverso compatibile con ActivityPub (ad esempio PeerTube, Mastodon, o Pleroma).",n="Puoi interagire con questo tramite qualsiasi istanza del fediverso compatibile con ActiviyPub (ad esempio PeerTube, Mastodon o Pleroma).",[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["type","email","formControlName","text","placeholder","jane_doe@example.com",1,"form-control",3,"keyup.control.enter","keyup.meta.enter"],["type","submit",1,"btn","btn-sm","btn-remote-follow",3,"disabled"],e,[4,"ngIf"],["ptTemplate","customHtml"],t,n]},template:function(e,t){1&e&&(a.Wb(0,"form",0),a.kc("ngSubmit",function(){return t.formValidated()}),a.Wb(1,"div",1),a.Wb(2,"input",2),a.kc("keyup.control.enter",function(){return t.onValidKey()})("keyup.meta.enter",function(){return t.onValidKey()}),a.Vb(),a.Vb(),a.Wb(3,"button",3),a.gc(4,4),a.Rc(5,b,2,0,"span",5),a.Rc(6,u,2,0,"span",5),a.dc(),a.Vb(),a.Rc(7,v,2,0,"my-help",5),a.Rc(8,h,2,0,"my-help",5),a.Vb()),2&e&&(a.vc("formGroup",t.form),a.Db(3),a.vc("disabled",!t.form.valid),a.Db(2),a.vc("ngIf",!t.interact),a.Db(1),a.vc("ngIf",t.interact),a.Db(1),a.vc("ngIf",!t.interact&&t.showHelp),a.Db(1),a.vc("ngIf",t.showHelp&&t.interact))},directives:[s.y,s.n,s.h,s.b,s.m,s.f,r.n,l.a,d.a],styles:['.btn-remote-follow[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.btn-remote-follow.focus-visible[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.btn-remote-follow[_ngcontent-%COMP%], .btn-remote-follow[_ngcontent-%COMP%]:active, .btn-remote-follow[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.btn-remote-follow[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.btn-remote-follow.disabled[_ngcontent-%COMP%], .btn-remote-follow[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.btn-remote-follow[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),e})()},h3Oa:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("Nmku"),i=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[o.a]]}),e})()},hDKA:function(e,t,n){"use strict";n.d(t,"a",function(){return o.a}),n.d(t,"b",function(){return r});var o=n("nEQH"),i=(n("S51W"),n("sWvm")),c=n("P8w3"),a=n("Nmku"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)},providers:[o.a],imports:[[a.a,i.c,c.a]]}),e})()},hHkf:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("sWvm"),i=n("Nmku"),c=n("b613"),a=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},providers:[c.a],imports:[[i.a,o.c]]}),e})()},nEQH:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("JIr8"),i=n("ey9i"),c=n("AytR"),a=n("fXoL"),s=n("tk/3");let r=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t}goLive(t){return this.authHttp.post(e.BASE_VIDEO_LIVE_URL,t).pipe(Object(o.a)(e=>this.restExtractor.handleError(e)))}getVideoLive(t){return this.authHttp.get(e.BASE_VIDEO_LIVE_URL+t).pipe(Object(o.a)(e=>this.restExtractor.handleError(e)))}updateLive(t,n){return this.authHttp.put(e.BASE_VIDEO_LIVE_URL+t,n).pipe(Object(o.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_VIDEO_LIVE_URL=c.a.apiUrl+"/api/v1/videos/live/",e.\u0275fac=function(t){return new(t||e)(a.hc(s.b),a.hc(i.r))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})()},"s/vm":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("XNiG"),i=n("jtHE"),c=n("xgIS"),a=n("Kj3r"),s=n("eIep"),r=n("vkgz"),l=n("fXoL");function d(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function b(e,t){return(e.getTime()-t.getTime())/864e5}var u=n("CXni");const g=["videoListHeader"];var v=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.TODAY=1]="TODAY",e[e.YESTERDAY=2]="YESTERDAY",e[e.THIS_WEEK=3]="THIS_WEEK",e[e.THIS_MONTH=4]="THIS_MONTH",e[e.LAST_MONTH=5]="LAST_MONTH",e[e.OLDER=6]="OLDER",e}({});let p=(()=>{class e{constructor(){this.HeaderComponent=u.a,this.pagination={currentPage:1,itemsPerPage:25},this.sort="-publishedAt",this.defaultSort="-publishedAt",this.syndicationItems=[],this.loadOnInit=!0,this.loadUserVideoPreferences=!1,this.ownerDisplayType="account",this.displayModerationBlock=!1,this.displayVideoActions=!0,this.groupByDate=!1,this.videos=[],this.hasDoneFirstQuery=!1,this.disabled=!1,this.displayOptions={date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!0,privacyText:!1,state:!1,blacklistInfo:!1},this.actions=[],this.onDataSubject=new o.a,this.onUserLoadedSubject=new i.a(1),this.groupedDates={}}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.groupedDateLabels={[v.UNKNOWN]:null,[v.TODAY]:"Oggi",[v.YESTERDAY]:"Ieri",[v.THIS_WEEK]:"Questa settimana",[v.THIS_MONTH]:"Questo mese",[v.LAST_MONTH]:"Ultimo mese",[v.OLDER]:"Pi\xF9 vecchio"},this.loadRouteParams(this.route.snapshot.queryParams),this.resizeSubscription=Object(c.a)(window,"resize").pipe(Object(a.a)(500)).subscribe(()=>this.calcPageSizes()),this.calcPageSizes(),this.loadUserAndSettings().subscribe(()=>{this.onUserLoadedSubject.next(),!0===this.loadOnInit&&this.loadMoreVideos()}),this.userService.listenAnonymousUpdate().pipe(Object(s.a)(()=>this.loadUserAndSettings())).subscribe(()=>{this.hasDoneFirstQuery&&this.reloadVideos()}),this.screenService.isInMobileView()&&(this.displayOptions.avatar=!0)}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}ngAfterContentInit(){this.videoListHeader&&this.setHeader.apply(this,[this.HeaderComponent,this.headerComponentInjector])}disableForReuse(){this.disabled=!0}enabledForReuse(){this.disabled=!1}videoById(e,t){return t.id}onNearOfBottom(){this.disabled||void 0!==this.lastQueryLength&&this.lastQueryLength<this.pagination.itemsPerPage||(console.log("near of bottom"),this.pagination.currentPage+=1,this.setScrollRouteParams(),this.loadMoreVideos())}loadMoreVideos(e=!1){this.getVideosObservable(this.pagination.currentPage).subscribe(({data:t})=>{this.hasDoneFirstQuery=!0,this.lastQueryLength=t.length,e&&(this.videos=[]),this.videos=this.videos.concat(t),this.groupByDate&&this.buildGroupedDateLabels(),this.onMoreVideos(),this.onDataSubject.next(t)},e=>{const t="Impossibile caricare altri video. Riprovare pi\xF9 tardi.";console.error(t,{error:e}),this.notifier.error(t)})}reloadVideos(){this.pagination.currentPage=1,this.loadMoreVideos(!0)}removeVideoFromArray(e){this.videos=this.videos.filter(t=>t.id!==e.id)}buildGroupedDateLabels(){let e=v.UNKNOWN;const t=[{value:v.TODAY,validator:e=>function(e){return d(e,new Date)}(e)},{value:v.YESTERDAY,validator:e=>function(e){const t=new Date;return t.setDate(t.getDate()-1),d(e,t)}(e)},{value:v.THIS_WEEK,validator:e=>function(e){return b(new Date,e)<=7}(e)},{value:v.THIS_MONTH,validator:e=>function(e){const t=(new Date).getMonth();return e.getMonth()===t}(e)},{value:v.LAST_MONTH,validator:e=>function(e){return b(new Date,e)<=30}(e)},{value:v.OLDER,validator:()=>!0}];for(const n of this.videos){const o=n.publishedAt;for(let i=0;i<t.length;i++){const c=t[i];if(e<=c.value&&c.validator(o)){e!==c.value&&(e=c.value,this.groupedDates[n.id]=e);break}}}}getCurrentGroupedDateLabel(e){if(!1!==this.groupByDate)return this.groupedDateLabels[this.groupedDates[e.id]]}toggleModerationDisplay(){throw new Error("toggleModerationDisplay "+"function is not implemented")}setHeader(e=this.HeaderComponent,t=this.headerComponentInjector){const n=t||l.t.create({providers:[{provide:"data",useValue:{titlePage:this.titlePage,titleTooltip:this.titleTooltip}}]}),o=this.videoListHeader;o.clear();const i=this.cfr.resolveComponentFactory(e);o.createComponent(i,0,n)}onMoreVideos(){}load(){}loadPageRouteParams(e){}loadRouteParams(e){this.sort=e.sort||this.defaultSort,this.categoryOneOf=e.categoryOneOf,this.angularState=e["a-state"],this.loadPageRouteParams(e)}buildLocalFilter(e,t){return"local"===t?"local"===e?"all-local":"local":"all"===e?null:"all"}enableAllFilterIfPossible(){this.authService.isLoggedIn()&&this.authService.userInformationLoaded.subscribe(()=>{const e=this.authService.getUser();this.displayModerationBlock=e.hasRight(19)})}calcPageSizes(){this.screenService.isInMobileView()&&(this.pagination.itemsPerPage=5)}setScrollRouteParams(){if(this.angularState)return;this.angularState=42;const e={"a-state":this.angularState,categoryOneOf:this.categoryOneOf};let t=this.getUrlWithoutParams();t&&"/"!==t||(t=this.serverConfig.instance.defaultClientRoute),this.router.navigate([t],{queryParams:e,replaceUrl:!0,queryParamsHandling:"merge"})}loadUserAndSettings(){return this.userService.getAnonymousOrLoggedUser().pipe(Object(r.a)(e=>{this.userMiniature=e,this.loadUserVideoPreferences&&(this.languageOneOf=e.videoLanguages,this.nsfwPolicy=e.nsfwPolicy)}))}getUrlWithoutParams(){const e=this.router.parseUrl(this.router.url);return e.queryParams={},e.toString()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.Lb({type:e,viewQuery:function(e,t){if(1&e&&l.Xc(g,3,l.S),2&e){let e;l.Hc(e=l.lc())&&(t.videoListHeader=e.first)}}}),e})()},tTqN:function(e,t,n){"use strict";n.d(t,"a",function(){return R});var o=n("mrSG"),i=n("TSHB"),c=n("Bw5p"),a=n("fXoL"),s=n("ey9i"),r=n("xMQD"),l=n("1kSV"),d=n("ofXK"),b=n("UkmY"),u=n("3Pt+"),g=n("UXJo");const v=["modal"];function p(e,t){if(1&e){const e=a.Xb();a.Wb(0,"button",24),a.kc("click",function(){return a.Kc(e),a.oc(3).switchToType("subtitles")}),a.ac(1,25),a.Vb()}}function h(e,t){if(1&e){const e=a.Xb();a.Wb(0,"button",24),a.kc("click",function(){return a.Kc(e),a.oc(3).switchToType("video")}),a.ac(1,26),a.Vb()}}function f(e,t){if(1&e&&(a.Wb(0,"div",20),a.Wb(1,"span",21),a.Tc(2),a.Vb(),a.Wb(3,"div",22),a.Rc(4,p,2,0,"button",23),a.Rc(5,h,2,0,"button",23),a.Vb(),a.Vb()),2&e){const e=a.oc(2);a.Db(2),a.Vc(" ",e.type," "),a.Db(2),a.vc("ngIf","video"===e.type),a.Db(1),a.vc("ngIf","subtitles"===e.type)}}function m(e,t){1&e&&(a.Wb(0,"div",27),a.ac(1,28),a.Vb())}function O(e,t){if(1&e&&(a.Wb(0,"option",31),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.vc("value",e.resolution.id),a.Db(1),a.Uc(e.resolution.label)}}function C(e,t){if(1&e){const e=a.Xb();a.Wb(0,"select",29),a.kc("ngModelChange",function(t){return a.Kc(e),a.oc(2).resolutionId=t})("ngModelChange",function(){return a.Kc(e),a.oc(2).onResolutionIdChange()}),a.Rc(1,O,2,2,"option",30),a.Vb()}if(2&e){const e=a.oc(2);a.vc("ngModel",e.resolutionId),a.Db(1),a.vc("ngForOf",e.getVideoFiles())}}function M(e,t){if(1&e&&(a.Wb(0,"option",31),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.vc("value",e.language.id),a.Db(1),a.Uc(e.language.label)}}function P(e,t){if(1&e){const e=a.Xb();a.Wb(0,"select",29),a.kc("ngModelChange",function(t){return a.Kc(e),a.oc(2).subtitleLanguageId=t}),a.Rc(1,M,2,2,"option",30),a.Vb()}if(2&e){const e=a.oc(2);a.vc("ngModel",e.subtitleLanguageId),a.Db(1),a.vc("ngForOf",e.videoCaptions)}}function _(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",32),a.Wb(1,"button",33),a.kc("click",function(){return a.Kc(e),a.oc(2).activateCopiedMessage()}),a.Rb(2,"span",34),a.Vb(),a.Vb()}if(2&e){a.oc();const e=a.Ic(14);a.Db(1),a.vc("cdkCopyToClipboard",e.value)}}function y(e,t){if(1&e&&(a.Wb(0,"div",47),a.Wb(1,"span",48),a.ac(2,49),a.Vb(),a.Wb(3,"span",50),a.Tc(4),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Db(2),a.ec(e.value.label),a.bc(2),a.Db(2),a.Uc(e.value.value)}}function w(e,t){if(1&e&&(a.Wb(0,"div",45),a.Rc(1,y,5,2,"div",46),a.pc(2,"keyvalue"),a.Vb()),2&e){const e=a.oc(3);a.Db(1),a.vc("ngForOf",a.qc(2,1,e.videoFileMetadataFormat))}}function k(e,t){if(1&e&&(a.Wb(0,"div",47),a.Wb(1,"span",48),a.ac(2,51),a.Vb(),a.Wb(3,"span",50),a.Tc(4),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Db(2),a.ec(e.value.label),a.bc(2),a.Db(2),a.Uc(e.value.value)}}function S(e,t){if(1&e&&(a.Wb(0,"div",45),a.Rc(1,k,5,2,"div",46),a.pc(2,"keyvalue"),a.Vb()),2&e){const e=a.oc(3);a.Db(1),a.vc("ngForOf",a.qc(2,1,e.videoFileMetadataVideoStream))}}function V(e,t){if(1&e&&(a.Wb(0,"div",47),a.Wb(1,"span",48),a.ac(2,52),a.Vb(),a.Wb(3,"span",50),a.Tc(4),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Db(2),a.ec(e.value.label),a.bc(2),a.Db(2),a.Uc(e.value.value)}}function I(e,t){if(1&e&&(a.Wb(0,"div",45),a.Rc(1,V,5,2,"div",46),a.pc(2,"keyvalue"),a.Vb()),2&e){const e=a.oc(3);a.Db(1),a.vc("ngForOf",a.qc(2,1,e.videoFileMetadataAudioStream))}}function D(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"div",35,36),a.Ub(3,37),a.Wb(4,"a",38),a.ac(5,39),a.Vb(),a.Rc(6,w,3,3,"ng-template",40),a.Tb(),a.Ub(7,41),a.Wb(8,"a",38),a.ac(9,42),a.Vb(),a.Rc(10,S,3,3,"ng-template",40),a.Tb(),a.Ub(11,41),a.Wb(12,"a",38),a.ac(13,43),a.Vb(),a.Rc(14,I,3,3,"ng-template",40),a.Tb(),a.Vb(),a.Rb(15,"div",44),a.Tb()),2&e){const e=a.Ic(2),t=a.oc(2);a.Db(7),a.vc("disabled",void 0===t.videoFileMetadataVideoStream),a.Db(4),a.vc("disabled",void 0===t.videoFileMetadataAudioStream),a.Db(4),a.vc("ngbNavOutlet",e)}}function x(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",53),a.Wb(1,"div",54),a.Wb(2,"input",55),a.kc("ngModelChange",function(t){return a.Kc(e),a.oc(2).downloadType=t}),a.Vb(),a.Wb(3,"label",56),a.ac(4,57),a.Vb(),a.Vb(),a.Wb(5,"div",54),a.Wb(6,"input",58),a.kc("ngModelChange",function(t){return a.Kc(e),a.oc(2).downloadType=t}),a.Vb(),a.Wb(7,"label",59),a.ac(8,60),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.oc(2);a.Db(2),a.vc("ngModel",e.downloadType),a.Db(4),a.vc("ngModel",e.downloadType)}}function L(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",1),a.Wb(1,"h4",2),a.Ub(2),a.ac(3,3),a.Tb(),a.Rc(4,f,6,3,"div",4),a.Vb(),a.Wb(5,"my-global-icon",5),a.kc("click",function(){return(0,t.close)()}),a.Vb(),a.Vb(),a.Wb(6,"div",6),a.Wb(7,"div",7),a.Rc(8,m,2,0,"div",8),a.Wb(9,"div",9),a.Wb(10,"div",10),a.Rc(11,C,2,2,"select",11),a.Rc(12,P,2,2,"select",11),a.Vb(),a.Wb(13,"input",12,13),a.kc("click",function(){return a.Kc(e),a.Ic(14).select()}),a.Vb(),a.Rc(15,_,3,1,"div",14),a.Vb(),a.Vb(),a.Rc(16,D,16,3,"ng-container",15),a.Rc(17,x,9,2,"div",16),a.Vb(),a.Wb(18,"div",17),a.Wb(19,"input",18),a.kc("click",function(){return(0,t.close)()})("key.enter",function(){return(0,t.close)()}),a.Vb(),a.Wb(20,"input",19),a.kc("click",function(){return a.Kc(e),a.oc().download()}),a.Vb(),a.Vb()}if(2&e){const e=a.oc();a.Db(4),a.vc("ngIf",e.videoCaptions),a.Db(4),a.vc("ngIf",e.isConfidentialVideo()),a.Db(3),a.vc("ngIf","video"===e.type),a.Db(1),a.vc("ngIf","subtitles"===e.type),a.Db(1),a.vc("value",e.getLink()),a.Db(2),a.vc("ngIf",!e.isConfidentialVideo()),a.Db(1),a.vc("ngIf","video"===e.type&&(null==e.videoFile?null:e.videoFile.metadata)),a.Db(1),a.vc("ngIf","video"===e.type)}}let R=(()=>{class e{constructor(e,t,n,o,i){this.localeId=e,this.notifier=t,this.modalService=n,this.videoService=o,this.auth=i,this.downloadType="torrent",this.resolutionId=-1,this.type="video",this.bytesPipe=new r.d,this.numbersPipe=new r.e(this.localeId)}get typeText(){return"video"===this.type?"video":"sottotitoli"}getVideoFiles(){return this.video?this.video.getFiles():[]}show(e,t){this.video=e,this.videoCaptions=t&&t.length?t:void 0,this.activeModal=this.modalService.open(this.modal,{centered:!0}),this.resolutionId=this.getVideoFiles()[0].resolution.id,this.onResolutionIdChange(),this.videoCaptions&&(this.subtitleLanguageId=this.videoCaptions[0].language.id)}onClose(){this.video=void 0,this.videoCaptions=void 0}download(){window.location.assign(this.getLink()),this.activeModal.close()}getLink(){return"subtitles"===this.type&&this.videoCaptions?this.getSubtitlesLink():this.getVideoFileLink()}onResolutionIdChange(){return Object(o.a)(this,void 0,void 0,function*(){this.videoFile=this.getVideoFile(),!this.videoFile.metadata&&this.videoFile.metadataUrl&&(yield this.hydrateMetadataFromMetadataUrl(this.videoFile),this.videoFileMetadataFormat=this.videoFile?this.getMetadataFormat(this.videoFile.metadata.format):void 0,this.videoFileMetadataVideoStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"video"):void 0,this.videoFileMetadataAudioStream=this.videoFile?this.getMetadataStream(this.videoFile.metadata.streams,"audio"):void 0)})}getVideoFile(){this.resolutionId=parseInt(this.resolutionId.toString(),10);const e=this.getVideoFiles().find(e=>e.resolution.id===this.resolutionId);if(e)return e;console.error("Could not find file with resolution %d.",this.resolutionId)}getVideoFileLink(){const e=this.videoFile;if(!e)return;const t=this.isConfidentialVideo()?"?access_token="+this.auth.getAccessToken():"";switch(this.downloadType){case"direct":return e.fileDownloadUrl+t;case"torrent":return e.torrentDownloadUrl+t}}isConfidentialVideo(){return 3===this.video.privacy.id||4===this.video.privacy.id}getSubtitlesLink(){return window.location.origin+this.videoCaptions.find(e=>e.language.id===this.subtitleLanguageId).captionPath}activateCopiedMessage(){this.notifier.success("Copiato")}switchToType(e){this.type=e}getMetadataFormat(e){const t={encoder:e=>({label:"Codificatore",value:e}),format_long_name:e=>({label:"Formato nome",value:e}),size:e=>({label:"Dimensione",value:this.bytesPipe.transform(e,2)}),bit_rate:e=>({label:"Bitrate",value:`${this.numbersPipe.transform(e)}bps`})},n=Object.assign(e,e.tags);return delete n.tags,Object(i.a)(Object(c.a)(n,Object.keys(t)),(e,n)=>t[n](e))}getMetadataStream(e,t){const n=e.find(e=>e.codec_type===t);if(!n)return;let o={codec_long_name:e=>({label:"Codec",value:e}),profile:e=>({label:"Profilo",value:e}),bit_rate:e=>({label:"Bitrate",value:`${this.numbersPipe.transform(e)}bps`})};return o=Object.assign(o,"video"===t?{width:e=>({label:"Risoluzione",value:`${e}x${n.height}`}),display_aspect_ratio:e=>({label:"Proporzioni",value:e}),avg_frame_rate:e=>({label:"Frequenza fotogrammi media",value:e}),pix_fmt:e=>({label:"Formato pixel",value:e})}:{sample_rate:e=>({label:"Frequenza di campionamento",value:e}),channel_layout:e=>({label:"Layout del canale",value:e})}),Object(i.a)(Object(c.a)(n,Object.keys(o)),(e,t)=>o[t](e))}hydrateMetadataFromMetadataUrl(e){const t=this.videoService.getVideoFileMetadata(e.metadataUrl);return t.subscribe(t=>e.metadata=t),t.toPromise()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(a.w),a.Qb(s.m),a.Qb(l.o),a.Qb(r.s),a.Qb(s.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["my-video-download"]],viewQuery:function(e,t){if(1&e&&a.Xc(v,3),2&e){let e;a.Hc(e=a.lc())&&(t.modal=e.first)}},decls:2,vars:0,consts:function(){let e,t,n,o,i,c,a,s,r,l,d,b,u,g;return e="Download",t="Annulla",n="Download",o="sottotitoli",i="video",c=" The following link contains a private token and should not be shared with anyone. ",a="Formato",s="Flusso video",r="Flusso audio",l="" + "\ufffd0\ufffd" + " ",d="" + "\ufffd0\ufffd" + " ",b="" + "\ufffd0\ufffd" + " ",u="Scaricamento diretto",g="Torrent ( file .torrent)",[["modal",""],[1,"modal-header"],[1,"modal-title"],e,["ngbDropdown","","class","d-inline-block ml-1",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],[1,"form-group"],["class","alert alert-warning",4,"ngIf"],[1,"input-group","input-group-sm"],[1,"input-group-prepend","peertube-select-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text","readonly","",1,"form-control","input-sm","readonly",3,"value","click"],["urlInput",""],["class","input-group-append",4,"ngIf"],[4,"ngIf"],["class","download-type",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button","value",t,1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value",n,1,"action-button-submit",3,"click"],["ngbDropdown","",1,"d-inline-block","ml-1"],["id","dropdownDownloadType","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownDownloadType"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],o,i,[1,"alert","alert-warning"],c,[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"cdkCopyToClipboard","click"],[1,"glyphicon","glyphicon-copy"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],a,["ngbNavContent",""],["ngbNavItem","",3,"disabled"],s,r,[3,"ngbNavOutlet"],[1,"file-metadata"],["class","metadata-attribute metadata-attribute-tags",4,"ngFor","ngForOf"],[1,"metadata-attribute","metadata-attribute-tags"],[1,"metadata-attribute-label"],l,[1,"metadata-attribute-value"],d,b,[1,"download-type"],[1,"peertube-radio-container"],["type","radio","name","download","id","download-direct","value","direct",3,"ngModel","ngModelChange"],["for","download-direct"],u,["type","radio","name","download","id","download-torrent","value","torrent",3,"ngModel","ngModelChange"],["for","download-torrent"],g]},template:function(e,t){1&e&&a.Rc(0,L,21,8,"ng-template",null,0,a.Sc)},directives:[d.n,b.a,l.h,l.n,l.l,l.k,u.v,u.m,u.p,d.m,u.q,u.x,g.a,l.r,l.t,l.u,l.s,l.w,u.s,u.b],pipes:[d.h],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:85px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:85px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:inherit;border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}#dropdownDownloadType[_ngcontent-%COMP%]{cursor:pointer}.download-type[_ngcontent-%COMP%]{margin-top:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-right:30px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:400;cursor:pointer}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:relative;top:-2px;content:"";background:#fff;border-radius:100%;border:1px solid #000;display:inline-block;width:15px;height:15px;vertical-align:middle;cursor:pointer;text-align:center;margin-right:10px}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#000;box-shadow:inset 0 0 0 4px #fff}.download-type[_ngcontent-%COMP%]   .peertube-radio-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:none;border-color:#000}.file-metadata[_ngcontent-%COMP%]{padding:1rem}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   .metadata-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:active, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:focus, .file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute[_ngcontent-%COMP%]   a.metadata-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.file-metadata[_ngcontent-%COMP%]   .metadata-attribute.metadata-attribute-tags[_ngcontent-%COMP%]   .metadata-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}']}),e})()}}]);