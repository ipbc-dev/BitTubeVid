(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0ERz":function(e,t,n){var i;e.exports=function(){function e(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var o=[],l=this.data.charCodeAt(t);l>65536?(o[0]=240|(1835008&l)>>>18,o[1]=128|(258048&l)>>>12,o[2]=128|(4032&l)>>>6,o[3]=128|63&l):l>2048?(o[0]=224|(61440&l)>>>12,o[1]=128|(4032&l)>>>6,o[2]=128|63&l):l>128?(o[0]=192|(1984&l)>>>6,o[1]=128|63&l):o[0]=l,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=l.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var l=1*o,r=0;r<this.modules[o].length;r++){var a=1*r;this.modules[o][r]&&(i.beginFill(0,100),i.moveTo(a,l),i.lineTo(a+1,l),i.lineTo(a+1,l+1),i.lineTo(a,l+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=l.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],o=e[n];if(null==this.modules[i][o])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[i+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(e){for(var t=l.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++)i=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},setupTypeInfo:function(e,t){for(var n=l.getBCHTypeInfo(this.errorCorrectLevel<<3|t),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++)o=!e&&1==(n>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var u=!1;r<e.length&&(u=1==(e[r]>>>o&1)),l.getMask(t,i,a-s)&&(u=!u),this.modules[i][a-s]=u,-1==--o&&(r++,o=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,i){for(var o=u.getRSBlocks(e,n),r=new c,a=0;a<i.length;a++){var s=i[a];r.put(s.mode,4),r.put(s.getLength(),l.getLengthInBits(s.mode,e)),s.write(r)}var d=0;for(a=0;a<o.length;a++)d+=o[a].dataCount;if(r.getLengthInBits()>8*d)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*d+")");for(r.getLengthInBits()+4<=8*d&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*d||(r.put(t.PAD0,8),r.getLengthInBits()>=8*d));)r.put(t.PAD1,8);return t.createBytes(r,o)},t.createBytes=function(e,t){for(var n=0,i=0,o=0,r=new Array(t.length),a=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;i=Math.max(i,c),o=Math.max(o,d),r[u]=new Array(c);for(var h=0;h<r[u].length;h++)r[u][h]=255&e.buffer[h+n];n+=c;var p=l.getErrorCorrectPolynomial(d),g=new s(r[u],p.getLength()-1).mod(p);for(a[u]=new Array(p.getLength()-1),h=0;h<a[u].length;h++){var f=h+g.getLength()-a[u].length;a[u][h]=f>=0?g.get(f):0}}var m=0;for(h=0;h<t.length;h++)m+=t[h].totalCount;var v=new Array(m),y=0;for(h=0;h<i;h++)for(u=0;u<t.length;u++)h<r[u].length&&(v[y++]=r[u][h]);for(h=0;h<o;h++)for(u=0;u<t.length;u++)h<a[u].length&&(v[y++]=a[u][h]);return v};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;l.getBCHDigit(t)-l.getBCHDigit(l.G15)>=0;)t^=l.G15<<l.getBCHDigit(t)-l.getBCHDigit(l.G15);return(e<<10|t)^l.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;l.getBCHDigit(t)-l.getBCHDigit(l.G18)>=0;)t^=l.G18<<l.getBCHDigit(t)-l.getBCHDigit(l.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return(t+n)%2==0;case 1:return t%2==0;case 2:return n%3==0;case 3:return(t+n)%3==0;case 4:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case 5:return t*n%2+t*n%3==0;case 6:return(t*n%2+t*n%3)%2==0;case 7:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new s([1],0),n=0;n<e;n++)t=t.multiply(new s([1,r.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var o=0;o<t;o++){for(var l=0,r=e.isDark(i,o),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var s=-1;s<=1;s++)o+s<0||t<=o+s||0==a&&0==s||r==e.isDark(i+a,o+s)&&l++;l>5&&(n+=3+l-5)}for(i=0;i<t-1;i++)for(o=0;o<t-1;o++){var u=0;e.isDark(i,o)&&u++,e.isDark(i+1,o)&&u++,e.isDark(i,o+1)&&u++,e.isDark(i+1,o+1)&&u++,0!=u&&4!=u||(n+=3)}for(i=0;i<t;i++)for(o=0;o<t-6;o++)e.isDark(i,o)&&!e.isDark(i,o+1)&&e.isDark(i,o+2)&&e.isDark(i,o+3)&&e.isDark(i,o+4)&&!e.isDark(i,o+5)&&e.isDark(i,o+6)&&(n+=40);for(o=0;o<t;o++)for(i=0;i<t-6;i++)e.isDark(i,o)&&!e.isDark(i+1,o)&&e.isDark(i+2,o)&&e.isDark(i+3,o)&&e.isDark(i+4,o)&&!e.isDark(i+5,o)&&e.isDark(i+6,o)&&(n+=40);var c=0;for(o=0;o<t;o++)for(i=0;i<t;i++)e.isDark(i,o)&&c++;return n+Math.abs(100*c/t/t-50)/5*10}},r={glog:function(e){if(e<1)throw new Error("glog("+e+")");return r.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return r.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)r.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)r.EXP_TABLE[a]=r.EXP_TABLE[a-4]^r.EXP_TABLE[a-5]^r.EXP_TABLE[a-6]^r.EXP_TABLE[a-8];for(a=0;a<255;a++)r.LOG_TABLE[r.EXP_TABLE[a]]=a;function s(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function u(e,t){this.totalCount=e,this.dataCount=t}function c(){this.buffer=[],this.length=0}s.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(i)));return new s(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=r.gexp(r.glog(e.get(i))+t);return new s(n,0).mod(e)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(e,t){var n=u.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,o=[],l=0;l<i;l++)for(var r=n[3*l+0],a=n[3*l+1],s=n[3*l+2],c=0;c<r;c++)o.push(new u(a,s));return o},u.getRsBlockTable=function(e,t){switch(t){case o.L:return u.RS_BLOCK_TABLE[4*(e-1)+0];case o.M:return u.RS_BLOCK_TABLE[4*(e-1)+1];case o.Q:return u.RS_BLOCK_TABLE[4*(e-1)+2];case o.H:return u.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},c.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var d=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}var p=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,n=this._el,i=e.getModuleCount();function o(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}Math.floor(t.width/i),Math.floor(t.height/i),this.clear();var l=o("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:t.colorLight});l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(l),l.appendChild(o("rect",{fill:t.colorLight,width:"100%",height:"100%"})),l.appendChild(o("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<i;r++)for(var a=0;a<i;a++)if(e.isDark(r,a)){var s=o("use",{x:String(a),y:String(r)});s.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),l.appendChild(s)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),g="svg"===document.documentElement.tagName.toLowerCase()?p:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),o=Math.floor(t.width/i),l=Math.floor(t.height/i),r=['<table style="border:0;border-collapse:collapse;">'],a=0;a<i;a++){r.push("<tr>");for(var s=0;s<i;s++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+l+"px;background-color:"+(e.isDark(a,s)?t.colorDark:t.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),n.innerHTML=r.join("");var u=n.childNodes[0],c=(t.width-u.offsetWidth)/2,d=(t.height-u.offsetHeight)/2;c>0&&d>0&&(u.style.margin=d+"px "+c+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,o,l,r,a,s,u,c){if("nodeName"in e&&/img/i.test(e.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*t;else void 0===u&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}function i(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=o,i.onerror=o,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var o=function(e,t){this._bIsPainted=!1,this._android=h(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,o=e.getModuleCount(),l=i.width/o,r=i.height/o,a=Math.round(l),s=Math.round(r);t.style.display="none",this.clear();for(var u=0;u<o;u++)for(var c=0;c<o;c++){var d=e.isDark(u,c),h=c*l,p=u*r;n.strokeStyle=d?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=d?i.colorDark:i.colorLight,n.fillRect(h,p,l,r),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,a,s),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,a,s)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&i.call(this,e)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},o}();return(i=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(g=p),this._android=h(),this._el=e,this._oQRCode=null,this._oDrawing=new g(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(function(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),l=0,r=d.length;l<=r;l++){var a=0;switch(t){case o.L:a=d[l][0];break;case o.M:a=d[l][1];break;case o.Q:a=d[l][2];break;case o.H:a=d[l][3]}if(i<=a)break;n++}if(n>d.length)throw new Error("Too long data");return n}(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},i.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},i.prototype.clear=function(){this._oDrawing.clear()},i.CorrectLevel=o,i}()},10:function(e,t){},11:function(e,t){},"1JpH":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}},"6i9R":function(e,t,n){e.exports=function(e,t){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n="7.6.5",i=[],o=function t(n){var o,l="info",r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o("log",l,t)};return o=function(t,n){return function(o,l,r){var a=n.levels[l],s=new RegExp("^("+a+")$");if("log"!==o&&r.unshift(o.toUpperCase()+":"),r.unshift(t+":"),i&&i.push([].concat(r)),e.console){var u=e.console[o];u||"debug"!==o||(u=e.console.info||e.console.log),u&&a&&s.test(o)&&u[Array.isArray(r)?"apply":"call"](e.console,r)}}}(n,r),r.createLogger=function(e){return t(n+": "+e)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:l},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');l=e}return l},(r.history=function(){return i?[].concat(i):[]}).filter=function(e){return(i||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},r.history.clear=function(){i&&(i.length=0)},r.history.disable=function(){null!==i&&(i.length=0,i=null)},r.history.enable=function(){null===i&&(i=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("error",l,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("warn",l,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("debug",l,t)},r}("VIDEOJS"),l=o.createLogger,r=Object.prototype.toString,a=function(e){return c(e)?Object.keys(e):[]};function s(e,t){a(e).forEach((function(n){return t(e[n],n)}))}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach((function(t){t&&s(t,(function(t,n){e[n]=t}))})),e)}function c(e){return!!e&&"object"==typeof e}function d(e){return c(e)&&"[object Object]"===r.call(e)&&e.constructor===Object}function h(t,n){if(!t||!n)return"";if("function"==typeof e.getComputedStyle){var i=e.getComputedStyle(t);return i?i.getPropertyValue(n)||i[n]:""}return""}function p(e){return"string"==typeof e&&/\S/.test(e)}function g(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function f(){return t===e.document}function m(e){return c(e)&&1===e.nodeType}function v(){try{return e.parent!==e.self}catch(t){return!0}}function y(e){return function(n,i){if(!p(n))return t[e](null);p(i)&&(i=t.querySelector(i));var o=m(i)?i:t;return o[e]&&o[e](n)}}function _(e,n,i,l){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={});var r=t.createElement(e);return Object.getOwnPropertyNames(n).forEach((function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(o.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),r.setAttribute(e,t)):"textContent"===e?b(r,t):r[e]=t})),Object.getOwnPropertyNames(i).forEach((function(e){r.setAttribute(e,i[e])})),l&&B(r,l),r}function b(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function C(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function T(e,t){return g(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function k(e,t){return e.classList?e.classList.add(t):T(e,t)||(e.className=(e.className+" "+t).trim()),e}function P(e,t){return e.classList?e.classList.remove(t):(g(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function w(e,t,n){var i=T(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?k(e,t):P(e,t),e}function O(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function M(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,l=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(l=null!==l),t[o]=l}return t}function E(e,t){return e.getAttribute(t)}function x(e,t,n){e.setAttribute(t,n)}function S(e,t){e.removeAttribute(t)}function I(){t.body.focus(),t.onselectstart=function(){return!1}}function A(){t.onselectstart=function(){return!0}}function R(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(h(e,"height"))),n.width||(n.width=parseFloat(h(e,"width"))),n}}function N(n){var i;if(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)return{left:0,top:0};var o=t.documentElement,l=t.body,r=i.top+(e.pageYOffset||l.scrollTop)-(o.clientTop||l.clientTop||0);return{left:Math.round(i.left+(e.pageXOffset||l.scrollLeft)-(o.clientLeft||l.clientLeft||0)),top:Math.round(r)}}function j(e,t){var n={},i=N(e),o=e.offsetWidth,l=e.offsetHeight,r=i.left,a=t.pageY,s=t.pageX;return t.changedTouches&&(s=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(i.top-a+l)/l)),n.x=Math.max(0,Math.min(1,(s-r)/o)),n}function D(e){return c(e)&&3===e.nodeType}function L(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function V(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),m(e)||D(e)?e:"string"==typeof e&&/\S/.test(e)?t.createTextNode(e):void 0})).filter((function(e){return e}))}function B(e,t){return V(t).forEach((function(t){return e.appendChild(t)})),e}function F(e,t){return B(L(e),t)}function U(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var H,z=y("querySelector"),$=y("querySelectorAll"),K=Object.freeze({isReal:f,isEl:m,isInFrame:v,createEl:_,textContent:b,prependTo:C,hasClass:T,addClass:k,removeClass:P,toggleClass:w,setAttributes:O,getAttributes:M,getAttribute:E,setAttribute:x,removeAttribute:S,blockTextSelection:I,unblockTextSelection:A,getBoundingClientRect:R,findPosition:N,getPointerPosition:j,isTextNode:D,emptyEl:L,normalizeContent:V,appendContent:B,insertContent:F,isSingleLeftClick:U,$:z,$$:$}),q=!1,W=function(){if(f()&&!1!==H.options.autoSetup){var e=Array.prototype.slice.call(t.getElementsByTagName("video")),n=Array.prototype.slice.call(t.getElementsByTagName("audio")),i=Array.prototype.slice.call(t.getElementsByTagName("video-js")),o=e.concat(n,i);if(o&&o.length>0)for(var l=0,r=o.length;l<r;l++){var a=o[l];if(!a||!a.getAttribute){G(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&H(a)}else q||G(1)}};function G(t,n){n&&(H=n),e.setTimeout(W,t)}function X(){q=!0,e.removeEventListener("load",X)}f()&&("complete"===t.readyState?X():e.addEventListener("load",X));var Y=function(e){var n=t.createElement("style");return n.className=e,n},Q=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},J=new WeakMap,Z=3;function ee(){return Z++}function te(e,t){if(J.has(e)){var n=J.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&J.delete(e)}}function ne(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function ie(n){function i(){return!0}function o(){return!1}if(!n||!n.isPropagationStopped){var l=n||e.event;for(var r in n={},l)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&l.preventDefault||(n[r]=l[r]));if(n.target||(n.target=n.srcElement||t),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){l.preventDefault&&l.preventDefault(),n.returnValue=!1,l.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){l.stopPropagation&&l.stopPropagation(),n.cancelBubble=!0,l.cancelBubble=!0,n.isPropagationStopped=i},n.isPropagationStopped=o,n.stopImmediatePropagation=function(){l.stopImmediatePropagation&&l.stopImmediatePropagation(),n.isImmediatePropagationStopped=i,n.stopPropagation()},n.isImmediatePropagationStopped=o,null!=n.clientX){var a=t.documentElement,s=t.body;n.pageX=n.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}n.which=n.charCode||n.keyCode,null!=n.button&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}return n}var oe=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){oe=!0}});e.addEventListener("test",null,t),e.removeEventListener("test",null,t)}catch(n){}}();var le=["touchstart","touchmove"];function re(e,t,n){if(Array.isArray(t))return ne(re,e,t,n);J.has(e)||J.set(e,{});var i=J.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=ee()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=ie(t);var l=i.handlers[t.type];if(l)for(var r=l.slice(0),a=0,s=r.length;a<s&&!t.isImmediatePropagationStopped();a++)try{r[a].call(e,t,n)}catch(u){o.error(u)}}}),1===i.handlers[t].length)if(e.addEventListener){var l=!1;oe&&le.indexOf(t)>-1&&(l={passive:!0}),e.addEventListener(t,i.dispatcher,l)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function ae(e,t,n){if(J.has(e)){var i=J.get(e);if(i.handlers){if(Array.isArray(t))return ne(ae,e,t,n);var o=function(e,t){i.handlers[t]=[],te(e,t)};if(void 0!==t){var l=i.handlers[t];if(l)if(n){if(n.guid)for(var r=0;r<l.length;r++)l[r].guid===n.guid&&l.splice(r--,1);te(e,t)}else o(e,t)}else for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&o(e,a)}}}function se(e,t,n){var i=J.has(e)?J.get(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ie(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)se.call(null,o,t,n);else if(!o&&!t.defaultPrevented&&t.target&&t.target[t.type]){J.has(t.target)||J.set(t.target,{});var l=J.get(t.target);t.target[t.type]&&(l.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),l.disabled=!1)}return!t.defaultPrevented}function ue(e,t,n){if(Array.isArray(t))return ne(ue,e,t,n);var i=function i(){ae(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ee(),re(e,t,i)}function ce(e,t,n){var i=function i(){ae(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ee(),re(e,t,i)}var de,he=Object.freeze({fixEvent:ie,on:re,off:ae,trigger:se,one:ue,any:ce}),pe=30,ge=function(e,t,n){t.guid||(t.guid=ee());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},fe=function(t,n){var i=e.performance.now();return function(){var o=e.performance.now();o-i>=n&&(t.apply(void 0,arguments),i=o)}},me=function(t,n,i,o){var l;void 0===o&&(o=e);var r=function(){var e=this,r=arguments,a=function(){l=null,a=null,i||t.apply(e,r)};!l&&i&&t.apply(e,r),o.clearTimeout(l),l=o.setTimeout(a,n)};return r.cancel=function(){o.clearTimeout(l),l=null},r},ve=function(){};ve.prototype.allowedEvents_={},ve.prototype.addEventListener=ve.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},re(this,e,t),this.addEventListener=n},ve.prototype.removeEventListener=ve.prototype.off=function(e,t){ae(this,e,t)},ve.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ue(this,e,t),this.addEventListener=n},ve.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ce(this,e,t),this.addEventListener=n},ve.prototype.dispatchEvent=ve.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ie(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),se(this,e)},ve.prototype.queueTrigger=function(t){var n=this;de||(de=new Map);var i=t.type||t,o=de.get(this);o||(o=new Map,de.set(this,o));var l=o.get(i);o.delete(i),e.clearTimeout(l);var r=e.setTimeout((function(){0===o.size&&(o=null,de.delete(n)),n.trigger(t)}),0);o.set(i,r)};var ye=function(e){return e instanceof ve||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},_e=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},be=function(e){if(!e.nodeName&&!ye(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Ce=function(e){if(!_e(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Te=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},ke=function(e,t){var n,i,o,l=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return l?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),be(n),Ce(i),Te(o),{isTargetingSelf:l,target:n,type:i,listener:o=ge(e,o)}},Pe=function(e,t,n,i){be(e),e.nodeName?he[t](e,n,i):e[t](n,i)},we={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ke(this,n),l=o.isTargetingSelf,r=o.target,a=o.type,s=o.listener;if(Pe(r,"on",a,s),!l){var u=function(){return e.off(r,a,s)};u.guid=s.guid;var c=function(){return e.off("dispose",u)};c.guid=s.guid,Pe(this,"on","dispose",u),Pe(r,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ke(this,n),l=o.isTargetingSelf,r=o.target,a=o.type,s=o.listener;if(l)Pe(r,"one",a,s);else{var u=function t(){e.off(r,a,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];s.apply(null,i)};u.guid=s.guid,Pe(r,"one",a,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ke(this,n),l=o.isTargetingSelf,r=o.target,a=o.type,s=o.listener;if(l)Pe(r,"any",a,s);else{var u=function t(){e.off(r,a,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];s.apply(null,i)};u.guid=s.guid,Pe(r,"any",a,u)}},off:function(e,t,n){if(!e||_e(e))ae(this.eventBusEl_,e,t);else{var i=e,o=t;be(i),Ce(o),Te(n),n=ge(this,n),this.off("dispose",n),i.nodeName?(ae(i,o,n),ae(i,"dispose",n)):ye(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(e,t){return se(this.eventBusEl_,e,t)}};function Oe(t,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=_("span",{className:"vjs-event-bus"});return u(t,we),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(e){e()})),t.on("dispose",(function(){t.off(),e.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var Me={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),s(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&ye(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Ee(e,t){return u(e,Me),e.state=u({},e.state,t),"function"==typeof e.handleStateChanged&&ye(e)&&e.on("statechanged",e.handleStateChanged),e}var xe=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Se=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function Ie(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&s(t,(function(t,n){d(t)?(d(e[n])||(e[n]={}),e[n]=Ie(e[n],t)):e[n]=t}))})),e}var Ae=function(){function t(e,t,n){if(this.player_=!e&&this.play?e=this:e,this.parentComponent_=null,this.options_=Ie({},this.options_),t=this.options_=Ie(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+ee()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Oe(this,{eventBusKey:this.el_?"el_":null}),Ee(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var n=t.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),J.has(this.el_)&&J.delete(this.el_),this.el_=null),this.player_=null},n.player=function(){return this.player_},n.options=function(e){return e?(this.options_=Ie(this.options_,e),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(e,t,n){return _(e,t,n)},n.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[i],r=i&&i.split("-")[0],a=o&&o[r],s=n;return l&&l[e]?s=l[e]:a&&a[e]&&(s=a[e]),t&&(s=s.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],o=i;return void 0===i&&(o=e),o}))),s},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(e){return this.childIndex_[e]},n.getChild=function(e){if(e)return this.childNameIndex_[e]},n.addChild=function(e,n,i){var o,l;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof e){l=Se(e);var r=n.componentClass||l;n.name=l;var a=t.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");if("function"!=typeof a)return null;o=new a(this.player_||this,n)}else o=e;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(i,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(l=l||o.name&&Se(o.name()))&&(this.childNameIndex_[l]=o,this.childNameIndex_[xe(l)]=o),"function"==typeof o.el&&o.el()){var s=this.contentEl().children[i]||null;this.contentEl().insertBefore(o.el(),s)}return o},n.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Se(e.name())]=null,this.childNameIndex_[xe(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},n.initChildren=function(){var e=this,n=this.options_.children;if(n){var i,o=this.options_,l=t.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(t){var i,o;return"string"==typeof t?o=n[i=t]||e.options_[i]||{}:(i=t.name,o=t),{name:i,opts:o}})).filter((function(e){var n=t.getComponent(e.opts.componentClass||Se(e.name));return n&&!l.isTech(n)})).forEach((function(t){var n=t.name,i=t.opts;if(void 0!==o[n]&&(i=o[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var l=e.addChild(n,i);l&&(e[n]=l)}}))}},n.buildCSSClass=function(){return""},n.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},n.$=function(e,t){return z(e,t||this.contentEl())},n.$$=function(e,t){return $(e,t||this.contentEl())},n.hasClass=function(e){return T(this.el_,e)},n.addClass=function(e){k(this.el_,e)},n.removeClass=function(e){P(this.el_,e)},n.toggleClass=function(e,t){w(this.el_,e,t)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(e){return E(this.el_,e)},n.setAttribute=function(e,t){x(this.el_,e,t)},n.removeAttribute=function(e){S(this.el_,e)},n.width=function(e,t){return this.dimension("width",e,t)},n.height=function(e,t){return this.dimension("height",e,t)},n.dimensions=function(e,t){this.width(e,!0),this.height(t)},n.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+Se(e)],10)},n.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=h(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+Se(e);t=this.el_[n]}return t},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},n.handleKeyPress=function(e){this.handleKeyDown(e)},n.emitTapEvents=function(){var t,n=0,i=null;this.on("touchstart",(function(o){1===o.touches.length&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},n=e.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(i){var n=e.touches[0].pageX-i.pageX,o=e.touches[0].pageY-i.pageY;Math.sqrt(n*n+o*o)>10&&(t=!1)}}));var o=function(){t=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",(function(o){i=null,!0===t&&e.performance.now()-n<200&&(o.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=ge(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(t,n){var i,o=this;return t=ge(this,t),this.clearTimersOnDispose_(),i=e.setTimeout((function(){o.setTimeoutIds_.has(i)&&o.setTimeoutIds_.delete(i),t()}),n),this.setTimeoutIds_.add(i),i},n.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),e.clearTimeout(t)),t},n.setInterval=function(t,n){t=ge(this,t),this.clearTimersOnDispose_();var i=e.setInterval(t,n);return this.setIntervalIds_.add(i),i},n.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),e.clearInterval(t)),t},n.requestAnimationFrame=function(t){var n,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=ge(this,t),n=e.requestAnimationFrame((function(){i.rafIds_.has(n)&&i.rafIds_.delete(n),t()})),this.rafIds_.add(n),n):this.setTimeout(t,1e3/60)},n.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),e.cancelAnimationFrame(t)),t):this.clearTimeout(t)},n.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){e[t[0]].forEach(e[t[1]],e)})),e.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),o=i&&i.isTech(n),l=t===n||t.prototype.isPrototypeOf(n.prototype);if(o||!l)throw new Error('Illegal component, "'+e+'"; '+(o?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");e=Se(e),t.components_||(t.components_={});var r=t.getComponent("Player");if("Player"===e&&r&&r.players){var a=r.players,s=Object.keys(a);if(a&&s.length>0&&s.map((function(e){return a[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,t.components_[xe(e)]=n,n},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();function Re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e,t,n){return(je=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Ne(o,n.prototype),o}).apply(null,arguments)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ae.prototype.supportsRaf_="function"==typeof e.requestAnimationFrame&&"function"==typeof e.cancelAnimationFrame,Ae.registerComponent("Component",Ae);var Le,Ve=e.navigator&&e.navigator.userAgent||"",Be=/AppleWebKit\/([\d.]+)/i.exec(Ve),Fe=Be?parseFloat(Be.pop()):null,Ue=/iPad/i.test(Ve),He=/iPhone/i.test(Ve)&&!Ue,ze=/iPod/i.test(Ve),$e=He||Ue||ze,Ke=(Le=Ve.match(/OS (\d+)_/i))&&Le[1]?Le[1]:null,qe=/Android/i.test(Ve),We=function(){var e=Ve.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Ge=qe&&We<5&&Fe<537,Xe=/Firefox/i.test(Ve),Ye=/Edge/i.test(Ve),Qe=!Ye&&(/Chrome/i.test(Ve)||/CriOS/i.test(Ve)),Je=function(){var e=Ve.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Ze=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ve),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ve)&&/rv:11.0/.test(Ve)&&(t=11),t}(),et=/Safari/i.test(Ve)&&!Qe&&!qe&&!Ye,tt=(et||$e)&&!Qe,nt=/Windows/i.test(Ve),it=f()&&("ontouchstart"in e||e.navigator.maxTouchPoints||e.DocumentTouch&&e.document instanceof e.DocumentTouch),ot=Object.freeze({IS_IPAD:Ue,IS_IPHONE:He,IS_IPOD:ze,IS_IOS:$e,IOS_VERSION:Ke,IS_ANDROID:qe,ANDROID_VERSION:We,IS_NATIVE_ANDROID:Ge,IS_FIREFOX:Xe,IS_EDGE:Ye,IS_CHROME:Qe,CHROME_VERSION:Je,IE_VERSION:Ze,IS_SAFARI:et,IS_ANY_SAFARI:tt,IS_WINDOWS:nt,TOUCH_ENABLED:it});function lt(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function rt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:lt.bind(null,"start",0,e),end:lt.bind(null,"end",1,e)}}function at(e,t){return Array.isArray(e)?rt(e):void 0===e||void 0===t?rt():rt([[e,t]])}function st(e,t){var n,i,o=0;if(!t)return 0;e&&e.length||(e=at(0,0));for(var l=0;l<e.length;l++)n=e.start(l),(i=e.end(l))>t&&(i=t),o+=i-n;return o/t}for(var ut,ct={prefixed:!0},dt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ht=dt[0],pt=0;pt<dt.length;pt++)if(dt[pt][1]in t){ut=dt[pt];break}if(ut){for(var gt=0;gt<ut.length;gt++)ct[ht[gt]]=ut[gt];ct.prefixed=ut[0]!==ht[0]}function ft(e){if(e instanceof ft)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:c(e)&&("number"==typeof e.code&&(this.code=e.code),u(this,e)),this.message||(this.message=ft.defaultMessages[this.code]||"")}ft.prototype.code=0,ft.prototype.message="",ft.prototype.status=null,ft.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ft.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var mt=0;mt<ft.errorTypes.length;mt++)ft[ft.errorTypes[mt]]=mt,ft.prototype[ft.errorTypes[mt]]=mt;function vt(e){return null!=e&&"function"==typeof e.then}function yt(e){vt(e)&&e.then(null,(function(e){}))}var _t=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};function bt(e,t){return e(t={exports:{}},t.exports),t.exports}var Ct=bt((function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return r[e];var n,l=String(e);return(n=i[l.toLowerCase()])?n:(n=o[l.toLowerCase()])||(1===l.length?l.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var l;if(l=i[t.toLowerCase()])return l===n;if(l=o[t.toLowerCase()])return l===n}else if("number"==typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(l=97;l<123;l++)i[String.fromCharCode(l)]=l-32;for(var l=48;l<58;l++)i[l-48]=l;for(l=1;l<13;l++)i["f"+l]=l+111;for(l=0;l<10;l++)i["numpad "+l]=l+96;var r=t.names=t.title={};for(l in i)r[i[l]]=l;for(var a in o)i[a]=o[a]})),Tt="vjs-modal-dialog",kt=function(n){function i(e,t){var i;return(i=n.call(this,e,t)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=_("div",{className:Tt+"-content"},{role:"document"}),i.descEl_=_("p",{className:Tt+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),b(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Re(i,n);var o=i.prototype;return o.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},o.buildCSSClass=function(){return Tt+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},o.label=function(){return this.localize(this.options_.label||"Modal Window")},o.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},o.fill=function(){this.fillWith(this.content())},o.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),F(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},o.empty=function(){this.trigger("beforemodalempty"),L(this.contentEl()),this.trigger("modalempty")},o.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.conditionalFocus_=function(){var e=t.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())},o.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},o.handleKeyDown=function(e){if(e.stopPropagation(),Ct.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Ct.isEventKey(e,"Tab")){for(var n,i=this.focusableEls_(),o=this.el_.querySelector(":focus"),l=0;l<i.length;l++)if(o===i[l]){n=l;break}t.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||n!==i.length-1||(i[0].focus(),e.preventDefault())}},o.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof e.HTMLAnchorElement||t instanceof e.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof e.HTMLInputElement||t instanceof e.HTMLSelectElement||t instanceof e.HTMLTextAreaElement||t instanceof e.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof e.HTMLIFrameElement||t instanceof e.HTMLObjectElement||t instanceof e.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},i}(Ae);kt.prototype.options_={pauseOnOpen:!0,temporary:!0},Ae.registerComponent("ModalDialog",kt);var Pt=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(De(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}Re(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(ve);for(var wt in Pt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Pt.prototype.allowedEvents_)Pt.prototype["on"+wt]=null;var Ot,Mt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Et=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){Mt(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}Re(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Mt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Mt(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Pt),xt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},St=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){xt(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(De(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}Re(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&xt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,xt(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Pt),It=function(e){function t(){return e.apply(this,arguments)||this}Re(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Pt),At=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Rt=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)o.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},e}(),Nt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},jt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Dt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Lt={disabled:"disabled",hidden:"hidden",showing:"showing"},Vt=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+ee(),kind:t.kind||"",label:t.label||"",language:t.language||""},o=function(e){Object.defineProperty(De(n),e,{get:function(){return i[e]},set:function(){}})};for(var l in i)o(l);return n}return Re(t,e),t}(ve),Bt=function(n){var i=["protocol","hostname","port","pathname","search","hash","host"],o=t.createElement("a");o.href=n;var l,r=""===o.host&&"file:"!==o.protocol;r&&((l=t.createElement("div")).innerHTML='<a href="'+n+'"></a>',o=l.firstChild,l.setAttribute("style","display:none; position:absolute;"),t.body.appendChild(l));for(var a={},s=0;s<i.length;s++)a[i[s]]=o[i[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=e.location.protocol),r&&t.body.removeChild(l),a},Ft=function(e){if(!e.match(/^https?:\/\//)){var n=t.createElement("div");n.innerHTML='<a href="'+e+'">x</a>',e=n.firstChild.href}return e},Ut=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Ht=function(t){var n=e.location,i=Bt(t);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},zt=Object.freeze({parseUrl:Bt,getAbsoluteURL:Ft,getFileExtension:Ut,isCrossOrigin:Ht}),$t=function(e){var t=Kt.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},Kt=Object.prototype.toString,qt="Function.prototype.bind called on incompatible ",Wt=Array.prototype.slice,Gt=Object.prototype.toString,Xt=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Gt.call(t))throw new TypeError(qt+t);for(var n,i=Wt.call(arguments,1),o=function(){if(this instanceof n){var o=t.apply(this,i.concat(Wt.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(Wt.call(arguments)))},l=Math.max(0,t.length-i.length),r=[],a=0;a<l;a++)r.push("$"+a);if(n=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var s=function(){};s.prototype=t.prototype,n.prototype=new s,s.prototype=null}return n},Yt=Object.prototype.toString,Qt=function(e){var t=Yt.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Yt.call(e.callee)),n};if(!Object.keys){var Jt=Object.prototype.hasOwnProperty,Zt=Object.prototype.toString,en=Qt,tn=Object.prototype.propertyIsEnumerable,nn=!tn.call({toString:null},"toString"),on=tn.call((function(){}),"prototype"),ln=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],rn=function(e){var t=e.constructor;return t&&t.prototype===e},an={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},sn=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!an["$"+e]&&Jt.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{rn(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();Ot=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===Zt.call(e),i=en(e),o=t&&"[object String]"===Zt.call(e),l=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var r=on&&n;if(o&&e.length>0&&!Jt.call(e,0))for(var a=0;a<e.length;++a)l.push(String(a));if(i&&e.length>0)for(var s=0;s<e.length;++s)l.push(String(s));else for(var u in e)r&&"prototype"===u||!Jt.call(e,u)||l.push(String(u));if(nn)for(var c=function(e){if("undefined"==typeof window||!sn)return rn(e);try{return rn(e)}catch(t){return!1}}(e),d=0;d<ln.length;++d)c&&"constructor"===ln[d]||!Jt.call(e,ln[d])||l.push(ln[d]);return l}}var un=Array.prototype.slice,cn=Object.keys,dn=cn?function(e){return cn(e)}:Ot,hn=Object.keys;dn.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return Qt(e)?hn(un.call(e)):hn(e)}):Object.keys=dn,Object.keys||dn};var pn=dn,gn="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),fn=Object.prototype.toString,mn=Array.prototype.concat,vn=Object.defineProperty,yn=vn&&function(){var e={};try{for(var t in vn(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),_n=function(e,t,n,i){var o;t in e&&("function"!=typeof(o=i)||"[object Function]"!==fn.call(o)||!i())||(yn?vn(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},bn=function(e,t){var n=arguments.length>2?arguments[2]:{},i=pn(t);gn&&(i=mn.call(i,Object.getOwnPropertySymbols(t)));for(var o=0;o<i.length;o+=1)_n(e,i[o],t[i[o]],n[i[o]])};bn.supportsDescriptors=!!yn;var Cn=bn,Tn=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Pn=Object.getPrototypeOf||function(e){return e.__proto__},wn="undefined"==typeof Uint8Array?void 0:Pn(Uint8Array),On={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":kn?Pn([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":kn?Pn(Pn([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&kn?Pn((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&kn?Pn((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":kn?Pn(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":kn?Symbol:void 0,"$ %SymbolPrototype%":kn?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":Tn,"$ %TypedArray%":wn,"$ %TypedArrayPrototype%":wn?wn.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},Mn=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in On))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===On[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return On[n]},En=(Xt.call(Function.call,Object.prototype.hasOwnProperty),Mn("%TypeError%"),Mn("%SyntaxError%"),Number,Number,Number,Function.prototype.toString),xn=/^\s*class\b/,Sn=function(e){try{var t=En.call(e);return xn.test(t)}catch(n){return!1}},In=Object.prototype.toString,An="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Rn=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(An)return function(e){try{return!Sn(e)&&(En.call(e),!0)}catch(t){return!1}}(e);if(Sn(e))return!1;var t=In.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t},Nn=(Object,Mn("%Object%"),Mn("%TypeError%")),jn=Mn("%String%"),Dn=Xt.call(Function.call,String.prototype.replace),Ln=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Vn=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Bn=function(){var e=function(e){return jn(e)}(function(e,t){if(null==e)throw new Nn(t||"Cannot call method on "+e);return e}(this));return Dn(Dn(e,Ln,""),Vn,"")},Fn=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:Bn},Un=Xt.call(Function.call,Fn());Cn(Un,{getPolyfill:Fn,implementation:Bn,shim:function(){var e=Fn();return Cn(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}});var Hn=Un,zn=Object.prototype.toString,$n=Object.prototype.hasOwnProperty,Kn=function(e,t,n){for(var i=0,o=e.length;i<o;i++)$n.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))},qn=function(e,t,n){for(var i=0,o=e.length;i<o;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},Wn=function(e,t,n){for(var i in e)$n.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))},Gn=function(e){if(!e)return{};var t={};return function(e,t,n){if(!Rn(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===zn.call(e)?Kn(e,t,i):"string"==typeof e?qn(e,t,i):Wn(e,t,i)}(Hn(e).split("\n"),(function(e){var n=e.indexOf(":"),i=Hn(e.slice(0,n)).toLowerCase(),o=Hn(e.slice(n+1));void 0===t[i]?t[i]=o:"[object Array]"===Object.prototype.toString.call(t[i])?t[i].push(o):t[i]=[t[i],o]})),t},Xn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)Yn.call(n,i)&&(e[i]=n[i])}return e},Yn=Object.prototype.hasOwnProperty,Qn=Zn;function Jn(e,t,n){var i=e;return $t(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=Xn(t,{uri:e}),i.callback=n,i}function Zn(e,t,n){return ei(t=Jn(e,t,n))}function ei(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,o){t||(t=!0,e.callback(n,i,o))};function i(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){return"document"===e.responseType?e.responseXML:""!==e.responseType||e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName?null:e.responseXML}(s),f)try{e=JSON.parse(e)}catch(t){}return e}function o(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,m)}function l(){if(!a){var t;clearTimeout(u);var o=m,l=null;return 0!==(t=e.useXDR&&void 0===s.status?200:1223===s.status?204:s.status)?(o={body:i(),statusCode:t,method:d,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(o.headers=Gn(s.getAllResponseHeaders()))):l=new Error("Internal XMLHttpRequest Error"),n(l,o,o.body)}}var r,a,s=e.xhr||null;s||(s=e.cors||e.useXDR?new Zn.XDomainRequest:new Zn.XMLHttpRequest);var u,c=s.url=e.uri||e.url,d=s.method=e.method||"GET",h=e.body||e.data,p=s.headers=e.headers||{},g=!!e.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:s};if("json"in e&&!1!==e.json&&(f=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(l,0)},s.onload=l,s.onerror=o,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=o,s.open(d,c,!g,e.username,e.password),g||(s.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout((function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}}),e.timeout)),s.setRequestHeader)for(r in p)p.hasOwnProperty(r)&&s.setRequestHeader(r,p[r]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(s.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(s),s.send(h||null),s}Zn.XMLHttpRequest=e.XMLHttpRequest||function(){},Zn.XDomainRequest="withCredentials"in new Zn.XMLHttpRequest?Zn.XMLHttpRequest:e.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){Zn["delete"===e?"del":e]=function(t,n,i){return(n=Jn(t,n,i)).method=e.toUpperCase(),ei(n)}}));var ti=function(t,n){var i=new e.WebVTT.Parser(e,e.vttjs,e.WebVTT.StringDecoder()),l=[];i.oncue=function(e){n.addCue(e)},i.onparsingerror=function(e){l.push(e)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),l.length>0&&(e.console&&e.console.groupCollapsed&&e.console.groupCollapsed("Text Track parsing errors for "+n.src),l.forEach((function(e){return o.error(e)})),e.console&&e.console.groupEnd&&e.console.groupEnd()),i.flush()},ni=function(t,n){var i={uri:t},l=Ht(t);l&&(i.cors=l),Qn(i,ge(this,(function(t,i,l){if(t)return o.error(t,i);n.loaded_=!0,"function"!=typeof e.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return ti(l,n);o.error("vttjs failed to load, stopping trying to process "+n.src)})):ti(l,n)})))},ii=function(t){function n(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Ie(e,{kind:Dt[e.kind]||"subtitles",language:e.language||e.srclang||""}),o=Lt[i.mode]||"disabled",l=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden"),(n=t.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[];var r=new Rt(n.cues_),a=new Rt(n.activeCues_),s=!1,u=ge(De(n),(function(){this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)}));return"disabled"!==o&&n.tech_.ready((function(){n.tech_.on("timeupdate",u)}),!0),Object.defineProperties(De(n),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return o},set:function(e){var t=this;Lt[e]&&("disabled"!==(o=e)?this.tech_.ready((function(){t.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?r:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(var l=0;l<t.length;l++)-1===this.activeCues_.indexOf(t[l])&&(s=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),i.src?(n.src=i.src,ni(i.src,De(n))):n.loaded_=!0,n}Re(n,t);var i=n.prototype;return i.addCue=function(t){var n=t;if(e.vttjs&&!(t instanceof e.vttjs.VTTCue)){for(var i in n=new e.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.originalCue_=t}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},n}(Vt);ii.prototype.allowedEvents_={cuechange:"cuechange"};var oi=function(e){function t(t){var n;void 0===t&&(t={});var i=Ie(t,{kind:jt[t.kind]||""});n=e.call(this,i)||this;var o=!1;return Object.defineProperty(De(n),"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return Re(t,e),t}(Vt),li=function(e){function t(t){var n;void 0===t&&(t={});var i=Ie(t,{kind:Nt[t.kind]||""});n=e.call(this,i)||this;var o=!1;return Object.defineProperty(De(n),"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return Re(t,e),t}(Vt),ri=0,ai=2,si=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var o=new ii(t);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(De(n),{readyState:{get:function(){return i}},track:{get:function(){return o}}}),i=ri,o.addEventListener("loadeddata",(function(){i=ai,n.trigger({type:"load",target:De(n)})})),n}return Re(t,e),t}(ve);si.prototype.allowedEvents_={load:"load"},si.NONE=ri,si.LOADING=1,si.LOADED=ai,si.ERROR=3;var ui={audio:{ListClass:Et,TrackClass:oi,capitalName:"Audio"},video:{ListClass:St,TrackClass:li,capitalName:"Video"},text:{ListClass:It,TrackClass:ii,capitalName:"Text"}};Object.keys(ui).forEach((function(e){ui[e].getterName=e+"Tracks",ui[e].privateName=e+"Tracks_"}));var ci={remoteText:{ListClass:It,TrackClass:ii,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:At,TrackClass:si,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},di=Ie(ui,ci);ci.names=Object.keys(ci),ui.names=Object.keys(ui),di.names=[].concat(ci.names).concat(ui.names);var hi=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function pi(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function gi(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function fi(){this.values=hi(null)}function mi(e,t,n,i){var o=i?e.split(i):[e];for(var l in o)if("string"==typeof o[l]){var r=o[l].split(n);2===r.length&&t(r[0],r[1])}}function vi(e,t,n){var i=e;function o(){var t=gi(e);if(null===t)throw new pi(pi.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}if(l(),t.startTime=o(),l(),"--\x3e"!==e.substr(0,3))throw new pi(pi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),l(),t.endTime=o(),l(),function(e,t){var i=new fi;mi(e,(function(e,t){switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){i.set(e,n[o].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var l=t.split(","),r=l[0];i.integer(e,r),i.percent(e,r)&&i.set("snapToLines",!1),i.alt(e,r,["auto"]),2===l.length&&i.alt("lineAlign",l[1],["start","middle","end"]);break;case"position":l=t.split(","),i.percent(e,l[0]),2===l.length&&i.alt("positionAlign",l[1],["start","middle","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical",""),t.line=i.get("line","auto"),t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align","middle"),t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}(pi.prototype=hi(Error.prototype)).constructor=pi,pi.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},fi.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var yi={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},_i={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},bi={v:"title",lang:"lang"},Ci={rt:"ruby"};function Ti(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return t=t.substr((e=n[1]?n[1]:n[2]).length),e}function i(e){return yi[e]}function o(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],i);return e}function l(e,t){return!Ci[t.localName]||Ci[t.localName]===e.localName}function r(t,n){var i=_i[t];if(!i)return null;var o=e.document.createElement(i);o.localName=i;var l=bi[t];return l&&n&&(o[l]=n.trim()),o}for(var a,s=e.document.createElement("div"),u=s,c=[];null!==(a=n());)if("<"!==a[0])u.appendChild(e.document.createTextNode(o(a)));else{if("/"===a[1]){c.length&&c[c.length-1]===a.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d,h=gi(a.substr(1,a.length-2));if(h){d=e.document.createProcessingInstruction("timestamp",h),u.appendChild(d);continue}var p=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(d=r(p[1],p[3])))continue;if(!l(u,d))continue;p[2]&&(d.className=p[2].substr(1).replace("."," ")),c.push(p[1]),u.appendChild(d),u=d}return s}var ki=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Pi(e){for(var t=0;t<ki.length;t++){var n=ki[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function wi(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var l=n.match(/^.*(\n|\r)/);return l?(e.length=0,l[0]):n}return"ruby"===t.tagName?o(e):t.childNodes?(i(e,t),o(e)):void 0}for(i(t,e);n=o(t);)for(var l=0;l<n.length;l++)if(Pi(n.charCodeAt(l)))return"rtl";return"ltr"}function Oi(){}function Mi(e,t,n){Oi.call(this),this.cue=t,this.cueDiv=Ti(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:wi(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var o=0;switch(t.positionAlign){case"start":o=t.position;break;case"middle":o=t.position-t.size/2;break;case"end":o=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(o,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(o,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Ei(e){var t,n,i,o;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var l=(l=e.div.childNodes)&&(l=l[0])&&l.getClientRects&&l.getClientRects();e=e.div.getBoundingClientRect(),t=l?Math.max(l[0]&&l[0].height||0,e.height/l.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function xi(e,t,n,i){var o=new Ei(t),l=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&i++;return-1*++i}(l),a=[];if(l.snapToLines){var s;switch(l.vertical){case"":a=["+y","-y"],s="height";break;case"rl":a=["+x","-x"],s="width";break;case"lr":a=["-x","+x"],s="width"}var u=o.lineHeight,c=u*Math.round(r),d=n[s]+u,h=a[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),r<0&&(c+=""===l.vertical?n.height:n.width,a=a.reverse()),o.move(h,c)}else{var p=o.lineHeight/n.height*100;switch(l.lineAlign){case"middle":r-=p/2;break;case"end":r-=p}switch(l.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}a=["+y","-x","+x","-y"],o=new Ei(t)}var g=function(e,t){for(var o,l=new Ei(e),r=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(i);)e.move(t[a]);if(e.within(n))return e;var s=e.intersectPercentage(n);r>s&&(o=new Ei(e),r=s),e=new Ei(l)}return o||l}(o,a);t.move(g.toCSSCompatValues(n))}function Si(){}Oi.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},Oi.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Mi.prototype=hi(Oi.prototype)).constructor=Mi,Ei.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Ei.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Ei.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Ei.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Ei.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Ei.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Ei.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Ei.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},Si.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Si.convertCueToDOMTree=function(e,t){return e&&t?Ti(e,t):null},Si.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var o=[],l=Ei.getSimpleBoxPosition(i),r={font:Math.round(.05*l.height*100)/100+"px sans-serif"};!function(){for(var n,a,s=0;s<t.length;s++)n=new Mi(e,a=t[s],r),i.appendChild(n.div),xi(0,n,l,o),a.displayState=n.div,o.push(Ei.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)i.appendChild(t[a].displayState)},(Si.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof pi))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var l=(o=i()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new pi(pi.Errors.BadSignature);n.state="HEADER"}for(var r=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(r?r=!1:o=i(),n.state){case"HEADER":/:/.test(o)?(t=o).match(/X-TIMESTAMP-MAP/)?mi(t,(function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var t=new fi;mi(e,(function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",gi(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}}),/=/):mi(t,(function(e,t){switch(e){case"Region":!function(e){var t=new fi;if(mi(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new fi;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}(t)}}),/:/):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;if(n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,""),n.state="CUE",-1===o.indexOf("--\x3e")){n.cue.id=o;continue}case"CUE":try{vi(o,n.cue,n.regionList)}catch(s){n.reportOrThrowError(s),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var a=-1!==o.indexOf("--\x3e");if(!o||a&&(r=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=o;continue;case"BADCUE":o||(n.state="ID");continue}}}catch(s){n.reportOrThrowError(s),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new pi(pi.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}};var Ii=Si,Ai="auto",Ri={"":1,lr:1,rl:1},Ni={start:1,middle:1,end:1,left:1,right:1};function ji(e){return"string"==typeof e&&!!Ni[e.toLowerCase()]&&e.toLowerCase()}function Di(e,t,n){this.hasBeenReset=!1;var i="",o=!1,l=e,r=t,a=n,s=null,u="",c=!0,d="auto",h="start",p=50,g="middle",f=50,m="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");r=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(e){a=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return s},set:function(e){s=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"==typeof e&&!!Ri[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&e!==Ai)throw new SyntaxError("An invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=ji(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=ji(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");f=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(e){var t=ji(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}}}),this.displayState=void 0}Di.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Li=Di,Vi={"":!0,up:!0};function Bi(e){return"number"==typeof e&&e>=0&&e<=100}var Fi=function(){var e=100,t=3,n=0,i=100,o=0,l=100,r="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Bi(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!Bi(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!Bi(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(e){if(!Bi(e))throw new Error("ViewportAnchorY must be between 0 and 100.");l=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!Bi(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return r},set:function(e){var t=function(e){return"string"==typeof e&&!!Vi[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");r=t}}})},Ui=bt((function(t){var n=t.exports={WebVTT:Ii,VTTCue:Li,VTTRegion:Fi};e.vttjs=n,e.WebVTT=n.WebVTT;var i=n.VTTCue,o=n.VTTRegion,l=e.VTTCue,r=e.VTTRegion;n.shim=function(){e.VTTCue=i,e.VTTRegion=o},n.restore=function(){e.VTTCue=l,e.VTTRegion=r},e.VTTCue||n.shim()})),Hi=function(n){function i(e,t){var i;return void 0===e&&(e={}),void 0===t&&(t=function(){}),e.reportTouchActivity=!1,(i=n.call(this,null,e,t)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),di.names.forEach((function(t){var n=di[t];e&&e[n.getterName]&&(i[n.privateName]=e[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new di.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}Re(i,n);var l=i.prototype;return l.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},l.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},l.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},l.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ge(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},l.onDurationChange=function(e){this.duration_=this.duration()},l.buffered=function(){return at(0,0)},l.bufferedPercent=function(){return st(this.buffered(),this.duration_)},l.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},l.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},l.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},l.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},l.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},l.dispose=function(){this.clearTracks(ui.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},l.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var o=n[i];"text"===e&&t.removeRemoteTextTrack(o),n.removeTrack(o)}}))},l.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;)this.removeRemoteTextTrack(e[t])},l.reset=function(){},l.error=function(e){return void 0!==e&&(this.error_=new ft(e),this.trigger("error")),this.error_},l.played=function(){return this.hasStarted_?at(0,0):at()},l.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},l.initTrackListeners=function(){var e=this;ui.names.forEach((function(t){var n=function(){e.trigger(t+"trackchange")},i=e[ui[t].getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},l.addWebVttScript_=function(){var n=this;if(!e.WebVTT)if(t.body.contains(this.el())){if(!this.options_["vtt.js"]&&d(Ui)&&Object.keys(Ui).length>0)return void this.trigger("vttjsloaded");var i=t.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){n.trigger("vttjsloaded")},i.onerror=function(){n.trigger("vttjserror")},this.on("dispose",(function(){i.onload=null,i.onerror=null})),e.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},l.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},o=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",o),this.addWebVttScript_();var l=function(){return e.trigger("texttrackchange")},r=function(){l();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",l),"showing"===n.mode&&n.addEventListener("cuechange",l)}};r(),t.addEventListener("change",r),t.addEventListener("addtrack",r),t.addEventListener("removetrack",r),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",o),t.removeEventListener("change",r),t.removeEventListener("addtrack",r),t.removeEventListener("removetrack",r);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",l)}))},l.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,o){void 0===o&&(o={});var l=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var r=new di.text.TrackClass(o);return l.addTrack(r),r}(this,e,t,n)},l.createRemoteTextTrack=function(e){var t=Ie(e,{tech:this});return new ci.remoteTextEl.TrackClass(t)},l.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(o.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},l.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},l.getVideoPlaybackQuality=function(){return{}},l.requestPictureInPicture=function(){var t=this.options_.Promise||e.Promise;if(t)return t.reject()},l.setPoster=function(){},l.playsinline=function(){},l.setPlaysinline=function(){},l.overrideNativeAudioTracks=function(){},l.overrideNativeVideoTracks=function(){},l.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Se(e),i.techs_[e]=t,i.techs_[xe(e)]=t,"Tech"!==e&&i.defaultTechOrder_.push(e),t},i.getTech=function(t){if(t)return i.techs_&&i.techs_[t]?i.techs_[t]:(t=Se(t),e&&e.videojs&&e.videojs[t]?(o.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),e.videojs[t]):void 0)},i}(Ae);di.names.forEach((function(e){var t=di[e];Hi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Hi.prototype.featuresVolumeControl=!0,Hi.prototype.featuresMuteControl=!0,Hi.prototype.featuresFullscreenResize=!1,Hi.prototype.featuresPlaybackRate=!1,Hi.prototype.featuresProgressEvents=!1,Hi.prototype.featuresSourceset=!1,Hi.prototype.featuresTimeupdateEvents=!1,Hi.prototype.featuresNativeTextTracks=!1,Hi.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],o=0;o<i.length;o++)if(n=i[o].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],o=0;o<i.length;o++)if(i[o].canHandleSource(t,n))return i[o];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:o.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ae.registerComponent("Tech",Hi),Hi.registerTech("Tech",Hi),Hi.defaultTechOrder_=[];var zi={},$i={},Ki={};function qi(e,t,n,i){void 0===i&&(i=null);var o="call"+Se(n),l=e.reduce(Yi(o),i),r=l===Ki,a=r?null:t[n](l);return function(e,t,n,i){for(var o=e.length-1;o>=0;o--){var l=e[o];l[t]&&l[t](i,n)}}(e,n,a,r),a}var Wi={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},Gi={setCurrentTime:1,setVolume:1},Xi={play:1,pause:1};function Yi(e){return function(t,n){return t===Ki?Ki:n[e]?n[e](t):t}}var Qi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ji=function(e){void 0===e&&(e="");var t=Ut(e);return Qi[t.toLowerCase()]||""};function Zi(e){if(!e.type){var t=Ji(e.src);t&&(e.type=t)}return e}var eo=function(e){function t(t,n,i){var o,l=Ie({createEl:!1},n);if(o=e.call(this,t,l,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var r=0,a=n.playerOptions.techOrder;r<a.length;r++){var s=Se(a[r]),u=Hi.getTech(s);if(s||(u=Ae.getComponent(s)),u&&u.isSupported()){t.loadTech_(s);break}}return o}return Re(t,e),t}(Ae);Ae.registerComponent("MediaLoader",eo);var to=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).emitTapEvents(),i.enable(),i}Re(t,e);var n=t.prototype;return n.createEl=function(t,n,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&o.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=u({role:"button"},i),this.tabIndex_=n.tabIndex;var l=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(l),l},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=_("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,b(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){},n.handleKeyDown=function(t){Ct.isEventKey(t,"Space")||Ct.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Ae);Ae.registerComponent("ClickableComponent",to),Ae.registerComponent("PosterImage",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),t.on("posterchange",ge(De(i),i.update)),i}Re(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return _("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?yt(this.player_.play()):this.player_.pause())},t}(to));var no={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function io(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function oo(e,t,n){try{e.style[t]=n}catch(i){return}}Ae.registerComponent("TextTrackDisplay",function(t){function n(n,i,o){var l;l=t.call(this,n,i,o)||this;var r=ge(De(l),l.updateDisplay);return n.on("loadstart",ge(De(l),l.toggleDisplay)),n.on("texttrackchange",r),n.on("loadedmetadata",ge(De(l),l.preselectTrack)),n.ready(ge(De(l),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",r),n.on("playerresize",r),e.addEventListener("orientationchange",r),n.on("dispose",(function(){return e.removeEventListener("orientationchange",r)}));for(var t=this.options_.playerOptions.tracks||[],i=0;i<t.length;i++)this.player_.addRemoteTextTrack(t[i],!0);this.preselectTrack()}}))),l}Re(n,t);var i=n.prototype;return i.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},o=this.player_.textTracks(),l=this.player_.cache_.selectedLanguage,r=0;r<o.length;r++){var a=o[r];l&&l.enabled&&l.language&&l.language===a.language&&a.kind in i?a.kind===l.kind?n=a:n||(n=a):l&&!l.enabled?(n=null,e=null,t=null):a.default&&("descriptions"!==a.kind||e?a.kind in i&&!t&&(t=a):e=a)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof e.WebVTT&&e.WebVTT.processCues(e,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var o=e[i];"showing"===o.mode&&n.push(o)}this.updateForTrack(n)}else{for(var l=null,r=null,a=e.length;a--;){var s=e[a];"showing"===s.mode&&("descriptions"===s.kind?l=s:r=s)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):l&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))}},i.updateDisplayState=function(t){for(var n=this.player_.textTrackSettings.getValues(),i=t.activeCues,o=i.length;o--;){var l=i[o];if(l){var r=l.displayState;if(n.color&&(r.firstChild.style.color=n.color),n.textOpacity&&oo(r.firstChild,"color",io(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(r.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&oo(r.firstChild,"backgroundColor",io(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?oo(r,"backgroundColor",io(n.windowColor,n.windowOpacity)):r.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var a=e.parseFloat(r.style.fontSize);r.style.fontSize=a*n.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=no[n.fontFamily])}}},i.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof e.WebVTT&&!t.every((function(e){return!e.activeCues}))){for(var n=[],i=0;i<t.length;++i)for(var o=t[i],l=0;l<o.activeCues.length;++l)n.push(o.activeCues[l]);e.WebVTT.processCues(e,n,this.el_);for(var r=0;r<t.length;++r){for(var a=t[r],s=0;s<a.activeCues.length;++s){var u=a.activeCues[s].displayState;k(u,"vjs-text-track-cue"),k(u,"vjs-text-track-cue-"+(a.language?a.language:r))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},n}(Ae)),Ae.registerComponent("LoadingSpinner",function(e){function t(){return e.apply(this,arguments)||this}return Re(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=_("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),o=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(i),o},t}(Ae));var lo=function(e){function t(){return e.apply(this,arguments)||this}Re(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=u({type:"button"},n);var i=Ae.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},n.addChild=function(e,t){return void 0===t&&(t={}),o.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),Ae.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){Ct.isEventKey(t,"Space")||Ct.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(to);Ae.registerComponent("Button",lo);var ro=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return yt(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};vt(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(lo);ro.prototype.controlText_="Play Video",Ae.registerComponent("BigPlayButton",ro),Ae.registerComponent("CloseButton",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){Ct.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(lo));var ao=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",i.handlePlay),i.on(t,"pause",i.handlePause),n.replay&&i.on(t,"ended",i.handleEnded),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(lo);ao.prototype.controlText_="Play",Ae.registerComponent("PlayToggle",ao);var so=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),l=Math.floor(t/60%60),r=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n="-"),(o=o>0||r>0?o+":":"")+(i=((o||l>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},uo=so;function co(e,t){return void 0===t&&(t=e),uo(e,t)}var ho=function(e){function n(t,n){var i;return(i=e.call(this,t,n)||this).throttledUpdateContent=fe(ge(De(i),i.updateContent),pe),i.on(t,"timeupdate",i.throttledUpdateContent),i}Re(n,e);var i=n.prototype;return i.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=_("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},i.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=t.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},i.formatTime_=function(e){return co(e)},i.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},i.updateContent=function(e){},n}(Ae);ho.prototype.labelText_="Time",ho.prototype.controlText_="Time",Ae.registerComponent("TimeDisplay",ho);var po=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"ended",i.handleEnded),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(ho);po.prototype.labelText_="Current Time",po.prototype.controlText_="Current Time",Ae.registerComponent("CurrentTimeDisplay",po);var go=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i.on(t,"loadstart",i.updateContent),i.on(t,"loadedmetadata",i.throttledUpdateContent),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(ho);go.prototype.labelText_="Duration",go.prototype.controlText_="Duration",Ae.registerComponent("DurationDisplay",go),Ae.registerComponent("TimeDivider",function(e){function t(){return e.apply(this,arguments)||this}return Re(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Ae));var fo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.throttledUpdateContent),i.on(t,"ended",i.handleEnded),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(_("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){"number"==typeof this.player_.duration()&&this.updateFormattedTime_(this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime())},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(ho);fo.prototype.labelText_="Remaining Time",fo.prototype.controlText_="Remaining Time",Ae.registerComponent("RemainingTimeDisplay",fo),Ae.registerComponent("LiveDisplay",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}Re(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=_("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Ae));var mo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}Re(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=_("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(lo);mo.prototype.controlText_="Seek to live, currently playing live",Ae.registerComponent("SeekToLive",mo);var vo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}Re(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=u({tabIndex:0},n),i=u({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Qe||e.preventDefault(),I(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;A(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style,o=this.vertical()?"height":"width";return i[o]!==n&&(i[o]=n),e}}},n.calculateDistance=function(e){var t=j(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){Ct.isEventKey(t,"Left")||Ct.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Ct.isEventKey(t,"Right")||Ct.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},t}(Ae);Ae.registerComponent("Slider",vo),Ae.registerComponent("LoadProgressBar",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",i.update),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),l=this.partEls_,r=this.$(".vjs-control-text-loaded-percentage"),a=function(e,t,n){var i=e/t||0;return i=100*(i>=1?1:i),n&&(i=i.toFixed(2)),i+"%"};this.el_.style.width=a(o,i),b(r,a(o,i,!0));for(var s=0;s<n.length;s++){var u=n.start(s),c=n.end(s),d=l[s];d||(d=this.el_.appendChild(_()),l[s]=d),d.style.left=a(u,o),d.style.width=a(c-u,o)}for(var h=l.length;h>n.length;h--)this.el_.removeChild(l[h-1]);l.length=n.length},t}(Ae)),Ae.registerComponent("TimeTooltip",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fe(ge(De(i),i.update),pe),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=R(this.el_),o=R(this.player_.el()),l=e.width*t;if(o&&i){var r=e.left-o.left+l,a=e.width-l+(o.right-e.right),s=i.width/2;r<s?s+=s-r:a<s&&(s=a),s<0?s=0:s>i.width&&(s=i.width),this.el_.style.right="-"+s+"px",this.write(n)}},n.write=function(e){b(this.el_,e)},n.updateTime=function(e,t,n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var l,r=o.player_.duration();if(o.player_.liveTracker&&o.player_.liveTracker.isLive()){var a=o.player_.liveTracker.liveWindow(),s=a-t*a;l=(s<1?"":"-")+co(s,a)}else l=co(n,r);o.update(e,t,l),i&&i()}))},t}(Ae));var yo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fe(ge(De(i),i.update),pe),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Ae);yo.prototype.options_={children:[]},$e||qe||yo.prototype.options_.children.push("timeTooltip"),Ae.registerComponent("PlayProgressBar",yo);var _o=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=fe(ge(De(i),i.update),pe),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Ae);_o.prototype.options_={children:["timeTooltip"]},Ae.registerComponent("MouseTimeDisplay",_o);var bo=function(e){function n(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}Re(n,e);var i=n.prototype;return i.setEventHandlers_=function(){this.update=fe(ge(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in t&&"visibilityState"in t&&this.on(t,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(e){t.hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},i.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval((function(){e.requestAnimationFrame(e.update)}),30)},i.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update_=function(e,t){var n=this.player_.liveTracker,i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[co(e,i),co(i,i)],"{1} of {2}")),this.bar&&this.bar.update(R(this.el_),t)},i.update=function(t){if(null!==this.el().offsetParent){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.handleEnded=function(e){this.update_(this.player_.duration(),1)},i.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},i.handleMouseDown=function(t){U(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},i.handleMouseMove=function(e){if(U(e)){var t,n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){var o=i.seekableStart(),l=i.liveCurrentTime();if((t=o+n*i.liveWindow())>=l&&(t=l),t<=o&&(t=o+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},i.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},i.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},i.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&yt(this.player_.play())},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(t){if(Ct.isEventKey(t,"Space")||Ct.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Ct.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(Ct.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ct(t))){t.preventDefault(),t.stopPropagation();var n=10*(Ct.codes[Ct(t)]-Ct.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ct.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Ct.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n}(vo);bo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},$e||qe||bo.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ae.registerComponent("SeekBar",bo);var Co=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=fe(ge(De(i),i.handleMouseMove),pe),i.throttledHandleMouseSeek=fe(ge(De(i),i.handleMouseSeek),pe),i.enable(),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),o=R(i),l=j(i,e).x;l>1?l=1:l<0&&(l=0),n&&n.update(o,l)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Ae);Co.prototype.options_={children:["seekBar"]},Ae.registerComponent("ProgressControl",Co);var To=function(e){function n(n,i){var o;return(o=e.call(this,n,i)||this).on(n,["enterpictureinpicture","leavepictureinpicture"],o.handlePictureInPictureChange),t.pictureInPictureEnabled||o.disable(),o}Re(n,e);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},i.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},n}(lo);To.prototype.controlText_="Picture-in-Picture",Ae.registerComponent("PictureInPictureToggle",To);var ko=function(e){function n(n,i){var o;return(o=e.call(this,n,i)||this).on(n,"fullscreenchange",o.handleFullscreenChange),!1===t[n.fsApi_.fullscreenEnabled]&&o.disable(),o}Re(n,e);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},n}(lo);ko.prototype.controlText_="Fullscreen",Ae.registerComponent("FullscreenToggle",ko);var Po=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))};Ae.registerComponent("VolumeLevel",function(e){function t(){return e.apply(this,arguments)||this}return Re(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Ae));var wo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",i.updateLastVolume_),i.on(t,"volumechange",i.updateARIAAttributes),t.ready((function(){return i.updateARIAAttributes()})),i}Re(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){U(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){U(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(vo);wo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},wo.prototype.playerEvent="volumechange",Ae.registerComponent("VolumeBar",wo);var Oo=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||d(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=e.call(this,t,n)||this,Po(De(i),t),i.throttledHandleMouseMove=fe(ge(De(i),i.handleMouseMove),pe),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}Re(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Ae);Oo.prototype.options_={children:["volumeBar"]},Ae.registerComponent("VolumeControl",Oo);var Mo=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},Eo=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,Mo(De(i),t),i.on(t,["loadstart","volumechange"],i.update),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();0===t?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;$e&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)P(this.el_,"vjs-vol-"+n);k(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(lo);Eo.prototype.controlText_="Mute",Ae.registerComponent("MuteToggle",Eo);var xo=function(e){function n(t,n){var i;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||d(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).on(t,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}Re(n,e);var i=n.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},i.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(e){Ct.isEventKey(e,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(e){this.addClass("vjs-hover"),re(t,"keyup",ge(this,this.handleKeyPress))},i.handleMouseOut=function(e){this.removeClass("vjs-hover"),ae(t,"keyup",ge(this,this.handleKeyPress))},i.handleKeyPress=function(e){Ct.isEventKey(e,"Esc")&&this.handleMouseOut()},n}(Ae);xo.prototype.options_={children:["muteToggle","volumeControl"]},Ae.registerComponent("VolumePanel",xo);var So=function(e){function n(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=ge(De(i),i.handleBlur),i.boundHandleTapClick_=ge(De(i),i.handleTapClick),i}Re(n,e);var i=n.prototype;return i.addEventListenerForItem=function(e){e instanceof Ae&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(e){e instanceof Ae&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},i.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},i.createEl=function(){this.contentEl_=_(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),re(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},i.handleBlur=function(e){var n=e.relatedTarget||t.activeElement;if(!this.children().some((function(e){return e.el()===n}))){var i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(e){Ct.isEventKey(e,"Left")||Ct.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Ct.isEventKey(e,"Right")||Ct.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},n}(Ae);Ae.registerComponent("Menu",So);var Io=function(e){function n(n,i){var o;void 0===i&&(i={}),(o=e.call(this,n,i)||this).menuButton_=new lo(n,i),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true");var l=lo.prototype.buildCSSClass();return o.menuButton_.el_.className=o.buildCSSClass()+" "+l,o.menuButton_.removeClass("vjs-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0,o.on(o.menuButton_,"tap",o.handleClick),o.on(o.menuButton_,"click",o.handleClick),o.on(o.menuButton_,"keydown",o.handleKeyDown),o.on(o.menuButton_,"mouseenter",(function(){o.addClass("vjs-hover"),o.menu.show(),re(t,"keyup",ge(De(o),o.handleMenuKeyUp))})),o.on("mouseleave",o.handleMouseLeave),o.on("keydown",o.handleSubmenuKeyDown),o}Re(n,e);var i=n.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var e=new So(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=_("li",{className:"vjs-menu-title",innerHTML:Se(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ae(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},i.createItems=function(){},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+lo.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},i.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},i.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(e){this.removeClass("vjs-hover"),ae(t,"keyup",ge(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(e){Ct.isEventKey(e,"Esc")||Ct.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ct.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Ct.isEventKey(e,"Up")||Ct.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(e){(Ct.isEventKey(e,"Esc")||Ct.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDown=function(e){(Ct.isEventKey(e,"Esc")||Ct.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ct.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),$e&&v())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},n}(Ae);Ae.registerComponent("MenuButton",Io);var Ao=function(e){function t(t,n){var i,o=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!o)return De(i);var l=ge(De(i),i.update);return o.addEventListener("removetrack",l),o.addEventListener("addtrack",l),i.player_.on("ready",l),i.player_.on("dispose",(function(){o.removeEventListener("removetrack",l),o.removeEventListener("addtrack",l)})),i}return Re(t,e),t}(Io);Ae.registerComponent("TrackButton",Ao);var Ro=["Tab","Esc","Up","Down","Right","Left"],No=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.el_.setAttribute("role",i.selectable?i.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),i}Re(t,e);var n=t.prototype;return n.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",u({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(t){Ro.some((function(e){return Ct.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(to);Ae.registerComponent("MenuItem",No);var jo=function(n){function i(i,o){var l,r=o.track,a=i.textTracks();o.label=r.label||r.language||"Unknown",o.selected="showing"===r.mode,(l=n.call(this,i,o)||this).track=r,l.kinds=(o.kinds||[o.kind||l.track.kind]).filter(Boolean);var s,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.handleTracksChange.apply(De(l),t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.handleSelectedLanguageChange.apply(De(l),t)};return i.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",c),l.on("dispose",(function(){i.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",c)})),void 0===a.onchange&&l.on(["tap","click"],(function(){if("object"!=typeof e.Event)try{s=new e.Event("change")}catch(n){}s||(s=t.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(s)})),l.handleTracksChange(),l}Re(i,n);var o=i.prototype;return o.handleClick=function(e){var t=this.track,i=this.player_.textTracks();if(n.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var l=i[o];-1!==this.kinds.indexOf(l.kind)&&(l===t?"showing"!==l.mode&&(l.mode="showing"):"disabled"!==l.mode&&(l.mode="disabled"))}},o.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},o.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},o.dispose=function(){this.track=null,n.prototype.dispose.call(this)},i}(No);Ae.registerComponent("TextTrackMenuItem",jo);var Do=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}Re(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var l=t[i];if(this.options_.kinds.indexOf(l.kind)>-1&&"showing"===l.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var l=t[i];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&"showing"===l.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(jo);Ae.registerComponent("OffTextTrackMenuItem",Do);var Lo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return Re(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=jo),this.label_&&(n=this.label_+" off"),e.push(new Do(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var l=i[o];if(this.kinds_.indexOf(l.kind)>-1){var r=new t(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});r.addClass("vjs-"+l.kind+"-menu-item"),e.push(r)}}return e},t}(Ao);Ae.registerComponent("TextTrackButton",Lo);var Vo=function(e){function t(t,n){var i,o=n.track,l=n.cue,r=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=l.text,n.selected=l.startTime<=r&&r<l.endTime,(i=e.call(this,t,n)||this).track=o,i.cue=l,o.addEventListener("cuechange",ge(De(i),i.update)),i}Re(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(No);Ae.registerComponent("ChaptersTrackMenuItem",Vo);var Bo=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Se(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var o=new Vo(this.player_,{track:this.track_,cue:t[n]});e.push(o)}return e},t}(Lo);Bo.prototype.kind_="chapters",Bo.prototype.controlText_="Chapters",Ae.registerComponent("ChaptersButton",Bo);var Fo=function(e){function t(t,n,i){var o;o=e.call(this,t,n,i)||this;var l=t.textTracks(),r=ge(De(o),o.handleTracksChange);return l.addEventListener("change",r),o.on("dispose",(function(){l.removeEventListener("change",r)})),o}Re(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;i<o;i++){var l=t[i];if(l.kind!==this.kind_&&"showing"===l.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Lo);Fo.prototype.kind_="descriptions",Fo.prototype.controlText_="Descriptions",Ae.registerComponent("DescriptionsButton",Fo);var Uo=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Lo);Uo.prototype.kind_="subtitles",Uo.prototype.controlText_="Subtitles",Ae.registerComponent("SubtitlesButton",Uo);var Ho=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return Re(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(jo);Ae.registerComponent("CaptionSettingsMenuItem",Ho);var zo=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ho(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Lo);zo.prototype.kind_="captions",zo.prototype.controlText_="Captions",Ae.registerComponent("CaptionsButton",zo);var $o=function(e){function t(){return e.apply(this,arguments)||this}return Re(t,e),t.prototype.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),e.prototype.createEl.call(this,t,u({innerHTML:o+="</span>"},n),i)},t}(jo);Ae.registerComponent("SubsCapsMenuItem",$o);var Ko=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Se(i.label_)),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ho(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,$o)},t}(Lo);Ko.prototype.kinds_=["captions","subtitles"],Ko.prototype.controlText_="Subtitles",Ae.registerComponent("SubsCapsButton",Ko);var qo=function(e){function t(t,n){var i,o=n.track,l=t.audioTracks();n.label=o.label||o.language||"Unknown",n.selected=o.enabled,(i=e.call(this,t,n)||this).track=o,i.addClass("vjs-"+o.kind+"-menu-item");var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(De(i),t)};return l.addEventListener("change",r),i.on("dispose",(function(){l.removeEventListener("change",r)})),i}Re(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),e.prototype.createEl.call(this,t,u({innerHTML:o+="</span>"},n),i)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var i=0;i<n.length;i++){var o=n[i];o.enabled=o===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(No);Ae.registerComponent("AudioTrackMenuItem",qo);var Wo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++)e.push(new qo(this.player_,{track:t[n],selectable:!0,multiSelectable:!1}));return e},t}(Ao);Wo.prototype.controlText_="Audio Track",Ae.registerComponent("AudioTrackButton",Wo);var Go=function(e){function t(t,n){var i,o=n.rate,l=parseFloat(o,10);return n.label=o,n.selected=1===l,n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=o,i.rate=l,i.on(t,"ratechange",i.update),i}Re(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(No);Go.prototype.contentElType="button",Ae.registerComponent("PlaybackRateMenuItem",Go);var Xo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateVisibility(),i.updateLabel(),i.on(t,"loadstart",i.updateVisibility),i.on(t,"ratechange",i.updateLabel),i}Re(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=_("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new So(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Go(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>t){i=n[o];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Io);Xo.prototype.controlText_="Playback Rate",Ae.registerComponent("PlaybackRateMenuButton",Xo);var Yo=function(e){function t(){return e.apply(this,arguments)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Ae);Ae.registerComponent("Spacer",Yo),Ae.registerComponent("CustomControlSpacer",function(e){function t(){return e.apply(this,arguments)||this}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Yo));var Qo=function(e){function t(){return e.apply(this,arguments)||this}return Re(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Ae);Qo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in t&&Qo.prototype.options_.children.splice(Qo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ae.registerComponent("ControlBar",Qo);var Jo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",i.open),i}Re(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(kt);Jo.prototype.options_=Ie(kt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ae.registerComponent("ErrorDisplay",Jo);var Zo=["#000","Black"],el=["#00F","Blue"],tl=["#0FF","Cyan"],nl=["#0F0","Green"],il=["#F0F","Magenta"],ol=["#F00","Red"],ll=["#FFF","White"],rl=["#FF0","Yellow"],al=["1","Opaque"],sl=["0.5","Semi-Transparent"],ul=["0","Transparent"],cl={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Zo,ll,ol,nl,el,rl,il,tl]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[al,sl,ul]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ll,Zo,ol,nl,el,rl,il,tl]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[al,sl]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ul,sl,al]}};function dl(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}cl.windowColor.options=cl.backgroundColor.options,Ae.registerComponent("TextTrackSettings",function(t){function n(e,n){var i;return n.temporary=!1,(i=t.call(this,e,n)||this).updateDisplay=ge(De(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=_("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),s(cl,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}Re(n,t);var i=n.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var o=cl[e],l=o.id.replace("%s",this.id_),r=[t,l].join(" ").trim();return["<"+n+' id="'+l+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(o.label),"</"+n+">",'<select aria-labelledby="'+r+'">'].concat(o.options.map((function(e){var t=l+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+r+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return _("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return _("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var e=this.localize("restore all settings to the default values");return _("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var o,l=dl((o=i.$(t.selector)).options[o.options.selectedIndex].value,t.parser);return void 0!==l&&(e[n]=l),e},void 0===(n={})&&(n=0),a(e=cl).reduce((function(n,i){return t(n,e[i],i)}),n)},i.setValues=function(e){var t=this;s(cl,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(dl(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},i.setDefaults=function(){var e=this;s(cl,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},i.restoreSettings=function(){var t;try{t=JSON.parse(e.localStorage.getItem("vjs-text-track-settings"))}catch(n){o.warn(n)}t&&this.setValues(t)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?e.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.localStorage.removeItem("vjs-text-track-settings")}catch(n){o.warn(n)}}},i.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},n}(kt)),Ae.registerComponent("ResizeManager",function(t){function n(n,i){var o,l=i.ResizeObserver||e.ResizeObserver;null===i.ResizeObserver&&(l=!1);var r=Ie({createEl:!l,reportTouchActivity:!1},i);return(o=t.call(this,n,r)||this).ResizeObserver=i.ResizeObserver||e.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=me((function(){o.resizeHandler()}),100,!1,De(o)),l?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){if(o.el_&&o.el_.contentWindow){var e=o.debouncedHandler_,t=o.unloadListener_=function(){ae(this,"resize",e),ae(this,"unload",t),t=null};re(o.el_.contentWindow,"unload",t),re(o.el_.contentWindow,"resize",e)}},o.one("load",o.loadListener_)),o}Re(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},n}(Ae)),Ae.registerComponent("LiveTracker",function(e){function n(n,i){var o,l=Ie({createEl:!1},i);return(o=e.call(this,n,l)||this).reset_(),o.on(o.player_,"durationchange",o.handleDurationchange),Ze&&"hidden"in t&&"visibilityState"in t&&o.on(t,"visibilitychange",o.handleVisibilityChange),o}Re(n,e);var i=n.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(t.hidden?this.stopTracking():this.startTracking())},i.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime();return e!==1/0&&e-(2*this.seekableIncrement_+.07)>=t},i.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t,n,i,o=this.seekableEnd();o!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(o-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=(t=this.seekableIncrementList_,n=Math.floor(t.length/2),i=[].concat(t).sort((function(e,t){return e-t})),t.length%2!=0?i[n]:(i[n-1]+i[n])/2))),this.pastSeekEnd_=0,this.lastSeekEnd_=o,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},i.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},i.stopTracking=function(){this.isTracking()&&this.reset_()},i.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},i.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},i.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){return this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},i.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},n}(Ae));var hl=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],o="";if(!n.length)return!1;for(var l=0;l<n.length;l++){var r=n[l].src;r&&-1===i.indexOf(r)&&i.push(r)}return!!i.length&&(1===i.length&&(o=i[0]),e.triggerSourceset(o),!0)},pl=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var i=t.createElement(this.nodeName.toLowerCase());i.innerHTML=n;for(var o=t.createDocumentFragment();i.childNodes.length;)o.appendChild(i.childNodes[0]);return this.innerText="",e.Element.prototype.appendChild.call(this,o),this.innerHTML}}),gl=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},fl=function(t){var n=t.el();if(!n.resetSourceWatch_){var i={},o=function(t){return gl([t.el(),e.HTMLMediaElement.prototype,e.Element.prototype,pl],"innerHTML")}(t),l=function(e){return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var r=e.apply(n,o);return hl(t),r}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){n[e]&&(i[e]=n[e],n[e]=l(i[e]))})),Object.defineProperty(n,"innerHTML",Ie(o,{set:l(o.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach((function(e){n[e]=i[e]})),Object.defineProperty(n,"innerHTML",o)},t.one("sourceset",n.resetSourceWatch_)}},ml=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ft(e.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return e.Element.prototype.setAttribute.call(this,"src",t),t}}),vl=function(n){function i(e,t){var i;i=n.call(this,e,t)||this;var l=e.source,r=!1;if(l&&(i.el_.currentSrc!==l.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(l):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,u=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),r||i.el_.hasAttribute("crossorigin")||!Ht(c.src)||(r=!0)):u.push(c))}for(var d=0;d<u.length;d++)i.el_.removeChild(u[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&o.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(it||He||Ge)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}Re(i,n);var l=i.prototype;return l.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},l.setupSourcesetHandling_=function(){!function(t){if(t.featuresSourceset){var n=t.el();if(!n.resetSourceset_){var i=function(t){return gl([t.el(),e.HTMLMediaElement.prototype,ml],"src")}(t),o=n.setAttribute,l=n.load;Object.defineProperty(n,"src",Ie(i,{set:function(e){var o=i.set.call(n,e);return t.triggerSourceset(n.src),o}})),n.setAttribute=function(e,i){var l=o.call(n,e,i);return/src/i.test(e)&&t.triggerSourceset(n.src),l},n.load=function(){var e=l.call(n);return hl(t)||(t.triggerSourceset(""),fl(t)),e},n.currentSrc?t.triggerSourceset(n.currentSrc):hl(t)||fl(t),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=l,n.setAttribute=o,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}}(this)},l.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var o=e[i];"disabled"===o.track.mode&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},l.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},l.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},l.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},l.proxyNativeTracksForType_=function(e){var t=this,n=ui[e],i=this.el()[n.getterName],o=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var l={change:function(e){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(e){o.addTrack(e.track)},removetrack:function(e){o.removeTrack(e.track)}},r=function(){for(var e=[],t=0;t<o.length;t++){for(var n=!1,l=0;l<i.length;l++)if(i[l]===o[t]){n=!0;break}n||e.push(o[t])}for(;e.length;)o.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=l,Object.keys(l).forEach((function(e){var n=l[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",r),this.on("dispose",(function(e){return t.off("loadstart",r)}))}},l.proxyNativeTracks_=function(){var e=this;ui.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},l.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),i.disposeMediaElement(e),e=n}else{e=t.createElement("video");var o=Ie({},this.options_.tag&&M(this.options_.tag));it&&!0===this.options_.nativeControlsForTouch||delete o.controls,O(e,u(o,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&x(e,"preload",this.options_.preload);for(var l=["loop","muted","playsinline","autoplay"],r=0;r<l.length;r++){var a=l[r],s=this.options_[a];void 0!==s&&(s?x(e,a,a):S(e,a),e[a]=s)}return e},l.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var o=["loadstart"];o.push("loadedmetadata"),e.readyState>=2&&o.push("loadeddata"),e.readyState>=3&&o.push("canplay"),e.readyState>=4&&o.push("canplaythrough"),this.ready((function(){o.forEach((function(e){this.trigger(e)}),this)}))}},l.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){o(t,"Video is not ready. (Video.js)")}},l.duration=function(){var e=this;return this.el_.duration===1/0&&qe&&Qe&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},l.width=function(){return this.el_.offsetWidth},l.height=function(){return this.el_.offsetHeight},l.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},l.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=e.navigator&&e.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},l.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){e.pause(),e.webkitEnterFullScreen()}),0)):e.webkitEnterFullScreen()},l.exitFullScreen=function(){this.el_.webkitExitFullScreen()},l.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},l.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},l.reset=function(){i.resetMediaElement(this.el_)},l.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},l.setControls=function(e){this.el_.controls=!!e},l.addTextTrack=function(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):n.prototype.addTextTrack.call(this,e,t,i)},l.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,e);var i=t.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},l.addRemoteTextTrack=function(e,t){var i=n.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},l.removeRemoteTextTrack=function(e){if(n.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),i=t.length;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])},l.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),e.performance&&"function"==typeof e.performance.now?t.creationTime=e.performance.now():e.performance&&e.performance.timing&&"number"==typeof e.performance.timing.navigationStart&&(t.creationTime=e.Date.now()-e.performance.timing.navigationStart),t},i}(Hi);if(f()){vl.TEST_VID=t.createElement("video");var yl=t.createElement("track");yl.kind="captions",yl.srclang="en",yl.label="English",vl.TEST_VID.appendChild(yl)}vl.isSupported=function(){try{vl.TEST_VID.volume=.5}catch(e){return!1}return!(!vl.TEST_VID||!vl.TEST_VID.canPlayType)},vl.canPlayType=function(e){return vl.TEST_VID.canPlayType(e)},vl.canPlaySource=function(e,t){return vl.canPlayType(e.type)},vl.canControlVolume=function(){try{var e=vl.TEST_VID.volume;return vl.TEST_VID.volume=e/2+.1,e!==vl.TEST_VID.volume}catch(t){return!1}},vl.canMuteVolume=function(){try{var e=vl.TEST_VID.muted;return vl.TEST_VID.muted=!e,vl.TEST_VID.muted?x(vl.TEST_VID,"muted","muted"):S(vl.TEST_VID,"muted"),e!==vl.TEST_VID.muted}catch(t){return!1}},vl.canControlPlaybackRate=function(){if(qe&&Qe&&Je<58)return!1;try{var e=vl.TEST_VID.playbackRate;return vl.TEST_VID.playbackRate=e/2+.1,e!==vl.TEST_VID.playbackRate}catch(t){return!1}},vl.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(t.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(t.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(t.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(t.createElement("audio"),"innerHTML",{get:e,set:e})}catch(n){return!1}return!0},vl.supportsNativeTextTracks=function(){return tt||$e&&Qe},vl.supportsNativeVideoTracks=function(){return!(!vl.TEST_VID||!vl.TEST_VID.videoTracks)},vl.supportsNativeAudioTracks=function(){return!(!vl.TEST_VID||!vl.TEST_VID.audioTracks)},vl.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],vl.prototype.featuresVolumeControl=vl.canControlVolume(),vl.prototype.featuresMuteControl=vl.canMuteVolume(),vl.prototype.featuresPlaybackRate=vl.canControlPlaybackRate(),vl.prototype.featuresSourceset=vl.canOverrideAttributes(),vl.prototype.movingMediaElementInDOM=!$e,vl.prototype.featuresFullscreenResize=!0,vl.prototype.featuresProgressEvents=!0,vl.prototype.featuresTimeupdateEvents=!0,vl.prototype.featuresNativeTextTracks=vl.supportsNativeTextTracks(),vl.prototype.featuresNativeVideoTracks=vl.supportsNativeVideoTracks(),vl.prototype.featuresNativeAudioTracks=vl.supportsNativeAudioTracks();var _l=vl.TEST_VID&&vl.TEST_VID.constructor.prototype.canPlayType,bl=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;vl.patchCanPlayType=function(){We>=4&&!Xe&&!Qe&&(vl.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&bl.test(e)?"maybe":_l.call(this,e)})},vl.unpatchCanPlayType=function(){var e=vl.TEST_VID.constructor.prototype.canPlayType;return vl.TEST_VID.constructor.prototype.canPlayType=_l,e},vl.patchCanPlayType(),vl.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},vl.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){vl.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){vl.prototype["set"+Se(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(e){vl.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(e){vl.prototype["set"+Se(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){vl.prototype[e]=function(){return this.el_[e]()}})),Hi.withSourceHandlers(vl),vl.nativeSourceHandler={},vl.nativeSourceHandler.canPlayType=function(e){try{return vl.TEST_VID.canPlayType(e)}catch(t){return""}},vl.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return vl.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Ut(e.src);return vl.nativeSourceHandler.canPlayType("video/"+n)}return""},vl.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},vl.nativeSourceHandler.dispose=function(){},vl.registerSourceHandler(vl.nativeSourceHandler),Hi.registerTech("Html5",vl);var Cl=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Tl={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},kl=["tiny","xsmall","small","medium","large","xlarge","huge"],Pl={};kl.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Pl[e]="vjs-layout-"+t}));var wl={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ol=function(i){function r(e,t,o){var a;if(e.id=e.id||t.id||"vjs_video_"+ee(),(t=u(r.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var s=e.closest("[lang]");s&&s.getAttribute&&(t.language=s.getAttribute("lang"))}else for(var c=e;c&&1===c.nodeType;){if(M(c).hasOwnProperty("lang")){t.language=c.getAttribute("lang");break}c=c.parentNode}if((a=i.call(this,null,t,o)||this).boundDocumentFullscreenChange_=ge(De(a),a.documentFullscreenChange_),a.boundFullWindowOnEscKey_=ge(De(a),a.fullWindowOnEscKey),a.log=l(a.id_),a.fsApi_=ct,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=e,a.tagAttributes=e&&M(e),a.language(a.options_.language),t.languages){var d={};Object.getOwnPropertyNames(t.languages).forEach((function(e){d[e.toLowerCase()]=t.languages[e]})),a.languages_=d}else a.languages_=r.prototype.options_.languages;a.resetCache_(),a.poster_=t.poster||"",a.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],e.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((function(e){if("function"!=typeof a[e])throw new Error('plugin "'+e+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),Oe(De(a),{eventBusKey:"el_"}),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var h=Ie(a.options_);t.plugins&&Object.keys(t.plugins).forEach((function(e){a[e](t.plugins[e])})),a.options_.playerOptions=h,a.middleware_=[],a.initChildren(),a.isAudio("audio"===e.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),it&&a.addClass("vjs-touch-enabled"),$e||a.addClass("vjs-workinghover"),r.players[a.id_]=De(a);var p=n.split(".")[0];return a.addClass("vjs-v"+p),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("stageclick",a.handleStageClick_),a.on("keydown",a.handleKeyDown),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}Re(r,i);var a=r.prototype;return a.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),ae(t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ae(t,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),r.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),$i[this.id()]=null,di.names.forEach((function(t){var n=e[di[t].getterName]();n&&n.off&&n.off()})),i.prototype.dispose.call(this)},a.createEl=function(){var n,o=this.tag,l=this.playerElIngest_=o.parentNode&&o.parentNode.hasAttribute&&o.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();l?n=this.el_=o.parentNode:r||(n=this.el_=i.prototype.createEl.call(this,"div"));var a=M(o);if(r){for(n=this.el_=o,o=this.tag=t.createElement("video");n.children.length;)o.appendChild(n.firstChild);T(n,"video-js")||k(n,"video-js"),n.appendChild(o),l=this.playerElIngest_=n,Object.keys(n).forEach((function(e){o[e]=n[e]}))}if(o.setAttribute("tabindex","-1"),a.tabindex="-1",(Ze||Qe&&nt)&&(o.setAttribute("role","application"),a.role="application"),o.removeAttribute("width"),o.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(e){r&&"class"===e||n.setAttribute(e,a[e]),r&&o.setAttribute(e,a[e])})),o.playerId=o.id,o.id+="_html5_api",o.className="vjs-tech",o.player=n.player=this,this.addClass("vjs-paused"),!0!==e.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Y("vjs-styles-dimensions");var s=z(".vjs-styles-defaults"),u=z("head");u.insertBefore(this.styleEl_,s?s.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=o.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);k(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return o.initNetworkState_=o.networkState,o.parentNode&&!l&&o.parentNode.insertBefore(n,o),C(o,n),this.children_.unshift(o),this.el_.setAttribute("lang",this.language_),this.el_=n,n},a.width=function(e){return this.dimension("width",e)},a.height=function(e){return this.dimension("height",e)},a.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?o.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},a.fluid=function(e){if(void 0===e)return!!this.fluid_;var t;this.fluid_=!!e,ye(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),ye(t=function(){this.on("playerreset",this.updateStyleEl_)})?(void 0)():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(void 0))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==e.VIDEOJS_NO_DYNAMIC_STYLE){var t,n,i,o=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),l=o[1]/o[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,n=void 0!==this.height_?this.height_:t*l,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Q(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(r>=0&&(s.width=r),a>=0&&(s.height=a))}},a.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=Se(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Hi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var l={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};di.names.forEach((function(e){var t=di[e];l[t.getterName]=n[t.privateName]})),u(l,this.options_[i]),u(l,this.options_[o]),u(l,this.options_[e.toLowerCase()]),this.tag&&(l.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(l.startTime=this.cache_.currentTime);var r,a=Hi.getTech(e);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(l),this.tech_.ready(ge(this,this.handleTechReady_),!0),r=this.tech_,(this.textTracksJson_||[]).forEach((function(e){var t=r.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return t.addCue(e)}))})),r.textTracks(),Cl.forEach((function(e){n.on(n.tech_,e,n["handleTech"+Se(e)+"_"])})),Object.keys(Tl).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Tl[e]+"_"].bind(n),event:t}):n["handleTech"+Tl[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var e,t,n,i=this;di.names.forEach((function(e){var t=di[e];i[t.privateName]=i[t.getterName]()})),this.textTracksJson_=(t=(e=this.tech_).$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track})),Array.prototype.map.call(t,(function(e){var t=_t(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(_t))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(e){return void 0===e&&o.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(vt(i))return i.catch(n)};if("any"===e&&!0!==this.muted()?vt(n=this.play())&&(n=n.catch(i)):n="muted"===e&&!0!==this.muted()?i():this.play(),vt(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},a.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),o=0;o<i.length;o++){var l=i[o];if(l.type&&l.src&&l.src===t)return l.type}return Ji(t)}(this,t)),this.cache_.source=Ie({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),o=[],l=this.$$("source"),r=[],a=0;a<l.length;a++){var s=M(l[a]);o.push(s),s.src&&s.src===t&&r.push(s.src)}r.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},a.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,o=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==i)&&(n=function(){}),n(o),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},a.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(o.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(e){U(e)&&this.controls_&&(this.paused()?yt(this.play()):this.pause())},a.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(e){e.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(e){var n=this.el(),i=t[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i),!1===this.isFullscreen()&&ae(t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},a.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var e=this.tech_.error();this.error(e)},a.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(e,t){this.ready((function(){if(e in Gi)return function(e,t,n,i){return t[n](e.reduce(Yi(n),i))}(this.middleware_,this.tech_,e,t);if(e in Xi)return qi(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw o(n),n}}),!0)},a.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Wi)return function(e,t,n){return e.reduceRight(Yi(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Xi)return qi(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw o("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw o("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw o(t),t}}},a.play=function(){var t=this,n=this.options_.Promise||e.Promise;return n?new n((function(e){t.play_(e)})):this.play_()},a.play_=function(e){var t=this;void 0===e&&(e=yt),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!tt&&!$e||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},a.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},a.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||at(0,0)},a.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=at(0,0)),e},a.bufferedPercent=function(){return st(this.buffered(),this.duration())},a.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},a.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},a.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},a.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,void this.toggleFullscreenClass_()):!!this.isFullscreen_},a.requestFullscreen=function(e){var n;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(re(t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(n=e)),yt(this.el_[this.fsApi_.requestFullscreen](n))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},a.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?yt(t[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},a.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=t.documentElement.style.overflow,re(t,"keydown",this.boundFullWindowOnEscKey_),t.documentElement.style.overflow="hidden",k(t.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(e){Ct.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullWindow=!1,ae(t,"keydown",this.boundFullWindowOnEscKey_),t.documentElement.style.overflow=this.docOrigOverflow,P(t.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in t)return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in t)return t.exitPictureInPicture()},a.handleKeyDown=function(e){var t,n,i=this.options_.userActions;i&&i.hotkeys&&(n=(t=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),t.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,e):this.handleHotkeys(e)))},a.handleHotkeys=function(e){var n=this.options_.userActions?this.options_.userActions.hotkeys:{},i=n.fullscreenKey,o=n.muteKey,l=void 0===o?function(e){return Ct.isEventKey(e,"m")}:o,r=n.playPauseKey,a=void 0===r?function(e){return Ct.isEventKey(e,"k")||Ct.isEventKey(e,"Space")}:r;if((void 0===i?function(e){return Ct.isEventKey(e,"f")}:i).call(this,e)){e.preventDefault(),e.stopPropagation();var s=Ae.getComponent("FullscreenToggle");!1!==t[this.fsApi_.fullscreenEnabled]&&s.prototype.handleClick.call(this,e)}else l.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ae.getComponent("MuteToggle").prototype.handleClick.call(this,e)):a.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ae.getComponent("PlayToggle").prototype.handleClick.call(this,e))},a.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var l=i[n],r=Hi.getTech(l);if(r||(r=Ae.getComponent(l)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else o.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map((function(e){return[e,Hi.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(o.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),l=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},r=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?l(e,i,(t=r,function(e,n){return t(n,e)})):l(i,e,r))||!1},a.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n,i,o,l=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):c(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Zi({src:t})]:c(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Zi(t)]:[];return t}(e);l.length?(this.changingSrc_=!0,this.cache_.sources=l,this.updateSourceCaches_(l[0]),i=l[0],o=function(e,n){var i;if(t.middleware_=n,t.cache_.sources=l,t.updateSourceCaches_(e),t.src_(e))return l.length>1?t.src(l.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());i=t.tech_,n.forEach((function(e){return e.setTech&&e.setTech(i)}))},(n=this).setTimeout((function(){return function e(t,n,i,o,l,r){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===l&&(l=[]),void 0===r&&(r=!1);var a=n[0],s=n.slice(1);if("string"==typeof a)e(t,zi[a],i,o,l,r);else if(a){var c=function(e,t){var n=$i[e.id()],i=null;if(null==n)return i=t(e),$i[e.id()]=[[t,i]],i;for(var o=0;o<n.length;o++){var l=n[o];l[0]===t&&(i=l[1])}return null===i&&(i=t(e),n.push([t,i])),i}(o,a);if(!c.setSource)return l.push(c),e(t,s,i,o,l,r);c.setSource(u({},t),(function(n,a){if(n)return e(t,s,i,o,l,r);l.push(c),e(a,t.type===a.type?s:zi[a.type],i,o,l,r)}))}else s.length?e(t,s,i,o,l,r):r?i(t,l):e(t,zi["*"],i,o,l,!0)}(i,zi[i.type],o,n)}),1)):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(e){var t,n=this,i=this.selectSource([e]);return!i||(t=this.techName_,Se(i.tech)!==Se(t)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var t=this,n=this.options_.Promise||e.Promise;this.paused()||!n?this.doReset_():yt(this.play().then((function(){return t.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ye(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},a.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},a.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},a.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},a.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&e.message&&e.message===this.localize(this.options_.notSupportedMessage)){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ft(e),this.addClass("vjs-error"),o.error("(CODE:"+this.error_.code+" "+ft.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(e){this.userActivity_=!0},a.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var e,t,n,i=ge(this,this.reportUserActivity);this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",(function(t){i(),this.clearInterval(e)}));var o,l=this.getChild("controlBar");!l||$e||qe||(l.on("mouseenter",(function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),l.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},a.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},a.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},a.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},a.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},a.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},a.languages=function(){return Ie(r.prototype.options_.languages,this.languages_)},a.toJSON=function(){var e=Ie(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=Ie(i)).player=void 0,e.tracks[n]=i}return e},a.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new kt(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<kl.length;n++){var i=kl[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(Pl[e]),this.addClass(Pl[i]),this.breakpoint_=i;break}}},a.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},a.breakpoints=function(e){return void 0===e?u(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=u({},wl,e),this.updateCurrentBreakpoint_(),u(this.breakpoints_))},a.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Pl[this.breakpoint_]||""},a.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Ie(e);var i=this.cache_.media,o=i.poster,l=i.src,r=i.textTracks;!i.artwork&&o&&(this.cache_.media.artwork=[{src:o,type:Ji(o)}]),l&&this.src(l),o&&this.poster(o),Array.isArray(r)&&r.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},a.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Ji(t.poster)}]),t}return Ie(this.cache_.media)},r.getTagSettings=function(e){var t={sources:[],tracks:[]},n=M(e),i=n["data-setup"];if(T(e,"vjs-fill")&&(n.fill=!0),T(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var l=function(e,t){var n,i=null;try{n=JSON.parse(e,void 0)}catch(r){i=r}return[i,n]}(i||"{}"),r=l[0],a=l[1];r&&o.error(r),u(n,a)}if(u(t,n),e.hasChildNodes())for(var s=e.childNodes,c=0,d=s.length;c<d;c++){var h=s[c],p=h.nodeName.toLowerCase();"source"===p?t.sources.push(M(h)):"track"===p&&t.tracks.push(M(h))}return t},a.flexNotSupported_=function(){var e=t.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},r}(Ae);di.names.forEach((function(e){var t=di[e];Ol.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Ol.players={};var Ml=e.navigator;Ol.prototype.options_={techOrder:Hi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ml&&(Ml.languages&&Ml.languages[0]||Ml.userLanguage||Ml.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Ol.prototype[e]=function(){return this.techGet_(e)}})),Cl.forEach((function(e){Ol.prototype["handleTech"+Se(e)+"_"]=function(){return this.trigger(e)}})),Ae.registerComponent("Player",Ol);var El={},xl=function(e){return El.hasOwnProperty(e)},Sl=function(e){return xl(e)?El[e]:void 0},Il=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Al=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Rl=function(e,t){return t.prototype.name=e,function(){Al(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=je(t,[this].concat(i));return this[e]=function(){return l},Al(this,l.getEventHash()),l}},Nl=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,Oe(this),delete this.trigger,Ee(this,this.constructor.defaultState),Il(t,this.name),this.dispose=ge(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),se(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Rl(e,El[e])},e.isBasic=function(t){var n="string"==typeof t?Sl(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(xl(t))o.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ol.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return El[t]=n,"plugin"!==t&&(Ol.prototype[t]=e.isBasic(n)?function(e,t){var n=function(){Al(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Il(this,e),Al(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Rl(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");xl(e)&&(delete El[e],delete Ol.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(El)),e.forEach((function(e){var n=Sl(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Sl(e);return t&&t.VERSION||""},e}();Nl.getPlugin=Sl,Nl.BASE_PLUGIN_NAME="plugin",Nl.registerPlugin("plugin",Nl),Ol.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Ol.prototype.hasPlugin=function(e){return!!xl(e)};var jl=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Dl(e,t,n){var i=Dl.getPlayer(e);if(i)return t&&o.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var l="string"==typeof e?z("#"+jl(e)):e;if(!m(l))throw new TypeError("The element or ID supplied is not valid. (videojs)");l.ownerDocument.defaultView&&l.ownerDocument.body.contains(l)||o.warn("The element supplied is not included in the DOM"),t=t||{},Dl.hooks("beforesetup").forEach((function(e){var n=e(l,Ie(t));c(n)&&!Array.isArray(n)?t=Ie(t,n):o.error("please return an object in beforesetup hooks")}));var r=Ae.getComponent("Player");return i=new r(l,t,n),Dl.hooks("setup").forEach((function(e){return e(i)})),i}if(Dl.hooks_={},Dl.hooks=function(e,t){return Dl.hooks_[e]=Dl.hooks_[e]||[],t&&(Dl.hooks_[e]=Dl.hooks_[e].concat(t)),Dl.hooks_[e]},Dl.hook=function(e,t){Dl.hooks(e,t)},Dl.hookOnce=function(e,t){Dl.hooks(e,[].concat(t).map((function(t){return function n(){return Dl.removeHook(e,n),t.apply(void 0,arguments)}})))},Dl.removeHook=function(e,t){var n=Dl.hooks(e).indexOf(t);return!(n<=-1||((Dl.hooks_[e]=Dl.hooks_[e].slice()).splice(n,1),0))},!0!==e.VIDEOJS_NO_DYNAMIC_STYLE&&f()){var Ll=z(".vjs-styles-defaults");if(!Ll){Ll=Y("vjs-styles-defaults");var Vl=z("head");Vl&&Vl.insertBefore(Ll,Vl.firstChild),Q(Ll,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return G(1,Dl),Dl.VERSION=n,Dl.options=Ol.prototype.options_,Dl.getPlayers=function(){return Ol.players},Dl.getPlayer=function(e){var t,n=Ol.players;if("string"==typeof e){var i=jl(e),o=n[i];if(o)return o;t=z("#"+i)}else t=e;if(m(t)){var l=t.player,r=t.playerId;if(l||n[r])return l||n[r]}},Dl.getAllPlayers=function(){return Object.keys(Ol.players).map((function(e){return Ol.players[e]})).filter(Boolean)},Dl.players=Ol.players,Dl.getComponent=Ae.getComponent,Dl.registerComponent=function(e,t){Hi.isTech(t)&&o.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ae.registerComponent.call(Ae,e,t)},Dl.getTech=Hi.getTech,Dl.registerTech=Hi.registerTech,Dl.use=function(e,t){zi[e]=zi[e]||[],zi[e].push(t)},Object.defineProperty(Dl,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Dl.middleware,"TERMINATOR",{value:Ki,writeable:!1,enumerable:!0}),Dl.browser=ot,Dl.TOUCH_ENABLED=it,Dl.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var o in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},Dl.mergeOptions=Ie,Dl.bind=ge,Dl.registerPlugin=Nl.registerPlugin,Dl.deregisterPlugin=Nl.deregisterPlugin,Dl.plugin=function(e,t){return o.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Nl.registerPlugin(e,t)},Dl.getPlugins=Nl.getPlugins,Dl.getPlugin=Nl.getPlugin,Dl.getPluginVersion=Nl.getPluginVersion,Dl.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),(Dl.options.languages=Ie(Dl.options.languages,((n={})[e]=t,n)))[e]},Dl.log=o,Dl.createLogger=l,Dl.createTimeRange=Dl.createTimeRanges=at,Dl.formatTime=co,Dl.setFormatTime=function(e){uo=e},Dl.resetFormatTime=function(){uo=so},Dl.parseUrl=Bt,Dl.isCrossOrigin=Ht,Dl.EventTarget=ve,Dl.on=re,Dl.one=ue,Dl.off=ae,Dl.trigger=se,Dl.xhr=Qn,Dl.TextTrack=ii,Dl.AudioTrack=oi,Dl.VideoTrack=li,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Dl[e]=function(){return o.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),K[e].apply(null,arguments)}})),Dl.computedStyle=h,Dl.dom=K,Dl.url=zt,Dl}(n("ZyuO"),n("zFeg"))},"7zRj":function(e,t,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},l=n(11);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=l),e.exports=i},"HUk+":function(e,t,n){"use strict";n("cKMx")},QmOX:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a}));var i=n("8Y7J"),o=n("SVse"),l=(n("1JpH"),i["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function r(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","root"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","glyphicon glyphicon-refresh glyphicon-refresh-animate"]],null,null,null,null,null))],null,null)}function a(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,r)),i["\u0275did"](1,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.loading)}),null)}},Trnl:function(e,t,n){"use strict";function i(){const e=f("volume");if(null!=e){const t=parseFloat(e);if(isNaN(t))return;return t}}function o(){const e=f("webtorrent_enabled");return null==e||"true"===e}function l(){const e=f("mute");if(null!=e)return"true"===e}function r(){const e=f("theater-enabled");return null!=e&&"true"===e}function a(e){return m("volume",e.toString())}function s(e){return m("mute",e.toString())}function u(e){return m("theater-enabled",e.toString())}function c(e){return m("average-bandwidth",e.toString())}function d(){const e=f("average-bandwidth");if(null!=e){const t=parseInt(e,10);if(isNaN(t))return;return t}}function h(e){return m("last-subtitle",e)}function p(){return f("last-subtitle")}n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return p}));const g="peertube-videojs-";function f(e){try{return localStorage.getItem(g+e)}catch(t){return}}function m(e,t){try{localStorage.setItem(g+e,t)}catch(n){}}},ZyuO:function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},aSIO:function(e,t,n){var i,o,l;l=function(e){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.25"}),(e.registerPlugin||e.plugin)("hotkeys",(function(t){function n(e){return"function"==typeof s?s(e):s}function i(e){null!=e&&"function"==typeof e.then&&e.then(null,(function(e){}))}var o=this,l=o.el(),r=document,a=(t=(e.mergeOptions||e.util.mergeOptions)({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},t||{})).volumeStep,s=t.seekStep,u=t.enableMute,c=t.enableVolumeScroll,d=t.enableHoverScroll,h=t.enableFullscreen,p=t.enableNumbers,g=t.enableJogStyle,f=t.alwaysCaptureHotkeys,m=t.enableModifiersForNumbers,v=t.enableInactiveFocus,y=t.skipInitialFocus,_=e.VERSION;l.hasAttribute("tabIndex")||l.setAttribute("tabIndex","-1"),l.style.outline="none",!f&&o.autoplay()||y||o.one("play",(function(){l.focus()})),v&&o.on("userinactive",(function(){var e=function(){clearTimeout(t)},t=setTimeout((function(){o.off("useractive",e);var t=r.activeElement,n=l.querySelector(".vjs-control-bar");t&&t.parentElement==n&&l.focus()}),10);o.one("useractive",e)})),o.on("play",(function(){var e=l.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var b=!1,C=l.querySelector(".vjs-volume-menu-button")||l.querySelector(".vjs-volume-panel");null!=C&&(C.onmouseover=function(){b=!0},C.onmouseout=function(){b=!1});var T=function(e){if(d)t=0;else var t=r.activeElement;if(o.controls()&&(f||t==l||t==l.querySelector(".vjs-tech")||t==l.querySelector(".iframeblocker")||t==l.querySelector(".vjs-control-bar")||b)&&c){e=window.event||e;var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==n?o.volume(o.volume()+a):-1==n&&o.volume(o.volume()-a)}};return o.on("keydown",(function(e){var s,c,d=e.which,v=e.preventDefault,y=o.duration();if(o.controls()){var _=r.activeElement;if(f||_==l||_==l.querySelector(".vjs-tech")||_==l.querySelector(".vjs-control-bar")||_==l.querySelector(".iframeblocker"))switch(function(e,n){return t.playPauseKey(e,n)?1:t.rewindKey(e,n)?2:t.forwardKey(e,n)?3:t.volumeUpKey(e,n)?4:t.volumeDownKey(e,n)?5:t.muteKey(e,n)?6:t.fullscreenKey(e,n)?7:void 0}(e,o)){case 1:v(),f&&e.stopPropagation(),o.paused()?i(o.play()):o.pause();break;case 2:s=!o.paused(),v(),s&&o.pause(),(c=o.currentTime()-n(e))<=0&&(c=0),o.currentTime(c),s&&i(o.play());break;case 3:s=!o.paused(),v(),s&&o.pause(),(c=o.currentTime()+n(e))>=y&&(c=s?y-.001:y),o.currentTime(c),s&&i(o.play());break;case 5:v(),g?(c=o.currentTime()-1,o.currentTime()<=1&&(c=0),o.currentTime(c)):o.volume(o.volume()-a);break;case 4:v(),g?((c=o.currentTime()+1)>=y&&(c=y),o.currentTime(c)):o.volume(o.volume()+a);break;case 6:u&&o.muted(!o.muted());break;case 7:h&&(o.isFullscreen()?o.exitFullscreen():o.requestFullscreen());break;default:if((d>47&&d<59||d>95&&d<106)&&(m||!(e.metaKey||e.ctrlKey||e.altKey))&&p){var b=48;d>95&&(b=96);var C=d-b;v(),o.currentTime(o.duration()*C*.1)}for(var T in t.customKeys){var k=t.customKeys[T];k&&k.key&&k.handler&&k.key(e)&&(v(),k.handler(o,t,e))}}}})),o.on("dblclick",(function(e){if(null!=_&&_<="7.1.0"&&o.controls()){var t=e.relatedTarget||e.toElement||r.activeElement;t!=l&&t!=l.querySelector(".vjs-tech")&&t!=l.querySelector(".iframeblocker")||h&&(o.isFullscreen()?o.exitFullscreen():o.requestFullscreen())}})),o.on("mousewheel",T),o.on("DOMMouseScroll",T),this}))},"undefined"!=typeof window&&window.videojs?l(window.videojs):(i=[n("6i9R")],void 0===(o=(function(e){return l(e.default||e)}).apply(t,i))||(e.exports=o))},lvud:function(e,t,n){"use strict";n.r(t);var i=n("8Y7J");class o{}var l=n("pMnS"),r=n("G0yt"),a=n("SVse"),s=n("kIzR"),u=n("fKnF"),c=n("ihI+"),d=n("l6JM"),h=n("1wmk"),p=n("3szM"),g=n("Vurf"),f=n("mOsc"),m=n("GiVz"),v=n("biPt"),y=n("yXFd"),_=n("QmOX"),b=n("1JpH"),C=n("iInd"),T=n("WHDg"),k=n("WMbD"),P=n("fgyJ"),w=n("fMqF"),O=n("MEIN"),M=n("37nT"),E=n("6RP5"),x=n("pyEO"),S=n("fR23"),I=n("LTwV"),A=n("hlYB"),R=n("j8ES");n("FOce");class N{}var j=i["\u0275crt"]({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{width:35px;height:35px;min-width:35px;min-height:35px;position:relative;margin-right:5px}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:0}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::-moz-focus-inner{border:0;padding:0}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;top:50%;left:50%;border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2)   img[_ngcontent-%COMP%]{height:60%;width:60%;border:2px solid var(--mainBackgroundColor);-webkit-transform:translateX(15%);transform:translateX(15%);position:relative;background-color:var(--mainBackgroundColor)}"]],data:{}});function D(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,3,"a",[["title","Ga naar kanaalpagina"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](2,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](3,2),(e()(),i["\u0275eld"](4,0,null,null,0,"img",[["alt","Channel avatar"]],[[8,"src",4]],null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,3,"a",[["title","Ga naar accountpagina"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](6,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](7,2),(e()(),i["\u0275eld"](8,0,null,null,0,"img",[["alt","Account avatar"]],[[8,"src",4]],null,null,null,null))],(function(e,t){var n=t.component,i=e(t,3,0,"/video-channels",n.video.byVideoChannel);e(t,2,0,i);var o=e(t,7,0,"/accounts",n.video.byAccount);e(t,6,0,o)}),(function(e,t){var n=t.component;e(t,1,0,i["\u0275nov"](t,2).target,i["\u0275nov"](t,2).href),e(t,4,0,n.video.videoChannelAvatarUrl),e(t,5,0,i["\u0275nov"](t,6).target,i["\u0275nov"](t,6).href),e(t,8,0,n.video.accountAvatarUrl)}))}var L=n("x19x"),V=n("jxlV"),B=n("VNja");class F{constructor(){this.timestampClicked=new i.EventEmitter}onClick(e){const t=e.target;if(t.hasAttribute("href")){const n=document.createElement("a");if(n.href=t.getAttribute("href"),n.host!==window.location.host)return;const i=new URLSearchParams(n.search);if(i.has("start")){const e=["h","m","s"],t=i.get("start").match(new RegExp("(\\d{1,9}["+e.join("")+"])","g")).map(e=>e.includes("h")?3600*parseInt(e,10):e.includes("m")?60*parseInt(e,10):parseInt(e,10)).reduce((e,t)=>e+t);this.timestampClicked.emit(t)}e.preventDefault()}}}var U=n("KdfM"),H=n("lKr9"),z=n("vQJr"),$=n("Lc8z"),K=n("68JB"),q=n("Qmuk"),W=n("s7LF"),G=n("QqYL"),X=(n("ey9i"),n("M0ag")),Y=(n("OwH3"),n("aaN0"),n("wJRF")),Q=n("HB7e");class J{constructor(e){if(this.id=e.id,this.url=e.url,this.text=e.text,this.threadId=e.threadId,this.inReplyToCommentId=e.inReplyToCommentId,this.videoId=e.videoId,this.createdAt=new Date(e.createdAt.toString()),this.updatedAt=new Date(e.updatedAt.toString()),this.deletedAt=e.deletedAt?new Date(e.deletedAt.toString()):null,this.isDeleted=e.isDeleted,this.account=e.account,this.totalRepliesFromVideoAuthor=e.totalRepliesFromVideoAuthor,this.totalReplies=e.totalReplies,this.account){this.by=Y.a.CREATE_BY_STRING(this.account.name,this.account.host),this.accountAvatarUrl=Y.a.GET_ACTOR_AVATAR_URL(this.account);const e=Object(Q.c)(),t=new URL(e).host;this.isLocal=this.account.host.trim()===t}}}var Z=n("lJxs"),ee=n("JIr8"),te=n("IheW"),ne=n("XRCn"),ie=n("AytR");n("hB5V");let oe=(()=>{class e{constructor(e,t,n){this.authHttp=e,this.restExtractor=t,this.restService=n}addCommentThread(t,n){const i=e.BASE_VIDEO_URL+t+"/comment-threads",o=Object(Q.h)(n,"text");return this.authHttp.post(i,o).pipe(Object(Z.a)(e=>this.extractVideoComment(e.comment)),Object(ee.a)(e=>this.restExtractor.handleError(e)))}addCommentReply(t,n,i){const o=e.BASE_VIDEO_URL+t+"/comments/"+n,l=Object(Q.h)(i,"text");return this.authHttp.post(o,l).pipe(Object(Z.a)(e=>this.extractVideoComment(e.comment)),Object(ee.a)(e=>this.restExtractor.handleError(e)))}getVideoCommentThreads(t){const{videoId:n,componentPagination:i,sort:o}=t,l=this.restService.componentPaginationToRestPagination(i);let r=new te.i;return r=this.restService.addRestGetParams(r,l,o),this.authHttp.get(e.BASE_VIDEO_URL+n+"/comment-threads",{params:r}).pipe(Object(Z.a)(e=>this.extractVideoComments(e)),Object(ee.a)(e=>this.restExtractor.handleError(e)))}getVideoThreadComments(t){const{videoId:n,threadId:i}=t;return this.authHttp.get(`${e.BASE_VIDEO_URL+n}/comment-threads/${i}`).pipe(Object(Z.a)(e=>this.extractVideoCommentTree(e)),Object(ee.a)(e=>this.restExtractor.handleError(e)))}deleteVideoComment(t,n){return this.authHttp.delete(`${e.BASE_VIDEO_URL+t}/comments/${n}`).pipe(Object(Z.a)(this.restExtractor.extractDataBool),Object(ee.a)(e=>this.restExtractor.handleError(e)))}getVideoCommentsFeeds(t){const n=[{format:ne.a.RSS,label:"rss 2.0",url:e.BASE_FEEDS_URL+ne.a.RSS.toLowerCase()},{format:ne.a.ATOM,label:"atom 1.0",url:e.BASE_FEEDS_URL+ne.a.ATOM.toLowerCase()},{format:ne.a.JSON,label:"json 1.0",url:e.BASE_FEEDS_URL+ne.a.JSON.toLowerCase()}];if(void 0!==t)for(const e of n)e.url+="?videoId="+t;return n}extractVideoComment(e){return new J(e)}extractVideoComments(e){const t=e.data,n=e.total,i=[];for(const o of t)i.push(new J(o));return{data:i,total:n}}extractVideoCommentTree(e){return e?(e.comment=new J(e.comment),e.children.forEach(e=>this.extractVideoCommentTree(e)),e):e}}return e.BASE_VIDEO_URL=ie.a.apiUrl+"/api/v1/videos/",e.BASE_FEEDS_URL=ie.a.apiUrl+"/feeds/video-comments.",e})();var le=n("JtBY");n("Rtfg");class re extends X.a{constructor(e,t,n,o,l,r,a){super(),this.formValidatorService=e,this.videoCommentValidatorsService=t,this.notifier=n,this.videoCommentService=o,this.authService=l,this.modalService=r,this.router=a,this.focusOnInit=!1,this.commentCreated=new i.EventEmitter,this.cancel=new i.EventEmitter,this.addingComment=!1}ngOnInit(){if(this.buildForm({text:this.videoCommentValidatorsService.VIDEO_COMMENT_TEXT}),this.user&&(!0===this.focusOnInit&&this.textareaElement.nativeElement.focus(),this.parentComment)){const e=this.parentComments.filter(e=>e.account.id!==this.user.account.id).map(e=>"@"+e.by),t=new Set(e),n=Array.from(t).join(" ")+" ";this.form.patchValue({text:n})}}onValidKey(){this.check(),this.form.valid&&this.formValidated()}openVisitorModal(e){null===this.user&&(e.srcElement.blur(),e.preventDefault(),this.modalService.open(this.visitorModal))}hideVisitorModal(){this.modalService.dismissAll()}formValidated(){if(this.addingComment)return;this.addingComment=!0;const e=this.form.value;let t;(t=this.parentComment?this.addCommentReply(e):this.addCommentThread(e)).subscribe(e=>{this.addingComment=!1,this.commentCreated.emit(e),this.form.reset()},e=>{this.addingComment=!1,this.notifier.error(e.text)})}isAddButtonDisplayed(){return this.form.value.text}getUri(){return window.location.href}getAvatarUrl(){return this.user?this.user.accountAvatarUrl:window.location.origin+"/client/assets/images/default-avatar.png"}gotoLogin(){this.hideVisitorModal(),this.router.navigate(["/login"])}cancelCommentReply(){this.cancel.emit(null)}addCommentReply(e){return this.videoCommentService.addCommentReply(this.video.id,this.parentComment.id,e)}addCommentThread(e){return this.videoCommentService.addCommentThread(this.video.id,e)}}var ae=i["\u0275crt"]({encapsulation:0,styles:[['form[_ngcontent-%COMP%]{margin-bottom:30px}.avatar-and-textarea[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:10px}.avatar-and-textarea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px;vertical-align:top;margin-right:10px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;margin:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:inline-block;width:100%;background:var(--inputColor);border:1px solid #c6c6c6;border-radius:3px;height:60px;padding:5px 15px;font-size:15px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}@media screen and (max-width:100%){.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.cancel-button[_ngcontent-%COMP%]{font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background:0 0}.comment-buttons[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{color:#fff;background-color:var(--mainColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{color:#fff;background-color:var(--mainHoverColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.disabled, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child[disabled]{cursor:default;color:#fff;background-color:#c6c6c6}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}@media screen and (max-width:600px){.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:14px!important}textarea[_ngcontent-%COMP%]{padding:5px!important}}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;outline:0}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000000"]{fill:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000000"]{stroke:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000000"]{stop-color:#fff}.modal-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;margin-bottom:20px}']],data:{}});function se(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","form-error"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.formErrors.text)}))}function ue(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","cancel-button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.cancelCommentReply()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["\nAnnuleren"]))],null,null)}function ce(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"button",[],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](3,{disabled:0}),(e()(),i["\u0275ted"](-1,null,[" Reply "]))],(function(e,t){var n=t.component,i=e(t,3,0,!n.form.valid||n.addingComment);e(t,2,0,i)}),null)}function de(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Je bent een stap verwijderd van reageren"])),(e()(),i["\u0275eld"](3,0,null,null,0,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.hideVisitorModal()&&i),i}),null,null)),(e()(),i["\u0275eld"](4,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Als je een account hebt op deze instantie, kan je inloggen: "])),(e()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","btn btn-sm mx-3"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.gotoLogin()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["log in om te reageren"])),(e()(),i["\u0275eld"](9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Otherwise, you can comment using an account on any ActivityPub-compatible instance. On most platforms, you can find the video by typing its URL in the search bar and then comment it from within the software's interface. "])),(e()(),i["\u0275eld"](11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["\nAls je een account op Mastodon of Pleroma hebt, kan je het direct openen vanuit hun interface:"])),(e()(),i["\u0275eld"](13,0,null,null,1,"my-remote-subscribe",[],null,null,null,$.b,$.a)),i["\u0275did"](14,114688,null,0,K.a,[p.a,q.a],{uri:[0,"uri"],interact:[1,"interact"]},null),(e()(),i["\u0275eld"](15,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(e()(),i["\u0275eld"](16,0,null,null,1,"span",[["class","action-button action-button-cancel"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.hideVisitorModal()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["\nAnnuleren"]))],(function(e,t){e(t,14,0,t.component.getUri(),!0)}),null)}function he(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{visitorModal:0}),i["\u0275qud"](402653184,2,{textareaElement:0}),(e()(),i["\u0275eld"](2,0,null,null,25,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0,l=e.component;return"submit"===t&&(o=!1!==i["\u0275nov"](e,4).onSubmit(n)&&o),"reset"===t&&(o=!1!==i["\u0275nov"](e,4).onReset()&&o),"ngSubmit"===t&&(o=!1!==l.formValidated()&&o),o}),null,null)),i["\u0275did"](3,16384,null,0,W["\u0275angular_packages_forms_forms_z"],[],null,null),i["\u0275did"](4,540672,null,0,W.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),i["\u0275prd"](2048,null,W.ControlContainer,null,[W.FormGroupDirective]),i["\u0275did"](6,16384,null,0,W.NgControlStatusGroup,[[4,W.ControlContainer]],null,null),(e()(),i["\u0275eld"](7,0,null,null,15,"div",[["class","avatar-and-textarea"]],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,null,0,"img",[["alt","Avatar"]],[[8,"src",4]],null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,[[2,0],["textarea",1]],null,10,"textarea",[["formControlName","text"],["myAutoResize",""],["placeholder","Voeg reactie toe..."]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"rows",0],[4,"overflow",null]],[[null,"click"],[null,"keyup.control.enter"],[null,"keyup.meta.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0,l=e.component;return"input"===t&&(o=!1!==i["\u0275nov"](e,14)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==i["\u0275nov"](e,14).onTouched()&&o),"compositionstart"===t&&(o=!1!==i["\u0275nov"](e,14)._compositionStart()&&o),"compositionend"===t&&(o=!1!==i["\u0275nov"](e,14)._compositionEnd(n.target.value)&&o),"input"===t&&(o=!1!==i["\u0275nov"](e,19).resize()&&o),"click"===t&&(o=!1!==l.openVisitorModal(n)&&o),"keyup.control.enter"===t&&(o=!1!==l.onValidKey()&&o),"keyup.meta.enter"===t&&(o=!1!==l.onValidKey()&&o),o}),null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](12,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](13,{"input-error":0}),i["\u0275did"](14,16384,null,0,W.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,W.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[W.DefaultValueAccessor]),i["\u0275did"](16,671744,null,0,W.FormControlName,[[3,W.ControlContainer],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR],[2,W["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,W.NgControl,null,[W.FormControlName]),i["\u0275did"](18,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),i["\u0275did"](19,4210688,null,0,G.a,[i.ElementRef],null,null),(e()(),i["\u0275ted"](-1,null,["\n      "])),(e()(),i["\u0275and"](16777216,null,null,1,null,se)),i["\u0275did"](22,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](23,0,null,null,4,"div",[["class","comment-buttons"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ue)),i["\u0275did"](25,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ce)),i["\u0275did"](27,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,[[1,2],["visitorModal",2]],null,0,null,de))],(function(e,t){var n=t.component;e(t,4,0,n.form);var i=e(t,13,0,n.formErrors.text);e(t,12,0,i),e(t,16,0,"text"),e(t,22,0,n.formErrors.text),e(t,25,0,n.isAddButtonDisplayed()),e(t,27,0,n.isAddButtonDisplayed())}),(function(e,t){var n=t.component;e(t,2,0,i["\u0275nov"](t,6).ngClassUntouched,i["\u0275nov"](t,6).ngClassTouched,i["\u0275nov"](t,6).ngClassPristine,i["\u0275nov"](t,6).ngClassDirty,i["\u0275nov"](t,6).ngClassValid,i["\u0275nov"](t,6).ngClassInvalid,i["\u0275nov"](t,6).ngClassPending),e(t,8,0,n.getAvatarUrl()),e(t,10,0,null===n.user,i["\u0275nov"](t,18).ngClassUntouched,i["\u0275nov"](t,18).ngClassTouched,i["\u0275nov"](t,18).ngClassPristine,i["\u0275nov"](t,18).ngClassDirty,i["\u0275nov"](t,18).ngClassValid,i["\u0275nov"](t,18).ngClassInvalid,i["\u0275nov"](t,18).ngClassPending,i["\u0275nov"](t,19).rows,i["\u0275nov"](t,19).overflow)}))}var pe=n("mrSG"),ge=n("MpoC"),fe=n("l/z6"),me=(n("V8il"),n("joIj"));class ve{constructor(e,t,n,o,l){this.markdownService=e,this.authService=t,this.accountService=n,this.userService=o,this.notifier=l,this.parentComments=[],this.highlightedComment=!1,this.firstInThread=!1,this.wantedToDelete=new i.EventEmitter,this.wantedToReply=new i.EventEmitter,this.threadCreated=new i.EventEmitter,this.resetReply=new i.EventEmitter,this.timestampClicked=new i.EventEmitter,this.sanitizedCommentHTML="",this.newParentComments=[]}get user(){return this.authService.getUser()}ngOnInit(){this.init()}ngOnChanges(){this.init()}onCommentReplyCreated(e){this.commentTree||(this.commentTree={comment:this.comment,children:[]},this.threadCreated.emit(this.commentTree)),this.commentTree.children.unshift({comment:e,children:[]}),this.resetReply.emit()}onWantToReply(e){this.wantedToReply.emit(e||this.comment)}onWantToDelete(e){this.wantedToDelete.emit(e||this.comment)}isUserLoggedIn(){return this.authService.isLoggedIn()}onResetReply(){this.resetReply.emit()}handleTimestampClicked(e){this.timestampClicked.emit(e)}isRemovableByUser(){return this.comment.account&&this.isUserLoggedIn()&&(this.user.account.id===this.comment.account.id||this.user.hasRight(ge.d.REMOVE_ANY_VIDEO_COMMENT))}switchToDefaultAvatar(e){e.target.src=Y.a.GET_DEFAULT_AVATAR_URL()}getUserIfNeeded(e){e.userId&&this.authService.isLoggedIn()&&this.authService.getUser().hasRight(ge.d.MANAGE_USERS)&&this.userService.getUserWithCache(e.userId).subscribe(e=>this.commentUser=e,e=>this.notifier.error(e.message))}init(){return Object(pe.a)(this,void 0,void 0,(function*(){const e=yield this.markdownService.textMarkdownToHTML(this.comment.text,!0);this.sanitizedCommentHTML=yield this.markdownService.processVideoTimestamps(e),this.newParentComments=this.parentComments.concat([this.comment]),this.commentAccount=new me.a(this.comment.account),this.getUserIfNeeded(this.commentAccount)}))}}var ye=n("45hh"),_e=i["\u0275crt"]({encapsulation:0,styles:[[".root-comment[_ngcontent-%COMP%]{font-size:15px;display:-webkit-box;display:flex}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{width:2px;height:100%;background-color:rgba(0,0,0,.05);margin:10px calc(1rem + 1px)}.root-comment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.root-comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:36px;height:36px;min-width:36px;min-height:36px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:1px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .highlighted-comment[_ngcontent-%COMP%]{display:inline-block;background-color:#f5f5f5;color:#3d3d3d;padding:0 5px;font-size:13px;margin-bottom:5px;font-weight:600;border-radius:3px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:4px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .video-author[_ngcontent-%COMP%]{height:20px;background-color:#888;border-radius:12px;margin-bottom:2px;max-width:100%;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;padding-right:6px;padding-left:6px;color:#fff!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]{word-break:break-all;color:var(--mainForegroundColor);font-weight:600;font-size:90%}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   .comment-account-fid[_ngcontent-%COMP%]{opacity:.6}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{font-size:90%;color:#585858;margin-left:5px;text-decoration:none}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url){color:var(--mainForegroundColor);font-weight:600}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):hover{text-decoration:none!important;outline:0!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     p{margin-bottom:.3rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html.comment-html-deleted[_ngcontent-%COMP%]{color:#585858;margin-bottom:1rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{margin-bottom:10px;display:-webkit-box;display:flex}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle{color:#585858;cursor:pointer;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-delete[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:hover{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .action-button{background-color:transparent;padding:0;font-weight:unset}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   my-video-comment-add[_ngcontent-%COMP%]     form{margin-top:1rem;margin-bottom:0}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:6px}@media screen and (max-width:1200px){.children[_ngcontent-%COMP%]{margin-left:-10px}}@media screen and (max-width:600px){.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:-20px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-left:2px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-left:0}}"]],data:{}});function be(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"a",[["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Avatar"],["class","comment-avatar"]],[[8,"src",4]],[[null,"error"]],(function(e,t,n){var i=!0;return"error"===t&&(i=!1!==e.component.switchToDefaultAvatar(n)&&i),i}),null,null))],null,(function(e,t){var n=t.component;e(t,0,0,n.comment.account.url),e(t,1,0,n.comment.accountAvatarUrl)}))}function Ce(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"span",[["class","comment-avatar"]],null,null,null,null,null))],null,null)}function Te(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","highlighted-comment"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Belichte reactie"]))],null,null)}function ke(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","comment-action-reply"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onWantToReply()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["Antwoord"]))],null,null)}function Pe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","comment-action-delete"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onWantToDelete()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["Verwijderen"]))],null,null)}function we(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,26,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Te)),i["\u0275did"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](3,0,null,null,14,"div",[["class","comment-account-date"]],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,7,"a",[["class","comment-account"],["rel","noopener noreferrer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,4,"span",[["class","comment-account-name"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](8,{"video-author":0}),(e()(),i["\u0275ted"](9,null,["",""])),(e()(),i["\u0275eld"](10,0,null,null,1,"span",[["class","comment-account-fid ml-1"]],null,null,null,null,null)),(e()(),i["\u0275ted"](11,null,["",""])),(e()(),i["\u0275eld"](12,0,null,null,5,"a",[["class","comment-date"]],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](13,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pod"](14,{threadId:0}),i["\u0275pad"](15,3),(e()(),i["\u0275ted"](16,null,["",""])),i["\u0275ppd"](17,1),(e()(),i["\u0275eld"](18,0,null,null,1,"div",[["class","comment-html"],["timestampRouteTransformer",""]],[[8,"innerHTML",1]],[[null,"timestampClicked"],[null,"click"]],(function(e,t,n){var o=!0,l=e.component;return"click"===t&&(o=!1!==i["\u0275nov"](e,19).onClick(n)&&o),"timestampClicked"===t&&(o=!1!==l.handleTimestampClicked(n)&&o),o}),null,null)),i["\u0275did"](19,16384,null,0,F,[],null,{timestampClicked:"timestampClicked"}),(e()(),i["\u0275eld"](20,0,null,null,6,"div",[["class","comment-actions"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ke)),i["\u0275did"](22,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Pe)),i["\u0275did"](24,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](25,0,null,null,1,"my-user-moderation-dropdown",[["buttonSize","small"],["label","Opties"],["placement","bottom-left auto"]],null,null,null,U.b,U.a)),i["\u0275did"](26,638976,null,0,H.a,[g.a,f.a,M.a,x.a,z.a,A.a,m.a],{user:[0,"user"],account:[1,"account"],buttonSize:[2,"buttonSize"],placement:[3,"placement"],label:[4,"label"]},null)],(function(e,t){var n=t.component;e(t,2,0,!0===n.highlightedComment);var i=e(t,8,0,n.video.account.id===n.comment.account.id);e(t,7,0,"comment-account-name",i);var o=e(t,15,0,"/videos/watch",n.video.uuid,e(t,14,0,n.comment.threadId));e(t,13,0,o),e(t,22,0,n.isUserLoggedIn()),e(t,24,0,n.isRemovableByUser()),e(t,26,0,n.commentUser,n.commentAccount,"small","bottom-left auto","Opties")}),(function(e,t){var n=t.component;e(t,4,0,n.comment.account.url),e(t,9,0,n.comment.account.displayName),e(t,11,0,n.comment.by),e(t,12,0,n.comment.createdAt,i["\u0275nov"](t,13).target,i["\u0275nov"](t,13).href);var o=i["\u0275unv"](t,16,0,e(t,17,0,i["\u0275nov"](t.parent,0),n.comment.createdAt));e(t,16,0,o),e(t,18,0,n.sanitizedCommentHTML)}))}function Oe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","comment-html comment-html-deleted"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["This comment has been deleted"]))],null,null)}function Me(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,8,"div",[["class","comment-account-date"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","comment-account"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Deleted"])),(e()(),i["\u0275eld"](4,0,null,null,5,"a",[["class","comment-date"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](5,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pod"](6,{threadId:0}),i["\u0275pad"](7,3),(e()(),i["\u0275ted"](8,null,["",""])),i["\u0275ppd"](9,1),(e()(),i["\u0275and"](16777216,null,null,1,null,Oe)),i["\u0275did"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component,i=e(t,7,0,"/videos/watch",n.video.uuid,e(t,6,0,n.comment.threadId));e(t,5,0,i),e(t,11,0,n.comment.isDeleted)}),(function(e,t){var n=t.component;e(t,4,0,i["\u0275nov"](t,5).target,i["\u0275nov"](t,5).href);var o=i["\u0275unv"](t,8,0,e(t,9,0,i["\u0275nov"](t.parent,0),n.comment.createdAt));e(t,8,0,o)}))}function Ee(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"my-video-comment-add",[],null,[[null,"commentCreated"],[null,"cancel"]],(function(e,t,n){var i=!0,o=e.component;return"commentCreated"===t&&(i=!1!==o.onCommentReplyCreated(n)&&i),"cancel"===t&&(i=!1!==o.onResetReply()&&i),i}),he,ae)),i["\u0275did"](1,114688,null,0,re,[p.a,le.a,f.a,oe,g.a,r.A,C.p],{user:[0,"user"],video:[1,"video"],parentComment:[2,"parentComment"],parentComments:[3,"parentComments"],focusOnInit:[4,"focusOnInit"]},{commentCreated:"commentCreated",cancel:"cancel"})],(function(e,t){var n=t.component;e(t,1,0,n.user,n.video,n.comment,n.newParentComments,!0)}),null)}function xe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"resetReply"],[null,"timestampClicked"]],(function(e,t,n){var i=!0,o=e.component;return"wantedToReply"===t&&(i=!1!==o.onWantToReply(n)&&i),"wantedToDelete"===t&&(i=!1!==o.onWantToDelete(n)&&i),"resetReply"===t&&(i=!1!==o.onResetReply()&&i),"timestampClicked"===t&&(i=!1!==o.handleTimestampClicked(n)&&i),i}),Ie,_e)),i["\u0275did"](2,638976,null,0,ve,[ye.a,g.a,fe.a,z.a,f.a],{video:[0,"video"],comment:[1,"comment"],parentComments:[2,"parentComments"],commentTree:[3,"commentTree"],inReplyToCommentId:[4,"inReplyToCommentId"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",resetReply:"resetReply",timestampClicked:"timestampClicked"})],(function(e,t){var n=t.component;e(t,2,0,n.video,t.context.$implicit.comment,n.newParentComments,t.context.$implicit,n.inReplyToCommentId)}),null)}function Se(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","children"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,xe)),i["\u0275did"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.commentTree.children)}),null)}function Ie(e){return i["\u0275vid"](0,[i["\u0275pid"](0,k.a,[m.a]),(e()(),i["\u0275eld"](1,0,null,null,20,"div",[["class","root-comment"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,3,"div",[["class","left"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,be)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](5,0,null,null,0,"div",[["class","vertical-border"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,15,"div",[["class","right"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](8,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](9,{"mb-3":0}),(e()(),i["\u0275and"](16777216,null,null,1,null,Ce)),i["\u0275did"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](12,0,null,null,9,"div",[["class","comment"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,we)),i["\u0275did"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Me)),i["\u0275did"](16,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ee)),i["\u0275did"](18,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Se)),i["\u0275did"](20,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),i["\u0275ncd"](null,0)],(function(e,t){var n=t.component;e(t,4,0,!n.comment.isDeleted);var i=e(t,9,0,n.firstInThread);e(t,8,0,"right",i),e(t,11,0,n.comment.isDeleted),e(t,14,0,!n.comment.isDeleted),e(t,16,0,n.comment.isDeleted),e(t,18,0,!n.comment.isDeleted&&n.isUserLoggedIn()&&n.inReplyToCommentId===n.comment.id),e(t,20,0,n.commentTree)}),null)}var Ae=n("F3OD"),Re=n("WMch"),Ne=n("MGin"),je=n("XNiG"),De=n("6dmf");class Le{constructor(e,t,n,o,l,r,a){this.authService=e,this.notifier=t,this.confirmService=n,this.videoCommentService=o,this.activatedRoute=l,this.i18n=r,this.hooks=a,this.timestampClicked=new i.EventEmitter,this.comments=[],this.sort="-createdAt",this.componentPagination={currentPage:1,itemsPerPage:10,totalItems:null},this.threadComments={},this.threadLoading={},this.syndicationItems=[],this.onDataSubject=new je.a}ngOnInit(){this.sub=this.activatedRoute.params.subscribe(e=>{e.threadId&&this.processHighlightedThread(+e.threadId)})}ngOnChanges(e){e.video&&this.resetVideo()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}viewReplies(e,t=!1){this.threadLoading[e]=!0;const n={videoId:this.video.id,threadId:e};this.hooks.wrapObsFun(this.videoCommentService.getVideoThreadComments.bind(this.videoCommentService),n,"video-watch","filter:api.video-watch.video-thread-replies.list.params","filter:api.video-watch.video-thread-replies.list.result").subscribe(n=>{this.threadComments[e]=n,this.threadLoading[e]=!1,this.hooks.runAction("action:video-watch.video-thread-replies.loaded","video-watch",{data:n}),t&&(this.highlightedThread=new J(n.comment),setTimeout(()=>this.commentHighlightBlock.nativeElement.scrollIntoView(),0))},e=>this.notifier.error(e.message))}loadMoreThreads(){const e={videoId:this.video.id,componentPagination:this.componentPagination,sort:this.sort};this.hooks.wrapObsFun(this.videoCommentService.getVideoCommentThreads.bind(this.videoCommentService),e,"video-watch","filter:api.video-watch.video-threads.list.params","filter:api.video-watch.video-threads.list.result").subscribe(e=>{this.comments=this.comments.concat(e.data),this.componentPagination.totalItems=e.total,this.onDataSubject.next(e.data),this.hooks.runAction("action:video-watch.video-threads.loaded","video-watch",{data:this.componentPagination})},e=>this.notifier.error(e.message))}onCommentThreadCreated(e){this.comments.unshift(e)}onWantedToReply(e){this.inReplyToCommentId=e.id}onResetReply(){this.inReplyToCommentId=void 0}onThreadCreated(e){this.viewReplies(e.comment.id)}handleSortChange(e){this.sort!==e&&(this.sort=e,this.resetVideo())}handleTimestampClicked(e){this.timestampClicked.emit(e)}onWantedToDelete(e){return Object(pe.a)(this,void 0,void 0,(function*(){let t="Do you really want to delete this comment?";t+=this.i18n(e.isLocal?" The deletion will be sent to remote instances, so they remove the comment too.":" It is a remote comment, so the deletion will only be effective on your instance."),!1!==(yield this.confirmService.confirm(t,this.i18n("Delete")))&&this.videoCommentService.deleteVideoComment(e.videoId,e.id).subscribe(()=>{this.softDeleteComment(e),this.highlightedThread.id===e.id&&(this.highlightedThread=void 0)},e=>this.notifier.error(e.message))}))}isUserLoggedIn(){return this.authService.isLoggedIn()}onNearOfBottom(){Object(De.a)(this.componentPagination)&&(this.componentPagination.currentPage++,this.loadMoreThreads())}softDeleteComment(e){e.isDeleted=!0,e.deletedAt=new Date,e.text="",e.account=null}resetVideo(){!0===this.video.commentsEnabled&&(this.highlightedThread=null,this.comments=[],this.threadComments={},this.threadLoading={},this.inReplyToCommentId=void 0,this.componentPagination.currentPage=1,this.componentPagination.totalItems=null,this.syndicationItems=this.videoCommentService.getVideoCommentsFeeds(this.video.uuid),this.loadMoreThreads())}processHighlightedThread(e){this.highlightedThread=this.comments.find(t=>t.id===e),this.viewReplies(e,!0)}}var Ve=i["\u0275crt"]({encapsulation:0,styles:[["#highlighted-comment[_ngcontent-%COMP%]{margin-bottom:25px}.view-replies[_ngcontent-%COMP%]{font-weight:600;font-size:15px;cursor:pointer}.comment-thread-loading[_ngcontent-%COMP%], .glyphicon[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;font-size:13px}.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-right:0}#dropdownSortComments[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;border:none;-webkit-transform:translateY(-7%);transform:translateY(-7%)}my-feed[_ngcontent-%COMP%]{display:inline-block;margin-left:5px}@media screen and (max-width:600px){.view-replies[_ngcontent-%COMP%]{margin-left:46px}}@media screen and (max-width:450px){.view-replies[_ngcontent-%COMP%]{font-size:14px}}"]],data:{}});function Be(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Fe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["1 Comment"]))],null,null)}function Ue(e){return i["\u0275vid"](0,[(e()(),i["\u0275ted"](0,null,[""," Comments"]))],null,(function(e,t){e(t,0,0,t.component.componentPagination.totalItems)}))}function He(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,Fe)),i["\u0275did"](1,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),i["\u0275and"](0,[["manyComments",2]],null,0,null,Ue))],(function(e,t){e(t,1,0,1===t.component.componentPagination.totalItems,i["\u0275nov"](t,2))}),null)}function ze(e){return i["\u0275vid"](0,[(e()(),i["\u0275ted"](-1,null,["Comments"]))],null,null)}function $e(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Geen reacties"]))],null,null)}function Ke(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"threadCreated"],[null,"resetReply"],[null,"timestampClicked"]],(function(e,t,n){var i=!0,o=e.component;return"wantedToReply"===t&&(i=!1!==o.onWantedToReply(n)&&i),"wantedToDelete"===t&&(i=!1!==o.onWantedToDelete(n)&&i),"threadCreated"===t&&(i=!1!==o.onThreadCreated(n)&&i),"resetReply"===t&&(i=!1!==o.onResetReply()&&i),"timestampClicked"===t&&(i=!1!==o.handleTimestampClicked(n)&&i),i}),Ie,_e)),i["\u0275did"](1,638976,null,0,ve,[ye.a,g.a,fe.a,z.a,f.a],{video:[0,"video"],comment:[1,"comment"],commentTree:[2,"commentTree"],inReplyToCommentId:[3,"inReplyToCommentId"],highlightedComment:[4,"highlightedComment"],firstInThread:[5,"firstInThread"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"})],(function(e,t){var n=t.component;e(t,1,0,n.video,n.highlightedThread,n.threadComments[n.highlightedThread.id],n.inReplyToCommentId,!0,!0)}),null)}function qe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function We(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" View "," replies from "," and others "]))],null,(function(e,t){var n=t.component;e(t,1,0,t.parent.parent.parent.parent.context.$implicit.totalReplies,(null==n.video?null:null==n.video.account?null:n.video.account.displayName)||"the author")}))}function Ge(e){return i["\u0275vid"](0,[(e()(),i["\u0275ted"](0,null,[" View "," replies from "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,t.parent.parent.parent.parent.context.$implicit.totalReplies,(null==n.video?null:null==n.video.account?null:n.video.account.displayName)||"the author")}))}function Xe(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,We)),i["\u0275did"](1,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),i["\u0275and"](0,[["onlyAuthorComments",2]],null,0,null,Ge))],(function(e,t){e(t,1,0,t.parent.parent.parent.context.$implicit.totalReplies!==t.parent.parent.parent.context.$implicit.totalRepliesFromVideoAuthor,i["\u0275nov"](t,2))}),null)}function Ye(e){return i["\u0275vid"](0,[(e()(),i["\u0275ted"](0,null,["View "," replies"]))],null,(function(e,t){e(t,0,0,t.parent.parent.parent.context.$implicit.totalReplies)}))}function Qe(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","view-replies mb-2"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.viewReplies(e.parent.parent.context.$implicit.id)&&i),i}),null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,qe)),i["\u0275did"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),i["\u0275and"](0,[["hasAuthorComments",2]],null,0,null,Xe)),(e()(),i["\u0275and"](0,[["noAuthorComments",2]],null,0,null,Ye)),(e()(),i["\u0275eld"](6,0,null,null,1,"my-small-loader",[["class","comment-thread-loading ml-1"]],null,null,null,_.b,_.a)),i["\u0275did"](7,49152,null,0,b.a,[],{loading:[0,"loading"]},null)],(function(e,t){var n=t.component;e(t,3,0,t.parent.parent.context.$implicit.totalRepliesFromVideoAuthor>0,i["\u0275nov"](t,4),i["\u0275nov"](t,5)),e(t,7,0,n.threadLoading[t.parent.parent.context.$implicit.id])}),null)}function Je(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"my-video-comment",[],null,[[null,"wantedToReply"],[null,"wantedToDelete"],[null,"threadCreated"],[null,"resetReply"],[null,"timestampClicked"]],(function(e,t,n){var i=!0,o=e.component;return"wantedToReply"===t&&(i=!1!==o.onWantedToReply(n)&&i),"wantedToDelete"===t&&(i=!1!==o.onWantedToDelete(n)&&i),"threadCreated"===t&&(i=!1!==o.onThreadCreated(n)&&i),"resetReply"===t&&(i=!1!==o.onResetReply()&&i),"timestampClicked"===t&&(i=!1!==o.handleTimestampClicked(n)&&i),i}),Ie,_e)),i["\u0275did"](1,638976,null,0,ve,[ye.a,g.a,fe.a,z.a,f.a],{video:[0,"video"],comment:[1,"comment"],commentTree:[2,"commentTree"],inReplyToCommentId:[3,"inReplyToCommentId"],firstInThread:[4,"firstInThread"]},{wantedToDelete:"wantedToDelete",wantedToReply:"wantedToReply",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"}),(e()(),i["\u0275and"](16777216,null,0,1,null,Qe)),i["\u0275did"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.video,t.parent.context.$implicit,n.threadComments[t.parent.context.$implicit.id],n.inReplyToCommentId,t.parent.context.index+1!==n.comments.length),e(t,3,0,0!==t.parent.context.$implicit.totalReplies&&!n.threadComments[t.parent.context.$implicit.id])}),null)}function Ze(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Je)),i["\u0275did"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.highlightedThread||t.context.$implicit.id!==n.highlightedThread.id)}),null)}function et(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"my-video-comment-add",[],null,[[null,"commentCreated"]],(function(e,t,n){var i=!0;return"commentCreated"===t&&(i=!1!==e.component.onCommentThreadCreated(n)&&i),i}),he,ae)),i["\u0275did"](1,114688,null,0,re,[p.a,le.a,f.a,oe,g.a,r.A,C.p],{user:[0,"user"],video:[1,"video"]},{commentCreated:"commentCreated"}),(e()(),i["\u0275and"](16777216,null,null,1,null,$e)),i["\u0275did"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](4,0,null,null,6,"div",[["class","comment-threads"],["myInfiniteScroller",""]],null,[[null,"nearOfBottom"]],(function(e,t,n){var i=!0;return"nearOfBottom"===t&&(i=!1!==e.component.onNearOfBottom()&&i),i}),null,null)),i["\u0275did"](5,2310144,null,0,Ae.a,[i.ElementRef],{autoInit:[0,"autoInit"],dataObservable:[1,"dataObservable"]},{nearOfBottom:"nearOfBottom"}),(e()(),i["\u0275eld"](6,0,[[1,0],["commentHighlightBlock",1]],null,2,"div",[["id","highlighted-comment"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ke)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ze)),i["\u0275did"](10,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.user,n.video),e(t,3,0,0===n.componentPagination.totalItems&&0===n.comments.length),e(t,5,0,!0,n.onDataSubject.asObservable()),e(t,8,0,n.highlightedThread),e(t,10,0,n.comments)}),null)}function tt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Reacties zijn uitgeschakeld. "]))],null,null)}function nt(e){return i["\u0275vid"](0,[i["\u0275qud"](671088640,1,{commentHighlightBlock:0}),(e()(),i["\u0275eld"](1,0,null,null,30,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,25,"div",[["class","title-block"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,4,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Be)),i["\u0275did"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),i["\u0275and"](0,[["hasComments",2]],null,0,null,He)),(e()(),i["\u0275and"](0,[["noComments",2]],null,0,null,ze)),(e()(),i["\u0275eld"](8,0,null,null,1,"my-feed",[],null,null,null,Re.b,Re.a)),i["\u0275did"](9,49152,null,0,Ne.a,[],{syndicationItems:[0,"syndicationItems"]},null),(e()(),i["\u0275eld"](10,0,null,null,17,"div",[["class","d-inline-block ml-4"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),i["\u0275did"](11,1720320,null,3,r.s,[i.ChangeDetectorRef,r.u,a.DOCUMENT,i.NgZone,i.ElementRef,i.Renderer2,[2,r.qb]],null,null),i["\u0275qud"](603979776,2,{_menu:0}),i["\u0275qud"](603979776,3,{_menuElement:0}),i["\u0275qud"](603979776,4,{_anchor:0}),(e()(),i["\u0275eld"](15,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-sm btn-outline-secondary dropdown-toggle"],["id","dropdownSortComments"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,16).dropdown.toggle()&&o),"keydown.ArrowUp"===t&&(o=!1!==i["\u0275nov"](e,16).dropdown.onKeyDown(n)&&o),"keydown.ArrowDown"===t&&(o=!1!==i["\u0275nov"](e,16).dropdown.onKeyDown(n)&&o),"keydown.Home"===t&&(o=!1!==i["\u0275nov"](e,16).dropdown.onKeyDown(n)&&o),"keydown.End"===t&&(o=!1!==i["\u0275nov"](e,16).dropdown.onKeyDown(n)&&o),o}),null,null)),i["\u0275did"](16,16384,null,0,r.y,[r.s,i.ElementRef],null,null),i["\u0275prd"](2048,[[4,4]],r.t,null,[r.y]),(e()(),i["\u0275ted"](-1,null,[" Sort by "])),(e()(),i["\u0275eld"](19,0,[[3,0]],null,8,"div",[["aria-labelledby","dropdownSortComments"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(e,t,n){var o=!0;return"keydown.ArrowUp"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),"keydown.ArrowDown"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),"keydown.Home"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),"keydown.End"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),"keydown.Enter"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),"keydown.Space"===t&&(o=!1!==i["\u0275nov"](e,20).dropdown.onKeyDown(n)&&o),o}),null,null)),i["\u0275did"](20,16384,[[2,4]],1,r.w,[r.s],null,null),i["\u0275qud"](603979776,5,{menuItems:1}),(e()(),i["\u0275eld"](22,0,null,null,2,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleSortChange("-createdAt")&&i),i}),null,null)),i["\u0275did"](23,16384,[[5,4]],0,r.v,[i.ElementRef],null,null),(e()(),i["\u0275ted"](-1,null,["Most recent first (default)"])),(e()(),i["\u0275eld"](25,0,null,null,2,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleSortChange("-totalReplies")&&i),i}),null,null)),i["\u0275did"](26,16384,[[5,4]],0,r.v,[i.ElementRef],null,null),(e()(),i["\u0275ted"](-1,null,["Most replies first"])),(e()(),i["\u0275and"](16777216,null,null,1,null,et)),i["\u0275did"](29,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,tt)),i["\u0275did"](31,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.componentPagination.totalItems>0,i["\u0275nov"](t,6),i["\u0275nov"](t,7)),e(t,9,0,n.syndicationItems),e(t,29,0,!0===n.video.commentsEnabled),e(t,31,0,!1===n.video.commentsEnabled)}),(function(e,t){e(t,10,0,i["\u0275nov"](t,11).isOpen()),e(t,15,0,i["\u0275nov"](t,16).dropdown.isOpen()),e(t,19,0,!0,i["\u0275nov"](t,20).dropdown.isOpen(),i["\u0275nov"](t,20).placement),e(t,22,0,i["\u0275nov"](t,23).disabled),e(t,25,0,i["\u0275nov"](t,26).disabled)}))}var it=n("SYik"),ot=n("bjBz"),lt=n("DKkR"),rt=n("4SI2"),at=(n("vCWj"),n("jtHE")),st=n("eIep"),ut=n("IzEk"),ct=n("UXun");class dt{constructor(e){this.recommendations=e,this.requestsForLoad$$=new at.a(1),this.recommendations$=this.requestsForLoad$$.pipe(Object(st.a)(t=>e.getRecommendations(t).pipe(Object(ut.a)(1))),Object(ct.a)()),this.hasRecommendations$=this.recommendations$.pipe(Object(Z.a)(e=>e.length>0))}requestNewRecommendations(e){this.requestsForLoad$$.next(e)}}var ht=n("fyHm");let pt=(()=>{class e{constructor(t,n,o,l,r){this.userService=t,this.authService=n,this.notifier=o,this.i18n=l,this.store=r,this.gotRecommendations=new i.EventEmitter,this.videos$=this.store.recommendations$,this.hasVideos$=this.store.hasRecommendations$,this.videos$.subscribe(e=>this.gotRecommendations.emit(e)),this.autoPlayNextVideo=this.authService.isLoggedIn()?this.authService.getUser().autoPlayNextVideo:"true"===ht.b.getItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)||!1,this.autoPlayNextVideoTooltip=this.i18n("When active, the next video is automatically played after the current one.")}ngOnChanges(){this.inputRecommendation&&this.store.requestNewRecommendations(this.inputRecommendation)}onVideoRemoved(){this.store.requestNewRecommendations(this.inputRecommendation)}switchAutoPlayNextVideo(){ht.b.setItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO,this.autoPlayNextVideo.toString()),this.authService.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideo:this.autoPlayNextVideo}).subscribe(()=>{this.authService.refreshUserInformation()},e=>this.notifier.error(e.message))}}return e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO="auto_play_next_video",e})();var gt=i["\u0275crt"]({encapsulation:0,styles:[[".title-page-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline;margin-bottom:25px;flex-wrap:wrap-reverse}.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-bottom:unset;margin-right:.5rem!important}.title-page-autoplay[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content;-webkit-box-align:center;align-items:center;margin-left:auto}.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem;text-transform:uppercase;font-size:85%;font-weight:600}  p-inputswitch{height:20px}  .ui-inputswitch{width:2.5em!important;height:1.45em!important}  .ui-inputswitch .ui-inputswitch-slider::before{height:1em!important;width:1em!important}  .ui-inputswitch-checked .ui-inputswitch-slider::before{-webkit-transform:translateX(1em)!important;transform:translateX(1em)!important}"]],data:{}});function ft(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,9,"div",[["class","title-page-autoplay"],["placement","bottom-right auto"]],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Automatisch afspelen"])),(e()(),i["\u0275eld"](4,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0,o=e.component;return"ngModelChange"===t&&(i=!1!==(o.autoPlayNextVideo=n)&&i),"ngModelChange"===t&&(i=!1!==o.switchAutoPlayNextVideo()&&i),i}),it.b,it.a)),i["\u0275did"](5,49152,null,0,ot.InputSwitch,[i.ChangeDetectorRef],null,null),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[ot.InputSwitch]),i["\u0275did"](7,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](9,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"bottom-right auto",n.autoPlayNextVideoTooltip),e(t,7,0,n.autoPlayNextVideo)}),(function(e,t){e(t,4,0,i["\u0275nov"](t,9).ngClassUntouched,i["\u0275nov"](t,9).ngClassTouched,i["\u0275nov"](t,9).ngClassPristine,i["\u0275nov"](t,9).ngClassDirty,i["\u0275nov"](t,9).ngClassValid,i["\u0275nov"](t,9).ngClassInvalid,i["\u0275nov"](t,9).ngClassPending)}))}function mt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function vt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-video-miniature",[],null,[[null,"videoBlacklisted"],[null,"videoRemoved"]],(function(e,t,n){var i=!0,o=e.component;return"videoBlacklisted"===t&&(i=!1!==o.onVideoRemoved()&&i),"videoRemoved"===t&&(i=!1!==o.onVideoRemoved()&&i),i}),lt.b,lt.a)),i["\u0275did"](2,114688,null,0,rt.a,[S.a,x.a,m.a,g.a,v.a,i.ChangeDetectorRef,i.LOCALE_ID],{user:[0,"user"],video:[1,"video"]},{videoBlacklisted:"videoBlacklisted",videoRemoved:"videoRemoved"}),(e()(),i["\u0275and"](16777216,null,null,1,null,mt)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.user,t.context.$implicit),e(t,4,0,!n.playlist&&0==t.context.index&&t.context.count>1)}),null)}function yt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,4,"div",[["class","title-page-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Other videos "])),(e()(),i["\u0275and"](16777216,null,null,1,null,ft)),i["\u0275did"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,vt)),i["\u0275did"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,5,0,!n.playlist),e(t,7,0,i["\u0275unv"](t,7,0,i["\u0275nov"](t,8).transform(n.videos$)))}),null)}function _t(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","other-videos"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,yt)),i["\u0275did"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),i["\u0275pid"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,2,0,i["\u0275unv"](t,2,0,i["\u0275nov"](t,3).transform(n.hasVideos$)))}),null)}class bt{constructor(e,t){this.markdownService=e,this.modalService=t,this.video=null,this.videoHTMLSupport=""}show(){this.modalService.open(this.modal),this.markdownService.enhancedMarkdownToHTML(this.video.support).then(e=>this.videoHTMLSupport=e)}}var Ct=i["\u0275crt"]({encapsulation:0,styles:[[".action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}"]],data:{}});function Tt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),i["\u0275ted"](2,null,["Support ",""])),(e()(),i["\u0275eld"](3,0,null,null,1,"my-global-icon",[["aria-label","Close"],["iconName","cross"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.close()&&i),i}),s.b,s.a)),i["\u0275did"](4,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](5,0,null,null,0,"div",[["class","modal-body"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","action-button action-button-cancel"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.close()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["Maybe later"]))],(function(e,t){e(t,4,0,"cross")}),(function(e,t){var n=t.component;e(t,2,0,n.video.account.displayName),e(t,5,0,n.videoHTMLSupport)}))}function kt(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{modal:0}),(e()(),i["\u0275and"](0,[[1,2],["modal",2]],null,0,null,Tt))],null,null)}var Pt=n("IbkX");class wt{constructor(e,t){this.notifier=e,this.i18n=t,this.value=""}activateCopiedMessage(){this.notifier.success(this.i18n("Copied"))}}var Ot=i["\u0275crt"]({encapsulation:0,styles:[["input.readonly[_ngcontent-%COMP%]{font-size:15px}"]],data:{}});function Mt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,[["urlInput",1]],null,0,"input",[["class","form-control readonly"],["readonly",""],["type","text"]],[[8,"value",0]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,1).select()&&o),o}),null,null)),(e()(),i["\u0275eld"](2,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,2,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var o=!0,l=e.component;return"click"===t&&(o=!1!==i["\u0275nov"](e,4).onClick(n.target)&&o),"click"===t&&(o=!1!==l.activateCopiedMessage()&&o),o}),null,null)),i["\u0275did"](4,212992,null,0,Pt.a,[Pt.c],{targetElm:[0,"targetElm"]},null),(e()(),i["\u0275eld"](5,0,null,null,0,"span",[["class","glyphicon glyphicon-copy"]],null,null,null,null,null))],(function(e,t){e(t,4,0,i["\u0275nov"](t,1))}),(function(e,t){e(t,1,0,t.component.value)}))}var Et,xt=n("8qHF"),St=n("ybWZ"),It=function(){function e(e,t){var n=this;this.el=e,this.platformId=t,this.allowEmptyString=!1,this.colordark="#000000",this.colorlight="#ffffff",this.level="M",this.hidetitle=!1,this.qrdata="",this.size=256,this.usesvg=!1,this.isValidQrCodeText=function(e){return!1===n.allowEmptyString?!(void 0===e||""===e):!(void 0===e)}}return e.prototype.ngAfterViewInit=function(){if(!Object(a.isPlatformServer)(this.platformId)){Et||(Et=n("0ERz"));try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("Empty QR Code data");this.qrcode=new Et(this.el.nativeElement,{colorDark:this.colordark,colorLight:this.colorlight,correctLevel:Et.CorrectLevel[this.level.toString()],height:this.size,text:this.qrdata||" ",useSVG:this.usesvg,width:this.size})}catch(e){console.error("Error generating QR Code: "+e.message)}}},e.prototype.ngOnChanges=function(e){if(this.qrcode){var t=e.qrdata;t&&this.isValidQrCodeText(t.currentValue)&&(this.qrcode.clear(),this.qrcode.makeCode(t.currentValue))}},e}(),At=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Rt(e){return i["\u0275vid"](2,[],null,null)}var Nt=n("9AJC"),jt=n("igG+"),Dt=n("btCD"),Lt=n("H9+z");class Vt{constructor(e){this.modalService=e,this.video=null,this.videoCaptions=[],this.playlist=null,this.isAdvancedCustomizationCollapsed=!0,this.includeVideoInPlaylist=!1}show(e){let t;this.currentVideoTimestamp=e,0!==this.videoCaptions.length&&(t=this.videoCaptions[0].language.id),this.customizations={startAtCheckbox:!1,startAt:e?Math.floor(e):0,stopAtCheckbox:!1,stopAt:this.video.duration,subtitleCheckbox:!1,subtitle:t,loop:!1,autoplay:!1,muted:!1,title:!0,warningTitle:!0,controls:!0},this.modalService.open(this.modal)}getVideoIframeCode(){const e=this.getOptions(this.video.embedUrl),t=Object(Lt.b)(e);return Object(Lt.a)(t)}getVideoUrl(){const e=window.location.origin+"/videos/watch/"+this.video.uuid,t=this.getOptions(e);return Object(Lt.b)(t)}getPlaylistUrl(){const e=window.location.origin+"/videos/watch/playlist/"+this.playlist.uuid;return this.includeVideoInPlaylist?e+"?videoId="+this.video.uuid:e}notSecure(){return"http:"===window.location.protocol}onTabChange(e){this.activeId=e.nextId}isInEmbedTab(){return"embed"===this.activeId}hasPlaylist(){return!!this.playlist}getOptions(e){return{baseUrl:e,startTime:this.customizations.startAtCheckbox?this.customizations.startAt:void 0,stopTime:this.customizations.stopAtCheckbox?this.customizations.stopAt:void 0,subtitle:this.customizations.subtitleCheckbox?this.customizations.subtitle:void 0,loop:this.customizations.loop,autoplay:this.customizations.autoplay,muted:this.customizations.muted,title:this.customizations.title,warningTitle:this.customizations.warningTitle,controls:this.customizations.controls}}}var Bt=i["\u0275crt"]({encapsulation:0,styles:[['my-input-readonly-copy[_ngcontent-%COMP%]{width:100%}.title-page.title-page-single[_ngcontent-%COMP%]{margin-top:0}.playlist[_ngcontent-%COMP%]{margin-bottom:50px}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;border:1px solid #c6c6c6;width:200px;border-radius:3px;overflow:hidden;background:var(--inputColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:200px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:none;box-shadow:none;background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}.qr-code-group[_ngcontent-%COMP%]{text-align:center}.tab-content[_ngcontent-%COMP%]{margin-top:30px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.alert[_ngcontent-%COMP%]{margin-top:20px}.filters[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:1px solid rgba(0,0,0,.1)}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin-top:30px;font-size:16px;font-weight:600;cursor:pointer}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:5px}.filters[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;height:34px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-left:10px}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]{width:300px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}']],data:{}});function Ft(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,13,"div",[["class","playlist"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Share the playlist"])),(e()(),i["\u0275eld"](3,0,null,null,1,"my-input-readonly-copy",[],null,null,null,Mt,Ot)),i["\u0275did"](4,49152,null,0,wt,[f.a,m.a],{value:[0,"value"]},null),(e()(),i["\u0275eld"](5,0,null,null,8,"div",[["class","filters"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,6,"my-peertube-checkbox",[["inputName","includeVideoInPlaylist"],["labelText","Share the playlist at this video position"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.includeVideoInPlaylist=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](8,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,2,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](11,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](13,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null)],(function(e,t){var n=t.component;e(t,4,0,n.getPlaylistUrl()),e(t,8,0,"includeVideoInPlaylist","Share the playlist at this video position"),e(t,11,0,n.includeVideoInPlaylist)}),(function(e,t){e(t,7,0,i["\u0275nov"](t,13).ngClassUntouched,i["\u0275nov"](t,13).ngClassTouched,i["\u0275nov"](t,13).ngClassPristine,i["\u0275nov"](t,13).ngClassDirty,i["\u0275nov"](t,13).ngClassValid,i["\u0275nov"](t,13).ngClassInvalid,i["\u0275nov"](t,13).ngClassPending)}))}function Ut(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","title-page title-page-single"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Share the video"]))],null,null)}function Ht(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-input-readonly-copy",[],null,null,null,Mt,Ot)),i["\u0275did"](2,49152,null,0,wt,[f.a,m.a],{value:[0,"value"]},null)],(function(e,t){e(t,2,0,t.component.getVideoUrl())}),null)}function zt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"qrcode",[["level","Q"],["size","256"]],null,null,null,Rt,At)),i["\u0275did"](2,4767744,null,0,It,[i.ElementRef,i.PLATFORM_ID],{level:[0,"level"],qrdata:[1,"qrdata"],size:[2,"size"]},null)],(function(e,t){e(t,2,0,"Q",t.component.getVideoUrl(),"256")}),null)}function $t(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" The url is not secured (no HTTPS), so the embed video won't work on HTTPS websites (web browsers block non secured HTTP requests on HTTPS websites). "]))],null,null)}function Kt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","tab-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-input-readonly-copy",[],null,null,null,Mt,Ot)),i["\u0275did"](2,49152,null,0,wt,[f.a,m.a],{value:[0,"value"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,$t)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getVideoIframeCode()),e(t,4,0,n.notSecure())}),null)}function qt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),i["\u0275did"](1,147456,null,0,W.NgSelectOption,[i.ElementRef,i.Renderer2,[2,W.SelectControlValueAccessor]],{value:[0,"value"]},null),i["\u0275did"](2,147456,null,0,W["\u0275angular_packages_forms_forms_y"],[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),i["\u0275ted"](3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.language.id),e(t,2,0,t.context.$implicit.language.id)}),(function(e,t){e(t,3,0,t.context.$implicit.language.label)}))}function Wt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","form-group video-caption-block"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,6,"my-peertube-checkbox",[["inputName","subtitleCheckbox"],["labelText","Selecteer automatisch ondertiteling"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.subtitleCheckbox=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](2,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,11,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](5,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](7,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](8,0,null,null,11,"div",[["class","peertube-select-container"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](10,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](11,{disabled:0}),(e()(),i["\u0275eld"](12,0,null,null,7,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var o=!0,l=e.component;return"change"===t&&(o=!1!==i["\u0275nov"](e,13).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==i["\u0275nov"](e,13).onTouched()&&o),"ngModelChange"===t&&(o=!1!==(l.customizations.subtitle=n)&&o),o}),null,null)),i["\u0275did"](13,16384,null,0,W.SelectControlValueAccessor,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[W.SelectControlValueAccessor]),i["\u0275did"](15,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](17,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,qt)),i["\u0275did"](19,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"subtitleCheckbox","Selecteer automatisch ondertiteling"),e(t,5,0,n.customizations.subtitleCheckbox);var i=e(t,11,0,!n.customizations.subtitleCheckbox);e(t,10,0,"peertube-select-container",i),e(t,15,0,!n.customizations.subtitleCheckbox,n.customizations.subtitle),e(t,19,0,n.videoCaptions)}),(function(e,t){e(t,1,0,i["\u0275nov"](t,7).ngClassUntouched,i["\u0275nov"](t,7).ngClassTouched,i["\u0275nov"](t,7).ngClassPristine,i["\u0275nov"](t,7).ngClassDirty,i["\u0275nov"](t,7).ngClassValid,i["\u0275nov"](t,7).ngClassInvalid,i["\u0275nov"](t,7).ngClassPending),e(t,12,0,i["\u0275nov"](t,17).ngClassUntouched,i["\u0275nov"](t,17).ngClassTouched,i["\u0275nov"](t,17).ngClassPristine,i["\u0275nov"](t,17).ngClassDirty,i["\u0275nov"](t,17).ngClassValid,i["\u0275nov"](t,17).ngClassInvalid,i["\u0275nov"](t,17).ngClassPending)}))}function Gt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" More customization "]))],null,null)}function Xt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-up"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Less customization "]))],null,null)}function Yt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,24,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,6,"my-peertube-checkbox",[["inputName","title"],["labelText","Toon video titel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.title=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](3,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,16,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](6,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](8,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](9,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](10,0,null,null,6,"my-peertube-checkbox",[["inputName","warningTitle"],["labelText","Toon privacy waarschuwing"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.warningTitle=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](11,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,17,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](14,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](16,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](17,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](18,0,null,null,6,"my-peertube-checkbox",[["inputName","controls"],["labelText","Toon bediening"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.controls=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](19,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,18,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](22,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](24,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null)],(function(e,t){var n=t.component;e(t,3,0,"title","Toon video titel"),e(t,6,0,n.customizations.title),e(t,11,0,"warningTitle","Toon privacy waarschuwing"),e(t,14,0,n.customizations.warningTitle),e(t,19,0,"controls","Toon bediening"),e(t,22,0,n.customizations.controls)}),(function(e,t){e(t,2,0,i["\u0275nov"](t,8).ngClassUntouched,i["\u0275nov"](t,8).ngClassTouched,i["\u0275nov"](t,8).ngClassPristine,i["\u0275nov"](t,8).ngClassDirty,i["\u0275nov"](t,8).ngClassValid,i["\u0275nov"](t,8).ngClassInvalid,i["\u0275nov"](t,8).ngClassPending),e(t,10,0,i["\u0275nov"](t,16).ngClassUntouched,i["\u0275nov"](t,16).ngClassTouched,i["\u0275nov"](t,16).ngClassPristine,i["\u0275nov"](t,16).ngClassDirty,i["\u0275nov"](t,16).ngClassValid,i["\u0275nov"](t,16).ngClassInvalid,i["\u0275nov"](t,16).ngClassPending),e(t,18,0,i["\u0275nov"](t,24).ngClassUntouched,i["\u0275nov"](t,24).ngClassTouched,i["\u0275nov"](t,24).ngClassPristine,i["\u0275nov"](t,24).ngClassDirty,i["\u0275nov"](t,24).ngClassValid,i["\u0275nov"](t,24).ngClassInvalid,i["\u0275nov"](t,24).ngClassPending)}))}function Qt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Deel"])),(e()(),i["\u0275eld"](3,0,null,null,1,"my-global-icon",[["aria-label","Close"],["iconName","cross"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.close()&&i),i}),s.b,s.a)),i["\u0275did"](4,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](5,0,null,null,92,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ft)),i["\u0275did"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](8,0,null,null,89,"div",[["class","video"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ut)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](11,0,null,null,20,"ngb-tabset",[["class","root-tabset bootstrap"]],null,[[null,"tabChange"]],(function(e,t,n){var i=!0;return"tabChange"===t&&(i=!1!==e.component.onTabChange(n)&&i),i}),Nt.d,Nt.b)),i["\u0275did"](12,2146304,null,1,r.X,[r.Y],null,{tabChange:"tabChange"}),i["\u0275qud"](603979776,3,{tabs:1}),(e()(),i["\u0275eld"](14,0,null,null,5,"ngb-tab",[["id","url"],["title","URL"]],null,null,null,null,null)),i["\u0275did"](15,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),i["\u0275qud"](603979776,4,{titleTpls:1}),i["\u0275qud"](603979776,5,{contentTpls:1}),(e()(),i["\u0275and"](0,null,null,1,null,Ht)),i["\u0275did"](19,16384,[[5,4]],0,r.V,[i.TemplateRef],null,null),(e()(),i["\u0275eld"](20,0,null,null,5,"ngb-tab",[["id","qrcode"],["title","QR-Code"]],null,null,null,null,null)),i["\u0275did"](21,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),i["\u0275qud"](603979776,6,{titleTpls:1}),i["\u0275qud"](603979776,7,{contentTpls:1}),(e()(),i["\u0275and"](0,null,null,1,null,zt)),i["\u0275did"](25,16384,[[7,4]],0,r.V,[i.TemplateRef],null,null),(e()(),i["\u0275eld"](26,0,null,null,5,"ngb-tab",[["id","embed"],["title","Inbedden"]],null,null,null,null,null)),i["\u0275did"](27,2113536,[[3,4]],2,r.U,[],{id:[0,"id"],title:[1,"title"]},null),i["\u0275qud"](603979776,8,{titleTpls:1}),i["\u0275qud"](603979776,9,{contentTpls:1}),(e()(),i["\u0275and"](0,null,null,1,null,Kt)),i["\u0275did"](31,16384,[[9,4]],0,r.V,[i.TemplateRef],null,null),(e()(),i["\u0275eld"](32,0,null,null,65,"div",[["class","filters"]],null,null,null,null,null)),(e()(),i["\u0275eld"](33,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](34,0,null,null,13,"div",[["class","form-group start-at"]],null,null,null,null,null)),(e()(),i["\u0275eld"](35,0,null,null,6,"my-peertube-checkbox",[["inputName","startAt"],["labelText","Beginnen bij"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.startAtCheckbox=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](36,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,10,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](39,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](41,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](42,0,null,null,5,"my-timestamp-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.startAt=n)&&i),i}),jt.b,jt.a)),i["\u0275did"](43,114688,null,0,Dt.a,[i.ChangeDetectorRef],{maxTimestamp:[0,"maxTimestamp"],timestamp:[1,"timestamp"],disabled:[2,"disabled"]},null),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[Dt.a]),i["\u0275did"](45,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](47,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Wt)),i["\u0275did"](49,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](50,0,null,null,4,"div",[["aria-controls","collapseBasic"],["class","advanced-filters-button"],["role","button"]],[[1,"aria-expanded",0]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=0!=(o.isAdvancedCustomizationCollapsed=!o.isAdvancedCustomizationCollapsed)&&i),i}),null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Gt)),i["\u0275did"](52,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Xt)),i["\u0275did"](54,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](55,0,null,null,42,"div",[["class","advanced-filters collapse-transition"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),i["\u0275did"](56,16384,null,0,r.l,[],{collapsed:[0,"collapsed"]},null),(e()(),i["\u0275eld"](57,0,null,null,38,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](58,0,null,null,13,"div",[["class","form-group stop-at"]],null,null,null,null,null)),(e()(),i["\u0275eld"](59,0,null,null,6,"my-peertube-checkbox",[["inputName","stopAt"],["labelText","Stoppen bij"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.stopAtCheckbox=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](60,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,12,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](63,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](65,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](66,0,null,null,5,"my-timestamp-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.stopAt=n)&&i),i}),jt.b,jt.a)),i["\u0275did"](67,114688,null,0,Dt.a,[i.ChangeDetectorRef],{maxTimestamp:[0,"maxTimestamp"],timestamp:[1,"timestamp"],disabled:[2,"disabled"]},null),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[Dt.a]),i["\u0275did"](69,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](71,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](72,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](73,0,null,null,6,"my-peertube-checkbox",[["inputName","autoplay"],["labelText","Automatisch afspelen"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.autoplay=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](74,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,13,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](77,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](79,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](80,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](81,0,null,null,6,"my-peertube-checkbox",[["inputName","muted"],["labelText","Gedempt"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.muted=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](82,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,14,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](85,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](87,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275eld"](88,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),i["\u0275eld"](89,0,null,null,6,"my-peertube-checkbox",[["inputName","loop"],["labelText","Lus"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.customizations.loop=n)&&i),i}),xt.b,xt.a)),i["\u0275did"](90,1097728,null,1,St.a,[i.ChangeDetectorRef],{inputName:[0,"inputName"],labelText:[1,"labelText"]},null),i["\u0275qud"](603979776,15,{templates:1}),i["\u0275prd"](1024,null,W.NG_VALUE_ACCESSOR,(function(e){return[e]}),[St.a]),i["\u0275did"](93,671744,null,0,W.NgModel,[[8,null],[8,null],[8,null],[6,W.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,W.NgControl,null,[W.NgModel]),i["\u0275did"](95,16384,null,0,W.NgControlStatus,[[4,W.NgControl]],null,null),(e()(),i["\u0275and"](16777216,null,null,1,null,Yt)),i["\u0275did"](97,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](98,0,null,null,2,"div",[["class","modal-footer inputs"]],null,null,null,null,null)),(e()(),i["\u0275eld"](99,0,null,null,1,"span",[["class","action-button action-button-cancel"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.close()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,["Sluiten"]))],(function(e,t){var n=t.component;e(t,4,0,"cross"),e(t,7,0,n.hasPlaylist()),e(t,10,0,n.hasPlaylist()),e(t,15,0,"url","URL"),e(t,21,0,"qrcode","QR-Code"),e(t,27,0,"embed","Inbedden"),e(t,36,0,"startAt","Beginnen bij"),e(t,39,0,n.customizations.startAtCheckbox),e(t,43,0,n.video.duration,n.customizations.startAt,!n.customizations.startAtCheckbox),e(t,45,0,!n.customizations.startAtCheckbox,n.customizations.startAt),e(t,49,0,0!==n.videoCaptions.length),e(t,52,0,n.isAdvancedCustomizationCollapsed),e(t,54,0,!n.isAdvancedCustomizationCollapsed),e(t,56,0,n.isAdvancedCustomizationCollapsed),e(t,60,0,"stopAt","Stoppen bij"),e(t,63,0,n.customizations.stopAtCheckbox),e(t,67,0,n.video.duration,n.customizations.stopAt,!n.customizations.stopAtCheckbox),e(t,69,0,!n.customizations.stopAtCheckbox,n.customizations.stopAt),e(t,74,0,"autoplay","Automatisch afspelen"),e(t,77,0,n.customizations.autoplay),e(t,82,0,"muted","Gedempt"),e(t,85,0,n.customizations.muted),e(t,90,0,"loop","Lus"),e(t,93,0,n.customizations.loop),e(t,97,0,n.isInEmbedTab())}),(function(e,t){var n=t.component;e(t,35,0,i["\u0275nov"](t,41).ngClassUntouched,i["\u0275nov"](t,41).ngClassTouched,i["\u0275nov"](t,41).ngClassPristine,i["\u0275nov"](t,41).ngClassDirty,i["\u0275nov"](t,41).ngClassValid,i["\u0275nov"](t,41).ngClassInvalid,i["\u0275nov"](t,41).ngClassPending),e(t,42,0,i["\u0275nov"](t,47).ngClassUntouched,i["\u0275nov"](t,47).ngClassTouched,i["\u0275nov"](t,47).ngClassPristine,i["\u0275nov"](t,47).ngClassDirty,i["\u0275nov"](t,47).ngClassValid,i["\u0275nov"](t,47).ngClassInvalid,i["\u0275nov"](t,47).ngClassPending),e(t,50,0,!n.isAdvancedCustomizationCollapsed),e(t,55,0,!0,!i["\u0275nov"](t,56).collapsed),e(t,59,0,i["\u0275nov"](t,65).ngClassUntouched,i["\u0275nov"](t,65).ngClassTouched,i["\u0275nov"](t,65).ngClassPristine,i["\u0275nov"](t,65).ngClassDirty,i["\u0275nov"](t,65).ngClassValid,i["\u0275nov"](t,65).ngClassInvalid,i["\u0275nov"](t,65).ngClassPending),e(t,66,0,i["\u0275nov"](t,71).ngClassUntouched,i["\u0275nov"](t,71).ngClassTouched,i["\u0275nov"](t,71).ngClassPristine,i["\u0275nov"](t,71).ngClassDirty,i["\u0275nov"](t,71).ngClassValid,i["\u0275nov"](t,71).ngClassInvalid,i["\u0275nov"](t,71).ngClassPending),e(t,73,0,i["\u0275nov"](t,79).ngClassUntouched,i["\u0275nov"](t,79).ngClassTouched,i["\u0275nov"](t,79).ngClassPristine,i["\u0275nov"](t,79).ngClassDirty,i["\u0275nov"](t,79).ngClassValid,i["\u0275nov"](t,79).ngClassInvalid,i["\u0275nov"](t,79).ngClassPending),e(t,81,0,i["\u0275nov"](t,87).ngClassUntouched,i["\u0275nov"](t,87).ngClassTouched,i["\u0275nov"](t,87).ngClassPristine,i["\u0275nov"](t,87).ngClassDirty,i["\u0275nov"](t,87).ngClassValid,i["\u0275nov"](t,87).ngClassInvalid,i["\u0275nov"](t,87).ngClassPending),e(t,89,0,i["\u0275nov"](t,95).ngClassUntouched,i["\u0275nov"](t,95).ngClassTouched,i["\u0275nov"](t,95).ngClassPristine,i["\u0275nov"](t,95).ngClassDirty,i["\u0275nov"](t,95).ngClassValid,i["\u0275nov"](t,95).ngClassInvalid,i["\u0275nov"](t,95).ngClassPending)}))}function Jt(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{modal:0}),(e()(),i["\u0275and"](0,[[1,2],["modal",2]],null,0,null,Qt))],null,null)}var Zt=n("dzsG");class en{transform(e){const t=Math.floor(e/60),n=Math.floor(t/60);return n>0?n+" h "+(t-60*n)+" min "+(e-60*(t-60*n))+" sec":t+" min "+(e-60*t)+" sec"}}var tn=n("ReJP"),nn=n("yc0L");let on=(()=>{class e{constructor(t,n,i,o,l,r){this.userService=t,this.auth=n,this.notifier=i,this.i18n=o,this.videoPlaylist=l,this.router=r,this.playlistElements=[],this.playlistPagination={currentPage:1,itemsPerPage:30,totalItems:null},this.autoPlayNextVideoPlaylistSwitchText="",this.loopPlaylistSwitchText="",this.noPlaylistVideos=!1,this.currentPlaylistPosition=1,this.autoPlayNextVideoPlaylist=this.auth.isLoggedIn()?this.auth.getUser().autoPlayNextVideoPlaylist:"false"!==ht.a.getItem(e.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setAutoPlayNextVideoPlaylistSwitchText(),this.loopPlaylist="true"===ht.b.getItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setLoopPlaylistSwitchText()}onPlaylistVideosNearOfBottom(){this.playlistPagination.totalItems<=this.playlistPagination.currentPage*this.playlistPagination.itemsPerPage||(this.playlistPagination.currentPage+=1,this.loadPlaylistElements(this.playlist,!1))}onElementRemoved(e){this.playlistElements=this.playlistElements.filter(t=>t.id!==e.id),this.playlistPagination.totalItems--}isPlaylistOwned(){return!0===this.playlist.isLocal&&this.auth.isLoggedIn()&&this.playlist.ownerAccount.name===this.auth.getUser().username}isUnlistedPlaylist(){return this.playlist.privacy.id===ne.k.UNLISTED}isPrivatePlaylist(){return this.playlist.privacy.id===ne.k.PRIVATE}isPublicPlaylist(){return this.playlist.privacy.id===ne.k.PUBLIC}loadPlaylistElements(e,t=!1){this.videoPlaylist.getPlaylistVideos(e.uuid,this.playlistPagination).subscribe(({total:e,data:n})=>{this.playlistElements=this.playlistElements.concat(n),this.playlistPagination.totalItems=e;const i=this.playlistElements.find(e=>!!e.video);i?(this.updatePlaylistIndex(this.video),t&&this.router.navigate([],{queryParams:{start:i.startTimestamp,stop:i.stopTimestamp,videoId:i.video.uuid},replaceUrl:!0})):this.noPlaylistVideos=!0})}updatePlaylistIndex(e){if(0!==this.playlistElements.length&&e){for(const t of this.playlistElements)if(t.video&&t.video.id===e.id)return void(this.currentPlaylistPosition=t.position);this.onPlaylistVideosNearOfBottom()}}findNextPlaylistVideo(e=this.currentPlaylistPosition){if(this.currentPlaylistPosition>=this.playlistPagination.totalItems){if(!this.loopPlaylist)return;this.currentPlaylistPosition=e=0}const t=this.playlistElements.find(t=>t.position===e);return t&&t.video?t:this.findNextPlaylistVideo(e+1)}navigateToNextPlaylistVideo(){const e=this.findNextPlaylistVideo(this.currentPlaylistPosition+1);e&&this.router.navigate([],{queryParams:{videoId:e.video.uuid,start:e.startTimestamp,stop:e.stopTimestamp}})}switchAutoPlayNextVideoPlaylist(){this.autoPlayNextVideoPlaylist=!this.autoPlayNextVideoPlaylist,this.setAutoPlayNextVideoPlaylistSwitchText(),ht.a.setItem(e.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.autoPlayNextVideoPlaylist.toString()),this.auth.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideoPlaylist:this.autoPlayNextVideoPlaylist}).subscribe(()=>{this.auth.refreshUserInformation()},e=>this.notifier.error(e.message))}switchLoopPlaylist(){this.loopPlaylist=!this.loopPlaylist,this.setLoopPlaylistSwitchText(),ht.b.setItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.loopPlaylist.toString())}setAutoPlayNextVideoPlaylistSwitchText(){this.autoPlayNextVideoPlaylistSwitchText=this.i18n(this.autoPlayNextVideoPlaylist?"Stop autoplaying next video":"Autoplay next video")}setLoopPlaylistSwitchText(){this.loopPlaylistSwitchText=this.i18n(this.loopPlaylist?"Stop looping playlist videos":"Loop playlist videos")}}return e.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="auto_play_video_playlist",e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="loop_playlist",e})();var ln=i["\u0275crt"]({encapsulation:0,styles:[[".playlist[_ngcontent-%COMP%]{min-width:200px;max-width:470px;height:66vh;background-color:var(--mainBackgroundColor);overflow-y:auto;border-bottom:1px solid rgba(0,0,0,.1)}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]{padding:5px 30px;background-color:#e4e4e4}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]{color:#585858;display:-webkit-box;display:flex}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-right:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child::after{content:'/';margin:0 3px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:10px 0}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(.active){opacity:.5}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]    {cursor:pointer}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-right:0}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .video-info .video-info-name{font-size:15px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     my-video-thumbnail   .video-thumbnail{width:90px;height:50px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .fake-thumbnail{width:90px;height:50px}"]],data:{}});function rn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-warning"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Onvermeld"]))],null,null)}function an(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Priv\xe9"]))],null,null)}function sn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-info"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Openbaar"]))],null,null)}function un(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-video-playlist-element-miniature",[],null,[[null,"elementRemoved"]],(function(e,t,n){var i=!0;return"elementRemoved"===t&&(i=!1!==e.component.onElementRemoved(n)&&i),i}),tn.b,tn.a)),i["\u0275did"](2,114688,null,0,nn.a,[g.a,x.a,f.a,M.a,C.a,m.a,I.a,v.a,i.ChangeDetectorRef],{playlist:[0,"playlist"],playlistElement:[1,"playlistElement"],owned:[2,"owned"],playing:[3,"playing"],accountLink:[4,"accountLink"],position:[5,"position"]},{elementRemoved:"elementRemoved"})],(function(e,t){var n=t.component;e(t,2,0,n.playlist,t.context.$implicit,n.isPlaylistOwned(),n.currentPlaylistPosition===t.context.$implicit.position,!1,t.context.$implicit.position)}),null)}function cn(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","playlist"],["myInfiniteScroller",""]],null,[[null,"nearOfBottom"]],(function(e,t,n){var i=!0;return"nearOfBottom"===t&&(i=!1!==e.component.onPlaylistVideosNearOfBottom()&&i),i}),null,null)),i["\u0275did"](1,2310144,null,0,Ae.a,[i.ElementRef],{autoInit:[0,"autoInit"],onItself:[1,"onItself"]},{nearOfBottom:"nearOfBottom"}),(e()(),i["\u0275eld"](2,0,null,null,23,"div",[["class","playlist-info"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,7,"div",[["class","playlist-display-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,[" "," "])),(e()(),i["\u0275and"](16777216,null,null,1,null,rn)),i["\u0275did"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,an)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,sn)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](11,0,null,null,7,"div",[["class","playlist-by-index"]],null,null,null,null,null)),(e()(),i["\u0275eld"](12,0,null,null,1,"div",[["class","playlist-by"]],null,null,null,null,null)),(e()(),i["\u0275ted"](13,null,["",""])),(e()(),i["\u0275eld"](14,0,null,null,4,"div",[["class","playlist-index"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](16,null,["",""])),(e()(),i["\u0275eld"](17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](18,null,["",""])),(e()(),i["\u0275eld"](19,0,null,null,6,"div",[["class","playlist-controls"]],null,null,null,null,null)),(e()(),i["\u0275eld"](20,16777216,null,null,2,"my-global-icon",[["container","body"],["iconName","videos"],["placement","bottom auto"]],[[2,"active",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.switchAutoPlayNextVideoPlaylist()&&i),i}),s.b,s.a)),i["\u0275did"](21,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],container:[1,"container"],ngbTooltip:[2,"ngbTooltip"]},null),i["\u0275did"](22,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](23,16777216,null,null,2,"my-global-icon",[["container","body"],["iconName","repeat"],["placement","bottom auto"]],[[2,"active",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.switchLoopPlaylist()&&i),i}),s.b,s.a)),i["\u0275did"](24,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],container:[1,"container"],ngbTooltip:[2,"ngbTooltip"]},null),i["\u0275did"](25,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,un)),i["\u0275did"](27,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,!0,!0),e(t,6,0,n.isUnlistedPlaylist()),e(t,8,0,n.isPrivatePlaylist()),e(t,10,0,n.isPublicPlaylist()),e(t,21,0,"bottom auto","body",n.autoPlayNextVideoPlaylistSwitchText),e(t,22,0,"videos"),e(t,24,0,"bottom auto","body",n.loopPlaylistSwitchText),e(t,25,0,"repeat"),e(t,27,0,n.playlistElements)}),(function(e,t){var n=t.component;e(t,4,0,n.playlist.displayName),e(t,13,0,n.playlist.ownerBy),e(t,16,0,n.currentPlaylistPosition),e(t,18,0,n.playlistPagination.totalItems),e(t,20,0,n.autoPlayNextVideoPlaylist),e(t,23,0,n.loopPlaylist)}))}function dn(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,cn)),i["\u0275did"](1,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.playlist&&n.video)}),null)}var hn=n("dubb"),pn=n("cp0P"),gn=n("yccp"),fn=n("voWr"),mn=(n("HUk+"),n("6i9R")),vn=n.n(mn),yn=(n("aSIO"),n("7zRj")),_n=n.n(yn);function bn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Cn=1,Tn=function(){return Cn++},kn=vn.a.dom||vn.a,Pn=vn.a.registerPlugin||vn.a.plugin,wn=vn.a.getComponent("Component"),On=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o=t.$(".vjs-tech");return o.setAttribute("aria-labelledby",i.title.id),o.setAttribute("aria-describedby",i.description.id),i}bn(t,e);var n=t.prototype;return n.createEl=function(){var t=kn.createEl("div",{className:"vjs-dock-title",title:this.options_.title,innerHTML:this.options_.title},{id:"vjs-dock-title-"+Tn()}),n=kn.createEl("div",{className:"vjs-dock-description",title:this.options_.description,innerHTML:this.options_.description},{id:"vjs-dock-description-"+Tn()}),i=e.prototype.createEl.call(this,"div",{className:"vjs-dock-text"});return this.title=t,this.description=n,i.appendChild(t),i.appendChild(n),i},n.update=function(e,t){this.title.innerHTML="",this.description.innerHTML="",this.title.appendChild(_n.a.createTextNode(e)),this.description.appendChild(_n.a.createTextNode(t))},t}(wn),Mn=function(e){function t(){return e.apply(this,arguments)||this}return bn(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-dock-shelf"})},t}(wn);vn.a.registerComponent("Title",On),vn.a.registerComponent("Shelf",Mn);var En=function(e){var t=e||{},n={title:{title:t.title||"",description:t.description||""}},i=this.title,o=this.shelf;this.addClass("vjs-dock");var l=this.children().indexOf(this.getChild("bigPlayButton")),r=l>0?l-1:null;o||(o=this.shelf=this.addChild("shelf",n,r)),i?i.update(n.title.title,n.title.description):i=this.title=this.addChild("title",n.title,r),this.one(i,"dispose",(function(){this.title=null})),this.one(o,"dispose",(function(){this.shelf=null}))};En.VERSION="2.1.4",Pn("dock",En);var xn=n("vgmO"),Sn=n.n(xn);function In(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var An=function(e){function t(){return e.apply(this,arguments)||this}return In(t,e),t.prototype.handleClick=function(t){var n=this;e.prototype.handleClick.call(this),this.options_.listener(),Sn.a.setTimeout((function(){n.player().contextmenuUI.menu.dispose()}),1)},t}(vn.a.getComponent("MenuItem")),Rn=vn.a.getComponent("Menu"),Nn=vn.a.dom||vn.a,jn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).dispose=vn.a.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),i.dispose),n.content.forEach((function(e){var n=function(){};"function"==typeof e.listener?n=e.listener:"string"==typeof e.href&&(n=function(){return Sn.a.open(e.href)}),i.addItem(new An(t,{label:e.label,listener:vn.a.bind(t,n)}))})),i}return In(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return Nn.addClass(t,"vjs-contextmenu-ui-menu"),t.style.left=this.options_.position.left+"px",t.style.top=this.options_.position.top+"px",t},t}(Rn),Dn="5.2.0";function Ln(e){return e.hasOwnProperty("contextmenuUI")&&e.contextmenuUI.hasOwnProperty("menu")&&e.contextmenuUI.menu.el()}function Vn(e){var t=e.tagName.toLowerCase();return"input"===t||"textarea"===t}function Bn(e){var t,n,i,o,l,r,a,s,u,c,d,h=this;if(Ln(this))this.contextmenuUI.menu.dispose();else if(!this.contextmenuUI.options_.excludeElements(e.target)){var p=(o=e,l={},r=function(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=_n.a.documentElement,i=_n.a.body,o=t.top+(Sn.a.pageYOffset||i.scrollTop)-(n.clientTop||i.clientTop||0);return{left:Math.round(t.left+(Sn.a.pageXOffset||i.scrollLeft)-(n.clientLeft||i.clientLeft||0)),top:Math.round(o)}}(i=this.el()),a=i.offsetWidth,s=i.offsetHeight,u=r.left,c=o.pageY,d=o.pageX,o.changedTouches&&(d=o.changedTouches[0].pageX,c=o.changedTouches[0].pageY),l.y=Math.max(0,Math.min(1,(r.top-c+s)/s)),l.x=Math.max(0,Math.min(1,(d-u)/a)),t=l,n=this.el().getBoundingClientRect(),{left:Math.round(n.width*t.x),top:Math.round(n.height-n.height*t.y)}),g=vn.a.browser.IS_FIREFOX?_n.a.documentElement:_n.a;e.preventDefault();var f=this.contextmenuUI.menu=new jn(this,{content:this.contextmenuUI.content,position:p});this.contextmenuUI.closeMenu=function(){vn.a.log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),f.dispose()},f.on("dispose",(function(){vn.a.off(g,["click","tap"],f.dispose),h.removeChild(f),delete h.contextmenuUI.menu})),this.addChild(f);var m=f.el_.getBoundingClientRect(),v=_n.a.body.getBoundingClientRect();(this.contextmenuUI.keepInside||m.right>v.width||m.bottom>v.height)&&(f.el_.style.left=Math.floor(Math.min(p.left,this.player_.currentWidth()-f.currentWidth()))+"px",f.el_.style.top=Math.floor(Math.min(p.top,this.player_.currentHeight()-f.currentHeight()))+"px"),vn.a.on(g,["click","tap"],f.dispose)}}function Fn(e){var t=this;if(e=vn.a.mergeOptions({keepInside:!0,excludeElements:Vn},e),!Array.isArray(e.content))throw new Error('"content" required');Ln(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var n=this.contextmenuUI=function(){Fn.apply(this,arguments)};n.onContextMenu=vn.a.bind(this,Bn),n.content=e.content,n.keepInside=e.keepInside,n.options_=e,n.VERSION=Dn,this.on("contextmenu",n.onContextMenu),this.ready((function(){return t.addClass("vjs-contextmenu-ui")}))}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}vn.a.registerPlugin("contextmenuUI",Fn),Fn.VERSION=Dn;var Hn=function e(t){var n=this;if(vn.a.browser.IS_IE8)for(var i in n=_n.a.createElement("custom"),e.prototype)"constructor"!==i&&(n[i]=e.prototype[i]);return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(e){n.enabled_(e)}}),n},zn=function(e){var t,n;function i(){var t,n=Un(Un(t=e.call(this)||this));if(vn.a.browser.IS_IE8)for(var o in n=_n.a.createElement("custom"),i.prototype)"constructor"!==o&&(n[o]=i.prototype[o]);return n.levels_=[],n.selectedIndex_=-1,Object.defineProperty(n,"selectedIndex",{get:function(){return n.selectedIndex_}}),Object.defineProperty(n,"length",{get:function(){return n.levels_.length}}),n||Un(t)}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.addQualityLevel=function(e){var t=this.getQualityLevelById(e.id);if(t)return t;var n=this.levels_.length;return t=new Hn(e),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t},o.removeQualityLevel=function(e){for(var t=null,n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t},o.getQualityLevelById=function(e){for(var t=0,n=this.length;t<n;t++){var i=this[t];if(i.id===e)return i}return null},o.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},i}(vn.a.EventTarget);for(var $n in zn.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},zn.prototype.allowedEvents_)zn.prototype["on"+$n]=null;var Kn=function(e){return t=this,vn.a.mergeOptions({},e),n=t.qualityLevels,i=new zn,t.on("dispose",(function e(){i.dispose(),t.qualityLevels=n,t.off("dispose",e)})),t.qualityLevels=function(){return i},t.qualityLevels.VERSION="2.0.9",i;var t,n,i};(vn.a.registerPlugin||vn.a.plugin)("qualityLevels",Kn),Kn.VERSION="2.0.9";const qn=mn.getComponent("Component");mn.registerComponent("EndCard",class extends qn{constructor(e,t){super(e,t),this.dashOffsetTotal=586,this.dashOffsetStart=293,this.interval=50,this.upNextEvents=new mn.EventTarget,this.ticks=0,this.totalTicks=this.options_.timeout/this.interval,e.on("ended",t=>{this.options_.condition()&&(e.addClass("vjs-upnext--showing"),this.showCard(t=>{e.removeClass("vjs-upnext--showing"),this.container.style.display="none",t||this.options_.next()}))}),e.on("playing",()=>{this.upNextEvents.trigger("playing")})}createEl(){const e=super.createEl("div",{className:"vjs-upnext-content",innerHTML:(t=this.options_,`\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">${t.headText}</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">${t.cancelText}</button>\n      </span>\n      <span class="vjs-upnext-suspended">${t.suspendedText}</span>\n    </span>\n  `)});var t;return this.container=e,e.style.display="none",this.autoplayRing=e.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=e.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=e.getElementsByClassName("vjs-upnext-cancel-button")[0],this.suspendedMessage=e.getElementsByClassName("vjs-upnext-suspended")[0],this.nextButton=e.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=()=>{this.upNextEvents.trigger("cancel")},this.nextButton.onclick=()=>{this.upNextEvents.trigger("next")},e}showCard(e){let t;this.autoplayRing.setAttribute("stroke-dasharray",""+this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",""+-this.dashOffsetStart),this.title.innerHTML=this.options_.getTitle(),this.upNextEvents.one("cancel",()=>{clearTimeout(t),e(!0)}),this.upNextEvents.one("playing",()=>{clearTimeout(t),e(!0)}),this.upNextEvents.one("next",()=>{clearTimeout(t),e(!1)});const n=e=>{const t=Math.max(-this.dashOffsetTotal,-this.dashOffsetStart-e*this.dashOffsetTotal/2/100);this.autoplayRing.setAttribute("stroke-dashoffset",""+t)},i=()=>{n(100*this.ticks++/this.totalTicks)},o=()=>{this.options_.suspended()?(this.suspendedMessage.innerText=this.options_.suspendedText,n(0),this.ticks=0,t=setTimeout(o.bind(this),300)):this.ticks>=this.totalTicks?(clearTimeout(t),e(!1)):(this.suspendedMessage.innerText="",i(),t=setTimeout(o.bind(this),this.interval))};this.container.style.display="block",t=setTimeout(o.bind(this),this.interval)}});const Wn=mn.getPlugin("plugin");mn.registerPlugin("upnext",class extends Wn{constructor(e,t={}){const n={next:t.next,getTitle:t.getTitle,timeout:t.timeout||5e3,cancelText:t.cancelText||"Cancel",headText:t.headText||"Up Next",suspendedText:t.suspendedText||"Autoplay is suspended",condition:t.condition,suspended:t.suspended};super(e,n),this.player.ready(()=>{e.addClass("vjs-upnext")}),e.addChild("EndCard",n)}});const Gn=mn.getComponent("Component");mn.registerComponent("PauseBezel",class extends Gn{constructor(e,t){super(e,t),this.options_=t,e.on("pause",t=>{e.seeking()||e.ended()||(this.container.innerHTML='\n  <div class="vjs-bezels-pause">\n    <div class="vjs-bezel" role="status" aria-label="Pause">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-1"></use>\n          <path class="vjs-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id="vjs-id-1"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',this.showBezel())}),e.on("play",t=>{e.seeking()||(this.container.innerHTML='\n  <div class="vjs-bezels-play">\n    <div class="vjs-bezel" role="status" aria-label="Play">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-2"></use>\n          <path class="vjs-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id="ytp-id-2"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',this.showBezel())})}createEl(){const e=super.createEl("div",{className:"vjs-bezels-content"});return this.container=e,e.style.display="none",e}showBezel(){this.container.style.display="inherit",setTimeout(()=>{this.container.style.display="none"},500)}});const Xn=mn.getPlugin("plugin");mn.registerPlugin("bezels",class extends Xn{constructor(e,t={}){super(e,t),this.player.ready(()=>{e.addClass("vjs-bezels")}),e.addChild("PauseBezel",t)}});const Yn=mn,Qn=Yn.getComponent("MenuItem"),Jn=Yn.getComponent("Component");class Zn extends Qn{constructor(e,t,n,i){super(e,t),this.settingsButton=i,this.dialog=this.settingsButton.dialog,this.mainMenu=this.settingsButton.menu,this.panel=this.dialog.getChild("settingsPanel"),this.panelChild=this.panel.getChild("settingsPanelChild"),this.panelChildEl=this.panelChild.el_,this.size=null,this.menuToLoad="mainmenu";const o=Object(Lt.j)(n),l=Yn.getComponent(o);if(!l)throw new Error(`Component ${o} does not exist`);this.subMenu=new l(this.player(),t,i,this);const r=this.subMenu.buildCSSClass().split(" ")[0];this.settingsSubMenuEl_.className+=" "+r,this.eventHandlers(),e.ready(()=>{setTimeout(()=>{this.player_&&(this.build(),e.on("ratechange",this.submenuClickHandler),"CaptionsButton"===o&&e.on("captionsChanged",()=>{setTimeout(()=>{this.settingsSubMenuEl_.innerHTML="",this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el_),this.update(),this.bindClickEvents()},0)}),this.reset())},0)})}eventHandlers(){this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)}onSubmenuClick(e){let t=null;(t="tap"===e.type?e.target:e.currentTarget)&&t.classList.contains("vjs-back-button")?this.loadMainMenu():(setTimeout(()=>this.update(e),0),this.subMenu.menu.removeClass("vjs-hidden"))}createEl(){const e=Yn.dom.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuTitleEl_=Yn.dom.createEl("div",{className:"vjs-settings-sub-menu-title"}),e.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=Yn.dom.createEl("div",{className:"vjs-settings-sub-menu-value"}),e.appendChild(this.settingsSubMenuValueEl_),this.settingsSubMenuEl_=Yn.dom.createEl("div",{className:"vjs-settings-sub-menu"}),e}handleClick(){this.menuToLoad="submenu",Yn.dom.removeClass(this.el_,"open"),super.handleClick(),this.mainMenu.el_.style.opacity="0",Yn.dom.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(Yn.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout(()=>{this.settingsSubMenuEl_.style.opacity="1",this.settingsSubMenuEl_.style.marginRight="0px"},0),this.settingsButton.setDialogSize(this.size)):Yn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}createBackButton(){const e=this.subMenu.menu.addChild("MenuItem",{},0);e.name_="BackButton",e.addClass("vjs-back-button"),e.el_.innerHTML=this.player_.localize(this.subMenu.controlText_)}PrefixedEvent(e,t,n,i="addEvent"){const o=["webkit","moz","MS","o",""];for(let l=0;l<o.length;l++)o[l]||(t=t.toLowerCase()),"addEvent"===i?e.addEventListener(o[l]+t,n,!1):"removeEvent"===i&&e.removeEventListener(o[l]+t,n,!1)}onTransitionEnd(e){"margin-right"===e.propertyName&&"mainmenu"===this.menuToLoad&&(Yn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")}reset(){Yn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()}loadMainMenu(){this.menuToLoad="mainmenu",this.mainMenu.show(),this.mainMenu.el_.style.opacity="0",this.settingsButton.setDialogSize([this.mainMenu.width,this.mainMenu.height]),setTimeout(()=>{this.setMargin(),this.mainMenu.el_.style.opacity="1"},0)}build(){this.subMenu.on("updateLabel",()=>{this.update()}),this.subMenu.on("menuChanged",()=>{this.bindClickEvents(),this.setSize(),this.update()}),this.settingsSubMenuTitleEl_.innerHTML=this.player_.localize(this.subMenu.controlText_),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el_),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.setSize(),this.bindClickEvents(),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")}update(e){let t=null;const n=this.subMenu.name();if(e&&"tap"===e.type?t=e.target:e&&(t=e.currentTarget),"PlaybackRateMenuButton"===n)setTimeout(()=>this.settingsSubMenuValueEl_.innerHTML=this.subMenu.labelEl_.innerHTML,250);else for(const i of this.subMenu.menu.children_)if(i instanceof Jn&&i.hasClass("vjs-selected")){if("function"==typeof i.getLabel){this.settingsSubMenuValueEl_.innerHTML=i.getLabel();break}this.settingsSubMenuValueEl_.innerHTML=i.options_.label}t&&!t.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog()}bindClickEvents(){for(const e of this.subMenu.menu.children())e instanceof Jn&&e.on(["tap","click"],this.submenuClickHandler)}setSize(){this.dialog.removeClass("vjs-hidden"),Yn.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),Yn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}setMargin(){if(!this.size)return;const[e]=this.size;this.settingsSubMenuEl_.style.marginRight=`-${e}px`}hideSubMenu(){this.el_&&Yn.dom.hasClass(this.el_,"open")&&(Yn.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),Yn.dom.removeClass(this.el_,"open"))}}Zn.prototype.contentElType="button",Yn.registerComponent("SettingsMenuItem",Zn);const ei=Yn.getComponent("Button"),ti=Yn.getComponent("Menu"),ni=Yn.getComponent("Component");class ii extends ei{constructor(e,t){super(e,t),this.playerComponent=mn.Player,this.playerComponent=e,this.dialog=this.playerComponent.addChild("settingsDialog"),this.dialogEl=this.dialog.el_,this.menu=null,this.panel=this.dialog.addChild("settingsPanel"),this.panelChild=this.panel.addChild("settingsPanelChild"),this.addClass("vjs-settings"),this.el_.setAttribute("aria-label","Settings Button"),this.addSettingsItemHandler=this.onAddSettingsItem.bind(this),this.disposeSettingsItemHandler=this.onDisposeSettingsItem.bind(this),this.playerClickHandler=this.onPlayerClick.bind(this),this.userInactiveHandler=this.onUserInactive.bind(this),this.buildMenu(),this.bindEvents(),this.player().one("play",()=>this.hideDialog())}onPlayerClick(e){const t=e.target;t.classList.contains("vjs-settings")||t.parentElement.classList.contains("vjs-settings")||this.dialog.hasClass("vjs-hidden")||this.hideDialog()}onDisposeSettingsItem(e,t){if(void 0===t){const e=this.menu.children();for(;e.length>0;)e[0].dispose(),this.menu.removeChild(e[0]);this.addClass("vjs-hidden")}else{const e=this.menu.getChild(t);e&&(e.dispose(),this.menu.removeChild(e))}this.hideDialog(),0===this.options_.entries.length&&this.addClass("vjs-hidden")}onAddSettingsItem(e,t){const[n,i]=t;this.addMenuItem(n,i),this.removeClass("vjs-hidden")}onUserInactive(){this.dialog.hasClass("vjs-hidden")||this.hideDialog()}bindEvents(){this.playerComponent.on("click",this.playerClickHandler),this.playerComponent.on("addsettingsitem",this.addSettingsItemHandler),this.playerComponent.on("disposesettingsitem",this.disposeSettingsItemHandler),this.playerComponent.on("userinactive",this.userInactiveHandler)}buildCSSClass(){return`vjs-icon-settings ${super.buildCSSClass()}`}handleClick(){this.dialog.hasClass("vjs-hidden")?this.showDialog():this.hideDialog()}showDialog(){this.player_.peertube().onMenuOpen(),this.menu.el_.style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu))}hideDialog(){this.player_.peertube().onMenuClosed(),this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el_.style.opacity="1",this.resetChildren()}getComponentSize(e){let t=null,n=null;return e instanceof ni?(n=e.el_.offsetHeight,e.width=t=e.el_.offsetWidth,e.height=n):(t=e.offsetWidth,n=e.offsetHeight),[t,n]}setDialogSize([e,t]){if("number"!=typeof t)return;const n=this.playerComponent.el_.offsetHeight-this.options_.setup.maxHeightOffset;t>n?(e+=17,this.panel.el_.style.maxHeight=`${t=n}px`):""!==this.panel.el_.style.maxHeight&&(this.panel.el_.style.maxHeight=""),this.dialogEl.style.width=`${e}px`,this.dialogEl.style.height=`${t}px`}buildMenu(){this.menu=new ti(this.player()),this.menu.addClass("vjs-main-menu");const e=this.options_.entries;if(0===e.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);for(const t of e)this.addMenuItem(t,this.options_);this.panelChild.addChild(this.menu)}addMenuItem(e,t){t.name=Object(Lt.j)(e);const n=new Zn(this.player(),t,e,this);this.menu.addChild(n),n.on("click",mn.bind(this,this.hideChildren)),n.on("click",(function(){Yn.dom.hasClass(this.el_,"open")?Yn.dom.removeClass(this.el_,"open"):Yn.dom.addClass(this.el_,"open")}))}resetChildren(){for(const e of this.menu.children())e.reset()}hideChildren(){for(const e of this.menu.children())e.hideSubMenu()}}ii.prototype.controlText_="Settings",ni.registerComponent("SettingsButton",ii),ni.registerComponent("SettingsDialog",class extends ni{constructor(e,t){super(e,t),this.hide()}createEl(){const e=this.id_;return super.createEl("div",{className:"vjs-settings-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"dialog","aria-labelledby":"TTsettingsDialogLabel-"+e,"aria-describedby":"TTsettingsDialogDescription-"+e})}}),ni.registerComponent("SettingsPanel",class extends ni{constructor(e,t){super(e,t)}createEl(){return super.createEl("div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})}}),ni.registerComponent("SettingsPanelChild",class extends ni{constructor(e,t){super(e,t)}createEl(){return super.createEl("div",{className:"vjs-settings-panel-child",innerHTML:"",tabIndex:-1})}});var oi=n("Trnl");const li=mn.getPlugin("plugin");mn.registerPlugin("peertube",class extends li{constructor(e,t){super(e,t),this.CONSTANTS={USER_WATCHING_VIDEO_INTERVAL:5e3},this.menuOpened=!1,this.mouseInControlBar=!1,this.videoViewUrl=t.videoViewUrl,this.videoDuration=t.videoDuration,this.videoCaptions=t.videoCaptions,this.savedInactivityTimeout=e.options_.inactivityTimeout,!0===t.autoplay&&this.player.addClass("vjs-has-autoplay"),this.player.on("autoplay-failure",()=>{this.player.removeClass("vjs-has-autoplay")}),this.player.ready(()=>{const e=this.player.options_;"webtorrent"===t.mode&&(this.player.webtorrent().on("resolutionChange",(e,t)=>this.handleResolutionChange(t)),this.player.webtorrent().on("autoResolutionChange",(e,t)=>this.trigger("autoResolutionChange",t))),"p2p-media-loader"===t.mode&&this.player.p2pMediaLoader().on("resolutionChange",(e,t)=>this.handleResolutionChange(t)),this.player.tech_.on("loadedqualitydata",()=>{setTimeout(()=>{this.lastResolutionChange&&this.handleResolutionChange(this.lastResolutionChange)},0)});const n=Object(oi.f)();void 0!==n&&this.player.volume(n);const i=void 0!==e.muted?e.muted:Object(oi.c)();if(void 0!==i&&this.player.muted(i),this.defaultSubtitle=t.subtitle||Object(oi.b)(),this.player.on("volumechange",()=>{Object(oi.k)(this.player.volume()),Object(oi.i)(this.player.muted())}),t.stopTime){const e=Object(Lt.i)(t.stopTime),n=this;this.player.on("timeupdate",(function t(){n.player.currentTime()>e&&(n.player.pause(),n.player.trigger("stopped"),n.player.off("timeupdate",t))}))}this.player.textTracks().on("change",()=>{const e=this.player.textTracks().tracks_.find(e=>"captions"===e.kind&&"showing"===e.mode);e?Object(oi.h)(e.language):Object(oi.h)("off")}),this.player.on("sourcechange",()=>this.initCaptions()),this.player.duration(t.videoDuration),this.initializePlayer(),this.runViewAdd(),t.userWatching&&this.runUserWatchVideo(t.userWatching)})}dispose(){this.videoViewInterval&&clearInterval(this.videoViewInterval),this.userWatchingVideoInterval&&clearInterval(this.userWatchingVideoInterval)}onMenuOpen(){this.menuOpened=!1,this.alterInactivity()}onMenuClosed(){this.menuOpened=!0,this.alterInactivity()}initializePlayer(){Object(Lt.f)()&&this.player.addClass("vjs-is-mobile"),this.initSmoothProgressBar(),this.initCaptions(),this.listenControlBarMouse()}runViewAdd(){this.clearVideoViewInterval();let e=30;this.videoDuration<e&&(e=3*this.videoDuration/4);let t=0;this.videoViewInterval=setInterval(()=>{this.player&&!this.player.paused()&&(t+=1)>e&&(this.clearVideoViewInterval(),this.addViewToVideo().catch(e=>console.error(e)))},1e3)}runUserWatchVideo(e){let t=0;this.userWatchingVideoInterval=setInterval(()=>{const n=Math.floor(this.player.currentTime());n-t>=1&&(t=n,this.notifyUserIsWatching(n,e.url,e.authorizationHeader).catch(e=>console.error("Cannot notify user is watching.",e)))},this.CONSTANTS.USER_WATCHING_VIDEO_INTERVAL)}clearVideoViewInterval(){void 0!==this.videoViewInterval&&(clearInterval(this.videoViewInterval),this.videoViewInterval=void 0)}addViewToVideo(){return this.videoViewUrl?fetch(this.videoViewUrl,{method:"POST"}):Promise.resolve(void 0)}notifyUserIsWatching(e,t,n){const i=new URLSearchParams;i.append("currentTime",e.toString());const o=new Headers({Authorization:n});return fetch(t,{method:"PUT",body:i,headers:o})}handleResolutionChange(e){this.lastResolutionChange=e;const t=this.player.qualityLevels();for(let n=0;n<t.length;n++)if(t[n].height===e.resolutionId){e.id=t[n].id;break}this.trigger("resolutionChange",e)}listenControlBarMouse(){this.player.controlBar.on("mouseenter",()=>{this.mouseInControlBar=!0,this.alterInactivity()}),this.player.controlBar.on("mouseleave",()=>{this.mouseInControlBar=!1,this.alterInactivity()})}alterInactivity(){this.player.options_.inactivityTimeout=this.menuOpened||this.mouseInControlBar?this.savedInactivityTimeout:1}initCaptions(){for(const e of this.videoCaptions)this.player.addRemoteTextTrack({kind:"captions",label:e.label,language:e.language,id:e.language,src:e.src,default:this.defaultSubtitle===e.language},!1);this.player.trigger("captionsChanged")}initSmoothProgressBar(){const e=Yn.getComponent("SeekBar");e.prototype.getPercent=function(){const e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},e.prototype.handleMouseMove=function(e){let t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t),this.update()}}});const ri=Yn.getComponent("Button");class ai extends ri{constructor(e,t){super(e,t)}createEl(){const e=Yn.dom.createEl("button",{className:"vjs-next-video"}),t=Yn.dom.createEl("span",{className:"icon icon-next"});return e.appendChild(t),e.title=this.player_.localize("Next video"),e}handleClick(){this.options_.handler()}}ai.prototype.controlText_="Next video",ai.registerComponent("NextVideoButton",ai);const si=Yn.getComponent("Button");si.registerComponent("PeerTubeLinkButton",class extends si{constructor(e,t){super(e,t)}createEl(){return this.buildElement()}updateHref(){this.el().setAttribute("href",Object(Lt.b)({startTime:this.player().currentTime()}))}handleClick(){this.player_.pause()}buildElement(){const e=Yn.dom.createEl("a",{href:Object(Lt.b)(),innerHTML:"BitTube",title:this.player_.localize("Go to the video page"),className:"vjs-peertube-link",target:"_blank"});return e.addEventListener("mouseenter",()=>this.updateHref()),e}});const ui=Yn.getComponent("MenuItem");class ci extends ui{constructor(e,t){t.selectable=!0,super(e,t),this.autoResolutionPossible=!0,this.currentResolutionLabel="",this.label=t.label,this.labels=t.labels,this.id=t.id,this.callback=t.callback,e.peertube().on("resolutionChange",(e,t)=>this.updateSelection(t)),-1===this.id&&e.peertube().on("autoResolutionChange",(e,t)=>this.updateAutoResolution(t))}handleClick(e){!1===this.autoResolutionPossible&&-1===this.id||(super.handleClick(e),this.callback(this.id,"video"))}updateSelection(e){-1===this.id&&(this.currentResolutionLabel=this.labels[e.id]),this.selected(!0!==e.auto?this.id===e.id:-1===this.id)}updateAutoResolution(e){!1===e.possible?this.addClass("disabled"):this.removeClass("disabled"),this.autoResolutionPossible=e.possible}getLabel(){return-1===this.id?this.label+" <small>"+this.currentResolutionLabel+"</small>":this.label}}ui.registerComponent("ResolutionMenuItem",ci);const di=Yn.getComponent("Menu"),hi=Yn.getComponent("MenuButton");class pi extends hi{constructor(e,t){super(e,t),this.player=e,e.tech_.on("loadedqualitydata",(e,t)=>this.buildQualities(t)),e.peertube().on("resolutionChange",()=>setTimeout(()=>this.trigger("updateLabel"),0))}createEl(){const e=super.createEl();return this.labelEl_=Yn.dom.createEl("div",{className:"vjs-resolution-value"}),e.appendChild(this.labelEl_),e}updateARIAAttributes(){this.el().setAttribute("aria-label","Quality")}createMenu(){return new di(this.player_)}buildCSSClass(){return super.buildCSSClass()+" vjs-resolution-button"}buildWrapperCSSClass(){return"vjs-resolution-control "+super.buildWrapperCSSClass()}addClickListener(e){e.on("click",()=>{const t=this.menu.children();for(const n of t)e!==n&&n.selected(!1)})}buildQualities(e){const t={};e.qualityData.video.sort((e,t)=>e.id>t.id?-1:e.id===t.id?0:1);for(const n of e.qualityData.video){if(-1===n.id)continue;const i="0p"===n.label?this.player.localize("Audio-only"):n.label;this.menu.addChild(new ci(this.player_,{id:n.id,label:i,selected:n.selected,callback:e.qualitySwitchCallback})),t[n.id]=n.label}this.menu.addChild(new ci(this.player_,{id:-1,label:this.player_.localize("Auto"),labels:t,callback:e.qualitySwitchCallback,selected:!0}));for(const n of this.menu.children())this.addClickListener(n);this.trigger("menuChanged")}}pi.prototype.controlText_="Quality",hi.registerComponent("ResolutionMenuButton",pi);const gi=Yn.getComponent("Button");gi.registerComponent("P2PInfoButton",class extends gi{createEl(){const e=Yn.dom.createEl("div",{className:"vjs-peertube"}),t=Yn.dom.createEl("div",{className:"vjs-peertube-hidden"});e.appendChild(t);const n=Yn.dom.createEl("span",{className:"icon icon-download"});t.appendChild(n);const i=Yn.dom.createEl("span",{className:"download-speed-text"}),o=Yn.dom.createEl("span",{className:"download-speed-number"}),l=Yn.dom.createEl("span");i.appendChild(o),i.appendChild(l),t.appendChild(i);const r=Yn.dom.createEl("span",{className:"icon icon-upload"});t.appendChild(r);const a=Yn.dom.createEl("span",{className:"upload-speed-text"}),s=Yn.dom.createEl("span",{className:"upload-speed-number"}),u=Yn.dom.createEl("span");a.appendChild(s),a.appendChild(u),t.appendChild(a);const c=Yn.dom.createEl("span",{className:"peers-text"}),d=Yn.dom.createEl("span",{className:"peers-number"});t.appendChild(d),t.appendChild(c);const h=Yn.dom.createEl("div",{className:"vjs-peertube-hidden"}),p=Yn.dom.createEl("span",{className:"http-fallback",textContent:"HTTP"});return h.appendChild(p),e.appendChild(h),this.player_.on("p2pInfo",(e,n)=>{if(!n)return h.className="vjs-peertube-displayed",void(t.className="vjs-peertube-hidden");const i=n.p2p,r=n.http,a=Object(Lt.c)(i.downloadSpeed+r.downloadSpeed),p=Object(Lt.c)(i.uploadSpeed+r.uploadSpeed),g=Object(Lt.c)(i.downloaded+r.downloaded),f=Object(Lt.c)(i.uploaded+r.uploaded),m=i.numPeers;t.title=this.player_.localize("Total downloaded: ")+g.join(" ")+"\n"+this.player_.localize("Total uploaded: "+f.join(" ")),o.textContent=a[0],l.textContent=" "+a[1],s.textContent=p[0],u.textContent=" "+p[1],d.textContent=m,c.textContent=" "+this.player_.localize(m>1?"peers":"peer"),h.className="vjs-peertube-hidden",t.className="vjs-peertube-displayed"}),e}});const fi=Yn.getComponent("Component");fi.registerComponent("PeerTubeLoadProgressBar",class extends fi{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",this.update)}createEl(){return super.createEl("div",{className:"vjs-load-progress",innerHTML:`<span class="vjs-control-text"><span>${this.localize("Loaded")}</span>: 0%</span>`})}dispose(){this.partEls_=null,super.dispose()}update(){const e=this.player().webtorrent().getTorrent();e&&(this.el_.style.width=100*e.progress+"%")}});const mi=Yn.getComponent("Button");let vi=(()=>{class e extends mi{constructor(t,n){super(t,n);const i=Object(oi.e)();!0===i&&(this.player_.addClass(e.THEATER_MODE_CLASS),this.handleTheaterChange()),this.player_.theaterEnabled=i}buildCSSClass(){return`vjs-theater-control ${super.buildCSSClass()}`}handleTheaterChange(){const e=this.isTheaterEnabled();this.controlText(e?"Normal mode":"Theater mode"),Object(oi.j)(e),this.player_.trigger("theaterChange",e)}handleClick(){this.player_.toggleClass(e.THEATER_MODE_CLASS),this.handleTheaterChange()}isTheaterEnabled(){return this.player_.hasClass(e.THEATER_MODE_CLASS)}}return e.THEATER_MODE_CLASS="vjs-theater-enabled",e})();vi.prototype.controlText_="Theater mode",vi.registerComponent("TheaterButton",vi);var yi=n("OQMk"),_i=n("nKAH");function bi(e){const t=fetch(e).then(e=>e.json()).catch(e=>(console.error("Cannot get sha256 segments",e),{})),n=/bytes=(\d+)-(\d+)/;return function(e){return Object(pe.a)(this,void 0,void 0,(function*(){const i=Object(_i.basename)(e.url),o=n.exec(e.range),l=o[1]+"-"+o[2],r=(yield t)[i][l];if(void 0===r)throw new Error(`Unknown segment name ${i}/${l} in segment validator`);const a=function(e){if(!e)return"";let t="";const n="0123456789abcdef";return new Uint8Array(e).forEach(e=>t+=n[e>>4]+n[15&e]),t}(yield(s=e.data,s?window.crypto.subtle.digest("SHA-256",s):void 0));var s;if(a!==r)throw new Error(`Hashes does not correspond for segment ${i}/${l}`+`(expected: ${r} instead of ${a})`)}))}}function Ci(e){return function(t){return e.buildUrl(t.url)}}class Ti{constructor(e=[]){this.baseUrls=e}removeBySegmentUrl(e){console.log("Removing redundancy of segment URL %s.",e);const t=Object(_i.dirname)(e);this.baseUrls=this.baseUrls.filter(e=>e!==t&&e!==t+"/")}buildUrl(e){const t=this.baseUrls.length+1,n=this.getRandomInt(t);if(n===t-1)return e;const i=this.baseUrls[n],o=i.endsWith("/")?"":"/";return i+o+Object(_i.basename)(e)}countBaseUrls(){return this.baseUrls.length}getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}}let ki=(()=>{class e{static getServerTranslations(t,n){const i=e.getLocalePath(t,n);return i?fetch(i+"/server.json").then(e=>e.json()).catch(e=>{console.error("Cannot get server translations",e)}):Promise.resolve(void 0)}static loadLocaleInVideoJS(t,n,i){const o=e.getLocalePath(t,n);if(!o)return Promise.resolve(void 0);let l;l=e.videojsLocaleCache[o]?Promise.resolve(e.videojsLocaleCache[o]):fetch(o+"/player.json").then(e=>e.json()).then(t=>(e.videojsLocaleCache[o]=t,t)).catch(e=>{console.error("Cannot get player translations",e)});const r=Object(ne.q)(n);return l.then(e=>i.addLanguage(Object(ne.r)(r),e))}static getLocalePath(e,t){const n=Object(ne.q)(t);if(Object(ne.t)(n)&&!Object(ne.u)(n))return e+"/client/locales/"+n}}return e.videojsLocaleCache={},e})();Yn.getComponent("PlaybackRateMenuButton").prototype.controlText_="Speed",Yn.getComponent("CaptionsButton").prototype.controlText_="Subtitles/CC",Yn.getComponent("CaptionsButton").prototype.label_=" ";class Pi{static initialize(e,t,i){return Object(pe.a)(this,void 0,void 0,(function*(){let o;this.onPlayerChange=i,this.playerElementClassName=t.common.playerElement.className,"webtorrent"===e&&(yield Promise.all([n.e(1),n.e(3),n.e(0),n.e(5)]).then(n.bind(null,"ewd/"))),"p2p-media-loader"===e&&([o]=yield Promise.all([Promise.all([n.e(1),n.e(3),n.e(7)]).then(n.t.bind(null,"tlK4",7)),Promise.all([n.e(1),n.e(3),n.e(7),n.e(23)]).then(n.bind(null,"izw0"))]));const l=this.getVideojsOptions(e,t,o);yield ki.loadLocaleInVideoJS(t.common.serverUrl,t.common.language,mn);const r=this;return new Promise(n=>{mn(t.common.playerElement,l,(function(){const i=this;let o=!1;return i.tech_.one("error",()=>{o||r.maybeFallbackToWebTorrent(e,i,t),o=!0}),i.one("error",()=>{o||r.maybeFallbackToWebTorrent(e,i,t),o=!0}),r.addContextMenu(e,i,t.common.embedUrl),i.bezels(),n(i)}))})}))}static maybeFallbackToWebTorrent(e,t,i){return Object(pe.a)(this,void 0,void 0,(function*(){if("webtorrent"===e)return;console.log("Fallback to webtorrent.");const o=document.createElement("video");o.className=this.playerElementClassName;let l=i.common.playerElement.parentNode;l||(l=document.getElementById(i.common.playerElement.id).parentNode),l.parentNode.insertBefore(o,l),i.common.playerElement=o,i.common.onPlayerElementChange(o),t.dispose(),yield Promise.all([n.e(1),n.e(3),n.e(0),n.e(5)]).then(n.bind(null,"ewd/"));const r=this.getVideojsOptions("webtorrent",i),a=this;mn(o,r,(function(){a.addContextMenu("webtorrent",this,i.common.embedUrl),Pi.onPlayerChange(this)}))}))}static getVideojsOptions(e,t,n){const i=t.common;let o=i.autoplay,l={};const r={peertube:{mode:e,autoplay:o,videoViewUrl:i.videoViewUrl,videoDuration:i.videoDuration,userWatching:i.userWatching,subtitle:i.subtitle,videoCaptions:i.videoCaptions,stopTime:i.stopTime}};if(!0===i.enableHotkeys&&Pi.addHotkeysOptions(r),"p2p-media-loader"===e){const{streamrootHls:e}=Pi.addP2PMediaLoaderOptions(r,t,n);l=e.html5}"webtorrent"===e&&(Pi.addWebTorrentOptions(r,t),o=!1);const a={html5:l,textTrackSettings:!1,controls:void 0===i.controls||i.controls,loop:void 0!==i.loop&&i.loop,muted:void 0!==i.muted?i.muted:void 0,autoplay:!0===o?"any":o,poster:i.poster,inactivityTimeout:i.inactivityTimeout,playbackRates:[.5,.75,1,1.25,1.5,2],plugins:r,controlBar:{children:this.getControlBarChildren(e,{captions:i.captions,peertubeLink:i.peertubeLink,theaterButton:i.theaterButton,nextVideo:i.nextVideo})}};return i.language&&!Object(yi.g)(i.language)&&Object.assign(a,{language:i.language}),a}static addP2PMediaLoaderOptions(e,t,n){const i=t.p2pMediaLoader,o=t.common,l=i.trackerAnnounce.filter(e=>e.startsWith("ws")),r=new Ti(t.p2pMediaLoader.redundancyBaseUrls),a={redundancyUrlManager:r,type:"application/x-mpegURL",startTime:o.startTime,src:i.playlistUrl};let s=!1;navigator&&navigator.connection&&"cellular"===navigator.connection.type&&(console.log("We are on a cellular connection: disabling seeding."),s=!0);const u={loader:{trackerAnnounce:l,segmentValidator:bi(t.p2pMediaLoader.segmentsSha256Url),rtcConfig:Object(Lt.e)(),requiredSegmentsPriority:5,segmentUrlBuilder:Ci(r),useP2P:Object(oi.d)(),consumeOnly:s},segments:{swarmId:i.playlistUrl}},c={p2pMediaLoader:a,streamrootHls:{levelLabelHandler:e=>{const t=i.videoFiles.find(t=>t.resolution.id===e.height);let n=t.resolution.label;return t.fps>=50&&(n+=t.fps),n},html5:{hlsjsConfig:{capLevelToPlayerSize:!0,autoStartLoad:!1,liveSyncDurationCount:7,loader:new n.Engine(u).createLoaderClass()}}}};return Object.assign(e,c),c}static addWebTorrentOptions(e,t){const n=t.common;Object.assign(e,{webtorrent:{autoplay:n.autoplay,videoDuration:n.videoDuration,playerElement:n.playerElement,videoFiles:t.webtorrent.videoFiles,startTime:n.startTime}})}static getControlBarChildren(e,t){const n=[],i="webtorrent"===e?"peerTubeLoadProgressBar":"loadProgressBar";n.push("playbackRateMenuButton"),!0===t.captions&&n.push("captionsButton"),n.push("resolutionMenuButton");const o={playToggle:{}};return t.nextVideo&&Object.assign(o,{nextVideoButton:{handler:t.nextVideo}}),Object.assign(o,{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},liveDisplay:{},flexibleWidthSpacer:{},progressControl:{children:{seekBar:{children:{[i]:{},mouseTimeDisplay:{},playProgressBar:{}}}}},p2PInfoButton:{},muteToggle:{},volumeControl:{},settingsButton:{setup:{maxHeightOffset:40},entries:n}}),!0===t.peertubeLink&&Object.assign(o,{peerTubeLinkButton:{}}),!0===t.theaterButton&&Object.assign(o,{theaterButton:{}}),Object.assign(o,{fullscreenToggle:{}}),o}static addContextMenu(e,t,n){const i=[{label:t.localize("Copy the video URL"),listener:function(){Object(Lt.d)(Object(Lt.b)())}},{label:t.localize("Copy the video URL at the current time"),listener:function(){Object(Lt.d)(Object(Lt.b)({startTime:this.currentTime()}))}},{label:t.localize("Copy embed code"),listener:()=>{Object(Lt.d)(Object(Lt.a)(n))}}];"webtorrent"===e&&i.push({label:t.localize("Copy magnet URI"),listener:function(){Object(Lt.d)(this.webtorrent().getCurrentVideoFile().magnetUri)}}),t.contextmenuUI({content:i})}static addHotkeysOptions(e){Object.assign(e,{hotkeys:{enableVolumeScroll:!1,enableModifiersForNumbers:!1,fullscreenKey:function(e){return"f"===e.key||e.ctrlKey&&"Enter"===e.key},seekStep:function(e){return e.ctrlKey&&e.altKey?300:e.ctrlKey?60:e.altKey?10:5},customKeys:{increasePlaybackRateKey:{key:function(e){return">"===e.key},handler:function(e){e.playbackRate((e.playbackRate()+.1).toFixed(2))}},decreasePlaybackRateKey:{key:function(e){return"<"===e.key},handler:function(e){e.playbackRate((e.playbackRate()-.1).toFixed(2))}},frameByFrame:{key:function(e){return"."===e.key},handler:function(e){e.pause(),e.currentTime(e.currentTime()+1/30)}}}}})}}let wi=(()=>{class e{constructor(e,t,n,i,o,l,r,a,s,u,c,d,h,p,g,f,m,v,y,_,b){this.elementRef=e,this.changeDetector=t,this.route=n,this.router=i,this.videoService=o,this.playlistService=l,this.confirmService=r,this.metaService=a,this.authService=s,this.serverService=u,this.restExtractor=c,this.notifier=d,this.markdownService=h,this.zone=p,this.redirectService=g,this.videoCaptionService=f,this.i18n=m,this.hotkeysService=v,this.hooks=y,this.location=_,this.localeId=b,this.theaterEnabled=!1,this.userRating=null,this.descriptionLoading=!1,this.video=null,this.videoCaptions=[],this.playlist=null,this.completeDescriptionShown=!1,this.videoHTMLDescription="",this.likesBarTooltipText="",this.hasAlreadyAcceptedPrivacyConcern=!1,this.remoteServerDown=!1,this.hotkeys=[],this.tooltipLike="",this.tooltipDislike="",this.tooltipSupport="",this.tooltipSaveToPlaylist="",this.nextVideoUuid="",this.nextVideoTitle="",this.tooltipLike=this.i18n("Like this video"),this.tooltipDislike=this.i18n("Dislike this video"),this.tooltipSupport=this.i18n("Support options for this video"),this.tooltipSaveToPlaylist=this.i18n("Save to playlist")}get user(){return this.authService.getUser()}ngOnInit(){return Object(pe.a)(this,void 0,void 0,(function*(){this.serverConfig=this.serverService.getTmpConfig(),this.configSub=this.serverService.getConfig().subscribe(t=>{this.serverConfig=t,(Object(Lt.g)()||!1===this.serverConfig.tracker.enabled||!1===Object(oi.d)()||"true"===ht.a.getItem(e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY))&&(this.hasAlreadyAcceptedPrivacyConcern=!0)}),this.paramsSub=this.route.params.subscribe(e=>{const t=e.videoId;t&&this.loadVideo(t);const n=e.playlistId;n&&this.loadPlaylist(n)}),this.queryParamsSub=this.route.queryParams.subscribe(e=>Object(pe.a)(this,void 0,void 0,(function*(){const t=e.videoId;t&&this.loadVideo(t);const n=e.start;this.player&&n&&this.player.currentTime(parseInt(n,10))}))),this.initHotkeys(),this.theaterEnabled=Object(oi.e)(),this.hooks.runAction("action:video-watch.init","video-watch")}))}ngOnDestroy(){this.flushPlayer(),this.paramsSub&&this.paramsSub.unsubscribe(),this.queryParamsSub&&this.queryParamsSub.unsubscribe(),this.hotkeysService.remove(this.hotkeys)}setLike(){!1!==this.isUserLoggedIn()&&this.setRating("like"===this.userRating?"none":"like")}setDislike(){!1!==this.isUserLoggedIn()&&this.setRating("dislike"===this.userRating?"none":"dislike")}getRatePopoverText(){if(!this.isUserLoggedIn())return this.i18n("You need to be connected to rate this content.")}showMoreDescription(){if(void 0===this.completeVideoDescription)return this.loadCompleteDescription();this.updateVideoDescription(this.completeVideoDescription),this.completeDescriptionShown=!0}showLessDescription(){this.updateVideoDescription(this.shortVideoDescription),this.completeDescriptionShown=!1}loadCompleteDescription(){this.descriptionLoading=!0,this.videoService.loadCompleteDescription(this.video.descriptionPath).subscribe(e=>{this.completeDescriptionShown=!0,this.descriptionLoading=!1,this.shortVideoDescription=this.video.description,this.completeVideoDescription=e,this.updateVideoDescription(this.completeVideoDescription)},e=>{this.descriptionLoading=!1,this.notifier.error(e.message)})}showSupportModal(){this.pausePlayer(),this.videoSupportModal.show()}showShareModal(){this.pausePlayer(),this.videoShareModal.show(this.currentTime)}isUserLoggedIn(){return this.authService.isLoggedIn()}getVideoTags(){return this.video&&!1!==Array.isArray(this.video.tags)?this.video.tags:[]}onRecommendations(e){if(e.length>0){const t=e[0];this.nextVideoUuid=t.uuid,this.nextVideoTitle=t.name}}onModalOpened(){this.pausePlayer()}onVideoRemoved(){this.redirectService.redirectToHomepage()}acceptedPrivacyConcern(){ht.a.setItem(e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"true"),this.hasAlreadyAcceptedPrivacyConcern=!0}isVideoToTranscode(){return this.video&&this.video.state.id===fn.l.TO_TRANSCODE}isVideoToImport(){return this.video&&this.video.state.id===fn.l.TO_IMPORT}hasVideoScheduledPublication(){return this.video&&void 0!==this.video.scheduledUpdate}isVideoBlur(e){return e.isVideoNSFWForUser(this.user,this.serverConfig)}isAutoPlayEnabled(){return this.user&&this.user.autoPlayNextVideo||"true"===ht.b.getItem(pt.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)}handleTimestampClicked(e){this.player&&this.player.currentTime(e),Object(Q.m)()}isPlaylistAutoPlayEnabled(){return this.user&&this.user.autoPlayNextVideoPlaylist||"true"===ht.b.getItem(on.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST)}loadVideo(e){if(this.video&&this.video.uuid===e)return;this.player&&this.player.pause();const t=this.hooks.wrapObsFun(this.videoService.getVideo.bind(this.videoService),{videoId:e},"video-watch","filter:api.video-watch.video.get.params","filter:api.video-watch.video.get.result");Object(pn.a)([t,this.videoCaptionService.listCaptions(e)]).pipe(Object(ee.a)(e=>this.restExtractor.redirectTo404IfNotFound(e,[400,401,403,404]))).subscribe(([e,t])=>{const n=this.route.snapshot.queryParams;this.onVideoFetched(e,t.data,{startTime:n.start,stopTime:n.stop,muted:n.muted,loop:n.loop,subtitle:n.subtitle,playerMode:n.mode,peertubeLink:!1}).catch(e=>this.handleError(e))})}loadPlaylist(e){this.playlist&&this.playlist.uuid===e||this.playlistService.getVideoPlaylist(e).pipe(Object(ee.a)(e=>this.restExtractor.redirectTo404IfNotFound(e,[400,401,403,404]))).subscribe(e=>{this.playlist=e,this.videoWatchPlaylist.loadPlaylistElements(e,!this.route.snapshot.queryParams.videoId)})}updateVideoDescription(e){this.video.description=e,this.setVideoDescriptionHTML().catch(e=>console.error(e))}setVideoDescriptionHTML(){return Object(pe.a)(this,void 0,void 0,(function*(){const e=yield this.markdownService.textMarkdownToHTML(this.video.description);this.videoHTMLDescription=yield this.markdownService.processVideoTimestamps(e)}))}setVideoLikesBarTooltipText(){this.likesBarTooltipText=this.i18n("{{likesNumber}} likes / {{dislikesNumber}} dislikes",{likesNumber:this.video.likes,dislikesNumber:this.video.dislikes})}handleError(e){const t="string"==typeof e?e:e.message;if(t)return-1!==t.indexOf("from xs param")?(this.flushPlayer(),this.remoteServerDown=!0,void this.changeDetector.detectChanges()):void this.notifier.error(t)}checkUserRating(){!1!==this.isUserLoggedIn()&&this.videoService.getUserVideoRating(this.video.id).subscribe(e=>{e&&(this.userRating=e.rating)},e=>this.notifier.error(e.message))}onVideoFetched(e,t,n){return Object(pe.a)(this,void 0,void 0,(function*(){if(this.video=e,this.videoCaptions=t,this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.remoteServerDown=!1,this.currentTime=void 0,this.videoWatchPlaylist.updatePlaylistIndex(e),this.isVideoBlur(this.video)&&!1===(yield this.confirmService.confirm(this.i18n("This video contains mature or explicit content. Are you sure you want to watch it?"),this.i18n("Mature or explicit content"))))return this.location.back();this.flushPlayer();const i=this.elementRef.nativeElement.querySelector("#videojs-wrapper");this.playerElement=document.createElement("video"),this.playerElement.className="video-js vjs-peertube-skin",this.playerElement.setAttribute("playsinline","true"),i.appendChild(this.playerElement);const o={video:this.video,videoCaptions:t,urlOptions:n,user:this.user},{playerMode:l,playerOptions:r}=yield this.hooks.wrapFun(this.buildPlayerManagerOptions.bind(this),o,"video-watch","filter:internal.video-watch.player.build-options.params","filter:internal.video-watch.player.build-options.result");this.zone.runOutsideAngular(()=>Object(pe.a)(this,void 0,void 0,(function*(){this.player=yield Pi.initialize(l,r,e=>this.player=e),this.player.focus(),this.player.on("customError",({err:e})=>this.handleError(e)),this.player.on("timeupdate",()=>{this.currentTime=Math.floor(this.player.currentTime())}),this.player.upnext({timeout:1e4,headText:this.i18n("Up Next"),cancelText:this.i18n("Cancel"),suspendedText:this.i18n("Autoplay is suspended"),getTitle:()=>this.nextVideoTitle,next:()=>this.zone.run(()=>this.autoplayNext()),condition:()=>{if(this.playlist)this.isPlaylistAutoPlayEnabled()&&this.zone.run(()=>this.videoWatchPlaylist.navigateToNextPlaylistVideo());else if(this.isAutoPlayEnabled())return!0;return!1},suspended:()=>!Object(Q.g)(this.player.el(),80)||!document.getElementById("content").contains(document.activeElement)}),this.player.one("stopped",()=>{this.playlist&&this.isPlaylistAutoPlayEnabled()&&this.zone.run(()=>this.videoWatchPlaylist.navigateToNextPlaylistVideo())}),this.player.on("theaterChange",(e,t)=>{this.zone.run(()=>this.theaterEnabled=t)}),this.hooks.runAction("action:video-watch.player.loaded","video-watch",{player:this.player})}))),this.setVideoDescriptionHTML(),this.setVideoLikesBarTooltipText(),this.setOpenGraphTags(),this.checkUserRating(),this.hooks.runAction("action:video-watch.video.loaded","video-watch",{videojs:mn})}))}autoplayNext(){this.nextVideoUuid&&this.router.navigate(["/videos/watch",this.nextVideoUuid])}setRating(e){({like:this.videoService.setVideoLike,dislike:this.videoService.setVideoDislike,none:this.videoService.unsetVideoLike})[e].call(this.videoService,this.video.id).subscribe(()=>{this.updateVideoRating(this.userRating,e),this.userRating=e},e=>this.notifier.error(e.message))}updateVideoRating(e,t){let n=0,i=0;e&&("like"===e&&n--,"dislike"===e&&i--),"like"===t&&n++,"dislike"===t&&i++,this.video.likes+=n,this.video.dislikes+=i,this.video.buildLikeAndDislikePercents(),this.setVideoLikesBarTooltipText()}setOpenGraphTags(){this.metaService.setTitle(this.video.name),this.metaService.setTag("og:type","video"),this.metaService.setTag("og:title",this.video.name),this.metaService.setTag("name",this.video.name),this.metaService.setTag("og:description",this.video.description),this.metaService.setTag("description",this.video.description),this.metaService.setTag("og:image",this.video.previewPath),this.metaService.setTag("og:duration",this.video.duration.toString()),this.metaService.setTag("og:site_name","PeerTube"),this.metaService.setTag("og:url",window.location.href),this.metaService.setTag("url",window.location.href)}isAutoplay(){return!(this.route.snapshot.params.threadId||this.user&&!1===this.user.autoPlayVideo)}flushPlayer(){if(this.player)try{this.player.dispose(),this.player=void 0}catch(e){console.error("Cannot dispose player.",e)}}buildPlayerManagerOptions(e){const{video:t,videoCaptions:n,urlOptions:i,user:o}=e;let l=(()=>{const e=t.userHistory&&(!this.playlist||void 0!==i.resume);return void 0!==i.startTime?Object(Lt.i)(i.startTime):e?t.userHistory.currentTime:0})();t.duration-l<=1&&(l=0);const r=n.map(e=>({label:e.language.label,language:e.language.id,src:ie.a.apiUrl+e.captionPath})),a={common:{autoplay:this.isAutoplay(),nextVideo:()=>this.zone.run(()=>this.autoplayNext()),playerElement:this.playerElement,onPlayerElementChange:e=>this.playerElement=e,videoDuration:t.duration,enableHotkeys:!0,inactivityTimeout:2500,poster:t.previewUrl,startTime:l,stopTime:i.stopTime,controls:i.controls,muted:i.muted,loop:i.loop,subtitle:i.subtitle,peertubeLink:i.peertubeLink,theaterButton:!0,captions:0!==n.length,videoViewUrl:t.privacy.id!==fn.j.PRIVATE?this.videoService.getVideoViewUrl(t.uuid):null,embedUrl:t.embedUrl,language:this.localeId,userWatching:o&&!0===o.videosHistoryEnabled?{url:this.videoService.getUserWatchingVideoUrl(t.uuid),authorizationHeader:this.authService.getRequestHeaderValue()}:void 0,serverUrl:ie.a.apiUrl,videoCaptions:r},webtorrent:{videoFiles:t.files}};let s;if("p2p-media-loader"==(s=i.playerMode?"p2p-media-loader"===i.playerMode?"p2p-media-loader":"webtorrent":t.hasHlsPlaylist()?"p2p-media-loader":"webtorrent")){const e=t.getHlsPlaylist(),n={playlistUrl:e.playlistUrl,segmentsSha256Url:e.segmentsSha256Url,redundancyBaseUrls:e.redundancies.map(e=>e.baseUrl),trackerAnnounce:t.trackerUrls,videoFiles:e.files};Object.assign(a,{p2pMediaLoader:n})}return{playerMode:s,playerOptions:a}}pausePlayer(){this.player&&this.player.pause()}initHotkeys(){this.hotkeys=[new gn.Hotkey("f",e=>e,void 0,this.i18n("Enter/exit fullscreen (requires player focus)")),new gn.Hotkey("space",e=>e,void 0,this.i18n("Play/Pause the video (requires player focus)")),new gn.Hotkey("m",e=>e,void 0,this.i18n("Mute/unmute the video (requires player focus)")),new gn.Hotkey("0-9",e=>e,void 0,this.i18n("Skip to a percentage of the video: 0 is 0% and 9 is 90% (requires player focus)")),new gn.Hotkey("up",e=>e,void 0,this.i18n("Increase the volume (requires player focus)")),new gn.Hotkey("down",e=>e,void 0,this.i18n("Decrease the volume (requires player focus)")),new gn.Hotkey("right",e=>e,void 0,this.i18n("Seek the video forward (requires player focus)")),new gn.Hotkey("left",e=>e,void 0,this.i18n("Seek the video backward (requires player focus)")),new gn.Hotkey(">",e=>e,void 0,this.i18n("Increase playback rate (requires player focus)")),new gn.Hotkey("<",e=>e,void 0,this.i18n("Decrease playback rate (requires player focus)")),new gn.Hotkey(".",e=>e,void 0,this.i18n("Navigate in the video frame by frame (requires player focus)"))],this.isUserLoggedIn()&&(this.hotkeys=this.hotkeys.concat([new gn.Hotkey("shift+l",()=>(this.setLike(),!1),void 0,this.i18n("Like the video")),new gn.Hotkey("shift+d",()=>(this.setDislike(),!1),void 0,this.i18n("Dislike the video")),new gn.Hotkey("shift+s",()=>(this.subscribeButton.subscribed?this.subscribeButton.unsubscribe():this.subscribeButton.subscribe(),!1),void 0,this.i18n("Subscribe to the account"))])),this.hotkeysService.add(this.hotkeys)}}return e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY="video-watch-privacy-concern",e})();var Oi=n("Phsq"),Mi=n("Huiz"),Ei=n("cKMx"),xi=n("oVTH"),Si=i["\u0275crt"]({encapsulation:0,styles:[['.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{width:100%}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]     .video-js{height:calc(100vh - 50px - 115px);width:100%;max-width:initial}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}.blacklisted-label[_ngcontent-%COMP%]{font-weight:600}#video-wrapper[_ngcontent-%COMP%]{background-color:#000;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin:0 -15px}#video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:1;flex-grow:1}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{color:#fff;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;text-align:center;-webkit-box-pack:center;justify-content:center;background-color:#141313;width:100%;font-size:24px;height:500px}@media screen and (max-width:1000px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:20px}}#video-wrapper[_ngcontent-%COMP%]     .video-js{width:100%;max-width:calc(66vh * 1.7);height:66vh}#video-wrapper[_ngcontent-%COMP%]     .video-js video{outline:0;position:relative!important}.alert[_ngcontent-%COMP%]{text-align:center;border-radius:0}.flex-direction-column[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#video-not-found[_ngcontent-%COMP%]{height:300px;line-height:300px;margin-top:50px;text-align:center;font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:40px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:1px;max-width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{margin-right:30px;min-height:40px;font-size:27px;font-weight:600;-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-first-row-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{align-self:start;margin-bottom:10px;margin-right:10px;font-size:1em}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:18px;height:18px;min-width:18px;min-height:18px;margin:-2px 5px 0 0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative;line-height:1.37}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){font-weight:500;font-size:90%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-left:5px;margin-top:1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin:0 0 10px auto;-webkit-box-align:start;align-items:start;width:-webkit-max-content;width:-moz-max-content;width:max-content}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{height:40px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button{border:none;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 10px;cursor:pointer;outline:0;font-size:100%;font-weight:600;display:inline-block;white-space:nowrap;background-color:transparent!important;color:var(--actionButtonColor);text-transform:uppercase}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button my-global-icon{position:relative;width:21px;margin-right:0;top:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[fill="#000000"]{fill:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[stroke="#000000"]{stroke:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg stop[stop-color="#000000"]{stop-color:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button::after{display:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like{-webkit-filter:brightness(120%);filter:brightness(120%)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like .count{margin-right:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated .count{color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[fill="#000000"]{fill:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[stroke="#000000"]{stroke:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated .count{color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[fill="#000000"]{fill:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[stroke="#000000"]{stroke:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg stop[stop-color="#000000"]{stop-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support{color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[fill="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[fill="#000000"]{fill:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[stroke="#000000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[stroke="#000000"]{stroke:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg stop[stop-color="#000000"]{stop-color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   path:first-child{fill:var(--supportButtonHeartColor)!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-save my-global-icon{top:0!important;right:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button .icon-text{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-outer-container[_ngcontent-%COMP%]{position:relative}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-inner-container[_ngcontent-%COMP%]{position:absolute;height:20px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]{height:2px;margin-top:-2px;width:120px;background-color:#ccc;position:relative;top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar[_ngcontent-%COMP%]{height:100%;background-color:#909090}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar.liked[_ngcontent-%COMP%]{background-color:#000}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin:20px 0 20px 44px;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]     a{text-decoration:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{display:inline-block}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:#585858;font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:relative;top:2px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]{margin-left:44px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   .video-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:#585858;font-weight:700}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute.video-attribute-tags[_ngcontent-%COMP%]   .video-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2))::before{content:\', \'}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:15px;min-width:238px}@media screen and (min-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos{width:-webkit-min-content;width:-moz-min-content;width:min-content}}.video-bottom[_ngcontent-%COMP%]     .other-videos .title-page{margin:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos .video-miniature{display:-webkit-box;display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:100%;margin-bottom:20px;flex-wrap:wrap}@media screen and (max-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:1rem}}@media screen and (max-width:500px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:0;margin-top:.5rem}}my-video-comments[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}.privacy-concerns[_ngcontent-%COMP%]{width:calc(100% - 240px);position:fixed;bottom:0;padding:5px 15px;display:-webkit-box;display:flex;flex-wrap:nowrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;background-color:rgba(0,0,0,.9);color:#fff}@media screen and (max-width:800px){.privacy-concerns[_ngcontent-%COMP%]{margin-left:225px}}.expanded[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{width:100%;margin-left:-15px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0 5px}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor);-webkit-transition:color .3s;transition:color .3s}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:0!important}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]{background-color:var(--mainColor);padding:5px 8px 5px 7px;margin-left:auto;border-radius:3px;cursor:pointer;-webkit-transition:background-color .3s;transition:background-color .3s;font-weight:600}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]:hover{background-color:#000}@media screen and (max-width:1600px){.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{margin-bottom:5px}}@media screen and (max-width:1300px){.privacy-concerns[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:1100px){#video-wrapper[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}.video-bottom[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos   .video-miniature{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;width:auto}}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:16px}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]     .video-js{width:100vw;height:calc(100vw / 1.7)}.video-bottom[_ngcontent-%COMP%]{margin:20px 0 0!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{padding:0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:20px;height:auto}  .other-videos .video-miniature{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.privacy-concerns[_ngcontent-%COMP%]{width:100%}.privacy-concerns[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:450px){.video-bottom[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin-top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{font-size:14px!important}}']],data:{}});function Ii(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","remote-server-down"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Sorry, but this video is not available because the remote instance is not responding. "])),(e()(),i["\u0275eld"](2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Please try again later. "]))],null,null)}function Ai(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","col-md-12 alert alert-warning"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" De video wordt ge\xefmporteerd en is beschikbaar wanneer het importeren is voltooid. "]))],null,null)}function Ri(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","col-md-12 alert alert-warning"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" De video wordt getranscodeerd, deze werkt mogelijk niet correct. "]))],null,null)}function Ni(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-12 alert alert-info"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" Deze video wordt gepubliceerd op ",". "])),i["\u0275ppd"](2,2)],null,(function(e,t){var n=t.component,o=i["\u0275unv"](t,1,0,e(t,2,0,i["\u0275nov"](t.parent,0),n.video.scheduledUpdate.updateAt,"full"));e(t,1,0,o)}))}function ji(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","col-md-12 alert alert-danger"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","blacklisted-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Deze video staat op de zwarte lijst."])),(e()(),i["\u0275ted"](3,null,[" "," "]))],null,(function(e,t){e(t,3,0,t.component.video.blacklistedReason)}))}function Di(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.video.likes)}))}function Li(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.video.dislikes)}))}function Vi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,5,"div",[["class","action-button action-button-support"],["placement","bottom auto"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showSupportModal()&&i),i}),null,null)),i["\u0275did"](1,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](2,0,null,null,1,"my-global-icon",[["iconName","support"]],null,null,null,s.b,s.a)),i["\u0275did"](3,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](4,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Ondersteun"])),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){e(t,1,0,"bottom auto",t.component.tooltipSupport),e(t,3,0,"support")}),null)}function Bi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,17,"div",[["autoClose","outside"],["class","action-dropdown"],["ngbDropdown",""],["placement","bottom auto"],["role","button"]],[[2,"show",null]],[[null,"openChange"]],(function(e,t,n){var o=!0;return"openChange"===t&&(o=!1!==i["\u0275nov"](e,17).openChange(n)&&o),o}),null,null)),i["\u0275did"](1,1720320,null,3,r.s,[i.ChangeDetectorRef,r.u,a.DOCUMENT,i.NgZone,i.ElementRef,i.Renderer2,[2,r.qb]],{autoClose:[0,"autoClose"],placement:[1,"placement"]},{openChange:"openChange"}),i["\u0275qud"](603979776,5,{_menu:0}),i["\u0275qud"](603979776,6,{_menuElement:0}),i["\u0275qud"](603979776,7,{_anchor:0}),i["\u0275did"](5,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{autoClose:[0,"autoClose"],placement:[1,"placement"],ngbTooltip:[2,"ngbTooltip"]},null),(e()(),i["\u0275eld"](6,0,null,null,6,"div",[["aria-haspopup","true"],["class","action-button action-button-save dropdown-toggle"],["ngbDropdownToggle",""],["role","button"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,7).dropdown.toggle()&&o),"keydown.ArrowUp"===t&&(o=!1!==i["\u0275nov"](e,7).dropdown.onKeyDown(n)&&o),"keydown.ArrowDown"===t&&(o=!1!==i["\u0275nov"](e,7).dropdown.onKeyDown(n)&&o),"keydown.Home"===t&&(o=!1!==i["\u0275nov"](e,7).dropdown.onKeyDown(n)&&o),"keydown.End"===t&&(o=!1!==i["\u0275nov"](e,7).dropdown.onKeyDown(n)&&o),o}),null,null)),i["\u0275did"](7,16384,null,0,r.y,[r.s,i.ElementRef],null,null),i["\u0275prd"](2048,[[7,4]],r.t,null,[r.y]),(e()(),i["\u0275eld"](9,0,null,null,1,"my-global-icon",[["iconName","playlist-add"]],null,null,null,s.b,s.a)),i["\u0275did"](10,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](11,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Opslaan"])),(e()(),i["\u0275eld"](13,0,[[6,0]],null,4,"div",[["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(e,t,n){var o=!0;return"keydown.ArrowUp"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),"keydown.ArrowDown"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),"keydown.Home"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),"keydown.End"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),"keydown.Enter"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),"keydown.Space"===t&&(o=!1!==i["\u0275nov"](e,14).dropdown.onKeyDown(n)&&o),o}),null,null)),i["\u0275did"](14,16384,[[5,4]],1,r.w,[r.s],null,null),i["\u0275qud"](603979776,8,{menuItems:1}),(e()(),i["\u0275eld"](16,0,null,null,1,"my-video-add-to-playlist",[],null,null,null,d.b,d.a)),i["\u0275did"](17,770048,[["addContent",4]],0,h.a,[p.a,g.a,f.a,m.a,v.a,y.a,i.ChangeDetectorRef],{video:[0,"video"]},null),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"outside","bottom auto"),e(t,5,0,"outside","bottom auto",n.tooltipSaveToPlaylist),e(t,10,0,"playlist-add"),e(t,17,0,n.video)}),(function(e,t){e(t,0,0,i["\u0275nov"](t,1).isOpen()),e(t,6,0,i["\u0275nov"](t,7).dropdown.isOpen()),e(t,13,0,!0,i["\u0275nov"](t,14).dropdown.isOpen(),i["\u0275nov"](t,14).placement)}))}function Fi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,9,"div",[["class","video-info-likes-dislikes-bar-inner-container"],["placement","bottom"]],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](2,0,null,null,7,"div",[["class","video-info-likes-dislikes-bar"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,6,"div",[["class","likes-bar"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](5,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](6,{liked:0}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](8,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](9,{"width.%":0}),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"bottom",n.likesBarTooltipText);var i=e(t,6,0,"none"!==n.userRating);e(t,5,0,"likes-bar",i);var o=e(t,9,0,n.video.likesPercent);e(t,8,0,o)}),null)}function Ui(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,5,"div",[["class","video-info-likes-dislikes-bar"],["placement","bottom"]],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](2,0,null,null,3,"div",[["class","likes-bar"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](4,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](5,{"width.%":0}),(e()(),i["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"bottom",n.likesBarTooltipText);var i=e(t,5,0,n.video.likesPercent);e(t,4,0,i)}),null)}function Hi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-down"]],null,null,null,null,null))],null,null)}function zi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","video-info-description-more"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showMoreDescription()&&i),i}),null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Laat meer zien"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Hi)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](5,0,null,null,1,"my-small-loader",[["class","description-loading"]],null,null,null,_.b,_.a)),i["\u0275did"](6,49152,null,0,b.a,[],{loading:[0,"loading"]},null)],(function(e,t){var n=t.component;e(t,4,0,!1===n.descriptionLoading),e(t,6,0,n.descriptionLoading)}),null)}function $i(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"span",[["class","glyphicon glyphicon-menu-up"]],null,null,null,null,null))],null,null)}function Ki(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","video-info-description-more"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showLessDescription()&&i),i}),null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Laat minder zien"])),(e()(),i["\u0275and"](16777216,null,null,1,null,$i)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,4,0,!1===t.component.descriptionLoading)}),null)}function qi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Oorspronkelijk gepubliceerd"])),(e()(),i["\u0275eld"](3,0,null,null,2,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""])),i["\u0275ppd"](5,2)],null,(function(e,t){var n=t.component,o=i["\u0275unv"](t,4,0,e(t,5,0,i["\u0275nov"](t.parent.parent,0),n.video.originallyPublishedAt,"dd MMMM yyyy"));e(t,4,0,o)}))}function Wi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.video.category.label)}))}function Gi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i["\u0275pad"](2,1),i["\u0275pod"](3,{categoryOneOf:0}),i["\u0275pad"](4,1),(e()(),i["\u0275ted"](5,null,["",""]))],(function(e,t){var n=e(t,3,0,e(t,2,0,t.component.video.category.id)),i=e(t,4,0,"/search");e(t,1,0,n,i)}),(function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).target,i["\u0275nov"](t,1).href),e(t,5,0,n.video.category.label)}))}function Xi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.video.licence.label)}))}function Yi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i["\u0275pad"](2,1),i["\u0275pod"](3,{licenceOneOf:0}),i["\u0275pad"](4,1),(e()(),i["\u0275ted"](5,null,["",""]))],(function(e,t){var n=e(t,3,0,e(t,2,0,t.component.video.licence.id)),i=e(t,4,0,"/search");e(t,1,0,n,i)}),(function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).target,i["\u0275nov"](t,1).href),e(t,5,0,n.video.licence.label)}))}function Qi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.video.language.label)}))}function Ji(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i["\u0275pad"](2,1),i["\u0275pod"](3,{languageOneOf:0}),i["\u0275pad"](4,1),(e()(),i["\u0275ted"](5,null,["",""]))],(function(e,t){var n=e(t,3,0,e(t,2,0,t.component.video.language.id)),i=e(t,4,0,"/search");e(t,1,0,n,i)}),(function(e,t){var n=t.component;e(t,0,0,i["\u0275nov"](t,1).target,i["\u0275nov"](t,1).href),e(t,5,0,n.video.language.label)}))}function Zi(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"a",[["class","video-attribute-value"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](1,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i["\u0275pad"](2,1),i["\u0275pod"](3,{tagsOneOf:0}),i["\u0275pad"](4,1),(e()(),i["\u0275ted"](5,null,["",""]))],(function(e,t){var n=e(t,3,0,e(t,2,0,t.context.$implicit)),i=e(t,4,0,"/search");e(t,1,0,n,i)}),(function(e,t){e(t,0,0,i["\u0275nov"](t,1).target,i["\u0275nov"](t,1).href),e(t,5,0,t.context.$implicit)}))}function eo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,136,"div",[["class","margin-content video-bottom"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,132,"div",[["class","video-info"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,82,"div",[["class","video-info-first-row"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,81,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,11,"div",[["class","d-block d-md-none"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,1,"h1",[["class","video-info-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](6,null,["",""])),(e()(),i["\u0275eld"](7,0,null,null,8,"div",[["class","video-info-date-views"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Published "])),(e()(),i["\u0275eld"](9,0,null,null,3,"my-date-toggle",[],null,null,null,T.b,T.a)),i["\u0275prd"](512,null,a.DatePipe,a.DatePipe,[i.LOCALE_ID]),i["\u0275prd"](512,null,k.a,k.a,[m.a]),i["\u0275did"](12,638976,null,0,P.a,[a.DatePipe,k.a],{date:[0,"date"]},null),(e()(),i["\u0275eld"](13,0,null,null,2,"span",[["class","views"]],null,null,null,null,null)),(e()(),i["\u0275ted"](14,null,[" \u2022 "," views"])),i["\u0275ppd"](15,1),(e()(),i["\u0275eld"](16,0,null,null,51,"div",[["class","d-flex justify-content-between flex-direction-column"]],null,null,null,null,null)),(e()(),i["\u0275eld"](17,0,null,null,2,"div",[["class","d-none d-md-block"]],null,null,null,null,null)),(e()(),i["\u0275eld"](18,0,null,null,1,"h1",[["class","video-info-name"]],null,null,null,null,null)),(e()(),i["\u0275ted"](19,null,["",""])),(e()(),i["\u0275eld"](20,0,null,null,47,"div",[["class","video-info-first-row-bottom"]],null,null,null,null,null)),(e()(),i["\u0275eld"](21,0,null,null,8,"div",[["class","d-none d-md-block video-info-date-views"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Published "])),(e()(),i["\u0275eld"](23,0,null,null,3,"my-date-toggle",[],null,null,null,T.b,T.a)),i["\u0275prd"](512,null,a.DatePipe,a.DatePipe,[i.LOCALE_ID]),i["\u0275prd"](512,null,k.a,k.a,[m.a]),i["\u0275did"](26,638976,null,0,P.a,[a.DatePipe,k.a],{date:[0,"date"]},null),(e()(),i["\u0275eld"](27,0,null,null,2,"span",[["class","views"]],null,null,null,null,null)),(e()(),i["\u0275ted"](28,null,[" \u2022 "," views"])),i["\u0275ppd"](29,1),(e()(),i["\u0275eld"](30,0,null,null,35,"div",[["class","video-actions-rates"]],null,null,null,null,null)),(e()(),i["\u0275eld"](31,0,null,null,31,"div",[["class","video-actions fullWidth justify-content-end"]],null,null,null,null,null)),(e()(),i["\u0275eld"](32,16777216,null,null,9,"div",[["class","action-button action-button-like"],["placement","bottom auto"],["role","button"]],[[1,"aria-pressed",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.setLike()&&i),i}),null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](34,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](35,{activated:0}),i["\u0275did"](36,737280,null,0,r.L,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.M,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{ngbPopover:[0,"ngbPopover"],placement:[1,"placement"]},null),i["\u0275did"](37,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](38,0,null,null,1,"my-global-icon",[["iconName","like"]],null,null,null,s.b,s.a)),i["\u0275did"](39,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Di)),i["\u0275did"](41,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](42,16777216,null,null,9,"div",[["class","action-button action-button-dislike"],["placement","bottom auto"],["role","button"]],[[1,"aria-pressed",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.setDislike()&&i),i}),null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](44,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](45,{activated:0}),i["\u0275did"](46,737280,null,0,r.L,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.M,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{ngbPopover:[0,"ngbPopover"],placement:[1,"placement"]},null),i["\u0275did"](47,212992,null,0,r.ib,[i.ElementRef,i.Renderer2,i.Injector,i.ComponentFactoryResolver,i.ViewContainerRef,r.jb,i.NgZone,a.DOCUMENT,i.ChangeDetectorRef,i.ApplicationRef],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(e()(),i["\u0275eld"](48,0,null,null,1,"my-global-icon",[["iconName","dislike"]],null,null,null,s.b,s.a)),i["\u0275did"](49,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Li)),i["\u0275did"](51,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Vi)),i["\u0275did"](53,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](54,0,null,null,4,"div",[["class","action-button"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showShareModal()&&i),i}),null,null)),(e()(),i["\u0275eld"](55,0,null,null,1,"my-global-icon",[["iconName","share"]],null,null,null,s.b,s.a)),i["\u0275did"](56,114688,null,0,u.a,[i.ElementRef,c.a],{iconName:[0,"iconName"]},null),(e()(),i["\u0275eld"](57,0,null,null,1,"span",[["class","icon-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Deel"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Bi)),i["\u0275did"](60,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](61,0,null,null,1,"my-video-actions-dropdown",[["buttonDirection","horizontal"],["placement","bottom auto"]],null,[[null,"videoRemoved"],[null,"modalOpened"]],(function(e,t,n){var i=!0,o=e.component;return"videoRemoved"===t&&(i=!1!==o.onVideoRemoved()&&i),"modalOpened"===t&&(i=!1!==o.onModalOpened()&&i),i}),w.b,w.a)),i["\u0275did"](62,573440,null,0,O.a,[g.a,f.a,M.a,E.a,x.a,S.a,I.a,A.a,R.a,m.a],{video:[0,"video"],videoCaptions:[1,"videoCaptions"],placement:[2,"placement"],buttonStyled:[3,"buttonStyled"],buttonDirection:[4,"buttonDirection"]},{videoRemoved:"videoRemoved",modalOpened:"modalOpened"}),(e()(),i["\u0275eld"](63,0,null,null,2,"div",[["class","video-info-likes-dislikes-bar-outer-container"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Fi)),i["\u0275did"](65,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ui)),i["\u0275did"](67,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](68,0,null,null,16,"div",[["class","pt-3 border-top video-info-channel d-flex"]],null,null,null,null,null)),(e()(),i["\u0275eld"](69,0,null,null,12,"div",[["class","video-info-channel-left d-flex"]],null,null,null,null,null)),(e()(),i["\u0275eld"](70,0,null,null,1,"avatar-channel",[],null,null,null,D,j)),i["\u0275did"](71,49152,null,0,N,[],{video:[0,"video"]},null),(e()(),i["\u0275eld"](72,0,null,null,9,"div",[["class","video-info-channel-left-links ml-1"]],null,null,null,null,null)),(e()(),i["\u0275eld"](73,0,null,null,3,"a",[["title","Ga naar kanaalpagina"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,74).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](74,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](75,2),(e()(),i["\u0275ted"](76,null,[" "," "])),(e()(),i["\u0275eld"](77,0,null,null,4,"a",[["title","Ga naar accountpagina"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,78).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o}),null,null)),i["\u0275did"](78,671744,null,0,C.s,[C.p,C.a,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](79,2),(e()(),i["\u0275eld"](80,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](81,null,["Door ",""])),(e()(),i["\u0275eld"](82,0,null,null,2,"my-subscribe-button",[["size","small"]],null,null,null,L.b,L.a)),i["\u0275did"](83,638976,[[4,4],["subscribeButton",4]],0,V.a,[g.a,C.p,f.a,B.a,m.a,I.a],{videoChannels:[0,"videoChannels"],size:[1,"size"]},null),i["\u0275pad"](84,1),(e()(),i["\u0275eld"](85,0,null,null,6,"div",[["class","video-info-description"]],null,null,null,null,null)),(e()(),i["\u0275eld"](86,0,null,null,1,"div",[["class","video-info-description-html"],["timestampRouteTransformer",""]],[[8,"innerHTML",1]],[[null,"timestampClicked"],[null,"click"]],(function(e,t,n){var o=!0,l=e.component;return"click"===t&&(o=!1!==i["\u0275nov"](e,87).onClick(n)&&o),"timestampClicked"===t&&(o=!1!==l.handleTimestampClicked(n)&&o),o}),null,null)),i["\u0275did"](87,16384,null,0,F,[],null,{timestampClicked:"timestampClicked"}),(e()(),i["\u0275and"](16777216,null,null,1,null,zi)),i["\u0275did"](89,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ki)),i["\u0275did"](91,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](92,0,null,null,39,"div",[["class","video-attributes mb-3"]],null,null,null,null,null)),(e()(),i["\u0275eld"](93,0,null,null,4,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](94,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Privacy"])),(e()(),i["\u0275eld"](96,0,null,null,1,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](97,null,["",""])),(e()(),i["\u0275and"](16777216,null,null,1,null,qi)),i["\u0275did"](99,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](100,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](101,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Categorie"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Wi)),i["\u0275did"](104,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Gi)),i["\u0275did"](106,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](107,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](108,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Licentie"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Xi)),i["\u0275did"](111,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Yi)),i["\u0275did"](113,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](114,0,null,null,6,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](115,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Taal"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Qi)),i["\u0275did"](118,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ji)),i["\u0275did"](120,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](121,0,null,null,4,"div",[["class","video-attribute video-attribute-tags"]],null,null,null,null,null)),(e()(),i["\u0275eld"](122,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Tags"])),(e()(),i["\u0275and"](16777216,null,null,1,null,Zi)),i["\u0275did"](125,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](126,0,null,null,5,"div",[["class","video-attribute"]],null,null,null,null,null)),(e()(),i["\u0275eld"](127,0,null,null,1,"span",[["class","video-attribute-label"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Tijdsduur"])),(e()(),i["\u0275eld"](129,0,null,null,2,"span",[["class","video-attribute-value"]],null,null,null,null,null)),(e()(),i["\u0275ted"](130,null,["",""])),i["\u0275ppd"](131,1),(e()(),i["\u0275eld"](132,0,null,null,1,"my-video-comments",[["class","border-top"]],null,[[null,"timestampClicked"]],(function(e,t,n){var i=!0;return"timestampClicked"===t&&(i=!1!==e.component.handleTimestampClicked(n)&&i),i}),nt,Ve)),i["\u0275did"](133,770048,null,0,Le,[g.a,f.a,M.a,oe,C.a,m.a,c.a],{video:[0,"video"],user:[1,"user"]},{timestampClicked:"timestampClicked"}),(e()(),i["\u0275eld"](134,0,null,null,2,"my-recommended-videos",[],null,[[null,"gotRecommendations"]],(function(e,t,n){var i=!0;return"gotRecommendations"===t&&(i=!1!==e.component.onRecommendations(n)&&i),i}),_t,gt)),i["\u0275did"](135,573440,null,0,pt,[z.a,g.a,f.a,m.a,dt],{inputRecommendation:[0,"inputRecommendation"],user:[1,"user"],playlist:[2,"playlist"]},{gotRecommendations:"gotRecommendations"}),i["\u0275pod"](136,{uuid:0,tags:1})],(function(e,t){var n=t.component;e(t,12,0,n.video.publishedAt),e(t,26,0,n.video.publishedAt);var i=e(t,35,0,"like"===n.userRating);e(t,34,0,"action-button action-button-like",i),e(t,36,0,n.getRatePopoverText(),"bottom auto"),e(t,37,0,"bottom auto",n.tooltipLike),e(t,39,0,"like"),e(t,41,0,n.video.likes);var o=e(t,45,0,"dislike"===n.userRating);e(t,44,0,"action-button action-button-dislike",o),e(t,46,0,n.getRatePopoverText(),"bottom auto"),e(t,47,0,"bottom auto",n.tooltipDislike),e(t,49,0,"dislike"),e(t,51,0,n.video.dislikes),e(t,53,0,n.video.support),e(t,56,0,"share"),e(t,60,0,n.isUserLoggedIn()),e(t,62,0,n.video,n.videoCaptions,"bottom auto",!0,"horizontal"),e(t,65,0,0!==n.video.likes||0!==n.video.dislikes),e(t,67,0,0!==n.video.likes||0!==n.video.dislikes),e(t,71,0,n.video);var l=e(t,75,0,"/video-channels",n.video.byVideoChannel);e(t,74,0,l);var r=e(t,79,0,"/accounts",n.video.byAccount);e(t,78,0,r);var a=e(t,84,0,n.video.channel);e(t,83,0,a,"small"),e(t,89,0,!1===n.completeDescriptionShown&&(null==n.video.description?null:n.video.description.length)>=250),e(t,91,0,!0===n.completeDescriptionShown),e(t,99,0,!!n.video.originallyPublishedAt),e(t,104,0,!n.video.category.id),e(t,106,0,n.video.category.id),e(t,111,0,!n.video.licence.id),e(t,113,0,n.video.licence.id),e(t,118,0,!n.video.language.id),e(t,120,0,n.video.language.id),e(t,125,0,n.getVideoTags()),e(t,133,0,n.video,n.user);var s=e(t,136,0,n.video.uuid,n.video.tags);e(t,135,0,s,n.user,n.playlist)}),(function(e,t){var n=t.component;e(t,6,0,n.video.name);var o=i["\u0275unv"](t,14,0,e(t,15,0,i["\u0275nov"](t.parent,1),n.video.views));e(t,14,0,o),e(t,19,0,n.video.name);var l=i["\u0275unv"](t,28,0,e(t,29,0,i["\u0275nov"](t.parent,1),n.video.views));e(t,28,0,l),e(t,32,0,"like"===n.userRating),e(t,42,0,"dislike"===n.userRating),e(t,73,0,i["\u0275nov"](t,74).target,i["\u0275nov"](t,74).href),e(t,76,0,n.video.channel.displayName),e(t,77,0,i["\u0275nov"](t,78).target,i["\u0275nov"](t,78).href),e(t,81,0,n.video.byAccount),e(t,86,0,n.videoHTMLDescription),e(t,97,0,n.video.privacy.label);var r=i["\u0275unv"](t,130,0,e(t,131,0,i["\u0275nov"](t.parent,2),n.video.duration));e(t,130,0,r)}))}function to(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","row privacy-concerns"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","privacy-concerns-text"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Vriendelijke Herinnering:"])),(e()(),i["\u0275eld"](4,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,[" Uit het deelsysteem gebruikt voor deze video blijkt het dat sommige technische informatie over jouw systeem (zoals een openbaar IP adres) verstuurd kan worden naar andere peers. "])),(e()(),i["\u0275eld"](6,0,null,null,1,"a",[["href","/about/peertube"],["rel","noopener noreferrer"],["target","_blank"],["title","Krijg meer informatie"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Meer informatie"])),(e()(),i["\u0275eld"](8,0,null,null,1,"div",[["class","privacy-concerns-okay"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.acceptedPrivacyConcern()&&i),i}),null,null)),(e()(),i["\u0275ted"](-1,null,[" OK "]))],null,null)}function no(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"my-video-support",[],null,null,null,kt,Ct)),i["\u0275did"](2,49152,[[3,4],["videoSupportModal",4]],0,bt,[ye.a,r.A],{video:[0,"video"]},null),(e()(),i["\u0275eld"](3,0,null,null,1,"my-video-share",[],null,null,null,Jt,Bt)),i["\u0275did"](4,49152,[[2,4],["videoShareModal",4]],0,Vt,[r.A],{video:[0,"video"],videoCaptions:[1,"videoCaptions"],playlist:[2,"playlist"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.video),e(t,4,0,n.video,n.videoCaptions,n.playlist)}),null)}function io(e){return i["\u0275vid"](0,[i["\u0275pid"](0,a.DatePipe,[i.LOCALE_ID]),i["\u0275pid"](0,Zt.a,[]),i["\u0275pid"](0,en,[]),i["\u0275qud"](402653184,1,{videoWatchPlaylist:0}),i["\u0275qud"](671088640,2,{videoShareModal:0}),i["\u0275qud"](671088640,3,{videoSupportModal:0}),i["\u0275qud"](671088640,4,{subscribeButton:0}),(e()(),i["\u0275eld"](7,0,null,null,22,"div",[["class","root"]],null,null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](9,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](10,{"theater-enabled":0}),(e()(),i["\u0275eld"](11,0,null,null,5,"div",[["id","video-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ii)),i["\u0275did"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](14,0,null,null,0,"div",[["id","videojs-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,null,1,"my-video-watch-playlist",[["class","playlist"]],null,null,null,dn,ln)),i["\u0275did"](16,49152,[[1,4],["videoWatchPlaylist",4]],0,on,[z.a,g.a,f.a,m.a,v.a,C.p],{video:[0,"video"],playlist:[1,"playlist"]},null),(e()(),i["\u0275eld"](17,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ai)),i["\u0275did"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ri)),i["\u0275did"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ni)),i["\u0275did"](23,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ji)),i["\u0275did"](25,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,eo)),i["\u0275did"](27,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,to)),i["\u0275did"](29,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,no)),i["\u0275did"](31,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,10,0,n.theaterEnabled);e(t,9,0,"root",i),e(t,13,0,n.remoteServerDown),e(t,16,0,n.video,n.playlist),e(t,19,0,n.isVideoToImport()),e(t,21,0,n.isVideoToTranscode()),e(t,23,0,n.hasVideoScheduledPublication()),e(t,25,0,null==n.video?null:n.video.blacklisted),e(t,27,0,n.video),e(t,29,0,!1===n.hasAlreadyAcceptedPrivacyConcern),e(t,31,0,null!==n.video)}),null)}function oo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"my-video-watch",[],null,null,null,io,Si)),i["\u0275did"](1,245760,null,0,wi,[i.ElementRef,i.ChangeDetectorRef,C.a,C.p,I.a,v.a,M.a,Oi.d,g.a,x.a,Mi.a,f.a,ye.a,i.NgZone,hn.a,Ei.a,m.a,xi.HotkeysService,c.a,a.PlatformLocation,i.LOCALE_ID],null,null)],(function(e,t){e(t,1,0)}),null)}var lo=i["\u0275ccf"]("my-video-watch",wi,oo,{},{},[]),ro=n("9IV+"),ao=n("nvTd"),so=n("upD4"),uo=n("HvDw"),co=n("wQE2"),ho=n("mTdg"),po=n("mpCX"),go=n("hD3C"),fo=n("F4xN"),mo=n("wpFD"),vo=n("/7bI"),yo=n("0C+C"),_o=n("D/X6"),bo=n("cvwr"),Co=n("tSwB"),To=n("RtUV"),ko=n("W3Gj"),Po=n("AD+P"),wo=n("I88b"),Oo=n("GvuC"),Mo=n("V+Hg"),Eo=n("WZ9d"),xo=n("M9Zh"),So=n("1MVc"),Io=n("mpAo"),Ao=n("c6Lk"),Ro=n("LRne"),No=n("to4i"),jo=n("OVpf");class Do{constructor(e,t){this.videos=e,this.searchService=t,this.pageSize=5}getRecommendations(e){return this.fetchPage(1,e).pipe(Object(Z.a)(t=>t.filter(t=>t.uuid!==e.uuid).slice(0,this.pageSize)))}fetchPage(e,t){const n={currentPage:e,itemsPerPage:this.pageSize+1},i=this.videos.getVideos({videoPagination:n,sort:"-createdAt"}).pipe(Object(Z.a)(e=>e.data));if(!t.tags||0===t.tags.length)return i;const o={search:"",componentPagination:n,advancedSearch:new jo.a({tagsOneOf:t.tags.join(","),sort:"-createdAt"})};return this.searchService.searchVideos(o).pipe(Object(Z.a)(e=>e.data),Object(st.a)(e=>e.length<=1?i:Object(Ro.a)(e)))}}class Lo{}var Vo=n("7LN8"),Bo=n("Fa87"),Fo=n("oz/p"),Uo=n("VQoA"),Ho=n("IP0z"),zo=n("/HVE"),$o=n("hOhj"),Ko=n("g4HV"),qo=n("No4M"),Wo=n("PCNd"),Go=function(){return function(){}}();class Xo{}n.d(t,"VideoWatchModuleNgFactory",(function(){return Yo}));var Yo=i["\u0275cmf"](o,[],(function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[l.a,lo,Nt.g,Nt.h,Nt.e,Nt.f]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[i.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,W["\u0275angular_packages_forms_forms_o"],W["\u0275angular_packages_forms_forms_o"],[]),i["\u0275mpd"](4608,W.FormBuilder,W.FormBuilder,[]),i["\u0275mpd"](4608,te.m,te.s,[a.DOCUMENT,i.PLATFORM_ID,te.q]),i["\u0275mpd"](4608,te.t,te.t,[te.m,te.r]),i["\u0275mpd"](5120,te.a,(function(e,t){return[e,new ro.a(t)]}),[te.t,i.Injector]),i["\u0275mpd"](4608,te.p,te.p,[]),i["\u0275mpd"](6144,te.n,null,[te.p]),i["\u0275mpd"](4608,te.l,te.l,[te.n]),i["\u0275mpd"](6144,te.b,null,[te.l]),i["\u0275mpd"](4608,te.g,te.o,[te.b,i.Injector]),i["\u0275mpd"](4608,te.c,te.c,[te.g]),i["\u0275mpd"](4608,r.A,r.A,[i.ComponentFactoryResolver,i.Injector,r.yb,r.B]),i["\u0275mpd"](4608,m.a,m.a,[i.TRANSLATIONS_FORMAT,i.TRANSLATIONS,i.LOCALE_ID,[2,m.b]]),i["\u0275mpd"](4608,Mi.a,Mi.a,[C.p,m.a]),i["\u0275mpd"](4608,ao.a,ao.a,[]),i["\u0275mpd"](4608,so.a,so.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,E.a,E.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,uo.a,uo.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,z.a,z.a,[te.c,Mi.a,ao.a,m.a]),i["\u0275mpd"](4608,I.a,I.a,[te.c,Mi.a,ao.a,x.a,m.a]),i["\u0275mpd"](4608,fe.a,fe.a,[te.c,Mi.a]),i["\u0275mpd"](4608,co.a,co.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,v.a,v.a,[te.c,x.a,Mi.a,ao.a,i.NgZone]),i["\u0275mpd"](4608,Ei.a,Ei.a,[te.c,x.a,Mi.a]),i["\u0275mpd"](4608,ho.a,ho.a,[te.c,ao.a,Mi.a,x.a]),i["\u0275mpd"](4608,B.a,B.a,[te.c,Mi.a,ao.a,i.NgZone]),i["\u0275mpd"](4608,p.a,p.a,[W.FormBuilder]),i["\u0275mpd"](4608,po.a,po.a,[m.a]),i["\u0275mpd"](4608,go.a,go.a,[m.a]),i["\u0275mpd"](4608,fo.a,fo.a,[m.a]),i["\u0275mpd"](4608,q.a,q.a,[m.a]),i["\u0275mpd"](4608,y.a,y.a,[m.a]),i["\u0275mpd"](4608,mo.a,mo.a,[m.a]),i["\u0275mpd"](4608,vo.a,vo.a,[m.a]),i["\u0275mpd"](4608,le.a,le.a,[m.a]),i["\u0275mpd"](4608,yo.a,yo.a,[m.a]),i["\u0275mpd"](4608,_o.a,_o.a,[m.a]),i["\u0275mpd"](4608,bo.a,bo.a,[m.a]),i["\u0275mpd"](4608,Co.a,Co.a,[te.c,Mi.a,I.a,x.a]),i["\u0275mpd"](4608,To.a,To.a,[m.a]),i["\u0275mpd"](4608,ko.a,ko.a,[m.a]),i["\u0275mpd"](4608,Po.a,Po.a,[m.a]),i["\u0275mpd"](4608,A.a,A.a,[te.c,Mi.a,ao.a]),i["\u0275mpd"](4608,wo.a,wo.a,[te.c,Mi.a,ao.a,I.a]),i["\u0275mpd"](4608,Oo.a,Oo.a,[]),i["\u0275mpd"](4608,Mo.a,Mo.a,[Oo.a]),i["\u0275mpd"](4608,ye.a,ye.a,[Mo.a]),i["\u0275mpd"](4608,Eo.a,Eo.a,[te.c,ao.a,Mi.a,ye.a,x.a]),i["\u0275mpd"](4608,xo.a,xo.a,[m.a]),i["\u0275mpd"](4608,S.a,S.a,[]),i["\u0275mpd"](4608,So.a,So.a,[g.a,te.c,Mi.a,ao.a,Io.a]),i["\u0275mpd"](4608,Ao.a,Ao.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,R.a,R.a,[te.c,ao.a,Mi.a]),i["\u0275mpd"](4608,Do,Do,[I.a,No.a]),i["\u0275mpd"](4608,dt,dt,[Do]),i["\u0275mpd"](4608,oe,oe,[te.c,Mi.a,ao.a]),i["\u0275mpd"](1073742336,C.t,C.t,[[2,C.z],[2,C.p]]),i["\u0275mpd"](1073742336,Lo,Lo,[]),i["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),i["\u0275mpd"](1073742336,W["\u0275angular_packages_forms_forms_d"],W["\u0275angular_packages_forms_forms_d"],[]),i["\u0275mpd"](1073742336,W.FormsModule,W.FormsModule,[]),i["\u0275mpd"](1073742336,W.ReactiveFormsModule,W.ReactiveFormsModule,[]),i["\u0275mpd"](1073742336,te.e,te.e,[]),i["\u0275mpd"](1073742336,te.d,te.d,[]),i["\u0275mpd"](1073742336,r.x,r.x,[]),i["\u0275mpd"](1073742336,r.C,r.C,[]),i["\u0275mpd"](1073742336,r.N,r.N,[]),i["\u0275mpd"](1073742336,r.Z,r.Z,[]),i["\u0275mpd"](1073742336,r.kb,r.kb,[]),i["\u0275mpd"](1073742336,r.m,r.m,[]),i["\u0275mpd"](1073742336,Pt.b,Pt.b,[]),i["\u0275mpd"](1073742336,Vo.SharedModule,Vo.SharedModule,[]),i["\u0275mpd"](1073742336,Bo.InputTextModule,Bo.InputTextModule,[]),i["\u0275mpd"](1073742336,Fo.InputMaskModule,Fo.InputMaskModule,[]),i["\u0275mpd"](1073742336,Uo.b,Uo.b,[]),i["\u0275mpd"](1073742336,Uo.h,Uo.h,[]),i["\u0275mpd"](1073742336,Uo.e,Uo.e,[]),i["\u0275mpd"](1073742336,Uo.c,Uo.c,[]),i["\u0275mpd"](1073742336,Uo.f,Uo.f,[]),i["\u0275mpd"](1073742336,Uo.d,Uo.d,[]),i["\u0275mpd"](1073742336,Uo.g,Uo.g,[]),i["\u0275mpd"](1073742336,Ho.a,Ho.a,[]),i["\u0275mpd"](1073742336,zo.b,zo.b,[]),i["\u0275mpd"](1073742336,$o.ScrollingModule,$o.ScrollingModule,[]),i["\u0275mpd"](1073742336,Ko.TooltipModule,Ko.TooltipModule,[]),i["\u0275mpd"](1073742336,qo.MultiSelectModule,qo.MultiSelectModule,[]),i["\u0275mpd"](1073742336,Wo.a,Wo.a,[]),i["\u0275mpd"](1073742336,Go,Go,[]),i["\u0275mpd"](1073742336,ot.InputSwitchModule,ot.InputSwitchModule,[]),i["\u0275mpd"](1073742336,Xo,Xo,[]),i["\u0275mpd"](1073742336,o,o,[]),i["\u0275mpd"](1024,C.n,(function(){return[[{path:"playlist/:playlistId",component:wi,canActivate:[Oi.a]},{path:":videoId/comments/:commentId",redirectTo:":videoId"},{path:":videoId",component:wi,canActivate:[Oi.a]}]]}),[]),i["\u0275mpd"](256,i.LOCALE_ID,"nl-NL",[]),i["\u0275mpd"](256,te.q,"XSRF-TOKEN",[]),i["\u0275mpd"](256,te.r,"X-XSRF-TOKEN",[]),i["\u0275mpd"](256,i.TRANSLATIONS_FORMAT,"xlf",[])])}))},vgmO:function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},zFeg:function(e,t,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},l=n(10);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=l),e.exports=i}}]);