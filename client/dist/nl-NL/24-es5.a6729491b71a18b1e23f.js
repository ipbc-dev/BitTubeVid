!function(){function e(){var t=dt([":\u241f20fc98888baf65b5ba9fe9622dc036fa8dec6a5f\u241f7219238640527126652: OK "]);return e=function(){return t},t}function t(){var e=dt([":\u241fe60c11e1b1dfbbeda577364b8de39ded2d796c5e\u241f4619188387782427495:More information"]);return t=function(){return e},e}function n(){var e=dt([":\u241fbd499ca7913bb5408fd139a4cb4f863852d5f318\u241f4512155674928869984:Get more information"]);return n=function(){return e},e}function i(){var e=dt([":\u241f89707647cc7c304e499ae46a5a0c5b508c3c80a0\u241f4407625547215017697: the sharing system used for this video implies that some technical information about your system (such as a public IP address) can be sent to other peers. "]);return i=function(){return e},e}function o(){var e=dt([":\u241f4c0ba3cde3b3c58b855ffb4beaa5804a2fc3826b\u241f6402393085909200998:Friendly Reminder: "]);return o=function(){return e},e}function r(){var e=dt([":\u241fa02ea1d4e7424ca989929da5e598f379940fdbf2\u241f7410432243549869948:Duration"]);return r=function(){return e},e}function a(){var e=dt([":\u241f284b55e2ae9f6e5bc78c92a18ef26da02f380079\u241f5139892963394684487:Originally published"]);return a=function(){return e},e}function s(){var e=dt([":\u241f57bfd54c230fc20caff1f0b321ad42be3bf859a6\u241f8838615915903924641:Origin instance"]);return s=function(){return e},e}function c(){var e=dt([":\u241f5403a767248e304199592271bba3366d2ca3f903\u241f3517550046701184661:Show less"]);return c=function(){return e},e}function l(){var e=dt([":\u241ff0c5f6f270e70cbe063b5368fcf48f9afc1abd9b\u241f7215101881367554791:Show more"]);return l=function(){return e},e}function u(){var e=dt([":\u241fe8a34c00da7e95d407a66f33f28943a480dbba82\u241f8018150748712262082:",":INTERPOLATION:"]);return u=function(){return e},e}function d(){var e=dt([":\u241fbde01505620f59f773377f94034e4038e6bd50c0\u241f5417361655914085905:Account page"]);return d=function(){return e},e}function h(){var e=dt([":\u241f0b7f242da10ece3f2995095c455b9a92ebcdd3b4\u241f469475518807092371:By ",":INTERPOLATION:"]);return h=function(){return e},e}function p(){var e=dt([":\u241fbde01505620f59f773377f94034e4038e6bd50c0\u241f5417361655914085905:Account page"]);return p=function(){return e},e}function f(){var e=dt([":\u241ff886abe6ca73a34403dde0578e71173cebe00428\u241f4000980858407872649:Channel page"]);return f=function(){return e},e}function v(){var e=dt([":\u241f8270eaeb2582eef4b7cde314c370aaf5b45c43d2\u241f647016352598204238:DOWNLOAD"]);return v=function(){return e},e}function g(){var e=dt([":\u241fcf272d006ff8c0b60e61b14e17fa6a39b30d614a\u241f6671956963490165282:SAVE"]);return g=function(){return e},e}function m(){var e=dt([":\u241f74059c5dce671d464259e3ce37a5d408c3fd7720\u241f1813238393038053050:SUPPORT"]);return m=function(){return e},e}function b(){var e=dt([":\u241fcafc87479686947e2590b9f588a88040aeaf660b\u241f7886570921510760899:Tags"]);return b=function(){return e},e}function y(){var e=dt([":\u241ffe46ccaae902ce974e2441abe752399288298619\u241f2826581353496868063:Language"]);return y=function(){return e},e}function _(){var e=dt([":\u241f78d6d3ea26777cd0dad8ddbf9b314151678da46c\u241f9065795501872450602:Licence"]);return _=function(){return e},e}function C(){var e=dt([":\u241f607de17c2a755f65775881c19e276e7c933bcf94\u241f1806667489382256324:Category"]);return C=function(){return e},e}function P(){var e=dt([":\u241f3c78b53bca33467190c0b7a01320bc093a2b1427\u241f8440128775129354214:Privacy"]);return P=function(){return e},e}function k(){var e=dt([":\u241f83ea0f7a6f84393af198d48193e01a96f3fcbc9a\u241f9219888125536520293:SHARE"]);return k=function(){return e},e}function T(){var e=dt([":\u241f1ade7342907e567e3c91d505719fac63d95324e0\u241f1666022504805215569:Published ",":START_TAG_MY_DATE_TOGGLE:",":CLOSE_TAG_MY_DATE_TOGGLE:"]);return T=function(){return e},e}function O(){var e=dt([":\u241f1ade7342907e567e3c91d505719fac63d95324e0\u241f1666022504805215569:Published ",":START_TAG_MY_DATE_TOGGLE:",":CLOSE_TAG_MY_DATE_TOGGLE:"]);return O=function(){return e},e}function M(){var e=dt([":\u241fbbb57efb2edd572de832c8fff03bc85d7723abd3\u241f4416005356063364306:This video is blocked."]);return M=function(){return e},e}function w(){var e=dt([":\u241f4ae62d06d4ba0a78f3c5f478235cdb8cacc5f3e9\u241f3705207299295255152: This live has ended. "]);return w=function(){return e},e}function x(){var e=dt([":\u241f130abb70adbfbda0d03e31ce2e94dc3871e30c2f\u241f19331611825871797: This live has not started yet. "]);return x=function(){return e},e}function S(){var e=dt([":\u241f2dd4add38e83d8ec58e37735e76090e9738c974a\u241f8378465113109823068: This video will be published on ",":INTERPOLATION:. "]);return S=function(){return e},e}function E(){var e=dt([":\u241fd2a8e8e4e5345201c07ba03a7fafe8b663230246\u241f5773370738480561430: The video is being transcoded, it may not work properly. "]);return E=function(){return e},e}function I(){var e=dt([":\u241f38e66e2d779d6d819cd7703ab73ab1bab75f8614\u241f4172796003496164588: The video is being imported, it will be available when the import is finished. "]);return I=function(){return e},e}function j(){var e=dt(["Subscribe to the account"]);return j=function(){return e},e}function L(){var e=dt(["Dislike the video"]);return L=function(){return e},e}function V(){var e=dt(["Like the video"]);return V=function(){return e},e}function A(){var e=dt(["Navigate in the video frame by frame (requires player focus)"]);return A=function(){return e},e}function R(){var e=dt(["Decrease playback rate (requires player focus)"]);return R=function(){return e},e}function N(){var e=dt(["Increase playback rate (requires player focus)"]);return N=function(){return e},e}function D(){var e=dt(["Seek the video backward (requires player focus)"]);return D=function(){return e},e}function U(){var e=dt(["Seek the video forward (requires player focus)"]);return U=function(){return e},e}function B(){var e=dt(["Decrease the volume (requires player focus)"]);return B=function(){return e},e}function z(){var e=dt(["Increase the volume (requires player focus)"]);return z=function(){return e},e}function F(){var e=dt(["Skip to a percentage of the video: 0 is 0% and 9 is 90% (requires player focus)"]);return F=function(){return e},e}function H(){var e=dt(["Mute/unmute the video (requires player focus)"]);return H=function(){return e},e}function W(){var e=dt(["Play/Pause the video (requires player focus)"]);return W=function(){return e},e}function $(){var e=dt(["Enter/exit fullscreen (requires player focus)"]);return $=function(){return e},e}function K(){var e=dt(["Autoplay is suspended"]);return K=function(){return e},e}function q(){var e=dt(["Cancel"]);return q=function(){return e},e}function G(){var e=dt(["Up Next"]);return G=function(){return e},e}function J(){var e=dt(["Mature or explicit content"]);return J=function(){return e},e}function Y(){var e=dt(["This video contains mature or explicit content. Are you sure you want to watch it?"]);return Y=function(){return e},e}function Z(){var e=dt(["Redirection"]);return Z=function(){return e},e}function Q(){var e=dt(['This video is not available on this instance. Do you want to be redirected on the origin instance: <a href="','">',"</a>?"]);return Q=function(){return e},e}function X(){var e=dt(['You need to be <a href="/login">logged in</a> to rate this video.']);return X=function(){return e},e}function ee(){var e=dt(["Save to playlist"]);return ee=function(){return e},e}function te(){var e=dt(["Support options for this video"]);return te=function(){return e},e}function ne(){var e=dt(["Dislike this video"]);return ne=function(){return e},e}function ie(){var e=dt(["Like this video"]);return ie=function(){return e},e}function oe(){var e=dt([":\u241f70155053814b6999f8abce4f89bab85afc76e538\u241f2913936134410914576:AUTOPLAY"]);return oe=function(){return e},e}function re(){var e=dt([":\u241f7ce8b0d7cc34d4c1ef4a21e990b0a001337bedd1\u241f1543212309633142156: Other videos "]);return re=function(){return e},e}function ae(){var e=dt(["When active, the next video is automatically played after the current one."]);return ae=function(){return e},e}function se(){var e=dt([":\u241fb7fccd922d6473725247ed85a9fdf96fe6794828\u241f1364424352067411668: Comments are disabled. "]);return se=function(){return e},e}function ce(){var e=dt([":\u241fdce85627dad907cb2013d06f97f82ad7bf87b0a6\u241f2247855571589294430:View ",":INTERPOLATION: replies"]);return ce=function(){return e},e}function le(){var e=dt([":\u241f8487d97def3c5336b1cde21c7da14e61a9633061\u241f2065533697802294425: View ",":INTERPOLATION: replies from ",":INTERPOLATION_1: "]);return le=function(){return e},e}function ue(){var e=dt([":\u241fce6445567d33993fced14aae3456db909121d12e\u241f5032020676693262633: View ",":INTERPOLATION: replies from ",":INTERPOLATION_1: and others "]);return ue=function(){return e},e}function de(){var e=dt([":\u241f17810e68b0ba21e62e61eecfaf0a93b2c91033b4\u241f7494537777006082055:No comments."]);return de=function(){return e},e}function he(){var e=dt([":\u241fc5bb9f8936cb33db2ca351a1b87a984fdf11917c\u241f3807699453257291879:Comments"]);return he=function(){return e},e}function pe(){var e=dt([":\u241f8164af7bbe7fb9a3d2064ddf2627a7a4d5446575\u241f1796350071451277041:",":INTERPOLATION: Comments"]);return pe=function(){return e},e}function fe(){var e=dt([":\u241fa8db53a47543132da1a68066f0a9cba0551a8933\u241f7112725780805033615:1 Comment"]);return fe=function(){return e},e}function ve(){var e=dt([":\u241fdf2d2cca87a54e75abb4196d10358579dd0321b4\u241f5179007899354903649:Most replies first"]);return ve=function(){return e},e}function ge(){var e=dt([":\u241f6d355ab9a2c6af4f7ffcb44dd8ca0c5572f958ca\u241f6448160249466325288:Most recent first (default)"]);return ge=function(){return e},e}function me(){var e=dt([":\u241fa87cd0a1633f944e697fa2ee68362d8bc11c41ee\u241f6792127978973927819: SORT BY "]);return me=function(){return e},e}function be(){var e=dt(["Do you really want to delete and re-draft this comment?"]);return be=function(){return e},e}function ye(){var e=dt(["Delete and re-draft"]);return ye=function(){return e},e}function _e(){var e=dt([" It is a remote comment, so the deletion will only be effective on your instance."]);return _e=function(){return e},e}function Ce(){var e=dt([" The deletion will be sent to remote instances so they can reflect the change."]);return Ce=function(){return e},e}function Pe(){var e=dt(["Do you really want to delete this comment?"]);return Pe=function(){return e},e}function ke(){var e=dt(["Delete"]);return ke=function(){return e},e}function Te(){var e=dt([":\u241f3dc4cf221502c170c7fcd4b2bffc9b3aa46b84bb\u241f2447932355167015019:This comment has been deleted"]);return Te=function(){return e},e}function Oe(){var e=dt([":\u241f28df1b02fd88d2deb0212bc5d7ff34cf9492fa54\u241f6381490568322624964:Deleted"]);return Oe=function(){return e},e}function Me(){var e=dt([":\u241fcb23d4d98007aa4d7123837f4c17a671848377d6\u241f4502286564339177240:Reply"]);return Me=function(){return e},e}function we(){var e=dt([":\u241fa607fab03e11b0e07c1640e11a1b02d7af06b285\u241f3572897237443938692:Highlighted comment"]);return we=function(){return e},e}function xe(){var e=dt([":\u241f24813b8a3e45f0b57136c18d003027262cfe2d1f\u241f8432562579042371182:Options"]);return xe=function(){return e},e}function Se(){var e=dt(["Remove & re-draft"]);return Se=function(){return e},e}function Ee(){var e=dt(["Remove"]);return Ee=function(){return e},e}function Ie(){var e=dt(["Report this comment"]);return Ie=function(){return e},e}function je(){var e=dt([":\u241f974170f455ff5a9034d5737e84b4194c0046fc6b\u241f4817080330698362530:Markdown Emoji List"]);return je=function(){return e},e}function Le(){var e=dt([":\u241f413bcc4a4c824366e17673f38cb2af4619e940e2\u241f2958389355547305739:Login to comment"]);return Le=function(){return e},e}function Ve(){var e=dt([":\u241fd7b35c384aecd25a516200d6921836374613dfe7\u241f2159130950882492111:Cancel"]);return Ve=function(){return e},e}function Ae(){var e=dt([":\u241f968b02fbc645be799727de0d1ec3c6f9b11b20eb\u241f3611151550276603888: If you have an account on Mastodon or Pleroma, you can open it directly in their interface: "]);return Ae=function(){return e},e}function Re(){var e=dt([":\u241f2c6453cc150c9f652a7f1238d2f172e625f0f117\u241f3412127749264148680: You can comment using an account on any ActivityPub-compatible instance. On most platforms, you can find the video by typing its URL in the search bar and then comment it from within the software's interface. "]);return Re=function(){return e},e}function Ne(){var e=dt([":\u241f8b2bb53dfb5f059f2b68cc4ac00661a865909135\u241f2263890353858735493:You are one step away from commenting"]);return Ne=function(){return e},e}function De(){var e=dt([":\u241fda44efc7b658c318651866454d258bbbe57ff21c\u241f4598124915768290146: Cancel "]);return De=function(){return e},e}function Ue(){var e=dt([":\u241ff37feb427aaa551edd1f22616be6464bc0d492de\u241f381522038671562286:See complete list"]);return Ue=function(){return e},e}function Be(){var e=dt([":\u241fb9809a21a8eb3c9db2a0282c5dd94bc221575c96\u241f6608581312644027413:Emoji markup"]);return Be=function(){return e},e}function ze(){var e=dt([":\u241fadb4bbdcb961b8aac8298d6cac554d9b25636b7a\u241f7227611412155083002:Emoji shortcuts"]);return ze=function(){return e},e}function Fe(){var e=dt([":\u241f3c12190421fbb2756e6bbead923df9ec5de8ede2\u241f8497278965577453274:italic"]);return Fe=function(){return e},e}function He(){var e=dt([":\u241f4e13b179501d3d32721037e03b4c04acb9857c5f\u241f2810844969104710423:bold"]);return He=function(){return e},e}function We(){var e=dt([":\u241fab4426b60f13c00b61d6b714d390dc629f314980\u241f2516633974298697807:Emphasis"]);return We=function(){return e},e}function $e(){var e=dt([":\u241fb15e7bec5c7833d2d9634946ccbed68967b1bee1\u241f8756167649220050929:Lists"]);return $e=function(){return e},e}function Ke(){var e=dt([":\u241f664f99b8919d6dd2faa1c1f7c378aa86d1be5e8a\u241f6365822416124232422:Break lines"]);return Ke=function(){return e},e}function qe(){var e=dt([":\u241f9a53b17a021bb0677c156fd893461797fc497a10\u241f8422216333877786919:Auto generated links"]);return qe=function(){return e},e}function Ge(){var e=dt([":\u241f4739ffad85f09defefdb6e51b45f43b2ef7c4388\u241f5793595564950675122:Markdown compatible that supports:"]);return Ge=function(){return e},e}function Je(){var e=dt([":\u241f4e5254dedf0c12ce7e7c2197384fceebe3b29a2b\u241f982956590420630883:Markdown compatible"]);return Je=function(){return e},e}function Ye(){var e=dt([":\u241fdb79255cb8757e9e945ba5f901a2b67e4189016e\u241f5733075023444401902:Add comment..."]);return Ye=function(){return e},e}function Ze(){var e=dt(["Comment"]);return Ze=function(){return e},e}function Qe(){var e=dt(["Reply"]);return Qe=function(){return e},e}function Xe(){var e=dt(["Comment cannot be more than 3000 characters long."]);return Xe=function(){return e},e}function et(){var e=dt(["Comment must be at least 2 characters long."]);return et=function(){return e},e}function tt(){var e=dt(["Comment is required."]);return tt=function(){return e},e}function nt(){var e=dt([":\u241f3c4c080864b313cfdff5fdea6aae5da276246d99\u241f8928816882866356838:Public"]);return nt=function(){return e},e}function it(){var e=dt([":\u241fddd8a4986d2d1717a274a5a0fbed04988a819e69\u241f3686284950598311784:Private"]);return it=function(){return e},e}function ot(){var e=dt([":\u241f4b3963c6d0863118fe9e9e33447d12be3c2db081\u241f7539427273132299890:Unlisted"]);return ot=function(){return e},e}function rt(){var e=dt(["Loop playlist videos"]);return rt=function(){return e},e}function at(){var e=dt(["Stop looping playlist videos"]);return at=function(){return e},e}function st(){var e=dt(["Autoplay next video"]);return st=function(){return e},e}function ct(){var e=dt(["Stop autoplaying next video"]);return ct=function(){return e},e}function lt(){var e=dt([":\u241fcb66498f1a530d9b29ee5bc6605628add658dd87\u241f5336944753883027145:Maybe later"]);return lt=function(){return e},e}function ut(){var e=dt([":\u241f71b6e75eb1d54bcd9a64b9af9b99121785a065d0\u241f8010199319802993209:Support ",":INTERPOLATION:"]);return ut=function(){return e},e}function dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function vt(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mt(e,t,n){return(mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kt(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=kt(e);if(t){var o=kt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Ct(this,n)}}function Ct(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Pt(e):t}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+X0y":function(e,t){var n={"":!0,up:!0};function i(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,o=0,r=100,a=0,s=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");o=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):c=t}}})}},"0CxO":function(e,t,n){var i=n("7zRj"),o=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function r(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=o(null)}function c(e,t,n,i){var o=i?e.split(i):[e];for(var r in o)if("string"==typeof o[r]){var a=o[r].split(n);2===a.length&&t(a[0],a[1])}}function l(e,t,n){var i=e;function o(){var t=a(e);if(null===t)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}if(l(),t.startTime=o(),l(),"--\x3e"!==e.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),l(),t.endTime=o(),l(),function(e,t){var i=new s;c(e,function(e,t){switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){i.set(e,n[o].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),a=r[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start","center","end"]);break;case"position":r=t.split(","),i.percent(e,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(o){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(o){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(o){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}(r.prototype=o(Error.prototype)).constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=i.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function v(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return t=t.substr((e=n[1]?n[1]:n[2]).length),e}function i(e,t){return!f[t.localName]||f[t.localName]===e.localName}function o(t,n){var i=d[t];if(!i)return null;var o=e.document.createElement(i),r=p[t];return r&&n&&(o[r]=n.trim()),o}for(var r,s,c=e.document.createElement("div"),l=c,v=[];null!==(r=n());)if("<"!==r[0])l.appendChild(e.document.createTextNode((u.innerHTML=r,s=u.textContent,u.textContent="",s)));else{if("/"===r[1]){v.length&&v[v.length-1]===r.substr(2).replace(">","")&&(v.pop(),l=l.parentNode);continue}var g,m=a(r.substr(1,r.length-2));if(m){g=e.document.createProcessingInstruction("timestamp",m),l.appendChild(g);continue}var b=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!b)continue;if(!(g=o(b[1],b[3])))continue;if(!i(l,g))continue;if(b[2]){var y=b[2].split(".");y.forEach(function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;h.hasOwnProperty(n)&&(g.style[t?"background-color":"color"]=h[n])}),g.className=y.join(" ")}v.push(b[1]),l.appendChild(g),l=g}return c}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function b(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):n}return"ruby"===t.tagName?o(e):t.childNodes?(i(e,t),o(e)):void 0}for(i(t,e);n=o(t);)for(var r=0;r<n.length;r++)if(m(n.charCodeAt(r)))return"rtl";return"ltr"}function y(){}function _(e,t,n){y.call(this),this.cue=t,this.cueDiv=v(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:b(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var o=0;switch(t.positionAlign){case"start":o=t.position;break;case"center":o=t.position-t.size/2;break;case"end":o=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(o,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(o,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function C(e){var t,n,i,o;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var r=(r=e.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();e=e.div.getBoundingClientRect(),t=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function P(e,t,n,i){var o=new C(t),r=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&i++;return-1*++i}(r),s=[];if(r.snapToLines){var c;switch(r.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var l=o.lineHeight,u=l*Math.round(a),d=n[c]+l,h=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/l)*l),a<0&&(u+=""===r.vertical?n.height:n.width,s=s.reverse()),o.move(h,u)}else{var p=o.lineHeight/n.height*100;switch(r.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],o=new C(t)}var f=function(e,t){for(var o,r=new C(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var c=e.intersectPercentage(n);a>c&&(o=new C(e),a=c),e=new C(r)}return o||r}(o,s);t.move(f.toCSSCompatValues(n))}function k(){}y.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},y.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(_.prototype=o(y.prototype)).constructor=_,C.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},C.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},C.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},C.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},C.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},C.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},C.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},C.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},k.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},k.convertCueToDOMTree=function(e,t){return e&&t?v(e,t):null},k.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var o=[],r=C.getSimpleBoxPosition(i),a={font:Math.round(.05*r.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<t.length;c++)n=new _(e,s=t[c],a),i.appendChild(n.div),P(0,n,r,o),s.displayState=n.div,o.push(C.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},(k.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof r))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var u=(o=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new r(r.Errors.BadSignature);n.state="HEADER"}for(var d=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(d?d=!1:o=i(),n.state){case"HEADER":/:/.test(o)?(t=o).match(/X-TIMESTAMP-MAP/)?c(t,function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var t=new s;c(e,function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",a(n))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}},/=/):c(t,function(e,t){switch(e){case"Region":!function(e){var t=new s;if(c(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new s;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}(t)}},/:/):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(p){n.cue.align="middle"}if(n.state="CUE",-1===o.indexOf("--\x3e")){n.cue.id=o;continue}case"CUE":try{l(o,n.cue,n.regionList)}catch(p){n.reportOrThrowError(p),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var h=-1!==o.indexOf("--\x3e");if(!o||h&&(d=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=o.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":o||(n.state="ID");continue}}}catch(p){n.reportOrThrowError(p),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new r(r.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=k},"3zPy":function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,r=String(e);return(n=i[r.toLowerCase()])?n:(n=o[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var r;if(r=i[t.toLowerCase()])return r===n;if(r=o[t.toLowerCase()])return r===n}else if("number"==typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)i[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)i[r-48]=r;for(r=1;r<13;r++)i["f"+r]=r+111;for(r=0;r<10;r++)i["numpad "+r]=r+96;var a=t.names=t.title={};for(r in i)a[i[r]]=r;for(var s in o)i[s]=o[s]},"7W2i":function(e,t,n){var i=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},"7zRj":function(e,t,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},r=n(9);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=i},8:function(e,t){},9:function(e,t){},BF8C:function(e,t,n){"use strict";var i=n("vgmO"),o=n("pVnL"),r=n("g2LC");function a(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=o({},t,{uri:e}),i.callback=n,i}function s(e,t,n){return c(t=a(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,o){t||(t=!0,e.callback(n,i,o))};function i(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;if(""===e.responseType&&(!e.responseXML||"parsererror"!==e.responseXML.documentElement.nodeName))return e.responseXML}catch(t){}return null}(l),g)try{e=JSON.parse(e)}catch(t){}return e}function o(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,m)}function r(){if(!c){var t;clearTimeout(u);var o=m,r=null;return 0!==(t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status)?(o={body:i(),statusCode:t,method:h,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(o.headers=function(e){var t={};return e?(e.trim().split("\n").forEach(function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),o=e.slice(n+1).trim();void 0===t[i]?t[i]=o:Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]}),t):t}(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,o,o.body)}}var a,c,l=e.xhr||null;l||(l=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var u,d=l.url=e.uri||e.url,h=l.method=e.method||"GET",p=e.body||e.data,f=l.headers=e.headers||{},v=!!e.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(r,0)},l.onload=r,l.onerror=o,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=o,l.open(h,d,!v,e.username,e.password),v||(l.withCredentials=!!e.withCredentials),!v&&e.timeout>0&&(u=setTimeout(function(){if(!c){c=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}},e.timeout)),l.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&l.setRequestHeader(a,f[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(p||null),l}e.exports=s,e.exports.default=s,s.XMLHttpRequest=i.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){s["delete"===e?"del":e]=function(t,n,i){return(n=a(t,n,i)).method=e.toUpperCase(),c(n)}})},K4wu:function(e,t,n){var i=n("vgmO"),o=e.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};i.vttjs=o,i.WebVTT=o.WebVTT;var r=o.VTTCue,a=o.VTTRegion,s=i.VTTCue,c=i.VTTRegion;o.shim=function(){i.VTTCue=r,i.VTTRegion=a},o.restore=function(){i.VTTCue=s,i.VTTRegion=c},i.VTTCue||o.shim()},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},R3rJ:function(dt,vt,gt){"use strict";gt.r(vt),gt.d(vt,"VideoWatchModule",function(){return xa});var yt,Ct,Ot,wt=gt("sWvm"),xt=gt("P8w3"),St=gt("xMQD"),Et=gt("HIM4"),It=gt("6maM"),jt=gt("5rWp"),Lt=gt("h3Oa"),Vt=gt("ix8N"),At=gt("JEFd"),Rt=gt("SZgj"),Nt=gt("GeT4"),Dt=gt("ofXK"),Ut=gt("sKkf"),Bt=gt("LRne"),zt=gt("lJxs"),Ft=gt("eIep"),Ht=gt("ey9i"),Wt=gt("fXoL"),$t=((yt=function(){function e(t,n,i,o){var r=this;Tt(this,e),this.videos=t,this.searchService=n,this.userService=i,this.serverService=o,this.pageSize=5,this.config=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(function(e){return r.config=e})}return Mt(e,[{key:"getRecommendations",value:function(e){var t=this;return this.fetchPage(1,e).pipe(Object(zt.a)(function(n){return n.filter(function(t){return t.uuid!==e.uuid}).slice(0,t.pageSize)}))}},{key:"fetchPage",value:function(e,t){var n=this,i={currentPage:e,itemsPerPage:this.pageSize+1},o=this.videos.getVideos({videoPagination:i,sort:"-createdAt"}).pipe(Object(zt.a)(function(e){return e.data})),r=t.tags,a=this.config.search.searchIndex;return!r||0===r.length||!0===a.enabled&&!0===a.disableLocalSearch?o:this.userService.getAnonymousOrLoggedUser().pipe(Object(zt.a)(function(e){return{search:"",componentPagination:i,advancedSearch:new Ut.a({tagsOneOf:t.tags.join(","),sort:"-createdAt",searchTarget:"local",nsfw:e.nsfwPolicy?n.videos.nsfwPolicyToParam(e.nsfwPolicy):void 0})}}),Object(Ft.a)(function(e){return n.searchService.searchVideos(e)}),Object(zt.a)(function(e){return e.data}),Object(Ft.a)(function(e){return e.length<=1?o:Object(Bt.a)(e)}))}}]),e}()).\u0275fac=function(e){return new(e||yt)(Wt.gc(St.s),Wt.gc(Ut.b),Wt.gc(Ht.D),Wt.gc(Ht.x))},yt.\u0275prov=Wt.Lb({token:yt,factory:yt.\u0275fac}),yt),Kt=gt("jtHE"),qt=gt("IzEk"),Gt=gt("UXun"),Jt=((Ot=function(){function e(t){var n=this;Tt(this,e),this.recommendations=t,this.requestsForLoad$$=new Kt.a(1),this.recommendations$=this.requestsForLoad$$.pipe(Object(Ft.a)(function(e){return n.recommendations.getRecommendations(e).pipe(Object(qt.a)(1))}),Object(Gt.a)()),this.hasRecommendations$=this.recommendations$.pipe(Object(zt.a)(function(e){return e.length>0}))}return Mt(e,[{key:"requestNewRecommendations",value:function(e){this.requestsForLoad$$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Ot)(Wt.gc($t))},Ot.\u0275prov=Wt.Lb({token:Ot,factory:Ot.\u0275fac}),Ot),Yt=((Ct=function e(){Tt(this,e)}).\u0275mod=Wt.Nb({type:Ct}),Ct.\u0275inj=Wt.Mb({factory:function(e){return new(e||Ct)},providers:[Jt,$t],imports:[[Dt.c,St.h,Ut.c,Rt.a,At.b,wt.c]]}),Ct),Zt=gt("tyNb"),Qt=gt("Phsq"),Xt=gt("mrSG"),en=gt("yl57"),tn=gt("cp0P"),nn=gt("JIr8"),on=gt("ihI+"),rn=gt("dubb"),an=gt("6rF9"),sn=gt("YpOa"),cn=gt("YbNa"),ln=gt("Trnl"),un=(gt("cmjK"),gt("7zRj")),dn=gt.n(un),hn=gt("x3Ew"),pn=gt.n(hn);function fn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var vn=1,gn=function(){return vn++},mn=pn.a.dom||pn.a,bn=pn.a.registerPlugin||pn.a.plugin,yn=pn.a.getComponent("Component"),_n=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o=t.$(".vjs-tech");return o.setAttribute("aria-labelledby",i.title.id),o.setAttribute("aria-describedby",i.description.id),i}fn(t,e);var n=t.prototype;return n.createEl=function(){var t=mn.createEl("div",{className:"vjs-dock-title",title:this.options_.title,innerHTML:this.options_.title},{id:"vjs-dock-title-"+gn()}),n=mn.createEl("div",{className:"vjs-dock-description",title:this.options_.description,innerHTML:this.options_.description},{id:"vjs-dock-description-"+gn()}),i=e.prototype.createEl.call(this,"div",{className:"vjs-dock-text"});return this.title=t,this.description=n,i.appendChild(t),i.appendChild(n),i},n.update=function(e,t){this.title.innerHTML="",this.description.innerHTML="",this.title.appendChild(dn.a.createTextNode(e)),this.description.appendChild(dn.a.createTextNode(t))},t}(yn),Cn=function(e){function t(){return e.apply(this,arguments)||this}return fn(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-dock-shelf"})},t}(yn);pn.a.registerComponent("Title",_n),pn.a.registerComponent("Shelf",Cn);var Pn=function(e){var t=e||{},n={title:{title:t.title||"",description:t.description||""}},i=this.title,o=this.shelf;this.addClass("vjs-dock");var r=this.children().indexOf(this.getChild("bigPlayButton")),a=r>0?r-1:null;o||(o=this.shelf=this.addChild("shelf",n,a)),i?i.update(n.title.title,n.title.description):i=this.title=this.addChild("title",n.title,a),this.one(i,"dispose",function(){this.title=null}),this.one(o,"dispose",function(){this.shelf=null})};Pn.VERSION="2.1.4",bn("dock",Pn);var kn=gt("vgmO"),Tn=gt.n(kn);function On(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Mn=function(e){function t(){return e.apply(this,arguments)||this}return On(t,e),t.prototype.handleClick=function(t){var n=this;e.prototype.handleClick.call(this),this.options_.listener(),Tn.a.setTimeout(function(){n.player().contextmenuUI.menu.dispose()},1)},t}(pn.a.getComponent("MenuItem")),wn=pn.a.getComponent("Menu"),xn=pn.a.dom||pn.a,Sn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).dispose=pn.a.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),i.dispose),n.content.forEach(function(e){var n=function(){};"function"==typeof e.listener?n=e.listener:"string"==typeof e.href&&(n=function(){return Tn.a.open(e.href)}),i.addItem(new Mn(t,{label:e.label,listener:pn.a.bind(t,n)}))}),i}return On(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return xn.addClass(t,"vjs-contextmenu-ui-menu"),t.style.left=this.options_.position.left+"px",t.style.top=this.options_.position.top+"px",t},t}(wn);function En(e){return e.hasOwnProperty("contextmenuUI")&&e.contextmenuUI.hasOwnProperty("menu")&&e.contextmenuUI.menu.el()}function In(e){var t=e.tagName.toLowerCase();return"input"===t||"textarea"===t}function jn(e){var t,n,i,o,r,a,s,c,l,u,d,h=this;if(En(this))this.contextmenuUI.menu.dispose();else if(!this.contextmenuUI.options_.excludeElements(e.target)){var p=(o=e,r={},a=function(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=dn.a.documentElement,i=dn.a.body,o=t.top+(Tn.a.pageYOffset||i.scrollTop)-(n.clientTop||i.clientTop||0);return{left:Math.round(t.left+(Tn.a.pageXOffset||i.scrollLeft)-(n.clientLeft||i.clientLeft||0)),top:Math.round(o)}}(i=this.el()),s=i.offsetWidth,c=i.offsetHeight,l=a.left,u=o.pageY,d=o.pageX,o.changedTouches&&(d=o.changedTouches[0].pageX,u=o.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a.top-u+c)/c)),r.x=Math.max(0,Math.min(1,(d-l)/s)),t=r,n=this.el().getBoundingClientRect(),{left:Math.round(n.width*t.x),top:Math.round(n.height-n.height*t.y)}),f=pn.a.browser.IS_FIREFOX?dn.a.documentElement:dn.a;e.preventDefault();var v=this.contextmenuUI.menu=new Sn(this,{content:this.contextmenuUI.content,position:p});this.contextmenuUI.closeMenu=function(){pn.a.log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),v.dispose()},v.on("dispose",function(){pn.a.off(f,["click","tap"],v.dispose),h.removeChild(v),delete h.contextmenuUI.menu}),this.addChild(v);var g=v.el_.getBoundingClientRect(),m=dn.a.body.getBoundingClientRect();(this.contextmenuUI.keepInside||g.right>m.width||g.bottom>m.height)&&(v.el_.style.left=Math.floor(Math.min(p.left,this.player_.currentWidth()-v.currentWidth()))+"px",v.el_.style.top=Math.floor(Math.min(p.top,this.player_.currentHeight()-v.currentHeight()))+"px"),pn.a.on(f,["click","tap"],v.dispose)}}function Ln(e){var t=this;if(e=pn.a.mergeOptions({keepInside:!0,excludeElements:In},e),!Array.isArray(e.content))throw new Error('"content" required');En(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var n=this.contextmenuUI=function(){Ln.apply(this,arguments)};n.onContextMenu=pn.a.bind(this,jn),n.content=e.content,n.keepInside=e.keepInside,n.options_=e,n.VERSION="5.2.0",this.on("contextmenu",n.onContextMenu),this.ready(function(){return t.addClass("vjs-contextmenu-ui")})}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}pn.a.registerPlugin("contextmenuUI",Ln),Ln.VERSION="5.2.0";var An=function e(t){var n=this;if(pn.a.browser.IS_IE8)for(var i in n=dn.a.createElement("custom"),e.prototype)"constructor"!==i&&(n[i]=e.prototype[i]);return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(e){n.enabled_(e)}}),n},Rn=function(e){var t,n;function i(){var t,n=Vn(Vn(t=e.call(this)||this));if(pn.a.browser.IS_IE8)for(var o in n=dn.a.createElement("custom"),i.prototype)"constructor"!==o&&(n[o]=i.prototype[o]);return n.levels_=[],n.selectedIndex_=-1,Object.defineProperty(n,"selectedIndex",{get:function(){return n.selectedIndex_}}),Object.defineProperty(n,"length",{get:function(){return n.levels_.length}}),n||Vn(t)}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.addQualityLevel=function(e){var t=this.getQualityLevelById(e.id);if(t)return t;var n=this.levels_.length;return t=new An(e),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t},o.removeQualityLevel=function(e){for(var t=null,n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t},o.getQualityLevelById=function(e){for(var t=0,n=this.length;t<n;t++){var i=this[t];if(i.id===e)return i}return null},o.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},i}(pn.a.EventTarget);for(var Nn in Rn.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},Rn.prototype.allowedEvents_)Rn.prototype["on"+Nn]=null;var Dn=function(e){return t=this,pn.a.mergeOptions({},e),n=t.qualityLevels,i=new Rn,t.on("dispose",function e(){i.dispose(),t.qualityLevels=n,t.off("dispose",e)}),t.qualityLevels=function(){return i},t.qualityLevels.VERSION="2.0.9",i;var t,n,i};(pn.a.registerPlugin||pn.a.plugin)("qualityLevels",Dn),Dn.VERSION="2.0.9";var Un=pn.a.getComponent("Component");pn.a.registerComponent("EndCard",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).dashOffsetTotal=586,o.dashOffsetStart=293,o.interval=50,o.upNextEvents=new pn.a.EventTarget,o.ticks=0,o.totalTicks=o.options_.timeout/o.interval,e.on("ended",function(t){o.options_.condition()&&(e.addClass("vjs-upnext--showing"),o.showCard(function(t){e.removeClass("vjs-upnext--showing"),o.container.style.display="none",t||o.options_.next()}))}),e.on("playing",function(){o.upNextEvents.trigger("playing")}),o}return Mt(n,[{key:"createEl",value:function(){var e,t=this,i=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-upnext-content",innerHTML:(e=this.options_,'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'.concat(e.headText,'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">').concat(e.cancelText,'</button>\n      </span>\n      <span class="vjs-upnext-suspended">').concat(e.suspendedText,"</span>\n    </span>\n  "))});return this.container=i,i.style.display="none",this.autoplayRing=i.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=i.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=i.getElementsByClassName("vjs-upnext-cancel-button")[0],this.suspendedMessage=i.getElementsByClassName("vjs-upnext-suspended")[0],this.nextButton=i.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){t.upNextEvents.trigger("cancel")},this.nextButton.onclick=function(){t.upNextEvents.trigger("next")},i}},{key:"showCard",value:function(e){var t,n=this;this.autoplayRing.setAttribute("stroke-dasharray",""+this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",""+-this.dashOffsetStart),this.title.innerHTML=this.options_.getTitle(),this.upNextEvents.one("cancel",function(){clearTimeout(t),e(!0)}),this.upNextEvents.one("playing",function(){clearTimeout(t),e(!0)}),this.upNextEvents.one("next",function(){clearTimeout(t),e(!1)});var i=function(e){var t=Math.max(-n.dashOffsetTotal,-n.dashOffsetStart-e*n.dashOffsetTotal/2/100);n.autoplayRing.setAttribute("stroke-dashoffset",""+t)};this.container.style.display="block",t=setTimeout((function o(){n.options_.suspended()?(n.suspendedMessage.innerText=n.options_.suspendedText,i(0),n.ticks=0,t=setTimeout(o.bind(n),300)):n.ticks>=n.totalTicks?(clearTimeout(t),e(!1)):(n.suspendedMessage.innerText="",i(100*n.ticks++/n.totalTicks),t=setTimeout(o.bind(n),n.interval))}).bind(this),this.interval)}}]),n}(Un));var Bn=pn.a.getPlugin("plugin");pn.a.registerPlugin("upnext",function(e){bt(n,e);var t=_t(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Tt(this,n);var r={next:o.next,getTitle:o.getTitle,timeout:o.timeout||5e3,cancelText:o.cancelText||"Cancel",headText:o.headText||"Up Next",suspendedText:o.suspendedText||"Autoplay is suspended",condition:o.condition,suspended:o.suspended};return(i=t.call(this,e)).player.ready(function(){e.addClass("vjs-upnext")}),e.addChild("EndCard",r),i}return n}(Bn));var zn=pn.a.getComponent("Component");pn.a.registerComponent("PauseBezel",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),o=t.call(this,e,i),e.on("pause",function(t){e.seeking()||e.ended()||(o.container.innerHTML='\n  <div class="vjs-bezels-pause">\n    <div class="vjs-bezel" role="status" aria-label="Pause">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-1"></use>\n          <path class="vjs-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id="vjs-id-1"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())}),e.on("play",function(t){e.seeking()||(o.container.innerHTML='\n  <div class="vjs-bezels-play">\n    <div class="vjs-bezel" role="status" aria-label="Play">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-2"></use>\n          <path class="vjs-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id="ytp-id-2"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',o.showBezel())}),o}return Mt(n,[{key:"createEl",value:function(){return this.container=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-bezels-content"}),this.container.style.display="none",this.container}},{key:"showBezel",value:function(){var e=this;this.container.style.display="inherit",setTimeout(function(){e.container.style.display="none"},500)}}]),n}(zn));var Fn=pn.a.getPlugin("plugin");pn.a.registerPlugin("bezels",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e)).player.ready(function(){e.addClass("vjs-bezels")}),e.addChild("PauseBezel",i),o}return n}(Fn));var Hn=gt("H9+z"),Wn=pn.a.getComponent("MenuItem"),$n=pn.a.getComponent("Component"),Kn=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;Tt(this,n),(o=t.call(this,e,i)).settingsButton=i.menuButton,o.dialog=o.settingsButton.dialog,o.mainMenu=o.settingsButton.menu,o.panel=o.dialog.getChild("settingsPanel"),o.panelChild=o.panel.getChild("settingsPanelChild"),o.panelChildEl=o.panelChild.el(),o.size=null,o.menuToLoad="mainmenu";var r=Object(Hn.l)(i.entry),a=pn.a.getComponent(r);if(!a)throw new Error("Component ".concat(r," does not exist"));var s=Object.assign({},i,{entry:i.menuButton,menuButton:Pt(o)});o.subMenu=new a(o.player(),s);var c=o.subMenu.buildCSSClass().split(" ")[0];return o.settingsSubMenuEl_.className+=" "+c,o.eventHandlers(),e.ready(function(){setTimeout(function(){o.player_&&(o.build(),e.on("ratechange",o.submenuClickHandler),"CaptionsButton"===r&&e.on("captionsChanged",function(){setTimeout(function(){o.settingsSubMenuEl_.innerHTML="",o.settingsSubMenuEl_.appendChild(o.subMenu.menu.el()),o.update(),o.bindClickEvents()},0)}),o.reset())},0)}),o}return Mt(n,[{key:"eventHandlers",value:function(){this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)}},{key:"onSubmenuClick",value:function(e){var t=this,n=null;(n="tap"===e.type?e.target:e.currentTarget)&&n.classList.contains("vjs-back-button")?this.loadMainMenu():(setTimeout(function(){return t.update(e)},0),this.subMenu.menu.removeClass("vjs-hidden"))}},{key:"createEl",value:function(){var e=pn.a.dom.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuTitleEl_=pn.a.dom.createEl("div",{className:"vjs-settings-sub-menu-title"}),e.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=pn.a.dom.createEl("div",{className:"vjs-settings-sub-menu-value"}),e.appendChild(this.settingsSubMenuValueEl_),this.settingsSubMenuEl_=pn.a.dom.createEl("div",{className:"vjs-settings-sub-menu"}),e}},{key:"handleClick",value:function(e){var t=this;this.menuToLoad="submenu",pn.a.dom.removeClass(this.el(),"open"),mt(kt(n.prototype),"handleClick",this).call(this,e),this.mainMenu.el().style.opacity="0",pn.a.dom.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(pn.a.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout(function(){t.settingsSubMenuEl_.style.opacity="1",t.settingsSubMenuEl_.style.marginRight="0px"},0),this.settingsButton.setDialogSize(this.size)):pn.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}},{key:"createBackButton",value:function(){var e=this.subMenu.menu.addChild("MenuItem",{},0);e.addClass("vjs-back-button"),e.el().innerHTML=this.player().localize(this.subMenu.controlText())}},{key:"PrefixedEvent",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEvent",o=["webkit","moz","MS","o",""],r=0;r<o.length;r++)o[r]||(t=t.toLowerCase()),"addEvent"===i?e.addEventListener(o[r]+t,n,!1):"removeEvent"===i&&e.removeEventListener(o[r]+t,n,!1)}},{key:"onTransitionEnd",value:function(e){"margin-right"===e.propertyName&&"mainmenu"===this.menuToLoad&&(pn.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")}},{key:"reset",value:function(){pn.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()}},{key:"loadMainMenu",value:function(){var e=this,t=this.mainMenu.el();this.menuToLoad="mainmenu",this.mainMenu.show(),t.style.opacity="0";var n=this.mainMenu;this.settingsButton.setDialogSize([n.width,n.height]),setTimeout(function(){e.setMargin(),t.style.opacity="1"},0)}},{key:"build",value:function(){var e=this;this.subMenu.on("updateLabel",function(){e.update()}),this.subMenu.on("menuChanged",function(){e.bindClickEvents(),e.setSize(),e.update()}),this.settingsSubMenuTitleEl_.innerHTML=this.player().localize(this.subMenu.controlText()),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el()),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.setSize(),this.bindClickEvents(),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")}},{key:"update",value:function(e){var t=this,n=null,i=this.subMenu.name();if(e&&"tap"===e.type?n=e.target:e&&(n=e.currentTarget),"PlaybackRateMenuButton"===i){var o=this.subMenu.labelEl_.innerHTML;setTimeout(function(){return t.settingsSubMenuValueEl_.innerHTML=o},250)}else{var r,a=ft(this.subMenu.menu.children_);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s instanceof $n&&s.hasClass("vjs-selected")){var c=s;if("function"==typeof c.getLabel){this.settingsSubMenuValueEl_.innerHTML=c.getLabel();break}this.settingsSubMenuValueEl_.innerHTML=c.options_.label}}}catch(l){a.e(l)}finally{a.f()}}n&&!n.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog()}},{key:"bindClickEvents",value:function(){var e,t=ft(this.subMenu.menu.children());try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof $n&&n.on(["tap","click"],this.submenuClickHandler)}}catch(i){t.e(i)}finally{t.f()}}},{key:"setSize",value:function(){this.dialog.removeClass("vjs-hidden"),pn.a.dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),pn.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}},{key:"setMargin",value:function(){if(this.size){var e=pt(this.size,1)[0];this.settingsSubMenuEl_.style.marginRight="-".concat(e,"px")}}},{key:"hideSubMenu",value:function(){this.el()&&pn.a.dom.hasClass(this.el(),"open")&&(pn.a.dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),pn.a.dom.removeClass(this.el(),"open"))}}]),n}(Wn);Kn.prototype.contentElType="button",pn.a.registerComponent("SettingsMenuItem",Kn);var qn=pn.a.getComponent("Button"),Gn=pn.a.getComponent("Menu"),Jn=pn.a.getComponent("Component");Jn.registerComponent("SettingsButton",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).settingsButtonOptions=i,o.controlText("Settings"),o.dialog=o.player().addChild("settingsDialog"),o.dialogEl=o.dialog.el(),o.menu=null,o.panel=o.dialog.addChild("settingsPanel"),o.panelChild=o.panel.addChild("settingsPanelChild"),o.addClass("vjs-settings"),o.el().setAttribute("aria-label","Settings Button"),o.addSettingsItemHandler=o.onAddSettingsItem.bind(Pt(o)),o.disposeSettingsItemHandler=o.onDisposeSettingsItem.bind(Pt(o)),o.playerClickHandler=o.onPlayerClick.bind(Pt(o)),o.userInactiveHandler=o.onUserInactive.bind(Pt(o)),o.buildMenu(),o.bindEvents(),o.player().one("play",function(){return o.hideDialog()}),o}return Mt(n,[{key:"onPlayerClick",value:function(e){var t=e.target;t.classList.contains("vjs-settings")||t.parentElement.classList.contains("vjs-settings")||this.dialog.hasClass("vjs-hidden")||this.hideDialog()}},{key:"onDisposeSettingsItem",value:function(e,t){if(void 0===t){for(var n=this.menu.children();n.length>0;)n[0].dispose(),this.menu.removeChild(n[0]);this.addClass("vjs-hidden")}else{var i=this.menu.getChild(t);i&&(i.dispose(),this.menu.removeChild(i))}this.hideDialog(),0===this.settingsButtonOptions.entries.length&&this.addClass("vjs-hidden")}},{key:"onAddSettingsItem",value:function(e,t){var n=pt(t,2),i=n[0],o=n[1];this.addMenuItem(i,o),this.removeClass("vjs-hidden")}},{key:"onUserInactive",value:function(){this.dialog.hasClass("vjs-hidden")||this.hideDialog()}},{key:"bindEvents",value:function(){this.player().on("click",this.playerClickHandler),this.player().on("addsettingsitem",this.addSettingsItemHandler),this.player().on("disposesettingsitem",this.disposeSettingsItemHandler),this.player().on("userinactive",this.userInactiveHandler)}},{key:"buildCSSClass",value:function(){return"vjs-icon-settings ".concat(mt(kt(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.dialog.hasClass("vjs-hidden")?this.showDialog():this.hideDialog()}},{key:"showDialog",value:function(){this.player().peertube().onMenuOpen(),this.menu.el().style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu))}},{key:"hideDialog",value:function(){this.player_.peertube().onMenuClosed(),this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el().style.opacity="1",this.resetChildren()}},{key:"getComponentSize",value:function(e){var t=null,n=null;if(e instanceof Jn){var i=e.el();t=i.offsetWidth,n=i.offsetHeight,e.width=t,e.height=n}else t=e.offsetWidth,n=e.offsetHeight;return[t,n]}},{key:"setDialogSize",value:function(e){var t=pt(e,2),n=t[0],i=t[1];if("number"==typeof i){var o=this.settingsButtonOptions.setup.maxHeightOffset,r=this.player().el().offsetHeight-o,a=this.panel.el();i>r?(n+=17,a.style.maxHeight="".concat(i=r,"px")):""!==a.style.maxHeight&&(a.style.maxHeight=""),this.dialogEl.style.width="".concat(n,"px"),this.dialogEl.style.height="".concat(i,"px")}}},{key:"buildMenu",value:function(){this.menu=new Gn(this.player()),this.menu.addClass("vjs-main-menu");var e=this.settingsButtonOptions.entries;if(0===e.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);var t,n=ft(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addMenuItem(i,this.settingsButtonOptions)}}catch(o){n.e(o)}finally{n.f()}this.panelChild.addChild(this.menu)}},{key:"addMenuItem",value:function(e,t){t.name=Object(Hn.l)(e);var n=Object.assign({},t,{entry:e,menuButton:this}),i=new Kn(this.player(),n);this.menu.addChild(i),i.on("click",pn.a.bind(this,this.hideChildren)),i.on("click",function(){pn.a.dom.hasClass(this.el_,"open")?pn.a.dom.removeClass(this.el_,"open"):pn.a.dom.addClass(this.el_,"open")})}},{key:"resetChildren",value:function(){var e,t=ft(this.menu.children());try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(n){t.e(n)}finally{t.f()}}},{key:"hideChildren",value:function(){var e,t=ft(this.menu.children());try{for(t.s();!(e=t.n()).done;){e.value.hideSubMenu()}}catch(n){t.e(n)}finally{t.f()}}}]),n}(qn));var Yn=pn.a.getPlugin("plugin");pn.a.registerPlugin("peertube",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e)).CONSTANTS={USER_WATCHING_VIDEO_INTERVAL:5e3},o.menuOpened=!1,o.mouseInControlBar=!1,o.videoViewUrl=i.videoViewUrl,o.videoDuration=i.videoDuration,o.videoCaptions=i.videoCaptions,o.isLive=i.isLive,o.savedInactivityTimeout=e.options_.inactivityTimeout,i.autoplay&&o.player.addClass("vjs-has-autoplay"),o.player.on("autoplay-failure",function(){o.player.removeClass("vjs-has-autoplay")}),o.player.ready(function(){var e=o.player.options_;"webtorrent"===i.mode&&(o.player.webtorrent().on("resolutionChange",function(e,t){return o.handleResolutionChange(t)}),o.player.webtorrent().on("autoResolutionChange",function(e,t){return o.trigger("autoResolutionChange",t)})),"p2p-media-loader"===i.mode&&o.player.p2pMediaLoader().on("resolutionChange",function(e,t){return o.handleResolutionChange(t)});var t=Object(ln.e)();o.player.tech(!0).on("loadedqualitydata",function(){setTimeout(function(){o.lastResolutionChange&&t&&"auto"!==t&&(o.lastResolutionChange.auto=!1,o.lastResolutionChange.resolutionId=parseInt(t),o.handleResolutionChange(o.lastResolutionChange))},10)});var n=Object(ln.g)();void 0!==n&&o.player.volume(n);var r=void 0!==e.muted?e.muted:Object(ln.c)();if(void 0!==r&&o.player.muted(r),o.defaultSubtitle=i.subtitle||Object(ln.b)(),o.player.on("volumechange",function(){Object(ln.m)(o.player.volume()),Object(ln.j)(o.player.muted())}),i.stopTime){var a=Object(Hn.k)(i.stopTime),s=Pt(o);o.player.on("timeupdate",function e(){s.player.currentTime()>a&&(s.player.pause(),s.player.trigger("stopped"),s.player.off("timeupdate",e))})}o.player.textTracks().on("change",function(){var e=o.player.textTracks().tracks_.find(function(e){return"captions"===e.kind&&"showing"===e.mode});e?Object(ln.i)(e.language):Object(ln.i)("off")}),o.player.on("sourcechange",function(){return o.initCaptions()}),o.player.duration(i.videoDuration),o.initializePlayer(),o.runViewAdd(),i.userWatching&&o.runUserWatchVideo(i.userWatching)}),o}return Mt(n,[{key:"dispose",value:function(){this.videoViewInterval&&clearInterval(this.videoViewInterval),this.userWatchingVideoInterval&&clearInterval(this.userWatchingVideoInterval)}},{key:"onMenuOpen",value:function(){this.menuOpened=!1,this.alterInactivity()}},{key:"onMenuClosed",value:function(){this.menuOpened=!0,this.alterInactivity()}},{key:"initializePlayer",value:function(){Object(Hn.g)()&&this.player.addClass("vjs-is-mobile"),this.initSmoothProgressBar(),this.initCaptions(),this.listenControlBarMouse()}},{key:"runViewAdd",value:function(){var e=this;this.clearVideoViewInterval();var t=30;!this.isLive&&this.videoDuration<t&&(t=3*this.videoDuration/4);var n=0;this.videoViewInterval=setInterval(function(){e.player&&!e.player.paused()&&((n+=1)>t&&(e.isLive?n=0:e.clearVideoViewInterval(),e.addViewToVideo().catch(function(e){return console.error(e)})))},1e3)}},{key:"runUserWatchVideo",value:function(e){var t=this,n=0;this.userWatchingVideoInterval=setInterval(function(){var i=Math.floor(t.player.currentTime());i-n>=1&&(n=i,t.notifyUserIsWatching(i,e.url,e.authorizationHeader).catch(function(e){return console.error("Cannot notify user is watching.",e)}))},this.CONSTANTS.USER_WATCHING_VIDEO_INTERVAL)}},{key:"clearVideoViewInterval",value:function(){void 0!==this.videoViewInterval&&(clearInterval(this.videoViewInterval),this.videoViewInterval=void 0)}},{key:"addViewToVideo",value:function(){return this.videoViewUrl?fetch(this.videoViewUrl,{method:"POST"}):Promise.resolve(void 0)}},{key:"notifyUserIsWatching",value:function(e,t,n){var i=new URLSearchParams;i.append("currentTime",e.toString());var o=new Headers({Authorization:n});return fetch(t,{method:"PUT",body:i,headers:o})}},{key:"handleResolutionChange",value:function(e){this.lastResolutionChange=e,!1===e.auto?Object(ln.k)(e.resolutionId.toString()):Object(ln.k)("auto");for(var t=this.player.qualityLevels(),n=0;n<t.length;n++)if(t[n].height===e.resolutionId){e.id=t[n].id;break}this.trigger("resolutionChange",e)}},{key:"listenControlBarMouse",value:function(){var e=this;this.player.controlBar.on("mouseenter",function(){e.mouseInControlBar=!0,e.alterInactivity()}),this.player.controlBar.on("mouseleave",function(){e.mouseInControlBar=!1,e.alterInactivity()})}},{key:"alterInactivity",value:function(){this.menuOpened?this.player.options_.inactivityTimeout=this.savedInactivityTimeout:this.mouseInControlBar||this.isTouchEnabled()||(this.player.options_.inactivityTimeout=1)}},{key:"isTouchEnabled",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"initCaptions",value:function(){var e,t=ft(this.videoCaptions);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.player.addRemoteTextTrack({kind:"captions",label:n.label,language:n.language,id:n.language,src:n.src,default:this.defaultSubtitle===n.language},!1)}}catch(i){t.e(i)}finally{t.f()}this.player.trigger("captionsChanged")}},{key:"initSmoothProgressBar",value:function(){var e=pn.a.getComponent("SeekBar");e.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},e.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t),this.update()}}}]),n}(Yn));var Zn=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).nextPreviousVideoButtonOptions=i,o.update(),o}return Mt(n,[{key:"createEl",value:function(){var e=this.options_.type,t=pn.a.dom.createEl("button",{className:"vjs-"+e+"-video"}),n=pn.a.dom.createEl("span",{className:"icon icon-"+e});return t.appendChild(n),t.title=this.player_.localize("next"===e?"Next video":"Previous video"),t}},{key:"handleClick",value:function(){this.nextPreviousVideoButtonOptions.handler()}},{key:"update",value:function(){this.nextPreviousVideoButtonOptions.isDisabled()?this.addClass("vjs-disabled"):this.removeClass("vjs-disabled")}}]),n}(pn.a.getComponent("Button"));pn.a.registerComponent("NextVideoButton",Zn),pn.a.registerComponent("PreviousVideoButton",Zn);var Qn=pn.a.getComponent("Button");pn.a.registerComponent("P2PInfoButton",function(e){bt(n,e);var t=_t(n);function n(){return Tt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"createEl",value:function(){var e=this,t=pn.a.dom.createEl("div",{className:"vjs-peertube"}),n=pn.a.dom.createEl("div",{className:"vjs-peertube-hidden"});t.appendChild(n);var i=pn.a.dom.createEl("span",{className:"icon icon-download"});n.appendChild(i);var o=pn.a.dom.createEl("span",{className:"download-speed-text"}),r=pn.a.dom.createEl("span",{className:"download-speed-number"}),a=pn.a.dom.createEl("span");o.appendChild(r),o.appendChild(a),n.appendChild(o);var s=pn.a.dom.createEl("span",{className:"icon icon-upload"});n.appendChild(s);var c=pn.a.dom.createEl("span",{className:"upload-speed-text"}),l=pn.a.dom.createEl("span",{className:"upload-speed-number"}),u=pn.a.dom.createEl("span");c.appendChild(l),c.appendChild(u),n.appendChild(c);var d=pn.a.dom.createEl("span",{className:"peers-text"}),h=pn.a.dom.createEl("span",{className:"peers-number"});n.appendChild(h),n.appendChild(d);var p=pn.a.dom.createEl("div",{className:"vjs-peertube-hidden"}),f=pn.a.dom.createEl("span",{className:"http-fallback",textContent:"HTTP"});return p.appendChild(f),t.appendChild(p),this.player_.on("p2pInfo",function(t,i){if(!i)return p.className="vjs-peertube-displayed",void(n.className="vjs-peertube-hidden");var o=i.p2p,s=i.http,c=Object(Hn.d)(o.downloadSpeed+s.downloadSpeed),f=Object(Hn.d)(o.uploadSpeed+s.uploadSpeed),v=Object(Hn.d)(o.downloaded+s.downloaded),g=Object(Hn.d)(o.uploaded+s.uploaded),m=o.numPeers;if(n.title=e.player().localize("Total downloaded: ")+v.join(" ")+"\n","p2p-media-loader"===i.source){var b=Object(Hn.d)(s.downloaded).join(" "),y=Object(Hn.d)(o.downloaded).join(" ");n.title+=" * "+e.player().localize("From servers: ")+b+"\n * "+e.player().localize("From peers: ")+y+"\n"}n.title+=e.player().localize("Total uploaded: ")+g.join(" "),r.textContent=c[0],a.textContent=" "+c[1],l.textContent=f[0],u.textContent=" "+f[1],h.textContent=m.toString(),d.textContent=" "+(m>1?e.player().localize("peers"):e.player_.localize("peer")),p.className="vjs-peertube-hidden",n.className="vjs-peertube-displayed"}),t}}]),n}(Qn));var Xn=pn.a.getComponent("Button");pn.a.registerComponent("PeerTubeLinkButton",function(e){bt(n,e);var t=_t(n);function n(e,i){return Tt(this,n),t.call(this,e,i)}return Mt(n,[{key:"createEl",value:function(){return this.buildElement()}},{key:"updateHref",value:function(){this.el().setAttribute("href",Object(Hn.b)({startTime:this.player().currentTime()}))}},{key:"handleClick",value:function(){this.player().pause()}},{key:"buildElement",value:function(){var e=this,t=pn.a.dom.createEl("a",{href:Object(Hn.b)(),innerHTML:"PeerTube",title:this.player().localize("Video page (new window)"),className:"vjs-peertube-link",target:"_blank"});return t.addEventListener("mouseenter",function(){return e.updateHref()}),t}}]),n}(Xn));var ei=pn.a.getComponent("Component");ei.registerComponent("PeerTubeLoadProgressBar",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).on(e,"progress",o.update),o}return Mt(n,[{key:"createEl",value:function(){return mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'.concat(this.localize("Loaded"),"</span>: 0%</span>")})}},{key:"dispose",value:function(){mt(kt(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){var e=this.player().webtorrent().getTorrent();e&&(this.el().style.width=100*e.progress+"%")}}]),n}(ei));var ti=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),i.selectable=!0,(o=t.call(this,e,i)).autoResolutionPossible=!0,o.currentResolutionLabel="",o.resolutionId=i.id,o.label=i.label,o.labels=i.labels,o.callback=i.callback,e.peertube().on("resolutionChange",function(e,t){return o.updateSelection(t)}),-1===o.resolutionId&&e.peertube().on("autoResolutionChange",function(e,t){return o.updateAutoResolution(t)}),o}return Mt(n,[{key:"handleClick",value:function(e){!1===this.autoResolutionPossible&&-1===this.resolutionId||(mt(kt(n.prototype),"handleClick",this).call(this,e),this.callback(this.resolutionId,"video"))}},{key:"updateSelection",value:function(e){-1===this.resolutionId&&(this.currentResolutionLabel=this.labels[e.id]),this.selected(!0!==e.auto?this.resolutionId===e.id:-1===this.resolutionId)}},{key:"updateAutoResolution",value:function(e){!1===e.possible?this.addClass("disabled"):this.removeClass("disabled"),this.autoResolutionPossible=e.possible}},{key:"getLabel",value:function(){return-1===this.resolutionId?this.label+" <small>"+this.currentResolutionLabel+"</small>":this.label}}]),n}(pn.a.getComponent("MenuItem"));pn.a.registerComponent("ResolutionMenuItem",ti);var ni=pn.a.getComponent("Menu"),ii=pn.a.getComponent("MenuButton");pn.a.registerComponent("ResolutionMenuButton",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).controlText("Quality"),e.tech(!0).on("loadedqualitydata",function(e,t){return o.buildQualities(t)}),e.peertube().on("resolutionChange",function(){return setTimeout(function(){return o.trigger("updateLabel")},0)}),o}return Mt(n,[{key:"createEl",value:function(){var e=mt(kt(n.prototype),"createEl",this).call(this);return this.labelEl_=pn.a.dom.createEl("div",{className:"vjs-resolution-value"}),e.appendChild(this.labelEl_),e}},{key:"updateARIAAttributes",value:function(){this.el().setAttribute("aria-label","Quality")}},{key:"createMenu",value:function(){return new ni(this.player_)}},{key:"buildCSSClass",value:function(){return mt(kt(n.prototype),"buildCSSClass",this).call(this)+" vjs-resolution-button"}},{key:"buildWrapperCSSClass",value:function(){return"vjs-resolution-control "+mt(kt(n.prototype),"buildWrapperCSSClass",this).call(this)}},{key:"addClickListener",value:function(e){var t=this;e.on("click",function(){var n,i=ft(t.menu.children());try{for(i.s();!(n=i.n()).done;){var o=n.value;e!==o&&o.selected(!1)}}catch(r){i.e(r)}finally{i.f()}})}},{key:"buildQualities",value:function(e){var t={};e.qualityData.video.sort(function(e,t){return e.id>t.id?-1:e.id===t.id?0:1});var n,i=ft(e.qualityData.video);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(-1!==o.id){var r="0p"===o.label?this.player().localize("Audio-only"):o.label;this.menu.addChild(new ti(this.player_,{id:o.id,label:r,selected:o.selected,callback:e.qualitySwitchCallback})),t[o.id]=o.label}}}catch(l){i.e(l)}finally{i.f()}this.menu.addChild(new ti(this.player_,{id:-1,label:this.player_.localize("Auto"),labels:t,callback:e.qualitySwitchCallback,selected:!0}));var a,s=ft(this.menu.children());try{for(s.s();!(a=s.n()).done;){var c=a.value;this.addClickListener(c)}}catch(l){s.e(l)}finally{s.f()}this.trigger("menuChanged")}}]),n}(ii));var oi=pn.a.getComponent("Component");oi.registerComponent("SettingsDialog",function(e){bt(n,e);var t=_t(n);function n(e){var i;return Tt(this,n),(i=t.call(this,e)).hide(),i}return Mt(n,[{key:"createEl",value:function(){var e=this.id();return mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"dialog","aria-labelledby":"TTsettingsDialogLabel-"+e,"aria-describedby":"TTsettingsDialogDescription-"+e})}}]),n}(oi));var ri=pn.a.getComponent("Component");ri.registerComponent("SettingsPanel",function(e){bt(n,e);var t=_t(n);function n(e,i){return Tt(this,n),t.call(this,e,i)}return Mt(n,[{key:"createEl",value:function(){return mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})}}]),n}(ri));var ai=pn.a.getComponent("Component");ai.registerComponent("SettingsPanelChild",function(e){bt(n,e);var t=_t(n);function n(e,i){return Tt(this,n),t.call(this,e,i)}return Mt(n,[{key:"createEl",value:function(){return mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel-child",innerHTML:"",tabIndex:-1})}}]),n}(ai));var si,ci=pn.a.getComponent("Button");pn.a.registerComponent("TheaterButton",((si=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;Tt(this,n),o=t.call(this,e,i);var r=Object(ln.f)();return!0===r&&(o.player().addClass(n.THEATER_MODE_CLASS),o.handleTheaterChange()),o.controlText("Theater mode"),o.player().theaterEnabled=r,o}return Mt(n,[{key:"buildCSSClass",value:function(){return"vjs-theater-control ".concat(mt(kt(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleTheaterChange",value:function(){var e=this.isTheaterEnabled();this.controlText(e?"Normal mode":"Theater mode"),Object(ln.l)(e),this.player_.trigger("theaterChange",e)}},{key:"handleClick",value:function(){this.player_.toggleClass(n.THEATER_MODE_CLASS),this.handleTheaterChange()}},{key:"isTheaterEnabled",value:function(){return this.player_.hasClass(n.THEATER_MODE_CLASS)}}]),n}(ci)).THEATER_MODE_CLASS="vjs-theater-enabled",si));var li=function(e){bt(n,e);var t=_t(n);function n(e,i){return Tt(this,n),t.call(this,e,i)}return Mt(n,[{key:"createEl",value:function(){this.wrapper=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-button",innerHTML:"",tabIndex:-1});var e=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-icon",innerHTML:"",tabIndex:-1});return this.playlistInfoElement=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-info",innerHTML:"",tabIndex:-1}),this.wrapper.appendChild(e),this.wrapper.appendChild(this.playlistInfoElement),this.update(),this.wrapper}},{key:"update",value:function(){var e=this.options_;this.playlistInfoElement.innerHTML=e.getCurrentPosition()+"/"+e.playlist.videosLength,this.wrapper.title=this.player().localize("Playlist: {1}",[e.playlist.displayName])}},{key:"handleClick",value:function(){this.getPlaylistMenu().open()}},{key:"getPlaylistMenu",value:function(){return this.options_.playlistMenu}}]),n}(pn.a.getComponent("ClickableComponent"));pn.a.registerComponent("PlaylistButton",li);var ui=pn.a.getComponent("Component"),di=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).emitTapEvents(),o.element=i.element,o.on(["click","tap"],function(){return o.switchPlaylistItem()}),o.on("keydown",function(e){return o.handleKeyDown(e)}),o}return Mt(n,[{key:"createEl",value:function(){var e=this.options_,t=mt(kt(n.prototype),"createEl",this).call(this,"li",{className:"vjs-playlist-menu-item",innerHTML:""});e.element.video||t.classList.add("vjs-disabled");var i=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"item-position-block"}),o=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"item-position",innerHTML:e.element.position});return i.appendChild(o),t.appendChild(i),e.element.video?this.buildAvailableVideo(t,i,e):this.buildUnavailableVideo(t),t}},{key:"setSelected",value:function(e){e?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}},{key:"getElement",value:function(){return this.element}},{key:"buildAvailableVideo",value:function(e,t,i){var o=i.element,r=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"item-player"});t.appendChild(r);var a=mt(kt(n.prototype),"createEl",this).call(this,"img",{src:window.location.origin+o.video.thumbnailPath}),s=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"info-block"}),c=mt(kt(n.prototype),"createEl",this).call(this,"div",{innerHTML:o.video.name,className:"title"}),l=mt(kt(n.prototype),"createEl",this).call(this,"div",{innerHTML:o.video.channel.displayName,className:"channel"});if(s.appendChild(c),s.appendChild(l),o.startTimestamp||o.stopTimestamp){var u="";o.startTimestamp&&(u+=Object(Hn.j)(o.startTimestamp)),o.stopTimestamp&&(u+=" - "+Object(Hn.j)(o.stopTimestamp));var d=mt(kt(n.prototype),"createEl",this).call(this,"div",{innerHTML:u,className:"timestamps"});s.append(d)}e.append(a),e.append(s)}},{key:"buildUnavailableVideo",value:function(e){var t=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"item-unavailable",innerHTML:this.player().localize("Unavailable video")});e.appendChild(t)}},{key:"handleKeyDown",value:function(e){"Space"!==e.code&&"Enter"!==e.code||this.switchPlaylistItem()}},{key:"switchPlaylistItem",value:function(){this.options_.onClicked()}}]),n}(ui);ui.registerComponent("PlaylistMenuItem",di);var hi=pn.a.getComponent("Component"),pi=function(e){bt(n,e);var t=_t(n);function n(e,i){var o;Tt(this,n);var r=Pt(o=t.call(this,e,i));function a(){r.close()}return o.el().addEventListener("mouseenter",function(){o.player().off("userinactive",a)}),o.el().addEventListener("mouseleave",function(){o.player().one("userinactive",a)}),o.player().on("click",function(e){var t=e.target;do{if(t.classList.contains("vjs-playlist-menu")||t.classList.contains("vjs-playlist-button"))return;t=t.parentElement}while(t);o.close()}),o}return Mt(n,[{key:"createEl",value:function(){var e=this;this.menuItems=[];var t=this.getOptions(),i=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-menu",innerHTML:"",tabIndex:-1}),o=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"header"}),r=mt(kt(n.prototype),"createEl",this).call(this,"div"),a=mt(kt(n.prototype),"createEl",this).call(this,"div",{innerHTML:t.playlist.displayName,className:"title"}),s=t.playlist.videoChannel,c=mt(kt(n.prototype),"createEl",this).call(this,"div",{innerHTML:s?this.player().localize("By {1}",[s.displayName]):"",className:"channel"});r.appendChild(a),r.appendChild(c);var l=mt(kt(n.prototype),"createEl",this).call(this,"div",{className:"cross"});l.addEventListener("click",function(){return e.close()}),o.appendChild(r),o.appendChild(l);var u,d=mt(kt(n.prototype),"createEl",this).call(this,"ol"),h=ft(t.elements);try{var p=function(){var t=u.value,n=new di(e.player(),{element:t,onClicked:function(){return e.onItemClicked(t)}});d.appendChild(n.el()),e.menuItems.push(n)};for(h.s();!(u=h.n()).done;)p()}catch(f){h.e(f)}finally{h.f()}return i.appendChild(o),i.appendChild(d),i}},{key:"update",value:function(){var e=this.getOptions();this.updateSelected(e.getCurrentPosition())}},{key:"open",value:function(){this.player().addClass("playlist-menu-displayed")}},{key:"close",value:function(){this.player().removeClass("playlist-menu-displayed")}},{key:"updateSelected",value:function(e){var t,n=ft(this.menuItems);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.setSelected(i.getElement().position===e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"getOptions",value:function(){return this.options_}},{key:"onItemClicked",value:function(e){this.getOptions().onItemClicked(e)}}]),n}(hi);hi.registerComponent("PlaylistMenu",pi);var fi=pn.a.getPlugin("plugin");pn.a.registerPlugin("playlist",function(e){bt(n,e);var t=_t(n);function n(e,i){var o;return Tt(this,n),(o=t.call(this,e,i)).options=i,o.player.ready(function(){e.addClass("vjs-playlist")}),o.playlistMenu=new pi(e,i),o.playlistButton=new li(e,Object.assign({},i,{playlistMenu:o.playlistMenu})),e.addChild(o.playlistMenu,i),e.addChild(o.playlistButton,i),o}return Mt(n,[{key:"updateSelected",value:function(){this.playlistMenu.updateSelected(this.options.getCurrentPosition())}}]),n}(fi));var vi=gt("UozT"),gi=gt("nKAH"),mi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Tt(this,e),this.baseUrls=t}return Mt(e,[{key:"removeBySegmentUrl",value:function(e){console.log("Removing redundancy of segment URL %s.",e);var t=Object(gi.dirname)(e);this.baseUrls=this.baseUrls.filter(function(e){return e!==t&&e!==t+"/"})}},{key:"buildUrl",value:function(e){var t=this.baseUrls.length+1,n=this.getRandomInt(t);if(n===t-1)return e;var i=this.baseUrls[n],o=i.endsWith("/")?"":"/";return i+o+Object(gi.basename)(e)}},{key:"countBaseUrls",value:function(){return this.baseUrls.length}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}}]),e}();function bi(e){return function(t){return e.buildUrl(t.url)}}var yi=gt("rmSK");function _i(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){return console.error("Cannot get sha256 segments",e),{}})}var Ci,Pi=((Ci=function(){function e(){Tt(this,e)}return Mt(e,null,[{key:"getServerTranslations",value:function(t,n){var i=e.getLocalePath(t,n);return i?fetch(i+"/server.json").then(function(e){return e.json()}).catch(function(e){console.error("Cannot get server translations",e)}):Promise.resolve(void 0)}},{key:"loadLocaleInVideoJS",value:function(t,n,i){var o,r=e.getLocalePath(t,n);if(!r)return Promise.resolve(void 0);o=e.videojsLocaleCache[r]?Promise.resolve(e.videojsLocaleCache[r]):fetch(r+"/player.json").then(function(e){return e.json()}).then(function(t){return e.videojsLocaleCache[r]=t,t}).catch(function(e){console.error("Cannot get player translations",e)});var a=Object(vi.c)(n);return o.then(function(e){return i.addLanguage(Object(vi.d)(a),e)})}},{key:"getLocalePath",value:function(e,t){var n=Object(vi.c)(t);if(Object(vi.e)(n)&&!Object(vi.g)(n))return e+"/client/locales/"+n}}]),e}()).videojsLocaleCache={},Ci);pn.a.getComponent("PlaybackRateMenuButton").prototype.controlText_="Speed";var ki=pn.a.getComponent("CaptionsButton");ki.prototype.controlText_="Subtitles/CC",ki.prototype.label_=" ";var Ti,Oi=((Ti=function(){function e(){Tt(this,e)}return Mt(e,null,[{key:"initState",value:function(){e.alreadyPlayed=!1}},{key:"initialize",value:function(t,n,i){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var r,a,s,c,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.onPlayerChange=i,this.playerElementClassName=n.common.playerElement.className,o.t0="webtorrent"===t,!o.t0){o.next=6;break}return o.next=6,Promise.all([gt.e(4),gt.e(7),gt.e(10),gt.e(12)]).then(gt.bind(null,"ewd/"));case 6:if(o.t1="p2p-media-loader"===t,!o.t1){o.next=14;break}return o.next=10,Promise.all([Promise.all([gt.e(4),gt.e(7),gt.e(13)]).then(gt.t.bind(null,"tlK4",7)),Promise.all([gt.e(4),gt.e(7),gt.e(13),gt.e(32)]).then(gt.bind(null,"izw0"))]);case 10:r=o.sent,a=pt(r,1),s=a[0];case 14:return c=this.getVideojsOptions(t,n,s),o.next=17,Pi.loadLocaleInVideoJS(n.common.serverUrl,n.common.language,pn.a);case 17:return l=this,o.abrupt("return",new Promise(function(i){pn()(n.common.playerElement,c,function(){var o=this,r=!1;return o.tech(!0).one("error",function(){r||l.maybeFallbackToWebTorrent(t,o,n),r=!0}),o.one("error",function(){r||l.maybeFallbackToWebTorrent(t,o,n),r=!0}),o.one("play",function(){e.alreadyPlayed=!0}),l.addContextMenu(t,o,n.common.embedUrl),o.bezels(),i(o)})}));case 19:case"end":return o.stop()}},o,this)}))}},{key:"maybeFallbackToWebTorrent",value:function(t,n,i){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var r,a,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("webtorrent"!==t){o.next=2;break}return o.abrupt("return");case 2:return console.log("Fallback to webtorrent."),(r=document.createElement("video")).className=this.playerElementClassName,(a=i.common.playerElement.parentNode)||(a=document.getElementById(i.common.playerElement.id).parentNode),a.parentNode.insertBefore(r,a),i.common.playerElement=r,i.common.onPlayerElementChange(r),n.dispose(),o.next=13,Promise.all([gt.e(4),gt.e(7),gt.e(10),gt.e(12)]).then(gt.bind(null,"ewd/"));case 13:s=this.getVideojsOptions("webtorrent",i),c=this,pn()(r,s,function(){c.addContextMenu("webtorrent",this,i.common.embedUrl),e.onPlayerChange(this)});case 15:case"end":return o.stop()}},o,this)}))}},{key:"getVideojsOptions",value:function(t,n,i){var o=n.common,r="p2p-media-loader"===t,a=this.getAutoPlayValue(o.autoplay),s={},c={peertube:{mode:t,autoplay:a,videoViewUrl:o.videoViewUrl,videoDuration:o.videoDuration,userWatching:o.userWatching,subtitle:o.subtitle,videoCaptions:o.videoCaptions,stopTime:o.stopTime,isLive:o.isLive}};o.playlist&&(c.playlist=o.playlist),!0===o.enableHotkeys&&e.addHotkeysOptions(c),r&&(s=e.addP2PMediaLoaderOptions(c,n,i).hlsjs.html5),"webtorrent"===t&&(e.addWebTorrentOptions(c,n),a=!1);var l={html5:s,textTrackSettings:!1,controls:void 0===o.controls||o.controls,loop:void 0!==o.loop&&o.loop,muted:void 0!==o.muted?o.muted:void 0,autoplay:this.getAutoPlayValue(a),poster:o.poster,inactivityTimeout:o.inactivityTimeout,playbackRates:[.5,.75,1,1.25,1.5,2],plugins:c,controlBar:{children:this.getControlBarChildren(t,{captions:o.captions,peertubeLink:o.peertubeLink,theaterButton:o.theaterButton,nextVideo:o.nextVideo,hasNextVideo:o.hasNextVideo,previousVideo:o.previousVideo,hasPreviousVideo:o.hasPreviousVideo})}};return o.language&&!Object(vi.g)(o.language)&&Object.assign(l,{language:o.language}),l}},{key:"addP2PMediaLoaderOptions",value:function(e,t,n){var i=t.p2pMediaLoader,o=t.common,r=i.trackerAnnounce.filter(function(e){return e.startsWith("ws")}),a=new mi(t.p2pMediaLoader.redundancyBaseUrls),s={redundancyUrlManager:a,type:"application/x-mpegURL",startTime:o.startTime,src:i.playlistUrl},c=!1;navigator&&navigator.connection&&"cellular"===navigator.connection.type&&(console.log("We are on a cellular connection: disabling seeding."),c=!0);var l,u,d,h,p={loader:{trackerAnnounce:r,segmentValidator:(l=t.p2pMediaLoader.segmentsSha256Url,u=t.common.isLive,d=_i(l),h=/bytes=(\d+)-(\d+)/,function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,s,c,p,f,v;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=u,!r.t0){r.next=4;break}return r.next=4,Object(yi.d)(1e3);case 4:return a=Object(gi.basename)(t.url),r.next=7,d;case 7:if(r.t1=a,(s=r.sent[r.t1])||!(o>3)){r.next=11;break}throw new Error("Unknown segment name ".concat(a," in segment validator"));case 11:if(s){r.next=19;break}return console.log("Refetching sha segments for %s.",a),r.next=15,Object(yi.d)(1e3);case 15:return d=_i(l),r.next=18,e(t,n,i,o+1);case 18:return r.abrupt("return",void r.sent);case 19:if(p="","string"==typeof s?c=s:(f=h.exec(t.range),p=f[1]+"-"+f[2],c=s[p]),void 0!==c){r.next=23;break}throw new Error("Unknown segment name ".concat(a,"/").concat(p," in segment validator"));case 23:return r.next=25,function(e){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(!window.crypto.subtle){t.next=5;break}t.t0=window.crypto.subtle.digest("SHA-256",e).then(function(e){return function(e){if(!e)return"";var t="",n="0123456789abcdef";return new Uint8Array(e).forEach(function(e){return t+=n[e>>4]+n[15&e]}),t}(e)}),t.next=9;break;case 5:return t.next=7,Promise.all([gt.e(4),gt.e(26)]).then(gt.t.bind(null,"afKu",7));case 7:t.t1=t.sent.sha256,t.t0=(new t.t1).update(Buffer.from(e)).digest("hex");case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t)}))}(t.data);case 25:if((v=r.sent)===c){r.next=28;break}throw new Error("Hashes does not correspond for segment ".concat(a,"/").concat(p,"(expected: ").concat(c," instead of ").concat(v,")"));case 28:case"end":return r.stop()}},r)}))}),rtcConfig:Object(Hn.e)(),requiredSegmentsPriority:1,segmentUrlBuilder:bi(a),useP2P:Object(ln.d)(),consumeOnly:c},segments:{swarmId:i.playlistUrl}},f={p2pMediaLoader:s,hlsjs:{levelLabelHandler:function(e){var t=Math.min(e.height||0,e.width||0),n=i.videoFiles.find(function(e){return e.resolution.id===t});if(!n)return e.height;var o=n.resolution.label;return n.fps>=50&&(o+=n.fps),o},html5:{hlsjsConfig:{capLevelToPlayerSize:!0,autoStartLoad:!1,liveSyncDurationCount:5,loader:new n.Engine(p).createLoaderClass()}}}};return Object.assign(e,f),f}},{key:"addWebTorrentOptions",value:function(e,t){var n=t.common,i=t.webtorrent,o="play"===this.getAutoPlayValue(n.autoplay);Object.assign(e,{webtorrent:{autoplay:o,videoDuration:n.videoDuration,playerElement:n.playerElement,videoFiles:i.videoFiles,startTime:n.startTime}})}},{key:"getControlBarChildren",value:function(e,t){var n,i=[],o="webtorrent"===e?"peerTubeLoadProgressBar":"loadProgressBar";i.push("playbackRateMenuButton"),!0===t.captions&&i.push("captionsButton"),i.push("resolutionMenuButton");var r={};return t.previousVideo&&Object.assign(r,{previousVideoButton:{type:"previous",handler:t.previousVideo,isDisabled:function(){return!!t.hasPreviousVideo&&!t.hasPreviousVideo()}}}),Object.assign(r,{playToggle:{}}),t.nextVideo&&Object.assign(r,{nextVideoButton:{type:"next",handler:t.nextVideo,isDisabled:function(){return!!t.hasNextVideo&&!t.hasNextVideo()}}}),Object.assign(r,{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},liveDisplay:{},flexibleWidthSpacer:{},progressControl:{children:{seekBar:{children:(n={},ht(n,o,{}),ht(n,"mouseTimeDisplay",{}),ht(n,"playProgressBar",{}),n)}}},p2PInfoButton:{},muteToggle:{},volumeControl:{},settingsButton:{setup:{maxHeightOffset:40},entries:i}}),!0===t.peertubeLink&&Object.assign(r,{peerTubeLinkButton:{}}),!0===t.theaterButton&&Object.assign(r,{theaterButton:{}}),Object.assign(r,{fullscreenToggle:{}}),r}},{key:"addContextMenu",value:function(e,t,n){var i=[{label:t.localize("Copy the video URL"),listener:function(){Object(yi.a)(Object(Hn.b)())}},{label:t.localize("Copy the video URL at the current time"),listener:function(){Object(yi.a)(Object(Hn.b)({startTime:this.currentTime()}))}},{label:t.localize("Copy embed code"),listener:function(){Object(yi.a)(Object(Hn.c)(n))}}];"webtorrent"===e&&i.push({label:t.localize("Copy magnet URI"),listener:function(){Object(yi.a)(this.webtorrent().getCurrentVideoFile().magnetUri)}}),t.contextmenuUI({content:i})}},{key:"addHotkeysOptions",value:function(e){Object.assign(e,{hotkeys:{skipInitialFocus:!0,enableInactiveFocus:!1,captureDocumentHotkeys:!0,documentHotkeysFocusElementFilter:function(e){var t=e.tagName.toLowerCase();return"content"===e.id||"body"===t||"video"===t},enableVolumeScroll:!1,enableModifiersForNumbers:!1,fullscreenKey:function(e){return"f"===e.key||e.ctrlKey&&"Enter"===e.key},seekStep:function(e){return e.ctrlKey&&e.altKey?300:e.ctrlKey?60:e.altKey?10:5},customKeys:{increasePlaybackRateKey:{key:function(e){return">"===e.key},handler:function(e){var t=Math.min(e.playbackRate()+.1,5);e.playbackRate(parseFloat(t.toFixed(2)))}},decreasePlaybackRateKey:{key:function(e){return"<"===e.key},handler:function(e){var t=Math.max(e.playbackRate()-.1,.1);e.playbackRate(parseFloat(t.toFixed(2)))}},frameByFrame:{key:function(e){return"."===e.key},handler:function(e){e.pause(),e.currentTime(e.currentTime()+1/30)}}}}})}},{key:"getAutoPlayValue",value:function(t){return!0!==t?t:Object(Hn.f)()||Object(Hn.h)()?!!e.alreadyPlayed&&"play":"play"}}]),e}()).alreadyPlayed=!1,Ti),Mi=gt("AytR"),wi=gt("1kSV"),xi=gt("UkmY"),Si=["modal"];function Ei(e,t){if(1&e&&(Wt.Vb(0,"div",1),Wt.Vb(1,"h4",2),Wt.Zb(2,3),Wt.Ub(),Wt.Vb(3,"my-global-icon",4),Wt.jc("click",function(){return(0,t.close)()}),Wt.Ub(),Wt.Ub(),Wt.Qb(4,"div",5),Wt.Vb(5,"div",6),Wt.Vb(6,"input",7),Wt.jc("click",function(){return(0,t.close)()})("key.enter",function(){return(0,t.close)()}),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc();Wt.Cb(2),Wt.dc(n.video.account.displayName),Wt.ac(2),Wt.Cb(2),Wt.uc("innerHTML",n.videoHTMLSupport,Wt.Kc)}}var Ii,ji=((Ii=function(){function e(t,n){Tt(this,e),this.markdownService=t,this.modalService=n,this.video=null,this.videoHTMLSupport=""}return Mt(e,[{key:"show",value:function(){var e=this,t=this.modalService.open(this.modal,{centered:!0});return this.markdownService.enhancedMarkdownToHTML(this.video.support).then(function(t){return e.videoHTMLSupport=t}),t}}]),e}()).\u0275fac=function(e){return new(e||Ii)(Wt.Pb(Ht.j),Wt.Pb(wi.m))},Ii.\u0275cmp=Wt.Jb({type:Ii,selectors:[["my-video-support"]],viewQuery:function(e,t){var n;1&e&&Wt.Pc(Si,!0),2&e&&Wt.Gc(n=Wt.kc())&&(t.modal=n.first)},inputs:{video:"video"},decls:2,vars:0,consts:function(){return[["modal",""],[1,"modal-header"],[1,"modal-title"],"" + "\ufffd0\ufffd" + " ondersteunen",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer","inputs"],["type","button","role","button","value","Misschien later",1,"action-button","action-button-cancel",3,"click","key.enter"]]},template:function(e,t){1&e&&Wt.Sc(0,Ei,7,2,"ng-template",null,0,Wt.Tc)},directives:[xi.a],styles:[".action-button-cancel[_ngcontent-%COMP%]{margin-right:0!important}"]}),Ii),Li=gt("UjHu"),Vi=gt("2Qox");function Ai(e,t){1&e&&(Wt.Vb(0,"span",14),Wt.Zb(1,15),Wt.Ub())}function Ri(e,t){1&e&&(Wt.Vb(0,"span",16),Wt.Zb(1,17),Wt.Ub())}function Ni(e,t){1&e&&(Wt.Vb(0,"span",18),Wt.Zb(1,19),Wt.Ub())}function Di(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",20),Wt.Vb(1,"my-video-playlist-element-miniature",21),Wt.jc("elementRemoved",function(e){return Wt.Jc(n),Wt.nc(2).onElementRemoved(e)}),Wt.Ub(),Wt.Ub()}if(2&e){var i=t.$implicit,o=Wt.nc(2);Wt.uc("ngClass","element-"+i.position),Wt.Cb(1),Wt.uc("playlistElement",i)("playlist",o.playlist)("owned",o.isPlaylistOwned())("playing",o.currentPlaylistPosition===i.position)("accountLink",!1)("position",i.position)("touchScreenEditButton",!0)}}function Ui(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",1),Wt.jc("nearOfBottom",function(){return Wt.Jc(n),Wt.nc().onPlaylistVideosNearOfBottom()}),Wt.Vb(1,"div",2),Wt.Vb(2,"div",3),Wt.Uc(3),Wt.Sc(4,Ai,2,0,"span",4),Wt.Sc(5,Ri,2,0,"span",5),Wt.Sc(6,Ni,2,0,"span",6),Wt.Ub(),Wt.Vb(7,"div",7),Wt.Vb(8,"div",8),Wt.Uc(9),Wt.Ub(),Wt.Vb(10,"div",9),Wt.Vb(11,"span"),Wt.Uc(12),Wt.Ub(),Wt.Vb(13,"span"),Wt.Uc(14),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Vb(15,"div",10),Wt.Vb(16,"my-global-icon",11),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().switchAutoPlayNextVideoPlaylist()}),Wt.Ub(),Wt.Vb(17,"my-global-icon",12),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().switchLoopPlaylist()}),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Sc(18,Di,2,8,"div",13),Wt.Ub()}if(2&e){var i=Wt.nc();Wt.uc("autoInit",!0)("onItself",!0),Wt.Cb(3),Wt.Wc(" ",i.playlist.displayName," "),Wt.Cb(1),Wt.uc("ngIf",i.isUnlistedPlaylist()),Wt.Cb(1),Wt.uc("ngIf",i.isPrivatePlaylist()),Wt.Cb(1),Wt.uc("ngIf",i.isPublicPlaylist()),Wt.Cb(3),Wt.Vc(i.playlist.ownerBy),Wt.Cb(3),Wt.Vc(i.currentPlaylistPosition),Wt.Cb(2),Wt.Vc(i.playlistPagination.totalItems),Wt.Cb(2),Wt.Hb("active",i.autoPlayNextVideoPlaylist),Wt.uc("ngbTooltip",i.autoPlayNextVideoPlaylistSwitchText),Wt.Cb(1),Wt.Hb("active",i.loopPlaylist),Wt.uc("ngbTooltip",i.loopPlaylistSwitchText),Wt.Cb(1),Wt.uc("ngForOf",i.playlistElements)}}var Bi,zi,Fi=((Bi=function(){function e(t,n,i,o,r,a,s){Tt(this,e),this.userService=t,this.auth=n,this.notifier=i,this.videoPlaylist=o,this.localStorageService=r,this.sessionStorageService=a,this.router=s,this.videoFound=new Wt.n,this.playlistElements=[],this.playlistPagination={currentPage:1,itemsPerPage:30,totalItems:null},this.autoPlayNextVideoPlaylistSwitchText="",this.loopPlaylistSwitchText="",this.noPlaylistVideos=!1,this.autoPlayNextVideoPlaylist=this.auth.isLoggedIn()?this.auth.getUser().autoPlayNextVideoPlaylist:"false"!==this.localStorageService.getItem(e.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setAutoPlayNextVideoPlaylistSwitchText(),this.loopPlaylist="true"===this.sessionStorageService.getItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setLoopPlaylistSwitchText()}return Mt(e,[{key:"onPlaylistVideosNearOfBottom",value:function(e){this.playlistPagination.totalItems<=this.playlistPagination.currentPage*this.playlistPagination.itemsPerPage||(this.playlistPagination.currentPage+=1,this.loadPlaylistElements(this.playlist,!1,e))}},{key:"onElementRemoved",value:function(e){this.playlistElements=this.playlistElements.filter(function(t){return t.id!==e.id}),this.playlistPagination.totalItems--}},{key:"isPlaylistOwned",value:function(){return!0===this.playlist.isLocal&&this.auth.isLoggedIn()&&this.playlist.ownerAccount.name===this.auth.getUser().username}},{key:"isUnlistedPlaylist",value:function(){return 2===this.playlist.privacy.id}},{key:"isPrivatePlaylist",value:function(){return 3===this.playlist.privacy.id}},{key:"isPublicPlaylist",value:function(){return 1===this.playlist.privacy.id}},{key:"loadPlaylistElements",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.videoPlaylist.getPlaylistVideos(e.uuid,this.playlistPagination).subscribe(function(e){var o=e.total,r=e.data;t.playlistElements=t.playlistElements.concat(r),t.playlistPagination.totalItems=o;var a=t.playlistElements.find(function(e){return!!e.video});a?(i&&t.updatePlaylistIndex(i),n&&t.router.navigate([],{queryParams:{start:a.startTimestamp,stop:a.stopTimestamp,playlistPosition:a.position},replaceUrl:!0})):t.noPlaylistVideos=!0})}},{key:"updatePlaylistIndex",value:function(e){var t=this;if(0!==this.playlistElements.length&&e){var n,i=ft(this.playlistElements);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.video&&o.position>=e)return this.currentPlaylistPosition=o.position,this.videoFound.emit(o.video.uuid),void setTimeout(function(){document.querySelector(".element-"+t.currentPlaylistPosition).scrollIntoView(!1)},0)}}catch(r){i.e(r)}finally{i.f()}this.onPlaylistVideosNearOfBottom(e)}}},{key:"findNextPlaylistVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPlaylistPosition;if(this.currentPlaylistPosition>=this.playlistPagination.totalItems){if(!this.loopPlaylist)return;this.currentPlaylistPosition=e=0}var t=this.playlistElements.find(function(t){return t.position===e});return t&&t.video?t:this.findNextPlaylistVideo(e+1)}},{key:"navigateToNextPlaylistVideo",value:function(){var e=this.findNextPlaylistVideo(this.currentPlaylistPosition+1);e&&this.router.navigate([],{queryParams:{playlistPosition:e.position,start:e.startTimestamp,stop:e.stopTimestamp}})}},{key:"switchAutoPlayNextVideoPlaylist",value:function(){var t=this;this.autoPlayNextVideoPlaylist=!this.autoPlayNextVideoPlaylist,this.setAutoPlayNextVideoPlaylistSwitchText(),sn.a.setItem(e.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.autoPlayNextVideoPlaylist.toString()),this.auth.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideoPlaylist:this.autoPlayNextVideoPlaylist}).subscribe(function(){t.auth.refreshUserInformation()},function(e){return t.notifier.error(e.message)})}},{key:"switchLoopPlaylist",value:function(){this.loopPlaylist=!this.loopPlaylist,this.setLoopPlaylistSwitchText(),sn.b.setItem(e.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.loopPlaylist.toString())}},{key:"setAutoPlayNextVideoPlaylistSwitchText",value:function(){this.autoPlayNextVideoPlaylistSwitchText=this.autoPlayNextVideoPlaylist?"Automatisch afspelen volgende video stoppen":"Automatisch volgende video afspelen"}},{key:"setLoopPlaylistSwitchText",value:function(){this.loopPlaylistSwitchText=this.loopPlaylist?"Stoppen met In lus afspelen van video's uit afspeellijst":"Video's uit afspeellijst in lus afspelen"}}]),e}()).LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="auto_play_video_playlist",Bi.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="loop_playlist",Bi.\u0275fac=function(e){return new(e||Bi)(Wt.Pb(Ht.D),Wt.Pb(Ht.a),Wt.Pb(Ht.m),Wt.Pb(Rt.b),Wt.Pb(Ht.h),Wt.Pb(Ht.y),Wt.Pb(Zt.h))},Bi.\u0275cmp=Wt.Jb({type:Bi,selectors:[["my-video-watch-playlist"]],inputs:{playlist:"playlist"},outputs:{videoFound:"videoFound"},decls:1,vars:1,consts:function(){return[["class","playlist","myInfiniteScroller","",3,"autoInit","onItself","nearOfBottom",4,"ngIf"],["myInfiniteScroller","",1,"playlist",3,"autoInit","onItself","nearOfBottom"],[1,"playlist-info"],[1,"playlist-display-name"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[1,"playlist-by-index"],[1,"playlist-by"],[1,"playlist-index"],[1,"playlist-controls"],["iconName","videos","placement","bottom auto","container","body",3,"ngbTooltip","click"],["iconName","repeat","placement","bottom auto","container","body",3,"ngbTooltip","click"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"badge","badge-warning"],"Onvermeld",[1,"badge","badge-danger"],"Priv\xE9",[1,"badge","badge-info"],"Openbaar",[3,"ngClass"],[3,"playlistElement","playlist","owned","playing","accountLink","position","touchScreenEditButton","elementRemoved"]]},template:function(e,t){1&e&&Wt.Sc(0,Ui,19,16,"div",0),2&e&&Wt.uc("ngIf",t.playlist&&t.currentPlaylistPosition)},directives:[Dt.n,Li.a,xi.a,wi.z,Dt.m,Dt.l,Vi.a],styles:['.playlist[_ngcontent-%COMP%]{min-width:200px;max-width:470px;height:66vh;background-color:var(--mainBackgroundColor);overflow-y:auto;border-bottom:1px solid rgba(0,0,0,.1)}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]{padding:5px 30px;background-color:#e4e4e4}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]{color:var(--greyForegroundColor);display:flex}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-right:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:after{content:"/";margin:0 3px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]{display:flex;margin:10px 0}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(.active){opacity:.5}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]    {cursor:pointer}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-right:0}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .video-info .video-info-name{font-size:15px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .fake-thumbnail, .playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     my-video-thumbnail   .video-thumbnail{width:90px;height:50px}']}),Bi),Hi=gt("4Gki"),Wi=gt("SecD"),$i=gt("mO09"),Ki=gt("Dmbs"),qi=((zi=function(){function e(){Tt(this,e),this.timestampClicked=new Wt.n}return Mt(e,[{key:"onClick",value:function(e){var t=e.target;if(!0===t.hasAttribute("href")){var n=document.createElement("a");if(n.href=t.getAttribute("href"),n.host===window.location.host){var i=new URLSearchParams(n.search);if(!0===i.has("start")){var o=i.get("start").match(new RegExp("(\\d{1,9}["+["h","m","s"].join("")+"])","g")).map(function(e){return e.includes("h")?3600*parseInt(e,10):e.includes("m")?60*parseInt(e,10):parseInt(e,10)}).reduce(function(e,t){return e+t});this.timestampClicked.emit(o),e.preventDefault()}}}}}]),e}()).\u0275fac=function(e){return new(e||zi)},zi.\u0275dir=Wt.Kb({type:zi,selectors:[["","timestampRouteTransformer",""]],hostBindings:function(e,t){1&e&&Wt.jc("click",function(e){return t.onClick(e)})},outputs:{timestampClicked:"timestampClicked"}}),zi),Gi=gt("XNiG"),Ji=gt("38LS"),Yi=gt("3Pt+"),Zi={VALIDATORS:[Yi.w.required,Yi.w.minLength(1),Yi.w.maxLength(3e3)],MESSAGES:{required:"Reactie is vereist.",minlength:"Reactie moet minstens 2 karakters zijn.",maxlength:"Reactie mag niet langer dan 3000 tekens zijn."}},Qi=gt("9V9r"),Xi=gt("1lk2"),eo=gt("BLxp"),to=gt("gY50"),no=["visitorModal"],io=["emojiModal"],oo=["textarea"];function ro(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"span"),Wt.Zb(1,14),Wt.Ub(),Wt.Vb(2,"ul"),Wt.Vb(3,"li"),Wt.Vb(4,"span"),Wt.Zb(5,15),Wt.Ub(),Wt.Ub(),Wt.Vb(6,"li"),Wt.Vb(7,"span"),Wt.Zb(8,16),Wt.Ub(),Wt.Ub(),Wt.Vb(9,"li"),Wt.Vb(10,"span"),Wt.Zb(11,17),Wt.Ub(),Wt.Ub(),Wt.Vb(12,"li"),Wt.Vb(13,"span"),Wt.Zb(14,18),Wt.Ub(),Wt.Vb(15,"code"),Wt.Uc(16,"**"),Wt.Vb(17,"strong"),Wt.Zb(18,19),Wt.Ub(),Wt.Uc(19,"** _"),Wt.Vb(20,"i"),Wt.Zb(21,20),Wt.Ub(),Wt.Uc(22,"_"),Wt.Ub(),Wt.Ub(),Wt.Vb(23,"li"),Wt.Vb(24,"span"),Wt.Zb(25,21),Wt.Ub(),Wt.Vb(26,"code"),Wt.Uc(27,":) <3"),Wt.Ub(),Wt.Ub(),Wt.Vb(28,"li"),Wt.Vb(29,"span"),Wt.Zb(30,22),Wt.Ub(),Wt.Vb(31,"code"),Wt.Uc(32,":smile:"),Wt.Ub(),Wt.Vb(33,"div"),Wt.Vb(34,"a",23),Wt.jc("click",function(e){return Wt.Jc(n),Wt.nc().openEmojiModal(e)}),Wt.Zb(35,24),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Ub()}}function ao(e,t){if(1&e&&(Wt.Vb(0,"div",25),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc();Wt.Cb(1),Wt.Wc(" ",n.formErrors.text," ")}}function so(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"button",26),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().cancelCommentReply()}),Wt.Zb(1,27),Wt.Ub()}}var co=function(e){return{disabled:e}};function lo(e,t){if(1&e&&(Wt.Vb(0,"button",28),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc();Wt.uc("ngClass",Wt.yc(2,co,!n.form.valid||n.addingComment)),Wt.Cb(1),Wt.Wc(" ",n.addingCommentButtonValue," ")}}function uo(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",29),Wt.Vb(1,"h4",30),Wt.Zb(2,31),Wt.Ub(),Wt.Vb(3,"my-global-icon",32),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().hideModals()}),Wt.Ub(),Wt.Ub(),Wt.Vb(4,"div",33),Wt.Vb(5,"span"),Wt.Zb(6,34),Wt.Ub(),Wt.Vb(7,"span"),Wt.Zb(8,35),Wt.Ub(),Wt.Qb(9,"my-remote-subscribe",36),Wt.Ub(),Wt.Vb(10,"div",37),Wt.Vb(11,"input",38),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().hideModals()})("key.enter",function(){return Wt.Jc(n),Wt.nc().hideModals()}),Wt.Ub(),Wt.Vb(12,"input",39),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().gotoLogin()}),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc();Wt.Cb(9),Wt.uc("interact",!0)("uri",i.getUri())}}function ho(e,t){if(1&e&&(Wt.Vb(0,"div",43),Wt.Uc(1),Wt.Vb(2,"code"),Wt.Uc(3),Wt.Ub(),Wt.Ub()),2&e){var n=t.$implicit;Wt.Cb(1),Wt.Wc(" ",n[0]," "),Wt.Cb(2),Wt.Wc(":",n[1],":")}}function po(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",29),Wt.Vb(1,"h4",30),Wt.Zb(2,40),Wt.Ub(),Wt.Vb(3,"my-global-icon",32),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().hideModals()}),Wt.Ub(),Wt.Ub(),Wt.Vb(4,"div",33),Wt.Vb(5,"div",41),Wt.Sc(6,ho,4,2,"div",42),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc();Wt.Cb(6),Wt.uc("ngForOf",i.emojiMarkupList)}}var fo,vo=function(e){return{"input-error":e}},go=((fo=function(e){bt(n,e);var t=_t(n);function n(e,i,o,r,a){var s;return Tt(this,n),(s=t.call(this)).formValidatorService=e,s.notifier=i,s.videoCommentService=o,s.modalService=r,s.router=a,s.focusOnInit=!1,s.commentCreated=new Wt.n,s.cancel=new Wt.n,s.addingComment=!1,s}return Mt(n,[{key:"ngOnInit",value:function(){this.buildForm({text:Zi}),this.user&&(this.addingCommentButtonValue=this.parentComment?"Antwoorden":"Reactie",this.initTextValue())}},{key:"ngOnChanges",value:function(e){e.textValue&&e.textValue.currentValue&&e.textValue.currentValue!==e.textValue.previousValue&&this.patchTextValue(e.textValue.currentValue,!0)}},{key:"onValidKey",value:function(){this.check(),this.form.valid&&this.formValidated()}},{key:"openVisitorModal",value:function(e){null===this.user&&(e.srcElement.blur(),e.preventDefault(),this.modalService.open(this.visitorModal))}},{key:"openEmojiModal",value:function(e){e.preventDefault(),this.modalService.open(this.emojiModal,{backdrop:!0,size:"lg"})}},{key:"hideModals",value:function(){this.modalService.dismissAll()}},{key:"formValidated",value:function(){var e=this;if(!this.addingComment){this.addingComment=!0;var t=this.form.value;(this.parentComment?this.addCommentReply(t):this.addCommentThread(t)).subscribe(function(t){e.addingComment=!1,e.commentCreated.emit(t),e.form.reset()},function(t){e.addingComment=!1,e.notifier.error(t.text)})}}},{key:"isAddButtonDisplayed",value:function(){return this.form.value.text}},{key:"getUri",value:function(){return window.location.href}},{key:"getAvatarUrl",value:function(){return this.user?this.user.accountAvatarUrl:St.a.GET_DEFAULT_AVATAR_URL()}},{key:"gotoLogin",value:function(){this.hideModals(),this.router.navigate(["/login"])}},{key:"cancelCommentReply",value:function(){this.cancel.emit(null),this.form.value.text=this.textareaElement.nativeElement.value=""}},{key:"addCommentReply",value:function(e){return this.videoCommentService.addCommentReply(this.video.id,this.parentComment.id,e)}},{key:"addCommentThread",value:function(e){return this.videoCommentService.addCommentThread(this.video.id,e)}},{key:"initTextValue",value:function(){var e=this;if(this.textValue)this.patchTextValue(this.textValue,this.focusOnInit);else if(this.parentComment){var t=this.parentComments.filter(function(t){return t.account&&t.account.id!==e.user.account.id}).map(function(e){return"@"+e.by}),n=new Set(t),i=Array.from(n).join(" ")+" ";this.patchTextValue(i,this.focusOnInit)}}},{key:"patchTextValue",value:function(e,t){var n=this;setTimeout(function(){t&&n.textareaElement.nativeElement.focus(),n.textareaElement.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),n.textareaElement.nativeElement.dispatchEvent(new Event("input"))}),this.form.patchValue({text:e})}},{key:"emojiMarkupList",get:function(){var e=gt("EoOQ"),t=[];for(var n in e)n&&t.push([e[n],n]);return t}}]),n}(wt.a)).\u0275fac=function(e){return new(e||fo)(Wt.Pb(wt.b),Wt.Pb(Ht.m),Wt.Pb(Vt.d),Wt.Pb(wi.m),Wt.Pb(Zt.h))},fo.\u0275cmp=Wt.Jb({type:fo,selectors:[["my-video-comment-add"]],viewQuery:function(e,t){var n;1&e&&(Wt.Pc(no,!0),Wt.Pc(io,!0),Wt.Pc(oo,!0)),2&e&&(Wt.Gc(n=Wt.kc())&&(t.visitorModal=n.first),Wt.Gc(n=Wt.kc())&&(t.emojiModal=n.first),Wt.Gc(n=Wt.kc())&&(t.textareaElement=n.first))},inputs:{user:"user",video:"video",parentComment:"parentComment",parentComments:"parentComments",focusOnInit:"focusOnInit",textValue:"textValue"},outputs:{commentCreated:"commentCreated",cancel:"cancel"},features:[Wt.zb,Wt.Ab],decls:17,vars:9,consts:function(){return[["novalidate","",3,"formGroup","ngSubmit"],[1,"avatar-and-textarea"],["alt","Avatar",3,"src"],[1,"form-group"],["placeholder","Voeg reactie toe...","myAutoResize","","formControlName","text",3,"readonly","ngClass","click","keyup.control.enter","keyup.meta.enter"],["textarea",""],["helpType","custom","iconName","markdown","tooltipPlacement","left auto","autoClose","true","title","Markdown-compatibel",1,"markdown-guide"],["ptTemplate","customHtml"],["class","form-error",4,"ngIf"],[1,"comment-buttons"],["class","cancel-button","type","button",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],["visitorModal",""],["emojiModal",""],"Markdown-compatible met ondersteuning voor:","Automatisch gegenereerde verwijzingen","Breuklijnen","Lijsten","Nadruk","vet","cursief","Emoji-shortcuts","Emoji-opmaak",["href","",3,"click"],"Volledige lijst bekijken",[1,"form-error"],["type","button",1,"cancel-button",3,"click"],"\nAnnuleren",[3,"ngClass"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],"Je bent een stap verwijderd van reageren",["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],"Je kan reageren met een account op gelijk welke ActivityPub-compatibel exemplaar. Op de meeste platformen kan je de video vinden door zijn URL in de zoekbalk in te voeren. Daarna kan je reageren van binnen de software-interface.","Als je een account op Mastodon of Pleroma hebt, kan je hem direct openen vanuit hun interface:",[3,"interact","uri"],[1,"modal-footer","inputs"],["type","button","role","button","value","Annuleren",1,"action-button","action-button-cancel",3,"click","key.enter"],["type","submit","value","Aanmelden om te reageren",1,"action-button-submit",3,"click"],"Markdown-Emoji-Lijst",[1,"emoji-flex"],["class","emoji-flex-item",4,"ngFor","ngForOf"],[1,"emoji-flex-item"]]},template:function(e,t){1&e&&(Wt.Vb(0,"form",0),Wt.jc("ngSubmit",function(){return t.formValidated()}),Wt.Vb(1,"div",1),Wt.Qb(2,"img",2),Wt.Vb(3,"div",3),Wt.Vb(4,"textarea",4,5),Wt.jc("click",function(e){return t.openVisitorModal(e)})("keyup.control.enter",function(){return t.onValidKey()})("keyup.meta.enter",function(){return t.onValidKey()}),Wt.Uc(6,"\n      "),Wt.Ub(),Wt.Vb(7,"my-help",6),Wt.Sc(8,ro,36,0,"ng-template",7),Wt.Ub(),Wt.Sc(9,ao,2,1,"div",8),Wt.Ub(),Wt.Ub(),Wt.Vb(10,"div",9),Wt.Sc(11,so,2,0,"button",10),Wt.Sc(12,lo,2,4,"button",11),Wt.Ub(),Wt.Ub(),Wt.Sc(13,uo,13,2,"ng-template",null,12,Wt.Tc),Wt.Sc(15,po,7,1,"ng-template",null,13,Wt.Tc)),2&e&&(Wt.uc("formGroup",t.form),Wt.Cb(2),Wt.uc("src",t.getAvatarUrl(),Wt.Lc),Wt.Cb(2),Wt.uc("readonly",null===t.user)("ngClass",Wt.yc(7,vo,t.formErrors.text)),Wt.Cb(5),Wt.uc("ngIf",t.formErrors.text),Wt.Cb(2),Wt.uc("ngIf",t.isAddButtonDisplayed()),Wt.Cb(1),Wt.uc("ngIf",t.isAddButtonDisplayed()))},directives:[Yi.y,Yi.n,Yi.h,Qi.a,Yi.b,Yi.m,Yi.f,Dt.l,Xi.a,eo.a,Dt.n,xi.a,to.a,Dt.m],styles:['form[_ngcontent-%COMP%]{margin-bottom:30px}.avatar-and-textarea[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.avatar-and-textarea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px;vertical-align:top;margin-right:10px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex-grow:1;margin:0;position:relative}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]{position:absolute;top:5px;right:9px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button my-global-icon{height:18px;width:30px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button my-global-icon svg{color:#c6c6c6;fill:#c6c6c6;border-radius:3px}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:active my-global-icon svg, .avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:focus my-global-icon svg, .avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:hover my-global-icon svg{background-color:#c6c6c6;color:var(--mainBackgroundColor);fill:var(--mainBackgroundColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px;min-height:calc(60px - 15px * 2);padding-right:45px!important}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:100%){.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.focus-visible[_ngcontent-%COMP%], .avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}@media screen and (max-width:600px){.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-right:49px!important}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.comment-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.focus-visible, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:focus{color:#fff;background-color:var(--mainColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{color:#fff;background-color:var(--mainHoverColor)}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child.disabled, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child[disabled]{cursor:default;color:#fff;background-color:#c6c6c6}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     .feather, .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:transparent;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button.focus-visible[_ngcontent-%COMP%], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.comment-buttons[_ngcontent-%COMP%]   .cancel-button.disabled[_ngcontent-%COMP%], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[disabled][_ngcontent-%COMP%]{cursor:default}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:transparent}.comment-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:transparent}.emoji-flex[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]{text-align:left;margin:auto;min-width:227px;flex:1}.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-left:5px}@media screen and (max-width:600px){.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:14px!important}textarea[_ngcontent-%COMP%]{padding:5px!important}}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .btn.focus-visible[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.modal-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;margin-bottom:20px}']}),fo),mo=gt("Rtfg"),bo=gt("re7S"),yo=gt("2L7+"),_o=gt("LsvZ"),Co=["commentReportModal"];function Po(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"a",11),Wt.Vb(1,"img",12),Wt.jc("error",function(e){return Wt.Jc(n),Wt.nc(2).switchToDefaultAvatar(e)}),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("href",i.comment.account.url,Wt.Lc),Wt.Cb(1),Wt.uc("src",i.comment.accountAvatarUrl,Wt.Lc)}}function ko(e,t){1&e&&Wt.Qb(0,"span",13)}function To(e,t){1&e&&(Wt.Vb(0,"div",25),Wt.Zb(1,26),Wt.Ub())}function Oo(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",27),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc(3).onWantToReply()}),Wt.Zb(1,28),Wt.Ub()}}var Mo=function(e){return["/accounts",e]},wo=function(e){return{"video-author":e}},xo=function(e){return{threadId:e}},So=function(e,t){return["/videos/watch",e,t]};function Eo(e,t){if(1&e){var n=Wt.Wb();Wt.Tb(0),Wt.Sc(1,To,2,0,"div",14),Wt.Vb(2,"div",15),Wt.Vb(3,"div",16),Wt.Vb(4,"a",17),Wt.Vb(5,"span",18),Wt.Uc(6),Wt.Ub(),Wt.Vb(7,"span",19),Wt.Uc(8),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Vb(9,"a",20),Wt.Uc(10),Wt.oc(11,"myFromNow"),Wt.Ub(),Wt.Ub(),Wt.Vb(12,"div",21),Wt.jc("timestampClicked",function(e){return Wt.Jc(n),Wt.nc(2).handleTimestampClicked(e)}),Wt.Ub(),Wt.Vb(13,"div",22),Wt.Sc(14,Oo,2,0,"div",23),Wt.Qb(15,"my-user-moderation-dropdown",24),Wt.Ub(),Wt.Sb()}if(2&e){var i=Wt.nc(2);Wt.Cb(1),Wt.uc("ngIf",!0===i.highlightedComment),Wt.Cb(3),Wt.uc("routerLink",Wt.yc(15,Mo,i.comment.by)),Wt.Cb(1),Wt.uc("ngClass",Wt.yc(17,wo,i.video.account.id===i.comment.account.id)),Wt.Cb(1),Wt.Wc(" ",i.comment.account.displayName," "),Wt.Cb(2),Wt.Vc(i.comment.by),Wt.Cb(1),Wt.uc("routerLink",Wt.zc(21,So,i.video.uuid,Wt.yc(19,xo,i.comment.threadId)))("title",i.comment.createdAt),Wt.Cb(1),Wt.Wc(" ",Wt.pc(11,13,i.comment.createdAt)," "),Wt.Cb(2),Wt.uc("innerHTML",i.sanitizedCommentHTML,Wt.Kc),Wt.Cb(2),Wt.uc("ngIf",i.isUserLoggedIn()),Wt.Cb(1),Wt.uc("prependActions",i.prependModerationActions)("account",i.commentAccount)("user",i.commentUser)}}function Io(e,t){if(1&e&&(Wt.Tb(0),Wt.Vb(1,"div",15),Wt.Vb(2,"span",16),Wt.Zb(3,29),Wt.Ub(),Wt.Vb(4,"a",30),Wt.Uc(5),Wt.oc(6,"myFromNow"),Wt.Ub(),Wt.Ub(),Wt.Vb(7,"div",31),Wt.Vb(8,"i"),Wt.Zb(9,32),Wt.Ub(),Wt.Ub(),Wt.Sb()),2&e){var n=Wt.nc(2);Wt.Cb(4),Wt.uc("routerLink",Wt.zc(6,So,n.video.uuid,Wt.yc(4,xo,n.comment.threadId))),Wt.Cb(1),Wt.Vc(Wt.pc(6,2,n.comment.createdAt))}}function jo(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"my-video-comment-add",33),Wt.jc("commentCreated",function(e){return Wt.Jc(n),Wt.nc(2).onCommentReplyCreated(e)})("cancel",function(){return Wt.Jc(n),Wt.nc(2).onResetReply()}),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("user",i.user)("video",i.video)("parentComment",i.comment)("parentComments",i.newParentComments)("focusOnInit",!0)("textValue",i.redraftValue)}}function Lo(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div"),Wt.Vb(1,"my-video-comment",36),Wt.jc("wantedToReply",function(e){return Wt.Jc(n),Wt.nc(3).onWantToReply(e)})("wantedToDelete",function(e){return Wt.Jc(n),Wt.nc(3).onWantToDelete(e)})("wantedToRedraft",function(e){return Wt.Jc(n),Wt.nc(3).onWantToRedraft(e)})("resetReply",function(){return Wt.Jc(n),Wt.nc(3).onResetReply()})("timestampClicked",function(e){return Wt.Jc(n),Wt.nc(3).handleTimestampClicked(e)}),Wt.Ub(),Wt.Ub()}if(2&e){var i=t.$implicit,o=Wt.nc(3);Wt.Cb(1),Wt.uc("comment",i.comment)("video",o.video)("inReplyToCommentId",o.inReplyToCommentId)("commentTree",i)("parentComments",o.newParentComments)("redraftValue",o.redraftValue)}}function Vo(e,t){if(1&e&&(Wt.Vb(0,"div",34),Wt.Sc(1,Lo,2,6,"div",35),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.uc("ngForOf",n.commentTree.children)}}var Ao=function(e){return{"mb-3":e}};function Ro(e,t){if(1&e&&(Wt.Vb(0,"div",2),Wt.Vb(1,"div",3),Wt.Sc(2,Po,2,2,"a",4),Wt.Qb(3,"div",5),Wt.Ub(),Wt.Vb(4,"div",6),Wt.Sc(5,ko,1,0,"span",7),Wt.Vb(6,"div",8),Wt.Sc(7,Eo,16,24,"ng-container",1),Wt.Sc(8,Io,10,9,"ng-container",1),Wt.Sc(9,jo,1,6,"my-video-comment-add",9),Wt.Sc(10,Vo,2,1,"div",10),Wt.sc(11),Wt.Ub(),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc();Wt.Cb(2),Wt.uc("ngIf",!n.comment.isDeleted),Wt.Cb(2),Wt.uc("ngClass",Wt.yc(7,Ao,n.firstInThread)),Wt.Cb(1),Wt.uc("ngIf",n.comment.isDeleted),Wt.Cb(2),Wt.uc("ngIf",!n.comment.isDeleted),Wt.Cb(1),Wt.uc("ngIf",n.comment.isDeleted),Wt.Cb(1),Wt.uc("ngIf",!n.comment.isDeleted&&n.isUserLoggedIn()&&n.inReplyToCommentId===n.comment.id),Wt.Cb(1),Wt.uc("ngIf",n.commentTree)}}function No(e,t){if(1&e&&(Wt.Tb(0),Wt.Qb(1,"my-comment-report",37,38),Wt.Sb()),2&e){var n=Wt.nc();Wt.Cb(1),Wt.uc("comment",n.comment)}}var Do,Uo=["*"],Bo=((Do=function(){function e(t,n,i,o){Tt(this,e),this.markdownService=t,this.authService=n,this.userService=i,this.notifier=o,this.parentComments=[],this.highlightedComment=!1,this.firstInThread=!1,this.wantedToReply=new Wt.n,this.wantedToDelete=new Wt.n,this.wantedToRedraft=new Wt.n,this.threadCreated=new Wt.n,this.resetReply=new Wt.n,this.timestampClicked=new Wt.n,this.sanitizedCommentHTML="",this.newParentComments=[]}return Mt(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"ngOnChanges",value:function(){this.init()}},{key:"onCommentReplyCreated",value:function(e){this.commentTree||(this.commentTree={comment:this.comment,children:[]},this.threadCreated.emit(this.commentTree)),this.commentTree.children.unshift({comment:e,children:[]}),this.resetReply.emit(),this.redraftValue=void 0}},{key:"onWantToReply",value:function(e){this.wantedToReply.emit(e||this.comment)}},{key:"onWantToDelete",value:function(e){this.wantedToDelete.emit(e||this.comment)}},{key:"onWantToRedraft",value:function(e){this.wantedToRedraft.emit(e||this.comment)}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onResetReply",value:function(){this.resetReply.emit()}},{key:"handleTimestampClicked",value:function(e){this.timestampClicked.emit(e)}},{key:"isRemovableByUser",value:function(){return this.comment.account&&this.isUserLoggedIn()&&(this.user.account.id===this.comment.account.id||this.user.account.id===this.video.account.id||this.user.hasRight(15))}},{key:"isRedraftableByUser",value:function(){return this.comment.account&&this.isUserLoggedIn()&&this.user.account.id===this.comment.account.id&&0===this.comment.totalReplies}},{key:"isReportableByUser",value:function(){return this.comment.account&&this.isUserLoggedIn()&&!1===this.comment.isDeleted&&this.user.account.id!==this.comment.account.id}},{key:"switchToDefaultAvatar",value:function(e){e.target.src=St.a.GET_DEFAULT_AVATAR_URL()}},{key:"isNotDeletedOrDeletedWithReplies",value:function(){return!this.comment.isDeleted||this.comment.isDeleted&&0!==this.comment.totalReplies}},{key:"getUserIfNeeded",value:function(e){var t=this;e.userId&&this.authService.isLoggedIn()&&this.authService.getUser().hasRight(1)&&this.userService.getUserWithCache(e.userId).subscribe(function(e){return t.commentUser=e},function(e){return t.notifier.error(e.message)})}},{key:"init",value:function(){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.comment.text.replace(/<br.?\/?>/g,"\r\n"),e.next=3,this.markdownService.textMarkdownToHTML(t,!0,!0);case 3:return n=e.sent,e.next=6,this.markdownService.processVideoTimestamps(n);case 6:this.sanitizedCommentHTML=e.sent,this.newParentComments=this.parentComments.concat([this.comment]),this.comment.account?(this.commentAccount=new St.a(this.comment.account),this.getUserIfNeeded(this.commentAccount)):this.comment.account=null,this.prependModerationActions=[],this.isReportableByUser()&&this.prependModerationActions.push({label:"Deze reactie melden",iconName:"flag",handler:function(){return i.showReportModal()}}),this.isRemovableByUser()&&this.prependModerationActions.push({label:"Verwijderen",iconName:"delete",handler:function(){return i.onWantToDelete()}}),this.isRedraftableByUser()&&this.prependModerationActions.push({label:"Verwijderen & opnieuw klad",iconName:"edit",handler:function(){return i.onWantToRedraft()}}),0===this.prependModerationActions.length&&(this.prependModerationActions=void 0);case 14:case"end":return e.stop()}},e,this)}))}},{key:"showReportModal",value:function(){this.commentReportModal.show()}},{key:"user",get:function(){return this.authService.getUser()}}]),e}()).\u0275fac=function(e){return new(e||Do)(Wt.Pb(Ht.j),Wt.Pb(mo.a),Wt.Pb(Ht.D),Wt.Pb(Ht.m))},Do.\u0275cmp=Wt.Jb({type:Do,selectors:[["my-video-comment"]],viewQuery:function(e,t){var n;1&e&&Wt.Yc(Co,!0),2&e&&Wt.Gc(n=Wt.kc())&&(t.commentReportModal=n.first)},inputs:{video:"video",comment:"comment",parentComments:"parentComments",commentTree:"commentTree",inReplyToCommentId:"inReplyToCommentId",highlightedComment:"highlightedComment",firstInThread:"firstInThread",redraftValue:"redraftValue"},outputs:{wantedToReply:"wantedToReply",wantedToDelete:"wantedToDelete",wantedToRedraft:"wantedToRedraft",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"},features:[Wt.Ab],ngContentSelectors:Uo,decls:2,vars:2,consts:function(){return[["class","root-comment",4,"ngIf"],[4,"ngIf"],[1,"root-comment"],[1,"left"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],[1,"vertical-border"],[1,"right",3,"ngClass"],["class","comment-avatar",4,"ngIf"],[1,"comment"],[3,"user","video","parentComment","parentComments","focusOnInit","textValue","commentCreated","cancel",4,"ngIf"],["class","children",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["alt","Avatar",1,"comment-avatar",3,"src","error"],[1,"comment-avatar"],["class","highlighted-comment",4,"ngIf"],[1,"comment-account-date"],[1,"comment-account"],[3,"routerLink"],[1,"comment-account-name",3,"ngClass"],[1,"comment-account-fid","ml-1"],[1,"comment-date",3,"routerLink","title"],["timestampRouteTransformer","",1,"comment-html",3,"innerHTML","timestampClicked"],[1,"comment-actions"],["tabindex","0","class","comment-action-reply",3,"click",4,"ngIf"],["tabindex","0","buttonSize","small","label","Opties","placement","bottom-left auto",3,"prependActions","account","user"],[1,"highlighted-comment"],"Belichte reactie",["tabindex","0",1,"comment-action-reply",3,"click"],"Antwoorden","Verwijderd",[1,"comment-date",3,"routerLink"],[1,"comment-html","comment-html-deleted"],"Deze reactie is verwijderd",[3,"user","video","parentComment","parentComments","focusOnInit","textValue","commentCreated","cancel"],[1,"children"],[4,"ngFor","ngForOf"],[3,"comment","video","inReplyToCommentId","commentTree","parentComments","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","resetReply","timestampClicked"],[3,"comment"],["commentReportModal",""]]},template:function(e,t){1&e&&(Wt.tc(),Wt.Sc(0,Ro,12,9,"div",0),Wt.Sc(1,No,3,1,"ng-container",1)),2&e&&(Wt.uc("ngIf",t.isNotDeletedOrDeletedWithReplies()),Wt.Cb(1),Wt.uc("ngIf",t.prependModerationActions))},directives:[Dt.n,Dt.l,Zt.k,qi,yo.a,go,Dt.m,Do,bo.a],pipes:[_o.a],styles:[".root-comment[_ngcontent-%COMP%]{font-size:15px;display:flex}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{width:2px;height:100%;background-color:rgba(0,0,0,.05);margin:10px calc(1rem + 1px)}.root-comment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.root-comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:36px;height:36px;min-width:36px;min-height:36px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{flex-grow:1;min-width:1px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .highlighted-comment[_ngcontent-%COMP%]{display:inline-block;background-color:#f5f5f5;color:#3d3d3d;padding:0 5px;font-size:13px;margin-bottom:5px;font-weight:600;border-radius:3px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{display:flex;margin-bottom:4px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .video-author[_ngcontent-%COMP%]{height:20px;background-color:#888;border-radius:12px;margin-bottom:2px;max-width:100%;box-sizing:border-box;flex-direction:row;align-items:center;display:inline-flex;padding-right:6px;padding-left:6px;color:#fff!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]{word-break:break-all;font-weight:600;font-size:90%}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-account[_ngcontent-%COMP%]   .comment-account-fid[_ngcontent-%COMP%]{opacity:.6}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{font-size:90%;color:var(--greyForegroundColor);margin-left:5px;text-decoration:none}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]:hover{text-decoration:underline}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url){color:var(--mainForegroundColor);font-weight:600}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):hover{text-decoration:none!important;outline:none!important}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html[_ngcontent-%COMP%]     p{margin-bottom:.3rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-html.comment-html-deleted[_ngcontent-%COMP%]{color:var(--greyForegroundColor);margin-bottom:1rem}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{margin-bottom:10px;display:flex}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%], .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle{color:var(--greyForegroundColor);cursor:pointer;margin-right:10px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:focus-visible, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:hover, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:active, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:focus, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:focus-visible, .root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:hover{color:var(--mainForegroundColor)}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]     .action-button{background-color:transparent;padding:0;font-weight:unset}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   my-video-comment-add[_ngcontent-%COMP%]     form{margin-top:1rem;margin-bottom:0}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:25px;height:25px;min-width:25px;min-height:25px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:6px}@media screen and (max-width:1200px){.children[_ngcontent-%COMP%]{margin-left:-10px}}@media screen and (max-width:600px){.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:-20px}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-items:flex-start}.root-comment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-left:2px}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]{flex-direction:column}.root-comment[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-left:0}}"]}),Do),zo=gt("hbNF"),Fo=["commentHighlightBlock"];function Ho(e,t){1&e&&Wt.Rb(0)}function Wo(e,t){1&e&&(Wt.Tb(0),Wt.Zb(1,17),Wt.Sb())}function $o(e,t){if(1&e&&Wt.Zb(0,18),2&e){var n=Wt.nc(2);Wt.dc(n.componentPagination.totalItems),Wt.ac(0)}}function Ko(e,t){if(1&e&&(Wt.Sc(0,Wo,2,0,"ng-container",15),Wt.Sc(1,$o,1,1,"ng-template",null,16,Wt.Tc)),2&e){var n=Wt.Hc(2),i=Wt.nc();Wt.uc("ngIf",1===i.componentPagination.totalItems)("ngIfElse",n)}}function qo(e,t){1&e&&Wt.Zb(0,19)}function Go(e,t){1&e&&(Wt.Vb(0,"div"),Wt.Zb(1,26),Wt.Ub())}function Jo(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"my-video-comment",27),Wt.jc("wantedToReply",function(e){return Wt.Jc(n),Wt.nc(2).onWantedToReply(e)})("wantedToDelete",function(e){return Wt.Jc(n),Wt.nc(2).onWantedToDelete(e)})("wantedToRedraft",function(e){return Wt.Jc(n),Wt.nc(2).onWantedToRedraft(e)})("threadCreated",function(e){return Wt.Jc(n),Wt.nc(2).onThreadCreated(e)})("resetReply",function(){return Wt.Jc(n),Wt.nc(2).onResetReply()})("timestampClicked",function(e){return Wt.Jc(n),Wt.nc(2).handleTimestampClicked(e)}),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("comment",i.highlightedThread)("video",i.video)("inReplyToCommentId",i.inReplyToCommentId)("commentTree",i.threadComments[i.highlightedThread.id])("highlightedComment",!0)("firstInThread",!0)("redraftValue",i.commentReplyRedraftValue)}}function Yo(e,t){1&e&&Wt.Rb(0)}function Zo(e,t){if(1&e&&(Wt.Tb(0),Wt.Zb(1,37),Wt.Sb()),2&e){var n=Wt.nc(4).$implicit,i=Wt.nc(2);Wt.Cb(1),Wt.dc(n.totalReplies)((null==i.video||null==i.video.account?null:i.video.account.displayName)||"the author"),Wt.ac(1)}}function Qo(e,t){if(1&e&&Wt.Zb(0,38),2&e){var n=Wt.nc(4).$implicit,i=Wt.nc(2);Wt.dc(n.totalReplies)((null==i.video||null==i.video.account?null:i.video.account.displayName)||"the author"),Wt.ac(0)}}function Xo(e,t){if(1&e&&(Wt.Sc(0,Zo,2,2,"ng-container",15),Wt.Sc(1,Qo,1,2,"ng-template",null,36,Wt.Tc)),2&e){var n=Wt.Hc(2),i=Wt.nc(3).$implicit;Wt.uc("ngIf",i.totalReplies!==i.totalRepliesFromVideoAuthor)("ngIfElse",n)}}function er(e,t){if(1&e&&Wt.Zb(0,39),2&e){var n=Wt.nc(3).$implicit;Wt.dc(n.totalReplies),Wt.ac(0)}}function tr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",31),Wt.jc("click",function(){Wt.Jc(n);var e=Wt.nc(2).$implicit;return Wt.nc(2).viewReplies(e.id)}),Wt.Qb(1,"span",32),Wt.Sc(2,Yo,1,0,"ng-container",2),Wt.Sc(3,Xo,3,2,"ng-template",null,33,Wt.Tc),Wt.Sc(5,er,1,1,"ng-template",null,34,Wt.Tc),Wt.Qb(7,"my-small-loader",35),Wt.Ub()}if(2&e){var i=Wt.Hc(4),o=Wt.Hc(6),r=Wt.nc(2).$implicit,a=Wt.nc(2);Wt.Cb(2),Wt.uc("ngIf",r.totalRepliesFromVideoAuthor>0)("ngIfThen",i)("ngIfElse",o),Wt.Cb(5),Wt.uc("loading",a.threadLoading[r.id])}}function nr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"my-video-comment",29),Wt.jc("wantedToReply",function(e){return Wt.Jc(n),Wt.nc(3).onWantedToReply(e)})("wantedToDelete",function(e){return Wt.Jc(n),Wt.nc(3).onWantedToDelete(e)})("wantedToRedraft",function(e){return Wt.Jc(n),Wt.nc(3).onWantedToRedraft(e)})("threadCreated",function(e){return Wt.Jc(n),Wt.nc(3).onThreadCreated(e)})("resetReply",function(){return Wt.Jc(n),Wt.nc(3).onResetReply()})("timestampClicked",function(e){return Wt.Jc(n),Wt.nc(3).handleTimestampClicked(e)}),Wt.Sc(1,tr,8,4,"div",30),Wt.Ub()}if(2&e){var i=Wt.nc(),o=i.$implicit,r=i.index,a=Wt.nc(2);Wt.uc("comment",o)("video",a.video)("inReplyToCommentId",a.inReplyToCommentId)("commentTree",a.threadComments[o.id])("firstInThread",r+1!==a.comments.length)("redraftValue",a.commentReplyRedraftValue),Wt.Cb(1),Wt.uc("ngIf",0!==o.totalReplies&&!a.threadComments[o.id])}}function ir(e,t){if(1&e&&(Wt.Vb(0,"div"),Wt.Sc(1,nr,2,7,"my-video-comment",28),Wt.Ub()),2&e){var n=t.$implicit,i=Wt.nc(2);Wt.Cb(1),Wt.uc("ngIf",!i.highlightedThread||n.id!==i.highlightedThread.id)}}function or(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"my-video-comment-add",20),Wt.jc("commentCreated",function(e){return Wt.Jc(n),Wt.nc().onCommentThreadCreated(e)}),Wt.Ub(),Wt.Sc(1,Go,2,0,"div",14),Wt.Vb(2,"div",21),Wt.jc("nearOfBottom",function(){return Wt.Jc(n),Wt.nc().onNearOfBottom()}),Wt.Vb(3,"div"),Wt.Qb(4,"div",22,23),Wt.Sc(6,Jo,1,7,"my-video-comment",24),Wt.Ub(),Wt.Sc(7,ir,2,1,"div",25),Wt.Ub()}if(2&e){var i=Wt.nc();Wt.uc("video",i.video)("user",i.user)("textValue",i.commentThreadRedraftValue),Wt.Cb(1),Wt.uc("ngIf",0===i.componentPagination.totalItems&&0===i.comments.length),Wt.Cb(1),Wt.uc("autoInit",!0)("dataObservable",i.onDataSubject.asObservable()),Wt.Cb(4),Wt.uc("ngIf",i.highlightedThread),Wt.Cb(1),Wt.uc("ngForOf",i.comments)}}function rr(e,t){1&e&&(Wt.Vb(0,"div"),Wt.Zb(1,40),Wt.Ub())}var ar,sr=((ar=function(){function e(t,n,i,o,r,a){Tt(this,e),this.authService=t,this.notifier=n,this.confirmService=i,this.videoCommentService=o,this.activatedRoute=r,this.hooks=a,this.timestampClicked=new Wt.n,this.comments=[],this.sort="-createdAt",this.componentPagination={currentPage:1,itemsPerPage:10,totalItems:null},this.threadComments={},this.threadLoading={},this.syndicationItems=[],this.onDataSubject=new Gi.a}return Mt(e,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.activatedRoute.params.subscribe(function(t){t.threadId&&e.processHighlightedThread(+t.threadId)})}},{key:"ngOnChanges",value:function(e){e.video&&this.resetVideo()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"viewReplies",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.threadLoading[e]=!0;var i={videoId:this.video.id,threadId:e};this.hooks.wrapObsFun(this.videoCommentService.getVideoThreadComments.bind(this.videoCommentService),i,"video-watch","filter:api.video-watch.video-thread-replies.list.params","filter:api.video-watch.video-thread-replies.list.result").subscribe(function(i){t.threadComments[e]=i,t.threadLoading[e]=!1,t.hooks.runAction("action:video-watch.video-thread-replies.loaded","video-watch",{data:i}),n&&(t.highlightedThread=new Vt.b(i.comment),setTimeout(function(){return t.commentHighlightBlock.nativeElement.scrollIntoView()},0))},function(e){return t.notifier.error(e.message)})}},{key:"loadMoreThreads",value:function(){var e=this,t={videoId:this.video.id,componentPagination:this.componentPagination,sort:this.sort};this.hooks.wrapObsFun(this.videoCommentService.getVideoCommentThreads.bind(this.videoCommentService),t,"video-watch","filter:api.video-watch.video-threads.list.params","filter:api.video-watch.video-threads.list.result").subscribe(function(t){e.comments=e.comments.concat(t.data),e.componentPagination.totalItems=t.total-e.comments.filter(function(e){return e.isDeleted}).length,e.onDataSubject.next(t.data),e.hooks.runAction("action:video-watch.video-threads.loaded","video-watch",{data:e.componentPagination})},function(t){return e.notifier.error(t.message)})}},{key:"onCommentThreadCreated",value:function(e){this.comments.unshift(e),this.commentThreadRedraftValue=void 0}},{key:"onWantedToReply",value:function(e){this.inReplyToCommentId=e.id}},{key:"onResetReply",value:function(){this.inReplyToCommentId=void 0,this.commentReplyRedraftValue=void 0}},{key:"onThreadCreated",value:function(e){this.viewReplies(e.comment.id)}},{key:"handleSortChange",value:function(e){this.sort!==e&&(this.sort=e,this.resetVideo())}},{key:"handleTimestampClicked",value:function(e){this.timestampClicked.emit(e)}},{key:"onWantedToDelete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Verwijderen",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Wil je deze reactie echt verwijderen?";return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n+=e.isLocal||this.video.isLocal?"De verwijdering wordt naar andere exemplaren van PeerTube gestuurd zodat zij er ook gevolg aan kunnen geven.":"Dit is een reactie van elders, dus de verwijdering zal enkel effect hebben op jouw exemplaar van PeerTube.",i.t1=!1,i.next=4,this.confirmService.confirm(n,t);case 4:if(i.t2=i.sent,i.t0=i.t1!==i.t2,!i.t0){i.next=8;break}i.t0=(this.videoCommentService.deleteVideoComment(e.videoId,e.id).subscribe(function(){var t;(null===(t=o.highlightedThread)||void 0===t?void 0:t.id)===e.id&&(e=o.comments.find(function(t){return t.id===e.id}),o.highlightedThread=void 0),o.softDeleteComment(e)},function(e){return o.notifier.error(e.message)}),!0);case 8:return i.abrupt("return",i.t0);case 9:case"end":return i.stop()}},i,this)}))}},{key:"onWantedToRedraft",value:function(e){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onWantedToDelete(e,"Verwijderen en opnieuw als klad","Wil je echt deze reactie verwijderen en opnieuw als klad instellen?");case 2:if(!t.sent){t.next=6;break}this.inReplyToCommentId=e.inReplyToCommentId,n=e.text.replace(/<br.?\/?>/g,"\r\n"),e.threadId===e.id?this.commentThreadRedraftValue=n:this.commentReplyRedraftValue=n;case 6:case"end":return t.stop()}},t,this)}))}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"onNearOfBottom",value:function(){Object(Ht.E)(this.componentPagination)&&(this.componentPagination.currentPage++,this.loadMoreThreads())}},{key:"softDeleteComment",value:function(e){e.isDeleted=!0,e.deletedAt=new Date,e.text="",e.account=null}},{key:"resetVideo",value:function(){!0===this.video.commentsEnabled&&(this.highlightedThread=null,this.comments=[],this.threadComments={},this.threadLoading={},this.inReplyToCommentId=void 0,this.componentPagination.currentPage=1,this.componentPagination.totalItems=null,this.syndicationItems=this.videoCommentService.getVideoCommentsFeeds(this.video.uuid),this.loadMoreThreads())}},{key:"processHighlightedThread",value:function(e){this.highlightedThread=this.comments.find(function(t){return t.id===e}),this.viewReplies(e,!0)}}]),e}()).\u0275fac=function(e){return new(e||ar)(Wt.Pb(Ht.a),Wt.Pb(Ht.m),Wt.Pb(Ht.d),Wt.Pb(Vt.d),Wt.Pb(Zt.a),Wt.Pb(on.a))},ar.\u0275cmp=Wt.Jb({type:ar,selectors:[["my-video-comments"]],viewQuery:function(e,t){var n;1&e&&Wt.Yc(Fo,!0),2&e&&Wt.Gc(n=Wt.kc())&&(t.commentHighlightBlock=n.first)},inputs:{video:"video",user:"user"},outputs:{timestampClicked:"timestampClicked"},features:[Wt.Ab],decls:19,vars:6,consts:function(){return[[1,"title-block"],[1,"title-page","title-page-single"],[4,"ngIf","ngIfThen","ngIfElse"],["hasComments",""],["noComments",""],[3,"syndicationItems"],["ngbDropdown","",1,"d-inline-block","ml-4"],["id","dropdown-sort-comments","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-secondary"],"SORTEREN OP",["ngbDropdownMenu","","aria-labelledby","dropdown-sort-comments"],["ngbDropdownItem","",3,"click"],"Recentste eerst (standaard)","Meeste antwoorden eerst",[3,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["manyComments",""],"1 Reactie","" + "\ufffd0\ufffd" + " Commentaren ","Commentaren",[3,"video","user","textValue","commentCreated"],["myInfiniteScroller","",1,"comment-threads",3,"autoInit","dataObservable","nearOfBottom"],["id","highlighted-comment",1,"anchor"],["commentHighlightBlock",""],[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked",4,"ngIf"],[4,"ngFor","ngForOf"],"Geen commentaren.",[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked",4,"ngIf"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked"],["class","view-replies mb-2",3,"click",4,"ngIf"],[1,"view-replies","mb-2",3,"click"],[1,"glyphicon","glyphicon-menu-down"],["hasAuthorComments",""],["noAuthorComments",""],[1,"comment-thread-loading","ml-1",3,"loading"],["onlyAuthorComments",""],"" + "\ufffd0\ufffd" + "Reacties van " + "\ufffd1\ufffd" + " en anderen bekijken. ","" + "\ufffd0\ufffd" + "Reacties van " + "\ufffd1\ufffd" + " bekijken ","" + "\ufffd0\ufffd" + " antwoorden bekijken","\n    Reacties zijn uitgeschakeld.\n  "]},template:function(e,t){if(1&e&&(Wt.Vb(0,"div"),Wt.Vb(1,"div",0),Wt.Vb(2,"h2",1),Wt.Sc(3,Ho,1,0,"ng-container",2),Wt.Sc(4,Ko,3,2,"ng-template",null,3,Wt.Tc),Wt.Sc(6,qo,1,0,"ng-template",null,4,Wt.Tc),Wt.Ub(),Wt.Qb(8,"my-feed",5),Wt.Vb(9,"div",6),Wt.Vb(10,"button",7),Wt.Zb(11,8),Wt.Ub(),Wt.Vb(12,"div",9),Wt.Vb(13,"button",10),Wt.jc("click",function(){return t.handleSortChange("-createdAt")}),Wt.Zb(14,11),Wt.Ub(),Wt.Vb(15,"button",10),Wt.jc("click",function(){return t.handleSortChange("-totalReplies")}),Wt.Zb(16,12),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Sc(17,or,8,8,"ng-template",13),Wt.Sc(18,rr,2,0,"div",14),Wt.Ub()),2&e){var n=Wt.Hc(5),i=Wt.Hc(7);Wt.Cb(3),Wt.uc("ngIf",t.componentPagination.totalItems>0)("ngIfThen",n)("ngIfElse",i),Wt.Cb(5),Wt.uc("syndicationItems",t.syndicationItems),Wt.Cb(9),Wt.uc("ngIf",!0===t.video.commentsEnabled),Wt.Cb(1),Wt.uc("ngIf",!1===t.video.commentsEnabled)}},directives:[Dt.n,Ji.a,wi.f,wi.l,wi.j,wi.i,go,Li.a,Dt.m,Bo,zo.a],styles:["#highlighted-comment[_ngcontent-%COMP%]{margin-bottom:25px}.view-replies[_ngcontent-%COMP%]{font-weight:600;font-size:15px;cursor:pointer}.comment-thread-loading[_ngcontent-%COMP%], .glyphicon[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;font-size:13px}.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-right:0}.title-block[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;opacity:0;transition:opacity .2s ease-in}.title-block[_ngcontent-%COMP%]:hover   my-feed[_ngcontent-%COMP%]{opacity:1}#dropdown-sort-comments[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;border:none;transform:translateY(-7%)}@media screen and (max-width:600px){.view-replies[_ngcontent-%COMP%]{margin-left:46px}}@media screen and (max-width:450px){.view-replies[_ngcontent-%COMP%]{font-size:14px}}"]}),ar),cr=gt("EIMG"),lr=gt("CjA7"),ur=gt("MUmz");function dr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",7),Wt.Vb(1,"span"),Wt.Zb(2,8),Wt.Ub(),Wt.Vb(3,"my-input-switch",9),Wt.jc("ngModelChange",function(e){return Wt.Jc(n),Wt.nc(2).autoPlayNextVideo=e})("ngModelChange",function(){return Wt.Jc(n),Wt.nc(2).switchAutoPlayNextVideo()}),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("ngbTooltip",i.autoPlayNextVideoTooltip),Wt.Cb(3),Wt.uc("ngModel",i.autoPlayNextVideo)}}function hr(e,t){1&e&&Wt.Qb(0,"hr")}function pr(e,t){if(1&e){var n=Wt.Wb();Wt.Tb(0),Wt.Vb(1,"my-video-miniature",10),Wt.jc("videoBlocked",function(){return Wt.Jc(n),Wt.nc(2).onVideoRemoved()})("videoRemoved",function(){return Wt.Jc(n),Wt.nc(2).onVideoRemoved()})("videoAccountMuted",function(){return Wt.Jc(n),Wt.nc(2).onVideoRemoved()}),Wt.Ub(),Wt.Sc(2,hr,1,0,"hr",1),Wt.Sb()}if(2&e){var i=t.$implicit,o=t.index,r=t.count,a=Wt.nc(2);Wt.Cb(1),Wt.uc("displayOptions",a.displayOptions)("video",i)("user",a.userMiniature),Wt.Cb(1),Wt.uc("ngIf",!a.playlist&&0==o&&r>1)}}function fr(e,t){if(1&e&&(Wt.Tb(0),Wt.Vb(1,"div",2),Wt.Vb(2,"h2",3),Wt.Zb(3,4),Wt.Ub(),Wt.Sc(4,dr,4,2,"div",5),Wt.Ub(),Wt.Sc(5,pr,3,4,"ng-container",6),Wt.oc(6,"async"),Wt.Sb()),2&e){var n=Wt.nc();Wt.Cb(4),Wt.uc("ngIf",!n.playlist),Wt.Cb(1),Wt.uc("ngForOf",Wt.pc(6,2,n.videos$))}}var vr,gr=((vr=function(){function e(t,n,i,o,r){var a=this;Tt(this,e),this.userService=t,this.authService=n,this.notifier=i,this.store=o,this.sessionStorageService=r,this.gotRecommendations=new Wt.n,this.displayOptions={date:!0,views:!0,by:!0,avatar:!0},this.videos$=this.store.recommendations$,this.hasVideos$=this.store.hasRecommendations$,this.videos$.subscribe(function(e){return a.gotRecommendations.emit(e)}),this.authService.isLoggedIn()?this.autoPlayNextVideo=this.authService.getUser().autoPlayNextVideo:(this.autoPlayNextVideo="true"===this.sessionStorageService.getItem(cr.b.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO),this.sessionStorageService.watch([cr.b.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO]).subscribe(function(){a.autoPlayNextVideo="true"===a.sessionStorageService.getItem(cr.b.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)})),this.autoPlayNextVideoTooltip="De volgende video speelt automatisch na de huidige als die actief is."}return Mt(e,[{key:"ngOnInit",value:function(){var e=this;this.userService.getAnonymousOrLoggedUser().subscribe(function(t){return e.userMiniature=t})}},{key:"ngOnChanges",value:function(){this.inputRecommendation&&this.store.requestNewRecommendations(this.inputRecommendation)}},{key:"onVideoRemoved",value:function(){this.store.requestNewRecommendations(this.inputRecommendation)}},{key:"switchAutoPlayNextVideo",value:function(){var e=this;this.sessionStorageService.setItem(cr.b.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO,this.autoPlayNextVideo.toString()),this.authService.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideo:this.autoPlayNextVideo}).subscribe(function(){e.authService.refreshUserInformation()},function(t){return e.notifier.error(t.message)})}}]),e}()).\u0275fac=function(e){return new(e||vr)(Wt.Pb(Ht.D),Wt.Pb(Ht.a),Wt.Pb(Ht.m),Wt.Pb(Jt),Wt.Pb(Ht.y))},vr.\u0275cmp=Wt.Jb({type:vr,selectors:[["my-recommended-videos"]],inputs:{inputRecommendation:"inputRecommendation",playlist:"playlist"},outputs:{gotRecommendations:"gotRecommendations"},features:[Wt.Ab],decls:3,vars:3,consts:function(){return[[1,"other-videos"],[4,"ngIf"],[1,"title-page-container"],[1,"title-page","title-page-single"],"Andere video's",["class","title-page-autoplay","placement","bottom-right auto",3,"ngbTooltip",4,"ngIf"],[4,"ngFor","ngForOf"],["placement","bottom-right auto",1,"title-page-autoplay",3,"ngbTooltip"],"AUTOMATISCH AFSPELEN",[1,"small",3,"ngModel","ngModelChange"],[3,"displayOptions","video","user","videoBlocked","videoRemoved","videoAccountMuted"]]},template:function(e,t){1&e&&(Wt.Vb(0,"div",0),Wt.Sc(1,fr,7,4,"ng-container",1),Wt.oc(2,"async"),Wt.Ub()),2&e&&(Wt.Cb(1),Wt.uc("ngIf",Wt.pc(2,1,t.hasVideos$)))},directives:[Dt.n,Dt.m,wi.z,lr.a,Yi.m,Yi.p,ur.a],pipes:[Dt.b],styles:[".title-page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:25px;flex-wrap:wrap-reverse}.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-bottom:unset;margin-right:.5rem!important}.title-page-autoplay[_ngcontent-%COMP%]{display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content;align-items:center;margin-left:auto}.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem;text-transform:uppercase;font-size:85%;font-weight:600}hr[_ngcontent-%COMP%]{margin-top:0}"]}),vr),mr=gt("DTAc"),br=gt("tTqN"),yr=gt("HZcR"),_r=gt("/q9C"),Cr=gt("xFmT"),Pr=["videoWatchPlaylist"],kr=["videoShareModal"],Tr=["videoSupportModal"],Or=["subscribeButton"],Mr=["videoDownloadModal"];function wr(e,t){1&e&&(Wt.Vb(0,"div",13),Wt.Uc(1," Sorry, but this video is not available because the remote instance is not responding. "),Wt.Qb(2,"br"),Wt.Uc(3," Please try again later. "),Wt.Ub())}function xr(e,t){1&e&&(Wt.Vb(0,"div",14),Wt.Zb(1,15),Wt.Ub())}function Sr(e,t){1&e&&(Wt.Vb(0,"div",14),Wt.Zb(1,16),Wt.Ub())}function Er(e,t){if(1&e&&(Wt.Vb(0,"div",17),Wt.Zb(1,18),Wt.oc(2,"date"),Wt.Ub()),2&e){var n=Wt.nc();Wt.Cb(2),Wt.dc(Wt.qc(2,1,n.video.scheduledUpdate.updateAt,"full")),Wt.ac(1)}}function Ir(e,t){1&e&&(Wt.Vb(0,"div",17),Wt.Zb(1,19),Wt.Ub())}function jr(e,t){1&e&&(Wt.Vb(0,"div",17),Wt.Zb(1,20),Wt.Ub())}function Lr(e,t){if(1&e&&(Wt.Vb(0,"div",21),Wt.Vb(1,"div",22),Wt.Zb(2,23),Wt.Ub(),Wt.Uc(3),Wt.Ub()),2&e){var n=Wt.nc();Wt.Cb(3),Wt.Wc(" ",n.video.blockedReason," ")}}function Vr(e,t){if(1&e&&Wt.Qb(0,"span",80),2&e){var n=Wt.nc(2);Wt.uc("innerHTML",n.getRatePopoverText(),Wt.Kc)}}function Ar(e,t){if(1&e&&(Wt.Vb(0,"span",81),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.Vc(n.video.likes)}}function Rr(e,t){if(1&e&&(Wt.Vb(0,"span",81),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.Vc(n.video.dislikes)}}function Nr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"button",82),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc(2).showSupportModal()})("keyup.enter",function(){return Wt.Jc(n),Wt.nc(2).showSupportModal()}),Wt.Qb(1,"my-global-icon",83),Wt.Vb(2,"span",49),Wt.Zb(3,84),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("ngbTooltip",i.tooltipSupport),Wt.Db("aria-label",i.tooltipSupport)}}function Dr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",85),Wt.jc("openChange",function(e){return Wt.Jc(n),Wt.Hc(7).openChange(e)}),Wt.Vb(1,"button",86),Wt.Qb(2,"my-global-icon",87),Wt.Vb(3,"span",49),Wt.Zb(4,88),Wt.Ub(),Wt.Ub(),Wt.Vb(5,"div",89),Wt.Qb(6,"my-video-add-to-playlist",32,90),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.uc("ngbTooltip",i.tooltipSaveToPlaylist),Wt.Cb(6),Wt.uc("video",i.video)}}function Ur(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"button",93),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc(3).showDownloadModal()})("keydown.enter",function(){return Wt.Jc(n),Wt.nc(3).showDownloadModal()}),Wt.Qb(1,"my-global-icon",94),Wt.Vb(2,"span",95),Wt.Zb(3,96),Wt.Ub(),Wt.Ub()}}function Br(e,t){if(1&e&&(Wt.Tb(0),Wt.Sc(1,Ur,4,0,"button",91),Wt.Qb(2,"my-video-download",null,92),Wt.Sb()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.uc("ngIf",n.isVideoDownloadable())}}function zr(e,t){if(1&e){var n=Wt.Wb();Wt.Tb(0),Wt.Vb(1,"my-video-actions-dropdown",97),Wt.jc("videoRemoved",function(){return Wt.Jc(n),Wt.nc(2).onVideoRemoved()})("modalOpened",function(){return Wt.Jc(n),Wt.nc(2).onModalOpened()}),Wt.Ub(),Wt.Sb()}if(2&e){var i=Wt.nc(2);Wt.Cb(1),Wt.uc("buttonStyled",!0)("video",i.video)("videoCaptions",i.videoCaptions)("displayOptions",i.videoActionsOptions)}}var Fr=function(e){return{liked:e}},Hr=function(e){return{"width.%":e}};function Wr(e,t){if(1&e&&(Wt.Vb(0,"div",98),Wt.Vb(1,"div",99),Wt.Qb(2,"div",100),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.uc("ngbTooltip",n.likesBarTooltipText),Wt.Cb(2),Wt.uc("ngClass",Wt.yc(3,Fr,"none"!==n.userRating))("ngStyle",Wt.yc(5,Hr,n.video.likesPercent))}}function $r(e,t){if(1&e&&(Wt.Vb(0,"div",101),Wt.Qb(1,"div",102),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.uc("ngbTooltip",n.likesBarTooltipText),Wt.Cb(1),Wt.uc("ngStyle",Wt.yc(2,Hr,n.video.likesPercent))}}var Kr=function(e){return["/video-channels",e]},qr=function(e){return["/accounts",e]};function Gr(e,t){if(1&e&&(Wt.Tb(0),Wt.Vb(1,"a",103),Wt.Uc(2),Wt.Ub(),Wt.Vb(3,"a",104),Wt.Vb(4,"span"),Wt.Zb(5,105),Wt.Ub(),Wt.Ub(),Wt.Sb()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.uc("routerLink",Wt.yc(4,Kr,n.video.byVideoChannel)),Wt.Cb(1),Wt.Wc(" ",n.video.channel.displayName," "),Wt.Cb(1),Wt.uc("routerLink",Wt.yc(6,qr,n.video.byAccount)),Wt.Cb(2),Wt.dc(n.video.byAccount),Wt.ac(5)}}function Jr(e,t){if(1&e&&(Wt.Tb(0),Wt.Vb(1,"a",106),Wt.Vb(2,"span"),Wt.Zb(3,107),Wt.Ub(),Wt.Ub(),Wt.Sb()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.uc("routerLink",Wt.yc(2,qr,n.video.byAccount)),Wt.Cb(2),Wt.dc(n.video.byAccount),Wt.ac(3)}}function Yr(e,t){1&e&&Wt.Qb(0,"span",112)}function Zr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",108),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc(2).showMoreDescription()}),Wt.Tb(1),Wt.Zb(2,109),Wt.Sb(),Wt.Sc(3,Yr,1,0,"span",110),Wt.Qb(4,"my-small-loader",111),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.Cb(3),Wt.uc("ngIf",!1===i.descriptionLoading),Wt.Cb(1),Wt.uc("loading",i.descriptionLoading)}}function Qr(e,t){1&e&&Wt.Qb(0,"span",115)}function Xr(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",108),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc(2).showLessDescription()}),Wt.Tb(1),Wt.Zb(2,113),Wt.Sb(),Wt.Sc(3,Qr,1,0,"span",114),Wt.Ub()}if(2&e){var i=Wt.nc(2);Wt.Cb(3),Wt.uc("ngIf",!1===i.descriptionLoading)}}function ea(e,t){if(1&e&&(Wt.Vb(0,"div",65),Wt.Vb(1,"span",66),Wt.Zb(2,116),Wt.Ub(),Wt.Vb(3,"a",117),Wt.Uc(4),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(3),Wt.uc("href",n.video.originInstanceUrl,Wt.Lc),Wt.Cb(1),Wt.Vc(n.video.originInstanceHost)}}function ta(e,t){if(1&e&&(Wt.Vb(0,"div",65),Wt.Vb(1,"span",66),Wt.Zb(2,118),Wt.Ub(),Wt.Vb(3,"span",68),Wt.Uc(4),Wt.oc(5,"date"),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(4),Wt.Vc(Wt.qc(5,1,n.video.originallyPublishedAt,"dd MMMM yyyy"))}}function na(e,t){if(1&e&&(Wt.Vb(0,"span",68),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.Vc(n.video.category.label)}}var ia=function(){return["/search"]},oa=function(e){return[e]},ra=function(e){return{categoryOneOf:e}};function aa(e,t){if(1&e&&(Wt.Vb(0,"a",119),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.uc("routerLink",Wt.xc(3,ia))("queryParams",Wt.yc(6,ra,Wt.yc(4,oa,n.video.category.id))),Wt.Cb(1),Wt.Vc(n.video.category.label)}}function sa(e,t){if(1&e&&(Wt.Vb(0,"span",68),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.Vc(n.video.licence.label)}}var ca=function(e){return{licenceOneOf:e}};function la(e,t){if(1&e&&(Wt.Vb(0,"a",119),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.uc("routerLink",Wt.xc(3,ia))("queryParams",Wt.yc(6,ca,Wt.yc(4,oa,n.video.licence.id))),Wt.Cb(1),Wt.Vc(n.video.licence.label)}}function ua(e,t){if(1&e&&(Wt.Vb(0,"span",68),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(1),Wt.Vc(n.video.language.label)}}var da=function(e){return{languageOneOf:e}};function ha(e,t){if(1&e&&(Wt.Vb(0,"a",119),Wt.Uc(1),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.uc("routerLink",Wt.xc(3,ia))("queryParams",Wt.yc(6,da,Wt.yc(4,oa,n.video.language.id))),Wt.Cb(1),Wt.Vc(n.video.language.label)}}var pa=function(e){return{tagsOneOf:e}};function fa(e,t){if(1&e&&(Wt.Vb(0,"a",119),Wt.Uc(1),Wt.Ub()),2&e){var n=t.$implicit;Wt.uc("routerLink",Wt.xc(3,ia))("queryParams",Wt.yc(6,pa,Wt.yc(4,oa,n))),Wt.Cb(1),Wt.Vc(n)}}function va(e,t){if(1&e&&(Wt.Vb(0,"div",65),Wt.Vb(1,"span",66),Wt.Zb(2,120),Wt.Ub(),Wt.Vb(3,"span",68),Wt.Uc(4),Wt.oc(5,"myDurationFormatter"),Wt.Ub(),Wt.Ub()),2&e){var n=Wt.nc(2);Wt.Cb(4),Wt.Vc(Wt.pc(5,1,n.video.duration))}}var ga=function(e){return{activated:e}},ma=function(e,t){return{uuid:e,tags:t}};function ba(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",24),Wt.Vb(1,"div",25),Wt.Vb(2,"div",26),Wt.Vb(3,"div"),Wt.Vb(4,"div",27),Wt.Vb(5,"h1",28),Wt.Uc(6),Wt.Ub(),Wt.Vb(7,"div",29),Wt.Tb(8),Wt.fc(9,30),Wt.Qb(10,"my-date-toggle",31),Wt.cc(),Wt.Sb(),Wt.Uc(11," \u2022 "),Wt.Qb(12,"my-video-views-counter",32),Wt.Ub(),Wt.Ub(),Wt.Vb(13,"div",33),Wt.Vb(14,"div",34),Wt.Vb(15,"h1",28),Wt.Uc(16),Wt.Ub(),Wt.Ub(),Wt.Vb(17,"div",35),Wt.Vb(18,"div",36),Wt.Tb(19),Wt.fc(20,37),Wt.Qb(21,"my-date-toggle",31),Wt.cc(),Wt.Sb(),Wt.Uc(22," \u2022 "),Wt.Qb(23,"my-video-views-counter",32),Wt.Ub(),Wt.Vb(24,"div",38),Wt.Sc(25,Vr,1,1,"ng-template",null,39,Wt.Tc),Wt.Vb(27,"div",40),Wt.Vb(28,"button",41),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().setLike()})("keyup.enter",function(){return Wt.Jc(n),Wt.nc().setLike()}),Wt.Qb(29,"my-global-icon",42),Wt.Sc(30,Ar,2,1,"span",43),Wt.Ub(),Wt.Vb(31,"button",44),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().setDislike()})("keyup.enter",function(){return Wt.Jc(n),Wt.nc().setDislike()}),Wt.Qb(32,"my-global-icon",45),Wt.Sc(33,Rr,2,1,"span",43),Wt.Ub(),Wt.Sc(34,Nr,4,2,"button",46),Wt.Vb(35,"button",47),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().showShareModal()})("keyup.enter",function(){return Wt.Jc(n),Wt.nc().showShareModal()}),Wt.Qb(36,"my-global-icon",48),Wt.Vb(37,"span",49),Wt.Zb(38,50),Wt.Ub(),Wt.Ub(),Wt.Sc(39,Dr,8,2,"div",51),Wt.Sc(40,Br,4,1,"ng-container",12),Wt.Sc(41,zr,2,4,"ng-container",12),Wt.Ub(),Wt.Vb(42,"div",52),Wt.Sc(43,Wr,3,7,"div",53),Wt.Ub(),Wt.Ub(),Wt.Sc(44,$r,2,4,"div",54),Wt.Ub(),Wt.Ub(),Wt.Vb(45,"div",55),Wt.Vb(46,"div",56),Wt.Qb(47,"my-video-avatar-channel",57),Wt.Vb(48,"div",58),Wt.Sc(49,Gr,6,8,"ng-container",12),Wt.Sc(50,Jr,4,4,"ng-container",12),Wt.Ub(),Wt.Ub(),Wt.Qb(51,"my-subscribe-button",59,60),Wt.Ub(),Wt.Ub(),Wt.Ub(),Wt.Vb(53,"div",61),Wt.Vb(54,"div",62),Wt.jc("timestampClicked",function(e){return Wt.Jc(n),Wt.nc().handleTimestampClicked(e)}),Wt.Ub(),Wt.Sc(55,Zr,5,2,"div",63),Wt.Sc(56,Xr,4,1,"div",63),Wt.Ub(),Wt.Vb(57,"div",64),Wt.Vb(58,"div",65),Wt.Vb(59,"span",66),Wt.Zb(60,67),Wt.Ub(),Wt.Vb(61,"span",68),Wt.Uc(62),Wt.Ub(),Wt.Ub(),Wt.Sc(63,ea,5,2,"div",69),Wt.Sc(64,ta,6,4,"div",69),Wt.Vb(65,"div",65),Wt.Vb(66,"span",66),Wt.Zb(67,70),Wt.Ub(),Wt.Sc(68,na,2,1,"span",71),Wt.Sc(69,aa,2,8,"a",72),Wt.Ub(),Wt.Vb(70,"div",65),Wt.Vb(71,"span",66),Wt.Zb(72,73),Wt.Ub(),Wt.Sc(73,sa,2,1,"span",71),Wt.Sc(74,la,2,8,"a",72),Wt.Ub(),Wt.Vb(75,"div",65),Wt.Vb(76,"span",66),Wt.Zb(77,74),Wt.Ub(),Wt.Sc(78,ua,2,1,"span",71),Wt.Sc(79,ha,2,8,"a",72),Wt.Ub(),Wt.Vb(80,"div",75),Wt.Vb(81,"span",66),Wt.Zb(82,76),Wt.Ub(),Wt.Sc(83,fa,2,8,"a",77),Wt.Ub(),Wt.Sc(84,va,6,3,"div",69),Wt.Ub(),Wt.Vb(85,"my-video-comments",78),Wt.jc("timestampClicked",function(e){return Wt.Jc(n),Wt.nc().handleTimestampClicked(e)}),Wt.Ub(),Wt.Ub(),Wt.Vb(86,"my-recommended-videos",79),Wt.jc("gotRecommendations",function(e){return Wt.Jc(n),Wt.nc().onRecommendations(e)}),Wt.Ub(),Wt.Ub()}if(2&e){var i=Wt.Hc(26),o=Wt.nc();Wt.Cb(6),Wt.Vc(o.video.name),Wt.Cb(4),Wt.uc("date",o.video.publishedAt),Wt.Cb(2),Wt.uc("video",o.video),Wt.Cb(4),Wt.Vc(o.video.name),Wt.Cb(5),Wt.uc("date",o.video.publishedAt),Wt.Cb(2),Wt.uc("video",o.video),Wt.Cb(5),Wt.uc("ngbPopover",o.getRatePopoverText()&&i)("ngClass",Wt.yc(47,ga,"like"===o.userRating))("ngbTooltip",o.tooltipLike),Wt.Db("aria-pressed","like"===o.userRating)("aria-label",o.tooltipLike),Wt.Cb(2),Wt.uc("ngIf",o.video.likes),Wt.Cb(1),Wt.uc("ngbPopover",o.getRatePopoverText()&&i)("ngClass",Wt.yc(49,ga,"dislike"===o.userRating))("ngbTooltip",o.tooltipDislike),Wt.Db("aria-pressed","dislike"===o.userRating)("aria-label",o.tooltipDislike),Wt.Cb(2),Wt.uc("ngIf",o.video.dislikes),Wt.Cb(1),Wt.uc("ngIf",o.video.support),Wt.Cb(5),Wt.uc("ngIf",o.isUserLoggedIn()),Wt.Cb(1),Wt.uc("ngIf",!o.isUserLoggedIn()&&!o.isLive()),Wt.Cb(1),Wt.uc("ngIf",o.isUserLoggedIn()),Wt.Cb(2),Wt.uc("ngIf",0!==o.video.likes||0!==o.video.dislikes),Wt.Cb(1),Wt.uc("ngIf",0!==o.video.likes||0!==o.video.dislikes),Wt.Cb(3),Wt.uc("video",o.video)("genericChannel",o.isChannelDisplayNameGeneric()),Wt.Cb(2),Wt.uc("ngIf",!o.isChannelDisplayNameGeneric()),Wt.Cb(1),Wt.uc("ngIf",o.isChannelDisplayNameGeneric()),Wt.Cb(1),Wt.uc("videoChannels",Wt.yc(51,oa,o.video.channel)),Wt.Cb(3),Wt.uc("innerHTML",o.videoHTMLDescription,Wt.Kc),Wt.Cb(1),Wt.uc("ngIf",!1===o.completeDescriptionShown&&(null==o.video.description?null:o.video.description.length)>=250),Wt.Cb(1),Wt.uc("ngIf",!0===o.completeDescriptionShown),Wt.Cb(6),Wt.Vc(o.video.privacy.label),Wt.Cb(1),Wt.uc("ngIf",!1===o.video.isLocal),Wt.Cb(1),Wt.uc("ngIf",!!o.video.originallyPublishedAt),Wt.Cb(4),Wt.uc("ngIf",!o.video.category.id),Wt.Cb(1),Wt.uc("ngIf",o.video.category.id),Wt.Cb(4),Wt.uc("ngIf",!o.video.licence.id),Wt.Cb(1),Wt.uc("ngIf",o.video.licence.id),Wt.Cb(4),Wt.uc("ngIf",!o.video.language.id),Wt.Cb(1),Wt.uc("ngIf",o.video.language.id),Wt.Cb(4),Wt.uc("ngForOf",o.getVideoTags()),Wt.Cb(1),Wt.uc("ngIf",!o.video.isLive),Wt.Cb(1),Wt.uc("video",o.video)("user",o.user),Wt.Cb(1),Wt.uc("inputRecommendation",Wt.zc(53,ma,o.video.uuid,o.video.tags))("playlist",o.playlist)}}function ya(e,t){if(1&e){var n=Wt.Wb();Wt.Vb(0,"div",121),Wt.Vb(1,"div",122),Wt.Vb(2,"span",123),Wt.Vb(3,"strong"),Wt.Zb(4,124),Wt.Ub(),Wt.Tb(5),Wt.Zb(6,125),Wt.Sb(),Wt.Ub(),Wt.Vb(7,"a",126),Wt.Zb(8,127),Wt.Ub(),Wt.Ub(),Wt.Vb(9,"div",128),Wt.jc("click",function(){return Wt.Jc(n),Wt.nc().acceptedPrivacyConcern()}),Wt.Zb(10,129),Wt.Ub(),Wt.Ub()}}function _a(e,t){if(1&e&&(Wt.Tb(0),Wt.Qb(1,"my-video-support",32,130),Wt.Qb(3,"my-video-share",131,132),Wt.Sb()),2&e){var n=Wt.nc();Wt.Cb(1),Wt.uc("video",n.video),Wt.Cb(2),Wt.uc("video",n.video)("videoCaptions",n.videoCaptions)("playlist",n.playlist)}}var Ca,Pa,ka,Ta=function(e){return{"theater-enabled":e}},Oa=((Ca=function(){function e(t,n,i,o,r,a,s,c,l,u,d,h,p,f,v,g,m,b,y,_,C,P){Tt(this,e),this.elementRef=t,this.changeDetector=n,this.route=i,this.router=o,this.videoService=r,this.playlistService=a,this.confirmService=s,this.metaService=c,this.authService=l,this.userService=u,this.serverService=d,this.restExtractor=h,this.notifier=p,this.markdownService=f,this.zone=v,this.redirectService=g,this.videoCaptionService=m,this.hotkeysService=b,this.hooks=y,this.peertubeSocket=_,this.location=C,this.localeId=P,this.theaterEnabled=!1,this.userRating=null,this.descriptionLoading=!1,this.video=null,this.videoCaptions=[],this.playlist=null,this.completeDescriptionShown=!1,this.videoHTMLDescription="",this.likesBarTooltipText="",this.hasAlreadyAcceptedPrivacyConcern=!1,this.remoteServerDown=!1,this.hotkeys=[],this.tooltipLike="",this.tooltipDislike="",this.tooltipSupport="",this.tooltipSaveToPlaylist="",this.videoActionsOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0,liveInfo:!0},this.nextVideoUuid="",this.nextVideoTitle="",this.tooltipLike="Like deze video",this.tooltipDislike="Dislike deze video",this.tooltipSupport="Ondersteuningsopties voor deze video",this.tooltipSaveToPlaylist="Opslaan in afspeellijst"}return Mt(e,[{key:"ngOnInit",value:function(){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Oi.initState(),this.serverConfig=this.serverService.getTmpConfig(),this.configSub=this.serverService.getConfig().subscribe(function(t){n.serverConfig=t,(Object(Hn.i)()||!1===n.serverConfig.tracker.enabled||!1===Object(ln.d)()||"true"===sn.a.getItem(e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY))&&(n.hasAlreadyAcceptedPrivacyConcern=!0)}),this.paramsSub=this.route.params.subscribe(function(e){var t=e.videoId;t&&n.loadVideo(t);var i=e.playlistId;i&&n.loadPlaylist(i)}),this.queryParamsSub=this.route.queryParams.subscribe(function(e){n.playlistPosition=e.playlistPosition,n.videoWatchPlaylist.updatePlaylistIndex(n.playlistPosition);var t=e.start;n.player&&t&&n.player.currentTime(parseInt(t,10))}),this.initHotkeys(),this.theaterEnabled=Object(ln.f)(),this.hooks.runAction("action:video-watch.init","video-watch");case 1:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.flushPlayer(),this.paramsSub&&this.paramsSub.unsubscribe(),this.queryParamsSub&&this.queryParamsSub.unsubscribe(),this.configSub&&this.configSub.unsubscribe(),this.liveVideosSub&&this.liveVideosSub.unsubscribe(),this.hotkeysService.remove(this.hotkeys)}},{key:"setLike",value:function(){!1!==this.isUserLoggedIn()&&this.setRating("like"===this.userRating?"none":"like")}},{key:"setDislike",value:function(){!1!==this.isUserLoggedIn()&&this.setRating("dislike"===this.userRating?"none":"dislike")}},{key:"getRatePopoverText",value:function(){if(!this.isUserLoggedIn())return "Je moet <a href=\"/login\">laangemeld</a> zijn om deze video te beoordelen."}},{key:"showMoreDescription",value:function(){if(void 0===this.completeVideoDescription)return this.loadCompleteDescription();this.updateVideoDescription(this.completeVideoDescription),this.completeDescriptionShown=!0}},{key:"showLessDescription",value:function(){this.updateVideoDescription(this.shortVideoDescription),this.completeDescriptionShown=!1}},{key:"showDownloadModal",value:function(){this.videoDownloadModal.show(this.video,this.videoCaptions)}},{key:"isVideoDownloadable",value:function(){return this.video&&this.video instanceof St.o&&this.video.downloadEnabled&&!this.video.isLive}},{key:"loadCompleteDescription",value:function(){var e=this;this.descriptionLoading=!0,this.videoService.loadCompleteDescription(this.video.descriptionPath).subscribe(function(t){e.completeDescriptionShown=!0,e.descriptionLoading=!1,e.shortVideoDescription=e.video.description,e.completeVideoDescription=t,e.updateVideoDescription(e.completeVideoDescription)},function(t){e.descriptionLoading=!1,e.notifier.error(t.message)})}},{key:"showSupportModal",value:function(){var e=this,t=this.isPlaying();this.pausePlayer(),this.videoSupportModal.show().result.then(function(){t&&e.resumePlayer()})}},{key:"showShareModal",value:function(){this.pausePlayer(),this.videoShareModal.show(this.currentTime,this.videoWatchPlaylist.currentPlaylistPosition)}},{key:"isUserLoggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"getVideoTags",value:function(){return this.video&&!1!==Array.isArray(this.video.tags)?this.video.tags:[]}},{key:"onRecommendations",value:function(e){if(e.length>0){var t=e[0];this.nextVideoUuid=t.uuid,this.nextVideoTitle=t.name}}},{key:"onModalOpened",value:function(){this.pausePlayer()}},{key:"onVideoRemoved",value:function(){this.redirectService.redirectToHomepage()}},{key:"declinedPrivacyConcern",value:function(){sn.a.setItem(e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"false"),this.hasAlreadyAcceptedPrivacyConcern=!1}},{key:"acceptedPrivacyConcern",value:function(){sn.a.setItem(e.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"true"),this.hasAlreadyAcceptedPrivacyConcern=!0}},{key:"isVideoToTranscode",value:function(){return this.video&&2===this.video.state.id}},{key:"isVideoToImport",value:function(){return this.video&&3===this.video.state.id}},{key:"hasVideoScheduledPublication",value:function(){return this.video&&void 0!==this.video.scheduledUpdate}},{key:"isLive",value:function(){var e;return!!(null===(e=this.video)||void 0===e?void 0:e.isLive)}},{key:"isWaitingForLive",value:function(){var e;return 4===(null===(e=this.video)||void 0===e?void 0:e.state.id)}},{key:"isLiveEnded",value:function(){var e;return 5===(null===(e=this.video)||void 0===e?void 0:e.state.id)}},{key:"isVideoBlur",value:function(e){return e.isVideoNSFWForUser(this.user,this.serverConfig)}},{key:"isAutoPlayEnabled",value:function(){return this.user&&this.user.autoPlayNextVideo||this.anonymousUser.autoPlayNextVideo}},{key:"handleTimestampClicked",value:function(e){this.player&&!this.video.isLive&&(this.player.currentTime(e),Object(an.p)())}},{key:"isPlaylistAutoPlayEnabled",value:function(){return this.user&&this.user.autoPlayNextVideoPlaylist||this.anonymousUser.autoPlayNextVideoPlaylist}},{key:"isChannelDisplayNameGeneric",value:function(){return["Main ".concat(this.video.channel.ownerAccount.name," channel"),"Default ".concat(this.video.channel.ownerAccount.name," channel")].includes(this.video.channel.displayName)}},{key:"onPlaylistVideoFound",value:function(e){this.loadVideo(e)}},{key:"loadVideo",value:function(e){var t=this;if(!this.video||this.video.uuid!==e){this.player&&this.player.pause();var n=this.hooks.wrapObsFun(this.videoService.getVideo.bind(this.videoService),{videoId:e},"video-watch","filter:api.video-watch.video.get.params","filter:api.video-watch.video.get.result");Object(tn.a)([n,this.videoCaptionService.listCaptions(e)]).pipe(Object(nn.a)(function(e){if(1===e.body.errorCode&&e.body.originUrl){var n=window.location.search,i=e.body.originUrl;n&&(i+=n),t.confirmService.confirm("Deze video is niet beschikbaar op dit exemplaar van PeerTube. Wil je doorverwezen worden naar het originele exemplaar <a href=\"" + i + "\">" + i + "</a>?","Doorverwijzing").then(function(n){return!1===n?t.restExtractor.redirectTo404IfNotFound(e,[cn.a.BAD_REQUEST_400,cn.a.UNAUTHORIZED_401,cn.a.FORBIDDEN_403,cn.a.NOT_FOUND_404]):window.location.href=i})}return t.restExtractor.redirectTo404IfNotFound(e,[cn.a.BAD_REQUEST_400,cn.a.UNAUTHORIZED_401,cn.a.FORBIDDEN_403,cn.a.NOT_FOUND_404])})).subscribe(function(e){var n=pt(e,2),i=n[0],o=n[1],r=t.route.snapshot.queryParams;t.onVideoFetched(i,o.data,{resume:r.resume,startTime:r.start,stopTime:r.stop,muted:r.muted,loop:r.loop,subtitle:r.subtitle,playerMode:r.mode,peertubeLink:!1}).catch(function(e){return t.handleError(e)})})}}},{key:"loadPlaylist",value:function(e){var t=this;this.playlist&&this.playlist.uuid===e||this.playlistService.getVideoPlaylist(e).pipe(Object(nn.a)(function(e){return t.restExtractor.redirectTo404IfNotFound(e,[cn.a.BAD_REQUEST_400,cn.a.UNAUTHORIZED_401,cn.a.FORBIDDEN_403,cn.a.NOT_FOUND_404])})).subscribe(function(e){t.playlist=e,t.videoWatchPlaylist.loadPlaylistElements(e,!t.playlistPosition,t.playlistPosition)})}},{key:"updateVideoDescription",value:function(e){this.video.description=e,this.setVideoDescriptionHTML().catch(function(e){return console.error(e)})}},{key:"setVideoDescriptionHTML",value:function(){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.markdownService.textMarkdownToHTML(this.video.description);case 2:return t=e.sent,e.next=5,this.markdownService.processVideoTimestamps(t);case 5:this.videoHTMLDescription=e.sent;case 6:case"end":return e.stop()}},e,this)}))}},{key:"setVideoLikesBarTooltipText",value:function(){this.likesBarTooltipText="".concat(this.video.likes," likes / ").concat(this.video.dislikes," dislikes")}},{key:"handleError",value:function(e){var t="string"==typeof e?e:e.message;if(t)return-1!==t.indexOf("from xs param")?(this.flushPlayer(),this.remoteServerDown=!0,void this.changeDetector.detectChanges()):void this.notifier.error(t)}},{key:"checkUserRating",value:function(){var e=this;!1!==this.isUserLoggedIn()&&this.videoService.getUserVideoRating(this.video.id).subscribe(function(t){t&&(e.userRating=t.rating)},function(t){return e.notifier.error(t.message)})}},{key:"onVideoFetched",value:function(e,t,n){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r,a,s,c,l,u=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.subscribeToLiveEventsIfNeeded(this.video,e),this.video=e,this.videoCaptions=t,this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.remoteServerDown=!1,this.currentTime=void 0,i.t0=this.isVideoBlur(this.video),!i.t0){i.next=14;break}return i.t1=!1,i.next=12,this.confirmService.confirm("Deze video bevat volwassen of expliciete inhoud. Weet je zeker dat je hem wilt kijken?","Volwassen of expliciete content");case 12:i.t2=i.sent,i.t0=i.t1===i.t2;case 14:if(!i.t0){i.next=16;break}return i.abrupt("return",this.location.back());case 16:if(5!==(o=this.video.state.id)&&4!==o){i.next=19;break}return i.abrupt("return");case 19:return this.flushPlayer(),r=this.elementRef.nativeElement.querySelector("#videojs-wrapper"),this.playerElement=document.createElement("video"),this.playerElement.className="video-js vjs-peertube-skin",this.playerElement.setAttribute("playsinline","true"),r.appendChild(this.playerElement),a={video:this.video,videoCaptions:t,urlOptions:n,user:this.user},i.next=25,this.hooks.wrapFun(this.buildPlayerManagerOptions.bind(this),a,"video-watch","filter:internal.video-watch.player.build-options.params","filter:internal.video-watch.player.build-options.result");case 25:s=i.sent,c=s.playerMode,l=s.playerOptions,this.zone.runOutsideAngular(function(){return Object(Xt.a)(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi.initialize(c,l,function(e){return t.player=e});case 2:this.player=e.sent,this.player.on("customError",function(e){var n=e.err;return t.handleError(n)}),this.player.on("timeupdate",function(){t.currentTime=Math.floor(t.player.currentTime())}),this.player.upnext({timeout:1e4,headText:"Volgende",cancelText:"Annuleren",suspendedText:"Automatisch afspelen is opgeschort",getTitle:function(){return t.nextVideoTitle},next:function(){return t.zone.run(function(){return t.autoplayNext()})},condition:function(){if(t.playlist)t.isPlaylistAutoPlayEnabled()&&t.zone.run(function(){return t.videoWatchPlaylist.navigateToNextPlaylistVideo()});else if(t.isAutoPlayEnabled())return!0;return!1},suspended:function(){return!Object(an.j)(t.player.el(),80)||!document.getElementById("content").contains(document.activeElement)}}),this.player.one("stopped",function(){t.playlist&&t.isPlaylistAutoPlayEnabled()&&t.zone.run(function(){return t.videoWatchPlaylist.navigateToNextPlaylistVideo()})}),this.player.one("ended",function(){t.video.isLive&&(t.video.state.id=5)}),this.player.on("theaterChange",function(e,n){t.zone.run(function(){return t.theaterEnabled=n})}),this.hooks.runAction("action:video-watch.player.loaded","video-watch",{player:this.player,videojs:pn.a,video:this.video});case 10:case"end":return e.stop()}},e,this)}))}),this.setVideoDescriptionHTML(),this.setVideoLikesBarTooltipText(),this.setOpenGraphTags(),this.checkUserRating(),this.hooks.runAction("action:video-watch.video.loaded","video-watch",{videojs:pn.a});case 29:case"end":return i.stop()}},i,this)}))}},{key:"autoplayNext",value:function(){var e=this;this.playlist?this.zone.run(function(){return e.videoWatchPlaylist.navigateToNextPlaylistVideo()}):this.nextVideoUuid&&this.router.navigate(["/videos/watch",this.nextVideoUuid])}},{key:"setRating",value:function(e){var t=this;({like:this.videoService.setVideoLike,dislike:this.videoService.setVideoDislike,none:this.videoService.unsetVideoLike})[e].call(this.videoService,this.video.id).subscribe(function(){t.updateVideoRating(t.userRating,e),t.userRating=e},function(e){return t.notifier.error(e.message)})}},{key:"updateVideoRating",value:function(e,t){var n=0,i=0;e&&("like"===e&&n--,"dislike"===e&&i--),"like"===t&&n++,"dislike"===t&&i++,this.video.likes+=n,this.video.dislikes+=i,this.video.buildLikeAndDislikePercents(),this.setVideoLikesBarTooltipText()}},{key:"setOpenGraphTags",value:function(){this.metaService.setTitle(this.video.name),this.metaService.setTag("og:type","video"),this.metaService.setTag("og:title",this.video.name),this.metaService.setTag("name",this.video.name),this.metaService.setTag("og:description",this.video.description),this.metaService.setTag("description",this.video.description),this.metaService.setTag("og:image",this.video.previewPath),this.metaService.setTag("og:duration",this.video.duration.toString()),this.metaService.setTag("og:site_name","PeerTube"),this.metaService.setTag("og:url",window.location.href),this.metaService.setTag("url",window.location.href)}},{key:"isAutoplay",value:function(){return!(this.route.snapshot.params.threadId||this.user&&!1===this.user.autoPlayVideo)}},{key:"flushPlayer",value:function(){if(this.player)try{this.player.dispose(),this.player=void 0}catch(e){console.error("Cannot dispose player.",e)}}},{key:"buildPlayerManagerOptions",value:function(e){var t,n=this,i=e.video,o=e.videoCaptions,r=e.urlOptions,a=e.user,s=(t=i.userHistory&&(!n.playlist||void 0!==r.resume),void 0!==r.startTime?Object(Hn.k)(r.startTime):t?i.userHistory.currentTime:0);i.duration-s<=1&&(s=0);var c,l=o.map(function(e){return{label:e.language.label,language:e.language.id,src:Mi.a.apiUrl+e.captionPath}}),u={common:{autoplay:this.isAutoplay(),nextVideo:function(){return n.zone.run(function(){return n.autoplayNext()})},playerElement:this.playerElement,onPlayerElementChange:function(e){return n.playerElement=e},videoDuration:i.duration,enableHotkeys:!0,inactivityTimeout:2500,poster:i.previewUrl,startTime:s,stopTime:r.stopTime,controls:r.controls,muted:r.muted,loop:r.loop,subtitle:r.subtitle,peertubeLink:r.peertubeLink,theaterButton:!0,captions:0!==o.length,videoViewUrl:3!==i.privacy.id?this.videoService.getVideoViewUrl(i.uuid):null,embedUrl:i.embedUrl,isLive:i.isLive,language:this.localeId,userWatching:a&&!0===a.videosHistoryEnabled?{url:this.videoService.getUserWatchingVideoUrl(i.uuid),authorizationHeader:this.authService.getRequestHeaderValue()}:void 0,serverUrl:Mi.a.apiUrl,videoCaptions:l},webtorrent:{videoFiles:i.files}};if(c=r.playerMode?"p2p-media-loader"===r.playerMode?"p2p-media-loader":"webtorrent":i.hasHlsPlaylist()?"p2p-media-loader":"webtorrent","undefined"==typeof TextEncoder&&(c="webtorrent"),"p2p-media-loader"===c){var d=i.getHlsPlaylist(),h={playlistUrl:d.playlistUrl,segmentsSha256Url:d.segmentsSha256Url,redundancyBaseUrls:d.redundancies.map(function(e){return e.baseUrl}),trackerAnnounce:i.trackerUrls,videoFiles:d.files};Object.assign(u,{p2pMediaLoader:h})}return{playerMode:c,playerOptions:u}}},{key:"pausePlayer",value:function(){this.player&&this.player.pause()}},{key:"resumePlayer",value:function(){this.player&&this.player.play()}},{key:"isPlaying",value:function(){if(this.player)return!this.player.paused()}},{key:"subscribeToLiveEventsIfNeeded",value:function(e,t){return Object(Xt.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.liveVideosSub||(this.liveVideosSub=this.buildLiveEventsSubscription()),n.t0=e&&e.id!==t.id,!n.t0){n.next=5;break}return n.next=5,this.peertubeSocket.unsubscribeLiveVideos(e.id);case 5:if(n.t1=t.isLive,!n.t1){n.next=9;break}return n.next=9,this.peertubeSocket.subscribeToLiveVideosSocket(t.id);case 9:case"end":return n.stop()}},n,this)}))}},{key:"buildLiveEventsSubscription",value:function(){var e=this;return this.peertubeSocket.getLiveVideosObservable().subscribe(function(t){var n=t.type,i=t.payload;return"state-change"===n?e.handleLiveStateChange(i.state):"views-change"===n?e.handleLiveViewsChange(i.views):void 0})}},{key:"handleLiveStateChange",value:function(e){if(1===e){var t=this.video.state.id;if(4===t||5===t){console.log("Loading video after live update.");var n=this.video.uuid;this.video=void 0,this.loadVideo(n)}}}},{key:"handleLiveViewsChange",value:function(e){this.video?(console.log("Updating live views."),this.video.views=e):console.error("Cannot update video live views because video is no defined.")}},{key:"initHotkeys",value:function(){var e=this;this.hotkeys=[new en.a("f",function(e){return e},void 0,"Volledig scherm ingaan/uitgaan (vereist focus op afspeler)"),new en.a("space",function(e){return e},void 0,"De video afspelen/pauseren (vereist focus op de afspeler)"),new en.a("m",function(e){return e},void 0,"De video dempen of niet meer dempen (vereist focus op de speler)"),new en.a("0-9",function(e){return e},void 0,"Naar een percentage van de video springen: 0 is 0% and 9 is 90% (vereist focus op de speler)"),new en.a("up",function(e){return e},void 0,"Het volume verhogen (vereist focus op de speler)"),new en.a("down",function(e){return e},void 0,"Het volume verlagen (vereist focus op de speler)"),new en.a("right",function(e){return e},void 0,"Vooruitspringen in de video (vereist focus op de speler)"),new en.a("left",function(e){return e},void 0,"Achteruit springen in de video (vereist focus op de speler)"),new en.a(">",function(e){return e},void 0,"Afspelen versnellen (vereist focus op de speler)"),new en.a("<",function(e){return e},void 0,"Afspelen vertragen (vereist focus op de speler)"),new en.a(".",function(e){return e},void 0,"Frame per frame door de video navigeren (vereist focus op de speler)")],this.isUserLoggedIn()&&(this.hotkeys=this.hotkeys.concat([new en.a("shift+l",function(){return e.setLike(),!1},void 0,"Like de video"),new en.a("shift+d",function(){return e.setDislike(),!1},void 0,"Dislike de video"),new en.a("shift+s",function(){return e.subscribeButton.subscribed?e.subscribeButton.unsubscribe():e.subscribeButton.subscribe(),!1},void 0,"Abonneren op account")])),this.hotkeysService.add(this.hotkeys)}},{key:"user",get:function(){return this.authService.getUser()}},{key:"anonymousUser",get:function(){return this.userService.getAnonymousUser()}}]),e}()).LOCAL_STORAGE_PRIVACY_CONCERN_KEY="video-watch-privacy-concern",Ca.\u0275fac=function(e){return new(e||Ca)(Wt.Pb(Wt.l),Wt.Pb(Wt.h),Wt.Pb(Zt.a),Wt.Pb(Zt.h),Wt.Pb(St.s),Wt.Pb(Rt.b),Wt.Pb(Ht.d),Wt.Pb(Qt.d),Wt.Pb(Ht.a),Wt.Pb(Ht.D),Wt.Pb(Ht.x),Wt.Pb(Ht.r),Wt.Pb(Ht.m),Wt.Pb(Ht.j),Wt.Pb(Wt.B),Wt.Pb(rn.a),Wt.Pb(St.l),Wt.Pb(en.c),Wt.Pb(on.a),Wt.Pb(Ht.n),Wt.Pb(Dt.v),Wt.Pb(Wt.v))},Ca.\u0275cmp=Wt.Jb({type:Ca,selectors:[["my-video-watch"]],viewQuery:function(e,t){var n;1&e&&(Wt.Pc(Pr,!0),Wt.Yc(kr,!0),Wt.Yc(Tr,!0),Wt.Yc(Or,!0),Wt.Yc(Mr,!0)),2&e&&(Wt.Gc(n=Wt.kc())&&(t.videoWatchPlaylist=n.first),Wt.Gc(n=Wt.kc())&&(t.videoShareModal=n.first),Wt.Gc(n=Wt.kc())&&(t.videoSupportModal=n.first),Wt.Gc(n=Wt.kc())&&(t.subscribeButton=n.first),Wt.Gc(n=Wt.kc())&&(t.videoDownloadModal=n.first))},decls:16,vars:14,consts:function(){return[[1,"root",3,"ngClass"],["id","video-wrapper"],["class","remote-server-down",4,"ngIf"],["id","videojs-wrapper"],[1,"playlist",3,"playlist","videoFound"],["videoWatchPlaylist",""],[1,"row"],["class","col-md-12 alert alert-warning",4,"ngIf"],["class","col-md-12 alert alert-info",4,"ngIf"],["class","col-md-12 alert alert-danger",4,"ngIf"],["class","margin-content video-bottom",4,"ngIf"],["class","row privacy-concerns",4,"ngIf"],[4,"ngIf"],[1,"remote-server-down"],[1,"col-md-12","alert","alert-warning"],"\n      De video wordt ge\xEFmporteerd en is beschikbaar wanneer het importeren is voltooid.\n    ","\n      De video wordt getranscodeerd, deze werkt mogelijk niet correct.\n    ",[1,"col-md-12","alert","alert-info"],"\n      Deze video wordt gepubliceerd op \n          " + "\ufffd0\ufffd" + ".\n    \n        ","Deze live-uitzending is nog niet begonnen.","Deze live-uitzending is voorbij.",[1,"col-md-12","alert","alert-danger"],[1,"blocked-label"],"Deze video is geblokkeerd.",[1,"margin-content","video-bottom"],[1,"video-info"],[1,"video-info-first-row"],[1,"d-block","d-md-none"],[1,"video-info-name"],[1,"video-info-date-views"],"Gepubliceerd op " + "\ufffd#10\ufffd" + "" + "\ufffd/#10\ufffd" + "",[3,"date"],[3,"video"],[1,"d-flex","justify-content-between","flex-direction-column"],[1,"d-none","d-md-block"],[1,"video-info-first-row-bottom"],[1,"d-none","d-md-block","video-info-date-views"],"Gepubliceerd op " + "\ufffd#21\ufffd" + "" + "\ufffd/#21\ufffd" + "",[1,"video-actions-rates"],["ratePopoverText",""],[1,"video-actions","fullWidth","justify-content-end"],["placement","bottom auto",1,"action-button","action-button-like",3,"ngbPopover","ngClass","ngbTooltip","click","keyup.enter"],["iconName","like"],["class","count",4,"ngIf"],["placement","bottom auto",1,"action-button","action-button-dislike",3,"ngbPopover","ngClass","ngbTooltip","click","keyup.enter"],["iconName","dislike"],["class","action-button action-button-support","placement","bottom auto",3,"ngbTooltip","click","keyup.enter",4,"ngIf"],[1,"action-button",3,"click","keyup.enter"],["iconName","share","aria-hidden","true"],[1,"icon-text"],"DELEN",["class","action-dropdown","ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",3,"ngbTooltip","openChange",4,"ngIf"],[1,"video-info-likes-dislikes-bar-outer-container"],["class","video-info-likes-dislikes-bar-inner-container","placement","bottom",3,"ngbTooltip",4,"ngIf"],["class","video-info-likes-dislikes-bar","placement","bottom",3,"ngbTooltip",4,"ngIf"],[1,"pt-3","border-top","video-info-channel","d-flex"],[1,"video-info-channel-left","d-flex"],[3,"video","genericChannel"],[1,"video-info-channel-left-links","ml-1"],["size","small",3,"videoChannels"],["subscribeButton",""],[1,"video-info-description"],["timestampRouteTransformer","",1,"video-info-description-html",3,"innerHTML","timestampClicked"],["class","video-info-description-more",3,"click",4,"ngIf"],[1,"video-attributes","mb-3"],[1,"video-attribute"],[1,"video-attribute-label"],"Privacy",[1,"video-attribute-value"],["class","video-attribute",4,"ngIf"],"Categorie",["class","video-attribute-value",4,"ngIf"],["class","video-attribute-value",3,"routerLink","queryParams",4,"ngIf"],"Licentie","Taal",[1,"video-attribute","video-attribute-tags"],"Tags",["class","video-attribute-value",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"border-top",3,"video","user","timestampClicked"],[3,"inputRecommendation","playlist","gotRecommendations"],[3,"innerHTML"],[1,"count"],["placement","bottom auto",1,"action-button","action-button-support",3,"ngbTooltip","click","keyup.enter"],["iconName","support","aria-hidden","true"],"ONDERSTEUNING",["ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",1,"action-dropdown",3,"ngbTooltip","openChange"],["ngbDropdownToggle","",1,"action-button","action-button-save"],["iconName","playlist-add","aria-hidden","true"],"OPSLAAN",["ngbDropdownMenu",""],["addContent",""],["class","action-button action-button-save",3,"click","keydown.enter",4,"ngIf"],["videoDownloadModal",""],[1,"action-button","action-button-save",3,"click","keydown.enter"],["iconName","download","aria-hidden","true"],[1,"icon-text","d-none","d-sm-inline"],"DOWNLOADEN",["placement","bottom auto","buttonDirection","horizontal",3,"buttonStyled","video","videoCaptions","displayOptions","videoRemoved","modalOpened"],["placement","bottom",1,"video-info-likes-dislikes-bar-inner-container",3,"ngbTooltip"],[1,"video-info-likes-dislikes-bar"],[1,"likes-bar",3,"ngClass","ngStyle"],["placement","bottom",1,"video-info-likes-dislikes-bar",3,"ngbTooltip"],[1,"likes-bar",3,"ngStyle"],["title","Kanaalpagina",3,"routerLink"],["title","Accountpagina",3,"routerLink"],"Door " + "\ufffd0\ufffd" + "",["title","Accountpagina",1,"single-link",3,"routerLink"],"" + "\ufffd0\ufffd" + " ",[1,"video-info-description-more",3,"click"],"Meer laten zien",["class","glyphicon glyphicon-menu-down",4,"ngIf"],[1,"description-loading",3,"loading"],[1,"glyphicon","glyphicon-menu-down"],"Laat minder zien",["class","glyphicon glyphicon-menu-up",4,"ngIf"],[1,"glyphicon","glyphicon-menu-up"],"Bronexemplaar van PeerTube",["target","_blank","rel","noopener noreferrer",1,"video-attribute-value",3,"href"],"Oorspronkelijk gepubliceerd",[1,"video-attribute-value",3,"routerLink","queryParams"],"Tijdsduur",[1,"row","privacy-concerns"],[1,"privacy-concerns-text"],[1,"mr-2"],"Vriendelijke Herinnering:","het deelsysteem voor deze video maakt dat technische gegevens over je systeem (onder meer je pubieke ip-adres) bij andere deelnemers kunnen terechtkomen.",["title","Meer informatie krijgen","target","_blank","rel","noopener noreferrer","href","/about/peertube#privacy"],"Meer informatie",[1,"privacy-concerns-button","privacy-concerns-okay",3,"click"],"OK",["videoSupportModal",""],[3,"video","videoCaptions","playlist"],["videoShareModal",""]]},template:function(e,t){1&e&&(Wt.Vb(0,"div",0),Wt.Vb(1,"div",1),Wt.Sc(2,wr,4,0,"div",2),Wt.Qb(3,"div",3),Wt.Vb(4,"my-video-watch-playlist",4,5),Wt.jc("videoFound",function(e){return t.onPlaylistVideoFound(e)}),Wt.Ub(),Wt.Ub(),Wt.Vb(6,"div",6),Wt.Sc(7,xr,2,0,"div",7),Wt.Sc(8,Sr,2,0,"div",7),Wt.Sc(9,Er,3,4,"div",8),Wt.Sc(10,Ir,2,0,"div",8),Wt.Sc(11,jr,2,0,"div",8),Wt.Sc(12,Lr,4,1,"div",9),Wt.Ub(),Wt.Sc(13,ba,87,56,"div",10),Wt.Sc(14,ya,11,0,"div",11),Wt.Ub(),Wt.Sc(15,_a,5,4,"ng-container",12)),2&e&&(Wt.uc("ngClass",Wt.yc(12,Ta,t.theaterEnabled)),Wt.Cb(2),Wt.uc("ngIf",t.remoteServerDown),Wt.Cb(2),Wt.uc("playlist",t.playlist),Wt.Cb(3),Wt.uc("ngIf",t.isVideoToImport()),Wt.Cb(1),Wt.uc("ngIf",t.isVideoToTranscode()),Wt.Cb(1),Wt.uc("ngIf",t.hasVideoScheduledPublication()),Wt.Cb(1),Wt.uc("ngIf",t.isWaitingForLive()),Wt.Cb(1),Wt.uc("ngIf",t.isLiveEnded()),Wt.Cb(1),Wt.uc("ngIf",null==t.video?null:t.video.blacklisted),Wt.Cb(1),Wt.uc("ngIf",t.video),Wt.Cb(1),Wt.uc("ngIf",!1===t.hasAlreadyAcceptedPrivacyConcern),Wt.Cb(1),Wt.uc("ngIf",null!==t.video))},directives:[Dt.l,Dt.n,Fi,Hi.a,Wi.a,wi.x,wi.z,xi.a,$i.a,Ki.a,qi,Dt.m,sr,gr,wi.f,wi.l,wi.j,mr.a,br.a,yr.a,Dt.o,Zt.k,zo.a,ji,_r.a],pipes:[Dt.e,Cr.a],styles:['.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 50px - 115px)}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]     .video-js{height:calc(100vh - 50px - 115px);width:100%;max-width:none}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:none;border-bottom:1px solid rgba(0,0,0,.1)!important}.blocked-label[_ngcontent-%COMP%]{font-weight:600}#video-wrapper[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1;height:66vh}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;align-items:center;text-align:center;justify-content:center;background-color:#141313;width:100%;font-size:24px;height:500px}@media screen and (max-width:1000px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%]{font-size:16px}}#video-wrapper[_ngcontent-%COMP%]     .video-js{width:100%;max-width:calc(66vh * 1.7);height:66vh}#video-wrapper[_ngcontent-%COMP%]     .video-js video{outline:0;position:relative!important}@media screen and (max-width:600px){#video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{height:calc(100vw / 1.7)!important}#video-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]     .video-js{width:100vw;height:calc(100vw / 1.7)!important}}.alert[_ngcontent-%COMP%]{text-align:center;border-radius:0}.flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}#video-not-found[_ngcontent-%COMP%]{height:300px;line-height:300px;margin-top:50px;text-align:center;font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]{display:flex;margin-top:1.5rem}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{flex-grow:1;min-width:1px;max-width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]{display:flex}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{margin-right:30px;min-height:40px;font-size:27px;font-weight:600;flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-first-row-bottom[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;width:100%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{align-self:start;margin-bottom:10px;margin-right:10px;font-size:1em}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:18px;height:18px;min-width:18px;min-height:18px;margin:-2px 5px 0 0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]{flex-grow:1}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;line-height:1.37}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){font-weight:500;font-size:90%}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   .video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a.single-link[_ngcontent-%COMP%]{margin-top:7px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-channel[_ngcontent-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-left:5px;margin-top:1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{align-items:start;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 0 10px auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-left:5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button{border:none;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;cursor:pointer;font-size:100%;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background-color:transparent!important;color:var(--actionButtonColor);text-transform:uppercase}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button my-global-icon{position:relative;width:21px;margin-right:0;top:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   .feather, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   .material{color:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[fill="#000"]{fill:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg circle[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg g[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg path[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg polygon[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg rect[stroke="#000"]{stroke:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button   svg stop[stop-color="#000"]{stop-color:var(--actionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:after{display:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like{filter:brightness(120%)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like .count{margin:0 5px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   .feather, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   .material{color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[fill="#000"]{fill:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg circle[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg g[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg path[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg polygon[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg rect[stroke="#000"]{stroke:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-like.activated my-global-icon   svg stop[stop-color="#000"]{stop-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated .count, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   .feather, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   .material{color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[fill="#000"]{fill:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg circle[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg g[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg path[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg polygon[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg rect[stroke="#000"]{stroke:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-dislike.activated my-global-icon   svg stop[stop-color="#000"]{stop-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   .feather, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   .material{color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[fill="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[fill="#000"]{fill:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg circle[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg g[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg path[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg polygon[stroke="#000"], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg rect[stroke="#000"]{stroke:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   svg stop[stop-color="#000"]{stop-color:var(--supportButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-support my-global-icon   path:first-child{fill:var(--supportButtonHeartColor)!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button.action-button-save my-global-icon{top:0!important;right:-1px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-actions[_ngcontent-%COMP%]    .action-button .icon-text{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-outer-container[_ngcontent-%COMP%]{position:relative}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar-inner-container[_ngcontent-%COMP%]{position:absolute;height:20px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]{height:2px;margin-top:-2px;width:120px;background-color:#ccc;position:relative;top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar[_ngcontent-%COMP%]{height:100%;background-color:#909090}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]   .video-info-likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar.liked[_ngcontent-%COMP%]{background-color:var(--activatedActionButtonColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin:20px 0 20px 44px;font-size:15px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]     a{text-decoration:none}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%], .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:3px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{display:inline-block}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:var(--greyForegroundColor);font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:relative;top:2px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]{margin-left:44px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   .video-attribute-label[_ngcontent-%COMP%]{min-width:142px;padding-right:5px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:active, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:focus, .video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]   a.video-attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute.video-attribute-tags[_ngcontent-%COMP%]   .video-attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:15px;min-width:238px}@media screen and (min-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos{width:-webkit-min-content;width:-moz-min-content;width:min-content}}.video-bottom[_ngcontent-%COMP%]     .other-videos .title-page{margin:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos .video-miniature{display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:100%;padding-bottom:20px;flex-wrap:wrap}@media screen and (max-width:1086px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:1rem}}@media screen and (max-width:500px){.video-bottom[_ngcontent-%COMP%]     .other-videos .video-bottom{margin-left:0;margin-top:.5rem}}my-video-comments[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}.privacy-concerns[_ngcontent-%COMP%]{z-index:17001;width:calc(100% - 240px)}@media screen and (max-width:800px){.privacy-concerns[_ngcontent-%COMP%]{margin-left:225px}}.expanded[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{width:100%;margin-left:-15px}.privacy-concerns[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:20;padding:5px 15px;display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;background-color:rgba(0,0,0,.9);color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0 5px}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor);transition:color .3s}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.privacy-concerns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-button[_ngcontent-%COMP%]{padding:5px 8px 5px 7px;margin-left:auto;border-radius:3px;white-space:nowrap;cursor:pointer;transition:background-color .3s;font-weight:600}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-button[_ngcontent-%COMP%]:hover{background-color:#000}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-okay[_ngcontent-%COMP%]{background-color:var(--mainColor);margin-left:10px}@media screen and (max-width:1600px){.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-attributes[_ngcontent-%COMP%]   .video-attribute[_ngcontent-%COMP%]{margin-bottom:5px}}@media screen and (max-width:1300px){.privacy-concerns[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.privacy-concerns[_ngcontent-%COMP%]   .privacy-concerns-text[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width:1100px){#video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:none;border-bottom:1px solid rgba(0,0,0,.1)!important}.video-bottom[_ngcontent-%COMP%]{flex-direction:column}.video-bottom[_ngcontent-%COMP%]     .other-videos{padding-left:0!important}.video-bottom[_ngcontent-%COMP%]     .other-videos   .video-miniature{flex-direction:row;width:auto}}@media screen and (max-width:600px){.video-bottom[_ngcontent-%COMP%]{margin-top:20px!important;padding-bottom:20px!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{padding:0}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:20px;height:auto}  .other-videos .video-miniature{flex-direction:column}.privacy-concerns[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:450px){.video-bottom[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:none!important}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-info-date-views[_ngcontent-%COMP%]{font-size:14px}.video-bottom[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-first-row[_ngcontent-%COMP%]   .video-actions-rates[_ngcontent-%COMP%]{margin-top:10px}.video-bottom[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{font-size:14px!important}}#video-wrapper[_ngcontent-%COMP%]     .video-js.vjs-fullscreen{max-width:unset}']}),Ca),Ma=[{path:"playlist/:playlistId",component:Oa,canActivate:[Qt.a]},{path:":videoId/comments/:commentId",redirectTo:":videoId"},{path:":videoId",component:Oa,canActivate:[Qt.a]}],wa=((ka=function e(){Tt(this,e)}).\u0275mod=Wt.Nb({type:ka}),ka.\u0275inj=Wt.Mb({factory:function(e){return new(e||ka)},imports:[[Zt.l.forChild(Ma)],Zt.l]}),ka),xa=((Pa=function e(){Tt(this,e)}).\u0275mod=Wt.Nb({type:Pa}),Pa.\u0275inj=Wt.Mb({factory:function(e){return new(e||Pa)},providers:[Nt.a],imports:[[wa,Yt,St.h,wt.c,At.b,Rt.a,jt.a,Et.g,xt.a,Vt.a,It.a,Lt.a]]}),Pa)},SksO:function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},Trnl:function(e,t,n){"use strict";function i(){var e=g("volume");if(null!=e){var t=parseFloat(e);if(isNaN(t))return;return t}}function o(){var e=g("webtorrent_enabled");return null==e||"true"===e}function r(){var e=g("mute");if(null!=e)return"true"===e}function a(){var e=g("theater-enabled");return null!=e&&"true"===e}function s(){var e=g("video-quality");if(null!=e)return e}function c(e){return m("video-quality",e)}function l(e){return m("volume",e.toString())}function u(e){return m("mute",e.toString())}function d(e){return m("theater-enabled",e.toString())}function h(e){return m("average-bandwidth",e.toString())}function p(){var e=g("average-bandwidth");if(null!=e){var t=parseInt(e,10);if(isNaN(t))return;return t}}function f(e){return m("last-subtitle",e)}function v(){return g("last-subtitle")}function g(e){try{return localStorage.getItem("peertube-videojs-"+e)}catch(t){return}}function m(e,t){try{localStorage.setItem("peertube-videojs-"+e,t)}catch(n){}}n.d(t,"g",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"k",function(){return c}),n.d(t,"m",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"h",function(){return h}),n.d(t,"a",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"b",function(){return v})},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},ZyuO:function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},a1gu:function(e,t,n){var i=n("cDf5"),o=n("PJYZ");e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?o(e):t}},b48C:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},cmjK:function(e,t,n){var i,o,r;r=function(e){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.27"}),(e.registerPlugin||e.plugin)("hotkeys",function(t){var n=this,i=n.el(),o=document,r=(t=(e.mergeOptions||e.util.mergeOptions)({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},t||{})).volumeStep,a=t.seekStep,s=t.enableMute,c=t.enableVolumeScroll,l=t.enableHoverScroll,u=t.enableFullscreen,d=t.enableNumbers,h=t.enableJogStyle,p=t.alwaysCaptureHotkeys,f=t.captureDocumentHotkeys,v=t.documentHotkeysFocusElementFilter,g=t.enableModifiersForNumbers,m=t.enableInactiveFocus,b=t.skipInitialFocus,y=e.VERSION;i.hasAttribute("tabIndex")||i.setAttribute("tabIndex","-1"),i.style.outline="none",!p&&n.autoplay()||b||n.one("play",function(){i.focus()}),m&&n.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){n.off("useractive",e);var t=o.activeElement,r=i.querySelector(".vjs-control-bar");t&&t.parentElement==r&&i.focus()},10);n.one("useractive",e)}),n.on("play",function(){var e=i.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var _=function(e){var a,c,l=e.which,m=e.preventDefault.bind(e),b=n.duration();if(n.controls()){var y=o.activeElement;if(p||f&&v(y)||y==i||y==i.querySelector(".vjs-tech")||y==i.querySelector(".vjs-control-bar")||y==i.querySelector(".iframeblocker"))switch(T(e,n)){case 1:m(),(p||f)&&e.stopPropagation(),n.paused()?M(n.play()):n.pause();break;case 2:a=!n.paused(),m(),a&&n.pause(),(c=n.currentTime()-O(e))<=0&&(c=0),n.currentTime(c),a&&M(n.play());break;case 3:a=!n.paused(),m(),a&&n.pause(),(c=n.currentTime()+O(e))>=b&&(c=a?b-.001:b),n.currentTime(c),a&&M(n.play());break;case 5:m(),h?(c=n.currentTime()-1,n.currentTime()<=1&&(c=0),n.currentTime(c)):n.volume(n.volume()-r);break;case 4:m(),h?((c=n.currentTime()+1)>=b&&(c=b),n.currentTime(c)):n.volume(n.volume()+r);break;case 6:s&&n.muted(!n.muted());break;case 7:u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:if((l>47&&l<59||l>95&&l<106)&&(g||!(e.metaKey||e.ctrlKey||e.altKey))&&d){var _=48;l>95&&(_=96);var C=l-_;m(),n.currentTime(n.duration()*C*.1)}for(var P in t.customKeys){var k=t.customKeys[P];k&&k.key&&k.handler&&k.key(e)&&(m(),k.handler(n,t,e))}}}},C=!1,P=i.querySelector(".vjs-volume-menu-button")||i.querySelector(".vjs-volume-panel");null!=P&&(P.onmouseover=function(){C=!0},P.onmouseout=function(){C=!1});var k=function(e){if(l)var t=0;else t=o.activeElement;if(n.controls()&&(p||t==i||t==i.querySelector(".vjs-tech")||t==i.querySelector(".iframeblocker")||t==i.querySelector(".vjs-control-bar")||C)&&c){e=window.event||e;var a=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==a?n.volume(n.volume()+r):-1==a&&n.volume(n.volume()-r)}},T=function(e,n){return t.playPauseKey(e,n)?1:t.rewindKey(e,n)?2:t.forwardKey(e,n)?3:t.volumeUpKey(e,n)?4:t.volumeDownKey(e,n)?5:t.muteKey(e,n)?6:t.fullscreenKey(e,n)?7:void 0};function O(e){return"function"==typeof a?a(e):a}function M(e){null!=e&&"function"==typeof e.then&&e.then(null,function(e){})}return n.on("keydown",_),n.on("dblclick",function(e){if(null!=y&&y<="7.1.0"&&n.controls()){var t=e.relatedTarget||e.toElement||o.activeElement;t!=i&&t!=i.querySelector(".vjs-tech")&&t!=i.querySelector(".iframeblocker")||u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}}),n.on("mousewheel",k),n.on("DOMMouseScroll",k),f&&document.addEventListener("keydown",function(e){_(e)}),this})},"undefined"!=typeof window&&window.videojs?r(window.videojs):(i=[n("x3Ew")],void 0===(o=(function(e){return r(e.default||e)}).apply(t,i))||(e.exports=o))},g2LC:function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},jBAH:function(e,t){e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(o){i=o}return[i,n]}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},sDzi:function(e,t){var n={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function o(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}function r(e,t,i){this.hasBeenReset=!1;var r="",a=!1,s=e,c=t,l=i,u=null,d="",h=!0,p="auto",f="start",v="auto",g="auto",m=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(e){r=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(e){l=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=o(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=o(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(e){var t=o(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=t,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},sXyB:function(e,t,n){var i=n("SksO"),o=n("b48C");function r(t,n,a){return e.exports=r=o()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&i(r,n.prototype),r},r.apply(null,arguments)}e.exports=r},vgmO:function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},x3Ew:function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=i(n("ZyuO")),r=i(n("zFeg")),a=i(n("pVnL")),s=i(n("PJYZ"));n("a1gu"),n("Nsbk");var c=i(n("VbXa")),l=i(n("jBAH")),u=i(n("3zPy")),d=i(n("BF8C")),h=i(n("K4wu")),p=i(n("sXyB")),f=i(n("7W2i")),v=[],g=function e(t){var n,i="info",r=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n("log",i,t)};return n=function(e,t){return function(n,i,r){var a=t.levels[i],s=new RegExp("^("+a+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(e+":"),v){v.push([].concat(r));var c=v.length-1e3;v.splice(0,c>0?c:0)}if(o.console){var l=o.console[n];l||"debug"!==n||(l=o.console.info||o.console.log),l&&a&&s.test(n)&&l[Array.isArray(r)?"apply":"call"](o.console,r)}}}(t,r),r.createLogger=function(n){return e(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(r.history=function(){return v?[].concat(v):[]}).filter=function(e){return(v||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},r.history.clear=function(){v&&(v.length=0)},r.history.disable=function(){null!==v&&(v.length=0,v=null)},r.history.enable=function(){null===v&&(v=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("error",i,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("warn",i,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("debug",i,t)},r}("VIDEOJS"),m=g.createLogger,b=Object.prototype.toString,y=function(e){return P(e)?Object.keys(e):[]};function _(e,t){y(e).forEach(function(n){return t(e[n],n)})}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?a.apply(void 0,[e].concat(n)):(n.forEach(function(t){t&&_(t,function(t,n){e[n]=t})}),e)}function P(e){return!!e&&"object"==typeof e}function k(e){return P(e)&&"[object Object]"===b.call(e)&&e.constructor===Object}function T(e,t){if(!e||!t)return"";if("function"==typeof o.getComputedStyle){var n=o.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function O(e){return"string"==typeof e&&Boolean(e.trim())}function M(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function w(){return r===o.document}function x(e){return P(e)&&1===e.nodeType}function S(){try{return o.parent!==o.self}catch(e){return!0}}function E(e){return function(t,n){if(!O(t))return r[e](null);O(n)&&(n=r.querySelector(n));var i=x(n)?n:r;return i[e]&&i[e](t)}}function I(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var o=r.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(g.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),o.setAttribute(e,n)):"textContent"===e?j(o,n):o[e]!==n&&(o[e]=n)}),Object.getOwnPropertyNames(n).forEach(function(e){o.setAttribute(e,n[e])}),i&&Z(o,i),o}function j(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function L(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function V(e,t){return M(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function A(e,t){return e.classList?e.classList.add(t):V(e,t)||(e.className=(e.className+" "+t).trim()),e}function R(e,t){return e.classList?e.classList.remove(t):(M(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function N(e,t,n){var i=V(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?A(e,t):R(e,t),e}function D(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)})}function U(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),t[o]=r}return t}function B(e,t){return e.getAttribute(t)}function z(e,t,n){e.setAttribute(t,n)}function F(e,t){e.removeAttribute(t)}function H(){r.body.focus(),r.onselectstart=function(){return!1}}function W(){r.onselectstart=function(){return!0}}function $(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(T(e,"height"))),n.width||(n.width=parseFloat(T(e,"width"))),n}}function K(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};var t=e.offsetWidth,n=e.offsetHeight,i=0,o=0;do{i+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent}while(e);return{left:i,top:o,width:t,height:n}}function q(e,t){var n={},i=K(t.target),o=K(e),r=o.width,a=t.offsetY-(o.top-i.top),s=t.offsetX-(o.left-i.left);return t.changedTouches&&(s=t.changedTouches[0].pageX-o.left,a=t.changedTouches[0].pageY+o.top),n.y=1-Math.max(0,Math.min(1,a/o.height)),n.x=Math.max(0,Math.min(1,s/r)),n}function G(e){return P(e)&&3===e.nodeType}function J(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Y(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),x(e)||G(e)?e:"string"==typeof e&&/\S/.test(e)?r.createTextNode(e):void 0}).filter(function(e){return e})}function Z(e,t){return Y(t).forEach(function(t){return e.appendChild(t)}),e}function Q(e,t){return Z(J(e),t)}function X(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var ee,te=E("querySelector"),ne=E("querySelectorAll"),ie=Object.freeze({__proto__:null,isReal:w,isEl:x,isInFrame:S,createEl:I,textContent:j,prependTo:L,hasClass:V,addClass:A,removeClass:R,toggleClass:N,setAttributes:D,getAttributes:U,getAttribute:B,setAttribute:z,removeAttribute:F,blockTextSelection:H,unblockTextSelection:W,getBoundingClientRect:$,findPosition:K,getPointerPosition:q,isTextNode:G,emptyEl:J,normalizeContent:Y,appendContent:Z,insertContent:Q,isSingleLeftClick:X,$:te,$$:ne}),oe=!1,re=function(){if(w()&&!1!==ee.options.autoSetup){var e=Array.prototype.slice.call(r.getElementsByTagName("video")),t=Array.prototype.slice.call(r.getElementsByTagName("audio")),n=Array.prototype.slice.call(r.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var s=i[o];if(!s||!s.getAttribute){ae(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&ee(s)}else oe||ae(1)}};function ae(e,t){t&&(ee=t),o.setTimeout(re,e)}function se(){oe=!0,o.removeEventListener("load",se)}w()&&("complete"===r.readyState?se():o.addEventListener("load",se));var ce,le=function(e){var t=r.createElement("style");return t.className=e,t},ue=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},de=3;function he(){return de++}o.WeakMap||(ce=function(){function e(){this.vdata="vdata"+Math.floor(o.performance&&o.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||he();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];g("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var pe,fe=o.WeakMap?new WeakMap:new ce;function ve(e,t){if(fe.has(e)){var n=fe.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&fe.delete(e)}}function ge(e,t,n,i){n.forEach(function(n){e(t,n,i)})}function me(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||o.event;for(var a in e={},i)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&i.preventDefault||(e[a]=i[a]));if(e.target||(e.target=e.srcElement||r),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var s=r.documentElement,c=r.body;e.pageX=e.clientX+(s&&s.scrollLeft||c&&c.scrollLeft||0)-(s&&s.clientLeft||c&&c.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||c&&c.scrollTop||0)-(s&&s.clientTop||c&&c.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var be=["touchstart","touchmove"];function ye(e,t,n){if(Array.isArray(t))return ge(ye,e,t,n);fe.has(e)||fe.set(e,{});var i=fe.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=he()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=me(t);var o=i.handlers[t.type];if(o)for(var r=o.slice(0),a=0,s=r.length;a<s&&!t.isImmediatePropagationStopped();a++)try{r[a].call(e,t,n)}catch(c){g.error(c)}}}),1===i.handlers[t].length)if(e.addEventListener){var r=!1;(function(){if("boolean"!=typeof pe){pe=!1;try{var e=Object.defineProperty({},"passive",{get:function(){pe=!0}});o.addEventListener("test",null,e),o.removeEventListener("test",null,e)}catch(t){}}return pe})()&&be.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,i.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function _e(e,t,n){if(fe.has(e)){var i=fe.get(e);if(i.handlers){if(Array.isArray(t))return ge(_e,e,t,n);var o=function(e,t){i.handlers[t]=[],ve(e,t)};if(void 0!==t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);ve(e,t)}else o(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&o(e,s)}}}function Ce(e,t,n){var i=fe.has(e)?fe.get(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=me(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)Ce.call(null,o,t,n);else if(!o&&!t.defaultPrevented&&t.target&&t.target[t.type]){fe.has(t.target)||fe.set(t.target,{});var r=fe.get(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function Pe(e,t,n){if(Array.isArray(t))return ge(Pe,e,t,n);var i=function i(){_e(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||he(),ye(e,t,i)}function ke(e,t,n){var i=function i(){_e(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||he(),ye(e,t,i)}var Te,Oe=Object.freeze({__proto__:null,fixEvent:me,on:ye,off:_e,trigger:Ce,one:Pe,any:ke}),Me=function(e,t,n){t.guid||(t.guid=he());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},we=function(e,t){var n=o.performance.now();return function(){var i=o.performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},xe=function(){};xe.prototype.allowedEvents_={},xe.prototype.addEventListener=xe.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ye(this,e,t),this.addEventListener=n},xe.prototype.removeEventListener=xe.prototype.off=function(e,t){_e(this,e,t)},xe.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Pe(this,e,t),this.addEventListener=n},xe.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ke(this,e,t),this.addEventListener=n},xe.prototype.dispatchEvent=xe.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=me(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Ce(this,e)},xe.prototype.queueTrigger=function(e){var t=this;Te||(Te=new Map);var n=e.type||e,i=Te.get(this);i||(i=new Map,Te.set(this,i));var r=i.get(n);i.delete(n),o.clearTimeout(r);var a=o.setTimeout(function(){0===i.size&&(i=null,Te.delete(t)),t.trigger(e)},0);i.set(n,a)};var Se=function(e){return e instanceof xe||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Ee=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Ie=function(e){if(!e.nodeName&&!Se(e))throw new Error("Invalid target; must be a DOM node or evented object.")},je=function(e){if(!Ee(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Le=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Ve=function(e,t){var n,i,o,r=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return r?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),Ie(n),je(i),Le(o),{isTargetingSelf:r,target:n,type:i,listener:o=Me(e,o)}},Ae=function(e,t,n,i){Ie(e),e.nodeName?Oe[t](e,n,i):e[t](n,i)},Re={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=Ve(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(Ae(a,"on",s,c),!r){var l=function(){return e.off(a,s,c)};l.guid=c.guid;var u=function(){return e.off("dispose",l)};u.guid=c.guid,Ae(this,"on","dispose",l),Ae(a,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=Ve(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(r)Ae(a,"one",s,c);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];c.apply(null,i)};l.guid=c.guid,Ae(a,"one",s,l)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=Ve(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,c=o.listener;if(r)Ae(a,"any",s,c);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];c.apply(null,i)};l.guid=c.guid,Ae(a,"any",s,l)}},off:function(e,t,n){if(!e||Ee(e))_e(this.eventBusEl_,e,t);else{var i=e,o=t;Ie(i),je(o),Le(n),n=Me(this,n),this.off("dispose",n),i.nodeName?(_e(i,o,n),_e(i,"dispose",n)):Se(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(e,t){return Ce(this.eventBusEl_,e,t)}};function Ne(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=I("span",{className:"vjs-event-bus"});return C(e,Re),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),o.setTimeout(function(){e.eventBusEl_=null},0)}),e}var De={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),_(e,function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e}),t&&Se(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Ue(e,t){return C(e,De),e.state=C({},e.state,t),"function"==typeof e.handleStateChanged&&Se(e)&&e.on("statechanged",e.handleStateChanged),e}var Be=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},ze=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})};function Fe(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){t&&_(t,function(t,n){k(t)?(k(e[n])||(e[n]={}),e[n]=Fe(e[n],t)):e[n]=t})}),e}var He=o.Map?o.Map:function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.set_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),We=o.Set?o.Set:function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),$e=function(){function e(e,t,n){if(this.player_=!e&&this.play?e=this:e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Fe({},this.options_),t=this.options_=Fe(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+he()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Ne(this,{eventBusKey:this.el_?"el_":null}),Ue(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new We,this.setIntervalIds_=new We,this.rafIds_=new We,this.namedRafs_=new He,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),fe.has(this.el_)&&fe.delete(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Fe(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return I(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),r=o&&o[i],a=i&&i.split("-")[0],s=o&&o[a],c=n;return r&&r[e]?c=r[e]:s&&s[e]&&(c=s[e]),t&&(c=c.replace(/\{(\d+)\}/g,function(e,n){var i=t[n-1],o=i;return void 0===i&&(o=e),o})),c},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce(function(e,t){return e.concat(t)},[]);for(var i=this,o=0;o<t.length;o++)if(!(i=i.getChild(t[o]))||!i.getChild)return;return i},t.addChild=function(t,n,i){var o,r;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){r=ze(t);var a=n.componentClass||r;n.name=r;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;o=new s(this.player_||this,n)}else o=t;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(i,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(r=r||o.name&&ze(o.name()))&&(this.childNameIndex_[r]=o,this.childNameIndex_[Be(r)]=o),"function"==typeof o.el&&o.el()){var c=null;this.children_[i+1]&&(this.children_[i+1].el_?c=this.children_[i+1].el_:x(this.children_[i+1])&&(c=this.children_[i+1])),this.contentEl().insertBefore(o.el(),c)}return o},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ze(e.name())]=null,this.childNameIndex_[Be(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,o=this.options_,r=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var i,o;return"string"==typeof e?o=n[i=e]||t.options_[i]||{}:(i=e.name,o=e),{name:i,opts:o}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||ze(t.name));return n&&!r.isTech(n)}).forEach(function(e){var n=e.name,i=e.opts;if(void 0!==o[n]&&(i=o[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var r=t.addChild(n,i);r&&(t[n]=r)}})}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return te(e,t||this.contentEl())},t.$$=function(e,t){return ne(e,t||this.contentEl())},t.hasClass=function(e){return V(this.el_,e)},t.addClass=function(e){A(this.el_,e)},t.removeClass=function(e){R(this.el_,e)},t.toggleClass=function(e,t){N(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return B(this.el_,e)},t.setAttribute=function(e,t){z(this.el_,e,t)},t.removeAttribute=function(e){F(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+ze(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=T(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+ze(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=o.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,o=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+o*o)>10&&(e=!1)}});var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){n=null,!0===e&&o.performance.now()-t<200&&(i.preventDefault(),this.trigger("tap"))})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Me(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=Me(this,e),this.clearTimersOnDispose_(),n=o.setTimeout(function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()},t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),o.clearTimeout(e)),e},t.setInterval=function(e,t){e=Me(this,e),this.clearTimersOnDispose_();var n=o.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),o.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Me(this,e),t=o.requestAnimationFrame(function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Me(this,t);var i=this.requestAnimationFrame(function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),o.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var n=t[1];e[t[0]].forEach(function(t,i){return e[n](i)})}),e.clearingTimersOnDispose_=!1}))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),o=i&&i.isTech(n),r=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!r)throw new Error('Illegal component, "'+t+'"; '+(o?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=ze(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,c=Object.keys(s);if(s&&c.length>0&&c.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Be(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();$e.prototype.supportsRaf_="function"==typeof o.requestAnimationFrame&&"function"==typeof o.cancelAnimationFrame,$e.registerComponent("Component",$e);var Ke,qe,Ge,Je=o.navigator&&o.navigator.userAgent||"",Ye=/AppleWebKit\/([\d.]+)/i.exec(Je),Ze=Ye?parseFloat(Ye.pop()):null,Qe=/iPod/i.test(Je),Xe=(Ke=Je.match(/OS (\d+)_/i))&&Ke[1]?Ke[1]:null,et=/Android/i.test(Je),tt=function(){var e=Je.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),nt=et&&tt<5&&Ze<537,it=/Firefox/i.test(Je),ot=/Edg/i.test(Je),rt=!ot&&(/Chrome/i.test(Je)||/CriOS/i.test(Je)),at=function(){var e=Je.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),st=(!(Ge=(qe=/MSIE\s(\d+)\.\d/.exec(Je))&&parseFloat(qe[1]))&&/Trident\/7.0/i.test(Je)&&/rv:11.0/.test(Je)&&(Ge=11),Ge),ct=/Safari/i.test(Je)&&!rt&&!et&&!ot,lt=/Windows/i.test(Je),ut=w()&&("ontouchstart"in o||o.navigator.maxTouchPoints||o.DocumentTouch&&o.document instanceof o.DocumentTouch),dt=/iPad/i.test(Je)||ct&&ut&&!/iPhone/i.test(Je),ht=/iPhone/i.test(Je)&&!dt,pt=ht||dt||Qe,ft=(ct||pt)&&!rt,vt=Object.freeze({__proto__:null,IS_IPOD:Qe,IOS_VERSION:Xe,IS_ANDROID:et,ANDROID_VERSION:tt,IS_NATIVE_ANDROID:nt,IS_FIREFOX:it,IS_EDGE:ot,IS_CHROME:rt,CHROME_VERSION:at,IE_VERSION:st,IS_SAFARI:ct,IS_WINDOWS:lt,TOUCH_ENABLED:ut,IS_IPAD:dt,IS_IPHONE:ht,IS_IOS:pt,IS_ANY_SAFARI:ft});function gt(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function mt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:gt.bind(null,"start",0,e),end:gt.bind(null,"end",1,e)}}function bt(e,t){return Array.isArray(e)?mt(e):void 0===e||void 0===t?mt():mt([[e,t]])}function yt(e,t){var n,i,o=0;if(!t)return 0;e&&e.length||(e=bt(0,0));for(var r=0;r<e.length;r++)n=e.start(r),(i=e.end(r))>t&&(i=t),o+=i-n;return o/t}for(var _t,Ct={prefixed:!0},Pt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],kt=Pt[0],Tt=0;Tt<Pt.length;Tt++)if(Pt[Tt][1]in r){_t=Pt[Tt];break}if(_t){for(var Ot=0;Ot<_t.length;Ot++)Ct[kt[Ot]]=_t[Ot];Ct.prefixed=_t[0]!==kt[0]}function Mt(e){if(e instanceof Mt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:P(e)&&("number"==typeof e.code&&(this.code=e.code),C(this,e)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0,Mt.prototype.message="",Mt.prototype.status=null,Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var wt=0;wt<Mt.errorTypes.length;wt++)Mt[Mt.errorTypes[wt]]=wt,Mt.prototype[Mt.errorTypes[wt]]=wt;function xt(e){return null!=e&&"function"==typeof e.then}function St(e){xt(e)&&e.then(null,function(e){})}var Et=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,i){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},It=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=I("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=I("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),j(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Q(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},n.empty=function(){this.trigger("beforemodalempty"),J(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=r.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),u.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(u.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),o=0;o<n.length;o++)if(i===n[o]){t=o;break}r.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof o.HTMLAnchorElement||e instanceof o.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof o.HTMLInputElement||e instanceof o.HTMLSelectElement||e instanceof o.HTMLTextAreaElement||e instanceof o.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof o.HTMLIFrameElement||e instanceof o.HTMLObjectElement||e instanceof o.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}($e);It.prototype.options_={pauseOnOpen:!0,temporary:!0},$e.registerComponent("ModalDialog",It);var jt=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(s(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}c(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(xe);for(var Lt in jt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},jt.prototype.allowedEvents_)jt.prototype["on"+Lt]=null;var Vt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},At=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){Vt(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}c(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Vt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Vt(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(jt),Rt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Nt=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){Rt(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(s(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}c(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&Rt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Rt(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(jt),Dt=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(jt),Ut=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Bt=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)o.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},e}(),zt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ft={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ht={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Wt={disabled:"disabled",hidden:"hidden",showing:"showing"},$t=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+he(),kind:t.kind||"",label:t.label||"",language:t.language||""},o=function(e){Object.defineProperty(s(n),e,{get:function(){return i[e]},set:function(){}})};for(var r in i)o(r);return n}return c(t,e),t}(xe),Kt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=r.createElement("a");n.href=e;var i,a=""===n.host&&"file:"!==n.protocol;a&&((i=r.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),r.body.appendChild(i));for(var s={},c=0;c<t.length;c++)s[t[c]]=n[t[c]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=o.location.protocol),a&&r.body.removeChild(i),s},qt=function(e){if(!e.match(/^https?:\/\//)){var t=r.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Gt=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Jt=function(e,t){void 0===t&&(t=o.location);var n=Kt(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Yt=Object.freeze({__proto__:null,parseUrl:Kt,getAbsoluteURL:qt,getFileExtension:Gt,isCrossOrigin:Jt}),Zt=function(e,t){var n=new o.WebVTT.Parser(o,o.vttjs,o.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(o.console&&o.console.groupCollapsed&&o.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return g.error(e)}),o.console&&o.console.groupEnd&&o.console.groupEnd()),n.flush()},Qt=function(e,t){var n={uri:e},i=Jt(e);i&&(n.cors=i);var r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),d(n,Me(this,function(e,n,i){if(e)return g.error(e,n);t.loaded_=!0,"function"!=typeof o.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return Zt(i,t);g.error("vttjs failed to load, stopping trying to process "+t.src)}):Zt(i,t)}))},Xt=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Fe(t,{kind:Ht[t.kind]||"subtitles",language:t.language||t.srclang||""}),o=Wt[i.mode]||"disabled",r=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new Bt(n.cues_),c=new Bt(n.activeCues_),l=!1,u=Me(s(n),function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==o&&n.tech_.ready(function(){n.tech_.on("timeupdate",u)},!0),Object.defineProperties(s(n),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return o},set:function(e){var t=this;Wt[e]&&(o=e,this.preload_||"disabled"===o||0!==this.cues.length||Qt(this.src,this),"disabled"!==o?this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];(o.startTime<=e&&o.endTime>=e||o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e)&&t.push(o)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(l=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||r||"subtitles"!==i.kind&&"captions"!==i.kind)&&Qt(n.src,s(n))):n.loaded_=!0,n}c(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(o.vttjs&&!(e instanceof o.vttjs.VTTCue)){for(var n in t=new o.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}($t);Xt.prototype.allowedEvents_={cuechange:"cuechange"};var en=function(e){function t(t){var n;void 0===t&&(t={});var i=Fe(t,{kind:Ft[t.kind]||""});n=e.call(this,i)||this;var o=!1;return Object.defineProperty(s(n),"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return c(t,e),t}($t),tn=function(e){function t(t){var n;void 0===t&&(t={});var i=Fe(t,{kind:zt[t.kind]||""});n=e.call(this,i)||this;var o=!1;return Object.defineProperty(s(n),"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return c(t,e),t}($t),nn=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var o=new Xt(t);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(s(n),{readyState:{get:function(){return i}},track:{get:function(){return o}}}),i=0,o.addEventListener("loadeddata",function(){i=2,n.trigger({type:"load",target:s(n)})}),n}return c(t,e),t}(xe);nn.prototype.allowedEvents_={load:"load"},nn.NONE=0,nn.LOADING=1,nn.LOADED=2,nn.ERROR=3;var on={audio:{ListClass:At,TrackClass:en,capitalName:"Audio"},video:{ListClass:Nt,TrackClass:tn,capitalName:"Video"},text:{ListClass:Dt,TrackClass:Xt,capitalName:"Text"}};Object.keys(on).forEach(function(e){on[e].getterName=e+"Tracks",on[e].privateName=e+"Tracks_"});var rn={remoteText:{ListClass:Dt,TrackClass:Xt,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ut,TrackClass:nn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},an=a({},on,rn);rn.names=Object.keys(rn),on.names=Object.keys(on),an.names=[].concat(rn.names).concat(on.names);var sn=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),an.names.forEach(function(e){var n=an[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new an.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}c(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Me(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return bt(0,0)},n.bufferedPercent=function(){return yt(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(on.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var o=n[i];"text"===e&&t.removeRemoteTextTrack(o),n.removeTrack(o)}})},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;)this.removeRemoteTextTrack(e[t])},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Mt(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?bt(0,0):bt()},n.setScrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;on.names.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},i=e[on[t].getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},n.addWebVttScript_=function(){var e=this;if(!o.WebVTT)if(r.body.contains(this.el())){if(!this.options_["vtt.js"]&&k(h)&&Object.keys(h).length>0)return void this.trigger("vttjsloaded");var t=r.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),o.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},o=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",o),this.addWebVttScript_();var r=function(){return e.trigger("texttrackchange")},a=function(){r();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",o),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",r)})},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,o){void 0===o&&(o={});var r=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var a=new an.text.TrackClass(o);return r.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Fe(e,{tech:this});return new rn.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(g.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||o.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ze(e),t.techs_[e]=n,t.techs_[Be(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=ze(e),o&&o.videojs&&o.videojs[e]?(g.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),o.videojs[e]):void 0)},t}($e);an.names.forEach(function(e){var t=an[e];sn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),sn.prototype.featuresVolumeControl=!0,sn.prototype.featuresMuteControl=!0,sn.prototype.featuresFullscreenResize=!1,sn.prototype.featuresPlaybackRate=!1,sn.prototype.featuresProgressEvents=!1,sn.prototype.featuresSourceset=!1,sn.prototype.featuresTimeupdateEvents=!1,sn.prototype.featuresNativeTextTracks=!1,sn.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],o=0;o<i.length;o++)if(n=i[o].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],o=0;o<i.length;o++)if(i[o].canHandleSource(t,n))return i[o];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:g.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},$e.registerComponent("Tech",sn),sn.registerTech("Tech",sn),sn.defaultTechOrder_=[];var cn={},ln={},un={};function dn(e,t,n){e.setTimeout(function(){return mn(t,cn[t.type],n,e)},1)}function hn(e,t,n,i){void 0===i&&(i=null);var o="call"+ze(n),r=e.reduce(gn(o),i),a=r===un,s=a?null:t[n](r);return function(e,t,n,i){for(var o=e.length-1;o>=0;o--){var r=e[o];r[t]&&r[t](i,n)}}(e,n,s,a),s}var pn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},fn={setCurrentTime:1,setMuted:1,setVolume:1},vn={play:1,pause:1};function gn(e){return function(t,n){return t===un?un:n[e]?n[e](t):t}}function mn(e,t,n,i,o,r){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===r&&(r=!1);var a=t[0],s=t.slice(1);if("string"==typeof a)mn(e,cn[a],n,i,o,r);else if(a){var c=function(e,t){var n=ln[e.id()],i=null;if(null==n)return i=t(e),ln[e.id()]=[[t,i]],i;for(var o=0;o<n.length;o++){var r=n[o];r[0]===t&&(i=r[1])}return null===i&&(i=t(e),n.push([t,i])),i}(i,a);if(!c.setSource)return o.push(c),mn(e,s,n,i,o,r);c.setSource(C({},e),function(t,a){if(t)return mn(e,s,n,i,o,r);o.push(c),mn(a,e.type===a.type?s:cn[a.type],n,i,o,r)})}else s.length?mn(e,s,n,i,o,r):r?n(e,o):mn(e,cn["*"],n,i,o,!0)}var bn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},yn=function(e){void 0===e&&(e="");var t=Gt(e);return bn[t.toLowerCase()]||""},_n=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):P(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[Cn({src:t})]:P(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Cn(t)]:[];return t};function Cn(e){if(!e.type){var t=yn(e.src);t&&(e.type=t)}return e}var Pn=function(e){function t(t,n,i){var o,r=Fe({createEl:!1},n);if(o=e.call(this,t,r,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var c=ze(s[a]),l=sn.getTech(c);if(c||(l=$e.getComponent(c)),l&&l.isSupported()){t.loadTech_(c);break}}return o}return c(t,e),t}($e);$e.registerComponent("MediaLoader",Pn);var kn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).emitTapEvents(),i.enable(),i}c(t,e);var n=t.prototype;return n.createEl=function(t,n,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=C({role:"button"},i),this.tabIndex_=n.tabIndex;var o=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=I("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,j(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){u.isEventKey(t,"Space")||u.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}($e);$e.registerComponent("ClickableComponent",kn),$e.registerComponent("PosterImage",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),t.on("posterchange",Me(s(i),i.update)),i}c(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return I("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(st||ot)&&t||this.player_.tech(!0).focus(),this.player_.paused()?St(this.player_.play()):this.player_.pause()}},t}(kn));var Tn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function On(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Mn(e,t,n){try{e.style[t]=n}catch(i){return}}$e.registerComponent("TextTrackDisplay",function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var a=Me(s(r),r.updateDisplay);return t.on("loadstart",Me(s(r),r.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",Me(s(r),r.preselectTrack)),t.ready(Me(s(r),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),o.addEventListener("orientationchange",a),t.on("dispose",function(){return o.removeEventListener("orientationchange",a)});for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}})),r}c(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},o=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,a=0;a<o.length;a++){var s=o[a];r&&r.enabled&&r.language&&r.language===s.language&&s.kind in i?s.kind===r.kind?n=s:n||(n=s):r&&!r.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof o.WebVTT&&o.WebVTT.processCues(o,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var o=e[i];"showing"===o.mode&&n.push(o)}this.updateForTrack(n)}else{for(var r=null,a=null,s=e.length;s--;){var c=e[s];"showing"===c.mode&&("descriptions"===c.kind?r=c:a=c)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):r&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var r=n[i];if(r){var a=r.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Mn(a.firstChild,"color",On(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Mn(a.firstChild,"backgroundColor",On(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Mn(a,"backgroundColor",On(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=o.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Tn[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof o.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.activeCues.length;++r)t.push(i.activeCues[r]);o.WebVTT.processCues(o,t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],c=0;c<s.activeCues.length;++c){var l=s.activeCues[c].displayState;A(l,"vjs-text-track-cue"),A(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}($e)),$e.registerComponent("LoadingSpinner",function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=I("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),o=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(i),o},t}($e));var wn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=C({type:"button"},n);var i=$e.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},n.addChild=function(e,t){return void 0===t&&(t={}),g.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),$e.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){u.isEventKey(t,"Space")||u.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(kn);$e.registerComponent("Button",wn);var xn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return St(t),void(!this.player_.tech(!0)||(st||ot)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),o=i&&i.getChild("playToggle");if(o){var r=function(){return o.focus()};xt(t)?t.then(r,function(){}):this.setTimeout(r,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(wn);xn.prototype.controlText_="Play Video",$e.registerComponent("BigPlayButton",xn),$e.registerComponent("CloseButton",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){u.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(wn));var Sn=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",i.handlePlay),i.on(t,"pause",i.handlePause),n.replay&&i.on(t,"ended",i.handleEnded),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(wn);Sn.prototype.controlText_="Play",$e.registerComponent("PlayToggle",Sn);var En=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n="-"),(o=o>0||a>0?o+":":"")+(i=((o||r>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},In=En;function jn(e,t){return void 0===t&&(t=e),In(e,t)}var Ln=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=I("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=jn(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(t.contentEl_){var e=t.textNode_;t.textNode_=r.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}}))},n.updateContent=function(e){},t}($e);Ln.prototype.labelText_="Time",Ln.prototype.controlText_="Time",$e.registerComponent("TimeDisplay",Ln);var Vn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(Ln);Vn.prototype.labelText_="Current Time",Vn.prototype.controlText_="Current Time",$e.registerComponent("CurrentTimeDisplay",Vn);var An=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i.on(t,"loadstart",i.updateContent),i.on(t,"loadedmetadata",i.updateContent),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(Ln);An.prototype.labelText_="Duration",An.prototype.controlText_="Duration",$e.registerComponent("DurationDisplay",An),$e.registerComponent("TimeDivider",function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}($e));var Rn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(I("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(Ln);Rn.prototype.labelText_="Remaining Time",Rn.prototype.controlText_="Remaining Time",$e.registerComponent("RemainingTimeDisplay",Rn),$e.registerComponent("LiveDisplay",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=I("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}($e));var Nn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=I("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(wn);Nn.prototype.controlText_="Seek to live, currently playing live",$e.registerComponent("SeekToLive",Nn);var Dn=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},Un=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}c(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=C({tabIndex:0},n),i=C({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||rt||e.preventDefault(),H(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;W(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"})),t}},n.getProgress=function(){return Number(Dn(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=q(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){u.isEventKey(t,"Left")||u.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):u.isEventKey(t,"Right")||u.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},t}($e);$e.registerComponent("Slider",Un);var Bn=function(e,t){return Dn(e/t*100,0,100).toFixed(2)+"%"};$e.registerComponent("LoadProgressBar",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",i.update),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=I("span",{className:"vjs-control-text"}),i=I("span",{textContent:this.localize("Loaded")}),o=r.createTextNode(": ");return this.percentageEl_=I("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(o),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var e=t.player_.liveTracker,n=t.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():t.player_.duration(),o=t.player_.bufferedEnd(),r=t.partEls_,a=Bn(o,i);t.percent_!==a&&(t.el_.style.width=a,j(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var c=n.start(s),l=n.end(s),u=r[s];u||(u=t.el_.appendChild(I()),r[s]=u),u.dataset.start===c&&u.dataset.end===l||(u.dataset.start=c,u.dataset.end=l,u.style.left=Bn(c,o),u.style.width=Bn(l-c,o))}for(var d=r.length;d>n.length;d--)t.el_.removeChild(r[d-1]);r.length=n.length})},t}($e)),$e.registerComponent("TimeTooltip",function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=we(Me(s(i),i.update),30),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=K(this.el_),o=$(this.player_.el()),r=e.width*t;if(o&&i){var a=e.left-o.left+r,s=e.width-r+(o.right-e.right),c=i.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>i.width&&(c=i.width),this.el_.style.right="-"+c+"px",this.write(n)}},n.write=function(e){j(this.el_,e)},n.updateTime=function(e,t,n,i){var o=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var r,a=o.player_.duration();if(o.player_.liveTracker&&o.player_.liveTracker.isLive()){var s=o.player_.liveTracker.liveWindow(),c=s-t*s;r=(c<1?"":"-")+jn(c,s)}else r=jn(n,a);o.update(e,t,r),i&&i()})},t}($e));var zn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=we(Me(s(i),i.update),30),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}($e);zn.prototype.options_={children:[]},pt||et||zn.prototype.options_.children.push("timeTooltip"),$e.registerComponent("PlayProgressBar",zn);var Fn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=we(Me(s(i),i.update),30),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,function(){n.el_.style.left=e.width*t+"px"})},t}($e);Fn.prototype.options_={children:["timeTooltip"]},$e.registerComponent("MouseTimeDisplay",Fn);var Hn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}c(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update_=Me(this,this.update),this.update=we(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in r&&"visibilityState"in r&&this.on(r,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){r.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this,i=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,o=n.player_.duration();t&&t.isLive()&&(o=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===e&&n.duration_===o||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[jn(e,o),jn(o,o)],"{1} of {2}")),n.currentTime_=e,n.duration_=o),n.bar&&n.bar.update($(n.el()),n.getProgress())}),i},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){X(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(X(e)){var t,n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var o=i.seekableStart(),r=i.liveCurrentTime();if((t=o+n*i.liveWindow())>=r&&(t=r),t<=o&&(t=o+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?St(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(u.isEventKey(t,"Space")||u.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(u.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(u.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(u(t))){t.preventDefault(),t.stopPropagation();var n=10*(u.codes[u(t)]-u.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else u.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):u.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in r&&"visibilityState"in r&&this.off(r,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(Un);Hn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},pt||et||Hn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),$e.registerComponent("SeekBar",Hn);var Wn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=we(Me(s(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=we(Me(s(i),i.handleMouseSeek),30),i.enable(),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(n||i){var o=t.el(),r=K(o),a=q(o,e).x;a=Dn(a,0,1),i&&i.update(r,a),n&&n.update(r,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}($e);Wn.prototype.options_={children:["seekBar"]},$e.registerComponent("ProgressControl",Wn);var $n=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),i.on(t,["disablepictureinpicturechanged","loadedmetadata"],i.handlePictureInPictureEnabledChange),i.disable(),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){r.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(wn);$n.prototype.controlText_="Picture-in-Picture",$e.registerComponent("PictureInPictureToggle",$n);var Kn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",i.handleFullscreenChange),!1===r[t.fsApi_.fullscreenEnabled]&&i.disable(),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(wn);Kn.prototype.controlText_="Fullscreen",$e.registerComponent("FullscreenToggle",Kn),$e.registerComponent("VolumeLevel",function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}($e));var qn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",i.updateLastVolume_),i.on(t,"volumechange",i.updateARIAAttributes),t.ready(function(){return i.updateARIAAttributes()}),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){X(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){X(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Un);qn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},qn.prototype.playerEvent="volumechange",$e.registerComponent("VolumeBar",qn);var Gn=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||k(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(s(i),t),i.throttledHandleMouseMove=we(Me(s(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}($e);Gn.prototype.options_={children:["volumeBar"]},$e.registerComponent("VolumeControl",Gn);var Jn=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(s(i),t),i.on(t,["loadstart","volumechange"],i.update),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();0===t?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;pt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)R(this.el_,"vjs-vol-"+n);A(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(wn);Jn.prototype.controlText_="Mute",$e.registerComponent("MuteToggle",Jn);var Yn=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||k(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).on(t,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}c(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){u.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),ye(r,"keyup",Me(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),_e(r,"keyup",Me(this,this.handleKeyPress))},n.handleKeyPress=function(e){u.isEventKey(e,"Esc")&&this.handleMouseOut()},t}($e);Yn.prototype.options_={children:["muteToggle","volumeControl"]},$e.registerComponent("VolumePanel",Yn);var Zn=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=Me(s(i),i.handleBlur),i.boundHandleTapClick_=Me(s(i),i.handleTapClick),i}c(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof $e&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof $e&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){this.contentEl_=I(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),ye(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||r.activeElement;if(!this.children().some(function(e){return e.el()===t})){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter(function(t){return t.el()===e.target})[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){u.isEventKey(e,"Left")||u.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(u.isEventKey(e,"Right")||u.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}($e);$e.registerComponent("Menu",Zn);var Qn=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new wn(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=wn.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),ye(r,"keyup",Me(s(i),i.handleMenuKeyUp))}),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}c(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new Zn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=I("li",{className:"vjs-menu-title",innerHTML:ze(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new $e(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+wn.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),_e(r,"keyup",Me(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){u.isEventKey(e,"Esc")||u.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),u.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(u.isEventKey(e,"Up")||u.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(u.isEventKey(e,"Esc")||u.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(u.isEventKey(e,"Esc")||u.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),u.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),pt&&S())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}($e);$e.registerComponent("MenuButton",Qn);var Xn=function(e){function t(t,n){var i,o=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!o)return s(i);var r=Me(s(i),i.update);return o.addEventListener("removetrack",r),o.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",function(){o.removeEventListener("removetrack",r),o.removeEventListener("addtrack",r)}),i}return c(t,e),t}(Qn);$e.registerComponent("TrackButton",Xn);var ei=["Tab","Esc","Up","Down","Right","Left"],ti=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.el_.setAttribute("role",i.selectable?i.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),i}c(t,e);var n=t.prototype;return n.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",C({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(t){ei.some(function(e){return u.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(kn);$e.registerComponent("MenuItem",ti);var ni=function(e){function t(t,n){var i,a=n.track,c=t.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,(i=e.call(this,t,n)||this).track=a,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var l,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(s(i),t)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(s(i),t)};return t.on(["loadstart","texttrackchange"],u),c.addEventListener("change",u),c.addEventListener("selectedlanguagechange",d),i.on("dispose",function(){t.off(["loadstart","texttrackchange"],u),c.removeEventListener("change",u),c.removeEventListener("selectedlanguagechange",d)}),void 0===c.onchange&&i.on(["tap","click"],function(){if("object"!=typeof o.Event)try{l=new o.Event("change")}catch(e){}l||(l=r.createEvent("Event")).initEvent("change",!0,!0),c.dispatchEvent(l)}),i.handleTracksChange(),i}c(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var r=i[o];-1!==this.kinds.indexOf(r.kind)&&(r===n?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(ti);$e.registerComponent("TextTrackMenuItem",ni);var ii=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}c(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(this.options_.kinds.indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(["captions","descriptions","subtitles"].indexOf(r.kind)>-1&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ni);$e.registerComponent("OffTextTrackMenuItem",ii);var oi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return c(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=ni),this.label_&&(n=this.label_+" off"),e.push(new ii(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(this.kinds_.indexOf(r.kind)>-1){var a=new t(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+r.kind+"-menu-item"),e.push(a)}}return e},t}(Xn);$e.registerComponent("TextTrackButton",oi);var ri=function(e){function t(t,n){var i,o=n.track,r=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=a&&a<r.endTime,(i=e.call(this,t,n)||this).track=o,i.cue=r,o.addEventListener("cuechange",Me(s(i),i.update)),i}c(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(ti);$e.registerComponent("ChaptersTrackMenuItem",ri);var ai=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ze(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var o=new ri(this.player_,{track:this.track_,cue:t[n]});e.push(o)}return e},t}(oi);ai.prototype.kind_="chapters",ai.prototype.controlText_="Chapters",$e.registerComponent("ChaptersButton",ai);var si=function(e){function t(t,n,i){var o;o=e.call(this,t,n,i)||this;var r=t.textTracks(),a=Me(s(o),o.handleTracksChange);return r.addEventListener("change",a),o.on("dispose",function(){r.removeEventListener("change",a)}),o}c(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;i<o;i++){var r=t[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(oi);si.prototype.kind_="descriptions",si.prototype.controlText_="Descriptions",$e.registerComponent("DescriptionsButton",si);var ci=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(oi);ci.prototype.kind_="subtitles",ci.prototype.controlText_="Subtitles",$e.registerComponent("SubtitlesButton",ci);var li=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return c(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(ni);$e.registerComponent("CaptionSettingsMenuItem",li);var ui=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new li(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(oi);ui.prototype.kind_="captions",ui.prototype.controlText_="Captions",$e.registerComponent("CaptionsButton",ui);var di=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),e.prototype.createEl.call(this,t,C({innerHTML:o+="</span>"},n),i)},t}(ni);$e.registerComponent("SubsCapsMenuItem",di);var hi=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(ze(i.label_)),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new li(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,di)},t}(oi);hi.prototype.kinds_=["captions","subtitles"],hi.prototype.controlText_="Subtitles",$e.registerComponent("SubsCapsButton",hi);var pi=function(e){function t(t,n){var i,o=n.track,r=t.audioTracks();n.label=o.label||o.language||"Unknown",n.selected=o.enabled,(i=e.call(this,t,n)||this).track=o,i.addClass("vjs-"+o.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(s(i),t)};return r.addEventListener("change",a),i.on("dispose",function(){r.removeEventListener("change",a)}),i}c(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),e.prototype.createEl.call(this,t,C({innerHTML:o+="</span>"},n),i)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var i=0;i<n.length;i++){var o=n[i];o.enabled=o===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(ti);$e.registerComponent("AudioTrackMenuItem",pi);var fi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++)e.push(new pi(this.player_,{track:t[n],selectable:!0,multiSelectable:!1}));return e},t}(Xn);fi.prototype.controlText_="Audio Track",$e.registerComponent("AudioTrackButton",fi);var vi=function(e){function t(t,n){var i,o=n.rate,r=parseFloat(o,10);return n.label=o,n.selected=1===r,n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=o,i.rate=r,i.on(t,"ratechange",i.update),i}c(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(ti);vi.prototype.contentElType="button",$e.registerComponent("PlaybackRateMenuItem",vi);var gi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateVisibility(),i.updateLabel(),i.on(t,"loadstart",i.updateVisibility),i.on(t,"ratechange",i.updateLabel),i}c(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=I("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new Zn(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new vi(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>t){i=n[o];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Qn);gi.prototype.controlText_="Playback Rate",$e.registerComponent("PlaybackRateMenuButton",gi);var mi=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}($e);$e.registerComponent("Spacer",mi),$e.registerComponent("CustomControlSpacer",function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(mi));var bi=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}($e);bi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in r&&bi.prototype.options_.children.splice(bi.prototype.options_.children.length-1,0,"pictureInPictureToggle"),$e.registerComponent("ControlBar",bi);var yi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",i.open),i}c(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(It);yi.prototype.options_=a({},It.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),$e.registerComponent("ErrorDisplay",yi);var _i=["#000","Black"],Ci=["#00F","Blue"],Pi=["#0FF","Cyan"],ki=["#0F0","Green"],Ti=["#F0F","Magenta"],Oi=["#F00","Red"],Mi=["#FFF","White"],wi=["#FF0","Yellow"],xi=["1","Opaque"],Si=["0.5","Semi-Transparent"],Ei=["0","Transparent"],Ii={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_i,Mi,Oi,ki,Ci,wi,Ti,Pi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[xi,Si,Ei]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Mi,_i,Oi,ki,Ci,wi,Ti,Pi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[xi,Si]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ei,Si,xi]}};function ji(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Ii.windowColor.options=Ii.backgroundColor.options,$e.registerComponent("TextTrackSettings",function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=Me(s(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=I("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),_(Ii,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}c(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var o=Ii[e],r=o.id.replace("%s",this.id_),a=[t,r].join(" ").trim();return["<"+n+' id="'+r+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(o.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(o.options.map(function(e){var t=r+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',i.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return I("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return I("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return I("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var o,r=ji((o=i.$(t.selector)).options[o.options.selectedIndex].value,t.parser);return void 0!==r&&(e[n]=r),e},void 0===(n={})&&(n=0),y(e=Ii).reduce(function(n,i){return t(n,e[i],i)},n)},n.setValues=function(e){var t=this;_(Ii,function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(ji(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)})},n.setDefaults=function(){var e=this;_(Ii,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},n.restoreSettings=function(){var e;try{e=JSON.parse(o.localStorage.getItem("vjs-text-track-settings"))}catch(t){g.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?o.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):o.localStorage.removeItem("vjs-text-track-settings")}catch(t){g.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(It)),$e.registerComponent("ResizeManager",function(e){function t(t,n){var i,r=n.ResizeObserver||o.ResizeObserver;null===n.ResizeObserver&&(r=!1);var a=Fe({createEl:!r,reportTouchActivity:!1},n);return(i=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||o.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var r;void 0===i&&(i=o);var a=function(){var t=this,n=arguments,o=function(){r=null,o=null,e.apply(t,n)};i.clearTimeout(r),r=i.setTimeout(o,100)};return a.cancel=function(){i.clearTimeout(r),r=null},a}(function(){i.resizeHandler()},0,0,s(i)),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){_e(this,"resize",e),_e(this,"unload",t),t=null};ye(i.el_.contentWindow,"unload",t),ye(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}c(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}($e));var Li={trackingThreshold:30,liveTolerance:15};$e.registerComponent("LiveTracker",function(e){function t(t,n){var i,o=Fe(Li,n,{createEl:!1});return(i=e.call(this,t,o)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),st&&"hidden"in r&&"visibilityState"in r&&i.on(r,"visibilitychange",i.handleVisibilityChange),i}c(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(r.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(o.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var i=this.liveCurrentTime(),r=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&e>2,this.skipNextSeeked_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(r,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},t}($e));var Vi,Ai=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],o="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(o=i[0]),e.triggerSourceset(o),!0)},Ri=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=r.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=r.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",o.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Ni=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Di=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return Ni([e.el(),o.HTMLMediaElement.prototype,o.Element.prototype,Ri],"innerHTML")}(e),r=function(n){return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];var a=n.apply(t,o);return Ai(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(n[e]=t[e],t[e]=r(n[e]))}),Object.defineProperty(t,"innerHTML",Fe(i,{set:r(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(e){t[e]=n[e]}),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},Ui=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?qt(o.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return o.Element.prototype.setAttribute.call(this,"src",e),e}}),Bi=function(e,t,n,i){void 0===i&&(i=!0);var o=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},r={configurable:!0,enumerable:!0,get:function(){var e=n();return o(e),e}};return i&&(r.set=o),Object.defineProperty(e,t,r)},zi=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o=t.source,r=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,c=[];s--;){var l=a[s];"track"===l.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(l),i.remoteTextTracks().addTrack(l.track),i.textTracks().addTrack(l.track),r||i.el_.hasAttribute("crossorigin")||!Jt(l.src)||(r=!0)):c.push(l))}for(var u=0;u<c.length;u++)i.el_.removeChild(c[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&g.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(ut||ht||nt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}c(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Ni([e.el(),o.HTMLMediaElement.prototype,Ui],"src")}(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",Fe(n,{set:function(i){var o=n.set.call(t,i);return e.triggerSourceset(t.src),o}})),t.setAttribute=function(n,o){var r=i.call(t,n,o);return/src/i.test(n)&&e.triggerSourceset(t.src),r},t.load=function(){var n=r.call(t);return Ai(e)||(e.triggerSourceset(""),Di(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):Ai(e)||Di(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var i=function n(){for(var i=0;i<e.length;i++){var o=e[i];"disabled"===o.track.mode&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)})},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=on[e],i=this.el()[n.getterName],o=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var r={change:function(n){var i={type:"change",target:o,currentTarget:o,srcElement:o};o.trigger(i),"text"===e&&t[rn.remoteText.getterName]().trigger(i)},addtrack:function(e){o.addTrack(e.track)},removetrack:function(e){o.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<o.length;t++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===o[t]){n=!0;break}n||e.push(o[t])}for(;e.length;)o.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=r,Object.keys(r).forEach(function(e){var n=r[e];i.addEventListener(e,n),t.on("dispose",function(t){return i.removeEventListener(e,n)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},n.proxyNativeTracks_=function(){var e=this;on.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=r.createElement("video");var i=Fe({},this.options_.tag&&U(this.options_.tag));ut&&!0===this.options_.nativeControlsForTouch||delete i.controls,D(e,C(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&z(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],c=this.options_[s];void 0!==c&&(c?z(e,s,s):F(e,s),e[s]=c)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),e.readyState>=2&&o.push("loadeddata"),e.readyState>=3&&o.push("canplay"),e.readyState>=4&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(e){this.trigger(e)},this)})}},n.setScrubbing=function(e){this.isScrubbing_=e},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&ft?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){g(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;return this.el_.duration===1/0&&et&&rt&&0===this.el_.currentTime?(this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=o.navigator&&o.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)St(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=r.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),o.performance&&"function"==typeof o.performance.now?e.creationTime=o.performance.now():o.performance&&o.performance.timing&&"number"==typeof o.performance.timing.navigationStart&&(e.creationTime=o.Date.now()-o.performance.timing.navigationStart),e},t}(sn);Bi(zi,"TEST_VID",function(){if(w()){var e=r.createElement("video"),t=r.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),zi.isSupported=function(){try{zi.TEST_VID.volume=.5}catch(e){return!1}return!(!zi.TEST_VID||!zi.TEST_VID.canPlayType)},zi.canPlayType=function(e){return zi.TEST_VID.canPlayType(e)},zi.canPlaySource=function(e,t){return zi.canPlayType(e.type)},zi.canControlVolume=function(){try{var e=zi.TEST_VID.volume;return zi.TEST_VID.volume=e/2+.1,e!==zi.TEST_VID.volume}catch(t){return!1}},zi.canMuteVolume=function(){try{var e=zi.TEST_VID.muted;return zi.TEST_VID.muted=!e,zi.TEST_VID.muted?z(zi.TEST_VID,"muted","muted"):F(zi.TEST_VID,"muted"),e!==zi.TEST_VID.muted}catch(t){return!1}},zi.canControlPlaybackRate=function(){if(et&&rt&&at<58)return!1;try{var e=zi.TEST_VID.playbackRate;return zi.TEST_VID.playbackRate=e/2+.1,e!==zi.TEST_VID.playbackRate}catch(t){return!1}},zi.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(r.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(r.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(r.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(r.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},zi.supportsNativeTextTracks=function(){return ft||pt&&rt},zi.supportsNativeVideoTracks=function(){return!(!zi.TEST_VID||!zi.TEST_VID.videoTracks)},zi.supportsNativeAudioTracks=function(){return!(!zi.TEST_VID||!zi.TEST_VID.audioTracks)},zi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[1];Bi(zi.prototype,e[0],function(){return zi[t]()},!0)}),zi.prototype.movingMediaElementInDOM=!pt,zi.prototype.featuresFullscreenResize=!0,zi.prototype.featuresProgressEvents=!0,zi.prototype.featuresTimeupdateEvents=!0,zi.patchCanPlayType=function(){tt>=4&&!it&&!rt&&(Vi=zi.TEST_VID&&zi.TEST_VID.constructor.prototype.canPlayType,zi.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Vi.call(this,e)})},zi.unpatchCanPlayType=function(){var e=zi.TEST_VID.constructor.prototype.canPlayType;return Vi&&(zi.TEST_VID.constructor.prototype.canPlayType=Vi),e},zi.patchCanPlayType(),zi.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},zi.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){zi.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){zi.prototype["set"+ze(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){zi.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){zi.prototype["set"+ze(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){zi.prototype[e]=function(){return this.el_[e]()}}),sn.withSourceHandlers(zi),zi.nativeSourceHandler={},zi.nativeSourceHandler.canPlayType=function(e){try{return zi.TEST_VID.canPlayType(e)}catch(t){return""}},zi.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return zi.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Gt(e.src);return zi.nativeSourceHandler.canPlayType("video/"+n)}return""},zi.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},zi.nativeSourceHandler.dispose=function(){},zi.registerSourceHandler(zi.nativeSourceHandler),sn.registerTech("Html5",zi);var Fi=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Hi={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Wi=["tiny","xsmall","small","medium","large","xlarge","huge"],$i={};Wi.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;$i[e]="vjs-layout-"+t});var Ki={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qi=function(e){function t(n,i,o){var a;if(n.id=n.id||i.id||"vjs_video_"+he(),(i=C(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var c=n.closest("[lang]");c&&c.getAttribute&&(i.language=c.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(U(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((a=e.call(this,null,i,o)||this).boundDocumentFullscreenChange_=Me(s(a),a.documentFullscreenChange_),a.boundFullWindowOnEscKey_=Me(s(a),a.fullWindowOnEscKey),a.isFullscreen_=!1,a.log=m(a.id_),a.fsApi_=Ct,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&U(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(e){u[e.toLowerCase()]=i.languages[e]}),a.languages_=u}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(e){if("function"!=typeof a[e])throw new Error('plugin "'+e+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),Ne(s(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(ye(r,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var d=Fe(a.options_);i.plugins&&Object.keys(i.plugins).forEach(function(e){a[e](i.plugins[e])}),i.debug&&a.debug(!0),a.options_.playerOptions=d,a.middleware_=[],a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),ut&&a.addClass("vjs-touch-enabled"),pt||a.addClass("vjs-workinghover"),t.players[a.id_]=s(a);var h="7.10.2".split(".")[0];return a.addClass("vjs-v"+h),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("stageclick",a.handleStageClick_),a.on("keydown",a.handleKeyDown),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}c(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),_e(r,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),_e(r,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ln[this.id()]=null,an.names.forEach(function(e){var t=n[an[e].getterName]();t&&t.off&&t.off()}),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:a||(t=this.el_=e.prototype.createEl.call(this,"div"));var s=U(n);if(a){for(t=this.el_=n,n=this.tag=r.createElement("video");t.children.length;)n.appendChild(t.firstChild);V(t,"video-js")||A(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{n[e]=t[e]}catch(i){}})}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(st||rt&&lt)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(e){a&&"class"===e||t.setAttribute(e,s[e]),a&&n.setAttribute(e,s[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=le("vjs-styles-dimensions");var c=te(".vjs-styles-defaults"),l=te("head");l.insertBefore(this.styleEl_,c?c.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=n.getElementsByTagName("a"),d=0;d<u.length;d++){var h=u.item(d);A(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),L(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):g.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?g.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t;this.fluid_=!!e,Se(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Se(t=function(){this.on("playerreset",this.updateStyleEl_)})?(void 0)():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(void 0))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ue(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(a>=0&&(c.width=a),s>=0&&(c.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=ze(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(sn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};an.names.forEach(function(e){var t=an[e];r[t.getterName]=n[t.privateName]}),C(r,this.options_[i]),C(r,this.options_[o]),C(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime);var a,s=sn.getTech(e);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(r),this.tech_.ready(Me(this,this.handleTechReady_),!0),a=this.tech_,(this.textTracksJson_||[]).forEach(function(e){var t=a.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),a.textTracks(),Fi.forEach(function(e){n.on(n.tech_,e,n["handleTech"+ze(e)+"_"])}),Object.keys(Hi).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Hi[e]+"_"].bind(n),event:t}):n["handleTech"+Hi[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||L(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e,t,n,i=this;an.names.forEach(function(e){var t=an[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=(t=(e=this.tech_).$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),Array.prototype.map.call(t,function(e){var t=Et(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Et))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&g.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(xt(i))return i.catch(n)};if("any"===e&&!0!==this.muted()?xt(n=this.play())&&(n=n.catch(i)):n="muted"===e&&!0!==this.muted()?i():this.play(),xt(n))return n.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(n){t.trigger({type:"autoplay-failure",autoplay:e})})}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),o=0;o<i.length;o++){var r=i[o];if(r.type&&r.src&&r.src===t)return r.type}return yn(t)}(this,t)),this.cache_.source=Fe({},e,{src:t,type:n});for(var i=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),o=[],r=this.$$("source"),a=[],s=0;s<r.length;s++){var c=U(r[s]);o.push(c),c.src&&c.src===t&&a.push(c.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,o=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==i)&&(n=function(){}),n(o),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))})},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(g.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){X(e)&&this.controls_&&(this.paused()?St(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),i=r[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready(function(){if(e in fn)return function(e,t,n,i){return t[n](e.reduce(gn(n),i))}(this.middleware_,this.tech_,e,t);if(e in vn)return hn(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw g(n),n}},!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in pn)return function(e,t,n){return e.reduceRight(gn(n),t[n]())}(this.middleware_,this.tech_,e);if(e in vn)return hn(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw g("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw g("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw g(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||o.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=St),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!ft&&!pt||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||bt(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=bt(0,0)),e},n.bufferedPercent=function(){return yt(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||o.Promise;if(t){var n=this;return new t(function(t,i){function o(){n.off("fullscreenerror",a),n.off("fullscreenchange",r)}function r(){o(),t()}function a(e,t){o(),i(t)}n.one("fullscreenchange",r),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);if(s)return s.then(o,o),s})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then(function(){return n.isFullscreen(!0)},function(){return n.isFullscreen(!1)}),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||o.Promise;if(e){var t=this;return new e(function(e,n){function i(){t.off("fullscreenerror",r),t.off("fullscreenchange",o)}function o(){i(),e()}function r(e,t){i(),n(t)}t.one("fullscreenchange",o),t.one("fullscreenerror",r);var a=t.exitFullscreenHelper_();if(a)return a.then(i,i),a})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=r[this.fsApi_.exitFullscreen]();return t&&t.then(function(){return e.isFullscreen(!1)}),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=r.documentElement.style.overflow,ye(r,"keydown",this.boundFullWindowOnEscKey_),r.documentElement.style.overflow="hidden",A(r.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){u.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,_e(r,"keydown",this.boundFullWindowOnEscKey_),r.documentElement.style.overflow=this.docOrigOverflow,R(r.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in r&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in r)return r.exitPictureInPicture()},n.handleKeyDown=function(e){var t,n,i=this.options_.userActions;i&&i.hotkeys&&(n=(t=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),t.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,e):this.handleHotkeys(e)))},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=t.muteKey,o=void 0===i?function(e){return u.isEventKey(e,"m")}:i,a=t.playPauseKey,s=void 0===a?function(e){return u.isEventKey(e,"k")||u.isEventKey(e,"Space")}:a;if((void 0===n?function(e){return u.isEventKey(e,"f")}:n).call(this,e)){e.preventDefault(),e.stopPropagation();var c=$e.getComponent("FullscreenToggle");!1!==r[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,e)}else o.call(this,e)?(e.preventDefault(),e.stopPropagation(),$e.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),$e.getComponent("PlayToggle").prototype.handleClick.call(this,e))},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=sn.getTech(o);if(r||(r=$e.getComponent(o)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else g.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map(function(e){return[e,sn.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(g.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(e,t,n){var i;return e.some(function(e){return t.some(function(t){if(i=n(e,t))return!0})}),i},r=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?o(e,i,(t=r,function(e,n){return t(n,e)})):o(i,e,r))||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=_n(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),dn(this,n[0],function(e,i){var o;if(t.middleware_=i,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());o=t.tech_,i.forEach(function(e){return e.setTech&&e.setTech(o)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(e){var t,n=this,i=this.selectSource([e]);return!i||(t=this.techName_,ze(i.tech)!==ze(t)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||o.Promise;this.paused()||!t?this.doReset_():St(this.play().then(function(){return e.doReset_()}))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Se(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Mt(e),this.addClass("vjs-error"),g.error("(CODE:"+this.error_.code+" "+Mt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=Me(this,this.reportUserActivity),o=function(t){i(),this.clearInterval(e)};this.on("mousedown",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())}),this.on("mouseup",o),this.on("mouseleave",o);var r,a=this.getChild("controlBar");!a||pt||et||(a.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return Fe(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Fe(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=Fe(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new It(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Wi.length;n++){var i=Wi[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass($i[e]),this.addClass($i[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=C({},Ki,e),this.updateCurrentBreakpoint_()),C(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return $i[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Fe(e);var i=this.cache_.media,o=i.poster,r=i.src,a=i.textTracks;!i.artwork&&o&&(this.cache_.media.artwork=[{src:o,type:yn(o)}]),r&&this.src(r),o&&this.poster(o),Array.isArray(a)&&a.forEach(function(e){return n.addRemoteTextTrack(e,!1)}),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:yn(t.poster)}]),t}return Fe(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=U(e),i=n["data-setup"];if(V(e,"vjs-fill")&&(n.fill=!0),V(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=l(i||"{}"),r=o[0],a=o[1];r&&g.error(r),C(n,a)}if(C(t,n),e.hasChildNodes())for(var s=e.childNodes,c=0,u=s.length;c<u;c++){var d=s[c],h=d.nodeName.toLowerCase();"source"===h?t.sources.push(U(d)):"track"===h&&t.tracks.push(U(d))}return t},n.flexNotSupported_=function(){var e=r.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t}($e);an.names.forEach(function(e){var t=an[e];qi.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),qi.prototype.crossorigin=qi.prototype.crossOrigin,qi.players={};var Gi=o.navigator;qi.prototype.options_={techOrder:sn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Gi&&(Gi.languages&&Gi.languages[0]||Gi.userLanguage||Gi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){qi.prototype[e]=function(){return this.techGet_(e)}}),Fi.forEach(function(e){qi.prototype["handleTech"+ze(e)+"_"]=function(){return this.trigger(e)}}),$e.registerComponent("Player",qi);var Ji={},Yi=function(e){return Ji.hasOwnProperty(e)},Zi=function(e){return Yi(e)?Ji[e]:void 0},Qi=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Xi=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},eo=function(e,t){return t.prototype.name=e,function(){Xi(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=p(t,[this].concat(i));return this[e]=function(){return r},Xi(this,r.getEventHash()),r}},to=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Ne(this),delete this.trigger,Ue(this,this.constructor.defaultState),Qi(t,this.name),this.dispose=Me(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Ce(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=eo(e,Ji[e])},e.isBasic=function(t){var n="string"==typeof t?Zi(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Yi(t))g.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(qi.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Ji[t]=n,"plugin"!==t&&(qi.prototype[t]=e.isBasic(n)?function(e,t){var n=function(){Xi(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Qi(this,e),Xi(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}(t,n):eo(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Yi(e)&&(delete Ji[e],delete qi.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Ji)),e.forEach(function(e){var n=Zi(e);n&&((t=t||{})[e]=n)}),t},e.getPluginVersion=function(e){var t=Zi(e);return t&&t.VERSION||""},e}();to.getPlugin=Zi,to.BASE_PLUGIN_NAME="plugin",to.registerPlugin("plugin",to),qi.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},qi.prototype.hasPlugin=function(e){return!!Yi(e)};var no=function(e){return 0===e.indexOf("#")?e.slice(1):e};function io(e,t,n){var i=io.getPlayer(e);if(i)return t&&g.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof e?te("#"+no(e)):e;if(!x(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||g.warn("The element supplied is not included in the DOM"),t=t||{},io.hooks("beforesetup").forEach(function(e){var n=e(o,Fe(t));P(n)&&!Array.isArray(n)?t=Fe(t,n):g.error("please return an object in beforesetup hooks")});var r=$e.getComponent("Player");return i=new r(o,t,n),io.hooks("setup").forEach(function(e){return e(i)}),i}if(io.hooks_={},io.hooks=function(e,t){return io.hooks_[e]=io.hooks_[e]||[],t&&(io.hooks_[e]=io.hooks_[e].concat(t)),io.hooks_[e]},io.hook=function(e,t){io.hooks(e,t)},io.hookOnce=function(e,t){io.hooks(e,[].concat(t).map(function(t){return function n(){return io.removeHook(e,n),t.apply(void 0,arguments)}}))},io.removeHook=function(e,t){var n=io.hooks(e).indexOf(t);return!(n<=-1||((io.hooks_[e]=io.hooks_[e].slice()).splice(n,1),0))},!0!==o.VIDEOJS_NO_DYNAMIC_STYLE&&w()){var oo=te(".vjs-styles-defaults");if(!oo){oo=le("vjs-styles-defaults");var ro=te("head");ro&&ro.insertBefore(oo,ro.firstChild),ue(oo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}ae(1,io),io.VERSION="7.10.2",io.options=qi.prototype.options_,io.getPlayers=function(){return qi.players},io.getPlayer=function(e){var t,n=qi.players;if("string"==typeof e){var i=no(e),o=n[i];if(o)return o;t=te("#"+i)}else t=e;if(x(t)){var r=t.player,a=t.playerId;if(r||n[a])return r||n[a]}},io.getAllPlayers=function(){return Object.keys(qi.players).map(function(e){return qi.players[e]}).filter(Boolean)},io.players=qi.players,io.getComponent=$e.getComponent,io.registerComponent=function(e,t){sn.isTech(t)&&g.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),$e.registerComponent.call($e,e,t)},io.getTech=sn.getTech,io.registerTech=sn.registerTech,io.use=function(e,t){cn[e]=cn[e]||[],cn[e].push(t)},Object.defineProperty(io,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(io.middleware,"TERMINATOR",{value:un,writeable:!1,enumerable:!0}),io.browser=vt,io.TOUCH_ENABLED=ut,io.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var o in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),f(n,e),e&&(n.super_=e),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},io.mergeOptions=Fe,io.bind=Me,io.registerPlugin=to.registerPlugin,io.deregisterPlugin=to.deregisterPlugin,io.plugin=function(e,t){return g.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),to.registerPlugin(e,t)},io.getPlugins=to.getPlugins,io.getPlugin=to.getPlugin,io.getPluginVersion=to.getPluginVersion,io.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),(io.options.languages=Fe(io.options.languages,((n={})[e]=t,n)))[e]},io.log=g,io.createLogger=m,io.createTimeRange=io.createTimeRanges=bt,io.formatTime=jn,io.setFormatTime=function(e){In=e},io.resetFormatTime=function(){In=En},io.parseUrl=Kt,io.isCrossOrigin=Jt,io.EventTarget=xe,io.on=ye,io.one=Pe,io.off=_e,io.trigger=Ce,io.xhr=d,io.TextTrack=Xt,io.AudioTrack=en,io.VideoTrack=tn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){io[e]=function(){return g.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ie[e].apply(null,arguments)}}),io.computedStyle=T,io.dom=ie,io.url=Yt,io.defineLazyProperty=Bi,e.exports=io},zFeg:function(e,t,n){var i,o="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},r=n(8);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=i}}])}();