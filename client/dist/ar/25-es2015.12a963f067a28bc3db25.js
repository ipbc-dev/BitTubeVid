(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{V0Sv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return Ca}));var o=n("I5S5"),c=n("fXoL"),i=n("ofXK"),a=n("t2ka"),r=n("3Pt+");const l=function(){return["ui-clickable","ui-button-icon-left"]};function s(e,t){if(1&e&&c.Rb(0,"span",8),2&e){const e=c.oc(2).$implicit;c.Fb(e.icon),c.vc("ngClass",c.yc(3,l))}}function b(e,t){if(1&e&&(c.Ub(0),c.Sc(1,s,1,4,"span",6),c.Wb(2,"span",7),c.Uc(3),c.Vb(),c.Tb()),2&e){const e=c.oc().$implicit;c.Db(1),c.vc("ngIf",e.icon),c.Db(2),c.Vc(e.label||"ui-btn")}}function d(e,t){1&e&&c.Sb(0)}const g=function(e,t){return{$implicit:e,index:t}};function u(e,t){if(1&e&&c.Sc(0,d,1,0,"ng-container",9),2&e){const e=c.oc(),t=e.$implicit,n=e.index,o=c.oc();c.vc("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",c.Ac(2,g,t,n))}}const p=function(e,t,n,o,c){return{"ui-state-active":e,"ui-state-disabled":t,"ui-state-focus":n,"ui-button-text-icon-left":o,"ui-button-icon-only":c}};function f(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",2,3),c.kc("click",(function(n){c.Jc(e);const o=t.$implicit,i=t.index;return c.oc().onItemClick(n,o,i)}))("keydown.enter",(function(n){c.Jc(e);const o=t.$implicit,i=t.index;return c.oc().onItemClick(n,o,i)}))("focus",(function(t){return c.Jc(e),c.oc().onFocus(t)}))("blur",(function(t){return c.Jc(e),c.oc().onBlur(t)})),c.Sc(2,b,4,2,"ng-container",4),c.Sc(3,u,1,5,"ng-template",null,5,c.Tc),c.Vb()}if(2&e){const e=t.$implicit,n=c.Hc(1),o=c.Hc(4),i=c.oc();c.Gb("ui-button ui-widget ui-state-default ui-button-text-only ",e.styleClass,""),c.vc("ngClass",c.Dc(11,p,i.isSelected(e),i.disabled||e.disabled,n==i.focusedItem,null!=e.icon,e.icon&&!e.label)),c.Eb("aria-pressed",i.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),c.Db(2),c.vc("ngIf",!i.itemTemplate)("ngIfElse",o)}}const m={provide:r.r,useExisting:Object(c.W)(()=>h),multi:!0};let h=(()=>{let e=class{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new c.n,this.onChange=new c.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(e){}ngOnChanges(e){e.options&&(this._options=this.optionLabel?a.b.generateSelectItems(e.options.currentValue,this.optionLabel):e.options.currentValue)}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onItemClick(e,t,n){if(!this.disabled&&!t.disabled){if(this.multiple){let e=this.findItemIndex(t);this.value=-1!=e?this.value.filter((t,n)=>n!=e):[...this.value||[],t.value]}else this.value=t.value;this.onOptionClick.emit({originalEvent:e,option:t,index:n}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}}onFocus(e){this.focusedItem=e.target}onBlur(e){this.focusedItem=null,this.onModelTouched()}isSelected(e){return this.multiple?-1!=this.findItemIndex(e):a.b.equals(e.value,this.value,this.dataKey)}findItemIndex(e){let t=-1;if(this.value)for(let n=0;n<this.value.length;n++)if(this.value[n]==e.value){t=n;break}return t}};return e.\u0275fac=function(t){return new(t||e)(c.Qb(c.h))},e.\u0275cmp=c.Kb({type:e,selectors:[["p-selectButton"]],contentQueries:function(e,t,n){var o;1&e&&c.Jb(n,c.O,!0),2&e&&c.Gc(o=c.lc())&&(t.itemTemplate=o.first)},inputs:{tabindex:"tabindex",options:"options",disabled:"disabled",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",dataKey:"dataKey",optionLabel:"optionLabel"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[c.Cb([m]),c.Bb],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["role","button",3,"class","ngClass","click","keydown.enter","focus","blur",4,"ngFor","ngForOf"],["role","button",3,"ngClass","click","keydown.enter","focus","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"ui-button-text","ui-clickable"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Sc(1,f,5,17,"div",1),c.Vb()),2&e&&(c.Fb(t.styleClass),c.vc("ngClass","ui-selectbutton ui-buttonset ui-widget ui-corner-all ui-buttonset-"+(t.options?t.options.length:0))("ngStyle",t.style),c.Db(1),c.vc("ngForOf",t.options))},directives:[i.r,i.x,i.t,i.u,i.B],encapsulation:2}),e})(),C=(()=>{let e=class{};return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var v=n("rEr+"),O=n("004f"),P=n("sWvm"),_=n("P8w3"),M=n("xMQD"),y=n("HIM4"),w=n("tyNb"),x=n("mrSG"),V=n("cp0P"),k=n("JIr8"),W=n("ey9i"),S=n("AytR"),z=n("tk/3");let T=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t,this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.videoQuotaOptions=[{value:void 0,label:"Default quota",disabled:!0},{value:-1,label:"\u0628\u0644\u0627 \u062D\u062F\u0648\u062F"},{value:void 0,label:"\u2500\u2500\u2500\u2500\u2500",disabled:!0},{value:0,label:"\u0628\u0644\u0627 - \u0644\u0627 \u064A\u0648\u062C\u062F \u062A\u062D\u0645\u064A\u0644 \u0645\u0645\u0643\u0646"},{value:104857600,label:"100 \u0645\u064A\u063A\u0627 \u0628\u0627\u064A\u062A"},{value:524288e3,label:"500 \u0645\u064A\u063A\u0627 \u0628\u0627\u064A\u062A"},{value:1073741824,label:"1 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"},{value:5368709120,label:"5 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"},{value:21474836480,label:"20 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"},{value:53687091200,label:"50 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"}],this.videoQuotaDailyOptions=[{value:void 0,label:"Default daily upload limit",disabled:!0},{value:-1,label:"\u0628\u0644\u0627 \u062D\u062F\u0648\u062F"},{value:void 0,label:"\u2500\u2500\u2500\u2500\u2500",disabled:!0},{value:0,label:"\u0628\u0644\u0627 - \u0644\u0627 \u064A\u0648\u062C\u062F \u062A\u062D\u0645\u064A\u0644 \u0645\u0645\u0643\u0646"},{value:10485760,label:"10 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A"},{value:52428800,label:"50 \u0645\u064A\u063A\u0627 \u0628\u0627\u064A\u062A"},{value:104857600,label:"100 \u0645\u064A\u063A\u0627 \u0628\u0627\u064A\u062A"},{value:524288e3,label:"500 \u0645\u064A\u063A\u0627 \u0628\u0627\u064A\u062A"},{value:2147483648,label:"2 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"},{value:5368709120,label:"5 \u062C\u064A\u062C\u0627\u0628\u0627\u064A\u062A"}]}getCustomConfig(){return this.authHttp.get(e.BASE_APPLICATION_URL+"/custom").pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}updateCustomConfig(t){return this.authHttp.put(e.BASE_APPLICATION_URL+"/custom",t).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_APPLICATION_URL=S.a.apiUrl+"/api/v1/config",e.\u0275fac=function(t){return new(t||e)(c.hc(z.b),c.hc(W.RestExtractor))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac}),e})();var D=n("pyEO");const R={VALIDATORS:[r.G.required],MESSAGES:{required:"\u0627\u0633\u0645 \u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u062F\u0648\u0645 \u0645\u0637\u0644\u0648\u0628."}},$={VALIDATORS:[r.G.max(250)],MESSAGES:{max:"\u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u0632\u064A\u062F \u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u0645\u062E\u062A\u0635\u0631 \u0639\u0646 250 \u062D\u0631\u0641\u064B\u0627."}},I={VALIDATORS:[r.G.required],MESSAGES:{required:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0650\u0645 \u0639\u0644\u0649 \u062A\u0648\u064A\u062A\u0631 \u0645\u0637\u0644\u0648\u0628."}},U={VALIDATORS:[r.G.required,r.G.min(1),r.G.pattern("[0-9]+")],MESSAGES:{required:"\u0645\u0639\u0627\u064A\u0646\u0629 \u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0645\u0637\u0644\u0648\u0628\u0629.",min:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0644\u0644\u0645\u0639\u0627\u064A\u0646\u0627\u062A \u0623\u0643\u0628\u0631 \u0645\u0646 1.",pattern:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0644\u0644\u0645\u0639\u0627\u064A\u0646\u0627\u062A \u0631\u0642\u0645\u064B\u0627."}},A={VALIDATORS:[r.G.required,r.G.min(1),r.G.pattern("[0-9]+")],MESSAGES:{required:"\u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0644\u0644\u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0645\u0637\u0644\u0648\u0628.",min:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0644\u0644\u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0623\u0643\u0628\u0631 \u0645\u0646 1.",pattern:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062C\u0645 \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0644\u0644\u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0631\u0642\u0645\u064B\u0627."}},E={VALIDATORS:[r.G.required,r.G.min(-1),r.G.pattern("-?[0-9]+")],MESSAGES:{required:"\u062D\u062F \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0645\u0637\u0644\u0648\u0628.",min:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062F \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0623\u0643\u0628\u0631 \u0645\u0646 1.",pattern:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u062F \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0631\u0642\u0645\u064B\u0627."}},L={VALIDATORS:[r.G.required,r.G.email],MESSAGES:{required:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u062F\u064A\u0631 \u0645\u0637\u0644\u0648\u0628.",email:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u062E\u0627\u0635 \u0628\u0627\u0644\u0645\u062F\u064A\u0631 \u0635\u0627\u0644\u062D\u064B\u0627."}},N={VALIDATORS:[r.G.required,r.G.min(0)],MESSAGES:{required:"\u062E\u064A\u0648\u0637 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0645\u0637\u0644\u0648\u0628\u0629.",min:"\u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0633\u0644\u0627\u0633\u0644 \u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0634\u0641\u0631\u0629 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0623\u0648 \u062A\u0633\u0627\u0648\u064A 0."}},F={VALIDATORS:[r.G.pattern(/^https:\/\//)],MESSAGES:{pattern:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0644\u0641\u0647\u0631\u0633 \u0639\u0646\u0648\u0627\u0646 URL"}},G={VALIDATORS:[r.G.pattern(/^https?:\/\//)],MESSAGES:{pattern:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0641\u0647\u0631\u0633 \u0627\u0644\u0628\u062D\u062B \u0647\u0648 \u0639\u0646\u0648\u0627\u0646 URL"}};var B=n("nnN+"),j=n("1kSV"),Q=n("1lk2"),H=n("GMov"),q=n("JJg0"),K=n("/xt7"),J=n("BLxp");const X=["nav"];function Y(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.name)}}function Z(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.shortDescription)}}function ee(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.description)}}function te(e,t){1&e&&(c.Ub(0),c.ac(1,102),c.Tb())}function ne(e,t){1&e&&(c.Ub(0),c.gc(1,103),c.Rb(2,"br"),c.Rb(3,"br"),c.dc(),c.Tb())}function oe(e,t){1&e&&(c.Ub(0),c.gc(1,104),c.Rb(2,"strong"),c.Rb(3,"strong"),c.dc(),c.Tb())}function ce(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.defaultNSFWPolicy)}}function ie(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.terms)}}function ae(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.codeOfConduct)}}function re(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.moderationInformation)}}function le(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.administrator)}}function se(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.creationReason)}}function be(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.maintenanceLifetime)}}function de(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.businessModel)}}function ge(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.hardwareInformation)}}const ue=function(e){return{"input-error":e}};function pe(e,t){if(1&e&&(c.Ub(0,22),c.Wb(1,"div",23),c.Wb(2,"div",24),c.Wb(3,"div",25),c.ac(4,26),c.Vb(),c.Vb(),c.Wb(5,"div",27),c.Wb(6,"div",28),c.Wb(7,"label",29),c.ac(8,30),c.Vb(),c.Rb(9,"input",31),c.Sc(10,Y,2,1,"div",32),c.Vb(),c.Wb(11,"div",28),c.Wb(12,"label",33),c.ac(13,34),c.Vb(),c.Rb(14,"textarea",35),c.Sc(15,Z,2,1,"div",32),c.Vb(),c.Wb(16,"div",28),c.Wb(17,"label",36),c.ac(18,37),c.Vb(),c.Rb(19,"my-help",38),c.Rb(20,"my-markdown-textarea",39),c.Sc(21,ee,2,1,"div",32),c.Vb(),c.Wb(22,"div",28),c.Wb(23,"label",40),c.ac(24,41),c.Vb(),c.Wb(25,"div"),c.Wb(26,"my-select-checkbox",42),c.cc(27,43),c.Vb(),c.Vb(),c.Vb(),c.Wb(28,"div",28),c.Wb(29,"label",44),c.ac(30,45),c.Vb(),c.Wb(31,"div"),c.Wb(32,"my-select-checkbox",46),c.cc(33,47),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(34,"div",16),c.Wb(35,"div",24),c.Wb(36,"div",25),c.ac(37,48),c.Vb(),c.Wb(38,"div",49),c.gc(39,50),c.Rb(40,"a",51),c.dc(),c.Vb(),c.Vb(),c.Wb(41,"div",27),c.Wb(42,"div",28),c.Wb(43,"my-peertube-checkbox",52),c.Sc(44,te,2,0,"ng-template",53),c.Sc(45,ne,4,0,"ng-template",54),c.Vb(),c.Vb(),c.Wb(46,"div",28),c.Wb(47,"label",55),c.ac(48,56),c.Vb(),c.Wb(49,"my-help"),c.Sc(50,oe,4,0,"ng-template",57),c.Vb(),c.Wb(51,"div",58),c.Wb(52,"select",59),c.Wb(53,"option",60),c.ac(54,61),c.Vb(),c.Wb(55,"option",62),c.ac(56,63),c.Vb(),c.Wb(57,"option",64),c.ac(58,65),c.Vb(),c.Wb(59,"option",66),c.ac(60,67),c.Vb(),c.Vb(),c.Vb(),c.Sc(61,ce,2,1,"div",32),c.Vb(),c.Wb(62,"div",28),c.Wb(63,"label",68),c.ac(64,69),c.Vb(),c.Rb(65,"my-help",38),c.Rb(66,"my-markdown-textarea",70),c.Sc(67,ie,2,1,"div",32),c.Vb(),c.Wb(68,"div",28),c.Wb(69,"label",71),c.ac(70,72),c.Vb(),c.Rb(71,"my-help",38),c.Rb(72,"my-markdown-textarea",73),c.Sc(73,ae,2,1,"div",32),c.Vb(),c.Wb(74,"div",28),c.Wb(75,"label",74),c.ac(76,75),c.Vb(),c.Rb(77,"my-help",38),c.Wb(78,"div",76),c.ac(79,77),c.Vb(),c.Rb(80,"my-markdown-textarea",78),c.Sc(81,re,2,1,"div",32),c.Vb(),c.Vb(),c.Vb(),c.Wb(82,"div",16),c.Wb(83,"div",24),c.Wb(84,"div",25),c.ac(85,79),c.Vb(),c.Vb(),c.Wb(86,"div",27),c.Wb(87,"div",28),c.Wb(88,"label",80),c.ac(89,81),c.Vb(),c.Wb(90,"div",76),c.ac(91,82),c.Vb(),c.Rb(92,"my-markdown-textarea",83),c.Sc(93,le,2,1,"div",32),c.Vb(),c.Wb(94,"div",28),c.Wb(95,"label",84),c.ac(96,85),c.Vb(),c.Wb(97,"div",76),c.ac(98,86),c.Vb(),c.Rb(99,"textarea",87),c.Sc(100,se,2,1,"div",32),c.Vb(),c.Wb(101,"div",28),c.Wb(102,"label",88),c.ac(103,89),c.Vb(),c.Wb(104,"div",76),c.ac(105,90),c.Vb(),c.Rb(106,"textarea",91),c.Sc(107,be,2,1,"div",32),c.Vb(),c.Wb(108,"div",28),c.Wb(109,"label",92),c.ac(110,93),c.Vb(),c.Wb(111,"div",76),c.ac(112,94),c.Vb(),c.Rb(113,"textarea",95),c.Sc(114,de,2,1,"div",32),c.Vb(),c.Vb(),c.Vb(),c.Wb(115,"div",16),c.Wb(116,"div",24),c.Wb(117,"div",25),c.ac(118,96),c.Vb(),c.Vb(),c.Wb(119,"div",27),c.Wb(120,"div",28),c.Wb(121,"label",97),c.ac(122,98),c.Vb(),c.Wb(123,"div",76),c.ac(124,99),c.Vb(),c.Rb(125,"my-markdown-textarea",100),c.Sc(126,ge,2,1,"div",32),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.oc();c.Db(9),c.vc("ngClass",c.zc(27,ue,e.formErrors.instance.name)),c.Db(1),c.vc("ngIf",e.formErrors.instance.name),c.Db(4),c.vc("ngClass",c.zc(29,ue,e.formErrors["instance.shortDescription"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.shortDescription),c.Db(5),c.vc("classes",c.zc(31,ue,e.formErrors["instance.description"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.description),c.Db(5),c.vc("availableItems",e.categoryItems)("selectableGroup",!1),c.Db(6),c.vc("availableItems",e.languageItems)("selectableGroup",!1),c.Db(29),c.vc("ngIf",e.formErrors.instance.defaultNSFWPolicy),c.Db(5),c.vc("ngClass",c.zc(33,ue,e.formErrors["instance.terms"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.terms),c.Db(5),c.vc("ngClass",c.zc(35,ue,e.formErrors["instance.codeOfConduct"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.codeOfConduct),c.Db(7),c.vc("ngClass",c.zc(37,ue,e.formErrors["instance.moderationInformation"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.moderationInformation),c.Db(11),c.vc("classes",c.zc(39,ue,e.formErrors["instance.administrator"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.administrator),c.Db(6),c.vc("ngClass",c.zc(41,ue,e.formErrors["instance.creationReason"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.creationReason),c.Db(6),c.vc("ngClass",c.zc(43,ue,e.formErrors["instance.maintenanceLifetime"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.maintenanceLifetime),c.Db(6),c.vc("ngClass",c.zc(45,ue,e.formErrors["instance.businessModel"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.businessModel),c.Db(11),c.vc("classes",c.zc(47,ue,e.formErrors["instance.hardwareInformation"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.hardwareInformation)}}function fe(e,t){if(1&e&&(c.Wb(0,"option",239),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e),c.Db(1),c.Vc(e)}}function me(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.defaultClientRoute)}}function he(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.broadcastMessage.level)}}function Ce(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.broadcastMessage.message)}}function ve(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.signup.limit)}}function Oe(e,t){1&e&&(c.Wb(0,"small",240),c.Uc(1,"Signup won't be limited to a fixed number of users."),c.Vb())}function Pe(e,t){if(1&e&&(c.Wb(0,"option",241),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function _e(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.user.videoQuota)}}function Me(e,t){if(1&e&&(c.Wb(0,"option",241),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function ye(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.user.videoQuotaDaily)}}function we(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.search.searchIndex.url)}}function xe(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.followings.instance.autoFollowIndex.indexUrl)}}function Ve(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.admin.email)}}const ke=function(e){return{"disabled-checkbox-extra":e}};function We(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",23),c.Wb(1,"div",24),c.Wb(2,"div",25),c.ac(3,105),c.Vb(),c.Wb(4,"div",49),c.gc(5,106),c.Rb(6,"a",107),c.Wb(7,"a",108),c.kc("click",(function(){return c.Jc(e),c.oc().gotoAnchor()})),c.Vb(),c.dc(),c.Vb(),c.Vb(),c.Wb(8,"div",27),c.Ub(9,109),c.Wb(10,"div",28),c.Wb(11,"label",110),c.ac(12,111),c.Vb(),c.Wb(13,"div",58),c.Wb(14,"select",112),c.Wb(15,"option",113),c.ac(16,114),c.Vb(),c.Sc(17,fe,2,2,"option",115),c.Vb(),c.Vb(),c.Vb(),c.Tb(),c.Wb(18,"div",116),c.Wb(19,"label",117),c.ac(20,118),c.Vb(),c.Wb(21,"div",58),c.Wb(22,"select",119),c.Wb(23,"option",120),c.ac(24,121),c.Vb(),c.Wb(25,"option",122),c.ac(26,123),c.Vb(),c.Wb(27,"option",124),c.ac(28,125),c.Vb(),c.Wb(29,"option",126),c.ac(30,127),c.Vb(),c.Wb(31,"option",128),c.ac(32,129),c.Vb(),c.Vb(),c.Vb(),c.Sc(33,me,2,1,"div",32),c.Vb(),c.Vb(),c.Vb(),c.Wb(34,"div",16),c.Wb(35,"div",24),c.Wb(36,"div",25),c.ac(37,130),c.Vb(),c.Wb(38,"div",49),c.ac(39,131),c.Vb(),c.Vb(),c.Wb(40,"div",27),c.Ub(41,132),c.Wb(42,"div",28),c.Wb(43,"my-peertube-checkbox",133),c.cc(44,134),c.Vb(),c.Vb(),c.Wb(45,"div",28),c.Wb(46,"my-peertube-checkbox",135),c.cc(47,136),c.Vb(),c.Vb(),c.Wb(48,"div",28),c.Wb(49,"label",137),c.ac(50,138),c.Vb(),c.Wb(51,"div",58),c.Wb(52,"select",139),c.Wb(53,"option",140),c.Uc(54,"info"),c.Vb(),c.Wb(55,"option",141),c.Uc(56,"warning"),c.Vb(),c.Wb(57,"option",142),c.Uc(58,"error"),c.Vb(),c.Vb(),c.Vb(),c.Sc(59,he,2,1,"div",32),c.Vb(),c.Wb(60,"div",28),c.Wb(61,"label",143),c.ac(62,144),c.Vb(),c.Rb(63,"my-help",38),c.Rb(64,"my-markdown-textarea",145),c.Sc(65,Ce,2,1,"div",32),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(66,"div",16),c.Wb(67,"div",24),c.Wb(68,"div",25),c.ac(69,146),c.Vb(),c.Wb(70,"div",49),c.gc(71,147),c.Rb(72,"a",51),c.dc(),c.Vb(),c.Vb(),c.Wb(73,"div",27),c.Ub(74,148),c.Wb(75,"div",28),c.Wb(76,"my-peertube-checkbox",149),c.cc(77,150),c.Ub(78,151),c.Wb(79,"span"),c.ac(80,152),c.Vb(),c.Tb(),c.Ub(81,153),c.Wb(82,"my-peertube-checkbox",154),c.cc(83,155),c.Vb(),c.Wb(84,"div",156),c.Wb(85,"label",157),c.ac(86,158),c.Vb(),c.Rb(87,"input",159),c.Sc(88,ve,2,1,"div",32),c.Sc(89,Oe,2,0,"small",160),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Ub(90,161),c.Wb(91,"div",28),c.Wb(92,"label",162),c.ac(93,163),c.Vb(),c.Wb(94,"div",58),c.Wb(95,"select",164),c.Sc(96,Pe,2,3,"option",165),c.Vb(),c.Vb(),c.Sc(97,_e,2,1,"div",32),c.Vb(),c.Wb(98,"div",28),c.Wb(99,"label",166),c.ac(100,167),c.Vb(),c.Wb(101,"div",58),c.Wb(102,"select",168),c.Sc(103,Me,2,3,"option",165),c.Vb(),c.Vb(),c.Sc(104,ye,2,1,"div",32),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(105,"div",16),c.Wb(106,"div",24),c.Wb(107,"div",25),c.ac(108,169),c.Vb(),c.Vb(),c.Wb(109,"div",27),c.Ub(110,170),c.Ub(111,171),c.Wb(112,"div",172),c.Wb(113,"my-peertube-checkbox",173),c.cc(114,174),c.Vb(),c.Vb(),c.Wb(115,"div",175),c.Wb(116,"my-peertube-checkbox",176),c.cc(117,177),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Ub(118,178),c.Ub(119,171),c.Ub(120,179),c.Wb(121,"div",28),c.Wb(122,"my-peertube-checkbox",180),c.cc(123,181),c.Ub(124,151),c.Wb(125,"span"),c.ac(126,182),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(127,"div",16),c.Wb(128,"div",24),c.Wb(129,"div",25),c.ac(130,183),c.Vb(),c.Vb(),c.Wb(131,"div",27),c.Ub(132,184),c.Ub(133,185),c.Wb(134,"div",28),c.Wb(135,"my-peertube-checkbox",186),c.cc(136,187),c.Ub(137,151),c.Wb(138,"span"),c.gc(139,188),c.Rb(140,"strong"),c.dc(),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(141,"div",28),c.Wb(142,"my-peertube-checkbox",189),c.cc(143,190),c.Ub(144,151),c.Wb(145,"span"),c.gc(146,191),c.Rb(147,"strong"),c.dc(),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Ub(148,192),c.Wb(149,"div",28),c.Wb(150,"my-peertube-checkbox",193),c.cc(151,194),c.Ub(152,151),c.Wb(153,"p"),c.ac(154,195),c.Vb(),c.Wb(155,"span"),c.gc(156,196),c.Rb(157,"a",197),c.dc(),c.Vb(),c.Tb(),c.Ub(158,153),c.Wb(159,"div",198),c.Wb(160,"label",199),c.ac(161,200),c.Vb(),c.Rb(162,"input",201),c.Sc(163,we,2,1,"div",32),c.Vb(),c.Wb(164,"div",202),c.Wb(165,"my-peertube-checkbox",203),c.cc(166,204),c.Vb(),c.Vb(),c.Wb(167,"div",202),c.Wb(168,"my-peertube-checkbox",205),c.cc(169,206),c.Ub(170,151),c.Wb(171,"span"),c.ac(172,207),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(173,"div",16),c.Wb(174,"div",24),c.Wb(175,"div",25),c.ac(176,208),c.Vb(),c.Wb(177,"div",209),c.gc(178,210),c.Rb(179,"a",211),c.dc(),c.Vb(),c.Vb(),c.Wb(180,"div",27),c.Ub(181,212),c.Ub(182,22),c.Wb(183,"div",28),c.Wb(184,"my-peertube-checkbox",213),c.cc(185,214),c.Vb(),c.Vb(),c.Wb(186,"div",28),c.Wb(187,"my-peertube-checkbox",215),c.cc(188,216),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Ub(189,217),c.Ub(190,22),c.Ub(191,218),c.Wb(192,"div",28),c.Wb(193,"my-peertube-checkbox",219),c.cc(194,220),c.Ub(195,151),c.Wb(196,"span"),c.ac(197,221),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Ub(198,222),c.Wb(199,"div",28),c.Wb(200,"my-peertube-checkbox",223),c.cc(201,224),c.Ub(202,151),c.Wb(203,"p"),c.ac(204,225),c.Vb(),c.Wb(205,"span"),c.gc(206,226),c.Rb(207,"a",227),c.dc(),c.Vb(),c.Tb(),c.Ub(208,153),c.Wb(209,"div",198),c.Wb(210,"label",228),c.ac(211,229),c.Vb(),c.Rb(212,"input",230),c.Sc(213,xe,2,1,"div",32),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(214,"div",16),c.Wb(215,"div",24),c.Wb(216,"div",25),c.ac(217,231),c.Vb(),c.Vb(),c.Wb(218,"div",27),c.Wb(219,"div",232),c.Wb(220,"label",233),c.ac(221,234),c.Vb(),c.Rb(222,"input",235),c.Sc(223,Ve,2,1,"div",32),c.Vb(),c.Wb(224,"div",236),c.Wb(225,"my-peertube-checkbox",237),c.cc(226,238),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.oc();c.Db(17),c.vc("ngForOf",e.availableThemes),c.Db(16),c.vc("ngIf",e.formErrors.instance.defaultClientRoute),c.Db(26),c.vc("ngIf",e.formErrors.broadcastMessage.level),c.Db(5),c.vc("classes",c.zc(24,ue,e.formErrors["broadcastMessage.message"])),c.Db(1),c.vc("ngIf",e.formErrors.broadcastMessage.message),c.Db(17),c.vc("ngClass",c.zc(26,ke,!e.isSignupEnabled())),c.Db(2),c.vc("ngClass",c.zc(28,ke,!e.isSignupEnabled())),c.Db(3),c.vc("ngClass",c.zc(30,ue,e.formErrors["signup.limit"])),c.Db(1),c.vc("ngIf",e.formErrors.signup.limit),c.Db(1),c.vc("ngIf",-1===e.form.value.signup.limit),c.Db(7),c.vc("ngForOf",e.videoQuotaOptions),c.Db(1),c.vc("ngIf",e.formErrors.user.videoQuota),c.Db(6),c.vc("ngForOf",e.videoQuotaDailyOptions),c.Db(1),c.vc("ngIf",e.formErrors.user.videoQuotaDaily),c.Db(55),c.vc("ngClass",c.zc(32,ke,!e.isSearchIndexEnabled())),c.Db(3),c.vc("ngClass",c.zc(34,ue,e.formErrors["search.searchIndex.url"])),c.Db(1),c.vc("ngIf",e.formErrors.search.searchIndex.url),c.Db(2),c.vc("ngClass",c.zc(36,ke,!e.isSearchIndexEnabled())),c.Db(3),c.vc("ngClass",c.zc(38,ke,!e.isSearchIndexEnabled())),c.Db(41),c.vc("ngClass",c.zc(40,ke,!e.isAutoFollowIndexEnabled())),c.Db(3),c.vc("ngClass",c.zc(42,ue,e.formErrors["followings.instance.autoFollowIndex.indexUrl"])),c.Db(1),c.vc("ngIf",e.formErrors.followings.instance.autoFollowIndex.indexUrl),c.Db(9),c.vc("ngClass",c.zc(44,ue,e.formErrors["admin.email"])),c.Db(1),c.vc("ngIf",e.formErrors.admin.email)}}function Se(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.services.twitter.username)}}function ze(e,t){1&e&&(c.Ub(0),c.ac(1,249),c.Tb())}function Te(e,t){1&e&&(c.Ub(0),c.gc(1,250),c.Rb(2,"br"),c.Rb(3,"br"),c.Rb(4,"br"),c.Rb(5,"a",251),c.dc(),c.Tb())}function De(e,t){if(1&e&&(c.Wb(0,"div",23),c.Wb(1,"div",24),c.Wb(2,"div",25),c.ac(3,242),c.Vb(),c.Wb(4,"div",209),c.ac(5,243),c.Vb(),c.Vb(),c.Wb(6,"div",27),c.Ub(7,244),c.Ub(8,245),c.Wb(9,"div",28),c.Wb(10,"label",157),c.ac(11,246),c.Vb(),c.Rb(12,"input",247),c.Sc(13,Se,2,1,"div",32),c.Vb(),c.Wb(14,"div",28),c.Wb(15,"my-peertube-checkbox",248),c.Sc(16,ze,2,0,"ng-template",53),c.Sc(17,Te,6,0,"ng-template",54),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(12),c.vc("ngClass",c.zc(2,ue,e.formErrors["services.twitter.username"])),c.Db(1),c.vc("ngIf",e.formErrors.services.twitter.username)}}function Re(e,t){1&e&&(c.Ub(0),c.ac(1,296),c.Tb())}function $e(e,t){1&e&&(c.Ub(0),c.ac(1,297),c.Tb())}function Ie(e,t){1&e&&(c.Ub(0),c.gc(1,298),c.Rb(2,"strong"),c.Rb(3,"p"),c.Rb(4,"br"),c.Rb(5,"strong"),c.dc(),c.Tb())}function Ue(e,t){1&e&&(c.Ub(0),c.gc(1,299),c.Rb(2,"strong"),c.Rb(3,"p"),c.Wb(4,"ul"),c.Rb(5,"li"),c.Rb(6,"li"),c.Rb(7,"li"),c.Vb(),c.Rb(8,"p"),c.dc(),c.Tb())}function Ae(e,t){if(1&e&&(c.Wb(0,"option",239),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value),c.Db(1),c.Wc(" ",e.label," ")}}function Ee(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.transcoding.threads)}}function Le(e,t){if(1&e&&c.Rb(0,"div",302),2&e){const e=c.oc(2).$implicit;c.vc("innerHTML",e.description,c.Kc)}}function Ne(e,t){1&e&&c.Sc(0,Le,1,1,"ng-template",54)}function Fe(e,t){if(1&e&&(c.Wb(0,"div",28),c.Wb(1,"my-peertube-checkbox",300),c.Sc(2,Ne,1,0,void 0,301),c.Vb(),c.Vb()),2&e){const e=t.$implicit,n=c.oc(2);c.Db(1),c.wc("labelText",e.label),c.vc("inputName",n.getResolutionKey(e.id))("formControlName",e.id),c.Db(1),c.vc("ngIf",e.description)}}function Ge(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.cache.previews.size)}}function Be(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.cache.captions.size)}}function je(e,t){1&e&&(c.Ub(0),c.gc(1,303),c.Rb(2,"br"),c.Rb(3,"pre"),c.dc(),c.Tb())}function Qe(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.customizations.javascript)}}function He(e,t){1&e&&(c.Ub(0),c.gc(1,304),c.Rb(2,"br"),c.Rb(3,"br"),c.Rb(4,"pre"),c.Rb(5,"em"),c.Rb(6,"br"),c.Rb(7,"br"),c.Rb(8,"pre"),c.dc(),c.Tb()),2&e&&(c.Db(8),c.ec("{")("}")("{")("}"),c.bc(1))}function qe(e,t){if(1&e&&(c.Wb(0,"div",101),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.formErrors.instance.customizations.css)}}function Ke(e,t){if(1&e&&(c.Wb(0,"div",23),c.Wb(1,"div",24),c.Wb(2,"div",25),c.ac(3,252),c.Vb(),c.Wb(4,"div",209),c.ac(5,253),c.Vb(),c.Vb(),c.Wb(6,"div",27),c.Ub(7,254),c.Wb(8,"div",28),c.Wb(9,"my-peertube-checkbox",255),c.Sc(10,Re,2,0,"ng-template",53),c.Sc(11,$e,2,0,"ng-template",54),c.Ub(12,153),c.Wb(13,"div",256),c.Wb(14,"my-peertube-checkbox",257),c.cc(15,258),c.Ub(16,151),c.Wb(17,"span"),c.ac(18,259),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(19,"div",256),c.Wb(20,"my-peertube-checkbox",260),c.cc(21,261),c.Ub(22,151),c.Wb(23,"span"),c.ac(24,262),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Ub(25,263),c.Wb(26,"div",256),c.Wb(27,"my-peertube-checkbox",264),c.cc(28,265),c.Sc(29,Ie,6,0,"ng-template",54),c.Vb(),c.Vb(),c.Tb(),c.Ub(30,266),c.Wb(31,"div",256),c.Wb(32,"my-peertube-checkbox",267),c.cc(33,268),c.Sc(34,Ue,9,0,"ng-template",54),c.Vb(),c.Vb(),c.Tb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(35,"div",256),c.Wb(36,"label",269),c.ac(37,270),c.Vb(),c.Wb(38,"div",58),c.Wb(39,"select",271),c.Sc(40,Ae,2,2,"option",115),c.Vb(),c.Vb(),c.Sc(41,Ee,2,1,"div",32),c.Vb(),c.Wb(42,"div",256),c.Wb(43,"label",269),c.ac(44,272),c.Vb(),c.Wb(45,"div",273),c.Ub(46,274),c.Sc(47,Fe,3,4,"div",275),c.Tb(),c.Vb(),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(48,"div",16),c.Wb(49,"div",24),c.Wb(50,"div",25),c.ac(51,276),c.Vb(),c.Wb(52,"div",209),c.ac(53,277),c.Vb(),c.Vb(),c.Wb(54,"div",27),c.Ub(55,278),c.Wb(56,"div",279),c.Wb(57,"label",280),c.ac(58,281),c.Vb(),c.Rb(59,"input",282),c.Sc(60,Ge,2,1,"div",32),c.Vb(),c.Wb(61,"div",283),c.Wb(62,"label",284),c.ac(63,285),c.Vb(),c.Rb(64,"input",286),c.Sc(65,Be,2,1,"div",32),c.Vb(),c.Tb(),c.Vb(),c.Vb(),c.Wb(66,"div",16),c.Wb(67,"div",24),c.Rb(68,"div",287),c.Wb(69,"div",25),c.ac(70,288),c.Vb(),c.Wb(71,"div",209),c.ac(72,289),c.Vb(),c.Vb(),c.Wb(73,"div",27),c.Ub(74,22),c.Ub(75,290),c.Wb(76,"div",28),c.Wb(77,"label",291),c.ac(78,292),c.Vb(),c.Wb(79,"my-help"),c.Sc(80,je,4,0,"ng-template",57),c.Vb(),c.Rb(81,"textarea",293),c.Sc(82,Qe,2,1,"div",32),c.Vb(),c.Wb(83,"div",28),c.Wb(84,"label",294),c.Uc(85,"CSS"),c.Vb(),c.Wb(86,"my-help"),c.Sc(87,He,9,4,"ng-template",57),c.Vb(),c.Rb(88,"textarea",295),c.Sc(89,qe,2,1,"div",32),c.Vb(),c.Tb(),c.Tb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(13),c.vc("ngClass",c.zc(17,ke,!e.isTranscodingEnabled())),c.Db(6),c.vc("ngClass",c.zc(19,ke,!e.isTranscodingEnabled())),c.Db(7),c.vc("ngClass",c.zc(21,ke,!e.isTranscodingEnabled())),c.Db(5),c.vc("ngClass",c.zc(23,ke,!e.isTranscodingEnabled())),c.Db(4),c.vc("ngClass",c.zc(25,ke,!e.isTranscodingEnabled())),c.Db(5),c.vc("ngForOf",e.transcodingThreadOptions),c.Db(1),c.vc("ngIf",e.formErrors.transcoding.threads),c.Db(1),c.vc("ngClass",c.zc(27,ke,!e.isTranscodingEnabled())),c.Db(5),c.vc("ngForOf",e.resolutions),c.Db(12),c.vc("ngClass",c.zc(29,ue,e.formErrors["cache.previews.size"])),c.Db(1),c.vc("ngIf",e.formErrors.cache.previews.size),c.Db(4),c.vc("ngClass",c.zc(31,ue,e.formErrors["cache.captions.size"])),c.Db(1),c.vc("ngIf",e.formErrors.cache.captions.size),c.Db(16),c.vc("ngClass",c.zc(33,ue,e.formErrors["instance.customizations.javascript"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.customizations.javascript),c.Db(6),c.vc("ngClass",c.zc(35,ue,e.formErrors["instance.customizations.css"])),c.Db(1),c.vc("ngIf",e.formErrors.instance.customizations.css)}}function Je(e,t){1&e&&(c.Wb(0,"span",305),c.ac(1,306),c.Vb())}let Xe=(()=>{class e extends P.a{constructor(e,t,n,o,c){super(),this.viewportScroller=e,this.formValidatorService=t,this.notifier=n,this.configService=o,this.serverService=c,this.initDone=!1,this.resolutions=[],this.transcodingThreadOptions=[],this.languageItems=[],this.categoryItems=[],this.resolutions=[{id:"0p",label:"\u0635\u0648\u062A \u0641\u0642\u0637",description:"A <code>.mp4</code> that keeps the original audio track, with no video"},{id:"240p",label:"240p"},{id:"360p",label:"360p"},{id:"480p",label:"480p"},{id:"720p",label:"720p"},{id:"1080p",label:"1080p"},{id:"2160p",label:"2160 \u0628\u0643\u0633\u0644"}],this.transcodingThreadOptions=[{value:0,label:"\u062A\u0644\u0642\u0627\u0626\u064A (\u0639\u0628\u0631 ffmpeg)"},{value:1,label:"1"},{value:2,label:"2"},{value:4,label:"4"},{value:8,label:"8"}]}get videoQuotaOptions(){return this.configService.videoQuotaOptions}get videoQuotaDailyOptions(){return this.configService.videoQuotaDailyOptions}get availableThemes(){return this.serverConfig.theme.registered.map(e=>e.name)}getResolutionKey(e){return"transcoding.resolutions."+e}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e);const e={instance:{name:R,shortDescription:$,description:null,isNSFW:!1,defaultNSFWPolicy:null,terms:null,codeOfConduct:null,creationReason:null,moderationInformation:null,administrator:null,maintenanceLifetime:null,businessModel:null,hardwareInformation:null,categories:null,languages:null,defaultClientRoute:null,customizations:{javascript:null,css:null}},theme:{default:null},services:{twitter:{username:I,whitelisted:null}},cache:{previews:{size:U},captions:{size:A}},signup:{enabled:null,limit:E,requiresEmailVerification:null},import:{videos:{http:{enabled:null},torrent:{enabled:null}}},admin:{email:L},contactForm:{enabled:null},user:{videoQuota:B.m,videoQuotaDaily:B.l},transcoding:{enabled:null,threads:N,allowAdditionalExtensions:null,allowAudioFiles:null,resolutions:{},hls:{enabled:null},webtorrent:{enabled:null}},autoBlacklist:{videos:{ofUsers:{enabled:null}}},followers:{instance:{enabled:null,manualApproval:null}},followings:{instance:{autoFollowBack:{enabled:null},autoFollowIndex:{enabled:null,indexUrl:F}}},broadcastMessage:{enabled:null,level:null,dismissable:null,message:null},search:{remoteUri:{users:null,anonymous:null},searchIndex:{enabled:null,url:G,disableLocalSearch:null,isDefaultSearch:null}}},t={transcoding:{resolutions:{}}};for(const n of this.resolutions)t.transcoding.resolutions[n.id]="false",e.transcoding.resolutions[n.id]=null;this.buildForm(e),this.loadForm(),this.checkTranscodingFields()}ngAfterViewChecked(){this.initDone||(this.initDone=!0,this.gotoAnchor())}isTranscodingEnabled(){return!0===this.form.value.transcoding.enabled}isSignupEnabled(){return!0===this.form.value.signup.enabled}isSearchIndexEnabled(){return!0===this.form.value.search.searchIndex.enabled}isAutoFollowIndexEnabled(){return!0===this.form.value.followings.instance.autoFollowIndex.enabled}formValidated(){return Object(x.a)(this,void 0,void 0,(function*(){this.configService.updateCustomConfig(this.form.getRawValue()).subscribe(e=>{this.customConfig=e,this.serverService.resetConfig(),this.updateForm(),this.notifier.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A.")},e=>this.notifier.error(e.message))}))}gotoAnchor(){const e={customizations:"advanced-configuration"},t=window.location.hash.replace("#","");t&&Object.keys(e).includes(t)&&(this.nav.select(e[t]),setTimeout(()=>this.viewportScroller.scrollToAnchor(t),100))}updateForm(){this.form.patchValue(this.customConfig)}loadForm(){Object(V.a)([this.configService.getCustomConfig(),this.serverService.getVideoLanguages(),this.serverService.getVideoCategories()]).subscribe(([e,t,n])=>{this.customConfig=e,this.languageItems=t.map(e=>({label:e.label,id:e.id})),this.categoryItems=n.map(e=>({label:e.label,id:e.id+""})),this.updateForm(),this.forceCheck()},e=>this.notifier.error(e.message))}checkTranscodingFields(){const e=this.form.get("transcoding.hls.enabled"),t=this.form.get("transcoding.webtorrent.enabled");t.valueChanges.subscribe(t=>{!1!==t||e.disabled||e.disable(),!0!==t||e.enabled||e.enable()}),e.valueChanges.subscribe(e=>{!1!==e||t.disabled||t.disable(),!0!==e||t.enabled||t.enable()})}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(i.J),c.Qb(P.b),c.Qb(W.Notifier),c.Qb(T),c.Qb(D.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-edit-custom-config"]],viewQuery:function(e,t){var n;1&e&&c.Yc(X,!0),2&e&&c.Gc(n=c.lc())&&(t.nav=n.first)},features:[c.Ab],decls:28,vars:4,consts:function(){var e,t,n,o,i,a,r,l,s,b,d,g,u,p,f,m,h,C,v,O,P,_,M,y,w,x,V,k,W,S,z,T,D,R,$,I,U,A,E,L,N,F,G,B,j,Q,H,q,K,J,X,Y,Z,ee,te,ne,oe,ce,ie,ae,re,le,se,be,de,ge,ue,pe,fe,me,he,Ce,ve,Oe,Pe,_e,Me,ye,we,xe,Ve,ke,We,Se,ze,Te,De,Re,$e,Ie,Ue,Ae,Ee,Le,Ne,Fe,Ge,Be,je,Qe,He,qe,Ke,Je,Xe,Ye,Ze,et,tt,nt,ot,ct,it,at,rt,lt,st,bt,dt,gt,ut,pt;return e="Configuration",t="\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0646\u0635\u0629",n="\u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0625\u0641\u062A\u0631\u0627\u0635\u064A\u0629",o="\u0627\u0644\u062E\u062F\u0645\u0627\u062A",i="\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629",a="\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",r="\u0646\u0645\u0648\u0630\u062C",l="\u0627\u0644\u062A\u0633\u0645\u064A\u0629",s="\u0627\u0644\u0648\u0635\u0641 \u0627\u0644\u0642\u0635\u064A\u0631",b="\u0627\u0644\u0648\u0635\u0641",d="\u0641\u0626\u0627\u062A \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",g="Add a new category",u="\u0627\u0644\u0644\u063A\u0627\u062A \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 \u0627\u0644\u062A\u064A \u062A\u062A\u062D\u062F\u062B\u0647\u0627 \u0623\u0646\u062A / \u0627\u0644\u0645\u0634\u0631\u0641\u0648\u0646 \u0644\u062F\u064A\u0643",p="Add a new language",f="MODERATION & NSFW",m="Manage \n          " + "\ufffd#40\ufffd" + "users\n          " + "\ufffd/#40\ufffd" + " to build a moderation team. \n        ",h="\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u0647\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0645\u062D\u062A\u0648\u0649 \u062D\u0633\u0627\u0633",C="\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u0647\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0633\u0629",v="\u0644\u0627 \u062A\u064F\u062F\u0631\u062C\u0647\u0627",O="\u0635\u0648\u0631 \u0645\u0635\u063A\u0631\u0629 \u0636\u0628\u0627\u0628\u064A\u0629",P="\u0625\u0638\u0647\u0627\u0631\u0647\u0627",_="\u0627\u0644\u0634\u0631\u0648\u0637",M="\u0642\u0627\u0646\u0648\u0646 \u0627\u0644\u0633\u0644\u0648\u0643",y="\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0625\u0634\u0631\u0627\u0641",w="\u0645\u0646 \u064A\u062F\u064A\u0631 \u0627\u0644\u0645\u062B\u0627\u0644\u061F \u0645\u0627 \u0647\u064A \u0627\u0644\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u0645\u062A\u0639\u0644\u0642\u0629 \u0628\u0645\u0642\u0627\u0637\u0639 \u0641\u064A\u062F\u064A\u0648 NSFW\u061F \u0645\u0642\u0627\u0637\u0639 \u0641\u064A\u062F\u064A\u0648 \u0633\u064A\u0627\u0633\u064A\u0629\u061F \u0625\u0644\u062E",x="\u0623\u0646\u062A \u0648\u0645\u0646\u0635\u0629 \u062E\u0627\u062F\u0645\u0643",V="\u0645\u064E\u0646 \u0648\u0631\u0627\u0621 \u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u062F\u0645 \u0647\u0630\u0627\u061F",k="\u0634\u062E\u0635 \u0648\u0627\u062D\u062F\u061F \u0645\u0624\u0633\u0633\u0629 \u063A\u064A\u0631 \u0631\u0628\u062D\u064A\u0629\u061F \u0634\u0631\u0643\u0629\u061F",W="\u0644\u0645\u0627\u0630\u0627 \u0642\u0645\u062A \u0628\u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u0635\u0629\u061F",S="\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643\u061F \u0644\u0641\u062A\u062D \u0627\u0644\u062A\u0633\u062C\u064A\u0644\u0627\u062A \u0648\u0627\u0644\u0633\u0645\u0627\u062D \u0644\u0644\u0623\u0634\u062E\u0627\u0635 \u0628\u062A\u062D\u0645\u064A\u0644 \u0645\u0627 \u064A\u0631\u064A\u062F\u0648\u0646\u061F",z="\u0625\u0644\u0649 \u0645\u062A\u0649 \u062A\u062E\u0637\u0637 \u0644\u0644\u062D\u0641\u0627\u0638 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u0635\u0629\u061F",T="\u0645\u0646 \u0627\u0644\u0645\u0647\u0645 \u0623\u0646 \u062A\u0639\u0631\u0641 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0630\u064A\u0646 \u064A\u0631\u063A\u0628\u0648\u0646 \u0641\u064A \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643",D="\u0643\u064A\u0641 \u0633\u062A\u0645\u0648\u0644 \u062E\u0627\u062F\u0645 \u0639\u064A\u0646 \u0627\u0644\u0625\u0633\u0644\u0627\u0645\u061F",R="\u0628\u0623\u0645\u0648\u0627\u0644\u0643 \u0627\u0644\u062E\u0627\u0635\u0629\u061F \u0645\u0639 \u062A\u0628\u0631\u0639\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u061F \u0625\u0639\u0644\u0627\u0646\u061F",$="\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0623\u062E\u0631\u0649",I="\u0645\u0627 \u0627\u0644\u062E\u0627\u062F\u0645 / \u0627\u0644\u062C\u0647\u0627\u0632 \u0627\u0644\u0630\u064A \u064A\u0639\u0645\u0644 \u0639\u0644\u064A\u0647 \u0627\u0644\u0645\u0646\u0635\u0629\u061F",U="\u0628\u0645\u0639\u0646\u0649 \u0622\u062E\u0631. 2vCore 2GB RAM \u060C \u0631\u0627\u0628\u0637 \u0645\u0628\u0627\u0634\u0631 \u0625\u0644\u0649 \u0627\u0644\u062E\u0627\u062F\u0645 \u0627\u0644\u0630\u064A \u062A\u0633\u062A\u0623\u062C\u0631\u0647 \u060C \u0625\u0644\u062E.",A="\u0647\u0630\u0627 \u0627\u0644\u0645\u062B\u0627\u0644 \u0645\u062E\u0635\u0635 \u0644\u0645\u062D\u062A\u0648\u0649 \u062D\u0633\u0627\u0633 \u0623\u0648 \u0645\u062D\u062A\u0648\u0649 NSFW",E="Enabling it will allow other administrators to know that you are mainly federating sensitive content.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Moreover, the NSFW checkbox on video upload will be automatically checked by default. \n        ",E=c.fc(E),L="\u0645\u0639 \n          " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "\u0644\u0627 \u062A\u062F\u0631\u062C\n          " + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " \u0623\u0648 \n          " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "\u0623\u062E\u0641\u064A \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u0635\u063A\u0631\u0629\n          " + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + ", a \u0633\u0648\u0641 \u064A\u062A\u0645 \u0637\u0644\u0628 \u0627\u0644\u062A\u0627\u0643\u064A\u062F \u0642\u0628\u0644 \u0645\u0634\u0627\u0647\u062F \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \n        ",L=c.fc(L),N="\u0645\u0638\u0647\u0631 \u062E\u0627\u0631\u062C\u064A",F="Use \n          " + "\ufffd#6\ufffd" + "plugins & themes\n          " + "[\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + " for more involved changes, or \n          " + "\ufffd#7\ufffd" + "add slight customizations\n          " + "[\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + ". \n        ",F=c.fc(F),G="\u0627\u0644\u0633\u0645\u0629",B="\u0625\u0641\u062A\u0631\u0627\u0636\u064A",j="\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0642\u0635\u0648\u062F\u0629",Q="Discover videos",H="Trending videos",q="Most liked videos",K="Recently added videos",J="Local videos",X="\u0631\u0633\u0627\u0644\u0629 \u0625\u0630\u0627\u0639\u064A\u0629",Y="\u0639\u0631\u0636 \u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643",Z="\u062A\u0645\u0643\u064A\u0646 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0628\u062B",ee="\u0627\u0644\u0633\u0645\u0627\u062D \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0628\u0631\u0641\u0636 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0628\u062B",te="\u0645\u0633\u062A\u0648\u0649 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0628\u062B",ne="\u0631\u0633\u0627\u0644\u0629",oe="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0648\u0646 \u0627\u0644\u062C\u062F\u062F",ce="Manage \n          " + "\ufffd#72\ufffd" + "users\n          " + "\ufffd/#72\ufffd" + " to set their quota individually. \n        ",ie="\u062A\u0645\u0643\u064A\u0646 \u0627\u0644\u062A\u0633\u062C\u064A\u0644",ae="\u26A0\uFE0F \u062A\u062A\u0637\u0644\u0628 \u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0627\u0644\u0643\u062B\u064A\u0631 \u0645\u0646 \u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645 \u0648\u0627\u0644\u0627\u0639\u062A\u062F\u0627\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u064A.",re="\u064A\u062A\u0637\u0644\u0628 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0631\u0633\u0627\u0644\u0629 \u062A\u0623\u0643\u064A\u062F",le="\u062D\u062F \u0627\u0644\u062A\u0633\u062C\u064A\u0644",se="\u062D\u0635\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629 \u0644\u0643\u0644 \u0645\u0633\u062A\u062E\u062F\u0645",be="\u062D\u062F \u0627\u0644\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u064A\u0648\u0645\u064A \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A \u0644\u0643\u0644 \u0645\u0633\u062A\u062E\u062F\u0645",de="VIDEOS",ge="\u0627\u0644\u0633\u0645\u0627\u062D \u0628\u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0640 HTTP (\u0645\u062B\u0644 YouTube)",ue="\u0627\u0644\u0633\u0645\u0627\u062D \u0628\u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0628\u0645\u0644\u0641 \u0633\u064A\u0644 \u0623\u0648 URI \u0645\u063A\u0646\u0627\u0637\u064A\u0633\u064A",pe="\u062D\u0638\u0631 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062C\u062F\u064A\u062F\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u064B\u0627",fe="\u0645\u0627 \u0644\u0645 \u064A\u062A\u0645 \u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0645\u0648\u062B\u0648\u0642 \u0628\u0647 \u0639\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u060C \u0633\u062A\u0638\u0644 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0647 \u062E\u0627\u0635\u0629 \u062D\u062A\u0649 \u064A\u0631\u0627\u062C\u0639\u0647\u0627 \u0627\u0644\u0645\u0634\u0631\u0641.",me="\u0628\u062D\u062B",he="\u0627\u0644\u0633\u0645\u0627\u062D \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0628\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0628\u0639\u062F URI / \u0645\u0639\u0627\u0644\u062C\u0629",Ce="Allow \n          " + "\ufffd#140\ufffd" + "your users\n          " + "\ufffd/#140\ufffd" + " to look up remote videos/actors by their URI, that may not be federated with your instance\n        ",ve="\u0627\u0644\u0633\u0645\u0627\u062D \u0644\u0644\u0645\u062C\u0647\u0648\u0644 \u0628\u0627\u0644\u0642\u064A\u0627\u0645 \u0628\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0628\u0639\u062F URI / \u0645\u0639\u0627\u0644\u062C\u0629",Oe="Allow \n          " + "\ufffd#147\ufffd" + "anonymous users\n          " + "\ufffd/#147\ufffd" + " to look up remote videos/actors by their URI, that may not be federated with your instance\n        ",Pe="\u062A\u0645\u0643\u064A\u0646 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0634\u0627\u0645\u0644",_e="\u26A0\uFE0F \u062A\u0639\u062A\u0645\u062F \u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0628\u0634\u0643\u0644 \u0643\u0628\u064A\u0631 \u0639\u0644\u0649 \u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u062D\u0627\u0644\u0627\u062A \u0627\u0644\u062A\u064A \u064A\u062A\u0628\u0639\u0647\u0627 \u0641\u0647\u0631\u0633 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0630\u064A \u062A\u062D\u062F\u062F\u0647.",Me="You should only use moderated search indexes in production, or \n          " + "\ufffd#157\ufffd" + "host your own\n          " + "\ufffd/#157\ufffd" + ". \n        ",ye="\u0639\u0646\u0648\u0627\u0646 URL \u0644\u0641\u0647\u0631\u0633 \u0627\u0644\u0628\u062D\u062B",we="\u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0645\u062D\u0644\u064A \u0641\u064A \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B",xe="\u064A\u0633\u062A\u062E\u062F\u0645 \u0634\u0631\u064A\u0637 \u0627\u0644\u0628\u062D\u062B \u0641\u0647\u0631\u0633 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0634\u0627\u0645\u0644 \u0628\u0634\u0643\u0644 \u0627\u0641\u062A\u0631\u0627\u0636\u064A",Ve="\u0648\u0625\u0644\u0627 \u064A\u0628\u0642\u0649 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0645\u062D\u0644\u064A \u0645\u0633\u062A\u062E\u062F\u0645\u064B\u0627 \u0628\u0634\u0643\u0644 \u0627\u0641\u062A\u0631\u0627\u0636\u064A",ke="\u0627\u0644\u0641\u062F\u064A\u0631\u0627\u0644\u064A\u0629",We="Manage \n          " + "\ufffd#179\ufffd" + "relations\n          " + "\ufffd/#179\ufffd" + " with other instances. \n        ",Se="\u064A\u0645\u0643\u0646 \u0623\u0646 \u062A\u062A\u0628\u0639 \u062D\u0627\u0644\u0627\u062A \u0623\u062E\u0631\u0649 \u0645\u062B\u0644\u0643",ze="\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u064A\u062F\u0648\u064A\u064B\u0627 \u0639\u0644\u0649 \u0645\u062A\u0627\u0628\u0639\u064A \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062C\u062F\u064A\u062F",Te="\u062A\u062A\u0628\u0639 \u0627\u0644\u0645\u0646\u0635\u0627\u062A \u062A\u0644\u0642\u0627\u0626\u064A\u064B\u0627",De="\u26A0\uFE0F \u062A\u062A\u0637\u0644\u0628 \u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0627\u0644\u0643\u062B\u064A\u0631 \u0645\u0646 \u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645 \u0648\u0627\u0644\u0627\u0639\u062A\u062F\u0627\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u064A.",Re="\u062A\u062A\u0628\u0639 \u062D\u0627\u0644\u0627\u062A \u0645\u0624\u0634\u0631 \u0639\u0627\u0645 \u062A\u0644\u0642\u0627\u0626\u064A\u064B\u0627",$e="\u26A0\uFE0F \u062A\u062A\u0637\u0644\u0628 \u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0627\u0644\u0643\u062B\u064A\u0631 \u0645\u0646 \u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645 \u0648\u0627\u0644\u0627\u0639\u062A\u062F\u0627\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u064A.",Ie="You should only follow moderated indexes in production, or \n          " + "\ufffd#207\ufffd" + "host your own\n          " + "\ufffd/#207\ufffd" + ". \n        ",Ue="\u0639\u0646\u0648\u0627\u0646 URL \u0627\u0644\u0641\u0647\u0631\u0633",Ae="\u0627\u0644\u0645\u062F\u0631\u0627\u0621",Ee="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u062F\u064A\u0631",Le="\u062A\u0645\u0643\u064A\u0646 \u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0627\u062A\u0635\u0627\u0644",Ne="\u062A\u0648\u064A\u062A\u0631",Fe="\u0627\u062E\u062A\u064A\u0627\u0631\u064A. \u0625\u0646 \u0648\u062C\u062F\u062A \u060C \u0642\u062F\u0645 \u062D\u0633\u0627\u0628 Twitter \u0627\u0644\u0630\u064A \u064A\u0645\u062B\u0644 \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0644\u062A\u062D\u0633\u064A\u0646 \u0645\u0639\u0627\u064A\u0646\u0627\u062A \u0627\u0644\u0631\u0627\u0628\u0637.",Ge="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0650\u0645 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0639\u0644\u0649 \u062A\u0648\u064A\u062A\u0631",Be="\u0627\u0644\u0645\u062B\u0627\u0644 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 \u0645\u0646 \u0642\u0628\u0644 \u062A\u0648\u064A\u062A\u0631",je="If your instance is explicitly allowed by Twitter, a video player will be embedded in the Twitter feed on PeerTube video share.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + " If the instance is not, we use an image link card that will redirect on your PeerTube instance.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + " Check this checkbox, save the configuration and test with a video URL of your instance (https://example.com/videos/watch/blabla) on \n          " + "\ufffd#5\ufffd" + "https://cards-dev.twitter.com/validator\n          " + "\ufffd/#5\ufffd" + " to see if you instance is allowed. \n        ",je=c.fc(je),Qe="\u0627\u0644\u062A\u0631\u062C\u0645\u0629",He="\u0645\u0639\u0627\u0644\u062C\u0629 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062A\u064A \u062A\u0645 \u062A\u062D\u0645\u064A\u0644\u0647\u0627 \u0628\u062D\u064A\u062B \u062A\u0643\u0648\u0646 \u0641\u064A \u0634\u0643\u0644 \u0642\u0627\u0628\u0644 \u0644\u0644\u062A\u062F\u0641\u0642 \u064A\u0645\u0643\u0646 \u0644\u0623\u064A \u062C\u0647\u0627\u0632 \u062A\u0634\u063A\u064A\u0644\u0647. \u0639\u0644\u0649 \u0627\u0644\u0631\u063A\u0645 \u0645\u0646 \u0643\u0648\u0646\u0647 \u0645\u0643\u0644\u0641\u064B\u0627 \u0641\u064A \u0627\u0644\u0645\u0648\u0627\u0631\u062F \u060C \u0625\u0644\u0627 \u0623\u0646 \u0647\u0630\u0627 \u062C\u0632\u0621 \u0645\u0647\u0645 \u0645\u0646 \u0639\u064A\u0646 \u0627\u0644\u0625\u0633\u0644\u0627\u0645 \u060C \u0644\u0630\u0627 \u0641\u0642\u0645 \u0628\u062D\u0630\u0631.",qe="\u0627\u0644\u0633\u0645\u0627\u062D \u0628\u0627\u0645\u062A\u062F\u0627\u062F\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629",Ke="Allows users to upload .mkv, .mov, .avi, .wmv, .flv, .f4v, .3g2, .3gp, .mts, m2ts, .mxf, .nut videos.",Je="\u0627\u0644\u0633\u0645\u0627\u062D \u0628\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0635\u0648\u062A\u064A\u0629",Xe="\u064A\u0633\u0645\u062D \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0628\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0635\u0648\u062A\u064A\u0629 \u0627\u0644\u062A\u064A \u0633\u064A\u062A\u0645 \u062F\u0645\u062C\u0647\u0627 \u0645\u0639 \u0645\u0644\u0641 \u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629 \u0639\u0646\u062F \u0627\u0644\u062A\u062D\u0645\u064A\u0644.",Ye="\u062F\u0639\u0645 WebTorrent \u0646\u0634\u0637",Ze="\u062A\u0645 \u062A\u0645\u0643\u064A\u0646 HLS \u0645\u0639 \u062F\u0639\u0645 P2P",et="\u062E\u064A\u0648\u0637 \u0627\u0644\u062A\u062D\u0648\u064A\u0644",tt="\u0642\u0631\u0627\u0631\u0627\u062A \u0644\u062A\u0648\u0644\u064A\u062F",nt="\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A\u0629",ot="\u0628\u0639\u0636 \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u063A\u064A\u0631 \u0645\u062C\u0645\u0639\u0629 \u060C \u0648\u064A\u062A\u0645 \u062C\u0644\u0628\u0647\u0627 \u0639\u0646\u062F \u0627\u0644\u0636\u0631\u0648\u0631\u0629. \u062A\u062D\u062F\u064A\u062F \u0633\u064A\u0627\u0633\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0647\u0645.",ct="\u0639\u062F\u062F \u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0627\u062A \u0644\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0647\u0627 \u0641\u064A \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A",it="\u0639\u062F\u062F \u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062A\u064A \u064A\u062C\u0628 \u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0647\u0627 \u0641\u064A \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0645\u0624\u0642\u062A",at="\u0627\u0644\u062A\u062E\u0635\u064A\u0635\u0627\u062A",rt="\u062A\u0639\u062F\u064A\u0644\u0627\u062A \u0637\u0641\u064A\u0641\u0629 \u0639\u0644\u0649 \u0645\u0646\u0635\u0629 \u0639\u064A\u0646 \u0627\u0644\u0625\u0633\u0644\u0627\u0645 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0639\u0646\u062F \u0625\u0646\u0634\u0627\u0621 \u0645\u0643\u0648\u0646 \u0625\u0636\u0627\u0641\u064A \u0623\u0648 \u0645\u0648\u0636\u0648\u0639 \u0647\u0648 \u0645\u0628\u0627\u0644\u063A\u0629.",lt="\u0627\u0644\u062C\u0627\u0641\u0627 \u0633\u0643\u0631\u064A\u0628\u062A",st="\u062A\u0645 \u062A\u0645\u0643\u064A\u0646 \u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0634\u0641\u0631\u0629",bt="\u0625\u0630\u0627 \u0642\u0645\u062A \u0628\u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u060C \u0641\u0644\u0646 \u062A\u0639\u0645\u0644 \u0627\u0644\u0639\u062F\u064A\u062F \u0645\u0646 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646!",dt="\n          " + "[\ufffd#2\ufffd|\ufffd#5\ufffd]" + "Experimental, we suggest you to not disable webtorrent support for now\n          " + "[\ufffd/#2\ufffd|\ufffd/#5\ufffd]" + "\n          " + "\ufffd#3\ufffd" + "If you also enabled HLS support, it will multiply videos storage by 2\n          " + "\ufffd/#3\ufffd" + "\n          " + "\ufffd#4\ufffd\ufffd/#4\ufffd" + "\n          " + "[\ufffd#2\ufffd|\ufffd#5\ufffd]" + "If disabled, breaks federation with PeerTube instances < 2.1\n          " + "[\ufffd/#2\ufffd|\ufffd/#5\ufffd]" + "\n        ",dt=c.fc(dt),gt="\n          " + "\ufffd#2\ufffd" + "Requires ffmpeg >= 4.1\n          " + "\ufffd/#2\ufffd" + "\n          " + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "Generate HLS playlists and fragmented MP4 files resulting in a better playback than with the current default player:\n          " + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "\n          " + "\ufffd#4\ufffd" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Resolution change is smoother\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Faster playback in particular with long videos\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "More stable playback (less bugs/infinite loading)\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "\ufffd/#4\ufffd" + "\n          " + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "If you also enabled WebTorrent support, it will multiply videos storage by 2\n          " + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "\n        ",gt=c.fc(gt),ut="Write JavaScript code directly.\n          " + "\ufffd#2\ufffd\ufffd/#2\ufffd" + "Example: \n          " + "\ufffd#3\ufffd" + "console.log('my instance is amazing');\n          " + "\ufffd/#3\ufffd" + "\n        ",pt="Write CSS code directly. Example:\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + " #custom-css \n          " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + " color: red; \n          " + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n          " + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + " Prepend with \n          " + "\ufffd#5\ufffd" + "#custom-css\n          " + "\ufffd/#5\ufffd" + " to override styles. Example:\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + " #custom-css .logged-in-email \n          " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + " color: red; \n          " + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n          " + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + "\n        ",[[1,"sr-only"],e,["role","form",3,"formGroup"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem","instance-information"],["ngbNavLink",""],t,["ngbNavContent",""],["ngbNavItem","basic-configuration"],n,["ngbNavItem","services"],o,["ngbNavItem","advanced-configuration"],i,[3,"ngbNavOutlet"],[1,"form-row","mt-4"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5"],["class","form-error submit-error",4,"ngIf"],["type","submit",3,"disabled","click",6,"value"],["value",a],["formGroupName","instance"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],r,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"form-group"],["for","instanceName"],l,["type","text","id","instanceName","formControlName","name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","instanceShortDescription"],s,["id","instanceShortDescription","formControlName","shortDescription",1,"form-control","small",3,"ngClass"],["for","instanceDescription"],b,["helpType","markdownText"],["name","instanceDescription","formControlName","description","textareaMaxWidth","500px",3,"classes"],["for","instanceCategories"],d,["id","instanceCategories","formControlName","categories",3,"availableItems","selectableGroup",6,"placeholder"],["placeholder",g],["for","instanceLanguages"],u,["id","instanceLanguages","formControlName","languages",3,"availableItems","selectableGroup",6,"placeholder"],["placeholder",p],f,[1,"inner-for-description"],m,["routerLink","/admin/users"],["inputName","instanceIsNSFW","formControlName","isNSFW"],["ptTemplate","label"],["ptTemplate","help"],["for","instanceDefaultNSFWPolicy"],h,["ptTemplate","customHtml"],[1,"peertube-select-container"],["id","instanceDefaultNSFWPolicy","formControlName","defaultNSFWPolicy",1,"form-control"],["value","undefined","disabled",""],C,["value","do_not_list"],v,["value","blur"],O,["value","display"],P,["for","instanceTerms"],_,["name","instanceTerms","formControlName","terms","textareaMaxWidth","500px",3,"ngClass"],["for","instanceCodeOfConduct"],M,["name","instanceCodeOfConduct","formControlName","codeOfConduct","textareaMaxWidth","500px",3,"ngClass"],["for","instanceModerationInformation"],y,[1,"label-small-info"],w,["name","instanceModerationInformation","formControlName","moderationInformation","textareaMaxWidth","500px",3,"ngClass"],x,["for","instanceAdministrator"],V,k,["name","instanceAdministrator","formControlName","administrator","textareaMaxWidth","500px","textareaHeight","75px",3,"classes"],["for","instanceCreationReason"],W,S,["id","instanceCreationReason","formControlName","creationReason",1,"form-control",3,"ngClass"],["for","instanceMaintenanceLifetime"],z,T,["id","instanceMaintenanceLifetime","formControlName","maintenanceLifetime",1,"form-control","small",3,"ngClass"],["for","instanceBusinessModel"],D,R,["id","instanceBusinessModel","formControlName","businessModel",1,"form-control","small",3,"ngClass"],$,["for","instanceHardwareInformation"],I,U,["name","instanceHardwareInformation","formControlName","hardwareInformation","textareaMaxWidth","500px","textareaHeight","75px",3,"classes"],[1,"form-error"],A,E,L,N,F,["routerLink","/admin/plugins"],["routerLink","/admin/config/edit-custom","fragment","customizations",3,"click"],["formGroupName","theme"],["for","themeDefault"],G,["formControlName","default","id","themeDefault",1,"form-control"],["value","default"],B,[3,"value",4,"ngFor","ngForOf"],["formGroupName","instance",1,"form-group"],["for","instanceDefaultClientRoute"],j,["id","instanceDefaultClientRoute","formControlName","defaultClientRoute",1,"form-control"],["value","/videos/overview"],Q,["value","/videos/trending"],H,["value","/videos/most-liked"],q,["value","/videos/recently-added"],K,["value","/videos/local"],J,X,Y,["formGroupName","broadcastMessage"],["inputName","broadcastMessageEnabled","formControlName","enabled",6,"labelText"],["labelText",Z],["inputName","broadcastMessageDismissable","formControlName","dismissable",6,"labelText"],["labelText",ee],["for","broadcastMessageLevel"],te,["id","broadcastMessageLevel","formControlName","level",1,"form-control"],["value","info"],["value","warning"],["value","error"],["for","broadcastMessageMessage"],ne,["name","broadcastMessageMessage","formControlName","message","textareaMaxWidth","500px",3,"classes"],oe,ce,["formGroupName","signup"],["inputName","signupEnabled","formControlName","enabled",6,"labelText"],["labelText",ie],["ngProjectAs","description",5,["description"]],ae,["ngProjectAs","extra",5,["extra"]],["inputName","signupRequiresEmailVerification","formControlName","requiresEmailVerification",3,"ngClass",6,"labelText"],["labelText",re],[1,"mt-3",3,"ngClass"],["for","signupLimit"],le,["type","number","min","-1","id","signupLimit","formControlName","limit",1,"form-control",3,"ngClass"],["class","text-muted",4,"ngIf"],["formGroupName","user"],["for","userVideoQuota"],se,["id","userVideoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["for","userVideoQuotaDaily"],be,["id","userVideoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],de,["formGroupName","import"],["formGroupName","videos"],["formGroupName","http",1,"form-group"],["inputName","importVideosHttpEnabled","formControlName","enabled",6,"labelText"],["labelText",ge],["formGroupName","torrent",1,"form-group"],["inputName","importVideosTorrentEnabled","formControlName","enabled",6,"labelText"],["labelText",ue],["formGroupName","autoBlacklist"],["formGroupName","ofUsers"],["inputName","autoBlacklistVideosOfUsersEnabled","formControlName","enabled",6,"labelText"],["labelText",pe],fe,me,["formGroupName","search"],["formGroupName","remoteUri"],["inputName","searchRemoteUriUsers","formControlName","users",6,"labelText"],["labelText",he],Ce,["inputName","searchRemoteUriAnonymous","formControlName","anonymous",6,"labelText"],["labelText",ve],Oe,["formGroupName","searchIndex"],["inputName","searchIndexEnabled","formControlName","enabled",6,"labelText"],["labelText",Pe],_e,Me,["href","https://framagit.org/framasoft/peertube/search-index"],[3,"ngClass"],["for","searchIndexUrl"],ye,["type","text","id","searchIndexUrl","formControlName","url",1,"form-control",3,"ngClass"],[1,"mt-3"],["inputName","searchIndexDisableLocalSearch","formControlName","disableLocalSearch",3,"ngClass",6,"labelText"],["labelText",we],["inputName","searchIndexIsDefaultSearch","formControlName","isDefaultSearch",3,"ngClass",6,"labelText"],["labelText",xe],Ve,ke,[1,"inner-form-description"],We,["routerLink","/admin/follows"],["formGroupName","followers"],["inputName","followersInstanceEnabled","formControlName","enabled",6,"labelText"],["labelText",Se],["inputName","followersInstanceManualApproval","formControlName","manualApproval",6,"labelText"],["labelText",ze],["formGroupName","followings"],["formGroupName","autoFollowBack"],["inputName","followingsInstanceAutoFollowBackEnabled","formControlName","enabled",6,"labelText"],["labelText",Te],De,["formGroupName","autoFollowIndex"],["inputName","followingsInstanceAutoFollowIndexEnabled","formControlName","enabled",6,"labelText"],["labelText",Re],$e,Ie,["href","https://framagit.org/framasoft/peertube/instances-peertube#peertube-auto-follow"],["for","followingsInstanceAutoFollowIndexUrl"],Ue,["type","text","id","followingsInstanceAutoFollowIndexUrl","formControlName","indexUrl",1,"form-control",3,"ngClass"],Ae,["formGroupName","admin",1,"form-group"],["for","adminEmail"],Ee,["type","text","id","adminEmail","formControlName","email",1,"form-control",3,"ngClass"],["formGroupName","contactForm",1,"form-group"],["inputName","enableContactForm","formControlName","enabled",6,"labelText"],["labelText",Le],[3,"value"],[1,"text-muted"],[3,"value","disabled"],Ne,Fe,["formGroupName","services"],["formGroupName","twitter"],Ge,["type","text","id","servicesTwitterUsername","formControlName","username",1,"form-control",3,"ngClass"],["inputName","servicesTwitterWhitelisted","formControlName","whitelisted"],Be,je,["target","_blank","rel","noopener noreferrer","href","https://cards-dev.twitter.com/validator"],Qe,He,["formGroupName","transcoding"],["inputName","transcodingEnabled","formControlName","enabled"],[1,"form-group",3,"ngClass"],["inputName","transcodingAllowAdditionalExtensions","formControlName","allowAdditionalExtensions",6,"labelText"],["labelText",qe],Ke,["inputName","transcodingAllowAudioFiles","formControlName","allowAudioFiles",6,"labelText"],["labelText",Je],Xe,["formGroupName","webtorrent"],["inputName","transcodingWebTorrentEnabled","formControlName","enabled",6,"labelText"],["labelText",Ye],["formGroupName","hls"],["inputName","transcodingHlsEnabled","formControlName","enabled",6,"labelText"],["labelText",Ze],["for","transcodingThreads"],et,["id","transcodingThreads","formControlName","threads",1,"form-control"],tt,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","resolutions"],["class","form-group",4,"ngFor","ngForOf"],nt,ot,["formGroupName","cache"],["formGroupName","previews",1,"form-group"],["for","cachePreviewsSize"],ct,["type","number","min","0","id","cachePreviewsSize","formControlName","size",1,"form-control",3,"ngClass"],["formGroupName","captions",1,"form-group"],["for","cacheCaptionsSize"],it,["type","number","min","0","id","cacheCaptionsSize","formControlName","size",1,"form-control",3,"ngClass"],["id","customizations",1,"anchor"],at,rt,["formGroupName","customizations"],["for","customizationJavascript"],lt,["id","customizationJavascript","formControlName","javascript",1,"form-control",3,"ngClass"],["for","customizationCSS"],["id","customizationCSS","formControlName","css",1,"form-control",3,"ngClass"],st,bt,dt,gt,[3,"inputName","formControlName","labelText"],[4,"ngIf"],[3,"innerHTML"],ut,pt=c.fc(pt),[1,"form-error","submit-error"],"\u064A\u0628\u062F\u0648 \u0623\u0646 \u0627\u0644\u062A\u0643\u0648\u064A\u0646 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D. \u064A\u0631\u062C\u0649 \u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0623\u062E\u0637\u0627\u0621 \u0627\u0644\u0645\u062D\u062A\u0645\u0644\u0629 \u0641\u064A \u0639\u0644\u0627\u0645\u0627\u062A \u0627\u0644\u062A\u0628\u0648\u064A\u0628 \u0627\u0644\u0645\u062E\u062A\u0644\u0641\u0629."]},template:function(e,t){if(1&e&&(c.Wb(0,"h1",0),c.ac(1,1),c.Vb(),c.Wb(2,"form",2),c.Wb(3,"div",3,4),c.Ub(5,5),c.Wb(6,"a",6),c.ac(7,7),c.Vb(),c.Sc(8,pe,127,49,"ng-template",8),c.Tb(),c.Ub(9,9),c.Wb(10,"a",6),c.ac(11,10),c.Vb(),c.Sc(12,We,227,46,"ng-template",8),c.Tb(),c.Ub(13,11),c.Wb(14,"a",6),c.ac(15,12),c.Vb(),c.Sc(16,De,18,4,"ng-template",8),c.Tb(),c.Ub(17,13),c.Wb(18,"a",6),c.ac(19,14),c.Vb(),c.Sc(20,Ke,90,37,"ng-template",8),c.Tb(),c.Vb(),c.Rb(21,"div",15),c.Wb(22,"div",16),c.Rb(23,"div",17),c.Wb(24,"div",18),c.Sc(25,Je,2,0,"span",19),c.Wb(26,"input",20),c.cc(27,21),c.kc("click",(function(){return t.formValidated()})),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.Hc(4);c.Db(2),c.vc("formGroup",t.form),c.Db(19),c.vc("ngbNavOutlet",e),c.Db(4),c.vc("ngIf",!t.form.valid),c.Db(1),c.vc("disabled",!t.form.valid)}},directives:[r.I,r.t,r.l,j.n,j.p,j.q,j.o,j.s,i.u,r.m,r.c,r.s,r.j,i.r,Q.a,H.a,q.a,w.k,K.a,J.a,r.E,r.x,r.H,i.t,r.y],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{display:inline-block;height:30px;width:315px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=number][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:315px){input[type=number][_ngcontent-%COMP%]{width:100%}}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #c6c6c6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);-webkit-animation:jelly .6s ease;animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;margin-left:5px;cursor:pointer;display:inline}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}my-select-checkbox[_ngcontent-%COMP%]     ng-select{width:340px}@media screen and (max-width:340px){my-select-checkbox[_ngcontent-%COMP%]     ng-select{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;display:flex;margin-left:auto}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline;margin-left:5px}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}']}),e})();const Ye=[{path:"config",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&c.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})(),canActivate:[W.UserRightGuard],data:{userRight:8},children:[{path:"",redirectTo:"edit-custom",pathMatch:"full"},{path:"edit-custom",component:Xe,data:{meta:{title:"Edit custom configuration"}}}]}];var Ze=n("UkmY"),et=n("7zfz");function tt(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",8),c.Wb(1,"div",9),c.Wb(2,"input",10),c.cc(3,11),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onSearch(t)})),c.Vb(),c.Wb(4,"a",12),c.kc("click",(function(){return c.Jc(e),c.oc().resetSearch()})),c.Vb(),c.Wb(5,"span",13),c.ac(6,14),c.Vb(),c.Vb(),c.Vb()}}function nt(e,t){1&e&&(c.Wb(0,"tr"),c.Wb(1,"th",15),c.Uc(2,"Action"),c.Vb(),c.Wb(3,"th",16),c.ac(4,17),c.Vb(),c.Wb(5,"th",18),c.gc(6,19),c.Rb(7,"p-sortIcon",20),c.dc(),c.Vb(),c.Vb())}function ot(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",21),c.Wb(2,"button",22),c.kc("click",(function(){c.Jc(e);const n=t.$implicit;return c.oc().unblockAccount(n)})),c.ac(3,23),c.Vb(),c.Vb(),c.Wb(4,"td"),c.Wb(5,"a",24),c.cc(6,25),c.Wb(7,"div",26),c.Wb(8,"img",27),c.kc("error",(function(t){return c.Jc(e),c.oc().switchToDefaultAvatar(t)})),c.Vb(),c.Wb(9,"div"),c.Uc(10),c.Wb(11,"span",28),c.Uc(12),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(13,"td"),c.Uc(14),c.pc(15,"date"),c.Vb(),c.Vb()}if(2&e){const e=t.$implicit;c.Db(5),c.vc("href",e.blockedAccount.url,c.Lc),c.Db(3),c.vc("src",null==e.blockedAccount.avatar?null:e.blockedAccount.avatar.path,c.Lc),c.Db(2),c.Wc(" ",e.blockedAccount.displayName," "),c.Db(2),c.Vc(e.blockedAccount.nameWithHost),c.Db(2),c.Vc(c.rc(15,5,e.createdAt,"short"))}}function ct(e,t){1&e&&(c.Ub(0),c.ac(1,32),c.Tb())}function it(e,t){1&e&&(c.Ub(0),c.ac(1,33),c.Tb())}function at(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",29),c.Wb(2,"div",30),c.Sc(3,ct,2,0,"ng-container",31),c.Sc(4,it,2,0,"ng-container",31),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.search),c.Db(1),c.vc("ngIf",!e.search)}}let rt=(()=>{class e extends y.d{constructor(){super(...arguments),this.mode=y.b.Instance}getIdentifier(){return"InstanceAccountBlocklistComponent"}}return e.\u0275fac=function(t){return lt(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["my-instance-account-blocklist"]],features:[c.Ab],decls:10,vars:12,consts:function(){return[["iconName","user-x","aria-hidden","true"],"Muted accounts",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted accounts\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",[2,"width","150px"],[2,"width","100%"],"\u0627\u0644\u062D\u0633\u0627\u0628",["pSortableColumn","createdAt",2,"width","150px"],"Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0643\u062A\u0645",["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","\u0627\u0641\u062A\u062D \u062D\u0633\u0627\u0628 \u0641\u064A \u0639\u0644\u0627\u0645\u0629 \u062A\u0628\u0648\u064A\u0628 \u062C\u062F\u064A\u062F\u0629"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"text-muted"],["colspan","6"],[1,"no-results"],[4,"ngIf"],"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062D\u0633\u0627\u0628 \u0645\u0637\u0627\u0628\u0642 \u0644\u0644\u0645\u0631\u0634\u062D\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.","\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062D\u0633\u0627\u0628."]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"p-table",2),c.cc(5,3),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(6,tt,7,0,"ng-template",4),c.Sc(7,nt,8,0,"ng-template",5),c.Sc(8,ot,16,8,"ng-template",6),c.Sc(9,at,5,2,"ng-template",7),c.Vb()),2&e&&(c.Db(4),c.ec("{first}")("{last}")("{totalRecords}"),c.bc(5),c.vc("value",t.blockedAccounts)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Ze.a,v.f,et.d,v.e,v.d,i.u],pipes:[i.f],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%], .table-comment-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%]     p:last-child, .table-comment-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",'.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),e})();const lt=c.Yb(rt);var st=n("E/r9");function bt(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",11),c.Wb(1,"div",12),c.Wb(2,"input",13),c.cc(3,14),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onSearch(t)})),c.Vb(),c.Wb(4,"a",15),c.kc("click",(function(){return c.Jc(e),c.oc().resetSearch()})),c.Vb(),c.Wb(5,"span",16),c.ac(6,17),c.Vb(),c.Vb(),c.Wb(7,"a",18),c.kc("click",(function(){return c.Jc(e),c.oc().addServersToBlock()}))("key.enter",(function(){return c.Jc(e),c.oc().addServersToBlock()})),c.Rb(8,"my-global-icon",19),c.Ub(9),c.ac(10,20),c.Tb(),c.Vb(),c.Vb()}}function dt(e,t){1&e&&(c.Wb(0,"tr"),c.Wb(1,"th",21),c.Uc(2,"Action"),c.Vb(),c.Wb(3,"th",22),c.ac(4,23),c.Vb(),c.Wb(5,"th",24),c.gc(6,25),c.Rb(7,"p-sortIcon",26),c.dc(),c.Vb(),c.Vb())}function gt(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",27),c.Wb(2,"button",28),c.kc("click",(function(){c.Jc(e);const n=t.$implicit;return c.oc().unblockServer(n)})),c.ac(3,29),c.Vb(),c.Vb(),c.Wb(4,"td"),c.Wb(5,"a",30),c.cc(6,31),c.Uc(7),c.Rb(8,"span",32),c.Vb(),c.Vb(),c.Wb(9,"td"),c.Uc(10),c.pc(11,"date"),c.Vb(),c.Vb()}if(2&e){const e=t.$implicit;c.Db(5),c.vc("href","https://"+e.blockedServer.host,c.Lc),c.Db(2),c.Wc(" ",e.blockedServer.host," "),c.Db(3),c.Vc(c.rc(11,3,e.createdAt,"short"))}}function ut(e,t){1&e&&(c.Ub(0),c.ac(1,36),c.Tb())}function pt(e,t){1&e&&(c.Ub(0),c.ac(1,37),c.Tb())}function ft(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",33),c.Wb(2,"div",34),c.Sc(3,ut,2,0,"ng-container",35),c.Sc(4,pt,2,0,"ng-container",35),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.search),c.Db(1),c.vc("ngIf",!e.search)}}let mt=(()=>{class e extends y.e{constructor(){super(...arguments),this.mode=y.b.Instance}getIdentifier(){return"InstanceServerBlocklistComponent"}}return e.\u0275fac=function(t){return ht(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["my-instance-server-blocklist"]],features:[c.Ab],decls:13,vars:12,consts:function(){return[["iconName","peertube-x","aria-hidden","true"],"Muted servers",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted instances\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"domains",6,"action"],["batchDomainsModal",""],["action","\u0645\u062C\u0627\u0644\u0627\u062A \u0627\u0644\u0641\u0645"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",[1,"ml-2","block-button",3,"click","key.enter"],["iconName","add","aria-hidden","true"],"\u062A\u062C\u0627\u0647\u0644 \u0627\u0644\u0645\u062C\u0627\u0644",[2,"width","150px"],[2,"width","100%"],"\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u062F\u0648\u0645",["pSortableColumn","createdAt",2,"width","150px"],"Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0643\u062A\u0645",["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","\u0627\u0641\u062A\u062D \u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u062F\u0645 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629"],[1,"glyphicon","glyphicon-new-window"],["colspan","6"],[1,"no-results"],[4,"ngIf"],"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062E\u0627\u062F\u0645 \u0645\u0637\u0627\u0628\u0642 \u0644\u0644\u0645\u0631\u0634\u062D\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.","\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u062E\u0627\u062F\u0645."]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"p-table",2),c.cc(5,3),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(6,bt,11,0,"ng-template",4),c.Sc(7,dt,8,0,"ng-template",5),c.Sc(8,gt,12,6,"ng-template",6),c.Sc(9,ft,5,2,"ng-template",7),c.Vb(),c.Wb(10,"my-batch-domains-modal",8,9),c.cc(12,10),c.kc("domains",(function(e){return t.onDomainsToBlock(e)})),c.Vb()),2&e&&(c.Db(4),c.ec("{first}")("{last}")("{totalRecords}"),c.bc(5),c.vc("value",t.blockedServers)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Ze.a,v.f,et.d,st.a,v.e,v.d,i.u],pipes:[i.f],styles:['a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.block-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus, .block-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.block-button.focus-visible[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.block-button[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.block-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.block-button.disabled[_ngcontent-%COMP%], .block-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}']}),e})();const ht=c.Yb(mt);let Ct=(()=>{class e{constructor(e){this.serverService=e,this.autoBlockVideosEnabled=!1}ngOnInit(){this.serverService.getConfig().subscribe(e=>this.autoBlockVideosEnabled=e.autoBlacklist.videos.ofUsers.enabled)}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.ServerService))},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&c.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})();var vt=n("LIH2");let Ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["my-abuse-list"]],decls:5,vars:0,consts:function(){return[["iconName","flag","aria-hidden","true"],"Reports",["viewType","admin","baseRoute","/admin/moderation/abuses/list"]]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Rb(4,"my-abuse-list-table",2))},directives:[Ze.a,vt.a],encapsulation:2}),e})();var Pt=n("eIep"),_t=n("pLZG"),Mt=n("H9+z"),yt=n("jhN1"),wt=n("EcKj");const xt=function(){return["/admin/moderation/video-blocks/list"]},Vt=function(){return{search:"type:auto"}},kt=function(){return{search:"type:manual"}};function Wt(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",9),c.Wb(1,"div",10),c.Wb(2,"div",11),c.Wb(3,"div",12),c.Wb(4,"div",13),c.Rb(5,"span",14),c.Vb(),c.Wb(6,"div",15),c.Wb(7,"h6",16),c.ac(8,17),c.Vb(),c.Wb(9,"a",18),c.ac(10,19),c.Vb(),c.Wb(11,"a",18),c.ac(12,20),c.Vb(),c.Vb(),c.Vb(),c.Wb(13,"input",21),c.cc(14,22),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onBlockSearch(t)})),c.Vb(),c.Wb(15,"a",23),c.kc("click",(function(){return c.Jc(e),c.oc().resetTableFilter()})),c.Vb(),c.Wb(16,"span",24),c.ac(17,25),c.Vb(),c.Vb(),c.Vb(),c.Vb()}2&e&&(c.Db(9),c.vc("routerLink",c.yc(4,xt))("queryParams",c.yc(5,Vt)),c.Db(2),c.vc("routerLink",c.yc(6,xt))("queryParams",c.yc(7,kt)))}function St(e,t){1&e&&(c.Wb(0,"tr"),c.Rb(1,"th",26),c.Wb(2,"th",27),c.gc(3,28),c.Rb(4,"p-sortIcon",29),c.dc(),c.Vb(),c.Wb(5,"th",30),c.ac(6,31),c.Vb(),c.Wb(7,"th",32),c.ac(8,33),c.Vb(),c.Wb(9,"th",34),c.gc(10,35),c.Rb(11,"p-sortIcon",36),c.dc(),c.Vb(),c.Rb(12,"th",37),c.Vb())}function zt(e,t){1&e&&c.Rb(0,"td")}function Tt(e,t){if(1&e&&(c.Wb(0,"td",50),c.cc(1,51),c.Wb(2,"span",52),c.Rb(3,"i",53),c.Vb(),c.Vb()),2&e){const e=c.oc(),t=e.expanded;c.vc("pRowToggler",e.$implicit),c.Db(3),c.vc("ngClass",t?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function Dt(e,t){1&e&&(c.Wb(0,"my-global-icon",54),c.cc(1,55),c.Vb())}function Rt(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"td",56),c.Uc(2),c.Vb(),c.Wb(3,"td",56),c.Uc(4),c.Vb(),c.Wb(5,"td",56),c.Uc(6),c.pc(7,"date"),c.Vb(),c.Tb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(1),c.vc("pRowToggler",e),c.Db(1),c.Vc(t.booleanToText(e.video.nsfw)),c.Db(1),c.vc("pRowToggler",e),c.Db(1),c.Vc(t.booleanToText(e.unfederated)),c.Db(1),c.vc("pRowToggler",e),c.Db(1),c.Vc(c.rc(7,6,e.createdAt,"short"))}}function $t(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"td"),c.Uc(2),c.Vb(),c.Wb(3,"td"),c.Uc(4),c.Vb(),c.Wb(5,"td"),c.Uc(6),c.pc(7,"date"),c.Vb(),c.Tb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(2),c.Vc(t.booleanToText(e.video.nsfw)),c.Db(2),c.Vc(t.booleanToText(e.unfederated)),c.Db(2),c.Vc(c.rc(7,3,e.createdAt,"short"))}}const It=function(e){return{show:e}};function Ut(e,t){if(1&e&&(c.Wb(0,"tr"),c.Sc(1,zt,1,0,"td",38),c.Sc(2,Tt,4,2,"td",39),c.Wb(3,"td"),c.Wb(4,"a",40),c.Wb(5,"div",41),c.Wb(6,"div",42),c.Rb(7,"img",43),c.Vb(),c.Wb(8,"div",44),c.Wb(9,"div"),c.Sc(10,Dt,2,0,"my-global-icon",45),c.Uc(11),c.Vb(),c.Wb(12,"div",46),c.Uc(13),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Sc(14,Rt,8,9,"ng-container",38),c.Sc(15,$t,8,6,"ng-container",38),c.Wb(16,"td",47),c.Wb(17,"my-action-dropdown",48),c.cc(18,49),c.Vb(),c.Vb(),c.Vb()),2&e){const e=t.$implicit,n=t.expanded,o=c.oc();c.Db(1),c.vc("ngIf",!e.reason),c.Db(1),c.vc("ngIf",e.reason),c.Db(2),c.vc("href",o.getVideoUrl(e),c.Lc)("title",e.video.name),c.Db(3),c.vc("src",e.video.thumbnailPath,c.Lc),c.Db(3),c.vc("ngIf",2==e.type),c.Db(1),c.Wc(" ",e.video.name," "),c.Db(2),c.Xc("by ",null==e.video.channel?null:e.video.channel.displayName," on ",null==e.video.channel?null:e.video.channel.host," "),c.Db(1),c.vc("ngIf",e.reason),c.Db(1),c.vc("ngIf",!e.reason),c.Db(2),c.vc("ngClass",c.zc(14,It,n))("actions",o.videoBlocklistActions)("entry",e)}}function At(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",57),c.Wb(2,"div",58),c.Wb(3,"div",59),c.Wb(4,"span",60),c.ac(5,61),c.Vb(),c.Rb(6,"span",62),c.Vb(),c.Wb(7,"div",63),c.Wb(8,"div",64),c.Rb(9,"div",65),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.Db(6),c.vc("innerHTML",e.reasonHtml,c.Kc),c.Db(3),c.vc("innerHTML",e.embedHtml,c.Kc)}}function Et(e,t){1&e&&(c.Ub(0),c.ac(1,68),c.Tb())}function Lt(e,t){1&e&&(c.Ub(0),c.ac(1,69),c.Tb())}function Nt(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",66),c.Wb(2,"div",67),c.Sc(3,Et,2,0,"ng-container",38),c.Sc(4,Lt,2,0,"ng-container",38),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.search),c.Db(1),c.vc("ngIf",!e.search)}}const Ft=[{path:"moderation",component:Ct,children:[{path:"",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses/list",redirectTo:"abuses/list",pathMatch:"full"},{path:"abuses/list",component:Ot,canActivate:[W.UserRightGuard],data:{userRight:6,meta:{title:"Reports"}}},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist/list",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blocks/list",component:(()=>{class e extends W.RestTable{constructor(e,t,n,o,c,i,a,r,l){super(),this.notifier=e,this.serverService=t,this.confirmService=n,this.videoBlocklistService=o,this.markdownRenderer=c,this.sanitizer=i,this.videoService=a,this.route=r,this.router=l,this.blocklist=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.blocklistTypeFilter=void 0,this.videoBlocklistActions=[],this.videoBlocklistActions=[[{label:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0627\u0644\u062F\u0627\u062E\u0644\u064A\u0629",isHeader:!0,isDisplayed:e=>2===e.type},{label:"\u062A\u062D\u0648\u064A\u0644 \u0643\u062A\u0644\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0625\u0644\u0649 \u064A\u062F\u0648\u064A",handler:e=>{this.videoBlocklistService.unblockVideo(e.video.id).pipe(Object(Pt.a)(t=>this.videoBlocklistService.blockVideo(e.video.id,void 0,!0))).subscribe(()=>{this.notifier.success("Video \n          " + e.video.name + " switched to manual block.\n        "),this.loadData()},e=>this.notifier.error(e.message))},isDisplayed:e=>2===e.type}],[{label:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0641\u064A\u062F\u064A\u0648",isHeader:!0},{label:"\u0631\u0641\u0639 \u0627\u0644\u062D\u0638\u0631",handler:e=>this.unblockVideo(e)},{label:"Delete",handler:e=>Object(x.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("\u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u061F","Delete"))&&this.videoService.removeVideo(e.video.id).subscribe(()=>{this.notifier.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0641\u064A\u062F\u064A\u0648.")},e=>this.notifier.error(e.message))}))}]]}ngOnInit(){this.serverService.getConfig().subscribe(e=>{e.autoBlacklist.videos.ofUsers.enabled&&(this.blocklistTypeFilter=1)}),this.initialize(),this.route.queryParams.pipe(Object(_t.a)(e=>null!=e.search)).subscribe(e=>{this.search=e.search,this.setTableFilter(e.search),this.loadData()})}ngAfterViewInit(){this.search&&this.setTableFilter(this.search)}onBlockSearch(e){this.onSearch(e),this.setQueryParams(e.target.value)}setQueryParams(e){const t={};e&&Object.assign(t,{search:e}),this.router.navigate(["/admin/moderation/video-blocks/list"],{queryParams:t})}resetTableFilter(){this.setTableFilter(""),this.setQueryParams(""),this.resetSearch()}getIdentifier(){return"VideoBlockListComponent"}getVideoUrl(e){return M.Video.buildClientUrl(e.video.uuid)}booleanToText(e){return!0===e?"yes":"no"}toHtml(e){return this.markdownRenderer.textMarkdownToHTML(e)}unblockVideo(e){return Object(x.a)(this,void 0,void 0,(function*(){const t="\u0647\u0644 \u062A\u0631\u064A\u062F \u0641\u0639\u0644\u064B\u0627 \u0625\u0644\u063A\u0627\u0621 \u062D\u0638\u0631 \u0647\u0630\u0627 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u061F \u0633\u064A\u0643\u0648\u0646 \u0645\u062A\u0627\u062D\u064B\u0627 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0641\u064A \u0642\u0627\u0626\u0645\u0629 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648.";!1!==(yield this.confirmService.confirm(t,"\u0631\u0641\u0639 \u0627\u0644\u062D\u0638\u0631"))&&this.videoBlocklistService.unblockVideo(e.video.id).subscribe(()=>{this.notifier.success("Video \n          " + e.video.name + " unblocked.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}getVideoEmbed(e){return Object(Mt.c)(Object(Mt.b)({baseUrl:`${S.a.embedUrl}/videos/embed/${e.video.uuid}`,title:!1,warningTitle:!1}))}loadData(){this.videoBlocklistService.listBlocks({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>Object(x.a)(this,void 0,void 0,(function*(){this.totalRecords=e.total,this.blocklist=e.data;for(const e of this.blocklist)Object.assign(e,{reasonHtml:yield this.toHtml(e.reason),embedHtml:this.sanitizer.bypassSecurityTrustHtml(this.getVideoEmbed(e))})})),e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(W.ServerService),c.Qb(W.ConfirmService),c.Qb(y.g),c.Qb(W.MarkdownService),c.Qb(yt.b),c.Qb(M.VideoService),c.Qb(w.a),c.Qb(w.h))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-video-block-list"]],features:[c.Ab],decls:11,vars:13,consts:function(){return[["iconName","cross","aria-hidden","true"],"Video blocks",["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","expandedRowKeys","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " blocked videos\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto"],[1,"input-group","has-feedback","has-clear"],["ngbDropdown","","placement","bottom-left auto","container","body",1,"input-group-prepend","c-hand"],["ngbDropdownToggle","",1,"input-group-text"],["aria-haspopup","menu","role","button",1,"caret"],["role","menu","ngbDropdownMenu",""],[1,"dropdown-header"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0643\u062A\u0644\u0629 \u0645\u062A\u0642\u062F\u0645\u0629",[1,"dropdown-item",3,"routerLink","queryParams"],"\u0643\u062A\u0644 \u062A\u0644\u0642\u0627\u0626\u064A\u0629","\u0643\u062A\u0644 \u064A\u062F\u0648\u064A\u0629",["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",[2,"width","40px"],["pSortableColumn","name"],"Video \n          " + "\ufffd#4\ufffd" + "\n          " + "\ufffd/#4\ufffd" + "\n        ",["field","name"],[2,"width","100px"],"\u062D\u0633\u0627\u0633",[2,"width","120px"],"\u063A\u064A\u0631 \u0645\u062A\u062C\u062F\u062F",["pSortableColumn","createdAt",2,"width","150px"],"Date \n          " + "\ufffd#11\ufffd" + "\n          " + "\ufffd/#11\ufffd" + "\n        ",["field","createdAt"],[2,"width","150px"],[4,"ngIf"],["class","expand-cell c-hand","placement","top-left","container","body",3,"pRowToggler",4,"ngIf",6,"ngbTooltip"],["target","_blank","rel","noopener noreferrer",1,"table-video-link",3,"href","title"],[1,"table-video"],[1,"table-video-image"],[3,"src"],[1,"table-video-text"],["iconName","robot",4,"ngIf",6,"title"],[1,"text-muted"],[1,"action-cell"],["placement","bottom-right","container","body",3,"ngClass","actions","entry",6,"label"],["label","\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"],["placement","top-left","container","body",1,"expand-cell","c-hand",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","\u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"],[1,"expander"],[3,"ngClass"],["iconName","robot",6,"title"],["title","\u062A\u0645 \u062D\u0638\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0628\u0633\u0628\u0628 \u0627\u0644\u062D\u0638\u0631 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A \u0644\u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"],[1,"c-hand",3,"pRowToggler"],["colspan","6",1,"expand-cell"],[1,"d-flex","moderation-expanded"],[1,"col-8"],[1,"col-3","moderation-expanded-label"],"\u0633\u0628\u0628 \u0627\u0644\u062D\u0638\u0631:",[1,"col-9","moderation-expanded-text",3,"innerHTML"],[1,"col-4"],[1,"screenratio"],[3,"innerHTML"],["colspan","6"],[1,"no-results"],"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0641\u064A\u062F\u064A\u0648 \u0645\u062D\u0638\u0648\u0631 \u0645\u0637\u0627\u0628\u0642 \u0644\u0644\u0645\u0631\u0634\u062D\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.","\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0641\u064A\u062F\u064A\u0648 \u0645\u062D\u0638\u0648\u0631."]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"p-table",2),c.cc(5,3),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(6,Wt,18,8,"ng-template",4),c.Sc(7,St,13,0,"ng-template",5),c.Sc(8,Ut,19,16,"ng-template",6),c.Sc(9,At,10,2,"ng-template",7),c.Sc(10,Nt,5,2,"ng-template",8),c.Vb()),2&e&&(c.Db(4),c.ec("{first}")("{last}")("{totalRecords}"),c.bc(5),c.vc("value",t.blocklist)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[Ze.a,v.f,et.d,j.e,j.j,j.h,w.k,v.e,v.d,i.u,wt.a,i.r,j.y,v.b],pipes:[i.f],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%], .table-comment-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%]     p:last-child, .table-comment-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",'my-global-icon[_ngcontent-%COMP%]{width:12px;height:12px;position:relative;top:-1px}my-global-icon[_ngcontent-%COMP%]     .feather, my-global-icon[_ngcontent-%COMP%]     .material{color:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#7d7d7d}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}']}),e})(),canActivate:[W.UserRightGuard],data:{userRight:11,meta:{title:"Videos blocked"}}},{path:"blocklist/accounts",component:rt,canActivate:[W.UserRightGuard],data:{userRight:9,meta:{title:"Muted accounts"}}},{path:"blocklist/servers",component:mt,canActivate:[W.UserRightGuard],data:{userRight:10,meta:{title:"Muted instances"}}}]}];var Gt=n("XNiG"),Bt=n("lJxs"),jt=n("To7i"),Qt=n("UozT"),Ht=n("XRCn");let qt=(()=>{class e{constructor(e,t,n,o){this.authHttp=e,this.restExtractor=t,this.restService=n,this.pluginService=o}getPluginTypeOptions(){return[{label:"\u0627\u0644\u0625\u0636\u0627\u0641\u0627\u062A",value:Ht.PluginType.PLUGIN},{label:"\u0627\u0644\u0642\u0648\u0627\u0644\u0628",value:Ht.PluginType.THEME}]}getPluginTypeLabel(e){return e===Ht.PluginType.PLUGIN?"\u062A\u0648\u0635\u064A\u0644 \u0641\u064A":"\u0645\u0648\u0636\u0648\u0639"}getPlugins(t,n,o){const c=this.restService.componentPaginationToRestPagination(n);let i=new z.f;return i=this.restService.addRestGetParams(i,c,o),i=i.append("pluginType",t.toString()),this.authHttp.get(e.BASE_PLUGIN_URL,{params:i}).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}searchAvailablePlugins(t,n,o,c){const i=this.restService.componentPaginationToRestPagination(n);let a=new z.f;return a=this.restService.addRestGetParams(a,i,o),a=a.append("pluginType",t.toString()),c&&(a=a.append("search",c)),this.authHttp.get(e.BASE_PLUGIN_URL+"/available",{params:a}).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}getPlugin(t){return this.authHttp.get(e.BASE_PLUGIN_URL+"/"+t).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}getPluginRegisteredSettings(t,n){const o=this.pluginService.nameToNpmName(t,n);return this.authHttp.get(e.BASE_PLUGIN_URL+"/"+o+"/registered-settings").pipe(Object(Pt.a)(e=>this.translateSettingsLabel(o,e)),Object(k.a)(e=>this.restExtractor.handleError(e)))}updatePluginSettings(t,n,o){const c=this.pluginService.nameToNpmName(t,n);return this.authHttp.put(e.BASE_PLUGIN_URL+"/"+c+"/settings",{settings:o}).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}uninstall(t,n){const o={npmName:this.pluginService.nameToNpmName(t,n)};return this.authHttp.post(e.BASE_PLUGIN_URL+"/uninstall",o).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}update(t,n){const o={npmName:this.pluginService.nameToNpmName(t,n)};return this.authHttp.post(e.BASE_PLUGIN_URL+"/update",o).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}install(t){return this.authHttp.post(e.BASE_PLUGIN_URL+"/install",{npmName:t}).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}translateSettingsLabel(e,t){return this.pluginService.translationsObservable.pipe(Object(Bt.a)(t=>t[e]),Object(Bt.a)(e=>({registeredSettings:t.registeredSettings.map(t=>Object.assign({},t,{label:Object(Qt.h)(t.label,e)}))})))}}return e.BASE_PLUGIN_URL=S.a.apiUrl+"/api/v1/plugins",e.\u0275fac=function(t){return new(t||e)(c.hc(z.b),c.hc(W.RestExtractor),c.hc(W.RestService),c.hc(jt.a))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac}),e})();var Kt=n("aIhz"),Jt=n("j0I5"),Xt=n("UjHu"),Yt=n("jBV2"),Zt=n("l9Pe"),en=n("9SF7");function tn(e,t){if(1&e&&(c.Wb(0,"div",5),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.getNoResultMessage(),"\n")}}function nn(e,t){if(1&e&&(c.Wb(0,"my-edit-button",23),c.cc(1,24),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.vc("routerLink",t.getShowRouterLink(e))}}function on(e,t){if(1&e){const e=c.Xb();c.Wb(0,"my-button",25),c.kc("click",(function(){c.Jc(e);const t=c.oc().$implicit;return c.oc().update(t)})),c.Vb()}if(2&e){const e=c.oc().$implicit,t=c.oc();c.vc("loading",t.isUpdating(e))("label",t.getUpdateLabel(e)),c.Eb("disabled",t.isUpdating(e))}}function cn(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",6),c.Wb(1,"div",7),c.Wb(2,"div",8),c.Wb(3,"span",9),c.Uc(4),c.Vb(),c.Wb(5,"span",10),c.Uc(6),c.Vb(),c.Wb(7,"a",11),c.cc(8,12),c.Rb(9,"my-global-icon",13),c.Vb(),c.Wb(10,"a",11),c.cc(11,14),c.Rb(12,"my-global-icon",15),c.Vb(),c.Wb(13,"div",16),c.Sc(14,nn,2,1,"my-edit-button",17),c.Sc(15,on,1,3,"my-button",18),c.Wb(16,"my-delete-button",19),c.cc(17,20),c.kc("click",(function(){c.Jc(e);const n=t.$implicit;return c.oc().uninstall(n)})),c.Vb(),c.Vb(),c.Vb(),c.Wb(18,"div",21),c.Wb(19,"div",22),c.Uc(20),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=t.$implicit,n=c.oc();c.Db(4),c.Vc(e.name),c.Db(2),c.Vc(e.version),c.Db(1),c.vc("href",e.homepage,c.Lc),c.Db(3),c.vc("href","https://www.npmjs.com/package/peertube-plugin-"+e.name,c.Lc),c.Db(4),c.vc("ngIf",n.pluginType!==n.PluginType.THEME),c.Db(1),c.vc("ngIf",n.isUpdateAvailable(e)),c.Db(5),c.Vc(e.description)}}let an=(()=>{class e{constructor(e,t,n,o,c,i){this.pluginService=e,this.pluginApiService=t,this.notifier=n,this.confirmService=o,this.router=c,this.route=i,this.pluginTypeOptions=[],this.pluginType=Jt.a.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="name",this.plugins=[],this.updating={},this.PluginType=Jt.a,this.onDataSubject=new Gt.a,this.pluginTypeOptions=this.pluginApiService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.reloadPlugins()}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.pluginApiService.getPlugins(this.pluginType,this.pagination,this.sort).subscribe(e=>{this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},e=>this.notifier.error(e.message))}onNearOfBottom(){Object(W.hasMoreItems)(this.pagination)&&(this.pagination.currentPage+=1,this.loadMorePlugins())}getNoResultMessage(){return this.pluginType===Jt.a.PLUGIN?"\u062D\u0627\u0644\u064A\u0627 \u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0623\u064A\u0629 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0635\u0651\u0628\u0629.":"\u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0645\u0648\u0636\u0648\u0639\u0627\u062A \u0645\u062B\u0628\u062A\u0629 \u0628\u0639\u062F."}isUpdateAvailable(e){return e.latestVersion&&Object(Kt.a)(e.latestVersion,e.version)>0}getUpdateLabel(e){return "\u062A\u062D\u062F\u064A\u062B \u0625\u0644\u0649 \n          " + e.latestVersion + "\n        "}isUpdating(e){return!!this.updating[this.getUpdatingKey(e)]}uninstall(e){return Object(x.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("\u0623\u062A\u0631\u064A\u062F \u062D\u0642\u0627 \u0625\u0644\u063A\u0627\u0621 \u062A\u062B\u0628\u064A\u062A \n          " + e.name + "?\n        ","Uninstall"))&&this.pluginApiService.uninstall(e.name,e.type).subscribe(()=>{this.notifier.success("\n          " + e.name + " uninstalled.\n        "),this.plugins=this.plugins.filter(t=>t.name!==e.name),this.pagination.totalItems--},e=>this.notifier.error(e.message))}))}update(e){return Object(x.a)(this,void 0,void 0,(function*(){const t=this.getUpdatingKey(e);this.updating[t]||(this.updating[t]=!0,this.pluginApiService.update(e.name,e.type).pipe().subscribe(n=>{this.updating[t]=!1,this.notifier.success("\n          " + e.name + " updated.\n        "),Object.assign(e,n)},e=>this.notifier.error(e.message)))}))}getShowRouterLink(e){return["/admin","plugins","show",this.pluginService.nameToNpmName(e.name,e.type)]}getUpdatingKey(e){return e.name+e.type}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(jt.a),c.Qb(qt),c.Qb(W.Notifier),c.Qb(W.ConfirmService),c.Qb(w.h),c.Qb(w.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-plugin-list-installed"]],decls:5,vars:6,consts:function(){return[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"autoInit","dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"no-results"],[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer",1,"plugin-icon",3,"href",6,"title"],["title","\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 \u0644\u0644\u0645\u0643\u0648\u0646 \u0627\u0644\u0625\u0636\u0627\u0641\u064A (\u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629)"],["iconName","home"],["title","\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 \u0644\u0644\u0645\u0643\u0648\u0646 \u0627\u0644\u0625\u0636\u0627\u0641\u064A (\u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629)"],["iconName","npm"],[1,"buttons"],[3,"routerLink",4,"ngIf",6,"label"],["class","update-button","icon","refresh",3,"loading","label","click",4,"ngIf"],[3,"click",6,"label"],["label","Uninstall"],[1,"second-row"],[1,"description"],[3,"routerLink",6,"label"],["label","\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"],["icon","refresh",1,"update-button",3,"loading","label","click"]]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"p-selectButton",1),c.kc("ngModelChange",(function(e){return t.pluginType=e}))("ngModelChange",(function(){return t.reloadPlugins()})),c.Vb(),c.Vb(),c.Sc(2,tn,2,1,"div",2),c.Wb(3,"div",3),c.kc("nearOfBottom",(function(){return t.onNearOfBottom()})),c.Sc(4,cn,21,7,"div",4),c.Vb()),2&e&&(c.Db(1),c.vc("options",t.pluginTypeOptions)("ngModel",t.pluginType),c.Db(1),c.vc("ngIf",0===t.pagination.totalItems),c.Db(1),c.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),c.Db(1),c.vc("ngForOf",t.plugins))},directives:[h,r.s,r.v,i.u,Xt.a,i.t,Ze.a,Yt.a,Zt.a,w.i,en.a],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button-text{font-size:15px;font-weight:600}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-default{background-color:#f0f0f0;border:1px solid #f0f0f0}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active{background-color:var(--mainColor);border-color:var(--mainColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active:hover{background-color:var(--mainHoverColor);border-color:var(--mainHoverColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button:not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .1rem rgba(87,85,217,.2)}",'.plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;margin-right:10px;font-weight:600}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.action-button[_ngcontent-%COMP%]:active, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:0;top:-2px}',".update-button[disabled=true][_ngcontent-%COMP%]     .action-button{cursor:default!important}"]}),e})();var rn=n("Kj3r"),ln=n("/uUt");function sn(e,t){1&e&&(c.Wb(0,"div",10),c.ac(1,11),c.Vb())}function bn(e,t){1&e&&(c.Ub(0),c.Rb(1,"my-global-icon",14),c.Ub(2),c.ac(3,15),c.Tb(),c.Tb())}function dn(e,t){if(1&e&&(c.Ub(0),c.Rb(1,"my-global-icon",16),c.Ub(2),c.ac(3,17),c.Tb(),c.Tb()),2&e){const e=c.oc(2);c.Db(3),c.ec(e.pagination.totalItems)(e.pagination.totalItems)(e.search),c.bc(3)}}function gn(e,t){if(1&e&&(c.Wb(0,"div",12),c.Sc(1,bn,4,0,"ng-container",13),c.Sc(2,dn,4,3,"ng-container",13),c.Vb()),2&e){const e=c.oc();c.Db(1),c.vc("ngIf",!e.search),c.Db(1),c.vc("ngIf",!!e.search)}}function un(e,t){1&e&&(c.Wb(0,"div",18),c.ac(1,19),c.Vb())}function pn(e,t){1&e&&(c.Wb(0,"span",35),c.Uc(1,"Installed"),c.Vb())}function fn(e,t){if(1&e){const e=c.Xb();c.Wb(0,"my-button",36),c.kc("click",(function(){c.Jc(e);const t=c.oc().$implicit;return c.oc().install(t)})),c.Vb()}if(2&e){const e=c.oc().$implicit,t=c.oc();c.vc("loading",t.isInstalling(e)),c.Eb("disabled",t.isInstalling(e))}}function mn(e,t){if(1&e&&(c.Wb(0,"div",20),c.Wb(1,"div",21),c.Wb(2,"div",22),c.Wb(3,"span",23),c.Uc(4),c.Vb(),c.Wb(5,"span",24),c.Uc(6),c.Vb(),c.Wb(7,"a",25),c.cc(8,26),c.Rb(9,"my-global-icon",27),c.Vb(),c.Wb(10,"a",25),c.cc(11,28),c.Rb(12,"my-global-icon",29),c.Vb(),c.Sc(13,pn,2,0,"span",30),c.Wb(14,"div",31),c.Sc(15,fn,1,2,"my-button",32),c.Vb(),c.Vb(),c.Wb(16,"div",33),c.Wb(17,"div",34),c.Uc(18),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.Db(4),c.Vc(e.name),c.Db(2),c.Vc(e.latestVersion),c.Db(1),c.vc("href",e.homepage,c.Lc),c.Db(3),c.vc("href","https://www.npmjs.com/package/peertube-plugin-"+e.name,c.Lc),c.Db(3),c.vc("ngIf",e.installed),c.Db(2),c.vc("ngIf",!1===e.installed),c.Db(3),c.Vc(e.description)}}let hn=(()=>{class e{constructor(e,t,n,o,c){this.pluginService=e,this.notifier=t,this.confirmService=n,this.router=o,this.route=c,this.pluginTypeOptions=[],this.pluginType=Jt.a.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="-popularity",this.search="",this.isSearching=!1,this.plugins=[],this.installing={},this.pluginInstalled=!1,this.onDataSubject=new Gt.a,this.searchSubject=new Gt.a,this.pluginTypeOptions=this.pluginService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.searchSubject.asObservable().pipe(Object(rn.a)(400),Object(ln.a)()).subscribe(e=>{this.search=e,this.reloadPlugins()}),this.reloadPlugins()}onSearchChange(e){this.searchSubject.next(e.target.value)}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.isSearching=!0,this.pluginService.searchAvailablePlugins(this.pluginType,this.pagination,this.sort,this.search).subscribe(e=>{this.isSearching=!1,this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},e=>{console.error(e);const t="\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0627\u062A \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631\u0629 \u062D\u0627\u0644\u064A\u0627. \u064A\u0631\u062C\u0649 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u0627.";this.notifier.error(t)})}onNearOfBottom(){Object(W.hasMoreItems)(this.pagination)&&(this.pagination.currentPage+=1,this.loadMorePlugins())}isInstalling(e){return!!this.installing[e.npmName]}install(e){return Object(x.a)(this,void 0,void 0,(function*(){this.installing[e.npmName]||!1!==(yield this.confirmService.confirm("\u064A\u064F\u0631\u062C\u0649 \u062A\u062B\u0628\u064A\u062A \u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u064A\u0629 \u0623\u0648 \u0627\u0644\u0633\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u062B\u0642 \u0628\u0647\u0627 \u0641\u0642\u0637 \u060C \u062D\u064A\u062B \u064A\u0645\u0643\u0646\u0647\u0627 \u062A\u0646\u0641\u064A\u0630 \u0623\u064A \u0631\u0645\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643.","\u062A\u0646\u0635\u064A\u0628 \n          " + e.name + "\u061F\n        "))&&(this.installing[e.npmName]=!0,this.pluginService.install(e.npmName).subscribe(()=>{this.installing[e.npmName]=!1,this.pluginInstalled=!0,this.notifier.success("\n          " + e.name + " installed.\n        "),e.installed=!0},e=>this.notifier.error(e.message)))}))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(qt),c.Qb(W.Notifier),c.Qb(W.ConfirmService),c.Qb(w.h),c.Qb(w.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-plugin-search"]],decls:10,vars:8,consts:function(){var e,t,n,o;return e="\u0627\u0644\u0628\u062D\u062B\u2026",t="\u0644\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u0627\u062A \u0623\u0648 \u0627\u0644\u0633\u0645\u0627\u062A \u0627\u0644\u0645\u062B\u0628\u062A\u0629 \u062D\u062F\u064A\u062B\u064B\u0627 \u060C \u0642\u0645 \u0628\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0641\u062D\u0629.",n="\u0634\u0627\u0626\u0639",o="{VAR_PLURAL , plural, =1 {\u0646\u062A\u064A\u062C\u0629} other {\u0646\u062A\u0627\u0626\u062C}}",o=c.fc(o,{VAR_PLURAL:"\ufffd1\ufffd"}),[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],[1,"search-bar"],["type","text",3,"input",6,"placeholder"],["placeholder",e],["class","alert alert-info",4,"ngIf"],["class","result-title",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"autoInit","dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"alert","alert-info"],t,[1,"result-title"],[4,"ngIf"],["iconName","trending","aria-hidden","true"],n,["iconName","search"],"\n          " + "\ufffd0\ufffd" + "\n          " + o + " for \"\n          " + "\ufffd2\ufffd" + "\" \n        ",[1,"no-results"],"\u0644\u0627 \u0646\u062A\u0627\u0626\u062C.",[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer",1,"plugin-icon",3,"href",6,"title"],["title","\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 \u0644\u0644\u0645\u0643\u0648\u0646 \u0627\u0644\u0625\u0636\u0627\u0641\u064A (\u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629)"],["iconName","home"],["title","\u062D\u0632\u0645\u0629 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0645\u0633\u0627\u0639\u062F npm (\u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629)"],["iconName","npm"],["class","badge badge-success",4,"ngIf"],[1,"buttons"],["class","update-button","label","Install","icon","cloud-download",3,"loading","click",4,"ngIf"],[1,"second-row"],[1,"description"],[1,"badge","badge-success"],["label","Install","icon","cloud-download",1,"update-button",3,"loading","click"]]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"p-selectButton",1),c.kc("ngModelChange",(function(e){return t.pluginType=e}))("ngModelChange",(function(){return t.reloadPlugins()})),c.Vb(),c.Vb(),c.Wb(2,"div",2),c.Wb(3,"input",3),c.cc(4,4),c.kc("input",(function(e){return t.onSearchChange(e)})),c.Vb(),c.Vb(),c.Sc(5,sn,2,0,"div",5),c.Sc(6,gn,3,2,"div",6),c.Sc(7,un,2,0,"div",7),c.Wb(8,"div",8),c.kc("nearOfBottom",(function(){return t.onNearOfBottom()})),c.Sc(9,mn,19,7,"div",9),c.Vb()),2&e&&(c.Db(1),c.vc("options",t.pluginTypeOptions)("ngModel",t.pluginType),c.Db(4),c.vc("ngIf",t.pluginInstalled),c.Db(1),c.vc("ngIf",!t.isSearching),c.Db(1),c.vc("ngIf",0===t.pagination.totalItems),c.Db(1),c.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),c.Db(1),c.vc("ngForOf",t.plugins))},directives:[h,r.s,r.v,i.u,Xt.a,i.t,Ze.a,en.a],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button-text{font-size:15px;font-weight:600}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-default{background-color:#f0f0f0;border:1px solid #f0f0f0}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active{background-color:var(--mainColor);border-color:var(--mainColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active:hover{background-color:var(--mainHoverColor);border-color:var(--mainHoverColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button:not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .1rem rgba(87,85,217,.2)}",'.plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;margin-right:10px;font-weight:600}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.action-button[_ngcontent-%COMP%]:active, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:0;top:-2px}',".search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:60%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;height:35px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:60%){.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.result-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-bottom:15px}.result-title[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}.badge[_ngcontent-%COMP%]{font-size:13px;font-weight:600;margin-left:15px}"]}),e})();var Cn=n("JbjH");function vn(e,t){if(1&e&&(c.Wb(0,"div",6),c.Rb(1,"my-dynamic-form-field",7),c.Vb()),2&e){const e=t.$implicit,n=c.oc(3);c.Db(1),c.vc("form",n.form)("setting",e)("formErrors",n.formErrors)}}function On(e,t){if(1&e){const e=c.Xb();c.Wb(0,"form",3),c.kc("ngSubmit",(function(){return c.Jc(e),c.oc(2).formValidated()})),c.Sc(1,vn,2,3,"div",4),c.Rb(2,"input",5),c.Vb()}if(2&e){const e=c.oc(2);c.vc("formGroup",e.form),c.Db(1),c.vc("ngForOf",e.registeredSettings),c.Db(1),c.vc("disabled",!e.form.valid)}}function Pn(e,t){if(1&e&&(c.Wb(0,"div",8),c.ac(1,9),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.ec(e.pluginTypeLabel),c.bc(1)}}function _n(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"h2"),c.Ub(2),c.Uc(3),c.Tb(),c.Uc(4),c.Vb(),c.Sc(5,On,3,3,"form",1),c.Sc(6,Pn,2,1,"div",2),c.Tb()),2&e){const e=c.oc();c.Db(3),c.Vc(e.pluginTypeLabel),c.Db(1),c.Wc(" ",e.plugin.name," "),c.Db(1),c.vc("ngIf",e.hasRegisteredSettings()),c.Db(1),c.vc("ngIf",!e.hasRegisteredSettings())}}let Mn=(()=>{class e extends P.a{constructor(e,t,n,o){super(),this.formValidatorService=e,this.pluginService=t,this.notifier=n,this.route=o,this.registeredSettings=[]}ngOnInit(){this.sub=this.route.params.subscribe(e=>{this.loadPlugin(e.npmName)})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}formValidated(){this.pluginService.updatePluginSettings(this.plugin.name,this.plugin.type,this.form.value).subscribe(()=>{this.notifier.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A.")},e=>this.notifier.error(e.message))}hasRegisteredSettings(){return Array.isArray(this.registeredSettings)&&0!==this.registeredSettings.length}loadPlugin(e){this.pluginService.getPlugin(e).pipe(Object(Pt.a)(e=>this.pluginService.getPluginRegisteredSettings(e.name,e.type).pipe(Object(Bt.a)(t=>({plugin:e,registeredSettings:t.registeredSettings}))))).subscribe(({plugin:e,registeredSettings:t})=>{this.plugin=e,this.registeredSettings=t,this.pluginTypeLabel=this.pluginService.getPluginTypeLabel(this.plugin.type),this.buildSettingsForm()},e=>this.notifier.error(e.message))}buildSettingsForm(){const e={},t={};for(const n of this.registeredSettings)e[n.name]=null,t[n.name]=this.getSetting(n.name);this.buildForm(e),this.form.patchValue(t)}getSetting(e){const t=this.plugin.settings;return t&&t[e]?t[e]:this.registeredSettings.find(t=>t.name===e).default}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(P.b),c.Qb(qt),c.Qb(W.Notifier),c.Qb(w.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-plugin-show-installed"]],features:[c.Ab],decls:1,vars:1,consts:function(){return[[4,"ngIf"],["role","form",3,"formGroup","ngSubmit",4,"ngIf"],["class","no-settings",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["class","form-group",4,"ngFor","ngForOf"],["type","submit","value","Update plugin settings",3,"disabled"],[1,"form-group"],[3,"form","setting","formErrors"],[1,"no-settings"],"This \n          " + "\ufffd0\ufffd" + " does not have settings. \n        "]},template:function(e,t){1&e&&c.Sc(0,_n,7,4,"ng-container",0),2&e&&c.vc("ngIf",t.plugin)},directives:[i.u,r.I,r.t,r.l,i.t,Cn.a],styles:['h2[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),e})();const yn=[{path:"plugins",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:7,vars:0,consts:function(){return[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","list-installed","routerLinkActive","active"],"\u0627\u0644\u0645\u062B\u0628\u062A\u0629",["routerLink","search","routerLinkActive","active"],"Search"]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"a",2),c.ac(3,3),c.Vb(),c.Wb(4,"a",4),c.ac(5,5),c.Vb(),c.Vb(),c.Vb(),c.Rb(6,"router-outlet"))},directives:[w.k,w.j,w.m],styles:["@media screen and (max-width:800px){  .plugins .plugin .first-row{flex-wrap:wrap}  .plugins .plugin .first-row .plugin-icon,   .plugins .plugin .first-row .plugin-name,   .plugins .plugin .first-row .plugin-version{margin-bottom:10px}  .plugins .plugin .first-row .buttons my-button .action-button,   .plugins .plugin .first-row .buttons my-delete-button .action-button,   .plugins .plugin .first-row .buttons my-edit-button .action-button{padding:0 13px}  .plugins .plugin .first-row .buttons my-button .button-label,   .plugins .plugin .first-row .buttons my-delete-button .button-label,   .plugins .plugin .first-row .buttons my-edit-button .button-label{display:none}}"]}),e})(),canActivate:[W.UserRightGuard],data:{userRight:20},children:[{path:"",redirectTo:"list-installed",pathMatch:"full"},{path:"list-installed",component:an,data:{meta:{title:"List installed plugins"}}},{path:"search",component:hn,data:{meta:{title:"Search plugins"}}},{path:"show/:npmName",component:Mn,data:{meta:{title:"Show plugin"}}}]}];let wn=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t}getDebug(){return this.authHttp.get(e.BASE_DEBUG_URL).pipe(Object(k.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_DEBUG_URL=S.a.apiUrl+"/api/v1/server/debug",e.\u0275fac=function(t){return new(t||e)(c.hc(z.b),c.hc(W.RestExtractor))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac}),e})(),xn=(()=>{class e{constructor(e,t){this.debugService=e,this.notifier=t}ngOnInit(){this.load()}load(){this.debugService.getDebug().subscribe(e=>this.debug=e,e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(wn),c.Qb(W.Notifier))},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:37,vars:1,consts:[[1,"root"],["href","https://github.com/Chocobozzz/PeerTube/issues/1643#issuecomment-464789666"]],template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"h4"),c.Uc(2,"IP"),c.Vb(),c.Wb(3,"p"),c.Uc(4,"PeerTube thinks your web browser public IP is "),c.Wb(5,"strong"),c.Uc(6),c.Vb(),c.Uc(7,"."),c.Vb(),c.Wb(8,"p"),c.Uc(9,"If this is not your correct public IP, please consider fixing it because:"),c.Vb(),c.Wb(10,"ul"),c.Wb(11,"li"),c.Uc(12,"Views may not be counted correctly (reduced compared to what they should be)"),c.Vb(),c.Wb(13,"li"),c.Uc(14,"Anti brute force system could be overzealous"),c.Vb(),c.Wb(15,"li"),c.Uc(16,"P2P system could not work correctly"),c.Vb(),c.Vb(),c.Wb(17,"p"),c.Uc(18,"To fix it:"),c.Vb(),c.Rb(19,"p"),c.Wb(20,"ul"),c.Wb(21,"li"),c.Uc(22,"Check the "),c.Wb(23,"code"),c.Uc(24,"trust_proxy"),c.Vb(),c.Uc(25," configuration key"),c.Vb(),c.Wb(26,"li"),c.Uc(27,"If you run PeerTube using Docker, check you run the "),c.Wb(28,"code"),c.Uc(29,"reverse-proxy"),c.Vb(),c.Uc(30," with "),c.Wb(31,"code"),c.Uc(32,'network_mode: "host"'),c.Vb(),c.Uc(33," (see "),c.Wb(34,"a",1),c.Uc(35,"issue 1643"),c.Vb(),c.Uc(36,")"),c.Vb(),c.Vb(),c.Vb()),2&e&&(c.Db(6),c.Vc(null==t.debug?null:t.debug.ip))},styles:[".root[_ngcontent-%COMP%]{font-size:15px}.root[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:14px;font-weight:600}"]}),e})(),Vn=(()=>{class e{constructor(e,t,n){this.authHttp=e,this.restService=t,this.restExtractor=n}getJobs(t,n,o,c){let i=new z.f;return i=this.restService.addRestGetParams(i,o,c),"all"!==n&&(i=i.append("jobType",n)),this.authHttp.get(e.BASE_JOB_URL+"/"+t,{params:i}).pipe(Object(Bt.a)(e=>this.restExtractor.convertResultListDateToHuman(e,["createdAt","processedOn","finishedOn"])),Object(Bt.a)(e=>this.restExtractor.applyToResultListData(e,this.prettyPrintData)),Object(Bt.a)(e=>this.restExtractor.applyToResultListData(e,this.buildUniqId)),Object(k.a)(e=>this.restExtractor.handleError(e)))}prettyPrintData(e){const t=JSON.stringify(e.data,null,2);return Object.assign(e,{data:t})}buildUniqId(e){return Object.assign(e,{uniqId:`${e.id}-${e.type}`})}}return e.BASE_JOB_URL=S.a.apiUrl+"/api/v1/jobs",e.\u0275fac=function(t){return new(t||e)(c.hc(z.b),c.hc(W.RestService),c.hc(W.RestExtractor))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac}),e})();var kn=n("YpOa");function Wn(e,t){if(1&e&&(c.Wb(0,"option",14),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e),c.Db(1),c.Vc(e)}}function Sn(e,t){if(1&e&&(c.Wb(0,"option",14),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e),c.Db(1),c.Vc(e)}}function zn(e,t){1&e&&(c.Wb(0,"tr"),c.Rb(1,"th",15),c.Wb(2,"th",16),c.ac(3,17),c.Vb(),c.Wb(4,"th",18),c.ac(5,19),c.Vb(),c.Wb(6,"th",20),c.gc(7,21),c.Rb(8,"p-sortIcon",22),c.dc(),c.Vb(),c.Wb(9,"th",23),c.ac(10,24),c.Vb(),c.Vb())}function Tn(e,t){1&e&&(c.Wb(0,"td",36),c.Rb(1,"span",37),c.Wb(2,"span"),c.ac(3,38),c.Vb(),c.Vb())}function Dn(e,t){1&e&&(c.Wb(0,"td",39),c.Rb(1,"span",40),c.Wb(2,"span"),c.ac(3,41),c.Vb(),c.Vb())}function Rn(e,t){1&e&&(c.Wb(0,"td",39),c.Rb(1,"span",42),c.Wb(2,"span"),c.ac(3,43),c.Vb(),c.Vb())}function $n(e,t){1&e&&(c.Wb(0,"td",44),c.Rb(1,"span",45),c.Wb(2,"span"),c.ac(3,46),c.Vb(),c.Vb())}function In(e,t){1&e&&(c.Wb(0,"td",47),c.Rb(1,"span",48),c.Wb(2,"span"),c.ac(3,49),c.Vb(),c.Vb())}function Un(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",25),c.Wb(2,"span",26),c.cc(3,27),c.Rb(4,"i",28),c.Vb(),c.Vb(),c.Wb(5,"td",29),c.Uc(6),c.Vb(),c.Wb(7,"td",30),c.Uc(8),c.Vb(),c.Wb(9,"td",31),c.Uc(10),c.pc(11,"date"),c.Vb(),c.Sc(12,Tn,4,0,"td",32),c.Sc(13,Dn,4,0,"td",33),c.Sc(14,Rn,4,0,"td",33),c.Sc(15,$n,4,0,"td",34),c.Sc(16,In,4,0,"td",35),c.Vb()),2&e){const e=t.expanded,n=t.$implicit;c.Db(2),c.vc("pRowToggler",n),c.Db(2),c.vc("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),c.Db(1),c.vc("title",n.id),c.Db(1),c.Vc(n.id),c.Db(2),c.Vc(n.type),c.Db(2),c.Vc(c.rc(11,11,n.createdAt,"short")),c.Db(2),c.vc("ngIf","delayed"===n.state),c.Db(1),c.vc("ngIf","waiting"===n.state),c.Db(1),c.vc("ngIf","active"===n.state),c.Db(1),c.vc("ngIf","completed"===n.state),c.Db(1),c.vc("ngIf","failed"===n.state)}}function An(e,t){if(1&e&&(c.Wb(0,"tr",52),c.Wb(1,"td",50),c.Wb(2,"pre"),c.Uc(3),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc().$implicit;c.Db(3),c.Vc(e.error)}}const En=function(e,t,n,o){return[e,t,n,o]};function Ln(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",50),c.Wb(2,"pre"),c.Uc(3),c.Vb(),c.Vb(),c.Vb(),c.Wb(4,"tr"),c.Wb(5,"td",50),c.Wb(6,"pre"),c.Uc(7),c.Vb(),c.Vb(),c.Vb(),c.Sc(8,An,4,1,"tr",51)),2&e){const e=t.$implicit;c.Db(3),c.Vc(c.Cc(3,En,"Job: "+e.id,"Type: "+e.type,"Processed on "+(e.processedOn||"-"),"Finished on "+(e.finishedOn||"-")).join("\n")),c.Db(4),c.Vc(e.data),c.Db(1),c.vc("ngIf",e.error)}}const Nn=function(){return{"table-layout":"auto"}};let Fn=(()=>{class e extends W.RestTable{constructor(e,t){super(),this.notifier=e,this.jobsService=t,this.jobState="waiting",this.jobStates=["active","completed","failed","waiting","delayed"],this.jobType="all",this.jobTypes=["all","activitypub-follow","activitypub-http-broadcast","activitypub-http-fetcher","activitypub-http-unicast","email","video-transcoding","video-file-import","video-import","videos-views","activitypub-refresher","video-redundancy"],this.jobs=[],this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.loadJobStateAndType(),this.initialize()}getIdentifier(){return"JobsComponent"}onJobStateOrTypeChanged(){this.pagination.start=0,this.loadData(),this.saveJobStateAndType()}loadData(){this.jobsService.getJobs(this.jobState,this.jobType,this.pagination,this.sort).subscribe(e=>{this.jobs=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}loadJobStateAndType(){const t=kn.a.getItem(e.LOCAL_STORAGE_STATE);t&&(this.jobState=t);const n=kn.a.getItem(e.LOCAL_STORAGE_TYPE);n&&(this.jobType=n)}saveJobStateAndType(){kn.a.setItem(e.LOCAL_STORAGE_STATE,this.jobState),kn.a.setItem(e.LOCAL_STORAGE_TYPE,this.jobType)}}return e.LOCAL_STORAGE_STATE="jobs-list-state",e.LOCAL_STORAGE_TYPE="jobs-list-type",e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(Vn))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-jobs"]],features:[c.Ab],decls:17,vars:15,consts:function(){return[[1,"admin-sub-header"],[1,"select-filter-block"],["for","jobType"],"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629",[1,"peertube-select-container"],["id","jobType","name","jobType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","jobState"],"\u062D\u0627\u0644\u0629 \u0627\u0644\u0639\u0645\u0644",["id","jobState","name","jobState",1,"form-control",3,"ngModel","ngModelChange"],["dataKey","uniqId",3,"value","lazy","paginator","totalRecords","rows","sortField","sortOrder","first","tableStyle","expandedRowKeys","onLazyLoad","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"value"],[2,"width","40px"],[1,"job-id",2,"width","100%"],"\u0647\u0648\u064A\u0629 \u0634\u062E\u0635\u064A\u0629",[1,"job-type",2,"width","200px"],"\u0627\u0644\u0646\u0648\u0639",["pSortableColumn","createdAt",1,"job-date",2,"width","150px"],"Created \n          " + "\ufffd#8\ufffd" + "\n          " + "\ufffd/#8\ufffd" + "\n        ",["field","createdAt"],[1,"job-state",2,"width","150px"],"\u0627\u0644\u062D\u0627\u0644\u0629",[1,"expand-cell"],["placement","top-left","container","body",1,"expander",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","\u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"],[3,"ngClass"],[1,"job-id",3,"title"],[1,"job-type"],[1,"job-date"],["class","job-state","class","text-muted",4,"ngIf"],["class","job-state","class","text-warning",4,"ngIf"],["class","job-state","class","text-success",4,"ngIf"],["class","job-state","class","text-danger",4,"ngIf"],[1,"text-muted"],[1,"glyphicon","glyphicon-repeat"],"\u062A\u0623\u062E\u0631",[1,"text-warning"],[1,"glyphicon","glyphicon-hourglass"],"\u0633\u0648\u0641 \u062A\u0628\u062F\u0623 \u0642\u0631\u064A\u0628\u0627 ...",[1,"glyphicon","glyphicon-cog"],"\u0627\u062F\u0627\u0631\u0629 ...",[1,"text-success"],[1,"glyphicon","glyphicon-ok"],"\u0627\u0646\u062A\u0647\u0649",[1,"text-danger"],[1,"glyphicon","glyphicon-remove"],"\u0641\u0634\u0644",["colspan","4"],["class","job-error",4,"ngIf"],[1,"job-error"]]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"label",2),c.ac(3,3),c.Vb(),c.Wb(4,"div",4),c.Wb(5,"select",5),c.kc("ngModelChange",(function(e){return t.jobType=e}))("ngModelChange",(function(){return t.onJobStateOrTypeChanged()})),c.Sc(6,Wn,2,2,"option",6),c.Vb(),c.Vb(),c.Vb(),c.Wb(7,"div",1),c.Wb(8,"label",7),c.ac(9,8),c.Vb(),c.Wb(10,"div",4),c.Wb(11,"select",9),c.kc("ngModelChange",(function(e){return t.jobState=e}))("ngModelChange",(function(){return t.onJobStateOrTypeChanged()})),c.Sc(12,Sn,2,2,"option",6),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(13,"p-table",10),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(14,zn,11,0,"ng-template",11),c.Sc(15,Un,17,14,"ng-template",12),c.Sc(16,Ln,9,8,"ng-template",13),c.Vb()),2&e&&(c.Db(5),c.vc("ngModel",t.jobType),c.Db(1),c.vc("ngForOf",t.jobTypes),c.Db(5),c.vc("ngModel",t.jobState),c.Db(1),c.vc("ngForOf",t.jobStates),c.Db(1),c.vc("value",t.jobs)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("sortField",t.sort.field)("sortOrder",t.sort.order)("first",t.pagination.start)("tableStyle",c.yc(14,Nn))("expandedRowKeys",t.expandedRows))},directives:[r.E,r.s,r.v,i.t,v.f,et.d,r.x,r.H,v.e,v.d,j.y,v.b,i.r,i.u],pipes:[i.f],styles:['.job-id[_ngcontent-%COMP%]{max-width:30vw!important}.job-type[_ngcontent-%COMP%]{width:150px!important}.job-date[_ngcontent-%COMP%]{width:170px!important}.job-state[_ngcontent-%COMP%]{max-width:60px}.admin-sub-header[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:flex-end}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}td[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:10px}pre[_ngcontent-%COMP%]{font-size:11px}.job-error[_ngcontent-%COMP%]{color:red}']}),e})();var Gn=n("m8R6");class Bn{constructor(e){this.date=new Date(e.timestamp),this.localeDate=this.date.toLocaleString(),this.level=e.level,this.message=e.message;const t=Object(Gn.a)(e,"timestamp","level","message","label");if(0!==Object.keys(t).length&&(this.meta=JSON.stringify(t,void 0,2)),"audit"===e.level)try{const t=JSON.parse(e.message);this.by=t.user,this.domain=t.domain,this.action=t.action,this.meta=JSON.stringify(t,null,2),this.message=""}catch(n){console.error("Cannot parse audit message.",n)}}}let jn=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t}getLogs(t){const{isAuditLog:n,startDate:o}=t;let c=new z.f;return c=c.append("startDate",o),n||(c=c.append("level",t.level)),t.endDate&&c.append("endDate",t.endDate),this.authHttp.get(n?e.BASE_AUDIT_LOG_URL:e.BASE_LOG_URL,{params:c}).pipe(Object(Bt.a)(e=>e.map(e=>new Bn(e))),Object(k.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_LOG_URL=S.a.apiUrl+"/api/v1/server/logs",e.BASE_AUDIT_LOG_URL=S.a.apiUrl+"/api/v1/server/audit-logs",e.\u0275fac=function(t){return new(t||e)(c.hc(z.b),c.hc(W.RestExtractor))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac}),e})();const Qn=["logsElement"];function Hn(e,t){if(1&e&&(c.Wb(0,"option",11),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.id),c.Db(1),c.Vc(e.label)}}function qn(e,t){if(1&e&&(c.Wb(0,"option",11),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.id),c.Db(1),c.Vc(e.label)}}function Kn(e,t){if(1&e&&(c.Wb(0,"option",11),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.id),c.Db(1),c.Vc(e.label)}}function Jn(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",1),c.Wb(1,"select",2),c.kc("ngModelChange",(function(t){return c.Jc(e),c.oc().level=t}))("ngModelChange",(function(){return c.Jc(e),c.oc().refresh()})),c.Sc(2,Kn,2,2,"option",3),c.Vb(),c.Vb()}if(2&e){const e=c.oc();c.Db(1),c.vc("ngModel",e.level),c.Db(1),c.vc("ngForOf",e.levelChoices)}}function Xn(e,t){1&e&&(c.Wb(0,"div"),c.ac(1,12),c.Vb())}function Yn(e,t){if(1&e&&(c.Wb(0,"strong",18),c.ac(1,19),c.Vb()),2&e){const e=c.oc().$implicit;c.Db(1),c.ec(e.by),c.bc(1)}}function Zn(e,t){if(1&e&&(c.Wb(0,"strong",20),c.Uc(1),c.Vb()),2&e){const e=c.oc().$implicit;c.Db(1),c.Xc("",e.domain," -> ",e.action,"")}}const eo=function(e,t){return{error:e,warn:t}};function to(e,t){if(1&e&&(c.Wb(0,"div",13),c.Wb(1,"span",14),c.Uc(2),c.Vb(),c.Wb(3,"span",15),c.Uc(4),c.Vb(),c.Sc(5,Yn,2,1,"strong",16),c.Sc(6,Zn,2,2,"strong",17),c.Uc(7),c.Wb(8,"pre"),c.Uc(9),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.vc("ngClass",c.Ac(7,eo,"error"===e.level,"warn"===e.level)),c.Db(2),c.Vc(e.level),c.Db(2),c.Wc("[",e.localeDate,"]"),c.Db(1),c.vc("ngIf",e.by),c.Db(1),c.vc("ngIf",e.domain),c.Db(1),c.Wc(" ",e.message," "),c.Db(2),c.Vc(e.meta)}}let no=(()=>{class e{constructor(e,t){this.logsService=e,this.notifier=t,this.loading=!1,this.logs=[],this.timeChoices=[],this.levelChoices=[],this.logTypeChoices=[]}ngOnInit(){this.buildTimeChoices(),this.buildLevelChoices(),this.buildLogTypeChoices(),this.load()}refresh(){this.logs=[],this.load()}load(){this.loading=!0,this.logsService.getLogs({isAuditLog:this.isAuditLog(),level:this.level,startDate:this.startDate}).subscribe(e=>{this.logs=e,setTimeout(()=>{this.logsElement.nativeElement.scrollIntoView({block:"end",inline:"nearest"})})},e=>this.notifier.error(e.message),()=>this.loading=!1)}isAuditLog(){return"audit"===this.logType}buildTimeChoices(){const e=new Date;e.setHours(e.getHours()-1);const t=new Date;t.setDate(t.getDate()-1);const n=new Date;n.setDate(n.getDate()-7),this.timeChoices=[{id:n.toISOString(),label:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0645\u0627\u0636\u064A"},{id:t.toISOString(),label:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629"},{id:e.toISOString(),label:"\u0627\u0644\u0633\u0627\u0639\u0629 \u0627\u0644\u0645\u0627\u0636\u064A\u0629"}],this.startDate=e.toISOString()}buildLevelChoices(){this.levelChoices=[{id:"debug",label:"Debug"},{id:"info",label:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A"},{id:"warn",label:"\u062A\u0646\u0628\u064A\u0647"},{id:"error",label:"\u062E\u0637\u0623"}],this.level="warn"}buildLogTypeChoices(){this.logTypeChoices=[{id:"standard",label:"\u0633\u062C\u0644\u0627\u062A \u0639\u0627\u062F\u064A\u0629"},{id:"audit",label:"\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062A\u062F\u0642\u064A\u0642"}],this.logType="audit"}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(jn),c.Qb(W.Notifier))},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&c.Pc(Qn,!0),2&e&&c.Gc(n=c.lc())&&(t.logsElement=n.first)},decls:15,vars:7,consts:function(){return[[1,"header"],[1,"peertube-select-container"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","peertube-select-container",4,"ngIf"],["icon","refresh",3,"click",6,"label"],["label","\u062A\u062D\u062F\u064A\u062B"],[1,"logs"],[4,"ngIf"],["logsElement",""],["class","log-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"value"],"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644 ...",[1,"log-row",3,"ngClass"],[1,"log-level"],[1,"log-date"],["class","log-by",4,"ngIf"],["class","log-domain-action",4,"ngIf"],[1,"log-by"],"By \n          " + "\ufffd0\ufffd" + " ->\n        ",[1,"log-domain-action"]]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"select",2),c.kc("ngModelChange",(function(e){return t.logType=e}))("ngModelChange",(function(){return t.refresh()})),c.Sc(3,Hn,2,2,"option",3),c.Vb(),c.Vb(),c.Wb(4,"div",1),c.Wb(5,"select",2),c.kc("ngModelChange",(function(e){return t.startDate=e}))("ngModelChange",(function(){return t.refresh()})),c.Sc(6,qn,2,2,"option",3),c.Vb(),c.Vb(),c.Sc(7,Jn,3,2,"div",4),c.Wb(8,"my-button",5),c.cc(9,6),c.kc("click",(function(){return t.refresh()})),c.Vb(),c.Vb(),c.Wb(10,"div",7),c.Sc(11,Xn,2,0,"div",8),c.Wb(12,"div",null,9),c.Sc(14,to,10,10,"div",10),c.Vb(),c.Vb()),2&e&&(c.Db(2),c.vc("ngModel",t.logType),c.Db(1),c.vc("ngForOf",t.logTypeChoices),c.Db(2),c.vc("ngModel",t.startDate),c.Db(1),c.vc("ngForOf",t.timeChoices),c.Db(1),c.vc("ngIf",!t.isAuditLog()),c.Db(4),c.vc("ngIf",t.loading),c.Db(3),c.vc("ngForOf",t.logs))},directives:[r.E,r.s,r.v,i.t,i.u,en.a,r.x,r.H,i.r],styles:['.logs[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;max-height:500px;overflow-y:auto;background:rgba(0,0,0,.03);padding:20px}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]{margin-top:1px;word-break:break-word}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.07)}.logs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{font-weight:600;margin-right:5px}.logs[_ngcontent-%COMP%]   .log-by[_ngcontent-%COMP%]{margin:0 5px}.logs[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]{color:var(--mainColor)}.logs[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.logs[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin-bottom:5px;white-space:pre-wrap;word-wrap:break-word}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:10px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:150px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:150px){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-left:10px}@media screen and (max-width:800px){.header[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-left:0!important;margin-bottom:10px!important}.header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column}.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-left:0!important;margin-bottom:10px!important}.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}']}),e})();function oo(e,t){1&e&&(c.Wb(0,"a",5),c.ac(1,6),c.Vb())}function co(e,t){1&e&&(c.Wb(0,"a",7),c.ac(1,8),c.Vb())}function io(e,t){1&e&&(c.Wb(0,"a",9),c.ac(1,10),c.Vb())}const ao=[{path:"system",component:(()=>{class e{constructor(e){this.auth=e}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.AuthService))},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:6,vars:3,consts:function(){return[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","jobs","routerLinkActive","active",4,"ngIf"],["routerLink","logs","routerLinkActive","active",4,"ngIf"],["routerLink","debug","routerLinkActive","active",4,"ngIf"],["routerLink","jobs","routerLinkActive","active"],"Jobs",["routerLink","logs","routerLinkActive","active"],"Logs",["routerLink","debug","routerLinkActive","active"],"Debug"]},template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Sc(2,oo,2,0,"a",2),c.Sc(3,co,2,0,"a",3),c.Sc(4,io,2,0,"a",4),c.Vb(),c.Vb(),c.Rb(5,"router-outlet")),2&e&&(c.Db(2),c.vc("ngIf",t.hasJobsRight()),c.Db(1),c.vc("ngIf",t.hasLogsRight()),c.Db(1),c.vc("ngIf",t.hasDebugRight()))},directives:[i.u,w.m,w.k,w.j],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}"]}),e})(),children:[{path:"",redirectTo:"jobs",pathMatch:"full"},{path:"jobs",canActivate:[W.UserRightGuard],component:Fn,data:{meta:{userRight:7,title:"Jobs"}}},{path:"logs",canActivate:[W.UserRightGuard],component:no,data:{meta:{userRight:3,title:"Logs"}}},{path:"debug",canActivate:[W.UserRightGuard],component:xn,data:{meta:{userRight:4,title:"Debug"}}}]}];var ro=n("Phsq"),lo=n("tt3q");const so=function(e){return{"offset-content":e}};let bo=(()=>{class e{constructor(e,t){this.auth=e,this.screen=t,this.items=[],this.menuEntries=[]}get isBroadcastMessageDisplayed(){return this.screen.isBroadcastMessageDisplayed}ngOnInit(){const e={label:"Federation",children:[{label:"Instances you follow",routerLink:"/admin/follows/following-list",iconName:"following"},{label:"Instances following you",routerLink:"/admin/follows/followers-list",iconName:"follower"},{label:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648",routerLink:"/admin/follows/video-redundancies-list",iconName:"videos"}]},t={label:"\u0627\u0644\u0625\u0634\u0631\u0627\u0641",children:[]};this.hasAbusesRight()&&t.children.push({label:"Reports",routerLink:"/admin/moderation/abuses/list",iconName:"flag"}),this.hasVideoBlocklistRight()&&t.children.push({label:"Video blocks",routerLink:"/admin/moderation/video-blocks/list",iconName:"cross"}),this.hasAccountsBlocklistRight()&&t.children.push({label:"Muted accounts",routerLink:"/admin/moderation/blocklist/accounts",iconName:"user-x"}),this.hasServersBlocklistRight()&&t.children.push({label:"Muted servers",routerLink:"/admin/moderation/blocklist/servers",iconName:"peertube-x"}),this.hasUsersRight()&&this.menuEntries.push({label:"Users",routerLink:"/admin/users"}),this.hasServerFollowRight()&&this.menuEntries.push(e),(this.hasAbusesRight()||this.hasVideoBlocklistRight())&&this.menuEntries.push(t),this.hasConfigRight()&&this.menuEntries.push({label:"Configuration",routerLink:"/admin/config"}),this.hasPluginsRight()&&this.menuEntries.push({label:"\u0627\u0644\u0625\u0636\u0627\u0641\u0627\u062A / \u0627\u0644\u0645\u0648\u0627\u0636\u064A\u0639",routerLink:"/admin/plugins"}),(this.hasJobsRight()||this.hasLogsRight()||this.hasDebugRight())&&this.menuEntries.push({label:"\u0627\u0644\u0646\u0638\u0627\u0645",routerLink:"/admin/system"})}hasUsersRight(){return this.auth.getUser().hasRight(1)}hasServerFollowRight(){return this.auth.getUser().hasRight(2)}hasAbusesRight(){return this.auth.getUser().hasRight(6)}hasVideoBlocklistRight(){return this.auth.getUser().hasRight(11)}hasAccountsBlocklistRight(){return this.auth.getUser().hasRight(9)}hasServersBlocklistRight(){return this.auth.getUser().hasRight(10)}hasConfigRight(){return this.auth.getUser().hasRight(8)}hasPluginsRight(){return this.auth.getUser().hasRight(20)}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.AuthService),c.Qb(W.ScreenService))},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:4,vars:4,consts:[[3,"menuEntries"],[1,"margin-content",3,"ngClass"]],template:function(e,t){1&e&&(c.Wb(0,"div"),c.Rb(1,"my-top-menu-dropdown",0),c.Wb(2,"div",1),c.Rb(3,"router-outlet"),c.Vb(),c.Vb()),2&e&&(c.Db(1),c.vc("menuEntries",t.menuEntries),c.Db(1),c.vc("ngClass",c.zc(2,so,!t.isBroadcastMessageDisplayed)))},directives:[lo.a,i.r,w.m],styles:["my-top-menu-dropdown[_ngcontent-%COMP%]{flex-grow:1}  h1{font-size:1.3rem;border-bottom:2px solid #e5e5e5;padding-bottom:15px;margin-bottom:30px}  h1 my-global-icon{margin-right:10px;vertical-align:bottom;width:24px;height:24px}  h1 .badge{margin-left:7px}"]}),e})();var go=n("RxIU");function uo(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",8),c.Wb(1,"div",9),c.Wb(2,"input",10),c.cc(3,11),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onSearch(t)})),c.Vb(),c.Wb(4,"a",12),c.kc("click",(function(){return c.Jc(e),c.oc().resetSearch()})),c.Vb(),c.Wb(5,"span",13),c.ac(6,14),c.Vb(),c.Vb(),c.Vb()}}function po(e,t){1&e&&(c.Wb(0,"tr"),c.Wb(1,"th",15),c.Uc(2,"Actions"),c.Vb(),c.Wb(3,"th"),c.ac(4,16),c.Vb(),c.Wb(5,"th",17),c.gc(6,18),c.Rb(7,"p-sortIcon",19),c.dc(),c.Vb(),c.Wb(8,"th",20),c.gc(9,21),c.Rb(10,"p-sortIcon",22),c.dc(),c.Vb(),c.Wb(11,"th",23),c.gc(12,24),c.Rb(13,"p-sortIcon",25),c.dc(),c.Vb(),c.Vb())}function fo(e,t){if(1&e){const e=c.Xb();c.Ub(0),c.Wb(1,"my-button",32),c.cc(2,33),c.kc("click",(function(){c.Jc(e);const t=c.oc().$implicit;return c.oc().acceptFollower(t)})),c.Vb(),c.Wb(3,"my-button",34),c.cc(4,35),c.kc("click",(function(){c.Jc(e);const t=c.oc().$implicit;return c.oc().rejectFollower(t)})),c.Vb(),c.Tb()}}function mo(e,t){if(1&e){const e=c.Xb();c.Wb(0,"my-delete-button",36),c.kc("click",(function(){c.Jc(e);const t=c.oc().$implicit;return c.oc().deleteFollower(t)})),c.Vb()}}function ho(e,t){1&e&&(c.Wb(0,"td"),c.Wb(1,"span",37),c.ac(2,38),c.Vb(),c.Vb())}function Co(e,t){1&e&&(c.Wb(0,"td"),c.Wb(1,"span",39),c.ac(2,40),c.Vb(),c.Vb())}function vo(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",26),c.Sc(2,fo,5,0,"ng-container",27),c.Sc(3,mo,1,0,"my-delete-button",28),c.Vb(),c.Wb(4,"td"),c.Wb(5,"a",29),c.cc(6,30),c.Uc(7),c.Rb(8,"span",31),c.Vb(),c.Vb(),c.Sc(9,ho,3,0,"td",27),c.Sc(10,Co,3,0,"td",27),c.Wb(11,"td"),c.Uc(12),c.Vb(),c.Wb(13,"td"),c.Uc(14),c.pc(15,"date"),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.Db(2),c.vc("ngIf","pending"===e.state),c.Db(1),c.vc("ngIf","accepted"===e.state),c.Db(2),c.vc("href",e.follower.url,c.Lc),c.Db(2),c.Wc(" ",e.follower.name+"@"+e.follower.host," "),c.Db(2),c.vc("ngIf","accepted"===e.state),c.Db(1),c.vc("ngIf","pending"===e.state),c.Db(2),c.Vc(e.score),c.Db(2),c.Vc(c.rc(15,8,e.createdAt,"short"))}}function Oo(e,t){1&e&&(c.Ub(0),c.ac(1,43),c.Tb())}function Po(e,t){1&e&&(c.Ub(0),c.ac(1,44),c.Tb())}function _o(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",41),c.Wb(2,"div",42),c.Sc(3,Oo,2,0,"ng-container",27),c.Sc(4,Po,2,0,"ng-container",27),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.search),c.Db(1),c.vc("ngIf",!e.search)}}let Mo=(()=>{class e extends W.RestTable{constructor(e,t,n){super(),this.confirmService=e,this.notifier=t,this.followService=n,this.followers=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowersListComponent"}acceptFollower(e){e.state="accepted",this.followService.acceptFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " accepted in instance followers\n        ")},t=>{e.state="pending",this.notifier.error(t.message)})}rejectFollower(e){return Object(x.a)(this,void 0,void 0,(function*(){const t="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0642\u064B\u0627 \u0631\u0641\u0636 \u0647\u0630\u0627 \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u061F";!1!==(yield this.confirmService.confirm(t,"\u0631\u0641\u0636"))&&this.followService.rejectFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " rejected from instance followers\n        "),this.loadData()},t=>{e.state="pending",this.notifier.error(t.message)})}))}deleteFollower(e){return Object(x.a)(this,void 0,void 0,(function*(){const t="\u0623\u062A\u0631\u064A\u062F \u062D\u0642\u0627 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u062A\u0627\u0628\u0650\u0639\u061F";!1!==(yield this.confirmService.confirm(t,"Delete"))&&this.followService.removeFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " removed from instance followers\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.followService.getFollowers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.followers=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.ConfirmService),c.Qb(W.Notifier),c.Qb(go.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-followers-list"]],features:[c.Ab],decls:10,vars:12,consts:function(){return[["iconName","follower","aria-hidden","true"],"Instances following you",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " followers\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",[2,"width","150px"],"\u0645\u0642\u0628\u0636 \u062A\u0627\u0628\u0639",["pSortableColumn","state",2,"width","100px"],"State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","state"],["pSortableColumn","score",2,"width","100px"],"Score \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",["field","score"],["pSortableColumn","createdAt",2,"width","150px"],"Created \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[4,"ngIf"],["label","",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","\u0627\u0641\u062A\u062D \u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0645\u062B\u0644 \u0641\u064A \u0639\u0644\u0627\u0645\u0629 \u062A\u0628\u0648\u064A\u0628 \u062C\u062F\u064A\u062F\u0629"],[1,"glyphicon","glyphicon-new-window"],["icon","tick",3,"click",6,"title"],["title","\u0645\u0648\u0627\u0641\u0642\u0629"],["icon","cross",3,"click",6,"title"],["title","\u0631\u0641\u0636"],["label","",3,"click"],[1,"badge","badge-green"],"\u062A\u0645 \u0627\u0644\u0642\u0628\u0648\u0644",[1,"badge","badge-yellow"],"\u0645\u0639\u0644\u0642",["colspan","6"],[1,"no-results"],"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u062A\u0627\u0628\u0639 \u0645\u0637\u0627\u0628\u0642 \u0644\u0644\u0645\u0631\u0634\u062D\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.","\u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0644\u064A\u0633 \u0644\u062F\u064A\u0647 \u0623\u064A \u0645\u062A\u0627\u0628\u0639."]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"p-table",2),c.cc(5,3),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(6,uo,7,0,"ng-template",4),c.Sc(7,po,14,0,"ng-template",5),c.Sc(8,vo,16,11,"ng-template",6),c.Sc(9,_o,5,2,"ng-template",7),c.Vb()),2&e&&(c.Db(4),c.ec("{first}")("{last}")("{totalRecords}"),c.bc(5),c.vc("value",t.followers)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Ze.a,v.f,et.d,v.e,v.d,i.u,en.a,Yt.a],pipes:[i.f],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",".caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.action-cell[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]:first-child{margin-right:10px}"]}),e})(),yo=(()=>{class e{constructor(e,t){this.notifier=e,this.redundancyService=t}updateRedundancyState(){this.redundancyService.updateRedundancy(this.host,this.redundancyAllowed).subscribe(()=>{const e=this.redundancyAllowed?"\u0645\u0641\u0639\u0651\u0644":"\u062E\u0627\u0645\u0644";this.notifier.success("Redundancy for \n          " + this.host + " is \n          " + e + "\n        ")},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(M.RedundancyService))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-redundancy-checkbox"]],inputs:{redundancyAllowed:"redundancyAllowed",host:"host"},decls:1,vars:2,consts:[[3,"inputName","ngModel","ngModelChange"]],template:function(e,t){1&e&&(c.Wb(0,"my-peertube-checkbox",0),c.kc("ngModelChange",(function(e){return t.redundancyAllowed=e}))("ngModelChange",(function(){return t.updateRedundancyState()})),c.Vb()),2&e&&c.vc("inputName",t.host+"-redundancy-allowed")("ngModel",t.redundancyAllowed)},directives:[K.a,r.s,r.v],styles:[""]}),e})();const wo=["batchDomainsModal"];function xo(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",13),c.Wb(1,"div",14),c.Wb(2,"input",15),c.cc(3,16),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onSearch(t)})),c.Vb(),c.Wb(4,"a",17),c.kc("click",(function(){return c.Jc(e),c.oc().resetSearch()})),c.Vb(),c.Wb(5,"span",18),c.ac(6,19),c.Vb(),c.Vb(),c.Wb(7,"a",20),c.kc("click",(function(){return c.Jc(e),c.oc().addDomainsToFollow()}))("key.enter",(function(){return c.Jc(e),c.oc().addDomainsToFollow()})),c.Rb(8,"my-global-icon",0),c.Ub(9),c.ac(10,21),c.Tb(),c.Vb(),c.Vb()}}function Vo(e,t){1&e&&(c.Wb(0,"tr"),c.Wb(1,"th",22),c.Uc(2,"Action"),c.Vb(),c.Wb(3,"th"),c.ac(4,23),c.Vb(),c.Wb(5,"th",24),c.gc(6,25),c.Rb(7,"p-sortIcon",26),c.dc(),c.Vb(),c.Wb(8,"th",27),c.gc(9,28),c.Rb(10,"p-sortIcon",29),c.dc(),c.Vb(),c.Wb(11,"th",30),c.gc(12,31),c.Rb(13,"p-sortIcon",32),c.dc(),c.Vb(),c.Vb())}function ko(e,t){1&e&&(c.Wb(0,"td"),c.Wb(1,"span",40),c.ac(2,41),c.Vb(),c.Vb())}function Wo(e,t){1&e&&(c.Wb(0,"td"),c.Wb(1,"span",42),c.ac(2,43),c.Vb(),c.Vb())}function So(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",33),c.Wb(2,"my-delete-button",34),c.kc("click",(function(){c.Jc(e);const n=t.$implicit;return c.oc().removeFollowing(n)})),c.Vb(),c.Vb(),c.Wb(3,"td"),c.Wb(4,"a",35),c.cc(5,36),c.Uc(6),c.Rb(7,"span",37),c.Vb(),c.Vb(),c.Sc(8,ko,3,0,"td",38),c.Sc(9,Wo,3,0,"td",38),c.Wb(10,"td"),c.Uc(11),c.pc(12,"date"),c.Vb(),c.Wb(13,"td"),c.Rb(14,"my-redundancy-checkbox",39),c.Vb(),c.Vb()}if(2&e){const e=t.$implicit;c.Db(4),c.vc("href","https://"+e.following.host,c.Lc),c.Db(2),c.Wc(" ",e.following.host," "),c.Db(2),c.vc("ngIf","accepted"===e.state),c.Db(1),c.vc("ngIf","pending"===e.state),c.Db(2),c.Vc(c.rc(12,7,e.createdAt,"short")),c.Db(3),c.vc("host",e.following.host)("redundancyAllowed",e.following.hostRedundancyAllowed)}}function zo(e,t){1&e&&(c.Ub(0),c.ac(1,46),c.Tb())}function To(e,t){1&e&&(c.Ub(0),c.ac(1,47),c.Tb())}function Do(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",44),c.Wb(2,"div",45),c.Sc(3,zo,2,0,"ng-container",38),c.Sc(4,To,2,0,"ng-container",38),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.search),c.Db(1),c.vc("ngIf",!e.search)}}function Ro(e,t){1&e&&(c.Wb(0,"div",48),c.ac(1,49),c.Vb())}let $o=(()=>{class e extends W.RestTable{constructor(e,t,n){super(),this.notifier=e,this.confirmService=t,this.followService=n,this.following=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowingListComponent"}addDomainsToFollow(){this.batchDomainsModal.openModal()}httpEnabled(){return"https:"===window.location.protocol}addFollowing(e){return Object(x.a)(this,void 0,void 0,(function*(){this.followService.follow(e).subscribe(()=>{this.notifier.success("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629!"),this.loadData()},e=>this.notifier.error(e.message))}))}removeFollowing(e){return Object(x.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("Do you really want to unfollow \n          " + e.following.host + "?\n        ","\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0645\u062A\u0627\u0628\u064E\u0639\u0629"))&&this.followService.unfollow(e).subscribe(()=>{this.notifier.success("You are not following \n          " + e.following.host + " anymore.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.followService.getFollowing({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.following=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(W.ConfirmService),c.Qb(go.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-followers-list"]],viewQuery:function(e,t){var n;1&e&&c.Yc(wo,!0),2&e&&c.Gc(n=c.lc())&&(t.batchDomainsModal=n.first)},features:[c.Ab],decls:15,vars:13,consts:function(){return[["iconName","following","aria-hidden","true"],"Instances you follow",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " hosts\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"domains",6,"action"],["batchDomainsModal",""],["action","\u0627\u062A\u0628\u0639 \u0627\u0644\u0645\u062C\u0627\u0644\u0627\u062A"],["ngProjectAs","warning",5,["warning"]],["class","alert alert-warning",4,"ngIf"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",[1,"ml-2","follow-button",3,"click","key.enter"],"\u0627\u062A\u0628\u0639 \u0627\u0644\u0645\u062C\u0627\u0644",[2,"width","150px"],"\u0627\u0644\u0645\u0636\u064A\u0641",["pSortableColumn","state",2,"width","100px"],"State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","state"],["pSortableColumn","createdAt",2,"width","150px"],"Created \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",["field","createdAt"],["pSortableColumn","redundancyAllowed",2,"width","160px"],"Redundancy allowed \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",["field","redundancyAllowed"],[1,"action-cell"],["label","",3,"click"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","\u0627\u0641\u062A\u062D \u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u062F\u0645 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629"],[1,"glyphicon","glyphicon-new-window"],[4,"ngIf"],[3,"host","redundancyAllowed"],[1,"badge","badge-green"],"\u062A\u0645 \u0627\u0644\u0642\u0628\u0648\u0644",[1,"badge","badge-yellow"],"\u0645\u0639\u0644\u0642",["colspan","6"],[1,"no-results"],"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0636\u064A\u0641 \u0645\u0637\u0627\u0628\u0642 \u0644\u0644\u0641\u0644\u0627\u062A\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629.","\u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0644\u0627 \u064A\u062A\u0628\u0639 \u0623\u064A \u0634\u062E\u0635.",[1,"alert","alert-warning"],"\u064A\u0628\u062F\u0648 \u0623\u0646\u0643 \u0644\u0633\u062A \u0639\u0644\u0649 \u062E\u0627\u062F\u0645 HTTPS. \u064A\u062D\u062A\u0627\u062C \u062E\u0627\u062F\u0645 \u0627\u0644\u0648\u064A\u0628 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0625\u0644\u0649 \u062A\u0646\u0634\u064A\u0637 TLS \u0644\u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u062E\u0648\u0627\u062F\u0645."]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"p-table",2),c.cc(5,3),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(6,xo,11,0,"ng-template",4),c.Sc(7,Vo,14,0,"ng-template",5),c.Sc(8,So,15,10,"ng-template",6),c.Sc(9,Do,5,2,"ng-template",7),c.Vb(),c.Wb(10,"my-batch-domains-modal",8,9),c.cc(12,10),c.kc("domains",(function(e){return t.addFollowing(e)})),c.Ub(13,11),c.Sc(14,Ro,2,0,"div",12),c.Tb(),c.Vb()),2&e&&(c.Db(4),c.ec("{first}")("{last}")("{totalRecords}"),c.bc(5),c.vc("value",t.following)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0),c.Db(10),c.vc("ngIf",!1===t.httpEnabled()))},directives:[Ze.a,v.f,et.d,st.a,i.u,v.e,v.d,Yt.a,yo],pipes:[i.f],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.follow-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.follow-button[_ngcontent-%COMP%]:active, .follow-button[_ngcontent-%COMP%]:focus, .follow-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.follow-button.focus-visible[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.follow-button[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%]:active, .follow-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.follow-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.follow-button.disabled[_ngcontent-%COMP%], .follow-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}']}),e})();var Io=n("++gK");let Uo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["my-video-redundancy-information"]],inputs:{redundancyElement:"redundancyElement"},decls:23,vars:14,consts:[[1,"label"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(e,t){1&e&&(c.Wb(0,"div"),c.Wb(1,"span",0),c.Uc(2,"Url"),c.Vb(),c.Wb(3,"a",1),c.Uc(4),c.Vb(),c.Vb(),c.Wb(5,"div"),c.Wb(6,"span",0),c.Uc(7,"Created on"),c.Vb(),c.Wb(8,"span"),c.Uc(9),c.pc(10,"date"),c.Vb(),c.Vb(),c.Wb(11,"div"),c.Wb(12,"span",0),c.Uc(13,"Expires on"),c.Vb(),c.Wb(14,"span"),c.Uc(15),c.pc(16,"date"),c.Vb(),c.Vb(),c.Wb(17,"div"),c.Wb(18,"span",0),c.Uc(19,"Size"),c.Vb(),c.Wb(20,"span"),c.Uc(21),c.pc(22,"bytes"),c.Vb(),c.Vb()),2&e&&(c.Db(3),c.vc("href",t.redundancyElement.fileUrl,c.Lc),c.Db(1),c.Vc(t.redundancyElement.fileUrl),c.Db(5),c.Vc(c.rc(10,5,t.redundancyElement.createdAt,"medium")),c.Db(6),c.Vc(c.rc(16,8,t.redundancyElement.expiresOn,"medium")),c.Db(6),c.Vc(c.rc(22,11,t.redundancyElement.size,1)))},pipes:[i.f,Io.a],styles:[".label[_ngcontent-%COMP%]{display:inline-block;min-width:100px;font-weight:600}"]}),e})();function Ao(e,t){1&e&&(c.Wb(0,"th",25),c.ac(1,26),c.Vb())}function Eo(e,t){1&e&&(c.Wb(0,"th",27),c.ac(1,28),c.Vb())}function Lo(e,t){if(1&e&&(c.Wb(0,"tr"),c.Rb(1,"th",18),c.Wb(2,"th",19),c.Uc(3,"Action"),c.Vb(),c.Sc(4,Ao,2,0,"th",20),c.Wb(5,"th",21),c.gc(6,22),c.Rb(7,"p-sortIcon",23),c.dc(),c.Vb(),c.Sc(8,Eo,2,0,"th",24),c.Vb()),2&e){const e=c.oc();c.Db(4),c.vc("ngIf",e.isDisplayingRemoteVideos()),c.Db(4),c.vc("ngIf",e.isDisplayingRemoteVideos())}}function No(e,t){if(1&e&&(c.Wb(0,"td"),c.Uc(1),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(1),c.Vc(t.getRedundancyStrategy(e))}}function Fo(e,t){if(1&e&&(c.Wb(0,"td"),c.Uc(1),c.pc(2,"bytes"),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(1),c.Vc(c.rc(2,1,t.getTotalSize(e),1))}}function Go(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td"),c.Wb(2,"span",29),c.cc(3,30),c.Rb(4,"i",31),c.Vb(),c.Vb(),c.Wb(5,"td",32),c.Wb(6,"my-delete-button",33),c.kc("click",(function(){c.Jc(e);const n=t.$implicit;return c.oc().removeRedundancy(n)})),c.Vb(),c.Vb(),c.Sc(7,No,2,1,"td",34),c.Wb(8,"td"),c.Wb(9,"a",35),c.cc(10,36),c.Uc(11),c.Rb(12,"span",37),c.Vb(),c.Vb(),c.Sc(13,Fo,3,4,"td",34),c.Vb()}if(2&e){const e=t.expanded,n=t.$implicit,o=c.oc();c.Db(2),c.vc("pRowToggler",n),c.Db(2),c.vc("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),c.Db(3),c.vc("ngIf",o.isDisplayingRemoteVideos()),c.Db(2),c.vc("href",n.url,c.Lc),c.Db(2),c.Wc(" ",n.name," "),c.Db(2),c.vc("ngIf",o.isDisplayingRemoteVideos())}}function Bo(e,t){if(1&e&&(c.Wb(0,"div",40),c.Rb(1,"my-video-redundancy-information",41),c.Vb()),2&e){const e=t.$implicit;c.Db(1),c.vc("redundancyElement",e)}}function jo(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",38),c.Sc(2,Bo,2,1,"div",39),c.Vb(),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(1),c.Eb("colspan",t.getColspan()),c.Db(1),c.vc("ngForOf",e.redundancies.files)}}function Qo(e,t){if(1&e&&(c.Wb(0,"div"),c.Rb(1,"my-video-redundancy-information",41),c.Vb()),2&e){const e=t.$implicit;c.Db(1),c.vc("redundancyElement",e)}}function Ho(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",38),c.Sc(2,Qo,2,1,"div",42),c.Vb(),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(1),c.Eb("colspan",t.getColspan()),c.Db(1),c.vc("ngForOf",e.redundancies.streamingPlaylists)}}function qo(e,t){if(1&e&&(c.Sc(0,jo,3,2,"tr",34),c.Sc(1,Ho,3,2,"tr",34)),2&e){const e=t.$implicit;c.vc("ngIf",0!==e.redundancies.files.length),c.Db(1),c.vc("ngIf",0!==e.redundancies.streamingPlaylists.length)}}function Ko(e,t){1&e&&(c.Ub(0),c.ac(1,45),c.Tb())}function Jo(e,t){1&e&&(c.Ub(0),c.ac(1,46),c.Tb())}function Xo(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",43),c.Wb(2,"div",44),c.Sc(3,Ko,2,0,"ng-container",34),c.Sc(4,Jo,2,0,"ng-container",34),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.isDisplayingRemoteVideos()),c.Db(1),c.vc("ngIf",!e.isDisplayingRemoteVideos())}}function Yo(e,t){1&e&&(c.Wb(0,"div",44),c.ac(1,53),c.Vb())}function Zo(e,t){if(1&e&&(c.Wb(0,"div",54),c.Rb(1,"p-chart",55),c.Vb()),2&e){const e=t.$implicit;c.Db(1),c.vc("data",e.graphData)("options",e.options)}}function ec(e,t){if(1&e&&(c.Wb(0,"div",47),c.Wb(1,"div",48),c.ac(2,49),c.Vb(),c.Wb(3,"div",50),c.Sc(4,Yo,2,0,"div",51),c.Sc(5,Zo,2,2,"div",52),c.Vb(),c.Vb()),2&e){const e=c.oc();c.Db(4),c.vc("ngIf",e.noRedundancies),c.Db(1),c.vc("ngForOf",e.redundanciesGraphsData)}}let tc=(()=>{class e extends W.RestTable{constructor(e,t,n,o){super(),this.notifier=e,this.confirmService=t,this.redundancyService=n,this.serverService=o,this.videoRedundancies=[],this.totalRecords=0,this.sort={field:"name",order:1},this.pagination={count:this.rowsPerPage,start:0},this.displayType="my-videos",this.redundanciesGraphsData=[],this.noRedundancies=!1,this.bytesPipe=new M.BytesPipe}getIdentifier(){return"VideoRedundanciesListComponent"}ngOnInit(){this.loadSelectLocalStorage(),this.initialize(),this.serverService.getServerStats().subscribe(e=>{const t=e.videosRedundancy;0===t.length&&(this.noRedundancies=!0);for(const n of t)this.buildPieData(n)})}getColspan(){return this.isDisplayingRemoteVideos()?5:4}isDisplayingRemoteVideos(){return"remote-videos"===this.displayType}getTotalSize(e){return e.redundancies.files.reduce((e,t)=>e+t.size,0)+e.redundancies.streamingPlaylists.reduce((e,t)=>e+t.size,0)}onDisplayTypeChanged(){this.pagination.start=0,this.saveSelectLocalStorage(),this.loadData()}getRedundancyStrategy(e){return 0!==e.redundancies.files.length?e.redundancies.files[0].strategy:0!==e.redundancies.streamingPlaylists.length?e.redundancies.streamingPlaylists[0].strategy:""}buildPieData(e){const t=e.totalSize?e.totalSize-e.totalUsed:e.totalUsed;0!==t&&this.redundanciesGraphsData.push({stats:e,graphData:{labels:["\u0645\u064F\u0633\u062A\u0639\u0645\u064E\u0644","\u0645\u062A\u0648\u0641\u0631"],datasets:[{data:[e.totalUsed,t],backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}]},options:{title:{display:!0,text:e.strategy},tooltips:{callbacks:{label:(e,t)=>{let n=t.labels[e.index];return n?n+=": ":n="",n+=this.bytesPipe.transform(t.datasets[e.datasetIndex].data[e.index],1),n}}}}})}removeRedundancy(e){return Object(x.a)(this,void 0,void 0,(function*(){const t="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0642\u064B\u0627 \u0625\u0632\u0627\u0644\u0629 \u062A\u0643\u0631\u0627\u0631 \u0647\u0630\u0627 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u061F";!1!==(yield this.confirmService.confirm(t,"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u0643\u0631\u0627\u0631"))&&this.redundancyService.removeVideoRedundancies(e).subscribe(()=>{this.notifier.success("\u062A\u0645\u062A \u0625\u0632\u0627\u0644\u0629 \u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648!"),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.redundancyService.listVideoRedundancies({pagination:this.pagination,sort:this.sort,target:this.displayType}).subscribe(e=>{this.videoRedundancies=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}loadSelectLocalStorage(){const t=kn.a.getItem(e.LOCAL_STORAGE_DISPLAY_TYPE);t&&(this.displayType=t)}saveSelectLocalStorage(){kn.a.setItem(e.LOCAL_STORAGE_DISPLAY_TYPE,this.displayType)}}return e.LOCAL_STORAGE_DISPLAY_TYPE="video-redundancies-list-display-type",e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(W.ConfirmService),c.Qb(M.RedundancyService),c.Qb(W.ServerService))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-video-redundancies-list"]],features:[c.Ab],decls:20,vars:11,consts:function(){return[["iconName","videos","aria-hidden","true"],"Videos redundancies",[1,"admin-sub-header"],[1,"select-filter-block"],["for","displayType"],"\u0625\u0638\u0647\u0627\u0631\u0647\u0627",[1,"peertube-select-container"],["id","displayType","name","displayType",1,"form-control",3,"ngModel","ngModelChange"],["value","my-videos"],"\u064A\u062A\u0645 \u062A\u0643\u0631\u0627\u0631 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u064A \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0645\u0646\u0635\u0627\u062A \u0627\u0644\u0628\u0639\u064A\u062F\u0629",["value","remote-videos"],"\u062A\u0643\u0631\u0627\u0631 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 \u0628\u0639\u062F \u0628\u0645\u0646\u0635\u0629\u062A\u064A",["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","expandedRowKeys","onLazyLoad","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["class","redundancies-charts",4,"ngIf"],[2,"width","40px"],[2,"width","150px"],["style","width: 160px;",4,"ngIf"],["pSortableColumn","name"],"Video \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","name"],["style","width: 100px;",4,"ngIf"],[2,"width","160px"],"\u0627\u0644\u0627\u0633\u062A\u0631\u0627\u062A\u064A\u062C\u064A\u0629",[2,"width","100px"],"\u0627\u0644\u062D\u062C\u0645 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A",[1,"expander",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062A\u0643\u0631\u0627\u0631"],[3,"ngClass"],[1,"action-cell"],["label","",3,"click"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","\u0627\u0641\u062A\u062D \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0641\u064A \u0639\u0644\u0627\u0645\u0629 \u062A\u0628\u0648\u064A\u0628 \u062C\u062F\u064A\u062F\u0629"],[1,"glyphicon","glyphicon-new-window"],[1,"expand-cell"],["class","expansion-block",4,"ngFor","ngForOf"],[1,"expansion-block"],[3,"redundancyElement"],[4,"ngFor","ngForOf"],["colspan","6"],[1,"no-results"],"\u0645\u0646\u0635\u0629\u0643 \u0644\u0627 \u064A\u0639\u0643\u0633 \u0623\u064A \u0641\u064A\u062F\u064A\u0648.","\u0645\u0646\u0635\u0629\u0643 \u0644\u064A\u0633 \u0644\u0647 \u0645\u0642\u0627\u0637\u0639 \u0641\u064A\u062F\u064A\u0648 \u0645\u0639\u0643\u0648\u0633\u0629.",[1,"redundancies-charts"],[1,"form-sub-title"],"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0627\u0633\u062A\u0631\u0627\u062A\u064A\u062C\u064A\u0627\u062A \u0627\u0644\u0645\u0645\u0643\u0651\u0646\u0629",[1,"chart-blocks"],["class","no-results",4,"ngIf"],["class","chart-block",4,"ngFor","ngForOf"],"\u0644\u0645 \u064A\u062A\u0645 \u062A\u0645\u0643\u064A\u0646 \u0627\u0633\u062A\u0631\u0627\u062A\u064A\u062C\u064A\u0629 \u0627\u0644\u062A\u0643\u0631\u0627\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643.",[1,"chart-block"],["type","pie","width","300px","height","300px",3,"data","options"]]},template:function(e,t){1&e&&(c.Wb(0,"h1"),c.Rb(1,"my-global-icon",0),c.Ub(2),c.ac(3,1),c.Tb(),c.Vb(),c.Wb(4,"div",2),c.Wb(5,"div",3),c.Wb(6,"label",4),c.ac(7,5),c.Vb(),c.Wb(8,"div",6),c.Wb(9,"select",7),c.kc("ngModelChange",(function(e){return t.displayType=e}))("ngModelChange",(function(){return t.onDisplayTypeChanged()})),c.Wb(10,"option",8),c.ac(11,9),c.Vb(),c.Wb(12,"option",10),c.ac(13,11),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(14,"p-table",12),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),c.Sc(15,Lo,9,2,"ng-template",13),c.Sc(16,Go,14,6,"ng-template",14),c.Sc(17,qo,2,2,"ng-template",15),c.Sc(18,Xo,5,2,"ng-template",16),c.Vb(),c.Sc(19,ec,6,2,"div",17)),2&e&&(c.Db(9),c.vc("ngModel",t.displayType),c.Db(5),c.vc("value",t.videoRedundancies)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("expandedRowKeys",t.expandedRows),c.Db(5),c.vc("ngIf",t.isDisplayingRemoteVideos()))},directives:[Ze.a,r.E,r.s,r.v,r.x,r.H,v.f,et.d,i.u,v.e,v.d,j.y,v.b,i.r,Yt.a,i.t,Uo,o.b],pipes:[Io.a],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.expansion-block[_ngcontent-%COMP%]{margin-bottom:20px}.admin-sub-header[_ngcontent-%COMP%]{justify-content:flex-end}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.redundancies-charts[_ngcontent-%COMP%]{margin-top:50px}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]{display:flex;justify-content:center}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]   .chart-block[_ngcontent-%COMP%]{margin:0 20px}']}),e})();const nc=[{path:"follows",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&c.Rb(0,"router-outlet")},directives:[w.m],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}"]}),e})(),canActivate:[W.UserRightGuard],data:{userRight:2},children:[{path:"",redirectTo:"following-list",pathMatch:"full"},{path:"following-list",component:$o,data:{meta:{title:"Following list"}}},{path:"followers-list",component:Mo,data:{meta:{title:"Followers list"}}},{path:"following-add",redirectTo:"following-list"},{path:"video-redundancies-list",component:tc}]}];var oc=n("uZlO");let cc=(()=>{class e extends P.a{constructor(){super(...arguments),this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.roles=[]}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.buildRoles()}get subscribersCount(){return(this.user?this.user.account.followersCount:0)+(this.user?this.user.videoChannels.map(e=>e.followersCount).reduce((e,t)=>e+t,0):0)}isInBigView(){return this.screenService.getWindowInnerWidth()>1600}buildRoles(){this.roles=this.auth.getUser().role!==Ht.UserRole.ADMINISTRATOR?[{value:Ht.UserRole.USER.toString(),label:oc.a[Ht.UserRole.USER]}]:Object.keys(oc.a).map(e=>({value:e.toString(),label:oc.a[e]}))}isTranscodingInformationDisplayed(){const e=parseInt(this.form.value.videoQuota,10);return 0!==this.serverConfig.transcoding.enabledResolutions.length&&e>0}computeQuotaWithTranscoding(){const e=this.serverConfig.transcoding,t=e.enabledResolutions;let n=0;for(const o of t)n+=o/2160;return e.hls.enabled&&(n*=2),n*parseInt(this.form.value.videoQuota,10)}resetPassword(){}buildAdminFlags(e){return e.byPassAutoBlock?1:0}buildQuotaOptions(){this.videoQuotaOptions=this.configService.videoQuotaOptions.map(e=>{var t;return{value:null===(t=e.value)||void 0===t?void 0:t.toString(),label:e.label,disabled:e.disabled}}),this.videoQuotaDailyOptions=this.configService.videoQuotaDailyOptions.map(e=>{var t;return{value:null===(t=e.value)||void 0===t?void 0:t.toString(),label:e.label,disabled:e.disabled}}),console.log(this.videoQuotaOptions,this.videoQuotaDailyOptions)}}return e.\u0275fac=function(t){return ic(t||e)},e.\u0275dir=c.Lb({type:e,features:[c.Ab]}),e})();const ic=c.Yb(cc);var ac=n("NH89");function rc(e,t){1&e&&(c.Ub(0),c.ac(1,9),c.Tb())}function lc(e,t){1&e&&(c.Ub(0),c.ac(1,10),c.Tb())}function sc(e,t){if(1&e&&(c.Wb(0,"div",11),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.formErrors.password," ")}}const bc=function(e){return{"input-error":e}};let dc=(()=>{class e extends P.a{constructor(e,t,n){super(),this.formValidatorService=e,this.notifier=t,this.userService=n,this.showPassword=!1}ngOnInit(){this.buildForm({password:B.h})}formValidated(){this.error=void 0,this.userService.updateUser(this.userId,this.form.value).subscribe(()=>{this.notifier.success("Password changed for user \n          " + this.username + ".\n        ")},e=>this.error=e.message)}togglePasswordVisibility(){this.showPassword=!this.showPassword}getFormButtonTitle(){return "\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u064A\u0629 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645"}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(P.b),c.Qb(W.Notifier),c.Qb(W.UserService))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-user-password"]],inputs:{userId:"userId"},features:[c.Ab],decls:10,vars:10,consts:function(){return[["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[4,"ngIf"],["class","form-error",4,"ngIf"],["type","submit",3,"value","disabled"],"\u0639\u0631\u0636","\u0625\u062E\u0641\u0627\u0621",[1,"form-error"]]},template:function(e,t){1&e&&(c.Wb(0,"form",0),c.kc("ngSubmit",(function(){return t.formValidated()})),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Rb(3,"input",3),c.Wb(4,"div",4),c.Wb(5,"button",5),c.kc("click",(function(){return t.togglePasswordVisibility()})),c.Sc(6,rc,2,0,"ng-container",6),c.Sc(7,lc,2,0,"ng-container",6),c.Vb(),c.Vb(),c.Vb(),c.Sc(8,sc,2,1,"div",7),c.Vb(),c.Rb(9,"input",8),c.Vb()),2&e&&(c.vc("formGroup",t.form),c.Db(3),c.vc("ngClass",c.zc(8,bc,t.formErrors.password)),c.Eb("type",t.showPassword?"text":"password"),c.Db(3),c.vc("ngIf",!t.showPassword),c.Db(1),c.vc("ngIf",!!t.showPassword),c.Db(1),c.vc("ngIf",t.formErrors.password),c.Db(1),c.wc("value",t.getFormButtonTitle()),c.vc("disabled",!t.form.valid))},directives:[r.I,r.t,r.l,r.c,r.s,r.j,i.r,i.u],styles:['input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block;border-top-right-radius:0;border-bottom-right-radius:0;border:1px solid #c6c6c6;border-right:none}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;margin-top:10px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%]:hover, input[type=submit][disabled][_ngcontent-%COMP%]{background-color:#df877c}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}input[type=submit][_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.input-group-append[_ngcontent-%COMP%]{height:30px}']}),e})();function gc(e,t){1&e&&(c.Ub(0),c.Wb(1,"li",40),c.ac(2,41),c.Vb(),c.Tb())}const uc=function(e){return["/accounts",e]};function pc(e,t){if(1&e&&(c.Wb(0,"a",45),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.vc("routerLink",c.zc(2,uc,null==e.user?null:e.user.username)),c.Db(1),c.Vc(null==e.user?null:e.user.username)}}function fc(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"li",40),c.ac(2,42),c.Vb(),c.Wb(3,"li",43),c.Sc(4,pc,2,4,"a",44),c.Vb(),c.Tb()),2&e){const e=c.oc();c.Db(4),c.vc("ngIf",e.user)}}const mc=function(){return["/admin/moderation/abuses/list"]},hc=function(e){return{search:e}};function Cc(e,t){if(1&e&&(c.Wb(0,"div",47),c.Wb(1,"div"),c.Wb(2,"a"),c.Wb(3,"div",48),c.Uc(4),c.pc(5,"bytes"),c.Vb(),c.Wb(6,"div",49),c.ac(7,50),c.Vb(),c.Vb(),c.Vb(),c.Wb(8,"div"),c.Wb(9,"a"),c.Wb(10,"div",48),c.Uc(11),c.Vb(),c.Wb(12,"div",49),c.ac(13,51),c.Vb(),c.Vb(),c.Vb(),c.Wb(14,"div"),c.Wb(15,"a"),c.Wb(16,"div",48),c.Uc(17),c.Vb(),c.Wb(18,"div",49),c.ac(19,52),c.Vb(),c.Vb(),c.Vb(),c.Wb(20,"div"),c.Wb(21,"a",53),c.Wb(22,"div",48),c.Uc(23),c.Vb(),c.Wb(24,"div",49),c.ac(25,54),c.Vb(),c.Vb(),c.Vb(),c.Wb(26,"div"),c.Wb(27,"a",53),c.Wb(28,"div",48),c.Uc(29),c.Vb(),c.Wb(30,"div",49),c.ac(31,55),c.Vb(),c.Vb(),c.Vb(),c.Wb(32,"div"),c.Wb(33,"a"),c.Wb(34,"div",48),c.Uc(35),c.Vb(),c.Wb(36,"div",49),c.ac(37,56),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc(2);c.Db(4),c.Xc("",e.user.videosCount," (",c.rc(5,16,e.user.videoQuotaUsed,0),")"),c.Db(3),c.ec(e.user.videosCount),c.bc(7),c.Db(4),c.Vc(e.user.videoChannels.length||0),c.Db(2),c.ec(e.user.videoChannels.length),c.bc(13),c.Db(4),c.Vc(e.subscribersCount),c.Db(2),c.ec(e.subscribersCount),c.bc(19),c.Db(2),c.vc("routerLink",c.yc(19,mc))("queryParams",c.zc(20,hc,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),c.Db(2),c.Vc(e.user.abusesCount),c.Db(4),c.vc("routerLink",c.yc(22,mc))("queryParams",c.zc(23,hc,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),c.Db(2),c.Xc("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),c.Db(6),c.Vc(e.user.videoCommentsCount),c.Db(2),c.ec(e.user.videoCommentsCount),c.bc(37)}}function vc(e,t){if(1&e&&c.Sc(0,Cc,38,25,"div",46),2&e){const e=c.oc();c.vc("ngIf",!e.isCreation()&&e.user)}}function Oc(e,t){}function Pc(e,t){1&e&&c.Sc(0,Oc,0,0,"ng-template")}function _c(e,t){if(1&e&&(c.Wb(0,"div",57),c.Rb(1,"div",58),c.Wb(2,"div",59),c.Sc(3,Pc,1,0,void 0,60),c.Vb(),c.Vb()),2&e){c.oc();const e=c.Hc(8);c.Db(3),c.vc("ngTemplateOutlet",e)}}function Mc(e,t){if(1&e&&(c.Wb(0,"div",61),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Vc(e.error)}}function yc(e,t){1&e&&(c.Wb(0,"div",62),c.ac(1,63),c.Vb())}function wc(e,t){if(1&e&&(c.Wb(0,"div",62),c.Rb(1,"my-actor-avatar-info",64),c.Vb()),2&e){const e=c.oc();c.Db(1),c.vc("actor",e.user.account)}}function xc(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.username," ")}}const Vc=function(e){return{"input-error":e}};function kc(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",65),c.ac(2,66),c.Vb(),c.Wb(3,"input",67),c.cc(4,68),c.Vb(),c.Sc(5,xc,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngClass",c.zc(2,Vc,e.formErrors.username)),c.Db(2),c.vc("ngIf",e.formErrors.username)}}function Wc(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.channelName," ")}}function Sc(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",70),c.ac(2,71),c.Vb(),c.Wb(3,"input",72),c.cc(4,73),c.Vb(),c.Sc(5,Wc,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngClass",c.zc(2,Vc,e.formErrors.channelName)),c.Db(2),c.vc("ngIf",e.formErrors.channelName)}}function zc(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.formErrors.email," ")}}function Tc(e,t){1&e&&(c.Ub(0),c.ac(1,78),c.Tb())}function Dc(e,t){1&e&&(c.Wb(0,"my-help"),c.Sc(1,Tc,2,0,"ng-template",77),c.Vb())}function Rc(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.password," ")}}function $c(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",74),c.ac(2,75),c.Vb(),c.Sc(3,Dc,2,0,"my-help",5),c.Rb(4,"input",76),c.Sc(5,Rc,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.isPasswordOptional()),c.Db(1),c.vc("ngClass",c.zc(3,Vc,e.formErrors.password)),c.Db(1),c.vc("ngIf",e.formErrors.password)}}function Ic(e,t){if(1&e&&(c.Wb(0,"option",79),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value),c.Db(1),c.Wc(" ",e.label," ")}}function Uc(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.formErrors.role," ")}}function Ac(e,t){if(1&e&&(c.Wb(0,"option",80),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function Ec(e,t){if(1&e&&(c.Wb(0,"div",81),c.gc(1,82),c.Rb(2,"strong"),c.Rb(3,"br"),c.pc(4,"bytes"),c.dc(),c.Vb()),2&e){const e=c.oc();c.Db(4),c.ec(c.rc(4,1,e.computeQuotaWithTranscoding(),0)),c.bc(1)}}function Lc(e,t){if(1&e&&(c.Wb(0,"option",80),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function Nc(e,t){}function Fc(e,t){1&e&&c.Sc(0,Nc,0,0,"ng-template")}function Gc(e,t){if(1&e&&(c.Wb(0,"div",83),c.Sc(1,Fc,1,0,void 0,60),c.Vb()),2&e){c.oc();const e=c.Hc(8);c.Db(1),c.vc("ngTemplateOutlet",e)}}const Bc=function(e){return{"form-row":e}};function jc(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",9),c.Wb(1,"div",10),c.Rb(2,"div",84),c.Wb(3,"div",85),c.ac(4,86),c.Vb(),c.Vb(),c.Wb(5,"div",13),c.Wb(6,"div",87),c.Wb(7,"div",88),c.Wb(8,"label"),c.ac(9,89),c.Vb(),c.Wb(10,"button",90),c.kc("click",(function(){return c.Jc(e),c.oc().resetPassword()})),c.ac(11,91),c.Vb(),c.Vb(),c.Wb(12,"div",16),c.Wb(13,"label"),c.ac(14,92),c.Vb(),c.Rb(15,"my-user-password",93),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.oc();c.Db(5),c.vc("ngClass",c.zc(2,Bc,e.isInBigView())),c.Db(10),c.vc("userId",e.user.id)}}const Qc=function(e){return{"col-5":e}};let Hc=(()=>{class e extends cc{constructor(e,t,n,o,c,i,a,r,l){super(),this.serverService=e,this.formValidatorService=t,this.configService=n,this.screenService=o,this.auth=c,this.route=i,this.router=a,this.notifier=r,this.userService=l,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:Ht.UserRole.USER.toString(),videoQuota:"-1",videoQuotaDaily:"-1"};this.buildForm({username:B.k,channelName:B.b,email:B.f,password:this.isPasswordOptional()?B.g:B.h,role:B.i,videoQuota:B.m,videoQuotaDaily:B.l,byPassAutoBlock:null},e)}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),this.userService.addUser(e).subscribe(()=>{this.notifier.success("User \n          " + e.username + " created.\n        "),this.router.navigate(["/admin/users/list"])},e=>this.error=e.message)}isCreation(){return!0}isPasswordOptional(){return this.route.snapshot.data.serverConfig.email.enabled}getFormButtonTitle(){return "Create user"}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.ServerService),c.Qb(P.b),c.Qb(T),c.Qb(W.ScreenService),c.Qb(W.AuthService),c.Qb(w.a),c.Qb(w.h),c.Qb(W.Notifier),c.Qb(W.UserService))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-user-create"]],features:[c.Ab],decls:53,vars:30,consts:function(){var e,t,n,o,i,a,r,l,s,b,d,g,u,p,f;return e="Users",t="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",n="mail@example.com",o="\u0627\u0644\u062F\u0648\u0631",i="\u062D\u0635\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648",a="\u0627\u0644\u062D\u0635\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629 \u0644\u0644\u0641\u064A\u062F\u064A\u0648\u0647\u0627\u062A",r="\u0644\u0627 \u064A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0642\u0628\u0644 \u0646\u0634\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0623",l="Create",s="\u062A\u062D\u0631\u064A\u0631",b="{VAR_PLURAL, plural, =1 {\u0641\u064A\u062F\u064A\u0648} other {\u0645\u0642\u0627\u0637\u0639 \u0641\u064A\u062F\u064A\u0648}}",b=c.fc(b,{VAR_PLURAL:"\ufffd0\ufffd"}),d="{VAR_PLURAL, plural, =1 {\u0642\u0646\u0627\u0629} other {\u0642\u0646\u0648\u0627\u062A}}",d=c.fc(d,{VAR_PLURAL:"\ufffd0\ufffd"}),g="{VAR_PLURAL, plural, =1 {\u0645\u0634\u062A\u0631\u0643} other {\u0645\u0634\u062A\u0631\u0643\u0648\u0646}}",g=c.fc(g,{VAR_PLURAL:"\ufffd0\ufffd"}),u="\u064A\u062C\u0631\u0645 \u0641\u064A \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",p="\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0624\u0644\u0641\u0629",f="{VAR_PLURAL , plural, =1 {\u062A\u0639\u0644\u064A\u0642} other {\u062A\u0639\u0644\u064A\u0642\u0627\u062A}}",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],e,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],t,["type","text","id","email","formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly",6,"placeholder"],["placeholder",n],["class","form-error",4,"ngIf"],["for","role"],o,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],i,["id","videoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],a,["id","videoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock",6,"labelText"],["labelText",r],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],b,d,g,[3,"routerLink","queryParams"],u,p,f=c.fc(f,{VAR_PLURAL:"\ufffd0\ufffd"}),[1,"form-row"],[1,"col-12","col-xl-3"],[1,"form-group-right","col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],"\u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F",[3,"actor"],["for","username"],"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john"],[1,"form-error"],["for","channelName"],"\u0627\u0633\u0645 \u0627\u0644\u0642\u0646\u0627\u0629",["type","text","id","channelName","formControlName","channelName",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john_channel"],["for","password"],"\u0627\u0644\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u064A\u0629",["type","password","id","password","autocomplete","new-password","formControlName","password",1,"form-control",3,"ngClass"],["ptTemplate","customHtml"],"\u0625\u0630\u0627 \u062A\u0631\u0643\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0641\u0627\u0631\u063A\u0629 \u060C \u0641\u0633\u064A\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0625\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645.",[3,"value"],[3,"value","disabled"],[1,"transcoding-information"],"Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + " At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ". \n        ",[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062E\u0637\u0631",[1,"danger-zone"],[1,"form-group","reset-password-email"],"\u0623\u0631\u0633\u0644 \u0631\u0627\u0628\u0637\u064B\u0627 \u0644\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645",[3,"click"],"\u0627\u0637\u0644\u0628 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u062C\u062F\u064A\u062F\u0629","\u0642\u0645 \u0628\u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u064A\u062F\u0648\u064A\u064B\u0627",[3,"userId"]]},template:function(e,t){1&e&&(c.Wb(0,"nav",0),c.Wb(1,"ol",1),c.Wb(2,"li",2),c.Wb(3,"a",3),c.ac(4,4),c.Vb(),c.Vb(),c.Sc(5,gc,3,0,"ng-container",5),c.Sc(6,fc,5,1,"ng-container",5),c.Vb(),c.Vb(),c.Sc(7,vc,1,1,"ng-template",null,6,c.Tc),c.Sc(9,_c,4,1,"div",7),c.Sc(10,Mc,2,1,"div",8),c.Wb(11,"div",9),c.Wb(12,"div",10),c.Rb(13,"div",11),c.Sc(14,yc,2,0,"div",12),c.Sc(15,wc,2,1,"div",12),c.Vb(),c.Wb(16,"div",13),c.Wb(17,"form",14),c.kc("ngSubmit",(function(){return t.formValidated()})),c.Sc(18,kc,6,4,"div",15),c.Sc(19,Sc,6,4,"div",15),c.Wb(20,"div",16),c.Wb(21,"label",17),c.ac(22,18),c.Vb(),c.Wb(23,"input",19),c.cc(24,20),c.Vb(),c.Sc(25,zc,2,1,"div",21),c.Vb(),c.Sc(26,$c,6,5,"div",15),c.Wb(27,"div",16),c.Wb(28,"label",22),c.ac(29,23),c.Vb(),c.Wb(30,"div",24),c.Wb(31,"select",25),c.Sc(32,Ic,2,2,"option",26),c.Vb(),c.Vb(),c.Sc(33,Uc,2,1,"div",21),c.Vb(),c.Wb(34,"div",16),c.Wb(35,"label",27),c.ac(36,28),c.Vb(),c.Wb(37,"div",24),c.Wb(38,"select",29),c.Sc(39,Ac,2,3,"option",30),c.Vb(),c.Vb(),c.Sc(40,Ec,5,4,"div",31),c.Vb(),c.Wb(41,"div",16),c.Wb(42,"label",32),c.ac(43,33),c.Vb(),c.Wb(44,"div",24),c.Wb(45,"select",34),c.Sc(46,Lc,2,3,"option",30),c.Vb(),c.Vb(),c.Vb(),c.Wb(47,"div",16),c.Wb(48,"my-peertube-checkbox",35),c.cc(49,36),c.Vb(),c.Vb(),c.Rb(50,"input",37),c.Vb(),c.Sc(51,Gc,2,1,"div",38),c.Vb(),c.Vb(),c.Sc(52,jc,16,4,"div",39)),2&e&&(c.Db(5),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",!t.isCreation()),c.Db(3),c.vc("ngIf",!t.isInBigView()),c.Db(1),c.vc("ngIf",t.error),c.Db(4),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",!t.isCreation()&&t.user),c.Db(1),c.vc("ngClass",c.zc(24,Bc,t.isInBigView())),c.Db(1),c.vc("formGroup",t.form)("ngClass",c.zc(26,Qc,t.isInBigView())),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(4),c.vc("ngClass",c.zc(28,Vc,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),c.Db(2),c.vc("ngIf",t.formErrors.email),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(6),c.vc("ngForOf",t.roles),c.Db(1),c.vc("ngIf",t.formErrors.role),c.Db(6),c.vc("ngForOf",t.videoQuotaOptions),c.Db(1),c.vc("ngIf",t.isTranscodingInformationDisplayed()),c.Db(6),c.vc("ngForOf",t.videoQuotaDailyOptions),c.Db(4),c.wc("value",t.getFormButtonTitle()),c.vc("disabled",!t.form.valid),c.Db(1),c.vc("ngIf",t.isInBigView()),c.Db(1),c.vc("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[w.k,i.u,i.r,r.I,r.t,r.l,r.c,r.s,r.j,r.E,i.t,K.a,i.B,ac.a,Q.a,J.a,r.x,r.H,dc],pipes:[Io.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.33333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important;opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;line-height:21px;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}my-actor-avatar-info[_ngcontent-%COMP%]     .actor-img-edit-container, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-followers, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-username{display:none}']}),e})();function qc(e,t){1&e&&(c.Ub(0),c.Wb(1,"li",40),c.ac(2,41),c.Vb(),c.Tb())}const Kc=function(e){return["/accounts",e]};function Jc(e,t){if(1&e&&(c.Wb(0,"a",45),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.vc("routerLink",c.zc(2,Kc,null==e.user?null:e.user.username)),c.Db(1),c.Vc(null==e.user?null:e.user.username)}}function Xc(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"li",40),c.ac(2,42),c.Vb(),c.Wb(3,"li",43),c.Sc(4,Jc,2,4,"a",44),c.Vb(),c.Tb()),2&e){const e=c.oc();c.Db(4),c.vc("ngIf",e.user)}}const Yc=function(){return["/admin/moderation/abuses/list"]},Zc=function(e){return{search:e}};function ei(e,t){if(1&e&&(c.Wb(0,"div",47),c.Wb(1,"div"),c.Wb(2,"a"),c.Wb(3,"div",48),c.Uc(4),c.pc(5,"bytes"),c.Vb(),c.Wb(6,"div",49),c.ac(7,50),c.Vb(),c.Vb(),c.Vb(),c.Wb(8,"div"),c.Wb(9,"a"),c.Wb(10,"div",48),c.Uc(11),c.Vb(),c.Wb(12,"div",49),c.ac(13,51),c.Vb(),c.Vb(),c.Vb(),c.Wb(14,"div"),c.Wb(15,"a"),c.Wb(16,"div",48),c.Uc(17),c.Vb(),c.Wb(18,"div",49),c.ac(19,52),c.Vb(),c.Vb(),c.Vb(),c.Wb(20,"div"),c.Wb(21,"a",53),c.Wb(22,"div",48),c.Uc(23),c.Vb(),c.Wb(24,"div",49),c.ac(25,54),c.Vb(),c.Vb(),c.Vb(),c.Wb(26,"div"),c.Wb(27,"a",53),c.Wb(28,"div",48),c.Uc(29),c.Vb(),c.Wb(30,"div",49),c.ac(31,55),c.Vb(),c.Vb(),c.Vb(),c.Wb(32,"div"),c.Wb(33,"a"),c.Wb(34,"div",48),c.Uc(35),c.Vb(),c.Wb(36,"div",49),c.ac(37,56),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc(2);c.Db(4),c.Xc("",e.user.videosCount," (",c.rc(5,16,e.user.videoQuotaUsed,0),")"),c.Db(3),c.ec(e.user.videosCount),c.bc(7),c.Db(4),c.Vc(e.user.videoChannels.length||0),c.Db(2),c.ec(e.user.videoChannels.length),c.bc(13),c.Db(4),c.Vc(e.subscribersCount),c.Db(2),c.ec(e.subscribersCount),c.bc(19),c.Db(2),c.vc("routerLink",c.yc(19,Yc))("queryParams",c.zc(20,Zc,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),c.Db(2),c.Vc(e.user.abusesCount),c.Db(4),c.vc("routerLink",c.yc(22,Yc))("queryParams",c.zc(23,Zc,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),c.Db(2),c.Xc("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),c.Db(6),c.Vc(e.user.videoCommentsCount),c.Db(2),c.ec(e.user.videoCommentsCount),c.bc(37)}}function ti(e,t){if(1&e&&c.Sc(0,ei,38,25,"div",46),2&e){const e=c.oc();c.vc("ngIf",!e.isCreation()&&e.user)}}function ni(e,t){}function oi(e,t){1&e&&c.Sc(0,ni,0,0,"ng-template")}function ci(e,t){if(1&e&&(c.Wb(0,"div",57),c.Rb(1,"div",58),c.Wb(2,"div",59),c.Sc(3,oi,1,0,void 0,60),c.Vb(),c.Vb()),2&e){c.oc();const e=c.Hc(8);c.Db(3),c.vc("ngTemplateOutlet",e)}}function ii(e,t){if(1&e&&(c.Wb(0,"div",61),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Vc(e.error)}}function ai(e,t){1&e&&(c.Wb(0,"div",62),c.ac(1,63),c.Vb())}function ri(e,t){if(1&e&&(c.Wb(0,"div",62),c.Rb(1,"my-actor-avatar-info",64),c.Vb()),2&e){const e=c.oc();c.Db(1),c.vc("actor",e.user.account)}}function li(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.username," ")}}const si=function(e){return{"input-error":e}};function bi(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",65),c.ac(2,66),c.Vb(),c.Wb(3,"input",67),c.cc(4,68),c.Vb(),c.Sc(5,li,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngClass",c.zc(2,si,e.formErrors.username)),c.Db(2),c.vc("ngIf",e.formErrors.username)}}function di(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.channelName," ")}}function gi(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",70),c.ac(2,71),c.Vb(),c.Wb(3,"input",72),c.cc(4,73),c.Vb(),c.Sc(5,di,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngClass",c.zc(2,si,e.formErrors.channelName)),c.Db(2),c.vc("ngIf",e.formErrors.channelName)}}function ui(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.formErrors.email," ")}}function pi(e,t){1&e&&(c.Ub(0),c.ac(1,78),c.Tb())}function fi(e,t){1&e&&(c.Wb(0,"my-help"),c.Sc(1,pi,2,0,"ng-template",77),c.Vb())}function mi(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc(" ",e.formErrors.password," ")}}function hi(e,t){if(1&e&&(c.Wb(0,"div",16),c.Wb(1,"label",74),c.ac(2,75),c.Vb(),c.Sc(3,fi,2,0,"my-help",5),c.Rb(4,"input",76),c.Sc(5,mi,2,1,"div",21),c.Vb()),2&e){const e=c.oc();c.Db(3),c.vc("ngIf",e.isPasswordOptional()),c.Db(1),c.vc("ngClass",c.zc(3,si,e.formErrors.password)),c.Db(1),c.vc("ngIf",e.formErrors.password)}}function Ci(e,t){if(1&e&&(c.Wb(0,"option",79),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value),c.Db(1),c.Wc(" ",e.label," ")}}function vi(e,t){if(1&e&&(c.Wb(0,"div",69),c.Uc(1),c.Vb()),2&e){const e=c.oc();c.Db(1),c.Wc(" ",e.formErrors.role," ")}}function Oi(e,t){if(1&e&&(c.Wb(0,"option",80),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function Pi(e,t){if(1&e&&(c.Wb(0,"div",81),c.gc(1,82),c.Rb(2,"strong"),c.Rb(3,"br"),c.pc(4,"bytes"),c.dc(),c.Vb()),2&e){const e=c.oc();c.Db(4),c.ec(c.rc(4,1,e.computeQuotaWithTranscoding(),0)),c.bc(1)}}function _i(e,t){if(1&e&&(c.Wb(0,"option",80),c.Uc(1),c.Vb()),2&e){const e=t.$implicit;c.vc("value",e.value)("disabled",e.disabled),c.Db(1),c.Wc(" ",e.label," ")}}function Mi(e,t){}function yi(e,t){1&e&&c.Sc(0,Mi,0,0,"ng-template")}function wi(e,t){if(1&e&&(c.Wb(0,"div",83),c.Sc(1,yi,1,0,void 0,60),c.Vb()),2&e){c.oc();const e=c.Hc(8);c.Db(1),c.vc("ngTemplateOutlet",e)}}const xi=function(e){return{"form-row":e}};function Vi(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",9),c.Wb(1,"div",10),c.Rb(2,"div",84),c.Wb(3,"div",85),c.ac(4,86),c.Vb(),c.Vb(),c.Wb(5,"div",13),c.Wb(6,"div",87),c.Wb(7,"div",88),c.Wb(8,"label"),c.ac(9,89),c.Vb(),c.Wb(10,"button",90),c.kc("click",(function(){return c.Jc(e),c.oc().resetPassword()})),c.ac(11,91),c.Vb(),c.Vb(),c.Wb(12,"div",16),c.Wb(13,"label"),c.ac(14,92),c.Vb(),c.Rb(15,"my-user-password",93),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.oc();c.Db(5),c.vc("ngClass",c.zc(2,xi,e.isInBigView())),c.Db(10),c.vc("userId",e.user.id)}}const ki=function(e){return{"col-5":e}};let Wi=(()=>{class e extends cc{constructor(e,t,n,o,c,i,a,r,l){super(),this.formValidatorService=e,this.serverService=t,this.configService=n,this.screenService=o,this.auth=c,this.route=i,this.router=a,this.notifier=r,this.userService=l,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:Ht.UserRole.USER.toString(),videoQuota:"-1",videoQuotaDaily:"-1"};this.buildForm({email:B.f,role:B.i,videoQuota:B.m,videoQuotaDaily:B.l,byPassAutoBlock:null},e),this.paramsSub=this.route.params.subscribe(e=>{this.userService.getUser(e.id,!0).subscribe(e=>this.onUserFetched(e),e=>this.error=e.message)})}ngOnDestroy(){this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),this.userService.updateUser(this.user.id,e).subscribe(()=>{this.notifier.success("User \n          " + this.user.username + " updated.\n        "),this.router.navigate(["/admin/users/list"])},e=>this.error=e.message)}isCreation(){return!1}isPasswordOptional(){return!1}getFormButtonTitle(){return "\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0650\u0645"}resetPassword(){this.userService.askResetPassword(this.user.email).subscribe(()=>{this.notifier.success("An email asking for password reset has been sent to \n          " + this.user.username + ".\n        ")},e=>this.error=e.message)}onUserFetched(e){this.user=new W.User(e),this.form.patchValue({email:e.email,role:e.role.toString(),videoQuota:e.videoQuota,videoQuotaDaily:e.videoQuotaDaily,byPassAutoBlock:1&e.adminFlags})}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(P.b),c.Qb(W.ServerService),c.Qb(T),c.Qb(W.ScreenService),c.Qb(W.AuthService),c.Qb(w.a),c.Qb(w.h),c.Qb(W.Notifier),c.Qb(W.UserService))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-user-update"]],features:[c.Ab],decls:53,vars:30,consts:function(){var e,t,n,o,i,a,r,l,s,b,d,g,u,p,f;return e="Users",t="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",n="mail@example.com",o="\u0627\u0644\u062F\u0648\u0631",i="\u062D\u0635\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648",a="\u0627\u0644\u062D\u0635\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629 \u0644\u0644\u0641\u064A\u062F\u064A\u0648\u0647\u0627\u062A",r="\u0644\u0627 \u064A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0642\u0628\u0644 \u0646\u0634\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0623",l="Create",s="\u062A\u062D\u0631\u064A\u0631",b="{VAR_PLURAL, plural, =1 {\u0641\u064A\u062F\u064A\u0648} other {\u0645\u0642\u0627\u0637\u0639 \u0641\u064A\u062F\u064A\u0648}}",b=c.fc(b,{VAR_PLURAL:"\ufffd0\ufffd"}),d="{VAR_PLURAL, plural, =1 {\u0642\u0646\u0627\u0629} other {\u0642\u0646\u0648\u0627\u062A}}",d=c.fc(d,{VAR_PLURAL:"\ufffd0\ufffd"}),g="{VAR_PLURAL, plural, =1 {\u0645\u0634\u062A\u0631\u0643} other {\u0645\u0634\u062A\u0631\u0643\u0648\u0646}}",g=c.fc(g,{VAR_PLURAL:"\ufffd0\ufffd"}),u="\u064A\u062C\u0631\u0645 \u0641\u064A \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",p="\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0624\u0644\u0641\u0629",f="{VAR_PLURAL , plural, =1 {\u062A\u0639\u0644\u064A\u0642} other {\u062A\u0639\u0644\u064A\u0642\u0627\u062A}}",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],e,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],t,["type","text","id","email","formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly",6,"placeholder"],["placeholder",n],["class","form-error",4,"ngIf"],["for","role"],o,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],i,["id","videoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],a,["id","videoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock",6,"labelText"],["labelText",r],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],b,d,g,[3,"routerLink","queryParams"],u,p,f=c.fc(f,{VAR_PLURAL:"\ufffd0\ufffd"}),[1,"form-row"],[1,"col-12","col-xl-3"],[1,"form-group-right","col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],"\u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F",[3,"actor"],["for","username"],"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john"],[1,"form-error"],["for","channelName"],"\u0627\u0633\u0645 \u0627\u0644\u0642\u0646\u0627\u0629",["type","text","id","channelName","formControlName","channelName",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john_channel"],["for","password"],"\u0627\u0644\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u064A\u0629",["type","password","id","password","autocomplete","new-password","formControlName","password",1,"form-control",3,"ngClass"],["ptTemplate","customHtml"],"\u0625\u0630\u0627 \u062A\u0631\u0643\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0641\u0627\u0631\u063A\u0629 \u060C \u0641\u0633\u064A\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0625\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645.",[3,"value"],[3,"value","disabled"],[1,"transcoding-information"],"Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + " At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ". \n        ",[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062E\u0637\u0631",[1,"danger-zone"],[1,"form-group","reset-password-email"],"\u0623\u0631\u0633\u0644 \u0631\u0627\u0628\u0637\u064B\u0627 \u0644\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645",[3,"click"],"\u0627\u0637\u0644\u0628 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u062C\u062F\u064A\u062F\u0629","\u0642\u0645 \u0628\u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u064A\u062F\u0648\u064A\u064B\u0627",[3,"userId"]]},template:function(e,t){1&e&&(c.Wb(0,"nav",0),c.Wb(1,"ol",1),c.Wb(2,"li",2),c.Wb(3,"a",3),c.ac(4,4),c.Vb(),c.Vb(),c.Sc(5,qc,3,0,"ng-container",5),c.Sc(6,Xc,5,1,"ng-container",5),c.Vb(),c.Vb(),c.Sc(7,ti,1,1,"ng-template",null,6,c.Tc),c.Sc(9,ci,4,1,"div",7),c.Sc(10,ii,2,1,"div",8),c.Wb(11,"div",9),c.Wb(12,"div",10),c.Rb(13,"div",11),c.Sc(14,ai,2,0,"div",12),c.Sc(15,ri,2,1,"div",12),c.Vb(),c.Wb(16,"div",13),c.Wb(17,"form",14),c.kc("ngSubmit",(function(){return t.formValidated()})),c.Sc(18,bi,6,4,"div",15),c.Sc(19,gi,6,4,"div",15),c.Wb(20,"div",16),c.Wb(21,"label",17),c.ac(22,18),c.Vb(),c.Wb(23,"input",19),c.cc(24,20),c.Vb(),c.Sc(25,ui,2,1,"div",21),c.Vb(),c.Sc(26,hi,6,5,"div",15),c.Wb(27,"div",16),c.Wb(28,"label",22),c.ac(29,23),c.Vb(),c.Wb(30,"div",24),c.Wb(31,"select",25),c.Sc(32,Ci,2,2,"option",26),c.Vb(),c.Vb(),c.Sc(33,vi,2,1,"div",21),c.Vb(),c.Wb(34,"div",16),c.Wb(35,"label",27),c.ac(36,28),c.Vb(),c.Wb(37,"div",24),c.Wb(38,"select",29),c.Sc(39,Oi,2,3,"option",30),c.Vb(),c.Vb(),c.Sc(40,Pi,5,4,"div",31),c.Vb(),c.Wb(41,"div",16),c.Wb(42,"label",32),c.ac(43,33),c.Vb(),c.Wb(44,"div",24),c.Wb(45,"select",34),c.Sc(46,_i,2,3,"option",30),c.Vb(),c.Vb(),c.Vb(),c.Wb(47,"div",16),c.Wb(48,"my-peertube-checkbox",35),c.cc(49,36),c.Vb(),c.Vb(),c.Rb(50,"input",37),c.Vb(),c.Sc(51,wi,2,1,"div",38),c.Vb(),c.Vb(),c.Sc(52,Vi,16,4,"div",39)),2&e&&(c.Db(5),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",!t.isCreation()),c.Db(3),c.vc("ngIf",!t.isInBigView()),c.Db(1),c.vc("ngIf",t.error),c.Db(4),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",!t.isCreation()&&t.user),c.Db(1),c.vc("ngClass",c.zc(24,xi,t.isInBigView())),c.Db(1),c.vc("formGroup",t.form)("ngClass",c.zc(26,ki,t.isInBigView())),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(4),c.vc("ngClass",c.zc(28,si,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),c.Db(2),c.vc("ngIf",t.formErrors.email),c.Db(1),c.vc("ngIf",t.isCreation()),c.Db(6),c.vc("ngForOf",t.roles),c.Db(1),c.vc("ngIf",t.formErrors.role),c.Db(6),c.vc("ngForOf",t.videoQuotaOptions),c.Db(1),c.vc("ngIf",t.isTranscodingInformationDisplayed()),c.Db(6),c.vc("ngForOf",t.videoQuotaDailyOptions),c.Db(4),c.wc("value",t.getFormButtonTitle()),c.vc("disabled",!t.form.valid),c.Db(1),c.vc("ngIf",t.isInBigView()),c.Db(1),c.vc("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[w.k,i.u,i.r,r.I,r.t,r.l,r.c,r.s,r.j,r.E,i.t,K.a,i.B,ac.a,Q.a,J.a,r.x,r.H,dc],pipes:[Io.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.33333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important;opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;line-height:21px;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}my-actor-avatar-info[_ngcontent-%COMP%]     .actor-img-edit-container, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-followers, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-username{display:none}']}),e})();var Si=n("Imgh"),zi=n("2L7+");const Ti=["userBanModal"];function Di(e,t){if(1&e&&(c.Wb(0,"my-action-dropdown",28),c.cc(1,29),c.Vb()),2&e){const e=c.oc(2);c.vc("actions",e.bulkUserActions)("entry",e.selectedUsers)}}const Ri=function(){return["/admin/users/list"]},$i=function(){return{search:"banned:true"}};function Ii(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",8),c.Wb(1,"div"),c.Sc(2,Di,2,2,"my-action-dropdown",9),c.Vb(),c.Wb(3,"div",10),c.Wb(4,"div",11),c.Wb(5,"div",12),c.Wb(6,"div",13),c.Rb(7,"span",14),c.Vb(),c.Wb(8,"div",15),c.Wb(9,"h6",16),c.ac(10,17),c.Vb(),c.Wb(11,"a",18),c.ac(12,19),c.Vb(),c.Vb(),c.Vb(),c.Wb(13,"input",20),c.cc(14,21),c.kc("keyup",(function(t){return c.Jc(e),c.oc().onUserSearch(t)})),c.Vb(),c.Wb(15,"a",22),c.kc("click",(function(){return c.Jc(e),c.oc().resetTableFilter()})),c.Vb(),c.Wb(16,"span",23),c.ac(17,24),c.Vb(),c.Vb(),c.Vb(),c.Wb(18,"a",25),c.Rb(19,"my-global-icon",26),c.Ub(20),c.ac(21,27),c.Tb(),c.Vb(),c.Vb()}if(2&e){const e=c.oc();c.Db(2),c.vc("ngIf",e.isInSelectionMode()),c.Db(9),c.vc("routerLink",c.yc(3,Ri))("queryParams",c.yc(4,$i))}}function Ui(e,t){if(1&e&&(c.Wb(0,"th",49),c.Uc(1),c.Rb(2,"p-sortIcon",50),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc("",e.getColumn("username").label," ")}}function Ai(e,t){if(1&e&&(c.Wb(0,"th"),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.getColumn("email").label)}}function Ei(e,t){if(1&e&&(c.Wb(0,"th",51),c.Uc(1),c.Rb(2,"p-sortIcon",52),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc("",e.getColumn("quota").label," ")}}function Li(e,t){if(1&e&&(c.Wb(0,"th",53),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.getColumn("quotaDaily").label)}}function Ni(e,t){if(1&e&&(c.Wb(0,"th",54),c.Uc(1),c.Rb(2,"p-sortIcon",55),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc("",e.getColumn("role").label," ")}}function Fi(e,t){if(1&e&&(c.Wb(0,"th",56),c.Uc(1),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Vc(e.getColumn("pluginAuth").label)}}function Gi(e,t){if(1&e&&(c.Wb(0,"th",57),c.Uc(1),c.Rb(2,"p-sortIcon",58),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc("",e.getColumn("createdAt").label," ")}}function Bi(e,t){if(1&e&&(c.Wb(0,"th",59),c.Uc(1),c.Rb(2,"p-sortIcon",60),c.Vb()),2&e){const e=c.oc(2);c.Db(1),c.Wc("",e.getColumn("lastLoginDate").label," ")}}function ji(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"th",30),c.Rb(2,"p-tableHeaderCheckbox"),c.Vb(),c.Rb(3,"th",30),c.Wb(4,"th",31),c.Wb(5,"div",32),c.Rb(6,"my-global-icon",33),c.Wb(7,"div",34),c.Wb(8,"div",16),c.ac(9,35),c.Vb(),c.Wb(10,"div",36),c.Wb(11,"my-select-checkbox",37),c.cc(12,38),c.kc("ngModelChange",(function(t){return c.Jc(e),c.oc().selectedColumns=t})),c.Vb(),c.Vb(),c.Wb(13,"div",36),c.Wb(14,"my-peertube-checkbox",39),c.cc(15,40),c.kc("ngModelChange",(function(t){return c.Jc(e),c.oc().highlightBannedUsers=t})),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Sc(16,Ui,3,1,"th",41),c.Sc(17,Ai,2,1,"th",42),c.Sc(18,Ei,3,1,"th",43),c.Sc(19,Li,2,1,"th",44),c.Sc(20,Ni,3,1,"th",45),c.Sc(21,Fi,2,1,"th",46),c.Sc(22,Gi,3,1,"th",47),c.Sc(23,Bi,3,1,"th",48),c.Vb()}if(2&e){const e=c.oc();c.Db(11),c.vc("availableItems",e.columns)("selectableGroup",!1)("ngModel",e.selectedColumns),c.Db(3),c.vc("ngModel",e.highlightBannedUsers),c.Db(2),c.vc("ngIf",e.isSelected("username")),c.Db(1),c.vc("ngIf",e.isSelected("email")),c.Db(1),c.vc("ngIf",e.isSelected("quota")),c.Db(1),c.vc("ngIf",e.isSelected("quotaDaily")),c.Db(1),c.vc("ngIf",e.isSelected("role")),c.Db(1),c.vc("ngIf",e.isSelected("pluginAuth")),c.Db(1),c.vc("ngIf",e.isSelected("createdAt")),c.Db(1),c.vc("ngIf",e.isSelected("lastLoginDate"))}}function Qi(e,t){if(1&e&&(c.Wb(0,"span",69),c.Rb(1,"i",70),c.Vb()),2&e){const e=c.oc(),t=e.expanded;c.vc("pRowToggler",e.$implicit),c.Db(1),c.vc("ngClass",t?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function Hi(e,t){if(1&e){const e=c.Xb();c.Wb(0,"my-user-moderation-dropdown",71),c.kc("userChanged",(function(){return c.Jc(e),c.oc(2).onUserChanged()}))("userDeleted",(function(){return c.Jc(e),c.oc(2).onUserChanged()})),c.Vb()}if(2&e){const e=c.oc().$implicit;c.vc("user",e)}}const qi=function(e){return[e]};function Ki(e,t){if(1&e){const e=c.Xb();c.Wb(0,"td"),c.Wb(1,"a",72),c.cc(2,73),c.Wb(3,"div",74),c.Wb(4,"img",75),c.kc("error",(function(t){return c.Jc(e),c.oc(2).switchToDefaultAvatar(t)})),c.Vb(),c.Wb(5,"div"),c.Wb(6,"span",76),c.Uc(7),c.Vb(),c.Wb(8,"span",77),c.Uc(9),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.oc().$implicit;c.Db(1),c.vc("routerLink",c.zc(4,qi,"/accounts/"+e.username)),c.Db(3),c.vc("src",null==e||null==e.account||null==e.account.avatar?null:e.account.avatar.path,c.Lc),c.Db(3),c.Vc(e.account.displayName),c.Db(2),c.Vc(e.username)}}function Ji(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"a",80),c.Uc(2),c.Vb(),c.Tb()),2&e){const e=c.oc(2).$implicit;c.Db(1),c.vc("href","mailto:"+e.email,c.Lc),c.Db(1),c.Vc(e.email)}}function Xi(e,t){if(1&e&&(c.Wb(0,"td",78),c.Sc(1,Ji,3,2,"ng-container",79),c.Vb()),2&e){const e=c.oc().$implicit,t=c.Hc(10),n=c.oc();c.vc("title",e.email),c.Db(1),c.vc("ngIf",!n.requiresEmailVerification||e.blocked)("ngIfElse",t)}}function Yi(e,t){if(1&e&&(c.Wb(0,"td",83),c.cc(1,84),c.Wb(2,"em"),c.Uc(3),c.Vb(),c.Vb()),2&e){const e=c.oc(2).$implicit;c.Db(3),c.Wc("? ",e.email,"")}}function Zi(e,t){if(1&e&&(c.Wb(0,"td",83),c.cc(1,85),c.Uc(2),c.Vb()),2&e){const e=c.oc(2).$implicit;c.Db(2),c.Wc(" \u2713 ",e.email," ")}}function ea(e,t){if(1&e&&(c.Sc(0,Yi,4,1,"td",81),c.Sc(1,Zi,3,1,"ng-template",null,82,c.Tc)),2&e){const e=c.Hc(2),t=c.oc().$implicit;c.vc("ngIf",!1===t.emailVerified)("ngIfElse",e)}}const ta=function(e){return{width:e}};function na(e,t){if(1&e&&(c.Wb(0,"td"),c.Wb(1,"div",86),c.cc(2,87),c.Rb(3,"div",88),c.Wb(4,"span"),c.Uc(5),c.Vb(),c.Wb(6,"span"),c.Uc(7),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(3),c.Qc(c.zc(6,ta,t.getUserVideoQuotaPercentage(e)+"%")),c.Eb("aria-valuenow",e.rawVideoQuotaUsed)("aria-valuemax",e.rawVideoQuota),c.Db(2),c.Vc(e.videoQuotaUsed),c.Db(2),c.Vc(e.videoQuota)}}function oa(e,t){if(1&e&&(c.Wb(0,"td"),c.Wb(1,"div",86),c.cc(2,89),c.Rb(3,"div",90),c.Wb(4,"span"),c.Uc(5),c.Vb(),c.Wb(6,"span"),c.Uc(7),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.oc().$implicit,t=c.oc();c.Db(3),c.Qc(c.zc(6,ta,t.getUserVideoQuotaDailyPercentage(e)+"%")),c.Eb("aria-valuenow",e.rawVideoQuotaUsedDaily)("aria-valuemax",e.rawVideoQuotaDaily),c.Db(2),c.Vc(e.videoQuotaUsedDaily),c.Db(2),c.Vc(e.videoQuotaDaily)}}function ca(e,t){if(1&e&&(c.Wb(0,"span",93),c.cc(1,94),c.Uc(2),c.Vb()),2&e){const e=c.oc(2).$implicit;c.Db(2),c.Vc(e.roleLabel)}}function ia(e,t){if(1&e&&(c.Wb(0,"span",95),c.Uc(1),c.Vb()),2&e){const e=c.oc(2).$implicit,t=c.oc();c.vc("ngClass",t.getRoleClass(e.role)),c.Db(1),c.Vc(e.roleLabel)}}function aa(e,t){if(1&e&&(c.Wb(0,"td"),c.Sc(1,ca,3,1,"span",91),c.Sc(2,ia,2,2,"span",92),c.Vb()),2&e){const e=c.oc().$implicit;c.Db(1),c.vc("ngIf",e.blocked),c.Db(1),c.vc("ngIf",!e.blocked)}}function ra(e,t){if(1&e&&(c.Ub(0),c.Uc(1),c.Tb()),2&e){const e=c.oc(2).$implicit;c.Db(1),c.Vc(e.pluginAuth)}}function la(e,t){if(1&e&&(c.Wb(0,"td"),c.Sc(1,ra,2,1,"ng-container",42),c.Vb()),2&e){const e=c.oc().$implicit;c.Db(1),c.vc("ngIf",e.pluginAuth)}}function sa(e,t){if(1&e&&(c.Wb(0,"td",78),c.Uc(1),c.pc(2,"date"),c.Vb()),2&e){const e=c.oc().$implicit;c.vc("title",e.createdAt),c.Db(1),c.Vc(c.rc(2,2,e.createdAt,"short"))}}function ba(e,t){if(1&e&&(c.Wb(0,"td",78),c.Uc(1),c.pc(2,"date"),c.Vb()),2&e){const e=c.oc().$implicit;c.vc("title",e.lastLoginDate),c.Db(1),c.Vc(c.rc(2,2,e.lastLoginDate,"short"))}}const da=function(e){return{banned:e}};function ga(e,t){if(1&e&&(c.Wb(0,"tr",61),c.Wb(1,"td"),c.Rb(2,"p-tableCheckbox",62),c.Vb(),c.Wb(3,"td",63),c.Sc(4,Qi,2,2,"span",64),c.Vb(),c.Wb(5,"td",65),c.Sc(6,Hi,1,1,"my-user-moderation-dropdown",66),c.Vb(),c.Sc(7,Ki,10,6,"td",42),c.Sc(8,Xi,2,3,"td",67),c.Sc(9,ea,3,2,"ng-template",null,68,c.Tc),c.Sc(11,na,8,8,"td",42),c.Sc(12,oa,8,8,"td",42),c.Sc(13,aa,3,2,"td",42),c.Sc(14,la,2,1,"td",42),c.Sc(15,sa,3,5,"td",67),c.Sc(16,ba,3,5,"td",67),c.Vb()),2&e){const e=t.$implicit,n=c.oc();c.vc("pSelectableRow",e)("ngClass",c.zc(13,da,n.highlightBannedUsers&&e.blocked)),c.Db(2),c.vc("value",e),c.Db(2),c.vc("ngIf",e.blockedReason),c.Db(2),c.vc("ngIf",!n.isInSelectionMode()),c.Db(1),c.vc("ngIf",n.isSelected("username")),c.Db(1),c.vc("ngIf",n.isSelected("email")),c.Db(3),c.vc("ngIf",n.isSelected("quota")),c.Db(1),c.vc("ngIf",n.isSelected("quotaDaily")),c.Db(1),c.vc("ngIf",n.isSelected("role")),c.Db(1),c.vc("ngIf",n.isSelected("pluginAuth")),c.Db(1),c.vc("ngIf",n.isSelected("createdAt")),c.Db(1),c.vc("ngIf",n.isSelected("lastLoginDate"))}}function ua(e,t){if(1&e&&(c.Wb(0,"tr",96),c.Wb(1,"td",97),c.Wb(2,"span",98),c.ac(3,99),c.Vb(),c.Uc(4),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.Db(4),c.Wc(" ",e.blockedReason," ")}}let pa=(()=>{class e extends W.RestTable{constructor(e,t,n,o,c,i,a){super(),this.notifier=e,this.confirmService=t,this.serverService=n,this.userService=o,this.auth=c,this.route=i,this.router=a,this.users=[],this.totalRecords=0,this.sort={field:"createdAt",order:1},this.pagination={count:this.rowsPerPage,start:0},this.highlightBannedUsers=!1,this.selectedUsers=[],this.bulkUserActions=[]}get authUser(){return this.auth.getUser()}get requiresEmailVerification(){return this.serverConfig.signup.requiresEmailVerification}get selectedColumns(){return this._selectedColumns}set selectedColumns(e){this._selectedColumns=e}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.initialize(),this.route.queryParams.subscribe(e=>{this.search=e.search||"",this.setTableFilter(this.search),this.loadData()}),this.bulkUserActions=[[{label:"Delete",description:"\u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u060C \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062A\u0639\u0644\u064A\u0642\u0627\u062A.",handler:e=>this.removeUsers(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e))},{label:"Ban",description:"\u0644\u0646 \u064A\u062A\u0645\u0643\u0646 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0639\u062F \u0627\u0644\u0622\u0646 \u060C \u0648\u0644\u0643\u0646 \u0633\u064A\u062A\u0645 \u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0648\u0627\u0644\u062A\u0639\u0644\u064A\u0642\u0627\u062A \u0643\u0645\u0627 \u0647\u064A.",handler:e=>this.openBanUserModal(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e)&&!1===e.blocked)},{label:"\u0623\u0644\u063A \u0627\u0644\u062D\u0638\u0631",handler:e=>this.unbanUsers(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e)&&!0===e.blocked)}],[{label:"\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0639\u0644\u0649 \u0623\u0646\u0647 \u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646\u0647",handler:e=>this.setEmailsAsVerified(e),isDisplayed:e=>this.requiresEmailVerification&&e.every(e=>this.authUser.canManage(e)&&!e.blocked&&!1===e.emailVerified)}]],this.columns=[{id:"username",label:"Username"},{id:"email",label:"Email"},{id:"quota",label:"Video quota"},{id:"role",label:"Role"},{id:"createdAt",label:"Created"}],this.selectedColumns=this.columns.map(e=>e.id),this.columns.push({id:"quotaDaily",label:"Daily quota"}),this.columns.push({id:"pluginAuth",label:"Auth plugin"}),this.columns.push({id:"lastLoginDate",label:"Last login"})}getIdentifier(){return"UserListComponent"}getRoleClass(e){switch(e){case Ht.UserRole.ADMINISTRATOR:return"badge-purple";case Ht.UserRole.MODERATOR:return"badge-blue";default:return"badge-yellow"}}isSelected(e){return this.selectedColumns.find(t=>t===e)}getColumn(e){return this.columns.find(t=>t.id===e)}getUserVideoQuotaPercentage(e){return 100*e.rawVideoQuotaUsed/e.rawVideoQuota}getUserVideoQuotaDailyPercentage(e){return 100*e.rawVideoQuotaUsedDaily/e.rawVideoQuotaDaily}openBanUserModal(e){for(const t of e)if("root"===t.username)return void this.notifier.error("\u0644\u0627 \u064A\u0645\u0643\u0646\u0643 \u062D\u0638\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062C\u0630\u0631.");this.userBanModal.openModal(e)}onUserChanged(){this.loadData()}onUserSearch(e){this.onSearch(e),this.setQueryParams(e.target.value)}setQueryParams(e){const t={};e&&Object.assign(t,{search:e}),this.router.navigate(["/admin/users/list"],{queryParams:t})}resetTableFilter(){this.setTableFilter(""),this.setQueryParams(""),this.resetSearch()}switchToDefaultAvatar(e){e.target.src=M.Actor.GET_DEFAULT_AVATAR_URL()}unbanUsers(e){return Object(x.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("Do you really want to unban \n          " + e.length + " users?\n        ","\u0623\u0644\u063A \u0627\u0644\u062D\u0638\u0631"))&&this.userService.unbanUsers(e).subscribe(()=>{this.notifier.success("\n          " + e.length + " users unbanned.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}removeUsers(e){return Object(x.a)(this,void 0,void 0,(function*(){for(const n of e)if("root"===n.username)return void this.notifier.error("\u0644\u0627 \u064A\u0645\u0643\u0646\u0643 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062E\u062F\u0645 \u0627\u0644\u062C\u0630\u0631.");const t="\u0625\u0630\u0627 \u0642\u0645\u062A \u0628\u0625\u0632\u0627\u0644\u0629 \u0647\u0624\u0644\u0627\u0621 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u060C \u0641\u0644\u0646 \u062A\u062A\u0645\u0643\u0646 \u0645\u0646 \u0625\u0646\u0634\u0627\u0621 \u0622\u062E\u0631\u064A\u0646 \u0628\u0646\u0641\u0633 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645!";!1!==(yield this.confirmService.confirm(t,"Delete"))&&this.userService.removeUser(e).subscribe(()=>{this.notifier.success("\n          " + e.length + " users deleted.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}setEmailsAsVerified(e){return Object(x.a)(this,void 0,void 0,(function*(){this.userService.updateUsers(e,{emailVerified:!0}).subscribe(()=>{this.notifier.success("\n          " + e.length + " users email set as verified.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}isInSelectionMode(){return 0!==this.selectedUsers.length}loadData(){this.selectedUsers=[],this.userService.getUsers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.users=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(W.Notifier),c.Qb(W.ConfirmService),c.Qb(W.ServerService),c.Qb(W.UserService),c.Qb(W.AuthService),c.Qb(w.a),c.Qb(w.h))},e.\u0275cmp=c.Kb({type:e,selectors:[["my-user-list"]],viewQuery:function(e,t){var n;1&e&&c.Pc(Ti,!0),2&e&&c.Gc(n=c.lc())&&(t.userBanModal=n.first)},features:[c.Ab],decls:8,vars:15,consts:function(){return[["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","resizableColumns","selection","showCurrentPageReport","expandedRowKeys","onLazyLoad","selectionChange","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " users\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"userBanned"],["userBanModal",""],[1,"caption"],["theme","orange",3,"actions","entry",4,"ngIf",6,"label"],[1,"ml-auto"],[1,"input-group","has-feedback","has-clear"],["ngbDropdown","","placement","bottom-left auto","container","body",1,"input-group-prepend","c-hand"],["ngbDropdownToggle","",1,"input-group-text"],["aria-haspopup","menu","role","button",1,"caret"],["role","menu","ngbDropdownMenu",""],[1,"dropdown-header"],"Advanced user filters",[1,"dropdown-item",3,"routerLink","queryParams"],"Banned users",["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","\u062A\u0635\u0641\u064A\u0629..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"\u0645\u0631\u0634\u062D\u0627\u062A \u0648\u0627\u0636\u062D\u0629",["routerLink","/admin/users/create",1,"ml-2","add-button"],["iconName","user-add","aria-hidden","true"],"Create user",["theme","orange",3,"actions","entry",6,"label"],["label","\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0627\u0644\u0645\u062C\u0645\u0639\u0629"],[2,"width","40px"],[2,"width","60px"],["ngbDropdown","","placement","bottom-left auto","container","body","autoClose","outside",1,"c-hand","column-toggle"],["iconName","columns","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],"Table parameters",["ngbDropdownItem","",1,"dropdown-item"],["name","columns",3,"availableItems","selectableGroup","ngModel","ngModelChange",6,"placeholder"],["placeholder","Select columns"],["inputName","highlightBannedUsers",3,"ngModel","ngModelChange",6,"labelText"],["labelText","Highlight banned users"],["pResizableColumn","","pSortableColumn","username",4,"ngIf"],[4,"ngIf"],["style","width: 160px;","pSortableColumn","videoQuotaUsed",4,"ngIf"],["style","width: 160px;",4,"ngIf"],["style","width: 120px;","pSortableColumn","role",4,"ngIf"],["style","width: 140px;","pResizableColumn","",4,"ngIf"],["style","width: 150px;","pSortableColumn","createdAt",4,"ngIf"],["style","width: 150px;","pSortableColumn","lastLoginDate",4,"ngIf"],["pResizableColumn","","pSortableColumn","username"],["field","username"],["pSortableColumn","videoQuotaUsed",2,"width","160px"],["field","videoQuotaUsed"],[2,"width","160px"],["pSortableColumn","role",2,"width","120px"],["field","role"],["pResizableColumn","",2,"width","140px"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],["pSortableColumn","lastLoginDate",2,"width","150px"],["field","lastLoginDate"],[3,"pSelectableRow","ngClass"],[3,"value"],[1,"expand-cell"],["class","expander",3,"pRowToggler",4,"ngIf"],[1,"action-cell"],["container","body",3,"user","userChanged","userDeleted",4,"ngIf"],[3,"title",4,"ngIf"],["emailWithVerificationStatus",""],[1,"expander",3,"pRowToggler"],[3,"ngClass"],["container","body",3,"user","userChanged","userDeleted"],["target","_blank","rel","noopener noreferrer",3,"routerLink",6,"title"],["title","\u0627\u0641\u062A\u062D \u062D\u0633\u0627\u0628 \u0641\u064A \u0639\u0644\u0627\u0645\u0629 \u062A\u0628\u0648\u064A\u0628 \u062C\u062F\u064A\u062F\u0629"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"user-table-primary-text"],[1,"text-muted"],[3,"title"],[4,"ngIf","ngIfElse"],[1,"table-email",3,"href"],[4,"ngIf","ngIfElse",6,"title"],["emailVerifiedNotFalse",""],[6,"title"],["title","\u064A\u062C\u0628 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"],["title","\u064A\u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645 / \u064A\u0645\u0643\u0646 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u062F\u0648\u0646 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"],[1,"progress",6,"title"],["title","\u0625\u062C\u0645\u0627\u0644\u064A \u062D\u0635\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["title","Total daily video quota"],["role","progressbar","aria-valuemin","0",1,"progress-bar","secondary"],["class","badge badge-banned",4,"ngIf",6,"title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"badge","badge-banned",6,"title"],["title","The user was banned"],[1,"badge",3,"ngClass"],[1,"user-blocked-reason"],["colspan","7"],[1,"ban-reason-label"],"\u0633\u0628\u0628 \u0627\u0644\u062D\u0638\u0631:"]},template:function(e,t){1&e&&(c.Wb(0,"p-table",0),c.cc(1,1),c.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("selectionChange",(function(e){return t.selectedUsers=e}))("onPage",(function(e){return t.onPage(e)})),c.Sc(2,Ii,22,5,"ng-template",2),c.Sc(3,ji,24,12,"ng-template",3),c.Sc(4,ga,17,15,"ng-template",4),c.Sc(5,ua,5,1,"ng-template",5),c.Vb(),c.Wb(6,"my-user-ban-modal",6,7),c.kc("userBanned",(function(){return t.onUserChanged()})),c.Vb()),2&e&&(c.ec("{first}")("{last}")("{totalRecords}"),c.bc(1),c.vc("value",t.users)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("resizableColumns",!0)("selection",t.selectedUsers)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[v.f,et.d,Si.a,i.u,j.e,j.j,j.h,w.k,Ze.a,wt.a,v.h,j.g,q.a,r.s,r.v,K.a,v.a,v.e,v.d,v.c,i.r,v.g,v.b,zi.a],pipes:[i.f],styles:['.add-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.add-button[_ngcontent-%COMP%]:active, .add-button[_ngcontent-%COMP%]:focus, .add-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.add-button.focus-visible[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.add-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]:active, .add-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.add-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.add-button.disabled[_ngcontent-%COMP%], .add-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}tr.banned[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#fcc!important}.table-email[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-email[_ngcontent-%COMP%]:active, .table-email[_ngcontent-%COMP%]:focus, .table-email[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.banned-info[_ngcontent-%COMP%]{font-style:italic}.ban-reason-label[_ngcontent-%COMP%]{font-weight:600}.user-table-primary-text[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.caption[_ngcontent-%COMP%]{justify-content:space-between}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}p-tableCheckbox[_ngcontent-%COMP%]{position:relative;top:-2.5px}my-global-icon[_ngcontent-%COMP%]{width:18px}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}.progress[_ngcontent-%COMP%]{background-color:#e5e5e5;display:flex;height:1rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;position:relative;width:auto;max-width:100%}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:#585858;top:-1px}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{left:.2rem}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){right:.2rem}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%]{background-color:var(--secondaryColor)}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}']}),e})();const fa=[{path:"users",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&c.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})(),canActivate:[W.UserRightGuard],data:{userRight:1},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:pa,data:{meta:{title:"Users list"}}},{path:"create",component:Hc,data:{meta:{title:"Create a user"}},resolve:{serverConfig:W.ServerConfigResolver}},{path:"update/:id",component:Wi,data:{meta:{title:"Update a user"}}}]}],ma=[{path:"",component:bo,canActivate:[ro.a],canActivateChild:[ro.a],children:[{path:"",redirectTo:"users",pathMatch:"full"},...nc,...fa,...Ft,...ao,...Ye,...yn]}];let ha=(()=>{class e{}return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[w.l.forChild(ma)],w.l]}),e})(),Ca=(()=>{class e{}return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},providers:[Vn,jn,wn,T,qt],imports:[[ha,M.SharedMainModule,P.c,y.f,_.a,O.SharedAbuseListModule,v.i,C,o.a]]}),e})()}}]);