(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+0fW":function(t,e,n){"use strict";n.r(e),n.d(e,"MyAccountModule",(function(){return oa}));var o=n("fXoL"),i=n("ofXK"),c=n("R0Ic"),r=n("7kUa"),a=n("jIHw"),s=n("7zfz"),l=n("YyRF"),d=n("t2ka"),u=n("3Pt+");const g=["in"],h=["multiIn"],p=["multiContainer"],b=["ddBtn"];function m(t,e){if(1&t){const t=o.ec();o.dc(0,"input",6,7),o.sc("click",(function(e){return o.Sc(t),o.wc().onInputClick(e)}))("input",(function(e){return o.Sc(t),o.wc().onInput(e)}))("keydown",(function(e){return o.Sc(t),o.wc().onKeydown(e)}))("keyup",(function(e){return o.Sc(t),o.wc().onKeyup(e)}))("focus",(function(e){return o.Sc(t),o.wc().onInputFocus(e)}))("blur",(function(e){return o.Sc(t),o.wc().onInputBlur(e)}))("change",(function(e){return o.Sc(t),o.wc().onInputChange(e)}))("paste",(function(e){return o.Sc(t),o.wc().onInputPaste(e)})),o.cc()}if(2&t){const t=o.wc();o.Lb(t.inputStyleClass),o.Dc("ngStyle",t.inputStyle)("autocomplete",t.autocomplete)("ngClass","ui-inputtext ui-widget ui-state-default ui-corner-all ui-autocomplete-input")("value",t.inputFieldValue)("readonly",t.readonly)("disabled",t.disabled),o.Kb("type",t.type)("id",t.inputId)("required",t.required)("name",t.name)("aria-controls",t.listId)("aria-expanded",t.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",t.autofocus)("placeholder",t.placeholder)("size",t.size)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)}}function f(t,e){if(1&t){const t=o.ec();o.dc(0,"span",19),o.sc("click",(function(){o.Sc(t),o.wc();const e=o.Qc(1);return o.wc(2).removeItem(e)})),o.cc()}}function v(t,e){if(1&t&&(o.dc(0,"span",20),o.dd(1),o.cc()),2&t){const t=o.wc().$implicit,e=o.wc(2);o.Jb(1),o.ed(e.resolveFieldData(t))}}function _(t,e){1&t&&o.Zb(0)}const P=function(t){return{$implicit:t}};function C(t,e){if(1&t&&(o.dc(0,"li",14,15),o.bd(2,f,1,0,"span",16),o.bd(3,v,2,1,"span",17),o.bd(4,_,1,0,"ng-container",18),o.cc()),2&t){const t=e.$implicit,n=o.wc(2);o.Jb(2),o.Dc("ngIf",!n.disabled),o.Jb(1),o.Dc("ngIf",!n.selectedItemTemplate),o.Jb(1),o.Dc("ngTemplateOutlet",n.selectedItemTemplate)("ngTemplateOutletContext",o.Hc(4,P,t))}}const y=function(t,e){return{"ui-state-disabled":t,"ui-state-focus":e}};function O(t,e){if(1&t){const t=o.ec();o.dc(0,"ul",8,9),o.sc("click",(function(){return o.Sc(t),o.Qc(5).focus()})),o.bd(2,C,5,6,"li",10),o.dc(3,"li",11),o.dc(4,"input",12,13),o.sc("input",(function(e){return o.Sc(t),o.wc().onInput(e)}))("click",(function(e){return o.Sc(t),o.wc().onInputClick(e)}))("keydown",(function(e){return o.Sc(t),o.wc().onKeydown(e)}))("keyup",(function(e){return o.Sc(t),o.wc().onKeyup(e)}))("focus",(function(e){return o.Sc(t),o.wc().onInputFocus(e)}))("blur",(function(e){return o.Sc(t),o.wc().onInputBlur(e)}))("change",(function(e){return o.Sc(t),o.wc().onInputChange(e)}))("paste",(function(e){return o.Sc(t),o.wc().onInputPaste(e)})),o.cc(),o.cc(),o.cc()}if(2&t){const t=o.wc();o.Dc("ngClass",o.Ic(20,y,t.disabled,t.focus)),o.Jb(2),o.Dc("ngForOf",t.value),o.Jb(2),o.Lb(t.inputStyleClass),o.Dc("disabled",t.disabled)("readonly",t.readonly)("autocomplete",t.autocomplete)("ngStyle",t.inputStyle),o.Kb("type",t.type)("id",t.inputId)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex)("maxlength",t.maxlength)("autofocus",t.autofocus)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)("aria-controls",t.listId)("aria-expanded",t.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function M(t,e){1&t&&o.Yb(0,"i",21)}function w(t,e){if(1&t){const t=o.ec();o.dc(0,"button",22,23),o.sc("click",(function(e){return o.Sc(t),o.wc().handleDropdownClick(e)})),o.cc()}if(2&t){const t=o.wc();o.Dc("icon",t.dropdownIcon)("disabled",t.disabled),o.Kb("tabindex",t.tabindex)}}function x(t,e){if(1&t&&(o.dc(0,"span"),o.dd(1),o.cc()),2&t){const t=o.wc().$implicit,e=o.wc(2);o.Jb(1),o.ed(e.resolveFieldData(t))}}function k(t,e){1&t&&o.Zb(0)}const S=function(t){return{"ui-autocomplete-list-item ui-corner-all":!0,"ui-state-highlight":t}},D=function(t,e){return{$implicit:t,index:e}};function I(t,e){if(1&t){const t=o.ec();o.dc(0,"li",28),o.sc("mouseenter",(function(){o.Sc(t);const n=e.$implicit;return o.wc(2).highlightOption=n}))("mouseleave",(function(){return o.Sc(t),o.wc(2).highlightOption=null}))("click",(function(){o.Sc(t);const n=e.$implicit;return o.wc(2).selectItem(n)})),o.bd(1,x,2,1,"span",29),o.bd(2,k,1,0,"ng-container",18),o.cc()}if(2&t){const t=e.$implicit,n=e.index,i=o.wc(2);o.Dc("ngClass",o.Hc(5,S,i.highlightOption==t))("id",i.highlightOption==t?"p-highlighted-option":""),o.Jb(1),o.Dc("ngIf",!i.itemTemplate),o.Jb(1),o.Dc("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",o.Ic(7,D,t,n))}}function E(t,e){if(1&t&&(o.dc(0,"li",30),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Jb(1),o.ed(t.emptyMessage)}}const T=function(){return["ui-autocomplete-panel ui-widget ui-widget-content ui-corner-all ui-shadow"]},R=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},L=function(t){return{value:"visible",params:t}};function z(t,e){if(1&t){const t=o.ec();o.dc(0,"div",0,24),o.sc("@overlayAnimation.start",(function(e){return o.Sc(t),o.wc().onOverlayAnimationStart(e)}))("@overlayAnimation.done",(function(e){return o.Sc(t),o.wc().onOverlayAnimationDone(e)})),o.dc(2,"ul",25),o.bd(3,I,3,10,"li",26),o.bd(4,E,2,1,"li",27),o.cc(),o.cc()}if(2&t){const t=o.wc();o.Lb(t.panelStyleClass),o.ad("max-height",t.scrollHeight),o.Dc("ngClass",o.Gc(10,T))("ngStyle",t.panelStyle)("@overlayAnimation",o.Hc(14,L,o.Ic(11,R,t.showTransitionOptions,t.hideTransitionOptions))),o.Jb(2),o.Kb("id",t.listId),o.Jb(1),o.Dc("ngForOf",t.suggestions),o.Jb(1),o.Dc("ngIf",t.noResults&&t.emptyMessage)}}const A=function(t,e){return{"ui-autocomplete ui-widget":!0,"ui-autocomplete-dd":t,"ui-autocomplete-multiple":e}},N={provide:u.s,useExisting:Object(o.ab)(()=>J),multi:!0};let J=(()=>{let t=class{constructor(t,e,n,i){this.el=t,this.renderer=e,this.cd=n,this.differs=i,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-caret-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new o.n,this.onSelect=new o.n,this.onUnselect=new o.n,this.onFocus=new o.n,this.onBlur=new o.n,this.onDropdownClick=new o.n,this.onClear=new o.n,this.onKeyUp=new o.n,this.onShow=new o.n,this.onHide=new o.n,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=i.find([]).create(null),this.listId=Object(d.c)()+"_list"}get suggestions(){return this._suggestions}set suggestions(t){this._suggestions=t,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay){let t=l.a.findSingle(this.overlay,"li.ui-state-highlight");t&&l.a.scrollInView(this.overlay,t)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.emptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;default:this.itemTemplate=t.template}})}writeValue(t){this.value=t,this.filled=this.value&&""!=this.value,this.updateInputField()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onInput(t){if(!this.inputKeyDown&&l.a.isIE())return;this.timeout&&clearTimeout(this.timeout);let e=t.target.value;this.multiple||this.forceSelection||this.onModelChange(e),0!==e.length||this.multiple||(this.hide(),this.onClear.emit(t),this.onModelChange(e)),e.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(t,e)},this.delay):(this.suggestions=null,this.hide()),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(t){this.documentClickListener&&(this.inputClick=!0)}search(t,e){null!=e&&(this.loading=!0,this.completeMethod.emit({originalEvent:t,query:e}))}selectItem(t,e=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(t)&&this.unique||(this.value=[...this.value,t],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.field?d.b.resolveFieldData(t,this.field)||"":t,this.value=t,this.onModelChange(this.value)),this.onSelect.emit(t),this.updateFilledState(),e&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let t=this.multiple?document.activeElement==this.multiInputEL.nativeElement:document.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&t&&(this.overlayVisible=!0)}}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++l.a.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.onShow.emit(t);break;case"void":this.onOverlayHide()}}onOverlayAnimationDone(t){"void"===t.toState&&(this._suggestions=null)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):l.a.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=l.a.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(t){return this.field?d.b.resolveFieldData(t,this.field):t}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?l.a.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):l.a.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1}handleDropdownClick(t){if(this.overlayVisible)this.hide();else{this.focusInput();let e=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(t,""):"current"===this.dropdownMode&&this.search(t,e),this.onDropdownClick.emit({originalEvent:t,query:e})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}removeItem(t){let e=l.a.index(t),n=this.value[e];this.value=this.value.filter((t,n)=>n!=e),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(n)}onKeydown(t){if(this.overlayVisible){let n=this.findOptionIndex(this.highlightOption);switch(t.which){case 40:if(-1!=n){var e=n+1;e!=this.suggestions.length&&(this.highlightOption=this.suggestions[e],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0];t.preventDefault();break;case 38:n>0&&(this.highlightOption=this.suggestions[n-1],this.highlightOptionChanged=!0),t.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),t.preventDefault();break;case 27:this.hide(),t.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}}else 40===t.which&&this.suggestions&&this.search(t,t.target.value);if(this.multiple)switch(t.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const t=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(t)}}this.inputKeyDown=!0}onKeyup(t){this.onKeyUp.emit(t)}onInputFocus(t){!this.itemClicked&&this.completeOnFocus&&this.search(t,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(t),this.itemClicked=!1}onInputBlur(t){this.focus=!1,this.onModelTouched(),this.onBlur.emit(t)}onInputChange(t){if(this.forceSelection){let e=!1,n=t.target.value.trim();if(this.suggestions)for(let t of this.suggestions){let o=this.field?d.b.resolveFieldData(t,this.field):t;if(o&&n===o.trim()){e=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(t,!1)},250);break}}e||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(t),this.onModelChange(this.value))}}onInputPaste(t){this.onKeydown(t)}isSelected(t){let e=!1;if(this.value&&this.value.length)for(let n=0;n<this.value.length;n++)if(d.b.equals(this.value[n],t,this.dataKey)){e=!0;break}return e}findOptionIndex(t){let e=-1;if(this.suggestions)for(let n=0;n<this.suggestions.length;n++)if(d.b.equals(t,this.suggestions[n])){e=n;break}return e}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let t=this.value?this.field?d.b.resolveFieldData(this.value,this.field)||"":this.value:"";this.inputFieldValue=t,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=t),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",t=>{3!==t.which&&(this.inputClick||this.isDropdownClick(t)||this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(t){if(this.dropdown){let e=t.target;return e===this.dropdownButton.nativeElement||e.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.restoreOverlayAppend(),this.onOverlayHide()}};return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.l),o.Xb(o.I),o.Xb(o.h),o.Xb(o.u))},t.\u0275cmp=o.Rb({type:t,selectors:[["p-autoComplete"]],contentQueries:function(t,e,n){var i;1&t&&o.Pb(n,s.d,!1),2&t&&o.Pc(i=o.tc())&&(e.templates=i)},viewQuery:function(t,e){var n;1&t&&(o.hd(g,!0),o.hd(h,!0),o.hd(p,!0),o.hd(b,!0)),2&t&&(o.Pc(n=o.tc())&&(e.inputEL=n.first),o.Pc(n=o.tc())&&(e.multiInputEL=n.first),o.Pc(n=o.tc())&&(e.multiContainerEL=n.first),o.Pc(n=o.tc())&&(e.dropdownButton=n.first))},hostVars:4,hostBindings:function(t,e){2&t&&o.Ob("ui-inputwrapper-filled",e.filled)("ui-inputwrapper-focus",e.focus&&!e.disabled)},inputs:{minLength:"minLength",delay:"delay",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",dropdownIcon:"dropdownIcon",unique:"unique",completeOnFocus:"completeOnFocus",scrollHeight:"scrollHeight",dropdownMode:"dropdownMode",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",suggestions:"suggestions",disabled:"disabled",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",field:"field",dropdown:"dropdown",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",autofocus:"autofocus"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[o.Ib([N])],decls:6,vars:12,consts:[[3,"ngClass","ngStyle"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","ui-autocomplete-multiple-container ui-widget ui-inputtext ui-state-default ui-corner-all",3,"ngClass","click",4,"ngIf"],["class","ui-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","ui-autocomplete-dropdown",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"ui-autocomplete-multiple-container","ui-widget","ui-inputtext","ui-state-default","ui-corner-all",3,"ngClass","click"],["multiContainer",""],["class","ui-autocomplete-token ui-state-highlight ui-corner-all",4,"ngFor","ngForOf"],[1,"ui-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"ui-autocomplete-token","ui-state-highlight","ui-corner-all"],["token",""],["class","ui-autocomplete-token-icon pi pi-fw pi-times",3,"click",4,"ngIf"],["class","ui-autocomplete-token-label",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ui-autocomplete-token-icon","pi","pi-fw","pi-times",3,"click"],[1,"ui-autocomplete-token-label"],[1,"ui-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","",1,"ui-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],["panel",""],["role","listbox",1,"ui-autocomplete-items","ui-autocomplete-list","ui-widget-content","ui-widget","ui-corner-all","ui-helper-reset"],["role","option",3,"ngClass","id","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["class","ui-autocomplete-emptymessage ui-autocomplete-list-item ui-corner-all",4,"ngIf"],["role","option",3,"ngClass","id","mouseenter","mouseleave","click"],[4,"ngIf"],[1,"ui-autocomplete-emptymessage","ui-autocomplete-list-item","ui-corner-all"]],template:function(t,e){1&t&&(o.dc(0,"span",0),o.bd(1,m,2,23,"input",1),o.bd(2,O,6,23,"ul",2),o.bd(3,M,1,0,"i",3),o.bd(4,w,2,3,"button",4),o.bd(5,z,5,16,"div",5),o.cc()),2&t&&(o.Lb(e.styleClass),o.Dc("ngClass",o.Ic(9,A,e.dropdown,e.multiple))("ngStyle",e.style),o.Jb(1),o.Dc("ngIf",!e.multiple),o.Jb(1),o.Dc("ngIf",e.multiple),o.Jb(1),o.Dc("ngIf",e.loading),o.Jb(1),o.Dc("ngIf",e.dropdown),o.Jb(1),o.Dc("ngIf",e.overlayVisible))},directives:[i.r,i.y,i.u,i.t,i.C,a.a],encapsulation:2,data:{animation:[Object(c.n)("overlayAnimation",[Object(c.k)("void",Object(c.l)({transform:"translateY(5%)",opacity:0})),Object(c.k)("visible",Object(c.l)({transform:"translateY(0)",opacity:1})),Object(c.m)("void => visible",Object(c.e)("{{showTransitionParams}}")),Object(c.m)("visible => void",Object(c.e)("{{hideTransitionParams}}"))])]}}),t})(),F=(()=>{let t=class{};return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.b,s.e],s.e]}),t})();var V,$,j=n("rLzU"),U=n("rEr+"),X=n("sWvm"),H=n("P8w3"),B=n("xMQD"),Y=n("HIM4"),G=n("7FJk"),Q=n("hHkf"),q=n("JEFd"),W=n("aW0q"),K=n("tyNb"),Z=n("Phsq"),tt=n("ey9i"),et=n("aEDk"),nt=n("7FIj"),ot=n("NH89");V="\u0E0A\u0E37\u0E48\u0E2D\u0E17\u0E35\u0E48\u0E41\u0E2A\u0E14\u0E07",$="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22";const it=["value","\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"];function ct(t,e){if(1&t&&(o.dc(0,"div",9),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.error)}}function rt(t,e){if(1&t&&(o.dc(0,"div",10),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors["display-name"]," ")}}function at(t,e){if(1&t&&(o.dc(0,"div",10),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.description," ")}}const st=function(t){return{"input-error":t}};let lt=(()=>{class t extends X.c{constructor(t,e,n,o,i){super(),this.formValidatorService=t,this.userValidatorsService=e,this.notifier=n,this.userService=o,this.i18n=i,this.user=null,this.error=null}ngOnInit(){this.buildForm({"display-name":this.userValidatorsService.USER_DISPLAY_NAME_REQUIRED,description:this.userValidatorsService.USER_DESCRIPTION}),this.userInformationLoaded.subscribe(()=>{this.form.patchValue({"display-name":this.user.account.displayName,description:this.user.account.description})})}updateMyProfile(){const t=this.form.value["display-name"],e=this.form.value.description||null;this.error=null,this.userService.updateMyProfile({displayName:t,description:e}).subscribe(()=>{this.user.account.displayName=t,this.user.account.description=e,this.notifier.success(this.i18n("Profile updated."))},t=>this.error=t.message)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(X.i),o.Xb(tt.k),o.Xb(tt.z),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-profile"]],inputs:{user:"user",userInformationLoaded:"userInformationLoaded"},features:[o.Gb],decls:14,vars:11,consts:[["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","display-name"],["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control",3,"ngClass"],["type","submit",3,"disabled",6,"value"],[1,"alert","alert-danger"],[1,"form-error"]],template:function(t,e){1&t&&(o.bd(0,ct,2,1,"div",0),o.dc(1,"form",1),o.sc("ngSubmit",(function(){return e.updateMyProfile()})),o.dc(2,"div",2),o.dc(3,"label",3),o.hc(4,V),o.cc(),o.Yb(5,"input",4),o.bd(6,rt,2,1,"div",5),o.cc(),o.dc(7,"div",2),o.dc(8,"label",6),o.hc(9,$),o.cc(),o.Yb(10,"textarea",7),o.bd(11,at,2,1,"div",5),o.cc(),o.dc(12,"input",8),o.jc(13,it),o.cc(),o.cc()),2&t&&(o.Dc("ngIf",e.error),o.Jb(1),o.Dc("formGroup",e.form),o.Jb(4),o.Dc("ngClass",o.Hc(7,st,e.formErrors["display-name"])),o.Jb(1),o.Dc("ngIf",e.formErrors["display-name"]),o.Jb(4),o.Dc("ngClass",o.Hc(9,st,e.formErrors.description)),o.Jb(1),o.Dc("ngIf",e.formErrors.description),o.Jb(1),o.Dc("disabled",!e.form.valid))},directives:[i.u,u.J,u.u,u.m,u.d,u.t,u.k,i.r],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.form-group[_ngcontent-%COMP%]:first-child{margin-bottom:15px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}']}),t})();var dt,ut,gt,ht,pt,bt,mt=n("AytR"),ft=n("cp0P"),vt=n("SxV6"),_t=n("JIr8"),Pt=n("tk/3"),Ct=n("1lk2"),yt=n("BLxp");function Ot(t,e){1&t&&(o.bc(0),o.nc(1,gt),o.Yb(2,"strong"),o.kc(),o.ac())}function Mt(t,e){if(1&t&&(o.dc(0,"div",8),o.dc(1,"label",9),o.hc(2,ut),o.cc(),o.dc(3,"my-help"),o.bd(4,Ot,3,0,"ng-template",4),o.cc(),o.dc(5,"table",10),o.dc(6,"tr",11),o.dc(7,"th",12),o.dd(8,"Name"),o.cc(),o.dc(9,"th",12),o.dd(10,"Daily Quota"),o.cc(),o.dc(11,"th",12),o.dd(12,"Total Quota"),o.cc(),o.dc(13,"th",12),o.dd(14,"Expiration Date"),o.cc(),o.cc(),o.dc(15,"tr",13),o.dc(16,"th",12),o.dd(17),o.cc(),o.dc(18,"th",12),o.dd(19),o.cc(),o.dc(20,"th",12),o.dd(21),o.cc(),o.dc(22,"th",12),o.dd(23),o.cc(),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc();o.Jb(17),o.ed(t.userPremiumPlan.premiumStoragePlan.name),o.Jb(2),o.ed(t.getHRBytes(t.userPremiumPlan.dailyQuota)),o.Jb(2),o.ed(t.getHRBytes(t.userPremiumPlan.quota)),o.Jb(2),o.ed(t.getFormattedDate(t.userPremiumPlan.dateTo))}}function wt(t,e){1&t&&(o.bc(0),o.nc(1,ht),o.Yb(2,"strong"),o.Yb(3,"strong"),o.kc(),o.ac())}function xt(t,e){if(1&t&&(o.dc(0,"option",18),o.dd(1),o.cc()),2&t){const t=e.$implicit,n=o.wc(2);o.Ec("value",t.id),o.Dc("disabled",n.isOptionDisabled(t.id)),o.Jb(1),o.ed(t.name)}}function kt(t,e){if(1&t){const t=o.ec();o.dc(0,"div",14),o.dc(1,"select",15),o.sc("change",(function(){o.Sc(t);const e=o.wc();return e.premiumStoragePlanChange(e)})),o.dc(2,"option",16),o.dd(3,"Instance default"),o.cc(),o.bd(4,xt,2,3,"option",17),o.cc(),o.cc()}if(2&t){const t=o.wc();o.Jb(2),o.Dc("disabled",t.userHavePremiumStorage()),o.Jb(2),o.Dc("ngForOf",t.storagePlans)}}function St(t,e){if(1&t&&(o.dc(0,"div"),o.dc(1,"label",19),o.hc(2,pt),o.cc(),o.dc(3,"table",20),o.dc(4,"tr",11),o.dc(5,"th",12),o.dd(6,"Daily Quota"),o.cc(),o.dc(7,"th",12),o.dd(8,"Total Quota"),o.cc(),o.dc(9,"th",12),o.dd(10,"Duration"),o.cc(),o.dc(11,"th",12),o.dd(12,"Price (Tubes)"),o.cc(),o.cc(),o.dc(13,"tr",13),o.dc(14,"th",12),o.dd(15),o.cc(),o.dc(16,"th",12),o.dd(17),o.cc(),o.dc(18,"th",12),o.dd(19),o.cc(),o.dc(20,"th",12),o.dd(21),o.cc(),o.cc(),o.cc(),o.Yb(22,"input",21),o.cc()),2&t){const t=o.wc();o.Jb(15),o.ed(t.getHRBytes(t.chosenPlan.dailyQuota)),o.Jb(2),o.ed(t.getHRBytes(t.chosenPlan.quota)),o.Jb(2),o.fd("",t.chosenPlan.duration/2628e6," month/s"),o.Jb(2),o.ed(t.chosenPlan.priceTube),o.Jb(1),o.Dc("value",t.getButtonValue())("disabled",t.isUpgradeDisabled())}}function Dt(t,e){1&t&&(o.dc(0,"div",22),o.Yb(1,"div",23),o.dc(2,"div",24),o.hc(3,bt),o.cc(),o.cc())}dt="Upgrade/Extend your storage plan",ut="Your current storage plan",gt=" This is your current plan, you can " + "\ufffd#2\ufffd" + "EXTEND" + "\ufffd/#2\ufffd" + " it below choosing the same plan ",ht=" You can " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "EXTEND" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " you current plan or get more storage " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "UPGRADING" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " your plan ",ht=o.mc(ht),pt="Chosen plan info",bt="Sorry, this instance have no premium storage plans yet.";let It=(()=>{class t extends X.c{constructor(t,e,n,o,i,c){super(),this.formValidatorService=t,this.authHttp=e,this.restExtractor=n,this.notifier=o,this.serverService=i,this.i18n=c,this.user=null,this.reactiveUpdate=!1,this.notifyOnUpdate=!0,this.languageItems=[],this.chosenPlan=null,this.bytesPipe=new et.a}ngOnInit(){this.buildForm({storagePlan:null}),this.startSubscriptions()}ngOnDestroy(){var t;null===(t=this.formValuesWatcher)||void 0===t||t.unsubscribe()}startSubscriptions(){let t;Object(ft.a)([this.getPlans(),this.getMyPlan(),this.serverService.getVideoLanguages(),this.serverService.getConfig(),this.userInformationLoaded.pipe(Object(vt.a)())]).subscribe(([e,n,o,i])=>{console.log("ICEICE plans",e),console.log("ICEICE myPlan",n),n.success&&n.data.length>0?(this.userHavePremium=!0,this.userPremiumPlan=n.data[n.data.length-1],this.chosenPlan=this.userPremiumPlan):(this.userHavePremium=!1,this.userPremiumPlan={},this.userPremiumPlan.planId=-1),this.dropdownSelectedPlan=this.userPremiumPlan,e.success&&e.plans.length>0?(this.havePremium=!0,this.storagePlans=e.plans):this.havePremium=!1,this.languageItems=[{label:this.i18n("Unknown language"),value:"_unknown"}],this.languageItems=this.languageItems.concat(o.map(t=>({label:t.label,value:t.id}))),this.user.videoLanguages||this.languageItems.map(t=>t.value),this.configCopy=i,this.form.patchValue({storagePlan:this.userPremiumPlan.planId}),this.reactiveUpdate&&(t=Object.assign({},this.form.value),this.formValuesWatcher=this.form.valueChanges.subscribe(e=>{Object.keys(e).find(n=>e[n]!==t[n]),t=Object.assign({},this.form.value)}))})}getPlans(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"plans").pipe(Object(_t.a)(t=>this.restExtractor.handleError(t)))}getMyPlan(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"get-user-active-payment").pipe(Object(_t.a)(t=>this.restExtractor.handleError(t)))}havePremiumStorage(){return this.havePremium}userHavePremiumStorage(){return this.userHavePremium}premiumStoragePlanChange(t){const e=this.form.value.storagePlan;console.log("ICEICE chosenPlanId is: ",e),e>-1?this.storagePlans.forEach(t=>{console.log("ICEICE chacking plan: ",t),t.id===e&&(this.chosenPlan=t)}):this.chosenPlan=null,console.log("After premiumStoragePlanChange chosenPlan is: ",this.chosenPlan)}getUserPremiumPlanId(){return this.userPremiumPlan?this.userPremiumPlan.planId:-1}isOptionDisabled(t){return t<this.getUserPremiumPlanId()?"disabled":""}isUpgradeDisabled(){return-1===parseInt(this.form.value.storagePlan,10)}getButtonValue(){return this.form.value.storagePlan<=this.getUserPremiumPlanId()?"Extend":"Upgrade"}getHRBytes(t){return this.bytesPipe.transform(parseInt(t,10),0)}getFormattedDate(t){return new Date(t).toLocaleDateString()}updateDetails(t){const e=parseInt(this.form.value.storagePlan,10);let n,o,i=!0;this.storagePlans.forEach(t=>{t.id===e&&(n=t.duration,o=t.priceTube)}),this.userHavePremium&&this.userPremiumPlan.planId===e&&Date.parse(this.userPremiumPlan.dateTo)+parseInt(n,10)>Date.now()+31556955999&&(this.notifier.error("You can not extend your plan more than 1 year"),i=!1),(void 0===n||void 0===o||e<=-1)&&(this.notifier.error("Something went wrong"),i=!1),i&&e>-1&&void 0!==n&&void 0!==o&&this.paymentPost({planId:e,duration:n,priceTube:o}).subscribe(t=>{t.success&&t.data&&!0===t.data.active&&this.startSubscriptions()},t=>this.notifier.error(t.message))}paymentPost(e){return this.authHttp.post(t.GET_PREMIUM_STORAGE_API_URL+"plan-payment",e).pipe(Object(_t.a)(t=>this.restExtractor.handleError(t)))}}return t.GET_PREMIUM_STORAGE_API_URL=mt.a.apiUrl+"/api/v1/premium-storage/",t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(Pt.b),o.Xb(tt.n),o.Xb(tt.k),o.Xb(tt.s),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-storage-settings"]],inputs:{user:"user",reactiveUpdate:"reactiveUpdate",notifyOnUpdate:"notifyOnUpdate",userInformationLoaded:"userInformationLoaded",userQuotaObject:"userQuotaObject"},features:[o.Gb],decls:10,vars:5,consts:[["role","form",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group","form-group-select"],["for","storagePlan"],["ptTemplate","customHtml"],["class","peertube-select-container",4,"ngIf"],[4,"ngIf"],["class","form-group col-12 col-lg-4 col-xl-3",4,"ngIf"],[1,"form-group"],["for","myStoragePlan"],[1,"planTable"],[1,"planTableHeader"],[1,"planField"],[1,"planTableBody"],[1,"peertube-select-container"],["formControlName","storagePlan","id","storagePlan",1,"form-control",3,"value","change"],["value","-1",3,"disabled"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["for","chosenPlanTable"],["id","chosenPlanTable",1,"planTable"],["type","submit",3,"value","disabled"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","storage-settings",1,"anchor"],[1,"account-title"]],template:function(t,e){1&t&&(o.dc(0,"form",0),o.sc("ngSubmit",(function(){return e.updateDetails()})),o.bd(1,Mt,24,4,"div",1),o.dc(2,"div",2),o.dc(3,"label",3),o.hc(4,dt),o.cc(),o.dc(5,"my-help"),o.bd(6,wt,4,0,"ng-template",4),o.cc(),o.bd(7,kt,5,2,"div",5),o.bd(8,St,23,6,"div",6),o.bd(9,Dt,4,0,"div",7),o.cc(),o.cc()),2&t&&(o.Dc("formGroup",e.form),o.Jb(1),o.Dc("ngIf",e.userHavePremiumStorage()),o.Jb(6),o.Dc("ngIf",e.havePremiumStorage()),o.Jb(1),o.Dc("ngIf",null!==e.chosenPlan),o.Jb(1),o.Dc("ngIf",!e.havePremiumStorage()))},directives:[u.J,u.u,u.m,i.u,Ct.a,yt.a,u.F,u.t,u.k,u.y,u.I,i.t],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.peertube-select-container[_ngcontent-%COMP%]{padding:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px;margin:0 0 30px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.form-group-select[_ngcontent-%COMP%]{margin-bottom:30px}.storagePadding[_ngcontent-%COMP%]{padding:10px 0}.padding-left-10[_ngcontent-%COMP%]{padding-left:10px}.planTable[_ngcontent-%COMP%]   .planTableHeader[_ngcontent-%COMP%]{border-bottom:1px solid}.planTable[_ngcontent-%COMP%]   .planField[_ngcontent-%COMP%]{text-align:left;padding:5px 35px 5px 0}']}),t})();var Et,Tt,Rt,Lt=n("tf/r"),zt=n("IzLi"),At=n("Ju5/"),Nt=function(){return At.a.Date.now()},Jt=n("SiRs"),Ft=Math.max,Vt=Math.min,$t=n("XRCn");function jt(t,e){1&t&&(o.dc(0,"div"),o.hc(1,Rt),o.cc())}function Ut(t,e){if(1&t){const t=o.ec();o.dc(0,"div"),o.dc(1,"p-inputSwitch",4),o.sc("ngModelChange",(function(e){o.Sc(t);const n=o.wc(2).$implicit;return o.wc().emailNotifications[n]=e}))("onChange",(function(e){o.Sc(t);const n=o.wc(2).$implicit;return o.wc().updateEmailSetting(n,e.checked)})),o.cc(),o.cc()}if(2&t){const t=o.wc(2).$implicit,e=o.wc();o.Jb(1),o.Dc("ngModel",e.emailNotifications[t])}}function Xt(t,e){if(1&t){const t=o.ec();o.dc(0,"div",0),o.dc(1,"div"),o.dd(2),o.cc(),o.dc(3,"div"),o.dc(4,"p-inputSwitch",4),o.sc("ngModelChange",(function(e){o.Sc(t);const n=o.wc().$implicit;return o.wc().webNotifications[n]=e}))("onChange",(function(e){o.Sc(t);const n=o.wc().$implicit;return o.wc().updateWebSetting(n,e.checked)})),o.cc(),o.cc(),o.bd(5,Ut,2,1,"div",1),o.cc()}if(2&t){const t=o.wc().$implicit,e=o.wc();o.Jb(2),o.ed(e.labelNotifications[t]),o.Jb(2),o.Dc("ngModel",e.webNotifications[t]),o.Jb(1),o.Dc("ngIf",e.emailEnabled)}}function Ht(t,e){if(1&t&&(o.bc(0),o.bd(1,Xt,6,3,"div",3),o.ac()),2&t){const t=e.$implicit,n=o.wc();o.Jb(1),o.Dc("ngIf",n.hasUserRight(t))}}Et="\u0E01\u0E34\u0E08\u0E01\u0E23\u0E23\u0E21",Tt="\u0E40\u0E27\u0E47\u0E1A",Rt="\u0E2D\u0E35\u0E40\u0E21\u0E25";let Bt=(()=>{class t{constructor(t,e,n,o){this.i18n=t,this.userNotificationService=e,this.serverService=n,this.notifier=o,this.user=null,this.notificationSettingKeys=[],this.emailNotifications={},this.webNotifications={},this.labelNotifications={},this.rightNotifications={},this.emailEnabled=!1,this.savePreferences=function(t,e,n){var o,i,c,r,a,s,l=0,d=!1,u=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=o,c=i;return o=i=void 0,l=e,r=t.apply(c,n)}function p(t){return l=t,a=setTimeout(m,e),d?h(t):r}function b(t){var n=t-s;return void 0===s||n>=e||n<0||u&&t-l>=c}function m(){var t=Nt();if(b(t))return f(t);a=setTimeout(m,function(t){var n=e-(t-s);return u?Vt(n,c-(t-l)):n}(t))}function f(t){return a=void 0,g&&o?h(t):(o=i=void 0,r)}function v(){var t=Nt(),n=b(t);if(o=arguments,i=this,s=t,n){if(void 0===a)return p(s);if(u)return clearTimeout(a),a=setTimeout(m,e),h(s)}return void 0===a&&(a=setTimeout(m,e)),r}return e=Object(Jt.a)(e)||0,Object(zt.a)(void 0)&&(d=!!(void 0).leading,c=(u="maxWait"in void 0)?Ft(Object(Jt.a)((void 0).maxWait)||0,e):c,g="trailing"in void 0?!!(void 0).trailing:g),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=s=i=a=void 0},v.flush=function(){return void 0===a?r:f(Nt())},v}(this.savePreferencesImpl.bind(this),500),this.labelNotifications={newVideoFromSubscription:this.i18n("New video from your subscriptions"),newCommentOnMyVideo:this.i18n("New comment on your video"),videoAbuseAsModerator:this.i18n("New video abuse"),videoAutoBlacklistAsModerator:this.i18n("Video blocked automatically waiting review"),blacklistOnMyVideo:this.i18n("One of your video is blocked/unblocked"),myVideoPublished:this.i18n("Video published (after transcoding/scheduled update)"),myVideoImportFinished:this.i18n("Video import finished"),newUserRegistration:this.i18n("A new user registered on your instance"),newFollow:this.i18n("You or your channel(s) has a new follower"),commentMention:this.i18n("Someone mentioned you in video comments"),newInstanceFollower:this.i18n("Your instance has a new follower"),autoInstanceFollowing:this.i18n("Your instance auto followed another instance")},this.notificationSettingKeys=Object.keys(this.labelNotifications),this.rightNotifications={videoAbuseAsModerator:$t.h.MANAGE_VIDEO_ABUSES,videoAutoBlacklistAsModerator:$t.h.MANAGE_VIDEO_BLACKLIST,newUserRegistration:$t.h.MANAGE_USERS,newInstanceFollower:$t.h.MANAGE_SERVER_FOLLOW,autoInstanceFollowing:$t.h.MANAGE_CONFIGURATION}}ngOnInit(){this.serverService.getConfig().subscribe(t=>{this.emailEnabled=t.email.enabled}),this.userInformationLoaded.subscribe(()=>this.loadNotificationSettings())}hasUserRight(t){const e=this.rightNotifications[t];return!e||this.user.hasRight(e)}updateEmailSetting(t,e){!0===e?this.user.notificationSettings[t]|=$t.f.EMAIL:this.user.notificationSettings[t]&=~$t.f.EMAIL,this.savePreferences()}updateWebSetting(t,e){!0===e?this.user.notificationSettings[t]|=$t.f.WEB:this.user.notificationSettings[t]&=~$t.f.WEB,this.savePreferences()}savePreferencesImpl(){this.userNotificationService.updateNotificationSettings(this.user,this.user.notificationSettings).subscribe(()=>{this.notifier.success(this.i18n("Preferences saved"),void 0,2e3)},t=>this.notifier.error(t.message))}loadNotificationSettings(){for(const t of Object.keys(this.user.notificationSettings)){const e=this.user.notificationSettings[t];this.emailNotifications[t]=e&$t.f.EMAIL,this.webNotifications[t]=e&$t.f.WEB}}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(nt.a),o.Xb(B.i),o.Xb(tt.s),o.Xb(tt.k))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-notification-preferences"]],inputs:{user:"user",userInformationLoaded:"userInformationLoaded"},decls:7,vars:2,consts:[[1,"custom-row"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","custom-row",4,"ngIf"],[3,"ngModel","ngModelChange","onChange"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"div"),o.hc(2,Et),o.cc(),o.dc(3,"div"),o.hc(4,Tt),o.cc(),o.bd(5,jt,2,0,"div",1),o.cc(),o.bd(6,Ht,2,1,"ng-container",2)),2&t&&(o.Jb(5),o.Dc("ngIf",e.emailEnabled),o.Jb(1),o.Dc("ngForOf",e.notificationSettingKeys))},directives:[i.u,i.t,j.a,u.t,u.w],styles:[".custom-row[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.1)}.custom-row[_ngcontent-%COMP%]:first-child{font-size:16px}.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px;width:350px}.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){max-width:60px!important}@media screen and (max-width:800px){.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto}.custom-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}}"]}),t})();var Yt,Gt,Qt,qt=n("2gxN"),Wt=n("vkgz");function Kt(t,e){if(1&t&&(o.dc(0,"div",6),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.error)}}function Zt(t,e){if(1&t&&(o.dc(0,"div",7),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.success)}}function te(t,e){if(1&t&&(o.dc(0,"div",8),o.nc(1,Gt),o.Yb(2,"span",3),o.kc(),o.cc()),2&t){const t=o.wc();o.Jb(2),o.lc(t.user.pendingEmail),o.ic(1)}}Yt="\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E04\u0E37\u0E2D " + "\ufffd#4\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#4\ufffd" + " ",Gt="" + "\ufffd#2\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#2\ufffd" + " \u0E01\u0E33\u0E25\u0E31\u0E07\u0E23\u0E2D\u0E01\u0E32\u0E23\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E2D\u0E35\u0E40\u0E21\u0E25 ",Qt="\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E43\u0E2B\u0E21\u0E48";const ee=["placeholder","\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E43\u0E2B\u0E21\u0E48\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13"];var ne;ne="\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13";const oe=["placeholder","\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E43\u0E2B\u0E21\u0E48\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13"],ie=["value","\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E2D\u0E35\u0E40\u0E21\u0E25"];function ce(t,e){if(1&t&&(o.dc(0,"div",16),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Jb(1),o.fd(" ",t.formErrors["new-email"]," ")}}function re(t,e){if(1&t&&(o.dc(0,"div",16),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Jb(1),o.fd(" ",t.formErrors.password," ")}}const ae=function(t){return{"input-error":t}};function se(t,e){if(1&t){const t=o.ec();o.dc(0,"form",9),o.sc("ngSubmit",(function(){return o.Sc(t),o.wc().changeEmail()})),o.dc(1,"div",10),o.dc(2,"label",11),o.hc(3,Qt),o.cc(),o.dc(4,"input",12),o.jc(5,ee),o.cc(),o.bd(6,ce,2,1,"div",13),o.cc(),o.dc(7,"div",10),o.dc(8,"label",11),o.hc(9,ne),o.cc(),o.dc(10,"input",14),o.jc(11,oe),o.cc(),o.bd(12,re,2,1,"div",13),o.cc(),o.dc(13,"input",15),o.jc(14,ie),o.cc(),o.cc()}if(2&t){const t=o.wc();o.Dc("formGroup",t.form),o.Jb(4),o.Dc("ngClass",o.Hc(6,ae,t.formErrors["new-email"])),o.Jb(2),o.Dc("ngIf",t.formErrors["new-email"]),o.Jb(4),o.Dc("ngClass",o.Hc(8,ae,t.formErrors.password)),o.Jb(2),o.Dc("ngIf",t.formErrors.password),o.Jb(1),o.Dc("disabled",!t.form.valid)}}let le=(()=>{class t extends X.c{constructor(t,e,n,o,i,c){super(),this.formValidatorService=t,this.userValidatorsService=e,this.authService=n,this.userService=o,this.serverService=i,this.i18n=c,this.error=null,this.success=null,this.user=null}ngOnInit(){this.buildForm({"new-email":this.userValidatorsService.USER_EMAIL,password:this.userValidatorsService.USER_PASSWORD}),this.user=this.authService.getUser()}changeEmail(){this.error=null,this.success=null;const t=this.form.value.password,e=this.form.value["new-email"];Object(ft.a)([this.serverService.getConfig(),this.userService.changeEmail(t,e)]).pipe(Object(Wt.a)(()=>this.authService.refreshUserInformation())).subscribe(([t])=>{this.form.reset(),this.success=this.i18n(t.signup.requiresEmailVerification?"Please check your emails to verify your new email.":"Email updated.")},t=>{this.error=401!==t.status?t.message:this.i18n("You current password is invalid.")})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(X.i),o.Xb(tt.a),o.Xb(tt.z),o.Xb(tt.s),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-change-email"]],features:[o.Gb],decls:7,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"current-email"],[1,"email"],["class","pending-email",4,"ngIf"],["role","form","class","change-email",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"pending-email"],["role","form",1,"change-email",3,"formGroup","ngSubmit"],[1,"form-group"],["for","new-email"],["type","email","id","new-email","formControlName","new-email",1,"form-control",3,"ngClass",6,"placeholder"],["class","form-error",4,"ngIf"],["type","password","id","password","autocomplete","off","formControlName","password",1,"form-control",3,"ngClass",6,"placeholder"],["type","submit",3,"disabled",6,"value"],[1,"form-error"]],template:function(t,e){1&t&&(o.bd(0,Kt,2,1,"div",0),o.bd(1,Zt,2,1,"div",1),o.dc(2,"div",2),o.nc(3,Yt),o.Yb(4,"span",3),o.kc(),o.cc(),o.bd(5,te,3,1,"div",4),o.bd(6,se,15,10,"form",5)),2&t&&(o.Dc("ngIf",e.error),o.Jb(1),o.Dc("ngIf",e.success),o.Jb(3),o.lc(e.user.email),o.ic(3),o.Jb(1),o.Dc("ngIf",e.user.pendingEmail),o.Jb(1),o.Dc("ngIf",null===e.user.pluginAuth))},directives:[i.u,u.J,u.u,u.m,u.d,u.t,u.k,i.r],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=email][_ngcontent-%COMP%]::-moz-placeholder, input[type=password][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=email][_ngcontent-%COMP%]::-ms-input-placeholder, input[type=password][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=email][_ngcontent-%COMP%]::placeholder, input[type=password][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=email][readonly][_ngcontent-%COMP%], input[type=password][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.current-email[_ngcontent-%COMP%], .pending-email[_ngcontent-%COMP%]{font-size:16px;margin-bottom:15px}.current-email[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .pending-email[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-weight:600}']}),t})();var de,ue,ge=n("mrSG");de="Once you delete your account, there is no going back. You will be asked to confirm this action.",ue="\u0E25\u0E1A\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13";let he=(()=>{class t{constructor(t,e,n,o,i,c){this.authService=t,this.notifier=e,this.userService=n,this.confirmService=o,this.redirectService=i,this.i18n=c,this.user=null}deleteMe(){return Object(ge.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirmWithInput(this.i18n("Are you sure you want to delete your account? This will delete all your data, including channels, videos and comments. Content cached by other servers and other third-parties might make longer to be deleted."),this.i18n("Type your username to confirm"),this.user.username,this.i18n("Delete your account"),this.i18n("Delete my account")))&&this.userService.deleteMe().subscribe(()=>{this.notifier.success(this.i18n("Your account is deleted.")),this.authService.logout(),this.redirectService.redirectToHomepage()},t=>this.notifier.error(t.message))}))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.a),o.Xb(tt.k),o.Xb(tt.z),o.Xb(tt.d),o.Xb(tt.m),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-danger-zone"]],inputs:{user:"user"},decls:5,vars:0,consts:[[1,"delete-me"],[3,"click"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"p"),o.hc(2,de),o.cc(),o.dc(3,"button",1),o.sc("click",(function(){return e.deleteMe()})),o.hc(4,ue),o.cc(),o.cc())},styles:['.delete-me[_ngcontent-%COMP%]{font-size:15px}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.delete-me[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .delete-me[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.delete-me[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .delete-me[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.delete-me[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}']}),t})();var pe,be=n("pLZG");pe="\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19";const me=["placeholder","\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19"],fe=["placeholder","\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E43\u0E2B\u0E21\u0E48"],ve=["placeholder","\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E43\u0E2B\u0E21\u0E48"],_e=["value","\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19"];function Pe(t,e){if(1&t&&(o.dc(0,"div",8),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.error)}}function Ce(t,e){if(1&t&&(o.dc(0,"div",9),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors["current-password"]," ")}}function ye(t,e){if(1&t&&(o.dc(0,"div",9),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors["new-password"]," ")}}function Oe(t,e){if(1&t&&(o.dc(0,"div",9),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors["new-confirmed-password"]," ")}}const Me=function(t){return{"input-error":t}};let we=(()=>{class t extends X.c{constructor(t,e,n,o,i,c){super(),this.formValidatorService=t,this.userValidatorsService=e,this.notifier=n,this.authService=o,this.userService=i,this.i18n=c,this.error=null,this.user=null}ngOnInit(){this.buildForm({"current-password":this.userValidatorsService.USER_PASSWORD,"new-password":this.userValidatorsService.USER_PASSWORD,"new-confirmed-password":this.userValidatorsService.USER_CONFIRM_PASSWORD}),this.user=this.authService.getUser();const t=this.form.get("new-confirmed-password");t.valueChanges.pipe(Object(be.a)(t=>t!==this.form.value["new-password"])).subscribe(()=>t.setErrors({matchPassword:!0}))}changePassword(){this.userService.changePassword(this.form.value["current-password"],this.form.value["new-password"]).subscribe(()=>{this.notifier.success(this.i18n("Password updated.")),this.form.reset(),this.error=null},t=>{this.error=401!==t.status?t.message:this.i18n("You current password is invalid.")})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(X.i),o.Xb(tt.k),o.Xb(tt.a),o.Xb(tt.z),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-change-password"]],features:[o.Gb],decls:15,vars:12,consts:[["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["for","current-password"],["type","password","id","current-password","autocomplete","current-password","formControlName","current-password",1,"form-control",3,"ngClass",6,"placeholder"],["class","form-error",4,"ngIf"],["type","password","id","new-password","autocomplete","new-password","formControlName","new-password",1,"form-control",3,"ngClass",6,"placeholder"],["type","password","id","new-confirmed-password","autocomplete","new-password","formControlName","new-confirmed-password",1,"form-control",6,"placeholder"],["type","submit",3,"disabled",6,"value"],[1,"alert","alert-danger"],[1,"form-error"]],template:function(t,e){1&t&&(o.bd(0,Pe,2,1,"div",0),o.dc(1,"form",1),o.sc("ngSubmit",(function(){return e.changePassword()})),o.dc(2,"label",2),o.hc(3,pe),o.cc(),o.dc(4,"input",3),o.jc(5,me),o.cc(),o.bd(6,Ce,2,1,"div",4),o.dc(7,"input",5),o.jc(8,fe),o.cc(),o.bd(9,ye,2,1,"div",4),o.dc(10,"input",6),o.jc(11,ve),o.cc(),o.bd(12,Oe,2,1,"div",4),o.dc(13,"input",7),o.jc(14,_e),o.cc(),o.cc()),2&t&&(o.Dc("ngIf",e.error),o.Jb(1),o.Dc("formGroup",e.form),o.Jb(3),o.Dc("ngClass",o.Hc(8,Me,e.formErrors["current-password"])),o.Jb(2),o.Dc("ngIf",e.formErrors["current-password"]),o.Jb(1),o.Dc("ngClass",o.Hc(10,Me,e.formErrors["new-password"])),o.Jb(2),o.Dc("ngIf",e.formErrors["new-password"]),o.Jb(3),o.Dc("ngIf",e.formErrors["new-confirmed-password"]),o.Jb(1),o.Dc("disabled",!e.form.valid))},directives:[i.u,u.J,u.u,u.m,u.d,u.t,u.k,i.r],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}input[type=password][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=password][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=password][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=password][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=password][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=password][_ngcontent-%COMP%]{width:100%}}input[type=password]#new-confirmed-password[_ngcontent-%COMP%], input[type=password]#new-password[_ngcontent-%COMP%]{margin-top:15px}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:15px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t})();var xe,ke;xe="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",ke="PROFILE SETTINGS";const Se=["title","Total video quota"];var De,Ie,Ee,Te,Re,Le;De="STORAGE SETTINGS",Ie="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D",Ee="NOTIFICATIONS",Te="INTERFACE",Re="EMAIL",Le="DANGER ZONE";const ze=["title","\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E15\u0E48\u0E2D\u0E27\u0E31\u0E19"],Ae=function(t){return{width:t}};function Ne(t,e){if(1&t&&(o.dc(0,"div",20),o.dc(1,"div",7),o.jc(2,ze),o.dc(3,"div",21),o.dd(4),o.xc(5,"bytes"),o.cc(),o.dc(6,"span",9),o.dd(7),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc();o.Jb(3),o.Zc(o.Hc(9,Ae,t.userVideoQuotaDailyPercentage+"%")),o.Kb("aria-valuenow",t.userVideoQuotaUsedDaily)("aria-valuemax",t.user.videoQuotaDaily),o.Jb(1),o.ed(o.zc(5,6,t.userVideoQuotaUsedDaily,0)),o.Jb(3),o.ed(t.userVideoQuotaDaily)}}var Je;function Fe(t,e){1&t&&(o.dc(0,"div",12),o.dc(1,"div",2),o.dc(2,"h2",5),o.hc(3,Je),o.cc(),o.cc(),o.dc(4,"div",3),o.Yb(5,"my-account-change-password"),o.cc(),o.cc())}Je="\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19";let Ve=(()=>{class t{constructor(t,e,n,o,i){this.viewportScroller=t,this.userService=e,this.authService=n,this.notifier=o,this.i18n=i,this.user=null,this.userVideoQuota="0",this.userVideoQuotaUsed=0,this.userVideoQuotaPercentage=15,this.userVideoQuotaDaily="0",this.userVideoQuotaUsedDaily=0,this.userVideoQuotaDailyPercentage=15,this.userQuotaObject={}}get userInformationLoaded(){return this.authService.userInformationLoaded}ngOnInit(){this.user=this.authService.getUser(),this.authService.userInformationLoaded.subscribe(()=>{this.userVideoQuota=-1!==this.user.videoQuota?(new et.a).transform(this.user.videoQuota,0).toString():this.i18n("Unlimited"),this.userVideoQuotaDaily=-1!==this.user.videoQuotaDaily?(new et.a).transform(this.user.videoQuotaDaily,0).toString():this.i18n("Unlimited")}),this.userService.getMyVideoQuotaUsed().subscribe(t=>{this.userVideoQuotaUsed=t.videoQuotaUsed,this.userVideoQuotaPercentage=100*this.userVideoQuotaUsed/this.user.videoQuota,this.userVideoQuotaUsedDaily=t.videoQuotaUsedDaily,this.userVideoQuotaDailyPercentage=100*this.userVideoQuotaUsedDaily/this.user.videoQuotaDaily}),this.userQuotaObject={userVideoQuota:this.userVideoQuota,userVideoQuotaUsed:this.userVideoQuotaUsed,userVideoQuotaPercentage:this.userVideoQuotaPercentage,userVideoQuotaDaily:this.userVideoQuotaDaily,userVideoQuotaUsedDaily:this.userVideoQuotaUsedDaily,userVideoQuotaDailyPercentage:this.userVideoQuotaDailyPercentage}}ngAfterViewChecked(){window.location.hash&&window.location.hash!==this.lastScrollHash&&(this.viewportScroller.scrollToAnchor(window.location.hash.replace("#","")),this.lastScrollHash=window.location.hash)}onAvatarChange(t){this.userService.changeAvatar(t).subscribe(t=>{this.notifier.success(this.i18n("Avatar changed.")),this.user.updateAccountAvatar(t.avatar)},t=>this.notifier.error(t.message))}hasDailyQuota(){return-1!==this.user.videoQuotaDaily}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(i.K),o.Xb(tt.z),o.Xb(tt.a),o.Xb(tt.k),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-settings"]],decls:62,vars:26,consts:[[1,"sr-only"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[3,"actor","avatarChange"],[1,"account-title"],[1,"user-quota","mb-3"],[1,"progress",6,"title"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],[1,"ml-auto","mr-2"],["class","mt-3",4,"ngIf"],[3,"user","userInformationLoaded"],[1,"form-row","mt-5"],["id","storage-settings",1,"anchor"],[3,"user","userInformationLoaded","userQuotaObject"],["id","video-settings",1,"anchor"],["id","notifications",1,"anchor"],["class","form-row mt-5",4,"ngIf"],[1,"account-title","account-title-danger"],[3,"user"],[1,"mt-3"],["role","progressbar","aria-valuemin","0",1,"progress-bar","secondary"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,xe),o.cc(),o.dc(2,"div",1),o.Yb(3,"div",2),o.dc(4,"div",3),o.dc(5,"my-actor-avatar-info",4),o.sc("avatarChange",(function(t){return e.onAvatarChange(t)})),o.cc(),o.cc(),o.cc(),o.dc(6,"div",1),o.dc(7,"div",2),o.dc(8,"h2",5),o.hc(9,ke),o.cc(),o.cc(),o.dc(10,"div",3),o.dc(11,"div",6),o.dc(12,"div"),o.dc(13,"div",7),o.jc(14,Se),o.dc(15,"div",8),o.dd(16),o.xc(17,"bytes"),o.cc(),o.dc(18,"span",9),o.dd(19),o.cc(),o.cc(),o.cc(),o.bd(20,Ne,8,11,"div",10),o.cc(),o.Yb(21,"my-account-profile",11),o.cc(),o.cc(),o.dc(22,"div",12),o.dc(23,"div",2),o.Yb(24,"div",13),o.dc(25,"div",5),o.hc(26,De),o.cc(),o.cc(),o.dc(27,"div",3),o.Yb(28,"my-account-storage-settings",14),o.cc(),o.cc(),o.dc(29,"div",12),o.dc(30,"div",2),o.Yb(31,"div",15),o.dc(32,"h2",5),o.hc(33,Ie),o.cc(),o.cc(),o.dc(34,"div",3),o.Yb(35,"my-user-video-settings",11),o.cc(),o.cc(),o.dc(36,"div",12),o.dc(37,"div",2),o.Yb(38,"div",16),o.dc(39,"h2",5),o.hc(40,Ee),o.cc(),o.cc(),o.dc(41,"div",3),o.Yb(42,"my-account-notification-preferences",11),o.cc(),o.cc(),o.dc(43,"div",12),o.dc(44,"div",2),o.dc(45,"h2",5),o.hc(46,Te),o.cc(),o.cc(),o.dc(47,"div",3),o.Yb(48,"my-user-interface-settings",11),o.cc(),o.cc(),o.bd(49,Fe,6,0,"div",17),o.dc(50,"div",12),o.dc(51,"div",2),o.dc(52,"h2",5),o.hc(53,Re),o.cc(),o.cc(),o.dc(54,"div",3),o.Yb(55,"my-account-change-email"),o.cc(),o.cc(),o.dc(56,"div",12),o.dc(57,"div",2),o.dc(58,"h2",18),o.hc(59,Le),o.cc(),o.cc(),o.dc(60,"div",3),o.Yb(61,"my-account-danger-zone",19),o.cc(),o.cc()),2&t&&(o.Jb(5),o.Dc("actor",e.user.account),o.Jb(10),o.Zc(o.Hc(24,Ae,e.userVideoQuotaPercentage+"%")),o.Kb("aria-valuenow",e.userVideoQuotaUsed)("aria-valuemax",e.user.videoQuota),o.Jb(1),o.ed(o.zc(17,21,e.userVideoQuotaUsed,0)),o.Jb(3),o.ed(e.userVideoQuota),o.Jb(1),o.Dc("ngIf",e.hasDailyQuota()),o.Jb(1),o.Dc("user",e.user)("userInformationLoaded",e.userInformationLoaded),o.Jb(7),o.Dc("user",e.user)("userInformationLoaded",e.userInformationLoaded)("userQuotaObject",e.userQuotaObject),o.Jb(7),o.Dc("user",e.user)("userInformationLoaded",e.userInformationLoaded),o.Jb(7),o.Dc("user",e.user)("userInformationLoaded",e.userInformationLoaded),o.Jb(6),o.Dc("user",e.user)("userInformationLoaded",e.userInformationLoaded),o.Jb(1),o.Dc("ngIf",null===e.user.pluginAuth),o.Jb(12),o.Dc("user",e.user))},directives:[ot.a,i.u,lt,It,Lt.a,Bt,qt.a,le,he,we],pipes:[et.a],styles:[".user-quota[_ngcontent-%COMP%]{font-size:15px;margin-top:20px}.user-quota[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}.progress[_ngcontent-%COMP%]{background-color:#e5e5e5;display:flex;height:1rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;width:500px;max-width:100%}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%]{background-color:var(--secondaryColor)}@media screen and (max-width:800px){.progress[_ngcontent-%COMP%]{width:100%}}"]}),t})();var $e=n("XNiG"),je=n("GyhO"),Ue=n("Kj3r"),Xe=n("IAdc"),He=n("6rF9"),Be=n("1kSV"),Ye=n("UkmY");const Ge=["modal"];var Qe,qe;Qe="\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07",qe="\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07\u0E04\u0E19\u0E16\u0E31\u0E14\u0E44\u0E1B";const We=["value","\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"],Ke=["value","\u0E2A\u0E48\u0E07"];function Ze(t,e){if(1&t&&(o.dc(0,"div",13),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Jb(1),o.fd(" ",t.formErrors.username," ")}}function tn(t,e){if(1&t){const t=o.ec();o.dc(0,"div",1),o.dc(1,"h4",2),o.hc(2,Qe),o.cc(),o.dc(3,"my-global-icon",3),o.sc("click",(function(){return(0,e.dismiss)()})),o.cc(),o.cc(),o.dc(4,"div",4),o.dc(5,"div",5),o.dc(6,"label",6),o.hc(7,qe),o.cc(),o.dc(8,"p-autoComplete",7),o.sc("completeMethod",(function(e){return o.Sc(t),o.wc().search(e)})),o.cc(),o.bd(9,Ze,2,1,"div",8),o.cc(),o.cc(),o.dc(10,"div",9),o.dc(11,"div",10),o.dc(12,"input",11),o.jc(13,We),o.sc("click",(function(){return(0,e.dismiss)()}))("key.enter",(function(){return(0,e.dismiss)()})),o.cc(),o.dc(14,"input",12),o.jc(15,Ke),o.sc("click",(function(){return(0,e.close)()})),o.cc(),o.cc(),o.cc()}if(2&t){const t=o.wc();o.Jb(4),o.Dc("formGroup",t.form),o.Jb(4),o.Dc("suggestions",t.usernamePropositions),o.Jb(1),o.Dc("ngIf",t.formErrors.username),o.Jb(5),o.Dc("disabled",!t.form.valid)}}let en=(()=>{class t extends X.c{constructor(t,e,n,o,i,c,r){super(),this.formValidatorService=t,this.videoChangeOwnershipValidatorsService=e,this.videoOwnershipService=n,this.notifier=o,this.userService=i,this.modalService=c,this.i18n=r,this.error=null,this.video=void 0}ngOnInit(){this.buildForm({username:this.videoChangeOwnershipValidatorsService.USERNAME}),this.usernamePropositions=[]}show(t){this.video=t,this.modalService.open(this.modal,{centered:!0}).result.then(()=>this.changeOwnership()).catch(t=>t)}search(t){this.userService.autocomplete(t.query).subscribe(t=>this.usernamePropositions=t,t=>this.notifier.error(t.message))}changeOwnership(){this.videoOwnershipService.changeOwnership(this.video.id,this.form.value.username).subscribe(()=>this.notifier.success(this.i18n("Ownership change request sent.")),t=>this.notifier.error(t.message))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(X.n),o.Xb(B.q),o.Xb(tt.k),o.Xb(tt.z),o.Xb(Be.k),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-video-change-ownership"]],viewQuery:function(t,e){var n;1&t&&o.Yc(Ge,!0),2&t&&o.Pc(n=o.tc())&&(e.modal=n.first)},features:[o.Gb],decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body",3,"formGroup"],[1,"form-group"],["for","next-ownership-username"],["formControlName","username","id","next-ownership-username",3,"suggestions","completeMethod"],["class","form-error",4,"ngIf"],[1,"modal-footer","inputs"],[1,"form-group","inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"disabled","click",6,"value"],[1,"form-error"]],template:function(t,e){1&t&&o.bd(0,tn,16,4,"ng-template",null,0,o.cd)},directives:[Ye.a,u.u,u.m,J,u.t,u.k,i.u],styles:["p-autocomplete[_ngcontent-%COMP%]{display:block}.form-group[_ngcontent-%COMP%]{margin:20px 0}"]}),t})();var nn=n("UT6+"),on=n("jBV2"),cn=n("l9Pe"),rn=n("9SF7");const an=["videosSelection"],sn=["videoChangeOwnershipModal"];var ln;ln="Videos " + "\ufffd#3\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#3\ufffd" + "";const dn=["placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13"];var un;function gn(t,e){if(1&t){const t=o.ec();o.dc(0,"span",9),o.sc("click",(function(){return o.Sc(t),o.wc().deleteSelectedVideos()})),o.Yb(1,"my-global-icon",10),o.bc(2),o.hc(3,un),o.ac(),o.cc()}}un="\u0E25\u0E1A";const hn=["label","\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07"],pn=function(t){return["/videos","update",t]};function bn(t,e){if(1&t){const t=o.ec();o.dc(0,"div",11),o.dc(1,"my-delete-button",12),o.sc("click",(function(){o.Sc(t);const n=e.$implicit;return o.wc().deleteVideo(n)})),o.cc(),o.Yb(2,"my-edit-button",13),o.dc(3,"my-button",14),o.jc(4,hn),o.sc("click",(function(n){o.Sc(t);const i=e.$implicit;return o.wc().changeOwnership(n,i)})),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Jb(2),o.Dc("routerLink",o.Hc(1,pn,t.uuid))}}let mn=(()=>{class t{constructor(t,e,n,o,i,c,r,a,s){this.router=t,this.serverService=e,this.route=n,this.authService=o,this.notifier=i,this.screenService=c,this.i18n=r,this.confirmService=a,this.videoService=s,this.selection={},this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.miniatureDisplayOptions={date:!0,views:!0,by:!0,privacyLabel:!1,privacyText:!0,state:!0,blacklistInfo:!0},this.ownerDisplayType="videoChannel",this.videos=[],this.videosSearchChanged=new $e.a,this.getVideosObservableFunction=this.getVideosObservable.bind(this),this.titlePage=this.i18n("My videos")}ngOnInit(){this.videosSearchChanged.pipe(Object(Ue.a)(500)).subscribe(()=>{this.videosSelection.reloadVideos()})}onVideosSearchChanged(){this.videosSearchChanged.next()}disableForReuse(){this.videosSelection.disableForReuse()}enabledForReuse(){this.videosSelection.enabledForReuse()}getVideosObservable(t,e){const n=Object(He.h)(this.pagination,{currentPage:t});return this.videoService.getMyVideos(n,e,this.videosSearch).pipe(Object(Wt.a)(t=>this.pagination.totalItems=t.total))}deleteSelectedVideos(){return Object(ge.a)(this,void 0,void 0,(function*(){const t=Object.keys(this.selection).filter(t=>!0===this.selection[t]).map(t=>parseInt(t,10));if(!1===(yield this.confirmService.confirm(this.i18n("Do you really want to delete {{deleteLength}} videos?",{deleteLength:t.length}),this.i18n("Delete"))))return;const e=[];for(const n of t){const t=this.videoService.removeVideo(n).pipe(Object(Wt.a)(()=>this.removeVideoFromArray(n)));e.push(t)}Object(je.a)(...e).pipe(Object(Xe.a)()).subscribe(()=>{this.notifier.success(this.i18n("{{deleteLength}} videos deleted.",{deleteLength:t.length})),this.selection={}},t=>this.notifier.error(t.message))}))}deleteVideo(t){return Object(ge.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm(this.i18n("Do you really want to delete {{videoName}}?",{videoName:t.name}),this.i18n("Delete")))&&this.videoService.removeVideo(t.id).subscribe(()=>{this.notifier.success(this.i18n("Video {{videoName}} deleted.",{videoName:t.name})),this.removeVideoFromArray(t.id)},t=>this.notifier.error(t.message))}))}changeOwnership(t,e){t.preventDefault(),this.videoChangeOwnershipModal.show(e)}removeVideoFromArray(t){this.videos=this.videos.filter(e=>e.id!==t)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(K.h),o.Xb(tt.s),o.Xb(K.a),o.Xb(tt.a),o.Xb(tt.k),o.Xb(tt.q),o.Xb(nt.a),o.Xb(tt.d),o.Xb(B.r))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-videos"]],viewQuery:function(t,e){var n;1&t&&(o.Yc(an,!0),o.Yc(sn,!0)),2&t&&(o.Pc(n=o.tc())&&(e.videosSelection=n.first),o.Pc(n=o.tc())&&(e.videoChangeOwnershipModal=n.first))},decls:13,vars:9,consts:[[1,"videos-header"],[1,"badge","badge-secondary"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],[1,"fake-element"],[3,"pagination","selection","videosModel","miniatureDisplayOptions","titlePage","getVideosObservableFunction","ownerDisplayType","selectionChange","videosModelChange"],["videosSelection",""],["ptTemplate","globalButtons"],["ptTemplate","rowButtons"],["videoChangeOwnershipModal",""],[1,"action-button","action-button-delete-selection",3,"click"],["iconName","delete","aria-hidden","true"],[1,"action-button"],[3,"click"],[3,"routerLink"],["className","action-button-change-ownership grey-button","icon","ownership-change",3,"click",6,"label"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"h1"),o.nc(2,ln),o.Yb(3,"span",1),o.kc(),o.cc(),o.dc(4,"input",2),o.jc(5,dn),o.sc("ngModelChange",(function(t){return e.videosSearch=t}))("ngModelChange",(function(){return e.onVideosSearchChanged()})),o.cc(),o.Yb(6,"div",3),o.cc(),o.dc(7,"my-videos-selection",4,5),o.sc("selectionChange",(function(t){return e.selection=t}))("videosModelChange",(function(t){return e.videos=t})),o.bd(9,gn,4,0,"ng-template",6),o.bd(10,bn,5,3,"ng-template",7),o.cc(),o.Yb(11,"my-video-change-ownership",null,8)),2&t&&(o.Jb(3),o.lc(e.pagination.totalItems),o.ic(2),o.Jb(1),o.Dc("ngModel",e.videosSearch),o.Jb(3),o.Dc("pagination",e.pagination)("selection",e.selection)("videosModel",e.videos)("miniatureDisplayOptions",e.miniatureDisplayOptions)("titlePage",e.titlePage)("getVideosObservableFunction",e.getVideosObservableFunction)("ownerDisplayType",e.ownerDisplayType))},directives:[u.d,u.t,u.w,nn.a,yt.a,en,Ye.a,on.a,cn.a,K.i,rn.a],styles:['.videos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 50px}.videos-header[_ngcontent-%COMP%]   .fake-element[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;font-size:1.5rem}.videos-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:300px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.videos-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.videos-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.videos-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.videos-header[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:300px){.videos-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.action-button-delete-selection[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.action-button-delete-selection.focus-visible[_ngcontent-%COMP%], .action-button-delete-selection[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.action-button-delete-selection[_ngcontent-%COMP%], .action-button-delete-selection[_ngcontent-%COMP%]:active, .action-button-delete-selection[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.action-button-delete-selection[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.action-button-delete-selection.disabled[_ngcontent-%COMP%], .action-button-delete-selection[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:3px;top:-1px}.action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.action-button-delete-selection[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}  .video{flex-wrap:wrap}  .action-button span{white-space:nowrap}  .video-miniature.display-as-row{width:100%!important}  .video-miniature.display-as-row .video-bottom .video-miniature-information{width:-webkit-max-content!important;width:-moz-max-content!important;width:max-content!important;min-width:unset!important}  .video-miniature .video-bottom{max-width:350px}.action-button[_ngcontent-%COMP%]{display:flex;margin-left:55px;margin-top:10px;align-self:flex-end}my-delete-button[_ngcontent-%COMP%], my-edit-button[_ngcontent-%COMP%]{margin-right:10px}@media screen and (max-width:800px){.action-button[_ngcontent-%COMP%], .videos-header[_ngcontent-%COMP%]{flex-direction:column}.action-button[_ngcontent-%COMP%]{align-self:center;margin-left:0}  .video-miniature{align-items:center}  .video-miniature .video-bottom,   .video-miniature .video-bottom .video-miniature-information{max-width:223px!important}my-delete-button[_ngcontent-%COMP%], my-delete-button[_ngcontent-%COMP%]     a, my-delete-button[_ngcontent-%COMP%]     span, my-edit-button[_ngcontent-%COMP%], my-edit-button[_ngcontent-%COMP%]     a, my-edit-button[_ngcontent-%COMP%]     span{margin-right:0}my-button[_ngcontent-%COMP%], my-delete-button[_ngcontent-%COMP%], my-edit-button[_ngcontent-%COMP%]{margin-top:15px;width:100%;text-align:center}my-button[_ngcontent-%COMP%]     .action-button, my-delete-button[_ngcontent-%COMP%]     .action-button, my-edit-button[_ngcontent-%COMP%]     .action-button{width:223px}}@media screen and (min-width:800px) and (max-width:920px){.main-col[_nghost-%COMP%]:not(.expanded)     .video-miniature, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-miniature{flex-direction:column}.main-col[_nghost-%COMP%]:not(.expanded)     .video-miniature .video-miniature-name, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-miniature .video-miniature-name{max-width:223px}}']}),t})();var fn;fn="Imports";const vn=["currentPageReportTemplate","Showing " + "\ufffd0\ufffd" + " to " + "\ufffd1\ufffd" + " of " + "\ufffd2\ufffd" + " imports"];var _n,Pn,Cn,yn;function On(t,e){1&t&&(o.dc(0,"tr"),o.Yb(1,"th",5),o.dc(2,"th",6),o.hc(3,_n),o.cc(),o.dc(4,"th",7),o.hc(5,Pn),o.cc(),o.dc(6,"th",8),o.hc(7,Cn),o.cc(),o.dc(8,"th",9),o.nc(9,yn),o.Yb(10,"p-sortIcon",10),o.kc(),o.cc(),o.Yb(11,"th",11),o.cc())}_n="\u0E40\u0E1B\u0E49\u0E32\u0E2B\u0E21\u0E32\u0E22",Pn="Video",Cn="State",yn="Created " + "\ufffd#10\ufffd" + "" + "\ufffd/#10\ufffd" + "";const Mn=["ngbTooltip","See the error"];function wn(t,e){if(1&t&&(o.dc(0,"span",19),o.jc(1,Mn),o.Yb(2,"i",20),o.cc()),2&t){const t=o.wc(),e=t.expanded;o.Dc("pRowToggler",t.$implicit),o.Jb(2),o.Dc("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function xn(t,e){if(1&t&&(o.dc(0,"a",21),o.dd(1),o.cc()),2&t){const t=o.wc().$implicit;o.Dc("href",t.targetUrl,o.Uc),o.Jb(1),o.ed(t.targetUrl)}}function kn(t,e){if(1&t&&(o.dc(0,"span",22),o.dd(1),o.cc()),2&t){const t=o.wc().$implicit;o.Dc("title",t.torrentName||t.magnetUri),o.Jb(1),o.ed(t.torrentName||t.magnetUri)}}function Sn(t,e){if(1&t&&(o.bc(0),o.dd(1),o.ac()),2&t){const t=o.wc().$implicit;o.Jb(1),o.ed(null==t.video?null:t.video.name)}}function Dn(t,e){if(1&t&&(o.bc(0),o.dc(1,"a",21),o.dd(2),o.cc(),o.ac()),2&t){const t=o.wc().$implicit,e=o.wc();o.Jb(1),o.Dc("href",e.getVideoUrl(t.video),o.Uc),o.Jb(1),o.ed(null==t.video?null:t.video.name)}}var In;function En(t,e){1&t&&(o.bc(0),o.hc(1,In),o.ac())}function Tn(t,e){1&t&&o.Zb(0)}function Rn(t,e){if(1&t&&o.Yb(0,"my-edit-button",23),2&t){const t=o.wc().$implicit,e=o.wc();o.Dc("routerLink",e.getEditVideoUrl(t.video))}}function Ln(t,e){if(1&t&&(o.dc(0,"tr"),o.dc(1,"td",12),o.bd(2,wn,3,2,"span",13),o.cc(),o.dc(3,"td"),o.bd(4,xn,2,2,"a",14),o.bd(5,kn,2,2,"ng-template",null,15,o.cd),o.cc(),o.dc(7,"td"),o.bd(8,Sn,2,1,"ng-container",16),o.bd(9,Dn,3,2,"ng-container",16),o.bd(10,En,2,0,"ng-container",16),o.bd(11,Tn,1,0,"ng-container",16),o.cc(),o.dc(12,"td"),o.dd(13),o.cc(),o.dc(14,"td"),o.dd(15),o.xc(16,"date"),o.cc(),o.dc(17,"td",17),o.bd(18,Rn,1,1,"my-edit-button",18),o.cc(),o.cc()),2&t){const t=e.$implicit,n=o.Qc(6),i=o.wc();o.Jb(2),o.Dc("ngIf",t.error),o.Jb(2),o.Dc("ngIf",t.targetUrl)("ngIfElse",n),o.Jb(4),o.Dc("ngIf",i.isVideoImportPending(t)),o.Jb(1),o.Dc("ngIf",i.isVideoImportSuccess(t)&&t.video),o.Jb(1),o.Dc("ngIf",i.isVideoImportSuccess(t)&&!t.video),o.Jb(1),o.Dc("ngIf",i.isVideoImportFailed(t)),o.Jb(2),o.ed(t.state.label),o.Jb(2),o.ed(o.zc(16,10,t.createdAt,"short")),o.Jb(3),o.Dc("ngIf",i.isVideoImportSuccess(t)&&t.video)}}function zn(t,e){if(1&t&&(o.dc(0,"tr",25),o.dc(1,"td",26),o.dc(2,"pre"),o.dd(3),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc().$implicit;o.Jb(3),o.ed(t.error)}}function An(t,e){1&t&&o.bd(0,zn,4,1,"tr",24),2&t&&o.Dc("ngIf",e.$implicit.error)}In="This video was deleted";let Nn=(()=>{class t extends tt.p{constructor(t,e){super(),this.notifier=t,this.videoImportService=e,this.videoImports=[],this.totalRecords=0,this.sort={field:"createdAt",order:1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"MyAccountVideoImportsComponent"}isVideoImportSuccess(t){return t.state.id===$t.l.SUCCESS}isVideoImportPending(t){return t.state.id===$t.l.PENDING}isVideoImportFailed(t){return t.state.id===$t.l.FAILED}getVideoUrl(t){return"/videos/watch/"+t.uuid}getEditVideoUrl(t){return"/videos/update/"+t.uuid}loadData(){this.videoImportService.getMyVideoImports(this.pagination,this.sort).subscribe(t=>{this.videoImports=t.data,this.totalRecords=t.total},t=>this.notifier.error(t.message))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.k),o.Xb(B.p))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-video-imports"]],features:[o.Gb],decls:7,vars:13,consts:[[1,"sr-only"],["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","expandedRowKeys","onLazyLoad","onPage",6,"currentPageReportTemplate"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","40px"],[2,"width","45%"],[2,"width","55%"],[2,"width","150px"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],[2,"width","70px"],[1,"expand-cell"],["class","expander",3,"pRowToggler",4,"ngIf",6,"ngbTooltip"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf","ngIfElse"],["torrent",""],[4,"ngIf"],[1,"action-cell"],["label"," ",3,"routerLink",4,"ngIf"],[1,"expander",3,"pRowToggler",6,"ngbTooltip"],[3,"ngClass"],["target","_blank","rel","noopener noreferrer",3,"href"],[3,"title"],["label"," ",3,"routerLink"],["class","video-import-error",4,"ngIf"],[1,"video-import-error"],["colspan","6"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,fn),o.cc(),o.dc(2,"p-table",1),o.jc(3,vn),o.sc("onLazyLoad",(function(t){return e.loadLazy(t)}))("onPage",(function(t){return e.onPage(t)})),o.bd(4,On,12,0,"ng-template",2),o.bd(5,Ln,19,13,"ng-template",3),o.bd(6,An,1,1,"ng-template",4),o.cc()),2&t&&(o.Jb(2),o.lc("{first}")("{last}")("{totalRecords}"),o.ic(3),o.Dc("value",e.videoImports)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("rowsPerPageOptions",e.rowsPerPageOptions)("sortField",e.sort.field)("sortOrder",e.sort.order)("showCurrentPageReport",!0)("expandedRowKeys",e.expandedRows))},directives:[U.q,s.d,U.p,U.o,i.u,Be.y,U.k,i.r,cn.a,K.i],pipes:[i.f],styles:["pre[_ngcontent-%COMP%]{font-size:11px}.video-import-error[_ngcontent-%COMP%]{color:red}"]}),t})();var Jn,Fn,Vn=n("5rWp"),$n=n("UjHu"),jn=n("Dmbs");function Un(t,e){1&t&&(o.dc(0,"div",4),o.hc(1,Fn),o.cc())}Jn="\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21",Fn="\u0E04\u0E38\u0E13\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E21\u0E35\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21";const Xn=["title","Channel page"];var Hn;Hn="\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21 " + "\ufffd0\ufffd" + " \u0E04\u0E19";const Bn=["title","Owner account page"];var Yn;Yn="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E14\u0E22 " + "\ufffd0\ufffd" + "";const Gn=function(t){return["/video-channels",t]},Qn=function(t){return["/accounts",t]},qn=function(t){return[t]};function Wn(t,e){if(1&t&&(o.dc(0,"div",5),o.dc(1,"a",6),o.Yb(2,"img",7),o.cc(),o.dc(3,"div",8),o.dc(4,"a",9),o.jc(5,Xn),o.dc(6,"div",10),o.dd(7),o.cc(),o.dc(8,"div",11),o.dd(9),o.cc(),o.cc(),o.dc(10,"div",12),o.hc(11,Hn),o.cc(),o.dc(12,"a",13),o.jc(13,Bn),o.dc(14,"span"),o.hc(15,Yn),o.cc(),o.Yb(16,"img",14),o.cc(),o.cc(),o.Yb(17,"my-subscribe-button",15),o.cc()),2&t){const t=e.$implicit;o.Jb(1),o.Dc("routerLink",o.Hc(10,Gn,t.nameWithHost)),o.Jb(1),o.Dc("src",t.avatarUrl,o.Uc),o.Jb(2),o.Dc("routerLink",o.Hc(12,Gn,t.nameWithHost)),o.Jb(3),o.ed(t.displayName),o.Jb(2),o.ed(t.nameWithHost),o.Jb(2),o.lc(t.followersCount),o.ic(11),o.Jb(1),o.Dc("routerLink",o.Hc(14,Qn,t.ownerBy)),o.Jb(3),o.lc(t.ownerBy),o.ic(15),o.Jb(1),o.Dc("src",t.ownerAvatarUrl,o.Uc),o.Jb(1),o.Dc("videoChannels",o.Hc(16,qn,t))}}let Kn=(()=>{class t{constructor(t,e){this.userSubscriptionService=t,this.notifier=e,this.videoChannels=[],this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.onDataSubject=new $e.a}ngOnInit(){this.loadSubscriptions()}loadSubscriptions(){this.userSubscriptionService.listSubscriptions(this.pagination).subscribe(t=>{this.videoChannels=this.videoChannels.concat(t.data),this.pagination.totalItems=t.total,this.onDataSubject.next(t.data)},t=>this.notifier.error(t.message))}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadSubscriptions())}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Vn.b),o.Xb(tt.k))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-subscriptions"]],decls:5,vars:4,consts:[[1,"sr-only"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"video-channels",3,"autoInit","dataObservable","nearOfBottom"],["class","video-channel",4,"ngFor","ngForOf"],[1,"no-results"],[1,"video-channel"],[3,"routerLink"],["alt","Avatar",3,"src"],[1,"video-channel-info"],[1,"video-channel-names",3,"routerLink",6,"title"],[1,"video-channel-display-name"],[1,"video-channel-name"],[1,"video-channel-followers"],[1,"actor-owner",3,"routerLink",6,"title"],["alt","Owner account avatar",3,"src"],[3,"videoChannels"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,Jn),o.cc(),o.bd(2,Un,2,0,"div",1),o.dc(3,"div",2),o.sc("nearOfBottom",(function(){return e.onNearOfBottom()})),o.bd(4,Wn,18,18,"div",3),o.cc()),2&t&&(o.Jb(2),o.Dc("ngIf",0===e.pagination.totalItems),o.Jb(1),o.Dc("autoInit",!0)("dataObservable",e.onDataSubject.asObservable()),o.Jb(1),o.Dc("ngForOf",e.videoChannels))},directives:[i.u,$n.a,i.t,K.k,jn.a],styles:[".video-channel[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video-channel[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:80px;height:80px;min-width:80px;min-height:80px;margin-right:10px}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{flex-grow:1}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;align-items:baseline;color:var(--mainForegroundColor)}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:active, .video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:focus, .video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]   .video-channel-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   a.video-channel-names[_ngcontent-%COMP%]   .video-channel-name[_ngcontent-%COMP%]{font-size:14px;color:#777272;margin-left:5px}.video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]{font-size:13px;color:var(--mainForegroundColor);margin-top:0}.video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:active, .video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:focus, .video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{opacity:.8}.video-channel[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:50%;width:18px;height:18px;min-width:18px;min-height:18px;margin-left:7px;position:relative;top:-2px}@media screen and (max-width:800px){.video-channels-header[_ngcontent-%COMP%]{text-align:center}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{padding-bottom:10px;text-align:center}.video-channel[_ngcontent-%COMP%]   .video-channel-info[_ngcontent-%COMP%]   .video-channel-names[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;margin:auto}.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0}}"]}),t})();const Zn=["modal"];var to,eo,no;to="\u0E22\u0E2D\u0E21\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07",eo="Select a channel to receive the video",no="Channel that will receive the video";const oo=["value","\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"],io=["value","Accept"];function co(t,e){if(1&t&&(o.dc(0,"option",16),o.dd(1),o.cc()),2&t){const t=e.$implicit;o.Dc("value",t.id),o.Jb(1),o.fd("",t.displayName," ")}}function ro(t,e){if(1&t&&(o.dc(0,"div",17),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Jb(1),o.ed(t.formErrors.channel)}}function ao(t,e){if(1&t&&(o.dc(0,"div",1),o.dc(1,"h1",2),o.hc(2,to),o.cc(),o.dc(3,"my-global-icon",3),o.sc("click",(function(){return(0,e.dismiss)()})),o.cc(),o.cc(),o.dc(4,"div",4),o.dc(5,"div",5),o.dc(6,"label",6),o.hc(7,eo),o.cc(),o.dc(8,"div",7),o.dc(9,"select",8),o.dc(10,"option",9),o.hc(11,no),o.cc(),o.bd(12,co,2,2,"option",10),o.cc(),o.cc(),o.bd(13,ro,2,1,"div",11),o.cc(),o.cc(),o.dc(14,"div",12),o.dc(15,"div",13),o.dc(16,"input",14),o.jc(17,oo),o.sc("click",(function(){return(0,e.dismiss)()}))("key.enter",(function(){return(0,e.dismiss)()})),o.cc(),o.dc(18,"input",15),o.jc(19,io),o.sc("click",(function(){return(0,e.close)()})),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc();o.Jb(4),o.Dc("formGroup",t.form),o.Jb(8),o.Dc("ngForOf",t.videoChannels),o.Jb(1),o.Dc("ngIf",t.formErrors.channel),o.Jb(5),o.Dc("disabled",!t.form.valid)}}let so=(()=>{class t extends X.c{constructor(t,e,n,i,c,r,a,s){super(),this.formValidatorService=t,this.videoChangeOwnershipValidatorsService=e,this.videoOwnershipService=n,this.notifier=i,this.authService=c,this.videoChannelService=r,this.modalService=a,this.i18n=s,this.accepted=new o.n,this.videoChangeOwnership=void 0,this.error=null}ngOnInit(){this.videoChannels=[],this.videoChannelService.listAccountVideoChannels(this.authService.getUser().account).subscribe(t=>this.videoChannels=t.data),this.buildForm({channel:this.videoChangeOwnershipValidatorsService.CHANNEL})}show(t){this.videoChangeOwnership=t,this.modalService.open(this.modal,{centered:!0}).result.then(()=>this.acceptOwnership()).catch(()=>this.videoChangeOwnership=void 0)}acceptOwnership(){this.videoOwnershipService.acceptOwnership(this.videoChangeOwnership.id,{channelId:this.form.value.channel}).subscribe(()=>{this.notifier.success(this.i18n("Ownership accepted")),this.accepted&&this.accepted.emit(),this.videoChangeOwnership=void 0},t=>this.notifier.error(t.message))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(X.k),o.Xb(B.q),o.Xb(tt.k),o.Xb(tt.a),o.Xb(B.m),o.Xb(Be.k),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-accept-ownership"]],viewQuery:function(t,e){var n;1&t&&o.Yc(Zn,!0),2&t&&o.Pc(n=o.tc())&&(e.modal=n.first)},outputs:{accepted:"accepted"},features:[o.Gb],decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body",3,"formGroup"],[1,"form-group"],["for","channel"],[1,"peertube-select-container"],["formControlName","channel","id","channel",1,"form-control"],["value","undefined","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-error",4,"ngIf"],[1,"modal-footer","inputs"],[1,"inputs"],["type","button","role","button",1,"action-button","action-button-cancel",3,"click","key.enter",6,"value"],["type","submit",1,"action-button-submit",3,"disabled","click",6,"value"],[3,"value"],[1,"form-error"]],template:function(t,e){1&t&&o.bd(0,ao,20,4,"ng-template",null,0,o.cd)},directives:[Ye.a,u.u,u.m,u.F,u.t,u.k,u.y,u.I,i.t,i.u],styles:['select[_ngcontent-%COMP%]{display:block}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:350px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:350px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.form-group[_ngcontent-%COMP%]{margin:20px 0}']}),t})();const lo=["myAccountAcceptOwnershipComponent"];var uo,go,ho,po,bo,mo;function fo(t,e){1&t&&(o.dc(0,"tr"),o.dc(1,"th",7),o.hc(2,go),o.cc(),o.dc(3,"th",8),o.hc(4,ho),o.cc(),o.dc(5,"th",9),o.nc(6,po),o.Yb(7,"p-sortIcon",10),o.kc(),o.cc(),o.dc(8,"th",11),o.hc(9,bo),o.cc(),o.dc(10,"th",12),o.hc(11,mo),o.cc(),o.cc())}uo="\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07",go="\u0E1C\u0E39\u0E49\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19",ho="Video",po="\n        Created\n        " + "\ufffd#7\ufffd" + "" + "\ufffd/#7\ufffd" + "\n      ",bo="\u0E2A\u0E16\u0E32\u0E19\u0E30",mo="\u0E01\u0E32\u0E23\u0E01\u0E23\u0E30\u0E17\u0E33";const vo=["title","Open account in a new tab"];var _o;_o="" + "\ufffd0\ufffd" + "";const Po=["label","Accept"],Co=["label","Refuse"];function yo(t,e){if(1&t){const t=o.ec();o.bc(0),o.dc(1,"my-button",24),o.jc(2,Po),o.sc("click",(function(){o.Sc(t);const e=o.wc().$implicit;return o.wc().openAcceptModal(e)})),o.cc(),o.dc(3,"my-button",25),o.jc(4,Co),o.sc("click",(function(){o.Sc(t);const e=o.wc().$implicit;return o.wc().refuse(e)})),o.cc(),o.ac()}}function Oo(t,e){if(1&t){const t=o.ec();o.dc(0,"tr"),o.dc(1,"td"),o.dc(2,"a",13),o.jc(3,vo),o.dc(4,"div",14),o.dc(5,"img",15),o.sc("error",(function(e){return o.Sc(t),o.wc().switchToDefaultAvatar(e)})),o.cc(),o.dc(6,"div"),o.dd(7),o.dc(8,"span",16),o.dd(9),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(10,"td"),o.dc(11,"a",17),o.dc(12,"div",18),o.dc(13,"div",19),o.Yb(14,"img",20),o.cc(),o.dc(15,"div",21),o.dc(16,"div"),o.dd(17),o.cc(),o.dc(18,"div",16),o.dd(19),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(20,"td"),o.dd(21),o.xc(22,"date"),o.cc(),o.dc(23,"td"),o.hc(24,_o),o.cc(),o.dc(25,"td",22),o.bd(26,yo,5,0,"ng-container",23),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Jb(2),o.Dc("href",t.initiatorAccount.url,o.Uc),o.Jb(3),o.Dc("src",null==t.initiatorAccount.avatar?null:t.initiatorAccount.avatar.path,o.Uc),o.Jb(2),o.fd(" ",t.initiatorAccount.displayName," "),o.Jb(2),o.ed(t.initiatorAccount.nameWithHost),o.Jb(2),o.Dc("href",t.video.url,o.Uc)("title",t.video.name),o.Jb(3),o.Dc("src",t.video.thumbnailPath,o.Uc),o.Jb(3),o.fd(" ",t.video.name," "),o.Jb(2),o.fd("by ",null==t.video.channel?null:t.video.channel.displayName," "),o.Jb(2),o.ed(o.zc(22,12,t.createdAt,"short")),o.Jb(3),o.lc(t.status),o.ic(24),o.Jb(2),o.Dc("ngIf","WAITING"===t.status)}}var Mo;function wo(t,e){1&t&&(o.dc(0,"tr"),o.dc(1,"td",26),o.dc(2,"div",27),o.bc(3),o.hc(4,Mo),o.ac(),o.cc(),o.cc(),o.cc())}Mo="No ownership change request found.";let xo=(()=>{class t extends tt.p{constructor(t,e){super(),this.notifier=t,this.videoOwnershipService=e,this.videoChangeOwnerships=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"MyAccountOwnershipComponent"}switchToDefaultAvatar(t){t.target.src=B.c.GET_DEFAULT_AVATAR_URL()}openAcceptModal(t){this.myAccountAcceptOwnershipComponent.show(t)}accepted(){this.loadData()}refuse(t){this.videoOwnershipService.refuseOwnership(t.id).subscribe(()=>this.loadData(),t=>this.notifier.error(t.message))}loadData(){return this.videoOwnershipService.getOwnershipChanges(this.pagination,this.sort).subscribe(t=>{this.videoChangeOwnerships=t.data.map(t=>Object.assign(Object.assign({},t),{initiatorAccount:new B.a(t.initiatorAccount),nextOwnerAccount:new B.a(t.nextOwnerAccount)})),this.totalRecords=t.total},t=>this.notifier.error(t.message))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.k),o.Xb(B.q))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-ownership"]],viewQuery:function(t,e){var n;1&t&&o.Yc(lo,!0),2&t&&o.Pc(n=o.tc())&&(e.myAccountAcceptOwnershipComponent=n.first)},features:[o.Gb],decls:8,vars:7,consts:[[1,"sr-only"],[3,"value","lazy","paginator","totalRecords","rows","sortField","sortOrder","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"accepted"],["myAccountAcceptOwnershipComponent",""],[2,"width","35%"],[2,"width","65%"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],[2,"width","100px"],[2,"width","130px"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"text-muted"],["target","_blank","rel","noopener noreferrer",1,"video-table-video-link",3,"href","title"],[1,"video-table-video"],[1,"video-table-video-image"],[3,"src"],[1,"video-table-video-text"],[1,"action-cell"],[4,"ngIf"],["icon","tick",3,"click",6,"label"],["icon","cross",3,"click",6,"label"],["colspan","6"],[1,"no-results"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,uo),o.cc(),o.dc(2,"p-table",1),o.sc("onLazyLoad",(function(t){return e.loadLazy(t)})),o.bd(3,fo,12,0,"ng-template",2),o.bd(4,Oo,27,15,"ng-template",3),o.bd(5,wo,5,0,"ng-template",4),o.cc(),o.dc(6,"my-account-accept-ownership",5,6),o.sc("accepted",(function(){return e.accepted()})),o.cc()),2&t&&(o.Jb(2),o.Dc("value",e.videoChangeOwnerships)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("sortField",e.sort.field)("sortOrder",e.sort.order))},directives:[U.q,s.d,so,U.p,U.o,i.u,rn.a],pipes:[i.f],styles:[".chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.video-table-video[_ngcontent-%COMP%]{display:inline-flex}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .video-table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{font-size:80%}"]}),t})();const ko=["currentPageReportTemplate","Showing " + "\ufffd0\ufffd" + " to " + "\ufffd1\ufffd" + " of " + "\ufffd2\ufffd" + " muted accounts"],So=["placeholder","Filter..."];var Do,Io,Eo;function To(t,e){if(1&t){const t=o.ec();o.dc(0,"div",5),o.dc(1,"div",6),o.dc(2,"input",7),o.jc(3,So),o.sc("keyup",(function(e){return o.Sc(t),o.wc().onSearch(e)})),o.cc(),o.dc(4,"a",8),o.sc("click",(function(){return o.Sc(t),o.wc().resetSearch()})),o.cc(),o.dc(5,"span",9),o.hc(6,Do),o.cc(),o.cc(),o.cc()}}function Ro(t,e){1&t&&(o.dc(0,"tr"),o.dc(1,"th",10),o.hc(2,Io),o.cc(),o.dc(3,"th",11),o.nc(4,Eo),o.Yb(5,"p-sortIcon",12),o.kc(),o.cc(),o.Yb(6,"th",13),o.cc())}Do="Clear filters",Io="Account",Eo="Muted at " + "\ufffd#5\ufffd" + "" + "\ufffd/#5\ufffd" + "";const Lo=["title","Open account in a new tab"];var zo,Ao,No;function Jo(t,e){if(1&t){const t=o.ec();o.dc(0,"tr"),o.dc(1,"td"),o.dc(2,"a",14),o.jc(3,Lo),o.dc(4,"div",15),o.dc(5,"img",16),o.sc("error",(function(e){return o.Sc(t),o.wc().switchToDefaultAvatar(e)})),o.cc(),o.dc(6,"div"),o.dd(7),o.dc(8,"span",17),o.dd(9),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(10,"td"),o.dd(11),o.xc(12,"date"),o.cc(),o.dc(13,"td",18),o.dc(14,"button",19),o.sc("click",(function(){o.Sc(t);const n=e.$implicit;return o.wc().unblockAccount(n)})),o.hc(15,zo),o.cc(),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Jb(2),o.Dc("href",t.blockedAccount.url,o.Uc),o.Jb(3),o.Dc("src",null==t.blockedAccount.avatar?null:t.blockedAccount.avatar.path,o.Uc),o.Jb(2),o.fd(" ",t.blockedAccount.displayName," "),o.Jb(2),o.ed(t.blockedAccount.nameWithHost),o.Jb(2),o.ed(o.zc(12,5,t.createdAt,"short"))}}function Fo(t,e){1&t&&(o.bc(0),o.hc(1,Ao),o.ac())}function Vo(t,e){1&t&&(o.bc(0),o.hc(1,No),o.ac())}function $o(t,e){if(1&t&&(o.dc(0,"tr"),o.dc(1,"td",20),o.dc(2,"div",21),o.bd(3,Fo,2,0,"ng-container",22),o.bd(4,Vo,2,0,"ng-container",22),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc();o.Jb(3),o.Dc("ngIf",t.search),o.Jb(1),o.Dc("ngIf",!t.search)}}zo="Unmute",Ao="No account found matching current filters.",No="No account found.";let jo=(()=>{class t extends Y.c{constructor(){super(...arguments),this.mode=Y.a.Account}getIdentifier(){return"MyAccountBlocklistComponent"}}return t.\u0275fac=function(e){return Uo(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-blocklist"]],features:[o.Gb],decls:6,vars:12,consts:[[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],[2,"width","100%"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],[2,"width","150px"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"text-muted"],[1,"action-cell"],[1,"unblock-button",3,"click"],["colspan","6"],[1,"no-results"],[4,"ngIf"]],template:function(t,e){1&t&&(o.dc(0,"p-table",0),o.jc(1,ko),o.sc("onLazyLoad",(function(t){return e.loadLazy(t)}))("onPage",(function(t){return e.onPage(t)})),o.bd(2,To,7,0,"ng-template",1),o.bd(3,Ro,7,0,"ng-template",2),o.bd(4,Jo,16,8,"ng-template",3),o.bd(5,$o,5,2,"ng-template",4),o.cc()),2&t&&(o.lc("{first}")("{last}")("{totalRecords}"),o.ic(1),o.Dc("value",e.blockedAccounts)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("rowsPerPageOptions",e.rowsPerPageOptions)("sortField",e.sort.field)("sortOrder",e.sort.order)("showCurrentPageReport",!0))},directives:[U.q,s.d,U.p,U.o,i.u],pipes:[i.f],styles:['.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),t})();const Uo=o.fc(jo);var Xo=n("E/r9");const Ho=["currentPageReportTemplate","Showing " + "\ufffd0\ufffd" + " to " + "\ufffd1\ufffd" + " of " + "\ufffd2\ufffd" + " muted instances"],Bo=["action","Mute domains"],Yo=["placeholder","Filter..."];var Go,Qo,qo,Wo;function Ko(t,e){if(1&t){const t=o.ec();o.dc(0,"div",7),o.dc(1,"div",8),o.dc(2,"input",9),o.jc(3,Yo),o.sc("keyup",(function(e){return o.Sc(t),o.wc().onSearch(e)})),o.cc(),o.dc(4,"a",10),o.sc("click",(function(){return o.Sc(t),o.wc().resetSearch()})),o.cc(),o.dc(5,"span",11),o.hc(6,Go),o.cc(),o.cc(),o.dc(7,"a",12),o.sc("click",(function(){return o.Sc(t),o.wc().addServersToBlock()}))("key.enter",(function(){return o.Sc(t),o.wc().addServersToBlock()})),o.Yb(8,"my-global-icon",13),o.bc(9),o.hc(10,Qo),o.ac(),o.cc(),o.cc()}}function Zo(t,e){1&t&&(o.dc(0,"tr"),o.dc(1,"th",14),o.hc(2,qo),o.cc(),o.dc(3,"th",15),o.nc(4,Wo),o.Yb(5,"p-sortIcon",16),o.kc(),o.cc(),o.Yb(6,"th",17),o.cc())}Go="Clear filters",Qo="Mute domain",qo="\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C",Wo="Muted at " + "\ufffd#5\ufffd" + "" + "\ufffd/#5\ufffd" + "";const ti=["title","Open instance in a new tab"];var ei,ni,oi;function ii(t,e){if(1&t){const t=o.ec();o.dc(0,"tr"),o.dc(1,"td"),o.dc(2,"a",18),o.jc(3,ti),o.dd(4),o.Yb(5,"span",19),o.cc(),o.cc(),o.dc(6,"td"),o.dd(7),o.xc(8,"date"),o.cc(),o.dc(9,"td",20),o.dc(10,"button",21),o.sc("click",(function(){o.Sc(t);const n=e.$implicit;return o.wc().unblockServer(n)})),o.hc(11,ei),o.cc(),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Jb(2),o.Dc("href","https://"+t.blockedServer.host,o.Uc),o.Jb(2),o.fd(" ",t.blockedServer.host," "),o.Jb(3),o.ed(o.zc(8,3,t.createdAt,"short"))}}function ci(t,e){1&t&&(o.bc(0),o.hc(1,ni),o.ac())}function ri(t,e){1&t&&(o.bc(0),o.hc(1,oi),o.ac())}function ai(t,e){if(1&t&&(o.dc(0,"tr"),o.dc(1,"td",22),o.dc(2,"div",23),o.bd(3,ci,2,0,"ng-container",24),o.bd(4,ri,2,0,"ng-container",24),o.cc(),o.cc(),o.cc()),2&t){const t=o.wc();o.Jb(3),o.Dc("ngIf",t.search),o.Jb(1),o.Dc("ngIf",!t.search)}}ei="Unmute",ni="No server found matching current filters.",oi="No server found.";let si=(()=>{class t extends Y.d{constructor(){super(...arguments),this.mode=Y.a.Account}getIdentifier(){return"MyAccountServerBlocklistComponent"}}return t.\u0275fac=function(e){return li(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-server-blocklist"]],features:[o.Gb],decls:9,vars:12,consts:[[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"domains",6,"action"],["batchDomainsModal",""],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],[1,"ml-2","block-button",3,"click","key.enter"],["iconName","add","aria-hidden","true"],[2,"width","100%"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],[2,"width","150px"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],[1,"glyphicon","glyphicon-new-window"],[1,"action-cell"],[1,"unblock-button",3,"click"],["colspan","6"],[1,"no-results"],[4,"ngIf"]],template:function(t,e){1&t&&(o.dc(0,"p-table",0),o.jc(1,Ho),o.sc("onLazyLoad",(function(t){return e.loadLazy(t)}))("onPage",(function(t){return e.onPage(t)})),o.bd(2,Ko,11,0,"ng-template",1),o.bd(3,Zo,7,0,"ng-template",2),o.bd(4,ii,12,6,"ng-template",3),o.bd(5,ai,5,2,"ng-template",4),o.cc(),o.dc(6,"my-batch-domains-modal",5,6),o.jc(8,Bo),o.sc("domains",(function(t){return e.onDomainsToBlock(t)})),o.cc()),2&t&&(o.lc("{first}")("{last}")("{totalRecords}"),o.ic(1),o.Dc("value",e.blockedServers)("lazy",!0)("paginator",e.totalRecords>0)("totalRecords",e.totalRecords)("rows",e.rowsPerPage)("rowsPerPageOptions",e.rowsPerPageOptions)("sortField",e.sort.field)("sortOrder",e.sort.order)("showCurrentPageReport",!0))},directives:[U.q,s.d,Xo.a,Ye.a,U.p,U.o,i.u],pipes:[i.f],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.video-table-states[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:.4rem}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .ui-widget-content{min-width:400px}p-calendar[_ngcontent-%COMP%]     input{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}p-calendar[_ngcontent-%COMP%]     input::-moz-placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     input::-ms-input-placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     input::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     input[readonly]{opacity:.7}@media screen and (max-width:100%){p-calendar[_ngcontent-%COMP%]     input{width:100%}}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.video-table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.video-table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-table-video[_ngcontent-%COMP%]{display:inline-flex}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.video-table-video[_ngcontent-%COMP%]   .video-table-video-image[_ngcontent-%COMP%]   .video-table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.video-table-video[_ngcontent-%COMP%]   .video-table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{font-size:80%}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.block-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus, .block-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.block-button.focus-visible[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.block-button[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.block-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.block-button.disabled[_ngcontent-%COMP%], .block-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}']}),t})();const li=o.fc(si);var di,ui,gi,hi,pi=n("MUmz");function bi(t,e){1&t&&(o.dc(0,"div",9),o.hc(1,hi),o.cc())}function mi(t,e){if(1&t){const t=o.ec();o.dc(0,"div",10),o.dc(1,"my-video-miniature",11),o.sc("videoRemoved",(function(){o.Sc(t);const n=e.$implicit;return o.wc().removeVideoFromArray(n)}))("videoBlocked",(function(){o.Sc(t);const n=e.$implicit;return o.wc().removeVideoFromArray(n)})),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Jb(1),o.Dc("video",t)("displayAsRow",!0)}}di="\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34",ui="Video history",gi="" + "\ufffd#9\ufffd" + "" + "\ufffd/#9\ufffd" + " \u0E25\u0E1A\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34 ",hi="You don't have any video history yet.";let fi=(()=>{class t extends q.a{constructor(t,e,n,o,i,c,r,a,s,l,d){super(),this.i18n=t,this.router=e,this.serverService=n,this.route=o,this.authService=i,this.userService=c,this.notifier=r,this.screenService=a,this.storageService=s,this.confirmService=l,this.userHistoryService=d,this.pagination={currentPage:1,itemsPerPage:5,totalItems:null},this.titlePage=this.i18n("My videos history")}ngOnInit(){super.ngOnInit(),this.videosHistoryEnabled=this.authService.getUser().videosHistoryEnabled}ngOnDestroy(){super.ngOnDestroy()}getVideosObservable(t){const e=Object(He.h)(this.pagination,{currentPage:t});return this.userHistoryService.getUserVideosHistory(e)}generateSyndicationList(){throw new Error("Method not implemented.")}onVideosHistoryChange(){this.userService.updateMyProfile({videosHistoryEnabled:this.videosHistoryEnabled}).subscribe(()=>{const t=this.i18n(!0===this.videosHistoryEnabled?"Videos history is enabled":"Videos history is disabled");this.notifier.success(t),this.authService.refreshUserInformation()},t=>this.notifier.error(t.message))}deleteHistory(){return Object(ge.a)(this,void 0,void 0,(function*(){const t=this.i18n("Delete videos history"),e=this.i18n("Are you sure you want to delete all your videos history?");!0===(yield this.confirmService.confirm(e,t))&&this.userHistoryService.deleteUserVideosHistory().subscribe(()=>{this.notifier.success(this.i18n("Videos history deleted")),this.reloadVideos()},t=>this.notifier.error(t.message))}))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(nt.a),o.Xb(K.h),o.Xb(tt.s),o.Xb(K.a),o.Xb(tt.a),o.Xb(tt.z),o.Xb(tt.k),o.Xb(tt.q),o.Xb(tt.g),o.Xb(tt.d),o.Xb(B.h))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-history"]],features:[o.Gb],decls:13,vars:5,consts:[[1,"sr-only"],[1,"top-buttons"],[1,"history-switch"],[3,"ngModel","ngModelChange"],[1,"delete-history",3,"click"],["iconName","delete","aria-hidden","true"],["class","no-history",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"autoInit","dataObservable","nearOfBottom"],["class","video",4,"ngFor","ngForOf"],[1,"no-history"],[1,"video"],[3,"video","displayAsRow","videoRemoved","videoBlocked"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,di),o.cc(),o.dc(2,"div",1),o.dc(3,"div",2),o.dc(4,"p-inputSwitch",3),o.sc("ngModelChange",(function(t){return e.videosHistoryEnabled=t}))("ngModelChange",(function(){return e.onVideosHistoryChange()})),o.cc(),o.dc(5,"label"),o.hc(6,ui),o.cc(),o.cc(),o.dc(7,"button",4),o.sc("click",(function(){return e.deleteHistory()})),o.nc(8,gi),o.Yb(9,"my-global-icon",5),o.kc(),o.cc(),o.cc(),o.bd(10,bi,2,0,"div",6),o.dc(11,"div",7),o.sc("nearOfBottom",(function(){return e.onNearOfBottom()})),o.bd(12,mi,2,2,"div",8),o.cc()),2&t&&(o.Jb(4),o.Dc("ngModel",e.videosHistoryEnabled),o.Jb(6),o.Dc("ngIf",0===e.pagination.totalItems),o.Jb(1),o.Dc("autoInit",!0)("dataObservable",e.onDataSubject.asObservable()),o.Jb(1),o.Dc("ngForOf",e.videos))},directives:[j.a,u.t,u.w,Ye.a,i.u,$n.a,i.t,pi.a],styles:['.no-history[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px;font-weight:600;font-size:16px}.top-buttons[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center;flex-wrap:wrap}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]{display:flex;flex-grow:1}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 0 5px}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]{border:none;font-weight:600;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor);font-size:15px}.top-buttons[_ngcontent-%COMP%]   .delete-history.focus-visible[_ngcontent-%COMP%], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.top-buttons[_ngcontent-%COMP%]   .delete-history.disabled[_ngcontent-%COMP%], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]:active, .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]:focus, .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]:hover, .top-buttons[_ngcontent-%COMP%]   .delete-history[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.top-buttons[_ngcontent-%COMP%]   .delete-history.disabled[_ngcontent-%COMP%], .top-buttons[_ngcontent-%COMP%]   .delete-history[disabled][_ngcontent-%COMP%]{cursor:default}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:3px;top:-1px}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video[_ngcontent-%COMP%]   .my-video-miniature[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:500px){.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%], .top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:60%}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]{margin-left:auto;max-width:32%}}']}),t})();var vi=n("AlII");const _i=["userNotification"];var Pi,Ci,yi,Oi;function Mi(t,e){1&t&&(o.bc(0),o.Yb(1,"my-global-icon",7),o.dc(2,"span"),o.hc(3,yi),o.cc(),o.ac())}function wi(t,e){1&t&&(o.bc(0),o.Yb(1,"my-global-icon",8),o.dc(2,"span"),o.hc(3,Oi),o.cc(),o.ac())}Pi="\u0E01\u0E32\u0E23\u0E41\u0E08\u0E49\u0E07\u0E40\u0E15\u0E37\u0E2D\u0E19",Ci="" + "\ufffd#5\ufffd" + "" + "\ufffd/#5\ufffd" + " \u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E01\u0E32\u0E23\u0E41\u0E08\u0E49\u0E07\u0E40\u0E15\u0E37\u0E2D\u0E19 ",yi="\u0E23\u0E30\u0E1A\u0E38\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14\u0E27\u0E48\u0E32\u0E2D\u0E48\u0E32\u0E19\u0E41\u0E25\u0E49\u0E27",Oi="\u0E2D\u0E48\u0E32\u0E19\u0E2B\u0E21\u0E14\u0E41\u0E25\u0E49\u0E27";let xi=(()=>{class t{markAllAsRead(){this.userNotification.markAllAsRead()}hasUnreadNotifications(){return 0!==this.userNotification.notifications.filter(t=>!1===t.read).length}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&o.Yc(_i,!0),2&t&&o.Pc(n=o.tc())&&(e.userNotification=n.first)},decls:11,vars:3,consts:[[1,"sr-only"],[1,"header"],["routerLink","/my-account/settings","fragment","notifications"],["iconName","cog","aria-hidden","true"],[1,"btn",3,"disabled","click"],[4,"ngIf"],["userNotification",""],["iconName","inbox-full","aria-hidden","true"],["iconName","circle-tick","aria-hidden","true"]],template:function(t,e){1&t&&(o.dc(0,"h1",0),o.hc(1,Pi),o.cc(),o.dc(2,"div",1),o.dc(3,"a",2),o.nc(4,Ci),o.Yb(5,"my-global-icon",3),o.kc(),o.cc(),o.dc(6,"button",4),o.sc("click",(function(){return e.markAllAsRead()})),o.bd(7,Mi,4,0,"ng-container",5),o.bd(8,wi,4,0,"ng-container",5),o.cc(),o.cc(),o.Yb(9,"my-user-notifications",null,6)),2&t&&(o.Jb(6),o.Dc("disabled",!e.hasUnreadNotifications()),o.Jb(1),o.Dc("ngIf",e.hasUnreadNotifications()),o.Jb(1),o.Dc("ngIf",!e.hasUnreadNotifications()))},directives:[K.k,Ye.a,i.u,vi.a],styles:['.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:15px;margin-bottom:20px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.header[_ngcontent-%COMP%]   a.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:18px;margin-right:3px;top:-1px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:3px;top:-1px}my-user-notifications[_ngcontent-%COMP%]{font-size:15px}@media screen and (max-width:500px){.header[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:15px}}']}),t})();var ki,Si=n("5+tZ"),Di=n("SZgj"),Ii=n("dTdE");ki="Playlists " + "\ufffd#3\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#3\ufffd" + "";const Ei=["placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E40\u0E1E\u0E25\u0E22\u0E4C\u0E25\u0E34\u0E2A\u0E15\u0E4C\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13"];var Ti;Ti="Create playlist";const Ri=function(t){return["update",t]};function Li(t,e){if(1&t){const t=o.ec();o.dc(0,"div",11),o.dc(1,"my-delete-button",12),o.sc("click",(function(){o.Sc(t);const e=o.wc().$implicit;return o.wc().deleteVideoPlaylist(e)})),o.cc(),o.Yb(2,"my-edit-button",13),o.cc()}if(2&t){const t=o.wc().$implicit;o.Jb(2),o.Dc("routerLink",o.Hc(1,Ri,t.uuid))}}function zi(t,e){if(1&t&&(o.dc(0,"div",7),o.dc(1,"div",8),o.Yb(2,"my-video-playlist-miniature",9),o.cc(),o.bd(3,Li,3,3,"div",10),o.cc()),2&t){const t=e.$implicit,n=o.wc();o.Jb(2),o.Dc("playlist",t)("toManage",!0)("displayChannel",!0)("displayDescription",!0)("displayPrivacy",!0),o.Jb(1),o.Dc("ngIf",n.isRegularPlaylist(t))}}let Ai=(()=>{class t{constructor(t,e,n,o,i){this.authService=t,this.notifier=e,this.confirmService=n,this.videoPlaylistService=o,this.i18n=i,this.videoPlaylists=[],this.videoPlaylistSearchChanged=new $e.a,this.pagination={currentPage:1,itemsPerPage:5,totalItems:null},this.onDataSubject=new $e.a}ngOnInit(){this.user=this.authService.getUser(),this.loadVideoPlaylists(),this.videoPlaylistSearchChanged.pipe(Object(Ue.a)(500)).subscribe(()=>{this.loadVideoPlaylists(!0)})}deleteVideoPlaylist(t){return Object(ge.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm(this.i18n("Do you really want to delete {{playlistDisplayName}}?",{playlistDisplayName:t.displayName}),this.i18n("Delete")))&&this.videoPlaylistService.removeVideoPlaylist(t).subscribe(()=>{this.videoPlaylists=this.videoPlaylists.filter(e=>e.id!==t.id),this.notifier.success(this.i18n("Playlist {{playlistDisplayName}} deleted.",{playlistDisplayName:t.displayName}))},t=>this.notifier.error(t.message))}))}isRegularPlaylist(t){return t.type.id===$t.o.REGULAR}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadVideoPlaylists())}onVideoPlaylistSearchChanged(){this.videoPlaylistSearchChanged.next()}loadVideoPlaylists(t=!1){this.authService.userInformationLoaded.pipe(Object(Si.a)(()=>this.videoPlaylistService.listAccountPlaylists(this.user.account,this.pagination,"-updatedAt",this.videoPlaylistsSearch))).subscribe(e=>{t&&(this.videoPlaylists=[]),this.videoPlaylists=this.videoPlaylists.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.a),o.Xb(tt.k),o.Xb(tt.d),o.Xb(Di.b),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-video-playlists"]],decls:12,vars:5,consts:[[1,"video-playlists-header"],[1,"badge","badge-secondary"],["type","text",3,"ngModel","ngModelChange",6,"placeholder"],["routerLink","create",1,"create-button"],["iconName","add","aria-hidden","true"],["myInfiniteScroller","",1,"video-playlists",3,"autoInit","dataObservable","nearOfBottom"],["class","video-playlist",4,"ngFor","ngForOf"],[1,"video-playlist"],[1,"miniature-wrapper"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy"],["class","video-playlist-buttons",4,"ngIf"],[1,"video-playlist-buttons"],[3,"click"],[3,"routerLink"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"h1"),o.nc(2,ki),o.Yb(3,"span",1),o.kc(),o.cc(),o.dc(4,"input",2),o.jc(5,Ei),o.sc("ngModelChange",(function(t){return e.videoPlaylistsSearch=t}))("ngModelChange",(function(){return e.onVideoPlaylistSearchChanged()})),o.cc(),o.dc(6,"a",3),o.Yb(7,"my-global-icon",4),o.bc(8),o.hc(9,Ti),o.ac(),o.cc(),o.cc(),o.dc(10,"div",5),o.sc("nearOfBottom",(function(){return e.onNearOfBottom()})),o.bd(11,zi,4,6,"div",6),o.cc()),2&t&&(o.Jb(3),o.lc(e.pagination.totalItems),o.ic(2),o.Jb(1),o.Dc("ngModel",e.videoPlaylistsSearch),o.Jb(6),o.Dc("autoInit",!0)("dataObservable",e.onDataSubject.asObservable()),o.Jb(1),o.Dc("ngForOf",e.videoPlaylists))},directives:[u.d,u.t,u.w,K.k,Ye.a,$n.a,i.t,Ii.a,i.u,on.a,cn.a,K.i],styles:['.create-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.create-button[_ngcontent-%COMP%]:active, .create-button[_ngcontent-%COMP%]:focus, .create-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.create-button.focus-visible[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-button[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]:active, .create-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-button.disabled[_ngcontent-%COMP%], .create-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}  .action-button.action-button-delete{margin-right:10px}.video-playlist[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #c6c6c6}@media screen and (max-width:800px){.video-playlist[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video-playlist[_ngcontent-%COMP%]   .miniature-wrapper[_ngcontent-%COMP%]{flex-grow:1}.video-playlist[_ngcontent-%COMP%]   .miniature-wrapper[_ngcontent-%COMP%]     .miniature{display:flex}.video-playlist[_ngcontent-%COMP%]   .miniature-wrapper[_ngcontent-%COMP%]     .miniature .miniature-info{margin-left:10px;width:auto}.video-playlist[_ngcontent-%COMP%]   .video-playlist-buttons[_ngcontent-%COMP%]{min-width:190px;height:-webkit-max-content;height:-moz-max-content;height:max-content}.video-playlists-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 50px}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:300px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:300px){.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.video-playlists-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}@media screen and (max-width:800px){.video-playlists-header[_ngcontent-%COMP%]{text-align:center}.video-playlist[_ngcontent-%COMP%]   .video-playlist-buttons[_ngcontent-%COMP%]{margin-top:10px}my-video-playlist-miniature[_ngcontent-%COMP%]     .miniature{flex-direction:column}my-video-playlist-miniature[_ngcontent-%COMP%]     .miniature .miniature-info{margin-left:0!important}my-video-playlist-miniature[_ngcontent-%COMP%]     .miniature .miniature-name{max-width:223px}}@media only screen and (min-width:500px) and (max-width:800px){.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:42%!important}}@media screen and (max-width:500px){.video-playlists-header[_ngcontent-%COMP%]{flex-direction:column}.video-playlists-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%!important;margin-bottom:12px}}']}),t})();var Ni;function Ji(t,e){1&t&&(o.dc(0,"tr"),o.dc(1,"th"),o.dd(2,"Bill Id"),o.cc(),o.dc(3,"th"),o.dd(4,"Plan Name"),o.cc(),o.dc(5,"th"),o.dd(6,"Beginning day"),o.cc(),o.dc(7,"th"),o.dd(8,"Expiration date"),o.cc(),o.dc(9,"th"),o.dd(10,"Price (Tube's)"),o.cc(),o.dc(11,"th"),o.dd(12,"Daily Quota"),o.cc(),o.dc(13,"th"),o.dd(14,"Total Quota"),o.cc(),o.dc(15,"th"),o.dd(16,"LifeSpan"),o.cc(),o.dc(17,"th"),o.dd(18,"Active"),o.cc(),o.cc())}function Fi(t,e){if(1&t&&(o.dc(0,"tr"),o.dc(1,"th"),o.dd(2),o.cc(),o.dc(3,"th"),o.dd(4),o.cc(),o.dc(5,"th"),o.dd(6),o.cc(),o.dc(7,"th"),o.dd(8),o.cc(),o.dc(9,"th"),o.dd(10),o.cc(),o.dc(11,"th"),o.dd(12),o.cc(),o.dc(13,"th"),o.dd(14),o.cc(),o.dc(15,"th"),o.dd(16),o.cc(),o.dc(17,"th"),o.dd(18),o.cc(),o.cc()),2&t){const t=e.$implicit,n=o.wc();o.Jb(2),o.ed(t.id),o.Jb(2),o.ed(t.premiumStoragePlan.name),o.Jb(2),o.ed(n.getFormattedDate(t.dateFrom)),o.Jb(2),o.ed(n.getFormattedDate(t.dateTo)),o.Jb(2),o.ed(t.priceTube),o.Jb(2),o.ed(n.getHRBytes(t.dailyQuota)),o.Jb(2),o.ed(n.getHRBytes(t.quota)),o.Jb(2),o.ed(n.getHRTime(t.duration)),o.Jb(2),o.ed(t.active)}}Ni="Storage Billing Information";let Vi=(()=>{class t{constructor(t,e,n){this.authHttp=t,this.restExtractor=e,this.i18n=n,this.billingInformation=[],this.totalRecords=0,this.rowsPerPage=20,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.bytesPipe=new et.a}ngOnInit(){this.startSubscriptions()}startSubscriptions(){Object(ft.a)([this.getUserBilling()]).subscribe(([t])=>{console.log("ICEICE bills",t),t.success&&(this.billingInformation=t.billing)})}getUserBilling(){return this.authHttp.get(t.GET_PREMIUM_STORAGE_API_URL+"/billing-info").pipe(Object(_t.a)(t=>this.restExtractor.handleError(t)))}getFormattedDate(t){return new Date(t).toLocaleDateString()}getHRBytes(t){return this.bytesPipe.transform(parseInt(t,10),0)}getHRTime(t){return t/26784e5+" month/s"}}return t.GET_PREMIUM_STORAGE_API_URL=mt.a.apiUrl+"/api/v1/premium-storage/",t.\u0275fac=function(e){return new(e||t)(o.Xb(Pt.b),o.Xb(tt.n),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-storage-billing"]],decls:6,vars:1,consts:[[1,"admin-sub-header"],[1,"form-sub-title"],[3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"div",1),o.hc(2,Ni),o.cc(),o.cc(),o.dc(3,"p-table",2),o.bd(4,Ji,19,0,"ng-template",3),o.bd(5,Fi,19,9,"ng-template",4),o.cc()),2&t&&(o.Jb(3),o.Dc("value",e.billingInformation))},directives:[U.q,s.d],styles:['.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),t})();var $i=n("Dhlh");class ji extends X.c{constructor(){super(...arguments),this.userVideoChannels=[],this.videoPlaylistPrivacies=[]}}var Ui,Xi,Hi,Bi,Yi,Gi,Qi,qi=n("Jvqr");Ui="My Playlists",Xi="\u0E0A\u0E37\u0E48\u0E2D\u0E17\u0E35\u0E48\u0E41\u0E2A\u0E14\u0E07",Hi="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",Bi="\u0E04\u0E27\u0E32\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E48\u0E27\u0E19\u0E15\u0E31\u0E27",Yi="\u0E0A\u0E48\u0E2D\u0E07",Gi="Channel to bind the playlist to",Qi="\u0E20\u0E32\u0E1E\u0E02\u0E19\u0E32\u0E14\u0E22\u0E48\u0E2D\u0E02\u0E2D\u0E07\u0E40\u0E1E\u0E25\u0E22\u0E4C\u0E25\u0E34\u0E2A\u0E15\u0E4C";const Wi=["inputLabel","\u0E41\u0E01\u0E49\u0E44\u0E02"];var Ki,Zi;function tc(t,e){1&t&&(o.bc(0),o.dc(1,"li",28),o.hc(2,Ki),o.cc(),o.ac())}Ki="\u0E2A\u0E23\u0E49\u0E32\u0E07",Zi="\u0E41\u0E01\u0E49\u0E44\u0E02";const ec=function(t){return["/my-account/video-playlists/update",t]};function nc(t,e){if(1&t&&(o.dc(0,"a",31),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Dc("routerLink",o.Hc(2,ec,null==t.videoPlaylistToUpdate?null:t.videoPlaylistToUpdate.uuid)),o.Jb(1),o.ed(null==t.videoPlaylistToUpdate?null:t.videoPlaylistToUpdate.displayName)}}function oc(t,e){if(1&t&&(o.bc(0),o.dc(1,"li",28),o.hc(2,Zi),o.cc(),o.dc(3,"li",29),o.bd(4,nc,2,4,"a",30),o.cc(),o.ac()),2&t){const t=o.wc();o.Jb(4),o.Dc("ngIf",t.videoPlaylistToUpdate)}}function ic(t,e){if(1&t&&(o.dc(0,"div",32),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.error)}}var cc,rc;function ac(t,e){1&t&&(o.dc(0,"div",33),o.hc(1,cc),o.cc())}function sc(t,e){1&t&&(o.dc(0,"div",33),o.hc(1,rc),o.cc())}function lc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.displayName," ")}}function dc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.description," ")}}function uc(t,e){if(1&t&&(o.dc(0,"option",35),o.dd(1),o.cc()),2&t){const t=e.$implicit;o.Dc("value",t.id),o.Jb(1),o.ed(t.label)}}function gc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.privacy," ")}}function hc(t,e){if(1&t&&(o.dc(0,"option",35),o.dd(1),o.cc()),2&t){const t=e.$implicit;o.Dc("value",t.id),o.Jb(1),o.ed(t.label)}}function pc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.videoChannelId," ")}}cc="NEW PLAYLIST",rc="PLAYLIST";const bc=function(t){return{"input-error":t}};let mc=(()=>{class t extends ji{constructor(t,e,n,o,i,c,r,a){super(),this.formValidatorService=t,this.authService=e,this.videoPlaylistValidatorsService=n,this.notifier=o,this.router=i,this.videoPlaylistService=c,this.serverService=r,this.i18n=a}ngOnInit(){this.buildForm({displayName:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_DISPLAY_NAME,privacy:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_PRIVACY,description:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_DESCRIPTION,videoChannelId:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_CHANNEL_ID,thumbnailfile:null}),this.form.get("privacy").valueChanges.subscribe(t=>{this.videoPlaylistValidatorsService.setChannelValidator(this.form.get("videoChannelId"),t)}),Object(He.r)(this.authService,this.userVideoChannels).catch(t=>console.error("Cannot populate user video channels.",t)),this.serverService.getVideoPlaylistPrivacies().subscribe(t=>{this.videoPlaylistPrivacies=t,this.form.patchValue({privacy:$i.a.PRIVATE})})}formValidated(){this.error=void 0;const t=this.form.value,e={displayName:t.displayName,privacy:t.privacy,description:t.description||null,videoChannelId:t.videoChannelId||null,thumbnailfile:t.thumbnailfile||null};this.videoPlaylistService.createVideoPlaylist(e).subscribe(()=>{this.notifier.success(this.i18n("Playlist {{playlistName}} created.",{playlistName:e.displayName})),this.router.navigate(["/my-account","video-playlists"])},t=>this.error=t.message)}isCreation(){return!0}getFormButtonTitle(){return this.i18n("Create")}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(tt.a),o.Xb(X.q),o.Xb(tt.k),o.Xb(K.h),o.Xb(Di.b),o.Xb(tt.s),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-video-playlist-create"]],features:[o.Gb],decls:52,vars:20,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-account/video-playlists"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-playlist-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"col-md-12","col-xl-6"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","privacy"],[1,"peertube-select-container"],["id","privacy","formControlName","privacy",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","videoChannelId",1,"form-control"],["value","undefined","disabled",""],["inputName","thumbnailfile","formControlName","thumbnailfile","previewWidth","223px","previewHeight","122px",6,"inputLabel"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-playlist-title"],[1,"form-error"],[3,"value"]],template:function(t,e){1&t&&(o.dc(0,"nav",0),o.dc(1,"ol",1),o.dc(2,"li",2),o.dc(3,"a",3),o.hc(4,Ui),o.cc(),o.cc(),o.bd(5,tc,3,0,"ng-container",4),o.bd(6,oc,5,1,"ng-container",4),o.cc(),o.cc(),o.bd(7,ic,2,1,"div",5),o.dc(8,"form",6),o.sc("ngSubmit",(function(){return e.formValidated()})),o.dc(9,"div",7),o.dc(10,"div",8),o.bd(11,ac,2,0,"div",9),o.bd(12,sc,2,0,"div",9),o.cc(),o.dc(13,"div",10),o.dc(14,"div",11),o.dc(15,"div",12),o.dc(16,"label",13),o.hc(17,Xi),o.cc(),o.Yb(18,"input",14),o.bd(19,lc,2,1,"div",15),o.cc(),o.dc(20,"div",12),o.dc(21,"label",16),o.hc(22,Hi),o.cc(),o.Yb(23,"textarea",17),o.bd(24,dc,2,1,"div",15),o.cc(),o.cc(),o.dc(25,"div",11),o.dc(26,"div",12),o.dc(27,"label",18),o.hc(28,Bi),o.cc(),o.dc(29,"div",19),o.dc(30,"select",20),o.bd(31,uc,2,2,"option",21),o.cc(),o.cc(),o.bd(32,gc,2,1,"div",15),o.cc(),o.dc(33,"div",12),o.dc(34,"label"),o.hc(35,Yi),o.cc(),o.dc(36,"div",19),o.dc(37,"select",22),o.dc(38,"option",23),o.hc(39,Gi),o.cc(),o.Yb(40,"option"),o.bd(41,hc,2,2,"option",21),o.cc(),o.cc(),o.bd(42,pc,2,1,"div",15),o.cc(),o.dc(43,"div",12),o.dc(44,"label"),o.hc(45,Qi),o.cc(),o.dc(46,"my-preview-upload",24),o.jc(47,Wi),o.cc(),o.cc(),o.cc(),o.dc(48,"div",7),o.Yb(49,"div",25),o.dc(50,"div",26),o.Yb(51,"input",27),o.cc(),o.cc(),o.cc(),o.cc(),o.cc()),2&t&&(o.Jb(5),o.Dc("ngIf",e.isCreation()),o.Jb(1),o.Dc("ngIf",!e.isCreation()),o.Jb(1),o.Dc("ngIf",e.error),o.Jb(1),o.Dc("formGroup",e.form),o.Jb(3),o.Dc("ngIf",e.isCreation()),o.Jb(1),o.Dc("ngIf",!e.isCreation()&&e.videoPlaylistToUpdate),o.Jb(6),o.Dc("ngClass",o.Hc(16,bc,e.formErrors.displayName)),o.Jb(1),o.Dc("ngIf",e.formErrors.displayName),o.Jb(4),o.Dc("ngClass",o.Hc(18,bc,e.formErrors.description)),o.Jb(1),o.Dc("ngIf",e.formErrors.description),o.Jb(7),o.Dc("ngForOf",e.videoPlaylistPrivacies),o.Jb(1),o.Dc("ngIf",e.formErrors.privacy),o.Jb(9),o.Dc("ngForOf",e.userVideoChannels),o.Jb(1),o.Dc("ngIf",e.formErrors.videoChannelId),o.Jb(9),o.Ec("value",e.getFormButtonTitle()),o.Dc("disabled",!e.form.valid))},directives:[K.k,i.u,u.J,u.u,u.m,u.d,u.t,u.k,i.r,u.F,i.t,u.y,u.I,qi.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-playlist-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}']}),t})();var fc,vc,_c,Pc,Cc,yc,Oc,Mc=n("lJxs"),wc=n("eIep");fc="My Playlists",vc="\u0E0A\u0E37\u0E48\u0E2D\u0E17\u0E35\u0E48\u0E41\u0E2A\u0E14\u0E07",_c="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",Pc="\u0E04\u0E27\u0E32\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E48\u0E27\u0E19\u0E15\u0E31\u0E27",Cc="\u0E0A\u0E48\u0E2D\u0E07",yc="Channel to bind the playlist to",Oc="\u0E20\u0E32\u0E1E\u0E02\u0E19\u0E32\u0E14\u0E22\u0E48\u0E2D\u0E02\u0E2D\u0E07\u0E40\u0E1E\u0E25\u0E22\u0E4C\u0E25\u0E34\u0E2A\u0E15\u0E4C";const xc=["inputLabel","\u0E41\u0E01\u0E49\u0E44\u0E02"];var kc,Sc;function Dc(t,e){1&t&&(o.bc(0),o.dc(1,"li",28),o.hc(2,kc),o.cc(),o.ac())}kc="\u0E2A\u0E23\u0E49\u0E32\u0E07",Sc="\u0E41\u0E01\u0E49\u0E44\u0E02";const Ic=function(t){return["/my-account/video-playlists/update",t]};function Ec(t,e){if(1&t&&(o.dc(0,"a",31),o.dd(1),o.cc()),2&t){const t=o.wc(2);o.Dc("routerLink",o.Hc(2,Ic,null==t.videoPlaylistToUpdate?null:t.videoPlaylistToUpdate.uuid)),o.Jb(1),o.ed(null==t.videoPlaylistToUpdate?null:t.videoPlaylistToUpdate.displayName)}}function Tc(t,e){if(1&t&&(o.bc(0),o.dc(1,"li",28),o.hc(2,Sc),o.cc(),o.dc(3,"li",29),o.bd(4,Ec,2,4,"a",30),o.cc(),o.ac()),2&t){const t=o.wc();o.Jb(4),o.Dc("ngIf",t.videoPlaylistToUpdate)}}function Rc(t,e){if(1&t&&(o.dc(0,"div",32),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.ed(t.error)}}var Lc,zc;function Ac(t,e){1&t&&(o.dc(0,"div",33),o.hc(1,Lc),o.cc())}function Nc(t,e){1&t&&(o.dc(0,"div",33),o.hc(1,zc),o.cc())}function Jc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.displayName," ")}}function Fc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.description," ")}}function Vc(t,e){if(1&t&&(o.dc(0,"option",35),o.dd(1),o.cc()),2&t){const t=e.$implicit;o.Dc("value",t.id),o.Jb(1),o.ed(t.label)}}function $c(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.privacy," ")}}function jc(t,e){if(1&t&&(o.dc(0,"option",35),o.dd(1),o.cc()),2&t){const t=e.$implicit;o.Dc("value",t.id),o.Jb(1),o.ed(t.label)}}function Uc(t,e){if(1&t&&(o.dc(0,"div",34),o.dd(1),o.cc()),2&t){const t=o.wc();o.Jb(1),o.fd(" ",t.formErrors.videoChannelId," ")}}Lc="NEW PLAYLIST",zc="PLAYLIST";const Xc=function(t){return{"input-error":t}};let Hc=(()=>{class t extends ji{constructor(t,e,n,o,i,c,r,a,s){super(),this.formValidatorService=t,this.authService=e,this.videoPlaylistValidatorsService=n,this.notifier=o,this.router=i,this.route=c,this.videoPlaylistService=r,this.i18n=a,this.serverService=s}ngOnInit(){this.buildForm({displayName:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_DISPLAY_NAME,privacy:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_PRIVACY,description:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_DESCRIPTION,videoChannelId:this.videoPlaylistValidatorsService.VIDEO_PLAYLIST_CHANNEL_ID,thumbnailfile:null}),this.form.get("privacy").valueChanges.subscribe(t=>{this.videoPlaylistValidatorsService.setChannelValidator(this.form.get("videoChannelId"),t)}),Object(He.r)(this.authService,this.userVideoChannels).catch(t=>console.error("Cannot populate user video channels.",t)),this.paramsSub=this.route.params.pipe(Object(Mc.a)(t=>t.videoPlaylistId),Object(wc.a)(t=>Object(ft.a)([this.videoPlaylistService.getVideoPlaylist(t),this.serverService.getVideoPlaylistPrivacies()]))).subscribe(([t,e])=>{this.videoPlaylistToUpdate=t,this.videoPlaylistPrivacies=e,this.hydrateFormFromPlaylist()},t=>this.error=t.message)}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const t=this.form.value,e={displayName:t.displayName,privacy:t.privacy,description:t.description||null,videoChannelId:t.videoChannelId||null,thumbnailfile:t.thumbnailfile||void 0};this.videoPlaylistService.updateVideoPlaylist(this.videoPlaylistToUpdate,e).subscribe(()=>{this.notifier.success(this.i18n("Playlist {{videoPlaylistName}} updated.",{videoPlaylistName:e.displayName})),this.router.navigate(["/my-account","video-playlists"])},t=>this.error=t.message)}isCreation(){return!1}getFormButtonTitle(){return this.i18n("Update")}hydrateFormFromPlaylist(){this.form.patchValue({displayName:this.videoPlaylistToUpdate.displayName,privacy:this.videoPlaylistToUpdate.privacy.id,description:this.videoPlaylistToUpdate.description,videoChannelId:this.videoPlaylistToUpdate.videoChannel?this.videoPlaylistToUpdate.videoChannel.id:null}),fetch(this.videoPlaylistToUpdate.thumbnailUrl).then(t=>t.blob()).then(t=>{this.form.patchValue({thumbnailfile:t})})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(X.d),o.Xb(tt.a),o.Xb(X.q),o.Xb(tt.k),o.Xb(K.h),o.Xb(K.a),o.Xb(Di.b),o.Xb(nt.a),o.Xb(tt.s))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-video-playlist-update"]],features:[o.Gb],decls:52,vars:20,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-account/video-playlists"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-playlist-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"col-md-12","col-xl-6"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","privacy"],[1,"peertube-select-container"],["id","privacy","formControlName","privacy",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","videoChannelId",1,"form-control"],["value","undefined","disabled",""],["inputName","thumbnailfile","formControlName","thumbnailfile","previewWidth","223px","previewHeight","122px",6,"inputLabel"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-playlist-title"],[1,"form-error"],[3,"value"]],template:function(t,e){1&t&&(o.dc(0,"nav",0),o.dc(1,"ol",1),o.dc(2,"li",2),o.dc(3,"a",3),o.hc(4,fc),o.cc(),o.cc(),o.bd(5,Dc,3,0,"ng-container",4),o.bd(6,Tc,5,1,"ng-container",4),o.cc(),o.cc(),o.bd(7,Rc,2,1,"div",5),o.dc(8,"form",6),o.sc("ngSubmit",(function(){return e.formValidated()})),o.dc(9,"div",7),o.dc(10,"div",8),o.bd(11,Ac,2,0,"div",9),o.bd(12,Nc,2,0,"div",9),o.cc(),o.dc(13,"div",10),o.dc(14,"div",11),o.dc(15,"div",12),o.dc(16,"label",13),o.hc(17,vc),o.cc(),o.Yb(18,"input",14),o.bd(19,Jc,2,1,"div",15),o.cc(),o.dc(20,"div",12),o.dc(21,"label",16),o.hc(22,_c),o.cc(),o.Yb(23,"textarea",17),o.bd(24,Fc,2,1,"div",15),o.cc(),o.cc(),o.dc(25,"div",11),o.dc(26,"div",12),o.dc(27,"label",18),o.hc(28,Pc),o.cc(),o.dc(29,"div",19),o.dc(30,"select",20),o.bd(31,Vc,2,2,"option",21),o.cc(),o.cc(),o.bd(32,$c,2,1,"div",15),o.cc(),o.dc(33,"div",12),o.dc(34,"label"),o.hc(35,Cc),o.cc(),o.dc(36,"div",19),o.dc(37,"select",22),o.dc(38,"option",23),o.hc(39,yc),o.cc(),o.Yb(40,"option"),o.bd(41,jc,2,2,"option",21),o.cc(),o.cc(),o.bd(42,Uc,2,1,"div",15),o.cc(),o.dc(43,"div",12),o.dc(44,"label"),o.hc(45,Oc),o.cc(),o.dc(46,"my-preview-upload",24),o.jc(47,xc),o.cc(),o.cc(),o.cc(),o.dc(48,"div",7),o.Yb(49,"div",25),o.dc(50,"div",26),o.Yb(51,"input",27),o.cc(),o.cc(),o.cc(),o.cc(),o.cc()),2&t&&(o.Jb(5),o.Dc("ngIf",e.isCreation()),o.Jb(1),o.Dc("ngIf",!e.isCreation()),o.Jb(1),o.Dc("ngIf",e.error),o.Jb(1),o.Dc("formGroup",e.form),o.Jb(3),o.Dc("ngIf",e.isCreation()),o.Jb(1),o.Dc("ngIf",!e.isCreation()&&e.videoPlaylistToUpdate),o.Jb(6),o.Dc("ngClass",o.Hc(16,Xc,e.formErrors.displayName)),o.Jb(1),o.Dc("ngIf",e.formErrors.displayName),o.Jb(4),o.Dc("ngClass",o.Hc(18,Xc,e.formErrors.description)),o.Jb(1),o.Dc("ngIf",e.formErrors.description),o.Jb(7),o.Dc("ngForOf",e.videoPlaylistPrivacies),o.Jb(1),o.Dc("ngIf",e.formErrors.privacy),o.Jb(9),o.Dc("ngForOf",e.userVideoChannels),o.Jb(1),o.Dc("ngIf",e.formErrors.videoChannelId),o.Jb(9),o.Ec("value",e.getFormButtonTitle()),o.Dc("disabled",!e.form.valid))},directives:[K.k,i.u,u.J,u.u,u.m,u.d,u.t,u.k,i.r,u.F,i.t,u.y,u.I,qi.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-playlist-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:15px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;width:calc(100% + 2px);position:relative;left:1px;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}']}),t})();var Bc=n("vxfF"),Yc=n("nLfN"),Gc=n("8LU1"),Qc=n("quSY"),qc=n("HDdC"),Wc=n("D0XW"),Kc=n("Y7HM");function Zc(t){const{subscriber:e,counter:n,period:o}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:o},o)}var tr=n("eNwd"),er=n("VRyK"),nr=n("1G5W"),or=n("IzEk"),ir=n("JX91"),cr=n("cH1L");function rr(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ar(t,e){const n=e?"":"none";rr(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function sr(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function lr(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function dr(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ur(t,e,n){const{top:o,bottom:i,left:c,right:r}=t;return n>=o&&n<=i&&e>=c&&e<=r}function gr(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function hr(t,e,n,o){const{top:i,right:c,bottom:r,left:a,width:s,height:l}=t,d=s*e,u=l*e;return o>i-u&&o<r+u&&n>a-d&&n<c+d}class pr{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:dr(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const o=e===this._document?e.documentElement:e,i=n.scrollPosition;let c,r;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();c=t.top,r=t.left}else c=e.scrollTop,r=e.scrollLeft;const a=i.top-c,s=i.left-r;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&o.contains(n)&&gr(t.clientRect,a,s)}),i.top=c,i.left=r,{top:a,left:s}}}const br=Object(Yc.e)({passive:!0}),mr=Object(Yc.e)({passive:!1});class fr{constructor(t,e,n,o,i,c){this._config=e,this._document=n,this._ngZone=o,this._viewportRuler=i,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new $e.a,this._pointerMoveSubscription=Qc.a.EMPTY,this._pointerUpSubscription=Qc.a.EMPTY,this._scrollSubscription=Qc.a.EMPTY,this._resizeSubscription=Qc.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new $e.a,this.started=new $e.a,this.released=new $e.a,this.ended=new $e.a,this.entered=new $e.a,this.exited=new $e.a,this.dropped=new $e.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new pr(n,i),c.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(Gc.b)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(Gc.c)(t)),this._handles.forEach(t=>ar(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(Gc.c)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,mr),e.addEventListener("touchstart",this._pointerDown,br)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(Gc.c)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Cr(this._rootElement),Cr(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Cr(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Cr(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),yr(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,o=t.parentNode,i=this._preview=this._createPreviewElement(),c=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(r,t),t.style.display="none",this._document.body.appendChild(o.replaceChild(c,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),o=yr(e),i=!o&&0!==e.button,c=this._rootElement,r=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||r)return;this._handles.length&&(this._rootElementTapHighlight=c.style.webkitTapHighlightColor,c.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=dr(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const s=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:s.x,y:s.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),o=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),c=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:i}),e.drop(this,n,this._initialContainer,c,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=vr(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let o;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),o=Or(i,this._document),this._previewRef=i,t.matchSize?Mr(o,e):o.style.transform=vr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;o=_r(t),Mr(o,t.getBoundingClientRect())}return rr(o.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),ar(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>o.classList.add(t)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=vr(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=lr(e,"transition-property"),o=n.find(t=>"transform"===t||"all"===t);if(!o)return 0;const i=n.indexOf(o),c=lr(e,"transition-duration"),r=lr(e,"transition-delay");return sr(c[i])+sr(r[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(o))},o=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Or(this._placeholderRef,this._document)):n=_r(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),o=t===this._rootElement?null:t,i=o?o.getBoundingClientRect():n,c=yr(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:i.left-n.left+(c.pageX-i.left-r.left),y:i.top-n.top+(c.pageY-i.top-r.top)}}_getPointerPositionOnPage(t){const e=yr(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,o=this._boundaryRect,i=this._previewRect,c=o.top+n,r=o.bottom-(i.height-n);e.x=Pr(e.x,o.left+t,o.right-(i.width-t)),e.y=Pr(e.y,c,r)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,o=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,c=Math.abs(e-i.x),r=Math.abs(n-i.y);return c>this._config.pointerDirectionChangeThreshold&&(o.x=e>i.x?1:-1,i.x=e),r>this._config.pointerDirectionChangeThreshold&&(o.y=n>i.y?1:-1,i.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ar(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,mr),t.removeEventListener("touchstart",this._pointerDown,br)}_applyRootElementTransform(t,e){const n=vr(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===o.width&&0===o.height)return;const i=n.left-o.left,c=o.right-n.right,r=n.top-o.top,a=o.bottom-n.bottom;n.width>o.width?(i>0&&(t+=i),c>0&&(t-=c)):t=0,n.height>o.height?(r>0&&(e+=r),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:yr(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&gr(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function vr(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function _r(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),o=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(o.length){const t=e.querySelectorAll("canvas");for(let e=0;e<o.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(o[e],0,0)}}return e}function Pr(t,e,n){return Math.max(e,Math.min(n,t))}function Cr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function yr(t){return"t"===t.type[0]}function Or(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const o=e.createElement("div");return n.forEach(t=>o.appendChild(t)),o}function Mr(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=vr(e.left,e.top)}function wr(t,e){return Math.max(0,Math.min(e,t))}class xr{constructor(t,e,n,o,i){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new $e.a,this.entered=new $e.a,this.exited=new $e.a,this.dropped=new $e.a,this.sorted=new $e.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Qc.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new $e.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Wc.a){return(!Object(Kc.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Wc.a),new qc.a(n=>(n.add(e.schedule(Zc,t,{subscriber:n,counter:0,period:t})),n))}(0,tr.a).pipe(Object(nr.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Sr(t,-2):2===this._verticalScrollDirection&&Sr(t,2),1===this._horizontalScrollDirection?Dr(t,-2):2===this._horizontalScrollDirection&&Dr(t,2)})},this.element=Object(Gc.c)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new pr(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(Gc.c)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,o){let i;this.start(),null==o?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=o;const c=this._activeDraggables,r=c.indexOf(t),a=t.getPlaceholderElement();let s=c[i];if(s===t&&(s=c[i+1]),r>-1&&c.splice(r,1),s&&!this._dragDropRegistry.isDragging(s)){const e=s.getRootElement();e.parentElement.insertBefore(a,e),c.splice(i,0,t)}else{const o=Object(Gc.c)(this.element);this._shouldEnterAsFirstChild(e,n)?(o.insertBefore(a,c[0].getRootElement()),c.unshift(t)):(o.appendChild(a),c.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,o,i,c){this._reset(),null==c&&(c=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:c,container:this,previousContainer:n,isPointerOverContainer:o,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(Gc.c)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?kr("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,o){if(this.sortingDisabled||!hr(this._clientRect,.05,e,n))return;const i=this._itemPositions,c=this._getItemIndexFromPointerPosition(t,e,n,o);if(-1===c&&i.length>0)return;const r="horizontal"===this._orientation,a=kr(i,e=>e.drag===t),s=i[c],l=i[a].clientRect,d=s.clientRect,u=a>c?1:-1;this._previousSwap.drag=s.drag,this._previousSwap.delta=r?o.x:o.y;const g=this._getItemOffsetPx(l,d,u),h=this._getSiblingOffsetPx(a,i,u),p=i.slice();!function(t,e,n){const o=wr(e,t.length-1),i=wr(n,t.length-1);if(o===i)return;const c=t[o],r=i<o?-1:1;for(let a=o;a!==i;a+=r)t[a]=t[a+r];t[i]=c}(i,a,c),this.sorted.next({previousIndex:a,currentIndex:c,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const o=e.drag===t,i=o?g:h,c=o?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,r?(c.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,gr(e.clientRect,0,i)):(c.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,gr(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,o=0,i=0;if(this._parentPositions.positions.forEach((c,r)=>{r!==this._document&&c.clientRect&&!n&&hr(c.clientRect,.05,t,e)&&([o,i]=function(t,e,n,o){const i=Ir(e,o),c=Er(e,n);let r=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(c){const e=t.scrollLeft;1===c?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[r,a]}(r,c.clientRect,t,e),(o||i)&&(n=r))}),!o&&!i){const{width:c,height:r}=this._viewportRuler.getViewportSize(),a={width:c,height:r,top:0,right:c,bottom:r,left:0};o=Ir(a,e),i=Er(a,t),n=window}!n||o===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=o,this._horizontalScrollDirection=i,this._scrollNode=n,(o||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(Gc.c)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:dr(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(Gc.c)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const o="horizontal"===this._orientation,i=e[t].clientRect,c=e[t+-1*n];let r=i[o?"width":"height"]*n;if(c){const t=o?"left":"top",e=o?"right":"bottom";-1===n?r-=c.clientRect[t]-i[e]:r+=i[t]-c.clientRect[e]}return r}_getItemOffsetPx(t,e,n){const o="horizontal"===this._orientation;let i=o?e.left-t.left:e.top-t.top;return-1===n&&(i+=o?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,o="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return o?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return o?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,o){const i="horizontal"===this._orientation;return kr(this._itemPositions,({drag:c,clientRect:r},a,s)=>{if(c===t)return s.length<2;if(o){const t=i?o.x:o.y;if(c===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(r.left)&&e<Math.floor(r.right):n>=Math.floor(r.top)&&n<Math.floor(r.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return ur(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(o=>o._canReceive(t,e,n))}_canReceive(t,e,n){if(!ur(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,n);if(!o)return!1;const i=Object(Gc.c)(this.element);return o===i||i.contains(o)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{gr(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(Yc.c)(Object(Gc.c)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function kr(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Sr(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Dr(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Ir(t,e){const{top:n,bottom:o,height:i}=t,c=.05*i;return e>=n-c&&e<=n+c?1:e>=o-c&&e<=o+c?2:0}function Er(t,e){const{left:n,right:o,width:i}=t,c=.05*i;return e>=n-c&&e<=n+c?1:e>=o-c&&e<=o+c?2:0}const Tr=Object(Yc.e)({passive:!1,capture:!0});let Rr=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new $e.a,this.pointerUp=new $e.a,this.scroll=new $e.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,Tr)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Tr)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:Tr}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Tr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(o.oc(o.D),o.oc(i.e))},t.\u0275prov=Object(o.Tb)({factory:function(){return new t(Object(o.oc)(o.D),Object(o.oc)(i.e))},token:t,providedIn:"root"}),t})();const Lr={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let zr=(()=>{class t{constructor(t,e,n,o){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=o}createDrag(t,e=Lr){return new fr(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new xr(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(o.oc(i.e),o.oc(o.D),o.oc(Bc.h),o.oc(Rr))},t.\u0275prov=Object(o.Tb)({factory:function(){return new t(Object(o.oc)(i.e),Object(o.oc)(o.D),Object(o.oc)(Bc.h),Object(o.oc)(Rr))},token:t,providedIn:"root"}),t})();const Ar=new o.r("CDK_DRAG_PARENT");let Nr=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new $e.a,this._disabled=!1,this._parentDrag=e,ar(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(Gc.b)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.l),o.Xb(Ar,8))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),Jr=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.R))},t.\u0275dir=o.Sb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),Fr=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Object(Gc.b)(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.R))},t.\u0275dir=o.Sb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const Vr=new o.r("CDK_DRAG_CONFIG"),$r=new o.r("CDK_DROP_LIST");let jr=(()=>{class t{constructor(t,e,n,i,c,r,a,s,l){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=c,this._dir=a,this._changeDetectorRef=l,this._destroyed=new $e.a,this.started=new o.n,this.released=new o.n,this.ended=new o.n,this.entered=new o.n,this.exited=new o.n,this.dropped=new o.n,this.moved=new qc.a(t=>{const e=this._dragRef.moved.pipe(Object(Mc.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=s.createDrag(t,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:null==r?void 0:r.zIndex}),this._dragRef.data=this,r&&this._assignDefaults(r),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(Gc.b)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(or.a)(1),Object(nr.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(ir.a)(this._handles),Object(Wt.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(wc.a)(t=>Object(er.a)(...t.map(t=>t._stateChanges.pipe(Object(ir.a)(t))))),Object(nr.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Ur(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Ur(this.element.nativeElement,t);const e=Object(Gc.c)(t);if(Object(o.cb)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(Gc.d)(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:o,previewClass:i,boundaryElement:c,draggingDisabled:r,rootElementSelector:a}=t;this.disabled=null!=r&&r,this.dragStartDelay=n||0,e&&(this.lockAxis=e),o&&(this.constrainPosition=o),i&&(this.previewClass=i),c&&(this.boundaryElement=c),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.l),o.Xb($r,12),o.Xb(i.e),o.Xb(o.D),o.Xb(o.U),o.Xb(Vr,8),o.Xb(cr.c,8),o.Xb(zr),o.Xb(o.h))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(o.Pb(n,Fr,!0),o.Pb(n,Jr,!0),o.Pb(n,Nr,!0)),2&t&&(o.Pc(i=o.tc())&&(e._previewTemplate=i.first),o.Pc(i=o.tc())&&(e._placeholderTemplate=i.first),o.Pc(i=o.tc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&o.Ob("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[o.Ib([{provide:Ar,useExisting:t}]),o.Hb]}),t})();function Ur(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let Xr=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(Gc.b)(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),Hr=0,Br=(()=>{class t{constructor(e,n,i,c,r,a,s){this.element=e,this._changeDetectorRef=i,this._dir=c,this._group=r,this._scrollDispatcher=a,this._destroyed=new $e.a,this.connectedTo=[],this.id="cdk-drop-list-"+Hr++,this.enterPredicate=()=>!0,this.dropped=new o.n,this.entered=new o.n,this.exited=new o.n,this.sorted=new o.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Object(Gc.b)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,o){this._dropListRef.drop(t._dragRef,e,n._dropListRef,o,{x:0,y:0})}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(ir.a)(this._dir.value),Object(nr.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Object(Gc.a)(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(Gc.b)(this.sortingDisabled),e.autoScrollDisabled=Object(Gc.b)(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:o,listAutoScrollDisabled:i,listOrientation:c}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=o&&o,this.autoScrollDisabled=null!=i&&i,this.orientation=c||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.l),o.Xb(zr),o.Xb(o.h),o.Xb(cr.c,8),o.Xb(Xr,12),o.Xb(Bc.f),o.Xb(Vr,8))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(o.gc("id",e.id),o.Ob("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[o.Ib([{provide:Xr,useValue:void 0},{provide:$r,useExisting:t}])]}),t._dropLists=[],t})(),Yr=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},providers:[zr],imports:[Bc.c]}),t})();var Gr,Qr=n("2Qox");function qr(t,e){if(1&t&&o.Yb(0,"my-video-playlist-miniature",7),2&t){const t=o.wc();o.Dc("playlist",t.playlist)("toManage",!1)("displayChannel",!0)("displayDescription",!0)("displayPrivacy",!0)}}function Wr(t,e){1&t&&(o.dc(0,"div",8),o.hc(1,Gr),o.cc())}function Kr(t,e){if(1&t){const t=o.ec();o.dc(0,"div",9),o.dc(1,"my-video-playlist-element-miniature",10),o.sc("elementRemoved",(function(e){return o.Sc(t),o.wc().onElementRemoved(e)})),o.cc(),o.cc()}if(2&t){const t=e.$implicit,n=o.wc();o.Dc("cdkDragStartDelay",n.getDragStartDelay()),o.Jb(1),o.Dc("playlistElement",t)("playlist",n.playlist)("owned",!0)("position",t.position)}}Gr="\u0E44\u0E21\u0E48\u0E21\u0E35\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E43\u0E19\u0E40\u0E1E\u0E25\u0E22\u0E4C\u0E25\u0E34\u0E2A\u0E15\u0E4C\u0E19\u0E35\u0E49";let Zr=(()=>{class t{constructor(t,e,n,o){this.notifier=t,this.route=e,this.screenService=n,this.videoPlaylistService=o,this.playlistElements=[],this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.onDataSubject=new $e.a}ngOnInit(){this.paramsSub=this.route.params.subscribe(t=>{this.videoPlaylistId=t.videoPlaylistId,this.loadElements(),this.loadPlaylistInfo()})}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe()}drop(t){const e=t.previousIndex,n=t.currentIndex;if(e===n)return;const o=this.playlistElements[e].position;let i=this.playlistElements[n].position;o>i&&i--;const c=this.playlistElements[e];this.playlistElements.splice(e,1),this.playlistElements.splice(n,0,c),this.videoPlaylistService.reorderPlaylist(this.playlist.id,o,i).subscribe(()=>{this.reorderClientPositions()},t=>this.notifier.error(t.message))}onElementRemoved(t){const e=this.findFirst();this.playlistElements=this.playlistElements.filter(e=>e.id!==t.id),this.reorderClientPositions(e)}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadElements())}trackByFn(t,e){return e.id}getDragStartDelay(){return this.screenService.isInTouchScreen()?500:null}loadElements(){this.videoPlaylistService.getPlaylistVideos(this.videoPlaylistId,this.pagination).subscribe(({total:t,data:e})=>{this.playlistElements=this.playlistElements.concat(e),this.pagination.totalItems=t,this.onDataSubject.next(e)})}loadPlaylistInfo(){this.videoPlaylistService.getVideoPlaylist(this.videoPlaylistId).subscribe(t=>{this.playlist=t})}reorderClientPositions(t){if(0===this.playlistElements.length)return;const e=t||this.findFirst();let n=1;for(const i of this.playlistElements)i.position=n,n++;const o=this.findFirst();e&&o&&e.id!==o.id&&this.playlist.refreshThumbnail()}findFirst(){return this.playlistElements.find(t=>1===t.position)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.k),o.Xb(K.a),o.Xb(tt.q),o.Xb(Di.b))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-account-video-playlist-elements"]],decls:7,vars:6,consts:[[1,"row"],[1,"playlist-info","col-xs-12","col-md-5","col-xl-3"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy",4,"ngIf"],[1,"playlist-elements","col-xs-12","col-md-7","col-xl-9"],["class","no-results",4,"ngIf"],["myInfiniteScroller","","cdkDropList","",1,"videos",3,"autoInit","dataObservable","nearOfBottom","cdkDropListDropped"],["class","video","cdkDrag","",3,"cdkDragStartDelay",4,"ngFor","ngForOf","ngForTrackBy"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy"],[1,"no-results"],["cdkDrag","",1,"video",3,"cdkDragStartDelay"],[3,"playlistElement","playlist","owned","position","elementRemoved"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.dc(1,"div",1),o.bd(2,qr,1,5,"my-video-playlist-miniature",2),o.cc(),o.dc(3,"div",3),o.bd(4,Wr,2,0,"div",4),o.dc(5,"div",5),o.sc("nearOfBottom",(function(){return e.onNearOfBottom()}))("cdkDropListDropped",(function(t){return e.drop(t)})),o.bd(6,Kr,2,5,"div",6),o.cc(),o.cc(),o.cc()),2&t&&(o.Jb(2),o.Dc("ngIf",e.playlist),o.Jb(2),o.Dc("ngIf",0===e.pagination.totalItems),o.Jb(1),o.Dc("autoInit",!0)("dataObservable",e.onDataSubject.asObservable()),o.Jb(1),o.Dc("ngForOf",e.playlistElements)("ngForTrackBy",e.trackByFn))},directives:[i.u,$n.a,Br,i.t,Ii.a,jr,Qr.a],styles:[".playlist-info[_ngcontent-%COMP%]{background-color:var(--submenuColor);margin-left:-15px;margin-top:-30px;padding:30px 0 -15px;display:flex;justify-content:center}.playlist-info[_ngcontent-%COMP%]     .miniature-name:after{background-color:var(--submenuColor)!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.video[_ngcontent-%COMP%]:last-child{border:none}.videos.cdk-drop-list-dragging[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}@media screen and (max-width:800px){.playlist-info[_ngcontent-%COMP%]{margin-top:-10px}}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1}}"]}),t})();var ta=n("tt3q");const ea=[{path:"",component:(()=>{class t{constructor(t,e){this.serverService=t,this.i18n=e,this.menuEntries=[]}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(t=>this.serverConfig=t);const t={label:this.i18n("My library"),children:[{label:this.i18n("My channels"),routerLink:"/my-account/video-channels",iconName:"channel"},{label:this.i18n("My videos"),routerLink:"/my-account/videos",iconName:"videos"},{label:this.i18n("My playlists"),routerLink:"/my-account/video-playlists",iconName:"playlists"},{label:this.i18n("My subscriptions"),routerLink:"/my-account/subscriptions",iconName:"inbox-full"},{label:this.i18n("My history"),routerLink:"/my-account/history/videos",iconName:"history"}]};this.isVideoImportEnabled()&&t.children.push({label:"My imports",routerLink:"/my-account/video-imports",iconName:"cloud-download"});const e={label:this.i18n("Misc"),children:[{label:this.i18n("Muted accounts"),routerLink:"/my-account/blocklist/accounts",iconName:"user"},{label:this.i18n("Premium storage billing"),routerLink:"/my-account/premium-storage/billing",iconName:"history"},{label:this.i18n("Muted servers"),routerLink:"/my-account/blocklist/servers",iconName:"server"},{label:this.i18n("Ownership changes"),routerLink:"/my-account/ownership",iconName:"ownership-change"}]};this.menuEntries=[{label:this.i18n("My settings"),routerLink:"/my-account/settings"},{label:this.i18n("My notifications"),routerLink:"/my-account/notifications"},t,e]}isVideoImportEnabled(){const t=this.serverConfig.import.videos;return t.http.enabled||t.torrent.enabled}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(tt.s),o.Xb(nt.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["my-my-account"]],decls:4,vars:1,consts:[[1,"row"],[3,"menuEntries"],[1,"margin-content","pb-5"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.Yb(1,"my-top-menu-dropdown",1),o.dc(2,"div",2),o.Yb(3,"router-outlet"),o.cc(),o.cc()),2&t&&(o.Jb(1),o.Dc("menuEntries",e.menuEntries))},directives:[ta.a,K.m],styles:[".row[_ngcontent-%COMP%]{flex-direction:column;width:100%}.row[_ngcontent-%COMP%] > my-top-menu-dropdown[_ngcontent-%COMP%]:first-child{flex-grow:1}"]}),t})(),canActivateChild:[Z.a,tt.h],children:[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:Ve,data:{meta:{title:"Account settings"}}},{path:"video-channels",loadChildren:()=>Promise.all([n.e(6),n.e(24)]).then(n.bind(null,"hICp")).then(t=>t.MyAccountVideoChannelsModule)},{path:"video-playlists",component:Ai,data:{meta:{title:"Account playlists"}}},{path:"video-playlists/create",component:mc,data:{meta:{title:"Create new playlist"}}},{path:"video-playlists/:videoPlaylistId",component:Zr,data:{meta:{title:"Playlist elements"}}},{path:"video-playlists/update/:videoPlaylistId",component:Hc,data:{meta:{title:"Update playlist"}}},{path:"videos",component:mn,data:{meta:{title:"Account videos"},reuse:{enabled:!0,key:"my-account-videos-list"}}},{path:"video-imports",component:Nn,data:{meta:{title:"Account video imports"}}},{path:"subscriptions",component:Kn,data:{meta:{title:"Account subscriptions"}}},{path:"ownership",component:xo,data:{meta:{title:"Ownership changes"}}},{path:"blocklist/accounts",component:jo,data:{meta:{title:"Muted accounts"}}},{path:"premium-storage/billing",component:Vi,data:{meta:{title:"Storage billing"}}},{path:"blocklist/servers",component:si,data:{meta:{title:"Muted servers"}}},{path:"history/videos",component:fi,data:{meta:{title:"Videos history"},reuse:{enabled:!0,key:"my-videos-history-list"}}},{path:"notifications",component:xi,data:{meta:{title:"Notifications"}}}]}];let na=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[K.l.forChild(ea)],K.l]}),t})(),oa=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},providers:[],imports:[[na,F,U.t,j.b,Yr,B.g,X.h,Y.e,q.b,Q.a,W.a,G.a,H.a]]}),t})()},jIHw:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var o=n("fXoL"),i=n("YyRF"),c=n("ofXK");let r=(()=>{let t=class{constructor(t){this.el=t,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}ngAfterViewInit(){if(i.a.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){let t=document.createElement("span");t.setAttribute("aria-hidden","true"),t.className=("right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left")+" ui-clickable "+this.icon,this.el.nativeElement.appendChild(t)}let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="ui-button-text ui-clickable",t.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="ui-button ui-widget ui-state-default "+this.cornerStyleClass;return t+=this.icon?null!=this.label&&null!=this.label?"left"==this.iconPos?" ui-button-text-icon-left":" ui-button-text-icon-right":" ui-button-icon-only":this.label?" ui-button-text-only":" ui-button-text-empty",t}get label(){return this._label}set label(t){this._label=t,this.initialized&&(i.a.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label,this.icon||(this._label?(i.a.removeClass(this.el.nativeElement,"ui-button-text-empty"),i.a.addClass(this.el.nativeElement,"ui-button-text-only")):(i.a.addClass(this.el.nativeElement,"ui-button-text-empty"),i.a.removeClass(this.el.nativeElement,"ui-button-text-only"))))}get icon(){return this._icon}set icon(t){if(this._icon=t,this.initialized){let t="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";i.a.findSingle(this.el.nativeElement,".ui-clickable").className=t+" ui-clickable "+this.icon}}ngOnDestroy(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1}};return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.l))},t.\u0275dir=o.Sb({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",cornerStyleClass:"cornerStyleClass",label:"label",icon:"icon"}}),t})(),a=(()=>{let t=class{};return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[c.c]]}),t})()}}]);