(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{V0Sv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return $r}));var o=n("I5S5"),i=n("fXoL"),c=n("ofXK"),a=n("t2ka"),r=n("3Pt+");const l=function(){return["ui-clickable","ui-button-icon-left"]};function s(e,t){if(1&e&&i.Rb(0,"span",8),2&e){const e=i.oc(2).$implicit;i.Fb(e.icon),i.vc("ngClass",i.yc(3,l))}}function b(e,t){if(1&e&&(i.Ub(0),i.Tc(1,s,1,4,"span",6),i.Wb(2,"span",7),i.Vc(3),i.Vb(),i.Tb()),2&e){const e=i.oc().$implicit;i.Db(1),i.vc("ngIf",e.icon),i.Db(2),i.Wc(e.label||"ui-btn")}}function d(e,t){1&e&&i.Sb(0)}const g=function(e,t){return{$implicit:e,index:t}};function u(e,t){if(1&e&&i.Tc(0,d,1,0,"ng-container",9),2&e){const e=i.oc(),t=e.$implicit,n=e.index,o=i.oc();i.vc("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",i.Ac(2,g,t,n))}}const p=function(e,t,n,o,i){return{"ui-state-active":e,"ui-state-disabled":t,"ui-state-focus":n,"ui-button-text-icon-left":o,"ui-button-icon-only":i}};function f(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",2,3),i.kc("click",(function(n){i.Kc(e);const o=t.$implicit,c=t.index;return i.oc().onItemClick(n,o,c)}))("keydown.enter",(function(n){i.Kc(e);const o=t.$implicit,c=t.index;return i.oc().onItemClick(n,o,c)}))("focus",(function(t){return i.Kc(e),i.oc().onFocus(t)}))("blur",(function(t){return i.Kc(e),i.oc().onBlur(t)})),i.Tc(2,b,4,2,"ng-container",4),i.Tc(3,u,1,5,"ng-template",null,5,i.Uc),i.Vb()}if(2&e){const e=t.$implicit,n=i.Ic(1),o=i.Ic(4),c=i.oc();i.Gb("ui-button ui-widget ui-state-default ui-button-text-only ",e.styleClass,""),i.vc("ngClass",i.Dc(11,p,c.isSelected(e),c.disabled||e.disabled,n==c.focusedItem,null!=e.icon,e.icon&&!e.label)),i.Eb("aria-pressed",c.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",c.tabindex)("aria-labelledby",c.ariaLabelledBy),i.Db(2),i.vc("ngIf",!c.itemTemplate)("ngIfElse",o)}}const m={provide:r.r,useExisting:Object(i.W)(()=>h),multi:!0};let h=(()=>{let e=class{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new i.n,this.onChange=new i.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(e){}ngOnChanges(e){e.options&&(this._options=this.optionLabel?a.b.generateSelectItems(e.options.currentValue,this.optionLabel):e.options.currentValue)}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onItemClick(e,t,n){if(!this.disabled&&!t.disabled){if(this.multiple){let e=this.findItemIndex(t);this.value=-1!=e?this.value.filter((t,n)=>n!=e):[...this.value||[],t.value]}else this.value=t.value;this.onOptionClick.emit({originalEvent:e,option:t,index:n}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}}onFocus(e){this.focusedItem=e.target}onBlur(e){this.focusedItem=null,this.onModelTouched()}isSelected(e){return this.multiple?-1!=this.findItemIndex(e):a.b.equals(e.value,this.value,this.dataKey)}findItemIndex(e){let t=-1;if(this.value)for(let n=0;n<this.value.length;n++)if(this.value[n]==e.value){t=n;break}return t}};return e.\u0275fac=function(t){return new(t||e)(i.Qb(i.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["p-selectButton"]],contentQueries:function(e,t,n){var o;1&e&&i.Jb(n,i.O,!0),2&e&&i.Hc(o=i.lc())&&(t.itemTemplate=o.first)},inputs:{tabindex:"tabindex",options:"options",disabled:"disabled",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",dataKey:"dataKey",optionLabel:"optionLabel"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[i.Cb([m]),i.Bb],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["role","button",3,"class","ngClass","click","keydown.enter","focus","blur",4,"ngFor","ngForOf"],["role","button",3,"ngClass","click","keydown.enter","focus","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"ui-button-text","ui-clickable"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Tc(1,f,5,17,"div",1),i.Vb()),2&e&&(i.Fb(t.styleClass),i.vc("ngClass","ui-selectbutton ui-buttonset ui-widget ui-corner-all ui-buttonset-"+(t.options?t.options.length:0))("ngStyle",t.style),i.Db(1),i.vc("ngForOf",t.options))},directives:[c.r,c.x,c.t,c.u,c.B],encapsulation:2}),e})(),v=(()=>{let e=class{};return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[c.c]]}),e})();var C=n("rEr+"),P=n("004f"),O=n("sWvm"),_=n("P8w3"),M=n("xMQD"),y=n("HIM4"),w=n("tyNb"),V=n("mrSG"),x=n("JIr8"),k=n("ey9i"),T=n("AytR"),W=n("tk/3");let z=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t,this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.videoQuotaOptions=[{value:void 0,label:"Default quota",disabled:!0},{value:-1,label:"\u0E44\u0E21\u0E48\u0E08\u0E33\u0E01\u0E31\u0E14"},{value:void 0,label:"\u2500\u2500\u2500\u2500\u2500",disabled:!0},{value:0,label:"None - no upload possible"},{value:104857600,label:"100MB"},{value:524288e3,label:"500MB"},{value:1073741824,label:"1GB"},{value:5368709120,label:"5GB"},{value:21474836480,label:"20GB"},{value:53687091200,label:"50GB"}],this.videoQuotaDailyOptions=[{value:void 0,label:"Default daily upload limit",disabled:!0},{value:-1,label:"\u0E44\u0E21\u0E48\u0E08\u0E33\u0E01\u0E31\u0E14"},{value:void 0,label:"\u2500\u2500\u2500\u2500\u2500",disabled:!0},{value:0,label:"None - no upload possible"},{value:10485760,label:"10MB"},{value:52428800,label:"50MB"},{value:104857600,label:"100MB"},{value:524288e3,label:"500MB"},{value:2147483648,label:"2GB"},{value:5368709120,label:"5GB"}]}getCustomConfig(){return this.authHttp.get(e.BASE_APPLICATION_URL+"/custom").pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}updateCustomConfig(t){return this.authHttp.put(e.BASE_APPLICATION_URL+"/custom",t).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_APPLICATION_URL=T.a.apiUrl+"/api/v1/config",e.\u0275fac=function(t){return new(t||e)(i.hc(W.b),i.hc(k.RestExtractor))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})();var D=n("pyEO"),I=n("KwVR"),R=n("gpwl"),S=n("cp0P"),$=n("lGoh");const E={VALIDATORS:[r.G.required],MESSAGES:{required:"\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E2A\u0E48\u0E0A\u0E37\u0E48\u0E2D\u0E02\u0E2D\u0E07\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C"}},A={VALIDATORS:[r.G.max(250)],MESSAGES:{max:"Short description should not be longer than 250 characters."}},L={VALIDATORS:[r.G.required],MESSAGES:{required:"Twitter username is required."}},N={VALIDATORS:[r.G.required,r.G.min(1),r.G.pattern("[0-9]+")],MESSAGES:{required:"Previews cache size is required.",min:"Previews cache size must be greater than 1.",pattern:"Previews cache size must be a number."}},U={VALIDATORS:[r.G.required,r.G.min(1),r.G.pattern("[0-9]+")],MESSAGES:{required:"Captions cache size is required.",min:"Captions cache size must be greater than 1.",pattern:"Captions cache size must be a number."}},F={VALIDATORS:[r.G.required,r.G.min(-1),r.G.pattern("-?[0-9]+")],MESSAGES:{required:"Signup limit is required.",min:"Signup limit must be greater than 1.",pattern:"Signup limit must be a number."}},B={VALIDATORS:[r.G.required,r.G.email],MESSAGES:{required:"Admin email is required.",email:"Admin email must be valid."}},G={VALIDATORS:[r.G.required,r.G.min(0)],MESSAGES:{required:"Transcoding threads is required.",min:"Transcoding threads must be greater or equal to 0."}},j={VALIDATORS:[r.G.pattern(/^https:\/\//)],MESSAGES:{pattern:"Index URL should be a URL"}},Q={VALIDATORS:[r.G.pattern(/^https?:\/\//)],MESSAGES:{pattern:"Search index URL should be a URL"}};var K=n("nnN+"),H=n("1kSV"),X=n("1lk2"),q=n("GMov"),Y=n("JJg0"),J=n("/xt7"),Z=n("BLxp"),ee=n("R0Ic"),te=n("YyRF"),ne=n("7zfz");let oe=(()=>{let e=class{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let t=te.a.getFocusableElements(this.el.nativeElement);if(t&&t.length>0)if(document.activeElement){let n=t.indexOf(document.activeElement);e.shiftKey?-1==n||0===n?t[t.length-1].focus():t[n-1].focus():-1==n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}}};return e.\u0275fac=function(t){return new(t||e)(i.Qb(i.l))},e.\u0275dir=i.Lb({type:e,selectors:[["","pFocusTrap",""]],hostBindings:function(e,t){1&e&&i.kc("keydown.tab",(function(e){return t.onkeydown(e)}))("keydown.shift.tab",(function(e){return t.onkeydown(e)}))},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),e})(),ie=(()=>{let e=class{};return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[c.c]]}),e})();const ce=["titlebar"],ae=["content"],re=["footer"];function le(e,t){if(1&e&&(i.Wb(0,"span",15),i.Vc(1),i.Vb()),2&e){const e=i.oc(4);i.Eb("id",e.id+"-label"),i.Db(1),i.Wc(e.header)}}function se(e,t){if(1&e&&(i.Wb(0,"span",15),i.tc(1,1),i.Vb()),2&e){const e=i.oc(4);i.Eb("id",e.id+"-label")}}const be=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all":!0}};function de(e,t){if(1&e){const e=i.Xb();i.Wb(0,"a",16),i.kc("click",(function(){return i.Kc(e),i.oc(4).maximize()}))("keydown.enter",(function(){return i.Kc(e),i.oc(4).maximize()})),i.Rb(1,"span",1),i.Vb()}if(2&e){const e=i.oc(4);i.vc("ngClass",i.yc(2,be)),i.Db(1),i.vc("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const ge=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all":!0}};function ue(e,t){if(1&e){const e=i.Xb();i.Wb(0,"a",16),i.kc("click",(function(t){return i.Kc(e),i.oc(4).close(t)}))("keydown.enter",(function(t){return i.Kc(e),i.oc(4).close(t)})),i.Rb(1,"span"),i.Vb()}if(2&e){const e=i.oc(4);i.vc("ngClass",i.yc(3,ge)),i.Db(1),i.Fb(e.closeIcon)}}function pe(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",10,11),i.kc("mousedown",(function(t){return i.Kc(e),i.oc(3).initDrag(t)})),i.Tc(2,le,2,2,"span",12),i.Tc(3,se,2,1,"span",12),i.Wb(4,"div",13),i.Tc(5,de,2,3,"a",14),i.Tc(6,ue,2,4,"a",14),i.Vb(),i.Vb()}if(2&e){const e=i.oc(3);i.Db(2),i.vc("ngIf",e.header),i.Db(1),i.vc("ngIf",e.headerFacet&&e.headerFacet.first),i.Db(2),i.vc("ngIf",e.maximizable),i.Db(1),i.vc("ngIf",e.closable)}}function fe(e,t){1&e&&(i.Wb(0,"div",17,18),i.tc(2,2),i.Vb())}function me(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",19),i.kc("mousedown",(function(t){return i.Kc(e),i.oc(3).initResize(t)})),i.Vb()}}const he=function(e,t,n,o){return{"ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow":!0,"ui-dialog-rtl":e,"ui-dialog-draggable":t,"ui-dialog-resizable":n,"ui-dialog-maximized":o}},ve=function(e,t){return{transform:e,transition:t}},Ce=function(e){return{value:"visible",params:e}};function Pe(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",3,4),i.kc("@animation.start",(function(t){return i.Kc(e),i.oc(2).onAnimationStart(t)}))("@animation.done",(function(t){return i.Kc(e),i.oc(2).onAnimationEnd(t)})),i.Tc(2,pe,7,4,"div",5),i.Wb(3,"div",6,7),i.tc(5),i.Vb(),i.Tc(6,fe,3,0,"div",8),i.Tc(7,me,1,0,"div",9),i.Vb()}if(2&e){const e=i.oc(2);i.Fb(e.styleClass),i.vc("ngClass",i.Cc(14,he,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",i.zc(22,Ce,i.Ac(19,ve,e.transformOptions,e.transitionOptions))),i.Eb("aria-labelledby",e.id+"-label"),i.Db(2),i.vc("ngIf",e.showHeader),i.Db(1),i.Fb(e.contentStyleClass),i.vc("ngClass","ui-dialog-content ui-widget-content")("ngStyle",e.contentStyle),i.Db(3),i.vc("ngIf",e.footerFacet&&e.footerFacet.first),i.Db(1),i.vc("ngIf",e.resizable)}}const Oe=function(e,t,n,o,i,c,a,r,l,s,b){return{"ui-dialog-mask":!0,"ui-widget-overlay":e,"ui-dialog-visible":t,"ui-dialog-mask-scrollblocker":n,"ui-dialog-left":o,"ui-dialog-right":i,"ui-dialog-top":c,"ui-dialog-topleft":a,"ui-dialog-topright":r,"ui-dialog-bottom":l,"ui-dialog-bottomleft":s,"ui-dialog-bottomright":b}};function _e(e,t){if(1&e&&(i.Wb(0,"div",1),i.Tc(1,Pe,8,24,"div",2),i.Vb()),2&e){const e=i.oc();i.Fb(e.maskStyleClass),i.vc("ngClass",i.Gc(4,Oe,[e.modal,e.maskVisible,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position,"topright"===e.position,"bottom"===e.position,"bottomleft"===e.position,"bottomright"===e.position])),i.Db(1),i.vc("ngIf",e.visible)}}const Me=["*",[["p-header"]],[["p-footer"]]],ye=["*","p-header","p-footer"];let we=0;const Ve=Object(ee.g)([Object(ee.k)({transform:"{{transform}}",opacity:0}),Object(ee.e)("{{transition}}",Object(ee.k)({transform:"none",opacity:1}))]),xe=Object(ee.g)([Object(ee.e)("{{transition}}",Object(ee.k)({transform:"{{transform}}",opacity:0}))]);let ke=(()=>{let e=class{constructor(e,t,n,o){this.el=e,this.renderer=t,this.zone=n,this.cd=o,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new i.n,this.onHide=new i.n,this.visibleChange=new i.n,this.onResizeInit=new i.n,this.onResizeEnd=new i.n,this.onDragEnd=new i.n,this.id="ui-dialog-"+we++,this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use CSS media queries instead.")}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=te.a.findSingle(this.container,"button");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&te.a.addClass(document.body,"ui-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&te.a.removeClass(document.body,"ui-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?te.a.addClass(document.body,"ui-overflow-hidden"):te.a.removeClass(document.body,"ui-overflow-hidden"))}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++te.a.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(te.a.zindex-1)))}initDrag(e){te.a.hasClass(e.target,"ui-dialog-titlebar-icon")||te.a.hasClass(e.target.parentElement,"ui-dialog-titlebar-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",te.a.addClass(document.body,"ui-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let t=te.a.getFocusableElements(this.container);if(t&&t.length>0)if(document.activeElement){let n=t.indexOf(document.activeElement);e.shiftKey?-1==n||0===n?t[t.length-1].focus():t[n-1].focus():-1==n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}}onDrag(e){if(this.dragging){let t=te.a.getOuterWidth(this.container),n=te.a.getOuterHeight(this.container),o=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,c=te.a.getOffset(this.container),a=c.left+o,r=c.top+i,l=te.a.getViewport();this.container.style.position="fixed",this.keepInViewport?(a>=this.minX&&a+t<l.width&&(this._style.left=a+"px",this.lastPageX=e.pageX,this.container.style.left=a+"px"),r>=this.minY&&r+n<l.height&&(this._style.top=r+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")):(this.lastPageX=e.pageX,this.container.style.left=a+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,te.a.removeClass(document.body,"ui-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,te.a.addClass(document.body,"ui-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,n=e.pageY-this.lastPageY,o=te.a.getOuterWidth(this.container),i=te.a.getOuterHeight(this.container),c=te.a.getOuterHeight(this.contentViewChild.nativeElement),a=o+t,r=i+n,l=this.container.style.minWidth,s=this.container.style.minHeight,b=te.a.getOffset(this.container),d=te.a.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(a+=t,r+=n),(!l||a>parseInt(l))&&b.left+a<d.width&&(this._style.width=a+"px",this.container.style.width=this._style.width),(!s||r>parseInt(s))&&b.top+r<d.height&&(this.contentViewChild.nativeElement.style.height=c+r-i+"px",this._style.height&&(this._style.height=r+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,te.a.removeClass(document.body,"ui-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen("document","keydown",e=>{27==e.which&&parseInt(this.container.style.zIndex)===te.a.zindex+this.baseZIndex&&this.close(e)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):te.a.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&te.a.addClass(document.body,"ui-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(te.a.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&te.a.removeClass(document.body,"ui-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy())}};return e.\u0275fac=function(t){return new(t||e)(i.Qb(i.l),i.Qb(i.H),i.Qb(i.C),i.Qb(i.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["p-dialog"]],contentQueries:function(e,t,n){var o;1&e&&(i.Jb(n,ne.b,!1),i.Jb(n,ne.a,!1)),2&e&&(i.Hc(o=i.lc())&&(t.headerFacet=o),i.Hc(o=i.lc())&&(t.footerFacet=o))},viewQuery:function(e,t){var n;1&e&&(i.Zc(ce,!0),i.Zc(ae,!0),i.Zc(re,!0)),2&e&&(i.Hc(n=i.lc())&&(t.headerViewChild=n.first),i.Hc(n=i.lc())&&(t.contentViewChild=n.first),i.Hc(n=i.lc())&&(t.footerViewChild=n.first))},inputs:{draggable:"draggable",resizable:"resizable",closeOnEscape:"closeOnEscape",closable:"closable",showHeader:"showHeader",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",positionLeft:"positionLeft",positionTop:"positionTop",responsive:"responsive",breakpoint:"breakpoint",visible:"visible",style:"style",position:"position",header:"header",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",dismissableMask:"dismissableMask",rtl:"rtl",appendTo:"appendTo",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maximizable:"maximizable"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd"},ngContentSelectors:ye,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],["class","ui-dialog-footer ui-widget-content",4,"ngIf"],["class","ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"ui-dialog-titlebar","ui-widget-header","ui-helper-clearfix","ui-corner-top",3,"mousedown"],["titlebar",""],["class","ui-dialog-title",4,"ngIf"],[1,"ui-dialog-titlebar-icons"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"ui-dialog-title"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter"],[1,"ui-dialog-footer","ui-widget-content"],["footer",""],[1,"ui-resizable-handle","ui-resizable-se","ui-icon","ui-icon-gripsmall-diagonal-se",2,"z-index","90",3,"mousedown"]],template:function(e,t){1&e&&(i.uc(Me),i.Tc(0,_e,2,16,"div",0)),2&e&&i.vc("ngIf",t.maskVisible)},directives:[c.u,c.r,oe,c.x],encapsulation:2,data:{animation:[Object(ee.m)("animation",[Object(ee.l)("void => visible",[Object(ee.n)(Ve)]),Object(ee.l)("visible => void",[Object(ee.n)(xe)])])]}}),e})(),Te=(()=>{let e=class{};return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[c.c,ie],ne.e]}),e})();var We=n("9SF7"),ze=n("l9Pe"),De=n("jBV2"),Ie=n("++gK");const Re=["nav"];function Se(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.name)}}function $e(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.shortDescription)}}function Ee(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.description)}}function Ae(e,t){1&e&&(i.Ub(0),i.ac(1,104),i.Tb())}function Le(e,t){1&e&&(i.Ub(0),i.gc(1,105),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function Ne(e,t){1&e&&(i.Ub(0),i.gc(1,106),i.Rb(2,"strong"),i.Rb(3,"strong"),i.dc(),i.Tb())}function Ue(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.defaultNSFWPolicy)}}function Fe(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.terms)}}function Be(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.codeOfConduct)}}function Ge(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.moderationInformation)}}function je(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.administrator)}}function Qe(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.creationReason)}}function Ke(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.maintenanceLifetime)}}function He(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.businessModel)}}function Xe(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.hardwareInformation)}}const qe=function(e){return{"input-error":e}};function Ye(e,t){if(1&e&&(i.Ub(0,24),i.Wb(1,"div",25),i.Wb(2,"div",26),i.Wb(3,"div",27),i.ac(4,28),i.Vb(),i.Vb(),i.Wb(5,"div",29),i.Wb(6,"div",30),i.Wb(7,"label",31),i.ac(8,32),i.Vb(),i.Rb(9,"input",33),i.Tc(10,Se,2,1,"div",34),i.Vb(),i.Wb(11,"div",30),i.Wb(12,"label",35),i.ac(13,36),i.Vb(),i.Rb(14,"textarea",37),i.Tc(15,$e,2,1,"div",34),i.Vb(),i.Wb(16,"div",30),i.Wb(17,"label",38),i.ac(18,39),i.Vb(),i.Rb(19,"my-help",40),i.Rb(20,"my-markdown-textarea",41),i.Tc(21,Ee,2,1,"div",34),i.Vb(),i.Wb(22,"div",30),i.Wb(23,"label",42),i.ac(24,43),i.Vb(),i.Wb(25,"div"),i.Wb(26,"my-select-checkbox",44),i.cc(27,45),i.Vb(),i.Vb(),i.Vb(),i.Wb(28,"div",30),i.Wb(29,"label",46),i.ac(30,47),i.Vb(),i.Wb(31,"div"),i.Wb(32,"my-select-checkbox",48),i.cc(33,49),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(34,"div",18),i.Wb(35,"div",26),i.Wb(36,"div",27),i.ac(37,50),i.Vb(),i.Wb(38,"div",51),i.gc(39,52),i.Rb(40,"a",53),i.dc(),i.Vb(),i.Vb(),i.Wb(41,"div",29),i.Wb(42,"div",30),i.Wb(43,"my-peertube-checkbox",54),i.Tc(44,Ae,2,0,"ng-template",55),i.Tc(45,Le,4,0,"ng-template",56),i.Vb(),i.Vb(),i.Wb(46,"div",30),i.Wb(47,"label",57),i.ac(48,58),i.Vb(),i.Wb(49,"my-help"),i.Tc(50,Ne,4,0,"ng-template",59),i.Vb(),i.Wb(51,"div",60),i.Wb(52,"select",61),i.Wb(53,"option",62),i.ac(54,63),i.Vb(),i.Wb(55,"option",64),i.ac(56,65),i.Vb(),i.Wb(57,"option",66),i.ac(58,67),i.Vb(),i.Wb(59,"option",68),i.ac(60,69),i.Vb(),i.Vb(),i.Vb(),i.Tc(61,Ue,2,1,"div",34),i.Vb(),i.Wb(62,"div",30),i.Wb(63,"label",70),i.ac(64,71),i.Vb(),i.Rb(65,"my-help",40),i.Rb(66,"my-markdown-textarea",72),i.Tc(67,Fe,2,1,"div",34),i.Vb(),i.Wb(68,"div",30),i.Wb(69,"label",73),i.ac(70,74),i.Vb(),i.Rb(71,"my-help",40),i.Rb(72,"my-markdown-textarea",75),i.Tc(73,Be,2,1,"div",34),i.Vb(),i.Wb(74,"div",30),i.Wb(75,"label",76),i.ac(76,77),i.Vb(),i.Rb(77,"my-help",40),i.Wb(78,"div",78),i.ac(79,79),i.Vb(),i.Rb(80,"my-markdown-textarea",80),i.Tc(81,Ge,2,1,"div",34),i.Vb(),i.Vb(),i.Vb(),i.Wb(82,"div",18),i.Wb(83,"div",26),i.Wb(84,"div",27),i.ac(85,81),i.Vb(),i.Vb(),i.Wb(86,"div",29),i.Wb(87,"div",30),i.Wb(88,"label",82),i.ac(89,83),i.Vb(),i.Wb(90,"div",78),i.ac(91,84),i.Vb(),i.Rb(92,"my-markdown-textarea",85),i.Tc(93,je,2,1,"div",34),i.Vb(),i.Wb(94,"div",30),i.Wb(95,"label",86),i.ac(96,87),i.Vb(),i.Wb(97,"div",78),i.ac(98,88),i.Vb(),i.Rb(99,"textarea",89),i.Tc(100,Qe,2,1,"div",34),i.Vb(),i.Wb(101,"div",30),i.Wb(102,"label",90),i.ac(103,91),i.Vb(),i.Wb(104,"div",78),i.ac(105,92),i.Vb(),i.Rb(106,"textarea",93),i.Tc(107,Ke,2,1,"div",34),i.Vb(),i.Wb(108,"div",30),i.Wb(109,"label",94),i.ac(110,95),i.Vb(),i.Wb(111,"div",78),i.ac(112,96),i.Vb(),i.Rb(113,"textarea",97),i.Tc(114,He,2,1,"div",34),i.Vb(),i.Vb(),i.Vb(),i.Wb(115,"div",18),i.Wb(116,"div",26),i.Wb(117,"div",27),i.ac(118,98),i.Vb(),i.Vb(),i.Wb(119,"div",29),i.Wb(120,"div",30),i.Wb(121,"label",99),i.ac(122,100),i.Vb(),i.Wb(123,"div",78),i.ac(124,101),i.Vb(),i.Rb(125,"my-markdown-textarea",102),i.Tc(126,Xe,2,1,"div",34),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&e){const e=i.oc();i.Db(9),i.vc("ngClass",i.zc(27,qe,e.formErrors.instance.name)),i.Db(1),i.vc("ngIf",e.formErrors.instance.name),i.Db(4),i.vc("ngClass",i.zc(29,qe,e.formErrors["instance.shortDescription"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.shortDescription),i.Db(5),i.vc("classes",i.zc(31,qe,e.formErrors["instance.description"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.description),i.Db(5),i.vc("availableItems",e.categoryItems)("selectableGroup",!1),i.Db(6),i.vc("availableItems",e.languageItems)("selectableGroup",!1),i.Db(29),i.vc("ngIf",e.formErrors.instance.defaultNSFWPolicy),i.Db(5),i.vc("ngClass",i.zc(33,qe,e.formErrors["instance.terms"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.terms),i.Db(5),i.vc("ngClass",i.zc(35,qe,e.formErrors["instance.codeOfConduct"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.codeOfConduct),i.Db(7),i.vc("ngClass",i.zc(37,qe,e.formErrors["instance.moderationInformation"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.moderationInformation),i.Db(11),i.vc("classes",i.zc(39,qe,e.formErrors["instance.administrator"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.administrator),i.Db(6),i.vc("ngClass",i.zc(41,qe,e.formErrors["instance.creationReason"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.creationReason),i.Db(6),i.vc("ngClass",i.zc(43,qe,e.formErrors["instance.maintenanceLifetime"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.maintenanceLifetime),i.Db(6),i.vc("ngClass",i.zc(45,qe,e.formErrors["instance.businessModel"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.businessModel),i.Db(11),i.vc("classes",i.zc(47,qe,e.formErrors["instance.hardwareInformation"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.hardwareInformation)}}function Je(e,t){if(1&e&&(i.Wb(0,"option",241),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e),i.Db(1),i.Wc(e)}}function Ze(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.defaultClientRoute)}}function et(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.broadcastMessage.level)}}function tt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.broadcastMessage.message)}}function nt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.signup.limit)}}function ot(e,t){1&e&&(i.Wb(0,"small",242),i.Vc(1,"Signup won't be limited to a fixed number of users."),i.Vb())}function it(e,t){if(1&e&&(i.Wb(0,"option",243),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function ct(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.user.videoQuota)}}function at(e,t){if(1&e&&(i.Wb(0,"option",243),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function rt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.user.videoQuotaDaily)}}function lt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.search.searchIndex.url)}}function st(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.followings.instance.autoFollowIndex.indexUrl)}}function bt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.admin.email)}}const dt=function(e){return{"disabled-checkbox-extra":e}};function gt(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",25),i.Wb(1,"div",26),i.Wb(2,"div",27),i.ac(3,107),i.Vb(),i.Wb(4,"div",51),i.gc(5,108),i.Rb(6,"a",109),i.Wb(7,"a",110),i.kc("click",(function(){return i.Kc(e),i.oc().gotoAnchor()})),i.Vb(),i.dc(),i.Vb(),i.Vb(),i.Wb(8,"div",29),i.Ub(9,111),i.Wb(10,"div",30),i.Wb(11,"label",112),i.ac(12,113),i.Vb(),i.Wb(13,"div",60),i.Wb(14,"select",114),i.Wb(15,"option",115),i.ac(16,116),i.Vb(),i.Tc(17,Je,2,2,"option",117),i.Vb(),i.Vb(),i.Vb(),i.Tb(),i.Wb(18,"div",118),i.Wb(19,"label",119),i.ac(20,120),i.Vb(),i.Wb(21,"div",60),i.Wb(22,"select",121),i.Wb(23,"option",122),i.ac(24,123),i.Vb(),i.Wb(25,"option",124),i.ac(26,125),i.Vb(),i.Wb(27,"option",126),i.ac(28,127),i.Vb(),i.Wb(29,"option",128),i.ac(30,129),i.Vb(),i.Wb(31,"option",130),i.ac(32,131),i.Vb(),i.Vb(),i.Vb(),i.Tc(33,Ze,2,1,"div",34),i.Vb(),i.Vb(),i.Vb(),i.Wb(34,"div",18),i.Wb(35,"div",26),i.Wb(36,"div",27),i.ac(37,132),i.Vb(),i.Wb(38,"div",51),i.ac(39,133),i.Vb(),i.Vb(),i.Wb(40,"div",29),i.Ub(41,134),i.Wb(42,"div",30),i.Wb(43,"my-peertube-checkbox",135),i.cc(44,136),i.Vb(),i.Vb(),i.Wb(45,"div",30),i.Wb(46,"my-peertube-checkbox",137),i.cc(47,138),i.Vb(),i.Vb(),i.Wb(48,"div",30),i.Wb(49,"label",139),i.ac(50,140),i.Vb(),i.Wb(51,"div",60),i.Wb(52,"select",141),i.Wb(53,"option",142),i.Vc(54,"info"),i.Vb(),i.Wb(55,"option",143),i.Vc(56,"warning"),i.Vb(),i.Wb(57,"option",144),i.Vc(58,"error"),i.Vb(),i.Vb(),i.Vb(),i.Tc(59,et,2,1,"div",34),i.Vb(),i.Wb(60,"div",30),i.Wb(61,"label",145),i.ac(62,146),i.Vb(),i.Rb(63,"my-help",40),i.Rb(64,"my-markdown-textarea",147),i.Tc(65,tt,2,1,"div",34),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(66,"div",18),i.Wb(67,"div",26),i.Wb(68,"div",27),i.ac(69,148),i.Vb(),i.Wb(70,"div",51),i.gc(71,149),i.Rb(72,"a",53),i.dc(),i.Vb(),i.Vb(),i.Wb(73,"div",29),i.Ub(74,150),i.Wb(75,"div",30),i.Wb(76,"my-peertube-checkbox",151),i.cc(77,152),i.Ub(78,153),i.Wb(79,"span"),i.ac(80,154),i.Vb(),i.Tb(),i.Ub(81,155),i.Wb(82,"my-peertube-checkbox",156),i.cc(83,157),i.Vb(),i.Wb(84,"div",158),i.Wb(85,"label",159),i.ac(86,160),i.Vb(),i.Rb(87,"input",161),i.Tc(88,nt,2,1,"div",34),i.Tc(89,ot,2,0,"small",162),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Ub(90,163),i.Wb(91,"div",30),i.Wb(92,"label",164),i.ac(93,165),i.Vb(),i.Wb(94,"div",60),i.Wb(95,"select",166),i.Tc(96,it,2,3,"option",167),i.Vb(),i.Vb(),i.Tc(97,ct,2,1,"div",34),i.Vb(),i.Wb(98,"div",30),i.Wb(99,"label",168),i.ac(100,169),i.Vb(),i.Wb(101,"div",60),i.Wb(102,"select",170),i.Tc(103,at,2,3,"option",167),i.Vb(),i.Vb(),i.Tc(104,rt,2,1,"div",34),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(105,"div",18),i.Wb(106,"div",26),i.Wb(107,"div",27),i.ac(108,171),i.Vb(),i.Vb(),i.Wb(109,"div",29),i.Ub(110,172),i.Ub(111,173),i.Wb(112,"div",174),i.Wb(113,"my-peertube-checkbox",175),i.cc(114,176),i.Vb(),i.Vb(),i.Wb(115,"div",177),i.Wb(116,"my-peertube-checkbox",178),i.cc(117,179),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Ub(118,180),i.Ub(119,173),i.Ub(120,181),i.Wb(121,"div",30),i.Wb(122,"my-peertube-checkbox",182),i.cc(123,183),i.Ub(124,153),i.Wb(125,"span"),i.ac(126,184),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(127,"div",18),i.Wb(128,"div",26),i.Wb(129,"div",27),i.ac(130,185),i.Vb(),i.Vb(),i.Wb(131,"div",29),i.Ub(132,186),i.Ub(133,187),i.Wb(134,"div",30),i.Wb(135,"my-peertube-checkbox",188),i.cc(136,189),i.Ub(137,153),i.Wb(138,"span"),i.gc(139,190),i.Rb(140,"strong"),i.dc(),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(141,"div",30),i.Wb(142,"my-peertube-checkbox",191),i.cc(143,192),i.Ub(144,153),i.Wb(145,"span"),i.gc(146,193),i.Rb(147,"strong"),i.dc(),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Ub(148,194),i.Wb(149,"div",30),i.Wb(150,"my-peertube-checkbox",195),i.cc(151,196),i.Ub(152,153),i.Wb(153,"p"),i.ac(154,197),i.Vb(),i.Wb(155,"span"),i.gc(156,198),i.Rb(157,"a",199),i.dc(),i.Vb(),i.Tb(),i.Ub(158,155),i.Wb(159,"div",200),i.Wb(160,"label",201),i.ac(161,202),i.Vb(),i.Rb(162,"input",203),i.Tc(163,lt,2,1,"div",34),i.Vb(),i.Wb(164,"div",204),i.Wb(165,"my-peertube-checkbox",205),i.cc(166,206),i.Vb(),i.Vb(),i.Wb(167,"div",204),i.Wb(168,"my-peertube-checkbox",207),i.cc(169,208),i.Ub(170,153),i.Wb(171,"span"),i.ac(172,209),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(173,"div",18),i.Wb(174,"div",26),i.Wb(175,"div",27),i.ac(176,210),i.Vb(),i.Wb(177,"div",211),i.gc(178,212),i.Rb(179,"a",213),i.dc(),i.Vb(),i.Vb(),i.Wb(180,"div",29),i.Ub(181,214),i.Ub(182,24),i.Wb(183,"div",30),i.Wb(184,"my-peertube-checkbox",215),i.cc(185,216),i.Vb(),i.Vb(),i.Wb(186,"div",30),i.Wb(187,"my-peertube-checkbox",217),i.cc(188,218),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Ub(189,219),i.Ub(190,24),i.Ub(191,220),i.Wb(192,"div",30),i.Wb(193,"my-peertube-checkbox",221),i.cc(194,222),i.Ub(195,153),i.Wb(196,"span"),i.ac(197,223),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Ub(198,224),i.Wb(199,"div",30),i.Wb(200,"my-peertube-checkbox",225),i.cc(201,226),i.Ub(202,153),i.Wb(203,"p"),i.ac(204,227),i.Vb(),i.Wb(205,"span"),i.gc(206,228),i.Rb(207,"a",229),i.dc(),i.Vb(),i.Tb(),i.Ub(208,155),i.Wb(209,"div",200),i.Wb(210,"label",230),i.ac(211,231),i.Vb(),i.Rb(212,"input",232),i.Tc(213,st,2,1,"div",34),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(214,"div",18),i.Wb(215,"div",26),i.Wb(216,"div",27),i.ac(217,233),i.Vb(),i.Vb(),i.Wb(218,"div",29),i.Wb(219,"div",234),i.Wb(220,"label",235),i.ac(221,236),i.Vb(),i.Rb(222,"input",237),i.Tc(223,bt,2,1,"div",34),i.Vb(),i.Wb(224,"div",238),i.Wb(225,"my-peertube-checkbox",239),i.cc(226,240),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc();i.Db(17),i.vc("ngForOf",e.availableThemes),i.Db(16),i.vc("ngIf",e.formErrors.instance.defaultClientRoute),i.Db(26),i.vc("ngIf",e.formErrors.broadcastMessage.level),i.Db(5),i.vc("classes",i.zc(24,qe,e.formErrors["broadcastMessage.message"])),i.Db(1),i.vc("ngIf",e.formErrors.broadcastMessage.message),i.Db(17),i.vc("ngClass",i.zc(26,dt,!e.isSignupEnabled())),i.Db(2),i.vc("ngClass",i.zc(28,dt,!e.isSignupEnabled())),i.Db(3),i.vc("ngClass",i.zc(30,qe,e.formErrors["signup.limit"])),i.Db(1),i.vc("ngIf",e.formErrors.signup.limit),i.Db(1),i.vc("ngIf",-1===e.form.value.signup.limit),i.Db(7),i.vc("ngForOf",e.videoQuotaOptions),i.Db(1),i.vc("ngIf",e.formErrors.user.videoQuota),i.Db(6),i.vc("ngForOf",e.videoQuotaDailyOptions),i.Db(1),i.vc("ngIf",e.formErrors.user.videoQuotaDaily),i.Db(55),i.vc("ngClass",i.zc(32,dt,!e.isSearchIndexEnabled())),i.Db(3),i.vc("ngClass",i.zc(34,qe,e.formErrors["search.searchIndex.url"])),i.Db(1),i.vc("ngIf",e.formErrors.search.searchIndex.url),i.Db(2),i.vc("ngClass",i.zc(36,dt,!e.isSearchIndexEnabled())),i.Db(3),i.vc("ngClass",i.zc(38,dt,!e.isSearchIndexEnabled())),i.Db(41),i.vc("ngClass",i.zc(40,dt,!e.isAutoFollowIndexEnabled())),i.Db(3),i.vc("ngClass",i.zc(42,qe,e.formErrors["followings.instance.autoFollowIndex.indexUrl"])),i.Db(1),i.vc("ngIf",e.formErrors.followings.instance.autoFollowIndex.indexUrl),i.Db(9),i.vc("ngClass",i.zc(44,qe,e.formErrors["admin.email"])),i.Db(1),i.vc("ngIf",e.formErrors.admin.email)}}function ut(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.services.twitter.username)}}function pt(e,t){1&e&&(i.Ub(0),i.ac(1,251),i.Tb())}function ft(e,t){1&e&&(i.Ub(0),i.gc(1,252),i.Rb(2,"br"),i.Rb(3,"br"),i.Rb(4,"br"),i.Rb(5,"a",253),i.dc(),i.Tb())}function mt(e,t){if(1&e&&(i.Wb(0,"div",25),i.Wb(1,"div",26),i.Wb(2,"div",27),i.ac(3,244),i.Vb(),i.Wb(4,"div",211),i.ac(5,245),i.Vb(),i.Vb(),i.Wb(6,"div",29),i.Ub(7,246),i.Ub(8,247),i.Wb(9,"div",30),i.Wb(10,"label",159),i.ac(11,248),i.Vb(),i.Rb(12,"input",249),i.Tc(13,ut,2,1,"div",34),i.Vb(),i.Wb(14,"div",30),i.Wb(15,"my-peertube-checkbox",250),i.Tc(16,pt,2,0,"ng-template",55),i.Tc(17,ft,6,0,"ng-template",56),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(12),i.vc("ngClass",i.zc(2,qe,e.formErrors["services.twitter.username"])),i.Db(1),i.vc("ngIf",e.formErrors.services.twitter.username)}}function ht(e,t){1&e&&(i.Ub(0),i.ac(1,298),i.Tb())}function vt(e,t){1&e&&(i.Ub(0),i.ac(1,299),i.Tb())}function Ct(e,t){1&e&&(i.Ub(0),i.gc(1,300),i.Rb(2,"strong"),i.Rb(3,"p"),i.Rb(4,"br"),i.Rb(5,"strong"),i.dc(),i.Tb())}function Pt(e,t){1&e&&(i.Ub(0),i.gc(1,301),i.Rb(2,"strong"),i.Rb(3,"p"),i.Wb(4,"ul"),i.Rb(5,"li"),i.Rb(6,"li"),i.Rb(7,"li"),i.Vb(),i.Rb(8,"p"),i.dc(),i.Tb())}function Ot(e,t){if(1&e&&(i.Wb(0,"option",241),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value),i.Db(1),i.Xc(" ",e.label," ")}}function _t(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.transcoding.threads)}}function Mt(e,t){if(1&e&&i.Rb(0,"div",304),2&e){const e=i.oc(2).$implicit;i.vc("innerHTML",e.description,i.Lc)}}function yt(e,t){1&e&&i.Tc(0,Mt,1,1,"ng-template",56)}function wt(e,t){if(1&e&&(i.Wb(0,"div",30),i.Wb(1,"my-peertube-checkbox",302),i.Tc(2,yt,1,0,void 0,303),i.Vb(),i.Vb()),2&e){const e=t.$implicit,n=i.oc(2);i.Db(1),i.wc("labelText",e.label),i.vc("inputName",n.getResolutionKey(e.id))("formControlName",e.id),i.Db(1),i.vc("ngIf",e.description)}}function Vt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.cache.previews.size)}}function xt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.cache.captions.size)}}function kt(e,t){1&e&&(i.Ub(0),i.gc(1,305),i.Rb(2,"br"),i.Rb(3,"pre"),i.dc(),i.Tb())}function Tt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.customizations.javascript)}}function Wt(e,t){1&e&&(i.Ub(0),i.gc(1,306),i.Rb(2,"br"),i.Rb(3,"br"),i.Rb(4,"pre"),i.Rb(5,"em"),i.Rb(6,"br"),i.Rb(7,"br"),i.Rb(8,"pre"),i.dc(),i.Tb()),2&e&&(i.Db(8),i.ec("{")("}")("{")("}"),i.bc(1))}function zt(e,t){if(1&e&&(i.Wb(0,"div",103),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.formErrors.instance.customizations.css)}}function Dt(e,t){if(1&e&&(i.Wb(0,"div",25),i.Wb(1,"div",26),i.Wb(2,"div",27),i.ac(3,254),i.Vb(),i.Wb(4,"div",211),i.ac(5,255),i.Vb(),i.Vb(),i.Wb(6,"div",29),i.Ub(7,256),i.Wb(8,"div",30),i.Wb(9,"my-peertube-checkbox",257),i.Tc(10,ht,2,0,"ng-template",55),i.Tc(11,vt,2,0,"ng-template",56),i.Ub(12,155),i.Wb(13,"div",258),i.Wb(14,"my-peertube-checkbox",259),i.cc(15,260),i.Ub(16,153),i.Wb(17,"span"),i.ac(18,261),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(19,"div",258),i.Wb(20,"my-peertube-checkbox",262),i.cc(21,263),i.Ub(22,153),i.Wb(23,"span"),i.ac(24,264),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Ub(25,265),i.Wb(26,"div",258),i.Wb(27,"my-peertube-checkbox",266),i.cc(28,267),i.Tc(29,Ct,6,0,"ng-template",56),i.Vb(),i.Vb(),i.Tb(),i.Ub(30,268),i.Wb(31,"div",258),i.Wb(32,"my-peertube-checkbox",269),i.cc(33,270),i.Tc(34,Pt,9,0,"ng-template",56),i.Vb(),i.Vb(),i.Tb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(35,"div",258),i.Wb(36,"label",271),i.ac(37,272),i.Vb(),i.Wb(38,"div",60),i.Wb(39,"select",273),i.Tc(40,Ot,2,2,"option",117),i.Vb(),i.Vb(),i.Tc(41,_t,2,1,"div",34),i.Vb(),i.Wb(42,"div",258),i.Wb(43,"label",271),i.ac(44,274),i.Vb(),i.Wb(45,"div",275),i.Ub(46,276),i.Tc(47,wt,3,4,"div",277),i.Tb(),i.Vb(),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(48,"div",18),i.Wb(49,"div",26),i.Wb(50,"div",27),i.ac(51,278),i.Vb(),i.Wb(52,"div",211),i.ac(53,279),i.Vb(),i.Vb(),i.Wb(54,"div",29),i.Ub(55,280),i.Wb(56,"div",281),i.Wb(57,"label",282),i.ac(58,283),i.Vb(),i.Rb(59,"input",284),i.Tc(60,Vt,2,1,"div",34),i.Vb(),i.Wb(61,"div",285),i.Wb(62,"label",286),i.ac(63,287),i.Vb(),i.Rb(64,"input",288),i.Tc(65,xt,2,1,"div",34),i.Vb(),i.Tb(),i.Vb(),i.Vb(),i.Wb(66,"div",18),i.Wb(67,"div",26),i.Rb(68,"div",289),i.Wb(69,"div",27),i.ac(70,290),i.Vb(),i.Wb(71,"div",211),i.ac(72,291),i.Vb(),i.Vb(),i.Wb(73,"div",29),i.Ub(74,24),i.Ub(75,292),i.Wb(76,"div",30),i.Wb(77,"label",293),i.ac(78,294),i.Vb(),i.Wb(79,"my-help"),i.Tc(80,kt,4,0,"ng-template",59),i.Vb(),i.Rb(81,"textarea",295),i.Tc(82,Tt,2,1,"div",34),i.Vb(),i.Wb(83,"div",30),i.Wb(84,"label",296),i.Vc(85,"CSS"),i.Vb(),i.Wb(86,"my-help"),i.Tc(87,Wt,9,4,"ng-template",59),i.Vb(),i.Rb(88,"textarea",297),i.Tc(89,zt,2,1,"div",34),i.Vb(),i.Tb(),i.Tb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(13),i.vc("ngClass",i.zc(17,dt,!e.isTranscodingEnabled())),i.Db(6),i.vc("ngClass",i.zc(19,dt,!e.isTranscodingEnabled())),i.Db(7),i.vc("ngClass",i.zc(21,dt,!e.isTranscodingEnabled())),i.Db(5),i.vc("ngClass",i.zc(23,dt,!e.isTranscodingEnabled())),i.Db(4),i.vc("ngClass",i.zc(25,dt,!e.isTranscodingEnabled())),i.Db(5),i.vc("ngForOf",e.transcodingThreadOptions),i.Db(1),i.vc("ngIf",e.formErrors.transcoding.threads),i.Db(1),i.vc("ngClass",i.zc(27,dt,!e.isTranscodingEnabled())),i.Db(5),i.vc("ngForOf",e.resolutions),i.Db(12),i.vc("ngClass",i.zc(29,qe,e.formErrors["cache.previews.size"])),i.Db(1),i.vc("ngIf",e.formErrors.cache.previews.size),i.Db(4),i.vc("ngClass",i.zc(31,qe,e.formErrors["cache.captions.size"])),i.Db(1),i.vc("ngIf",e.formErrors.cache.captions.size),i.Db(16),i.vc("ngClass",i.zc(33,qe,e.formErrors["instance.customizations.javascript"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.customizations.javascript),i.Db(6),i.vc("ngClass",i.zc(35,qe,e.formErrors["instance.customizations.css"])),i.Db(1),i.vc("ngIf",e.formErrors.instance.customizations.css)}}function It(e,t){1&e&&(i.Ub(0),i.gc(1,353),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function Rt(e,t){1&e&&(i.Ub(0),i.gc(1,354),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function St(e,t){1&e&&(i.Ub(0),i.gc(1,355),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function $t(e,t){1&e&&(i.Ub(0),i.gc(1,356),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function Et(e,t){1&e&&(i.Ub(0),i.gc(1,357),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function At(e,t){if(1&e&&(i.Wb(0,"label",358),i.Vc(1),i.Vb()),2&e){const e=i.oc(3);i.Db(1),i.Xc("",e.newStoragePlan.duration/2628e6," month[s]")}}function Lt(e,t){1&e&&(i.Ub(0),i.gc(1,359),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function Nt(e,t){if(1&e&&(i.Wb(0,"label",360),i.Vc(1),i.Vb()),2&e){const e=i.oc(3);i.Db(1),i.Xc("",e.newStoragePlan.expiration/2628e6," month[s]")}}function Ut(e,t){1&e&&(i.Wb(0,"label",360),i.ac(1,361),i.Vb())}function Ft(e,t){1&e&&(i.Ub(0),i.ac(1,362),i.Tb())}function Bt(e,t){1&e&&(i.Ub(0),i.gc(1,363),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}const Gt=function(){return{standalone:!0}};function jt(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",329),i.Wb(1,"div",30),i.Wb(2,"label",330),i.ac(3,331),i.Vb(),i.Wb(4,"my-help"),i.Tc(5,It,4,0,"ng-template",59),i.Vb(),i.Wb(6,"input",332),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.name=t})),i.Vb(),i.Vb(),i.Wb(7,"div",30),i.Wb(8,"div",316),i.Wb(9,"label",333),i.ac(10,334),i.Vb(),i.Wb(11,"my-help"),i.Tc(12,Rt,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Wb(13,"input",335),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.quota=t})),i.Vb(),i.Wb(14,"label",336),i.Vc(15," GB "),i.Vb(),i.Vb(),i.Wb(16,"div",30),i.Wb(17,"div",316),i.Wb(18,"label",337),i.ac(19,338),i.Vb(),i.Wb(20,"my-help"),i.Tc(21,St,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Wb(22,"input",339),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.dailyQuota=t})),i.Vb(),i.Wb(23,"label",340),i.Vc(24," GB "),i.Vb(),i.Vb(),i.Wb(25,"div",30),i.Wb(26,"div",316),i.Wb(27,"label",341),i.ac(28,342),i.Vb(),i.Wb(29,"my-help"),i.Tc(30,$t,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Wb(31,"input",343),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.priceTube=t})),i.Vb(),i.Wb(32,"label",344),i.Vc(33," Tubes "),i.Vb(),i.Vb(),i.Wb(34,"div",30),i.Wb(35,"div",316),i.Wb(36,"label",345),i.ac(37,346),i.Vb(),i.Wb(38,"my-help"),i.Tc(39,Et,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Wb(40,"input",347),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.duration=t})),i.Vb(),i.Tc(41,At,2,1,"label",348),i.Vb(),i.Wb(42,"div",30),i.Wb(43,"div",316),i.Wb(44,"label",317),i.ac(45,349),i.Vb(),i.Wb(46,"my-help"),i.Tc(47,Lt,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Wb(48,"input",350),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.expiration=t})),i.Vb(),i.Tc(49,Nt,2,1,"label",351),i.Tc(50,Ut,2,0,"label",351),i.Vb(),i.Wb(51,"div",30),i.Wb(52,"my-peertube-checkbox",352),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc(2).newStoragePlan.active=t})),i.Tc(53,Ft,2,0,"ng-template",55),i.Tc(54,Bt,4,0,"ng-template",56),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc(2);i.Db(6),i.vc("ngModel",e.newStoragePlan.name)("ngModelOptions",i.yc(17,Gt)),i.Db(7),i.vc("ngModel",e.newStoragePlan.quota)("ngModelOptions",i.yc(18,Gt)),i.Db(9),i.vc("ngModel",e.newStoragePlan.dailyQuota)("ngModelOptions",i.yc(19,Gt)),i.Db(9),i.vc("ngModel",e.newStoragePlan.priceTube)("ngModelOptions",i.yc(20,Gt)),i.Db(9),i.vc("ngModel",e.newStoragePlan.duration)("ngModelOptions",i.yc(21,Gt)),i.Db(1),i.vc("ngIf",e.newStoragePlan.duration>0),i.Db(7),i.vc("ngModel",e.newStoragePlan.expiration)("ngModelOptions",i.yc(22,Gt)),i.Db(1),i.vc("ngIf",e.newStoragePlan.expiration>0),i.Db(1),i.vc("ngIf",0==e.newStoragePlan.expiration),i.Db(2),i.vc("ngModel",e.newStoragePlan.active)("ngModelOptions",i.yc(23,Gt))}}function Qt(e,t){1&e&&(i.Ub(0),i.gc(1,364),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function Kt(e,t){1&e&&(i.Wb(0,"tr"),i.Wb(1,"th"),i.Vc(2,"Name"),i.Vb(),i.Wb(3,"th",365),i.Vc(4,"Quota"),i.Vb(),i.Wb(5,"th",365),i.Vc(6,"Daily Quota"),i.Vb(),i.Wb(7,"th",365),i.Vc(8,"Price (TubeCoin)"),i.Vb(),i.Wb(9,"th",366),i.Vc(10,"Duration"),i.Vb(),i.Wb(11,"th",366),i.Vc(12,"Expiration"),i.Vb(),i.Wb(13,"th",367),i.Vc(14,"Active"),i.Vb(),i.Wb(15,"th",368),i.Vc(16,"Actions"),i.Vb(),i.Vb())}function Ht(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",377),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.name=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.name)("ngModelOptions",i.yc(2,Gt))}}function Xt(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit;i.Xc(" ",e.name," ")}}function qt(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",378),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.quota=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.quota)("ngModelOptions",i.yc(2,Gt))}}function Yt(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit;i.Xc(" ",e.quota," GB ")}}function Jt(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",378),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.dailyQuota=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.dailyQuota)("ngModelOptions",i.yc(2,Gt))}}function Zt(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit;i.Xc(" ",e.dailyQuota," GB ")}}function en(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",379),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.priceTube=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.priceTube)("ngModelOptions",i.yc(2,Gt))}}function tn(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit;i.Xc(" ",e.priceTube," ")}}function nn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",380),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.duration=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.duration)("ngModelOptions",i.yc(2,Gt))}}function on(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit,t=i.oc(2);i.Yc(" ",e.duration," | ",t.numberRound(e.duration/2628e6)," month[s] ")}}function cn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",381),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.expiration=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.expiration)("ngModelOptions",i.yc(2,Gt))}}function an(e,t){if(1&e&&(i.Wb(0,"div"),i.Vc(1),i.Vb()),2&e){const e=i.oc(2).$implicit,t=i.oc(2);i.Db(1),i.Yc(" ",e.expiration," | ",t.numberRound(e.expiration/2628e6)," month[s] ")}}function rn(e,t){1&e&&(i.Wb(0,"div"),i.Vc(1," 0 | Never "),i.Vb())}function ln(e,t){if(1&e&&(i.Tc(0,an,2,2,"div",303),i.Tc(1,rn,2,0,"div",303)),2&e){const e=i.oc().$implicit;i.vc("ngIf",e.expiration>0),i.Db(1),i.vc("ngIf",0==e.expiration)}}function sn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",382),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().$implicit.updateData.active=t})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("ngModel",e.updateData.active)("ngModelOptions",i.yc(2,Gt))}}function bn(e,t){if(1&e&&i.Vc(0),2&e){const e=i.oc().$implicit;i.Xc(" ",e.active," ")}}function dn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-edit-button",383),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc(2).onRowEditInit(t)})),i.Vb()}}function gn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-delete-button",384),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc(2).onRowDelete(t)})),i.Vb()}}function un(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-button",385),i.cc(1,386),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc(2).onRowEditSave(t.updateData)})),i.Vb()}}function pn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-button",387),i.cc(1,388),i.kc("click",(function(){i.Kc(e);const t=i.oc(),n=t.$implicit,o=t.planIndex;return i.oc(2).onRowEditCancel(n,o)})),i.Vb()}}function fn(e,t){if(1&e&&(i.Wb(0,"tr",369),i.Wb(1,"td"),i.Wb(2,"p-cellEditor"),i.Tc(3,Ht,1,3,"ng-template",370),i.Tc(4,Xt,1,1,"ng-template",371),i.Vb(),i.Vb(),i.Wb(5,"td"),i.Wb(6,"p-cellEditor"),i.Tc(7,qt,1,3,"ng-template",370),i.Tc(8,Yt,1,1,"ng-template",371),i.Vb(),i.Vb(),i.Wb(9,"td"),i.Wb(10,"p-cellEditor"),i.Tc(11,Jt,1,3,"ng-template",370),i.Tc(12,Zt,1,1,"ng-template",371),i.Vb(),i.Vb(),i.Wb(13,"td"),i.Wb(14,"p-cellEditor"),i.Tc(15,en,1,3,"ng-template",370),i.Tc(16,tn,1,1,"ng-template",371),i.Vb(),i.Vb(),i.Wb(17,"td"),i.Wb(18,"p-cellEditor"),i.Tc(19,nn,1,3,"ng-template",370),i.Tc(20,on,1,2,"ng-template",371),i.Vb(),i.Vb(),i.Wb(21,"td"),i.Wb(22,"p-cellEditor"),i.Tc(23,cn,1,3,"ng-template",370),i.Tc(24,ln,2,2,"ng-template",371),i.Vb(),i.Vb(),i.Wb(25,"td"),i.Wb(26,"p-cellEditor"),i.Tc(27,sn,1,3,"ng-template",370),i.Tc(28,bn,1,1,"ng-template",371),i.Vb(),i.Vb(),i.Wb(29,"td",372),i.Wb(30,"div"),i.Tc(31,dn,1,0,"my-edit-button",373),i.Tc(32,gn,1,0,"my-delete-button",374),i.Tc(33,un,2,0,"my-button",375),i.Tc(34,pn,2,0,"my-button",376),i.Vb(),i.Vb(),i.Vb()),2&e){const e=t.editing;i.vc("pEditableRow",t.$implicit),i.Db(31),i.vc("ngIf",!e),i.Db(1),i.vc("ngIf",!e),i.Db(1),i.vc("ngIf",e),i.Db(1),i.vc("ngIf",e)}}function mn(e,t){1&e&&(i.Ub(0),i.ac(1,389),i.Tb())}function hn(e,t){1&e&&(i.Ub(0),i.gc(1,390),i.Rb(2,"br"),i.Rb(3,"br"),i.dc(),i.Tb())}function vn(e,t){if(1&e&&(i.Wb(0,"div",391),i.Wb(1,"div",314),i.Wb(2,"div",27),i.ac(3,392),i.Vb(),i.Vb(),i.Ub(4,393),i.Wb(5,"div",394),i.Wb(6,"div",395),i.Wb(7,"div",396),i.Wb(8,"p",397),i.Vc(9),i.pc(10,"bytes"),i.Vb(),i.Wb(11,"p",398),i.ac(12,399),i.Vb(),i.Vb(),i.Rb(13,"i",400),i.Vb(),i.Vb(),i.Tb(),i.Ub(14,393),i.Wb(15,"div",394),i.Wb(16,"div",395),i.Wb(17,"div",396),i.Wb(18,"p",397),i.Vc(19),i.pc(20,"bytes"),i.Vb(),i.Wb(21,"p",398),i.ac(22,401),i.Vb(),i.Vb(),i.Rb(23,"i",402),i.Vb(),i.Vb(),i.Tb(),i.Ub(24,393),i.Wb(25,"div",394),i.Wb(26,"div",395),i.Wb(27,"div",396),i.Wb(28,"p",397),i.Vc(29),i.Vb(),i.Wb(30,"p",398),i.ac(31,403),i.Vb(),i.Vb(),i.Rb(32,"i",404),i.Vb(),i.Vb(),i.Tb(),i.Ub(33,393),i.Wb(34,"div",394),i.Wb(35,"div",395),i.Wb(36,"div",396),i.Wb(37,"p",397),i.Vc(38),i.Vb(),i.Wb(39,"p",398),i.ac(40,405),i.Vb(),i.Vb(),i.Rb(41,"i",406),i.Vb(),i.Vb(),i.Tb(),i.Vb()),2&e){const e=i.oc(2);i.Db(9),i.Wc(i.rc(10,4,e.serverStats.totalLocalVideoFilesSize,1)),i.Db(10),i.Wc(i.rc(20,7,e.serverStats.premiumStorageStadistics.soldStorage,1)),i.Db(10),i.Wc(e.serverStats.premiumStorageStadistics.activePayments),i.Db(9),i.Wc(e.serverStats.premiumStorageStadistics.currentMonthIncome)}}function Cn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"p-dialog",307),i.kc("visibleChange",(function(t){return i.Kc(e),i.oc().showAddPlanModal=t})),i.Tc(1,jt,55,24,"div",308),i.Wb(2,"p-footer"),i.Wb(3,"div",309),i.Wb(4,"my-button",310),i.cc(5,311),i.kc("click",(function(){return i.Kc(e),i.oc().addPlanButtonClick()})),i.Vb(),i.Wb(6,"my-button",312),i.cc(7,313),i.kc("click",(function(){return i.Kc(e),i.oc().addPlanCancel()})),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(8,"div",25),i.Wb(9,"div",314),i.Wb(10,"div",27),i.ac(11,315),i.Vb(),i.Vb(),i.Wb(12,"div",314),i.Wb(13,"div",316),i.Wb(14,"label",317),i.ac(15,318),i.Vb(),i.Wb(16,"my-help"),i.Tc(17,Qt,4,0,"ng-template",59),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"div",314),i.Wb(19,"p-table",319),i.Tc(20,Kt,17,0,"ng-template",320),i.Tc(21,fn,35,5,"ng-template",321),i.Vb(),i.Vb(),i.Vb(),i.Wb(22,"div",18),i.Wb(23,"div",322),i.Wb(24,"input",323),i.cc(25,324),i.kc("click",(function(){return i.Kc(e),i.oc().addPlanShow()})),i.Vb(),i.Vb(),i.Vb(),i.Wb(26,"div",25),i.Wb(27,"div",314),i.Wb(28,"div",27),i.ac(29,325),i.Vb(),i.Vb(),i.Ub(30,326),i.Wb(31,"div",30),i.Wb(32,"my-peertube-checkbox",327),i.Tc(33,mn,2,0,"ng-template",55),i.Tc(34,hn,4,0,"ng-template",56),i.Vb(),i.Vb(),i.Tb(),i.Vb(),i.Tc(35,vn,42,10,"div",328)}if(2&e){const e=i.oc();i.vc("visible",e.showAddPlanModal)("focusOnShow",!1)("responsive",!0)("modal",!0),i.Db(1),i.vc("ngIf",e.newStoragePlan),i.Db(18),i.vc("value",e.storagePlans),i.Db(16),i.vc("ngIf",e.premiumStorageActive)}}function Pn(e,t){1&e&&(i.Wb(0,"span",407),i.ac(1,408),i.Vb())}let On=(()=>{class e extends O.a{constructor(e,t,n,o,i,c,a,r){super(),this.viewportScroller=e,this.formValidatorService=t,this.notifier=n,this.authHttp=o,this.restExtractor=i,this.configService=c,this.confirmService=a,this.serverService=r,this.initDone=!1,this.resolutions=[],this.transcodingThreadOptions=[],this.serverStats=null,this.storagePlans=[],this.planIndex=null,this.premiumStorageActive=!1,this.addPremiumPlanClicked=!1,this.showAddPlanModal=!1,this.languageItems=[],this.categoryItems=[],this.bytesPipe=new $.a,this.resolutions=[{id:"0p",label:"\u0E40\u0E09\u0E1E\u0E32\u0E30\u0E40\u0E2A\u0E35\u0E22\u0E07",description:"\u0E44\u0E1F\u0E25\u0E4C <code>.mp4</code> \u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E2A\u0E35\u0E22\u0E07\u0E15\u0E49\u0E19\u0E09\u0E1A\u0E31\u0E1A \u0E44\u0E21\u0E48\u0E21\u0E35\u0E20\u0E32\u0E1E"},{id:"240p",label:"240p"},{id:"360p",label:"360p"},{id:"480p",label:"480p"},{id:"720p",label:"720p"},{id:"1080p",label:"1080p"},{id:"2160p",label:"2160p"}],this.transcodingThreadOptions=[{value:0,label:"\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34 (\u0E1C\u0E48\u0E32\u0E19 ffmpeg)"},{value:1,label:"1"},{value:2,label:"2"},{value:4,label:"4"},{value:8,label:"8"}],this.serverService.getServerStats().subscribe(e=>{this.serverStats=e})}get videoQuotaOptions(){return this.configService.videoQuotaOptions}get videoQuotaDailyOptions(){return this.configService.videoQuotaDailyOptions}get availableThemes(){return this.serverConfig.theme.registered.map(e=>e.name)}ngOnInit(){this.subscribeConfigAndPlans(),this.serverConfig=this.serverService.getTmpConfig(),this.resetNewStoragePlan();const e={instance:{name:E,shortDescription:A,description:null,isNSFW:!1,defaultNSFWPolicy:null,terms:null,codeOfConduct:null,creationReason:null,moderationInformation:null,administrator:null,maintenanceLifetime:null,businessModel:null,hardwareInformation:null,categories:null,languages:null,defaultClientRoute:null,customizations:{javascript:null,css:null}},theme:{default:null},services:{twitter:{username:L,whitelisted:null}},cache:{previews:{size:N},captions:{size:U}},signup:{enabled:null,limit:F,requiresEmailVerification:null},import:{videos:{http:{enabled:null},torrent:{enabled:null}}},admin:{email:B},contactForm:{enabled:null},user:{videoQuota:K.m,videoQuotaDaily:K.l},transcoding:{enabled:null,threads:G,allowAdditionalExtensions:null,allowAudioFiles:null,resolutions:{},hls:{enabled:null},webtorrent:{enabled:null}},autoBlacklist:{videos:{ofUsers:{enabled:null}}},followers:{instance:{enabled:null,manualApproval:null}},followings:{instance:{autoFollowBack:{enabled:null},autoFollowIndex:{enabled:null,indexUrl:j}}},premium_storage:{enabled:null},broadcastMessage:{enabled:null,level:null,dismissable:null,message:null},search:{remoteUri:{users:null,anonymous:null},searchIndex:{enabled:null,url:Q,disableLocalSearch:null,isDefaultSearch:null}}},t={transcoding:{resolutions:{}}};for(const n of this.resolutions)t.transcoding.resolutions[n.id]="false",e.transcoding.resolutions[n.id]=null;this.buildForm(e),this.loadForm(),this.checkTranscodingFields()}ngAfterViewChecked(){this.initDone||(this.initDone=!0,this.gotoAnchor())}resetNewStoragePlan(){this.newStoragePlan={name:null,quota:0,dailyQuota:0,priceTube:0,duration:0,expiration:0,active:!1,tubePayId:null}}subscribeConfigAndPlans(){Object(S.a)([this.getPlans(),this.serverService.getConfig()]).subscribe(([e,t])=>{e.success?(this.storagePlans=e.plans,this.storagePlans.forEach(e=>{e.quota=Math.round(e.quota/1073741824),e.dailyQuota=Math.round(e.dailyQuota/1073741824),e.updateData=e})):this.storagePlans=[],t&&(this.serverConfig=t,this.premiumStorageActive=t.premium_storage.enabled)})}addPlanButtonClick(){this.isAddPlanButtonDisabled()||(this.newStoragePlan.quota=1073741824*this.newStoragePlan.quota,this.newStoragePlan.dailyQuota=1073741824*this.newStoragePlan.dailyQuota,this.addPlan(this.newStoragePlan).subscribe(e=>{e.success?(this.notifier.success("Your new plan has been successfully added"),this.showAddPlanModal=!1,this.resetNewStoragePlan(),this.subscribeConfigAndPlans()):(this.notifier.error(e.error),this.newStoragePlan.quota=this.newStoragePlan.quota/1073741824,this.newStoragePlan.dailyQuota=this.newStoragePlan.dailyQuota/1073741824)}))}addPlanCancel(){this.showAddPlanModal=!1}addPlanShow(){this.showAddPlanModal=!0}addPlan(t){const n=t;return n.accessToken=localStorage.getItem("access_token"),this.authHttp.post(e.GET_PREMIUM_STORAGE_API_URL+"add-plan",n).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}isAddPlanButtonDisabled(){const{name:e,quota:t,dailyQuota:n,priceTube:o,duration:i,active:c,expiration:a}=this.newStoragePlan;return"string"!=typeof e||null===e||""===e||e.length>50||"number"!=typeof t||t<-1||0===t||"number"!=typeof n||n<-1||0===n||"number"!=typeof o||o<0||"number"!=typeof i||i<2628e6||i>31536e6||"number"!=typeof a||a<0||"boolean"!=typeof c}showAddButtonSubmitError(){return!1!==this.addPremiumPlanClicked&&this.isAddPlanButtonDisabled()}getPlans(){return this.authHttp.get(e.GET_PREMIUM_STORAGE_API_URL+"plans").pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}getHRBytes(e){try{return null==e?"":this.bytesPipe.transform(parseInt(e,10),0)}catch(t){return t}}numberRound(e){return Math.round(e)}onRowEditInit(e){}onRowDelete(e){return Object(V.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("Do you really want to delete '{{planName}}' plan? \n ATENTION! If some user already bought this plan you can delete his payment also! Before delete a plan, be sure that anybody is using it or consider to just deactivate it\", { planName: rowData.name }","Delete"))&&this.deletePlan({planId:e.id,tubePayId:e.tubePayId}).subscribe(e=>{e.success?(this.subscribeConfigAndPlans(),setTimeout(()=>{this.notifier.success("Plan successfully deleted")},1e3)):this.notifier.error("Something went wrong deleting the plan, reload and try again")})}))}deletePlan(t){return this.authHttp.post(e.GET_PREMIUM_STORAGE_API_URL+"delete-plan",t).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}onRowEditSave(e){this.updatePlan({id:e.id,tubePayId:e.tubePayId,name:e.name,quota:1073741824*e.quota,dailyQuota:1073741824*e.dailyQuota,priceTube:e.priceTube,duration:e.duration,expiration:e.expiration,active:e.active}).subscribe(e=>{e.success?(this.subscribeConfigAndPlans(),this.notifier.success("Plan successfully updated")):this.notifier.error("Something went wrong updating the plan, reload and try again")})}updatePlan(t){return this.authHttp.post(e.GET_PREMIUM_STORAGE_API_URL+"update-plan",t).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}onRowEditCancel(e,t){}getResolutionKey(e){return"transcoding.resolutions."+e}showFormSubmitButton(){return void 0!==this.nav&&void 0!==this.nav.activeId&&"premium-storage-config"!==this.nav.activeId}isTranscodingEnabled(){return!0===this.form.value.transcoding.enabled}isSignupEnabled(){return!0===this.form.value.signup.enabled}isSearchIndexEnabled(){return!0===this.form.value.search.searchIndex.enabled}isAutoFollowIndexEnabled(){return!0===this.form.value.followings.instance.autoFollowIndex.enabled}formValidated(){return Object(V.a)(this,void 0,void 0,(function*(){this.configService.updateCustomConfig(this.form.getRawValue()).subscribe(e=>{this.customConfig=e,this.serverService.resetConfig(),this.updateForm(),this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E41\u0E25\u0E49\u0E27")},e=>this.notifier.error(e.message))}))}gotoAnchor(){const e={customizations:"advanced-configuration"},t=window.location.hash.replace("#","");t&&Object.keys(e).includes(t)&&(this.nav.select(e[t]),setTimeout(()=>this.viewportScroller.scrollToAnchor(t),100))}updateForm(){this.form.patchValue(this.customConfig)}loadForm(){Object(S.a)([this.configService.getCustomConfig(),this.serverService.getVideoLanguages(),this.serverService.getVideoCategories()]).subscribe(([e,t,n])=>{this.customConfig=e,this.languageItems=t.map(e=>({label:e.label,id:e.id})),this.categoryItems=n.map(e=>({label:e.label,id:e.id+""})),this.updateForm(),this.forceCheck()},e=>this.notifier.error(e.message))}checkTranscodingFields(){const e=this.form.get("transcoding.hls.enabled"),t=this.form.get("transcoding.webtorrent.enabled");t.valueChanges.subscribe(t=>{!1!==t||e.disabled||e.disable(),!0!==t||e.enabled||e.enable()}),e.valueChanges.subscribe(e=>{!1!==e||t.disabled||t.disable(),!0!==e||t.enabled||t.enable()})}}return e.GET_PREMIUM_STORAGE_API_URL=T.a.apiUrl+"/api/v1/premium-storage/",e.\u0275fac=function(t){return new(t||e)(i.Qb(c.J),i.Qb(O.b),i.Qb(k.Notifier),i.Qb(W.b),i.Qb(R.RestExtractor),i.Qb(z),i.Qb(I.a),i.Qb(D.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-edit-custom-config"]],viewQuery:function(e,t){var n;1&e&&i.Zc(Re,!0),2&e&&i.Hc(n=i.lc())&&(t.nav=n.first)},features:[i.Ab],decls:32,vars:4,consts:function(){var e,t,n,o,c,a,r,l,s,b,d,g,u,p,f,m,h,v,C,P,O,_,M,y,w,V,x,k,T,W,z,D,I,R,S,$,E,A,L,N,U,F,B,G,j,Q,K,H,X,q,Y,J,Z,ee,te,ne,oe,ie,ce,ae,re,le,se,be,de,ge,ue,pe,fe,me,he,ve,Ce,Pe,Oe,_e,Me,ye,we,Ve,xe,ke,Te,We,ze,De,Ie,Re,Se,$e,Ee,Ae,Le,Ne,Ue,Fe,Be,Ge,je,Qe,Ke,He,Xe,qe,Ye,Je,Ze,et,tt,nt,ot,it,ct,at,rt,lt,st,bt,dt,gt,ut,pt,ft,mt,ht,vt,Ct,Pt,Ot,_t,Mt,yt,wt,Vt,xt,kt,Tt,Wt,zt,Dt,It,Rt,St,$t,Et,At,Lt,Nt,Ut;return e="Configuration",t="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C",n="Basic configuration",o="Services",c="Advanced configuration",a="Premium Storage",r="Update configuration",l="INSTANCE",s="\u0E0A\u0E37\u0E48\u0E2D",b="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22\u0E2A\u0E31\u0E49\u0E19",d="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",g="Main instance categories",u="Add a new category",p="Main languages you/your moderators speak",f="Add a new language",m="MODERATION & NSFW",h="\n                Manage \n          " + "\ufffd#40\ufffd" + "users\n          " + "\ufffd/#40\ufffd" + " to build a moderation team.\n              \n        ",v="\u0E19\u0E42\u0E22\u0E1A\u0E32\u0E22\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E40\u0E2B\u0E21\u0E32\u0E30\u0E2A\u0E21",C="\u0E19\u0E42\u0E22\u0E1A\u0E32\u0E22\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E44\u0E21\u0E48\u0E40\u0E2B\u0E21\u0E32\u0E30\u0E2A\u0E21",P="\u0E2B\u0E49\u0E32\u0E21\u0E41\u0E2A\u0E14\u0E07\u0E43\u0E19\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",O="\u0E40\u0E1A\u0E25\u0E2D\u0E20\u0E32\u0E1E\u0E02\u0E19\u0E32\u0E14\u0E22\u0E48\u0E2D",_="\u0E41\u0E2A\u0E14\u0E07",M="\u0E40\u0E07\u0E37\u0E48\u0E2D\u0E19\u0E44\u0E02",y="Code of conduct",w="Moderation information",V="Who moderates the instance? What is the policy regarding NSFW videos? Political videos? etc",x="YOU AND YOUR INSTANCE",k="Who is behind the instance?",T="A single person? A non-profit? A company?",W="Why did you create this instance?",z="To share your personal videos? To open registrations and allow people to upload what they want?",D="How long do you plan to maintain this instance?",I="It's important to know for users who want to register on your instance",R="How will you finance the PeerTube server?",S="With your own funds? With user donations? Advertising?",$="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2D\u0E37\u0E48\u0E19 \u0E46",E="What server/hardware does the instance run on?",A="i.e. 2vCore 2GB RAM, a direct the link to the server you rent, etc.",L="This instance is dedicated to sensitive or NSFW content",N="\n                      Enabling it will allow other administrators to know that you are mainly federating sensitive content.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "\n                      Moreover, the NSFW checkbox on video upload will be automatically checked by default.\n                    \n        ",N=i.fc(N),U="\n                      With \n          " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "Do not list\n          " + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " or \n          " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "Blur thumbnails\n          " + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + ", a confirmation will be requested to watch the video.\n                    \n        ",U=i.fc(U),F="APPEARANCE",B="\n              Use \n          " + "\ufffd#6\ufffd" + "plugins & themes\n          " + "[\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + " for more involved changes, or \n          " + "\ufffd#7\ufffd" + "add slight customizations\n          " + "[\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + ".\n            \n        ",B=i.fc(B),G="\u0E18\u0E35\u0E21",j="default",Q="Landing page",K="Discover videos",H="Trending videos",X="Most liked videos",q="Recently added videos",Y="Local videos",J="BROADCAST MESSAGE",Z="\n              Display a message on your instance\n            ",ee="Enable broadcast message",te="Allow users to dismiss the broadcast message ",ne="Broadcast message level",oe="Message",ie="NEW USERS",ce="\n              Manage \n          " + "\ufffd#72\ufffd" + "users\n          " + "\ufffd/#72\ufffd" + " to set their quota individually.\n            \n        ",ae="Enable Signup",re="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",le="Signup requires email verification",se="Signup limit",be="Default video quota per user",de="Default daily upload limit per user",ge="VIDEOS",ue="Allow import with HTTP URL (i.e. YouTube)",pe="Allow import with a torrent file or a magnet URI",fe="Block new videos automatically",me="Unless a user is marked as trusted, their videos will stay private until a moderator reviews them.",he="\u0E04\u0E49\u0E19\u0E2B\u0E32",ve="Allow users to do remote URI/handle search",Ce="Allow \n          " + "\ufffd#140\ufffd" + "your users\n          " + "\ufffd/#140\ufffd" + " to look up remote videos/actors by their URI, that may not be federated with your instance\n        ",Pe="Allow anonymous to do remote URI/handle search",Oe="Allow \n          " + "\ufffd#147\ufffd" + "anonymous users\n          " + "\ufffd/#147\ufffd" + " to look up remote videos/actors by their URI, that may not be federated with your instance\n        ",_e="Enable global search",Me="\u26A0\uFE0F This functionality depends heavily on the moderation of instances followed by the search index you select.",ye="\n                        You should only use moderated search indexes in production, or \n          " + "\ufffd#157\ufffd" + "host your own\n          " + "\ufffd/#157\ufffd" + ".\n                      \n        ",we="Search index URL",Ve="Disable local search in search bar",xe="Search bar uses the global search index by default",ke="Otherwise the local search stays used by default",Te="FEDERATION",We="\n              Manage \n          " + "\ufffd#179\ufffd" + "relations\n          " + "\ufffd/#179\ufffd" + " with other instances.\n            \n        ",ze="Other instances can follow yours",De="Manually approve new instance followers",Ie="Automatically follow back instances",Re="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",Se="Automatically follow instances of a public index",$e="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",Ee="\n                          You should only follow moderated indexes in production, or \n          " + "\ufffd#207\ufffd" + "host your own\n          " + "\ufffd/#207\ufffd" + ".\n                        \n        ",Ae="Index URL",Le="ADMINISTRATORS",Ne="Admin email",Ue="Enable contact form",Fe="TWITTER",Be="\n              Optional. If any, provide the Twitter account representing your instance to improve link previews.\n            ",Ge="Your Twitter username",je="Instance allowed by Twitter",Qe="\n                        If your instance is explicitly allowed by Twitter, a video player will be embedded in the Twitter feed on PeerTube video share.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + "\n                        If the instance is not, we use an image link card that will redirect on your PeerTube instance.\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + "\n                        Check this checkbox, save the configuration and test with a video URL of your instance (https://example.com/videos/watch/blabla) on\n                        \n          " + "\ufffd#5\ufffd" + "https://cards-dev.twitter.com/validator\n          " + "\ufffd/#5\ufffd" + "\n                        to see if you instance is allowed.\n                      \n        ",Qe=i.fc(Qe),Ke="TRANSCODING",He="\n              Process uploaded videos so that they are in a streamable form that any device can play. Though costly in\n              resources, this is a critical part of PeerTube, so tread carefully.\n            ",Xe="Allow additional extensions",qe="Allows users to upload .mkv, .mov, .avi, .wmv, .flv, .f4v, .3g2, .3gp, .mts, m2ts, .mxf, .nut videos.",Ye="Allow audio files upload",Je="Allows users to upload audio files that will be merged with the preview file on upload.",Ze="WebTorrent support enabled",et="HLS with P2P support enabled",tt="Transcoding threads",nt="Resolutions to generate",ot="CACHE",it="\n              Some files are not federated, and fetched when necessary. Define their caching policies.\n            ",ct="Number of previews to keep in cache",at="Number of video captions to keep in cache",rt="CUSTOMIZATIONS",lt="\n              Slight modifications to your PeerTube instance for when creating a plugin or theme is overkill.\n            ",st="JavaScript",bt="Transcoding enabled",dt="If you disable transcoding, many videos from your users will not work!",gt="\n          " + "[\ufffd#2\ufffd|\ufffd#5\ufffd]" + "Experimental, we suggest you to not disable webtorrent support for now\n          " + "[\ufffd/#2\ufffd|\ufffd/#5\ufffd]" + "\n          " + "\ufffd#3\ufffd" + "If you also enabled HLS support, it will multiply videos storage by 2\n          " + "\ufffd/#3\ufffd" + "\n          " + "\ufffd#4\ufffd\ufffd/#4\ufffd" + "\n          " + "[\ufffd#2\ufffd|\ufffd#5\ufffd]" + "If disabled, breaks federation with PeerTube instances < 2.1\n          " + "[\ufffd/#2\ufffd|\ufffd/#5\ufffd]" + "\n        ",gt=i.fc(gt),ut="\n          " + "\ufffd#2\ufffd" + "Requires ffmpeg >= 4.1\n          " + "\ufffd/#2\ufffd" + "\n          " + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "Generate HLS playlists and fragmented MP4 files resulting in a better playback than with the current default player:\n          " + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "\n          " + "\ufffd#4\ufffd" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Resolution change is smoother\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Faster playback in particular with long videos\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "More stable playback (less bugs/infinite loading)\n          " + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "\n          " + "\ufffd/#4\ufffd" + "\n          " + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "If you also enabled WebTorrent support, it will multiply videos storage by 2\n          " + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "\n        ",ut=i.fc(ut),pt="\n                        Write JavaScript code directly.\n          " + "\ufffd#2\ufffd\ufffd/#2\ufffd" + "Example: \n          " + "\ufffd#3\ufffd" + "console.log('my instance is amazing');\n          " + "\ufffd/#3\ufffd" + "\n        ",ft="\n                        Write CSS code directly. Example:\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + "    #custom-css \n          " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + "\n      color: red;\n    \n          " + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n          " + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + "\n                        Prepend with \n          " + "\ufffd#5\ufffd" + "#custom-css\n          " + "\ufffd/#5\ufffd" + " to override styles. Example:\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "\n          " + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + "    #custom-css .logged-in-email \n          " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + "\n      color: red;\n    \n          " + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n          " + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + "\n        ",ft=i.fc(ft),mt="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",ht="Cancel",vt="AVAILABLE PLANS",Ct="IMPORTANT!",Pt="Add plan",Ot="ACTIVE / DEACTIVATE",_t="\u0E0A\u0E37\u0E48\u0E2D",Mt="Quota",yt="Daily Quota",wt="Price",Vt="\u0E04\u0E27\u0E32\u0E21\u0E22\u0E32\u0E27",xt="Expiration",kt=" This is the Name of the plan. It is a string with a maximun length of 50." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Anyway, we recomend to use short & user friendly names ",kt=i.fc(kt),Tt=" This value is the TOTAL amount of data that a user can upload with this plan." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " It's an integer in GIGABYTES. For unlimited storage use -1 ",Tt=i.fc(Tt),Wt=" This value is the DAILY amount of data that a user can upload with this plan." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " It's an integer in GIGABYTES. For unlimited uploading use -1 ",Wt=i.fc(Wt),zt=" This value is the Price in Tube Coins for this plan. " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " It is a float with 8 decimals. ",zt=i.fc(zt),Dt=" This value is the Duration (lifespan) of this plan when people buy it. It is an integer in miliseconds." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Minimum value is 1 month and maximum 1 year. ",Dt=i.fc(Dt),It=" After this expiration time is finished, this plan will not be available for purchase it. It is an integer in miliseconds." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Minimum value is 0 (never expires) and maximum 10 years. ",It=i.fc(It),Rt="never",St="Active",$t=" You can create the plan activated or deactivated." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " You will be able to modify this value in future. ",$t=i.fc($t),Et=" You must add your plans in size order to avoid plan downgrading " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " You can always add,edit or delete plans. They must be active for users to buy them. ",Et=i.fc(Et),At="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",Lt="Cancel",Nt="Premium storage is enabled",Ut=" Enabling it, will allow users to pay for a premium storage plan with Tube Coins." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " You need to create your own plans in this section. ",[[1,"sr-only"],e,["role","form",3,"formGroup"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem","instance-information"],["ngbNavLink",""],t,["ngbNavContent",""],["ngbNavItem","basic-configuration"],n,["ngbNavItem","services"],o,["ngbNavItem","advanced-configuration"],c,["ngbNavItem","premium-storage-config"],a,[3,"ngbNavOutlet"],[1,"form-row","mt-4"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5"],["class","form-error submit-error",4,"ngIf"],["type","submit",3,"disabled","click",6,"value"],["value",r],["formGroupName","instance"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],l,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"form-group"],["for","instanceName"],s,["type","text","id","instanceName","formControlName","name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","instanceShortDescription"],b,["id","instanceShortDescription","formControlName","shortDescription",1,"form-control","small",3,"ngClass"],["for","instanceDescription"],d,["helpType","markdownText"],["name","instanceDescription","formControlName","description","textareaMaxWidth","500px",3,"classes"],["for","instanceCategories"],g,["id","instanceCategories","formControlName","categories",3,"availableItems","selectableGroup",6,"placeholder"],["placeholder",u],["for","instanceLanguages"],p,["id","instanceLanguages","formControlName","languages",3,"availableItems","selectableGroup",6,"placeholder"],["placeholder",f],m,[1,"inner-for-description"],h,["routerLink","/admin/users"],["inputName","instanceIsNSFW","formControlName","isNSFW"],["ptTemplate","label"],["ptTemplate","help"],["for","instanceDefaultNSFWPolicy"],v,["ptTemplate","customHtml"],[1,"peertube-select-container"],["id","instanceDefaultNSFWPolicy","formControlName","defaultNSFWPolicy",1,"form-control"],["value","undefined","disabled",""],C,["value","do_not_list"],P,["value","blur"],O,["value","display"],_,["for","instanceTerms"],M,["name","instanceTerms","formControlName","terms","textareaMaxWidth","500px",3,"ngClass"],["for","instanceCodeOfConduct"],y,["name","instanceCodeOfConduct","formControlName","codeOfConduct","textareaMaxWidth","500px",3,"ngClass"],["for","instanceModerationInformation"],w,[1,"label-small-info"],V,["name","instanceModerationInformation","formControlName","moderationInformation","textareaMaxWidth","500px",3,"ngClass"],x,["for","instanceAdministrator"],k,T,["name","instanceAdministrator","formControlName","administrator","textareaMaxWidth","500px","textareaHeight","75px",3,"classes"],["for","instanceCreationReason"],W,z,["id","instanceCreationReason","formControlName","creationReason",1,"form-control",3,"ngClass"],["for","instanceMaintenanceLifetime"],D,I,["id","instanceMaintenanceLifetime","formControlName","maintenanceLifetime",1,"form-control","small",3,"ngClass"],["for","instanceBusinessModel"],R,S,["id","instanceBusinessModel","formControlName","businessModel",1,"form-control","small",3,"ngClass"],$,["for","instanceHardwareInformation"],E,A,["name","instanceHardwareInformation","formControlName","hardwareInformation","textareaMaxWidth","500px","textareaHeight","75px",3,"classes"],[1,"form-error"],L,N,U,F,B,["routerLink","/admin/plugins"],["routerLink","/admin/config/edit-custom","fragment","customizations",3,"click"],["formGroupName","theme"],["for","themeDefault"],G,["formControlName","default","id","themeDefault",1,"form-control"],["value","default"],j,[3,"value",4,"ngFor","ngForOf"],["formGroupName","instance",1,"form-group"],["for","instanceDefaultClientRoute"],Q,["id","instanceDefaultClientRoute","formControlName","defaultClientRoute",1,"form-control"],["value","/videos/overview"],K,["value","/videos/trending"],H,["value","/videos/most-liked"],X,["value","/videos/recently-added"],q,["value","/videos/local"],Y,J,Z,["formGroupName","broadcastMessage"],["inputName","broadcastMessageEnabled","formControlName","enabled",6,"labelText"],["labelText",ee],["inputName","broadcastMessageDismissable","formControlName","dismissable",6,"labelText"],["labelText",te],["for","broadcastMessageLevel"],ne,["id","broadcastMessageLevel","formControlName","level",1,"form-control"],["value","info"],["value","warning"],["value","error"],["for","broadcastMessageMessage"],oe,["name","broadcastMessageMessage","formControlName","message","textareaMaxWidth","500px",3,"classes"],ie,ce,["formGroupName","signup"],["inputName","signupEnabled","formControlName","enabled",6,"labelText"],["labelText",ae],["ngProjectAs","description",5,["description"]],re,["ngProjectAs","extra",5,["extra"]],["inputName","signupRequiresEmailVerification","formControlName","requiresEmailVerification",3,"ngClass",6,"labelText"],["labelText",le],[1,"mt-3",3,"ngClass"],["for","signupLimit"],se,["type","number","min","-1","id","signupLimit","formControlName","limit",1,"form-control",3,"ngClass"],["class","text-muted",4,"ngIf"],["formGroupName","user"],["for","userVideoQuota"],be,["id","userVideoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["for","userVideoQuotaDaily"],de,["id","userVideoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],ge,["formGroupName","import"],["formGroupName","videos"],["formGroupName","http",1,"form-group"],["inputName","importVideosHttpEnabled","formControlName","enabled",6,"labelText"],["labelText",ue],["formGroupName","torrent",1,"form-group"],["inputName","importVideosTorrentEnabled","formControlName","enabled",6,"labelText"],["labelText",pe],["formGroupName","autoBlacklist"],["formGroupName","ofUsers"],["inputName","autoBlacklistVideosOfUsersEnabled","formControlName","enabled",6,"labelText"],["labelText",fe],me,he,["formGroupName","search"],["formGroupName","remoteUri"],["inputName","searchRemoteUriUsers","formControlName","users",6,"labelText"],["labelText",ve],Ce,["inputName","searchRemoteUriAnonymous","formControlName","anonymous",6,"labelText"],["labelText",Pe],Oe,["formGroupName","searchIndex"],["inputName","searchIndexEnabled","formControlName","enabled",6,"labelText"],["labelText",_e],Me,ye,["href","https://framagit.org/framasoft/peertube/search-index"],[3,"ngClass"],["for","searchIndexUrl"],we,["type","text","id","searchIndexUrl","formControlName","url",1,"form-control",3,"ngClass"],[1,"mt-3"],["inputName","searchIndexDisableLocalSearch","formControlName","disableLocalSearch",3,"ngClass",6,"labelText"],["labelText",Ve],["inputName","searchIndexIsDefaultSearch","formControlName","isDefaultSearch",3,"ngClass",6,"labelText"],["labelText",xe],ke,Te,[1,"inner-form-description"],We,["routerLink","/admin/follows"],["formGroupName","followers"],["inputName","followersInstanceEnabled","formControlName","enabled",6,"labelText"],["labelText",ze],["inputName","followersInstanceManualApproval","formControlName","manualApproval",6,"labelText"],["labelText",De],["formGroupName","followings"],["formGroupName","autoFollowBack"],["inputName","followingsInstanceAutoFollowBackEnabled","formControlName","enabled",6,"labelText"],["labelText",Ie],Re,["formGroupName","autoFollowIndex"],["inputName","followingsInstanceAutoFollowIndexEnabled","formControlName","enabled",6,"labelText"],["labelText",Se],$e,Ee,["href","https://framagit.org/framasoft/peertube/instances-peertube#peertube-auto-follow"],["for","followingsInstanceAutoFollowIndexUrl"],Ae,["type","text","id","followingsInstanceAutoFollowIndexUrl","formControlName","indexUrl",1,"form-control",3,"ngClass"],Le,["formGroupName","admin",1,"form-group"],["for","adminEmail"],Ne,["type","text","id","adminEmail","formControlName","email",1,"form-control",3,"ngClass"],["formGroupName","contactForm",1,"form-group"],["inputName","enableContactForm","formControlName","enabled",6,"labelText"],["labelText",Ue],[3,"value"],[1,"text-muted"],[3,"value","disabled"],Fe,Be,["formGroupName","services"],["formGroupName","twitter"],Ge,["type","text","id","servicesTwitterUsername","formControlName","username",1,"form-control",3,"ngClass"],["inputName","servicesTwitterWhitelisted","formControlName","whitelisted"],je,Qe,["target","_blank","rel","noopener noreferrer","href","https://cards-dev.twitter.com/validator"],Ke,He,["formGroupName","transcoding"],["inputName","transcodingEnabled","formControlName","enabled"],[1,"form-group",3,"ngClass"],["inputName","transcodingAllowAdditionalExtensions","formControlName","allowAdditionalExtensions",6,"labelText"],["labelText",Xe],qe,["inputName","transcodingAllowAudioFiles","formControlName","allowAudioFiles",6,"labelText"],["labelText",Ye],Je,["formGroupName","webtorrent"],["inputName","transcodingWebTorrentEnabled","formControlName","enabled",6,"labelText"],["labelText",Ze],["formGroupName","hls"],["inputName","transcodingHlsEnabled","formControlName","enabled",6,"labelText"],["labelText",et],["for","transcodingThreads"],tt,["id","transcodingThreads","formControlName","threads",1,"form-control"],nt,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","resolutions"],["class","form-group",4,"ngFor","ngForOf"],ot,it,["formGroupName","cache"],["formGroupName","previews",1,"form-group"],["for","cachePreviewsSize"],ct,["type","number","min","0","id","cachePreviewsSize","formControlName","size",1,"form-control",3,"ngClass"],["formGroupName","captions",1,"form-group"],["for","cacheCaptionsSize"],at,["type","number","min","0","id","cacheCaptionsSize","formControlName","size",1,"form-control",3,"ngClass"],["id","customizations",1,"anchor"],rt,lt,["formGroupName","customizations"],["for","customizationJavascript"],st,["id","customizationJavascript","formControlName","javascript",1,"form-control",3,"ngClass"],["for","customizationCSS"],["id","customizationCSS","formControlName","css",1,"form-control",3,"ngClass"],bt,dt,gt,ut,[3,"inputName","formControlName","labelText"],[4,"ngIf"],[3,"innerHTML"],pt,ft,["header","Add a new plan","showEffect","fade",1,"add-plan-modal",3,"visible","focusOnShow","responsive","modal","visibleChange"],["class","p-grid ui-fluid",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-helper-clearfix"],["pButton","","type","button","icon","tick",1,"row-save-button",3,"click",6,"label"],["label",mt],["pButton","","type","button","icon","cross",1,"row-cancel-button",3,"click",6,"label"],["label",ht],[1,"form-group","col-12"],vt,[1,"label-with-help"],["for","newPlanExpiration"],Ct,["dataKey","id","editMode","row",1,"p-table",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"col-12"],["type","submit",1,"add-plan-button",3,"click",6,"value"],["value",Pt],Ot,["formGroupName","premium_storage",1,"form-group","form-group-right","col-12"],["inputName","premiumStorageActive","formControlName","enabled"],["id","premiumStorageOverview","class","overview form-row mt-5",4,"ngIf"],[1,"p-grid","ui-fluid"],["for","newPlanName"],_t,["type","text","id","newPlanName",1,"storage-input","storage-text-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","newPlanQuota"],Mt,["type","number","min","-1","step","1","id","newPlanQuota",1,"storage-input","storage-numeric-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","newPlanQuota",1,"storage-label"],["for","newPlanDailyQuota"],yt,["type","number","min","-1","step","1","id","newPlanDailyQuota",1,"storage-input","storage-numeric-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","newPlanDailyQuota",1,"storage-label"],["for","newPlanPrice"],wt,["type","number","min","0","step","1000","id","newPlanPrice",1,"storage-input","storage-numeric-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","newPlanPrice",1,"storage-label"],["for","newPlanDuration"],Vt,["type","number","min","2628000000","max","31536000000","step","2628000000","id","newPlanDuration",1,"storage-input","storage-numeric-input",3,"ngModel","ngModelOptions","ngModelChange"],["class","storage-label","for","newPlanDuration",4,"ngIf"],xt,["type","number","min","0","max","315360000000","step","2628000000","id","newPlanExpiration",1,"storage-input","storage-numeric-input",3,"ngModel","ngModelOptions","ngModelChange"],["class","storage-label","for","newPlanExpiration",4,"ngIf"],["inputName","newPlanActivated",3,"ngModel","ngModelOptions","ngModelChange"],kt,Tt,Wt,zt,Dt,["for","newPlanDuration",1,"storage-label"],It,["for","newPlanExpiration",1,"storage-label"],Rt,St,$t,Et,[2,"width","200px"],[2,"width","220px"],[2,"width","100px"],[2,"width","250px"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[2,"text-align","left"],["pInitEditableRow","","class","row-edit-button",3,"click",4,"ngIf"],["class","row-delete-button","disabled","true",3,"click",4,"ngIf"],["pButton","","type","button","pSaveEditableRow","","class","row-save-button","icon","tick",3,"click",4,"ngIf",6,"label"],["pButton","","type","button","pCancelEditableRow","","class","row-cancel-button","icon","cross",3,"click",4,"ngIf",6,"label"],["pInputText","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["pInputText","","type","number","min","-1","step","1",3,"ngModel","ngModelOptions","ngModelChange"],["pInputText","","type","number","min","1","step","1000",3,"ngModel","ngModelOptions","ngModelChange"],["pInputText","","type","number","min","1","step","2628000000",3,"ngModel","ngModelOptions","ngModelChange"],["pInputText","","type","number","min","0","step","2628000000",3,"ngModel","ngModelOptions","ngModelChange"],["pInputText","","type","checkbox",1,"pTableSimpleCheckbox",3,"ngModel","ngModelOptions","ngModelChange"],["pInitEditableRow","",1,"row-edit-button",3,"click"],["disabled","true",1,"row-delete-button",3,"click"],["pButton","","type","button","pSaveEditableRow","","icon","tick",1,"row-save-button",3,"click",6,"label"],["label",At],["pButton","","type","button","pCancelEditableRow","","icon","cross",1,"row-cancel-button",3,"click",6,"label"],["label",Lt],Nt,Ut=i.fc(Ut),["id","premiumStorageOverview",1,"overview","form-row","mt-5"],"STORAGE OVERVIEW",[1,"form-group","form-group-right","col-12"],[1,"col-6","col-lg-4","col-xl-3"],[1,"card","stat"],[1,"card-body"],[1,"stat-value"],[1,"stat-label"],"\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E02\u0E2D\u0E07\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A",[1,"glyphicon","glyphicon-film"],"of sold storage",[1,"glyphicon","glyphicon-hdd"],"users with active payments",[1,"glyphicon","glyphicon-user"],"Tubes earned this month",[1,"glyphicon","glyphicon-piggy-bank"],[1,"form-error","submit-error"],"It seems like the configuration is invalid. Please search for potential errors in the different tabs."]},template:function(e,t){if(1&e&&(i.Wb(0,"h1",0),i.ac(1,1),i.Vb(),i.Wb(2,"form",2),i.Wb(3,"div",3,4),i.Ub(5,5),i.Wb(6,"a",6),i.ac(7,7),i.Vb(),i.Tc(8,Ye,127,49,"ng-template",8),i.Tb(),i.Ub(9,9),i.Wb(10,"a",6),i.ac(11,10),i.Vb(),i.Tc(12,gt,227,46,"ng-template",8),i.Tb(),i.Ub(13,11),i.Wb(14,"a",6),i.ac(15,12),i.Vb(),i.Tc(16,mt,18,4,"ng-template",8),i.Tb(),i.Ub(17,13),i.Wb(18,"a",6),i.ac(19,14),i.Vb(),i.Tc(20,Dt,90,37,"ng-template",8),i.Tb(),i.Ub(21,15),i.Wb(22,"a",6),i.ac(23,16),i.Vb(),i.Tc(24,Cn,36,7,"ng-template",8),i.Tb(),i.Vb(),i.Rb(25,"div",17),i.Wb(26,"div",18),i.Rb(27,"div",19),i.Wb(28,"div",20),i.Tc(29,Pn,2,0,"span",21),i.Wb(30,"input",22),i.cc(31,23),i.kc("click",(function(){return t.formValidated()})),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.Ic(4);i.Db(2),i.vc("formGroup",t.form),i.Db(23),i.vc("ngbNavOutlet",e),i.Db(4),i.vc("ngIf",!t.form.valid),i.Db(1),i.vc("disabled",!t.form.valid)}},directives:[r.I,r.t,r.l,H.n,H.p,H.q,H.o,H.s,c.u,r.m,r.c,r.s,r.j,c.r,X.a,q.a,Y.a,w.k,J.a,Z.a,r.E,r.x,r.H,c.t,r.y,ke,ne.a,We.a,C.k,ne.d,r.v,C.c,C.b,r.a,ze.a,C.d,De.a,C.g,C.a],pipes:[Ie.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:340px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{display:inline-block;height:30px;width:315px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=number][_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:315px){input[type=number][_ngcontent-%COMP%]{width:100%}}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #c6c6c6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);-webkit-animation:jelly .6s ease;animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;margin-left:5px;cursor:pointer;display:inline}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}my-select-checkbox[_ngcontent-%COMP%]     ng-select{width:340px}@media screen and (max-width:340px){my-select-checkbox[_ngcontent-%COMP%]     ng-select{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;display:flex;margin-left:auto}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline;margin-left:5px}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:500px){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.label-with-help[_ngcontent-%COMP%]{display:block!important}.storage-label[_ngcontent-%COMP%], .storage-numeric-input[_ngcontent-%COMP%]{display:inline-block!important}.storage-label[_ngcontent-%COMP%]{margin-left:15px;margin-bottom:0}[_nghost-%COMP%]   .pTableSimpleCheckbox[_ngcontent-%COMP%]{opacity:1;position:relative;transform:scale(2);margin:6px}[_nghost-%COMP%]     .add-plan-modal .ui-dialog .ui-dialog-titlebar{color:var(--mainForegroundColor)!important;background-color:var(--menuBackgroundColor)!important}[_nghost-%COMP%]     .add-plan-modal .ui-dialog .ui-dialog-content{min-width:415px;color:var(--mainForegroundColor)!important;background-color:var(--mainBackgroundColor)!important;border-bottom:none}[_nghost-%COMP%]     .add-plan-modal .ui-dialog .ui-dialog-footer{background-color:var(--mainBackgroundColor)}[_nghost-%COMP%]     .add-plan-modal input{width:300px!important;padding-right:2px}[_nghost-%COMP%]     .ui-table input[type=number]{width:175px;padding-left:10px;padding-right:2px}.row-edit-button[_ngcontent-%COMP%]{margin-right:.5em}.add-plan-button[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .row-save-button{margin-right:.5em}[_nghost-%COMP%]     .row-save-button svg g g[stroke="#000000"]{stroke:var(--mainForegroundColor)!important}[_nghost-%COMP%]     .action-button-edit, [_nghost-%COMP%]     .row-save-button{border:1px solid!important;border-color:var(--mainBackgroundColor)!important;height:33px!important;border-radius:3px}[_nghost-%COMP%]     .action-button-edit svg g g[stroke="#000000"], [_nghost-%COMP%]     .row-save-button svg g g[stroke="#000000"]{stroke:var(--mainForegroundColor)!important}[_nghost-%COMP%]     .row-cancel-button span{background-color:#d9534f!important;color:#fff!important}[_nghost-%COMP%]     .row-cancel-button:hover span, [_nghost-%COMP%]     .row-save-button:hover span{background-color:#e5e5e5!important;color:var(--greyForegroundColor)!important}[_nghost-%COMP%]     .row-save-button:hover svg g g[stroke="#000000"]{stroke:var(--mainForegroundColor)!important}[_nghost-%COMP%]     .row-cancel-button .action-button-delete:hover, [_nghost-%COMP%]     .row-cancel-button .action-button-edit:hover, [_nghost-%COMP%]     .row-cancel-button .grey-button:hover, [_nghost-%COMP%]     .row-delete-button .action-button-delete:hover, [_nghost-%COMP%]     .row-delete-button .action-button-edit:hover, [_nghost-%COMP%]     .row-delete-button .grey-button:hover, [_nghost-%COMP%]     .row-edit-button .action-button-delete:hover, [_nghost-%COMP%]     .row-edit-button .action-button-edit:hover, [_nghost-%COMP%]     .row-edit-button .grey-button:hover, [_nghost-%COMP%]     .row-save-button .action-button-delete:hover, [_nghost-%COMP%]     .row-save-button .action-button-edit:hover, [_nghost-%COMP%]     .row-save-button .grey-button:hover{color:var(--greyForegroundColor)!important}[_nghost-%COMP%]     .row-cancel-button .action-button-delete:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-cancel-button .action-button-delete:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-cancel-button .action-button-edit:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-cancel-button .action-button-edit:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-cancel-button .grey-button:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-cancel-button .grey-button:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-delete-button .action-button-delete:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-delete:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-delete-button .action-button-edit:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-edit:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-delete-button .grey-button:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-delete-button .grey-button:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-edit-button .action-button-delete:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-delete:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-edit-button .action-button-edit:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-edit:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-edit-button .grey-button:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-edit-button .grey-button:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-save-button .action-button-delete:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-delete:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-save-button .action-button-edit:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-edit:hover svg g g[stroke="#000000"] g, [_nghost-%COMP%]     .row-save-button .grey-button:hover path[stroke="#000000"], [_nghost-%COMP%]     .row-save-button .grey-button:hover svg g g[stroke="#000000"] g{stroke:var(--greyForegroundColor)!important}[_nghost-%COMP%]     .row-cancel-button .action-button-delete:hover path[fill="#000000"], [_nghost-%COMP%]     .row-cancel-button .action-button-delete:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-cancel-button .action-button-edit:hover path[fill="#000000"], [_nghost-%COMP%]     .row-cancel-button .action-button-edit:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-cancel-button .grey-button:hover path[fill="#000000"], [_nghost-%COMP%]     .row-cancel-button .grey-button:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-delete:hover path[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-delete:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-edit:hover path[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .action-button-edit:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .grey-button:hover path[fill="#000000"], [_nghost-%COMP%]     .row-delete-button .grey-button:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-delete:hover path[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-delete:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-edit:hover path[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .action-button-edit:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .grey-button:hover path[fill="#000000"], [_nghost-%COMP%]     .row-edit-button .grey-button:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-delete:hover path[fill="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-delete:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-edit:hover path[fill="#000000"], [_nghost-%COMP%]     .row-save-button .action-button-edit:hover rect[fill="#000000"], [_nghost-%COMP%]     .row-save-button .grey-button:hover path[fill="#000000"], [_nghost-%COMP%]     .row-save-button .grey-button:hover rect[fill="#000000"]{fill:var(--greyForegroundColor)!important}[_nghost-%COMP%]     .action-button-delete, [_nghost-%COMP%]     .action-button-edit{padding:0 15px!important}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center;margin-bottom:1em;overflow:hidden}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2.25em;line-height:1em;margin:0}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:1.15em;margin:0}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{opacity:.12;position:absolute;left:16px;top:-24px}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .glyphicon.icon-bottom[_ngcontent-%COMP%]{top:4px}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]:before{font-size:8em}.overview[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{z-index:2}.overview[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;top:4px!important}']}),e})();const _n=[{path:"config",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})(),canActivate:[k.UserRightGuard],data:{userRight:8},children:[{path:"",redirectTo:"edit-custom",pathMatch:"full"},{path:"edit-custom",component:On,data:{meta:{title:"Edit custom configuration"}}}]}];var Mn=n("UkmY");function yn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",8),i.Wb(1,"div",9),i.Wb(2,"input",10),i.cc(3,11),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onSearch(t)})),i.Vb(),i.Wb(4,"a",12),i.kc("click",(function(){return i.Kc(e),i.oc().resetSearch()})),i.Vb(),i.Wb(5,"span",13),i.ac(6,14),i.Vb(),i.Vb(),i.Vb()}}function wn(e,t){1&e&&(i.Wb(0,"tr"),i.Wb(1,"th",15),i.Vc(2,"Action"),i.Vb(),i.Wb(3,"th",16),i.ac(4,17),i.Vb(),i.Wb(5,"th",18),i.gc(6,19),i.Rb(7,"p-sortIcon",20),i.dc(),i.Vb(),i.Vb())}function Vn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td",21),i.Wb(2,"button",22),i.kc("click",(function(){i.Kc(e);const n=t.$implicit;return i.oc().unblockAccount(n)})),i.ac(3,23),i.Vb(),i.Vb(),i.Wb(4,"td"),i.Wb(5,"a",24),i.cc(6,25),i.Wb(7,"div",26),i.Wb(8,"img",27),i.kc("error",(function(t){return i.Kc(e),i.oc().switchToDefaultAvatar(t)})),i.Vb(),i.Wb(9,"div"),i.Vc(10),i.Wb(11,"span",28),i.Vc(12),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"td"),i.Vc(14),i.pc(15,"date"),i.Vb(),i.Vb()}if(2&e){const e=t.$implicit;i.Db(5),i.vc("href",e.blockedAccount.url,i.Mc),i.Db(3),i.vc("src",null==e.blockedAccount.avatar?null:e.blockedAccount.avatar.path,i.Mc),i.Db(2),i.Xc(" ",e.blockedAccount.displayName," "),i.Db(2),i.Wc(e.blockedAccount.nameWithHost),i.Db(2),i.Wc(i.rc(15,5,e.createdAt,"short"))}}function xn(e,t){1&e&&(i.Ub(0),i.ac(1,32),i.Tb())}function kn(e,t){1&e&&(i.Ub(0),i.ac(1,33),i.Tb())}function Tn(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",29),i.Wb(2,"div",30),i.Tc(3,xn,2,0,"ng-container",31),i.Tc(4,kn,2,0,"ng-container",31),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.search),i.Db(1),i.vc("ngIf",!e.search)}}let Wn=(()=>{class e extends y.d{constructor(){super(...arguments),this.mode=y.b.Instance}getIdentifier(){return"InstanceAccountBlocklistComponent"}}return e.\u0275fac=function(t){return zn(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["my-instance-account-blocklist"]],features:[i.Ab],decls:10,vars:12,consts:function(){return[["iconName","user-x","aria-hidden","true"],"Muted accounts",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted accounts\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",[2,"width","150px"],[2,"width","100%"],"Account",["pSortableColumn","createdAt",2,"width","150px"],"Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],"Unmute",["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","Open account in a new tab"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"text-muted"],["colspan","6"],[1,"no-results"],[4,"ngIf"],"No account found matching current filters.","No account found."]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"p-table",2),i.cc(5,3),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(6,yn,7,0,"ng-template",4),i.Tc(7,wn,8,0,"ng-template",5),i.Tc(8,Vn,16,8,"ng-template",6),i.Tc(9,Tn,5,2,"ng-template",7),i.Vb()),2&e&&(i.Db(4),i.ec("{first}")("{last}")("{totalRecords}"),i.bc(5),i.vc("value",t.blockedAccounts)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Mn.a,C.k,ne.d,C.j,C.i,c.u],pipes:[c.f],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%], .table-comment-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%]     p:last-child, .table-comment-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",'.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}']}),e})();const zn=i.Yb(Wn);var Dn=n("E/r9");function In(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",11),i.Wb(1,"div",12),i.Wb(2,"input",13),i.cc(3,14),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onSearch(t)})),i.Vb(),i.Wb(4,"a",15),i.kc("click",(function(){return i.Kc(e),i.oc().resetSearch()})),i.Vb(),i.Wb(5,"span",16),i.ac(6,17),i.Vb(),i.Vb(),i.Wb(7,"a",18),i.kc("click",(function(){return i.Kc(e),i.oc().addServersToBlock()}))("key.enter",(function(){return i.Kc(e),i.oc().addServersToBlock()})),i.Rb(8,"my-global-icon",19),i.Ub(9),i.ac(10,20),i.Tb(),i.Vb(),i.Vb()}}function Rn(e,t){1&e&&(i.Wb(0,"tr"),i.Wb(1,"th",21),i.Vc(2,"Action"),i.Vb(),i.Wb(3,"th",22),i.ac(4,23),i.Vb(),i.Wb(5,"th",24),i.gc(6,25),i.Rb(7,"p-sortIcon",26),i.dc(),i.Vb(),i.Vb())}function Sn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td",27),i.Wb(2,"button",28),i.kc("click",(function(){i.Kc(e);const n=t.$implicit;return i.oc().unblockServer(n)})),i.ac(3,29),i.Vb(),i.Vb(),i.Wb(4,"td"),i.Wb(5,"a",30),i.cc(6,31),i.Vc(7),i.Rb(8,"span",32),i.Vb(),i.Vb(),i.Wb(9,"td"),i.Vc(10),i.pc(11,"date"),i.Vb(),i.Vb()}if(2&e){const e=t.$implicit;i.Db(5),i.vc("href","https://"+e.blockedServer.host,i.Mc),i.Db(2),i.Xc(" ",e.blockedServer.host," "),i.Db(3),i.Wc(i.rc(11,3,e.createdAt,"short"))}}function $n(e,t){1&e&&(i.Ub(0),i.ac(1,36),i.Tb())}function En(e,t){1&e&&(i.Ub(0),i.ac(1,37),i.Tb())}function An(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",33),i.Wb(2,"div",34),i.Tc(3,$n,2,0,"ng-container",35),i.Tc(4,En,2,0,"ng-container",35),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.search),i.Db(1),i.vc("ngIf",!e.search)}}let Ln=(()=>{class e extends y.e{constructor(){super(...arguments),this.mode=y.b.Instance}getIdentifier(){return"InstanceServerBlocklistComponent"}}return e.\u0275fac=function(t){return Nn(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["my-instance-server-blocklist"]],features:[i.Ab],decls:13,vars:12,consts:function(){return[["iconName","peertube-x","aria-hidden","true"],"Muted servers",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted instances\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"domains",6,"action"],["batchDomainsModal",""],["action","Mute domains"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",[1,"ml-2","block-button",3,"click","key.enter"],["iconName","add","aria-hidden","true"],"Mute domain",[2,"width","150px"],[2,"width","100%"],"\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C",["pSortableColumn","createdAt",2,"width","150px"],"Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],"Unmute",["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","Open instance in a new tab"],[1,"glyphicon","glyphicon-new-window"],["colspan","6"],[1,"no-results"],[4,"ngIf"],"No server found matching current filters.","No server found."]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"p-table",2),i.cc(5,3),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(6,In,11,0,"ng-template",4),i.Tc(7,Rn,8,0,"ng-template",5),i.Tc(8,Sn,12,6,"ng-template",6),i.Tc(9,An,5,2,"ng-template",7),i.Vb(),i.Wb(10,"my-batch-domains-modal",8,9),i.cc(12,10),i.kc("domains",(function(e){return t.onDomainsToBlock(e)})),i.Vb()),2&e&&(i.Db(4),i.ec("{first}")("{last}")("{totalRecords}"),i.bc(5),i.vc("value",t.blockedServers)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Mn.a,C.k,ne.d,Dn.a,C.j,C.i,c.u],pipes:[c.f],styles:['a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.unblock-button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}.unblock-button.focus-visible[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button.disabled[_ngcontent-%COMP%], .unblock-button[disabled][_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.block-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus, .block-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.block-button.focus-visible[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.block-button[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.block-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.block-button.disabled[_ngcontent-%COMP%], .block-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}']}),e})();const Nn=i.Yb(Ln);let Un=(()=>{class e{constructor(e){this.serverService=e,this.autoBlockVideosEnabled=!1}ngOnInit(){this.serverService.getConfig().subscribe(e=>this.autoBlockVideosEnabled=e.autoBlacklist.videos.ofUsers.enabled)}hasServerPremiumStorage(){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.ServerService))},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})();var Fn=n("LIH2");let Bn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["my-abuse-list"]],decls:5,vars:0,consts:function(){return[["iconName","flag","aria-hidden","true"],"Reports",["viewType","admin","baseRoute","/admin/moderation/abuses/list"]]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Rb(4,"my-abuse-list-table",2))},directives:[Mn.a,Fn.a],encapsulation:2}),e})();var Gn=n("eIep"),jn=n("pLZG"),Qn=n("H9+z"),Kn=n("jhN1"),Hn=n("EcKj");const Xn=function(){return["/admin/moderation/video-blocks/list"]},qn=function(){return{search:"type:auto"}},Yn=function(){return{search:"type:manual"}};function Jn(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",9),i.Wb(1,"div",10),i.Wb(2,"div",11),i.Wb(3,"div",12),i.Wb(4,"div",13),i.Rb(5,"span",14),i.Vb(),i.Wb(6,"div",15),i.Wb(7,"h6",16),i.ac(8,17),i.Vb(),i.Wb(9,"a",18),i.ac(10,19),i.Vb(),i.Wb(11,"a",18),i.ac(12,20),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"input",21),i.cc(14,22),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onBlockSearch(t)})),i.Vb(),i.Wb(15,"a",23),i.kc("click",(function(){return i.Kc(e),i.oc().resetTableFilter()})),i.Vb(),i.Wb(16,"span",24),i.ac(17,25),i.Vb(),i.Vb(),i.Vb(),i.Vb()}2&e&&(i.Db(9),i.vc("routerLink",i.yc(4,Xn))("queryParams",i.yc(5,qn)),i.Db(2),i.vc("routerLink",i.yc(6,Xn))("queryParams",i.yc(7,Yn)))}function Zn(e,t){1&e&&(i.Wb(0,"tr"),i.Rb(1,"th",26),i.Wb(2,"th",27),i.gc(3,28),i.Rb(4,"p-sortIcon",29),i.dc(),i.Vb(),i.Wb(5,"th",30),i.ac(6,31),i.Vb(),i.Wb(7,"th",32),i.ac(8,33),i.Vb(),i.Wb(9,"th",34),i.gc(10,35),i.Rb(11,"p-sortIcon",36),i.dc(),i.Vb(),i.Rb(12,"th",37),i.Vb())}function eo(e,t){1&e&&i.Rb(0,"td")}function to(e,t){if(1&e&&(i.Wb(0,"td",50),i.cc(1,51),i.Wb(2,"span",52),i.Rb(3,"i",53),i.Vb(),i.Vb()),2&e){const e=i.oc(),t=e.expanded;i.vc("pRowToggler",e.$implicit),i.Db(3),i.vc("ngClass",t?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function no(e,t){1&e&&(i.Wb(0,"my-global-icon",54),i.cc(1,55),i.Vb())}function oo(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"td",56),i.Vc(2),i.Vb(),i.Wb(3,"td",56),i.Vc(4),i.Vb(),i.Wb(5,"td",56),i.Vc(6),i.pc(7,"date"),i.Vb(),i.Tb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(1),i.vc("pRowToggler",e),i.Db(1),i.Wc(t.booleanToText(e.video.nsfw)),i.Db(1),i.vc("pRowToggler",e),i.Db(1),i.Wc(t.booleanToText(e.unfederated)),i.Db(1),i.vc("pRowToggler",e),i.Db(1),i.Wc(i.rc(7,6,e.createdAt,"short"))}}function io(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"td"),i.Vc(2),i.Vb(),i.Wb(3,"td"),i.Vc(4),i.Vb(),i.Wb(5,"td"),i.Vc(6),i.pc(7,"date"),i.Vb(),i.Tb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(2),i.Wc(t.booleanToText(e.video.nsfw)),i.Db(2),i.Wc(t.booleanToText(e.unfederated)),i.Db(2),i.Wc(i.rc(7,3,e.createdAt,"short"))}}const co=function(e){return{show:e}};function ao(e,t){if(1&e&&(i.Wb(0,"tr"),i.Tc(1,eo,1,0,"td",38),i.Tc(2,to,4,2,"td",39),i.Wb(3,"td"),i.Wb(4,"a",40),i.Wb(5,"div",41),i.Wb(6,"div",42),i.Rb(7,"img",43),i.Vb(),i.Wb(8,"div",44),i.Wb(9,"div"),i.Tc(10,no,2,0,"my-global-icon",45),i.Vc(11),i.Vb(),i.Wb(12,"div",46),i.Vc(13),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tc(14,oo,8,9,"ng-container",38),i.Tc(15,io,8,6,"ng-container",38),i.Wb(16,"td",47),i.Wb(17,"my-action-dropdown",48),i.cc(18,49),i.Vb(),i.Vb(),i.Vb()),2&e){const e=t.$implicit,n=t.expanded,o=i.oc();i.Db(1),i.vc("ngIf",!e.reason),i.Db(1),i.vc("ngIf",e.reason),i.Db(2),i.vc("href",o.getVideoUrl(e),i.Mc)("title",e.video.name),i.Db(3),i.vc("src",e.video.thumbnailPath,i.Mc),i.Db(3),i.vc("ngIf",2==e.type),i.Db(1),i.Xc(" ",e.video.name," "),i.Db(2),i.Yc("by ",null==e.video.channel?null:e.video.channel.displayName," on ",null==e.video.channel?null:e.video.channel.host," "),i.Db(1),i.vc("ngIf",e.reason),i.Db(1),i.vc("ngIf",!e.reason),i.Db(2),i.vc("ngClass",i.zc(14,co,n))("actions",o.videoBlocklistActions)("entry",e)}}function ro(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",57),i.Wb(2,"div",58),i.Wb(3,"div",59),i.Wb(4,"span",60),i.ac(5,61),i.Vb(),i.Rb(6,"span",62),i.Vb(),i.Wb(7,"div",63),i.Wb(8,"div",64),i.Rb(9,"div",65),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e){const e=t.$implicit;i.Db(6),i.vc("innerHTML",e.reasonHtml,i.Lc),i.Db(3),i.vc("innerHTML",e.embedHtml,i.Lc)}}function lo(e,t){1&e&&(i.Ub(0),i.ac(1,68),i.Tb())}function so(e,t){1&e&&(i.Ub(0),i.ac(1,69),i.Tb())}function bo(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",66),i.Wb(2,"div",67),i.Tc(3,lo,2,0,"ng-container",38),i.Tc(4,so,2,0,"ng-container",38),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.search),i.Db(1),i.vc("ngIf",!e.search)}}const go=[{path:"moderation",component:Un,children:[{path:"",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses/list",redirectTo:"abuses/list",pathMatch:"full"},{path:"abuses/list",component:Bn,canActivate:[k.UserRightGuard],data:{userRight:6,meta:{title:"Reports"}}},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist/list",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blocks/list",component:(()=>{class e extends k.RestTable{constructor(e,t,n,o,i,c,a,r,l){super(),this.notifier=e,this.serverService=t,this.confirmService=n,this.videoBlocklistService=o,this.markdownRenderer=i,this.sanitizer=c,this.videoService=a,this.route=r,this.router=l,this.blocklist=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.blocklistTypeFilter=void 0,this.videoBlocklistActions=[],this.videoBlocklistActions=[[{label:"Internal actions",isHeader:!0,isDisplayed:e=>2===e.type},{label:"Switch video block to manual",handler:e=>{this.videoBlocklistService.unblockVideo(e.video.id).pipe(Object(Gn.a)(t=>this.videoBlocklistService.blockVideo(e.video.id,void 0,!0))).subscribe(()=>{this.notifier.success("Video \n          " + e.video.name + " switched to manual block.\n        "),this.loadData()},e=>this.notifier.error(e.message))},isDisplayed:e=>2===e.type}],[{label:"Actions for the video",isHeader:!0},{label:"Unblock",handler:e=>this.unblockVideo(e)},{label:"Delete",handler:e=>Object(V.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E19\u0E35\u0E49\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48","Delete"))&&this.videoService.removeVideo(e.video.id).subscribe(()=>{this.notifier.success("Video deleted.")},e=>this.notifier.error(e.message))}))}]]}ngOnInit(){this.serverService.getConfig().subscribe(e=>{e.autoBlacklist.videos.ofUsers.enabled&&(this.blocklistTypeFilter=1)}),this.initialize(),this.route.queryParams.pipe(Object(jn.a)(e=>null!=e.search)).subscribe(e=>{this.search=e.search,this.setTableFilter(e.search),this.loadData()})}ngAfterViewInit(){this.search&&this.setTableFilter(this.search)}onBlockSearch(e){this.onSearch(e),this.setQueryParams(e.target.value)}setQueryParams(e){const t={};e&&Object.assign(t,{search:e}),this.router.navigate(["/admin/moderation/video-blocks/list"],{queryParams:t})}resetTableFilter(){this.setTableFilter(""),this.setQueryParams(""),this.resetSearch()}getIdentifier(){return"VideoBlockListComponent"}getVideoUrl(e){return M.Video.buildClientUrl(e.video.uuid)}booleanToText(e){return!0===e?"yes":"no"}toHtml(e){return this.markdownRenderer.textMarkdownToHTML(e)}unblockVideo(e){return Object(V.a)(this,void 0,void 0,(function*(){const t="Do you really want to unblock this video? It will be available again in the videos list.";!1!==(yield this.confirmService.confirm(t,"Unblock"))&&this.videoBlocklistService.unblockVideo(e.video.id).subscribe(()=>{this.notifier.success("Video \n          " + e.video.name + " unblocked.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}getVideoEmbed(e){return Object(Qn.c)(Object(Qn.b)({baseUrl:`${T.a.embedUrl}/videos/embed/${e.video.uuid}`,title:!1,warningTitle:!1}))}loadData(){this.videoBlocklistService.listBlocks({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>Object(V.a)(this,void 0,void 0,(function*(){this.totalRecords=e.total,this.blocklist=e.data;for(const e of this.blocklist)Object.assign(e,{reasonHtml:yield this.toHtml(e.reason),embedHtml:this.sanitizer.bypassSecurityTrustHtml(this.getVideoEmbed(e))})})),e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(k.ServerService),i.Qb(k.ConfirmService),i.Qb(y.g),i.Qb(k.MarkdownService),i.Qb(Kn.b),i.Qb(M.VideoService),i.Qb(w.a),i.Qb(w.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-block-list"]],features:[i.Ab],decls:11,vars:13,consts:function(){return[["iconName","cross","aria-hidden","true"],"Video blocks",["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","expandedRowKeys","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " blocked videos\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto"],[1,"input-group","has-feedback","has-clear"],["ngbDropdown","","placement","bottom-left auto","container","body",1,"input-group-prepend","c-hand"],["ngbDropdownToggle","",1,"input-group-text"],["aria-haspopup","menu","role","button",1,"caret"],["role","menu","ngbDropdownMenu",""],[1,"dropdown-header"],"Advanced block filters",[1,"dropdown-item",3,"routerLink","queryParams"],"Automatic blocks","Manual blocks",["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",[2,"width","40px"],["pSortableColumn","name"],"Video \n          " + "\ufffd#4\ufffd" + "\n          " + "\ufffd/#4\ufffd" + "\n        ",["field","name"],[2,"width","100px"],"\u0E44\u0E21\u0E48\u0E40\u0E2B\u0E21\u0E32\u0E30\u0E2A\u0E21",[2,"width","120px"],"Unfederated",["pSortableColumn","createdAt",2,"width","150px"],"Date \n          " + "\ufffd#11\ufffd" + "\n          " + "\ufffd/#11\ufffd" + "\n        ",["field","createdAt"],[2,"width","150px"],[4,"ngIf"],["class","expand-cell c-hand","placement","top-left","container","body",3,"pRowToggler",4,"ngIf",6,"ngbTooltip"],["target","_blank","rel","noopener noreferrer",1,"table-video-link",3,"href","title"],[1,"table-video"],[1,"table-video-image"],[3,"src"],[1,"table-video-text"],["iconName","robot",4,"ngIf",6,"title"],[1,"text-muted"],[1,"action-cell"],["placement","bottom-right","container","body",3,"ngClass","actions","entry",6,"label"],["label","Actions"],["placement","top-left","container","body",1,"expand-cell","c-hand",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21"],[1,"expander"],[3,"ngClass"],["iconName","robot",6,"title"],["title","The video was blocked due to automatic blocking of new videos"],[1,"c-hand",3,"pRowToggler"],["colspan","6",1,"expand-cell"],[1,"d-flex","moderation-expanded"],[1,"col-8"],[1,"col-3","moderation-expanded-label"],"Block reason:",[1,"col-9","moderation-expanded-text",3,"innerHTML"],[1,"col-4"],[1,"screenratio"],[3,"innerHTML"],["colspan","6"],[1,"no-results"],"No blocked video found matching current filters.","No blocked video found."]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"p-table",2),i.cc(5,3),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(6,Jn,18,8,"ng-template",4),i.Tc(7,Zn,13,0,"ng-template",5),i.Tc(8,ao,19,16,"ng-template",6),i.Tc(9,ro,10,2,"ng-template",7),i.Tc(10,bo,5,2,"ng-template",8),i.Vb()),2&e&&(i.Db(4),i.ec("{first}")("{last}")("{totalRecords}"),i.bc(5),i.vc("value",t.blocklist)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[Mn.a,C.k,ne.d,H.e,H.j,H.h,w.k,C.j,C.i,c.u,Hn.a,c.r,H.y,C.f],pipes:[c.f],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:right}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;display:inline-flex;justify-content:center;align-items:center;color:var(--inputPlaceholderColor)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{text-decoration:none!important}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.screenratio[_ngcontent-%COMP%]   div.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.screenratio[_ngcontent-%COMP%]     iframe, .screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%], .table-comment-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-account-link[_ngcontent-%COMP%]     p:last-child, .table-comment-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:-webkit-filter .2s ease;transition:filter .2s ease;transition:filter .2s ease,-webkit-filter .2s ease;height:45px;width:80px;margin-right:.5rem;border-radius:2px;border:none;background:transparent;display:inline-flex;justify-content:center;align-items:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{-webkit-filter:blur(20px);filter:blur(20px);transform:scale(1.03)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",'my-global-icon[_ngcontent-%COMP%]{width:12px;height:12px;position:relative;top:-1px}my-global-icon[_ngcontent-%COMP%]     .feather, my-global-icon[_ngcontent-%COMP%]     .material{color:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#7d7d7d}my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#7d7d7d}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;flex-grow:1}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}']}),e})(),canActivate:[k.UserRightGuard],data:{userRight:11,meta:{title:"Videos blocked"}}},{path:"blocklist/accounts",component:Wn,canActivate:[k.UserRightGuard],data:{userRight:9,meta:{title:"Muted accounts"}}},{path:"blocklist/servers",component:Ln,canActivate:[k.UserRightGuard],data:{userRight:10,meta:{title:"Muted instances"}}}]}];var uo=n("XNiG"),po=n("lJxs"),fo=n("To7i"),mo=n("UozT"),ho=n("XRCn");let vo=(()=>{class e{constructor(e,t,n,o){this.authHttp=e,this.restExtractor=t,this.restService=n,this.pluginService=o}getPluginTypeOptions(){return[{label:"Plugins",value:ho.PluginType.PLUGIN},{label:"Themes",value:ho.PluginType.THEME}]}getPluginTypeLabel(e){return e===ho.PluginType.PLUGIN?"plugin":"theme"}getPlugins(t,n,o){const i=this.restService.componentPaginationToRestPagination(n);let c=new W.f;return c=this.restService.addRestGetParams(c,i,o),c=c.append("pluginType",t.toString()),this.authHttp.get(e.BASE_PLUGIN_URL,{params:c}).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}searchAvailablePlugins(t,n,o,i){const c=this.restService.componentPaginationToRestPagination(n);let a=new W.f;return a=this.restService.addRestGetParams(a,c,o),a=a.append("pluginType",t.toString()),i&&(a=a.append("search",i)),this.authHttp.get(e.BASE_PLUGIN_URL+"/available",{params:a}).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}getPlugin(t){return this.authHttp.get(e.BASE_PLUGIN_URL+"/"+t).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}getPluginRegisteredSettings(t,n){const o=this.pluginService.nameToNpmName(t,n);return this.authHttp.get(e.BASE_PLUGIN_URL+"/"+o+"/registered-settings").pipe(Object(Gn.a)(e=>this.translateSettingsLabel(o,e)),Object(x.a)(e=>this.restExtractor.handleError(e)))}updatePluginSettings(t,n,o){const i=this.pluginService.nameToNpmName(t,n);return this.authHttp.put(e.BASE_PLUGIN_URL+"/"+i+"/settings",{settings:o}).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}uninstall(t,n){const o={npmName:this.pluginService.nameToNpmName(t,n)};return this.authHttp.post(e.BASE_PLUGIN_URL+"/uninstall",o).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}update(t,n){const o={npmName:this.pluginService.nameToNpmName(t,n)};return this.authHttp.post(e.BASE_PLUGIN_URL+"/update",o).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}install(t){return this.authHttp.post(e.BASE_PLUGIN_URL+"/install",{npmName:t}).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}translateSettingsLabel(e,t){return this.pluginService.translationsObservable.pipe(Object(po.a)(t=>t[e]),Object(po.a)(e=>({registeredSettings:t.registeredSettings.map(t=>Object.assign({},t,{label:Object(mo.h)(t.label,e)}))})))}}return e.BASE_PLUGIN_URL=T.a.apiUrl+"/api/v1/plugins",e.\u0275fac=function(t){return new(t||e)(i.hc(W.b),i.hc(k.RestExtractor),i.hc(k.RestService),i.hc(fo.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})();var Co=n("aIhz"),Po=n("j0I5"),Oo=n("UjHu");function _o(e,t){if(1&e&&(i.Wb(0,"div",5),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.getNoResultMessage(),"\n")}}function Mo(e,t){if(1&e&&(i.Wb(0,"my-edit-button",23),i.cc(1,24),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.vc("routerLink",t.getShowRouterLink(e))}}function yo(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-button",25),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc().update(t)})),i.Vb()}if(2&e){const e=i.oc().$implicit,t=i.oc();i.vc("loading",t.isUpdating(e))("label",t.getUpdateLabel(e)),i.Eb("disabled",t.isUpdating(e))}}function wo(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",6),i.Wb(1,"div",7),i.Wb(2,"div",8),i.Wb(3,"span",9),i.Vc(4),i.Vb(),i.Wb(5,"span",10),i.Vc(6),i.Vb(),i.Wb(7,"a",11),i.cc(8,12),i.Rb(9,"my-global-icon",13),i.Vb(),i.Wb(10,"a",11),i.cc(11,14),i.Rb(12,"my-global-icon",15),i.Vb(),i.Wb(13,"div",16),i.Tc(14,Mo,2,1,"my-edit-button",17),i.Tc(15,yo,1,3,"my-button",18),i.Wb(16,"my-delete-button",19),i.cc(17,20),i.kc("click",(function(){i.Kc(e);const n=t.$implicit;return i.oc().uninstall(n)})),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"div",21),i.Wb(19,"div",22),i.Vc(20),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=t.$implicit,n=i.oc();i.Db(4),i.Wc(e.name),i.Db(2),i.Wc(e.version),i.Db(1),i.vc("href",e.homepage,i.Mc),i.Db(3),i.vc("href","https://www.npmjs.com/package/peertube-plugin-"+e.name,i.Mc),i.Db(4),i.vc("ngIf",n.pluginType!==n.PluginType.THEME),i.Db(1),i.vc("ngIf",n.isUpdateAvailable(e)),i.Db(5),i.Wc(e.description)}}let Vo=(()=>{class e{constructor(e,t,n,o,i,c){this.pluginService=e,this.pluginApiService=t,this.notifier=n,this.confirmService=o,this.router=i,this.route=c,this.pluginTypeOptions=[],this.pluginType=Po.a.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="name",this.plugins=[],this.updating={},this.PluginType=Po.a,this.onDataSubject=new uo.a,this.pluginTypeOptions=this.pluginApiService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.reloadPlugins()}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.pluginApiService.getPlugins(this.pluginType,this.pagination,this.sort).subscribe(e=>{this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},e=>this.notifier.error(e.message))}onNearOfBottom(){Object(k.hasMoreItems)(this.pagination)&&(this.pagination.currentPage+=1,this.loadMorePlugins())}getNoResultMessage(){return this.pluginType===Po.a.PLUGIN?"\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E1B\u0E25\u0E31\u0E4A\u0E01\u0E2D\u0E34\u0E19":"\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E18\u0E35\u0E21"}isUpdateAvailable(e){return e.latestVersion&&Object(Co.a)(e.latestVersion,e.version)>0}getUpdateLabel(e){return "\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E40\u0E1B\u0E47\u0E19 \n          " + e.latestVersion + "\n        "}isUpdating(e){return!!this.updating[this.getUpdatingKey(e)]}uninstall(e){return Object(V.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E16\u0E2D\u0E19\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 \n          " + e.name + " \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48\n        ","Uninstall"))&&this.pluginApiService.uninstall(e.name,e.type).subscribe(()=>{this.notifier.success("\u0E16\u0E2D\u0E19\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 \n          " + e.name + " \u0E41\u0E25\u0E49\u0E27\n        "),this.plugins=this.plugins.filter(t=>t.name!==e.name),this.pagination.totalItems--},e=>this.notifier.error(e.message))}))}update(e){return Object(V.a)(this,void 0,void 0,(function*(){const t=this.getUpdatingKey(e);this.updating[t]||(this.updating[t]=!0,this.pluginApiService.update(e.name,e.type).pipe().subscribe(n=>{this.updating[t]=!1,this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15 \n          " + e.name + " \u0E41\u0E25\u0E49\u0E27\n        "),Object.assign(e,n)},e=>this.notifier.error(e.message)))}))}getShowRouterLink(e){return["/admin","plugins","show",this.pluginService.nameToNpmName(e.name,e.type)]}getUpdatingKey(e){return e.name+e.type}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(fo.a),i.Qb(vo),i.Qb(k.Notifier),i.Qb(k.ConfirmService),i.Qb(w.h),i.Qb(w.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-plugin-list-installed"]],decls:5,vars:6,consts:function(){return[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"autoInit","dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"no-results"],[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer",1,"plugin-icon",3,"href",6,"title"],["title","Plugin homepage (new window)"],["iconName","home"],["title","Plugin homepage (new window)"],["iconName","npm"],[1,"buttons"],[3,"routerLink",4,"ngIf",6,"label"],["class","update-button","icon","refresh",3,"loading","label","click",4,"ngIf"],[3,"click",6,"label"],["label","Uninstall"],[1,"second-row"],[1,"description"],[3,"routerLink",6,"label"],["label","\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32"],["icon","refresh",1,"update-button",3,"loading","label","click"]]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"p-selectButton",1),i.kc("ngModelChange",(function(e){return t.pluginType=e}))("ngModelChange",(function(){return t.reloadPlugins()})),i.Vb(),i.Vb(),i.Tc(2,_o,2,1,"div",2),i.Wb(3,"div",3),i.kc("nearOfBottom",(function(){return t.onNearOfBottom()})),i.Tc(4,wo,21,7,"div",4),i.Vb()),2&e&&(i.Db(1),i.vc("options",t.pluginTypeOptions)("ngModel",t.pluginType),i.Db(1),i.vc("ngIf",0===t.pagination.totalItems),i.Db(1),i.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),i.Db(1),i.vc("ngForOf",t.plugins))},directives:[h,r.s,r.v,c.u,Oo.a,c.t,Mn.a,De.a,ze.a,w.i,We.a],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button-text{font-size:15px;font-weight:600}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-default{background-color:#f0f0f0;border:1px solid #f0f0f0}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active{background-color:var(--mainColor);border-color:var(--mainColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active:hover{background-color:var(--mainHoverColor);border-color:var(--mainHoverColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button:not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .1rem rgba(87,85,217,.2)}",'.plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;margin-right:10px;font-weight:600}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.action-button[_ngcontent-%COMP%]:active, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:0;top:-2px}',".update-button[disabled=true][_ngcontent-%COMP%]     .action-button{cursor:default!important}"]}),e})();var xo=n("Kj3r"),ko=n("/uUt");function To(e,t){1&e&&(i.Wb(0,"div",10),i.ac(1,11),i.Vb())}function Wo(e,t){1&e&&(i.Ub(0),i.Rb(1,"my-global-icon",14),i.Ub(2),i.ac(3,15),i.Tb(),i.Tb())}function zo(e,t){if(1&e&&(i.Ub(0),i.Rb(1,"my-global-icon",16),i.Ub(2),i.ac(3,17),i.Tb(),i.Tb()),2&e){const e=i.oc(2);i.Db(3),i.ec(e.pagination.totalItems)(e.pagination.totalItems)(e.search),i.bc(3)}}function Do(e,t){if(1&e&&(i.Wb(0,"div",12),i.Tc(1,Wo,4,0,"ng-container",13),i.Tc(2,zo,4,3,"ng-container",13),i.Vb()),2&e){const e=i.oc();i.Db(1),i.vc("ngIf",!e.search),i.Db(1),i.vc("ngIf",!!e.search)}}function Io(e,t){1&e&&(i.Wb(0,"div",18),i.ac(1,19),i.Vb())}function Ro(e,t){1&e&&(i.Wb(0,"span",35),i.Vc(1,"Installed"),i.Vb())}function So(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-button",36),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc().install(t)})),i.Vb()}if(2&e){const e=i.oc().$implicit,t=i.oc();i.vc("loading",t.isInstalling(e)),i.Eb("disabled",t.isInstalling(e))}}function $o(e,t){if(1&e&&(i.Wb(0,"div",20),i.Wb(1,"div",21),i.Wb(2,"div",22),i.Wb(3,"span",23),i.Vc(4),i.Vb(),i.Wb(5,"span",24),i.Vc(6),i.Vb(),i.Wb(7,"a",25),i.cc(8,26),i.Rb(9,"my-global-icon",27),i.Vb(),i.Wb(10,"a",25),i.cc(11,28),i.Rb(12,"my-global-icon",29),i.Vb(),i.Tc(13,Ro,2,0,"span",30),i.Wb(14,"div",31),i.Tc(15,So,1,2,"my-button",32),i.Vb(),i.Vb(),i.Wb(16,"div",33),i.Wb(17,"div",34),i.Vc(18),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e){const e=t.$implicit;i.Db(4),i.Wc(e.name),i.Db(2),i.Wc(e.latestVersion),i.Db(1),i.vc("href",e.homepage,i.Mc),i.Db(3),i.vc("href","https://www.npmjs.com/package/peertube-plugin-"+e.name,i.Mc),i.Db(3),i.vc("ngIf",e.installed),i.Db(2),i.vc("ngIf",!1===e.installed),i.Db(3),i.Wc(e.description)}}let Eo=(()=>{class e{constructor(e,t,n,o,i){this.pluginService=e,this.notifier=t,this.confirmService=n,this.router=o,this.route=i,this.pluginTypeOptions=[],this.pluginType=Po.a.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="-popularity",this.search="",this.isSearching=!1,this.plugins=[],this.installing={},this.pluginInstalled=!1,this.onDataSubject=new uo.a,this.searchSubject=new uo.a,this.pluginTypeOptions=this.pluginService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.searchSubject.asObservable().pipe(Object(xo.a)(400),Object(ko.a)()).subscribe(e=>{this.search=e,this.reloadPlugins()}),this.reloadPlugins()}onSearchChange(e){this.searchSubject.next(e.target.value)}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.isSearching=!0,this.pluginService.searchAvailablePlugins(this.pluginType,this.pagination,this.sort,this.search).subscribe(e=>{this.isSearching=!1,this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},e=>{console.error(e);const t="The plugin index is not available. Please retry later.";this.notifier.error(t)})}onNearOfBottom(){Object(k.hasMoreItems)(this.pagination)&&(this.pagination.currentPage+=1,this.loadMorePlugins())}isInstalling(e){return!!this.installing[e.npmName]}install(e){return Object(V.a)(this,void 0,void 0,(function*(){this.installing[e.npmName]||!1!==(yield this.confirmService.confirm("Please only install plugins or themes you trust, since they can execute any code on your instance.","Install \n          " + e.name + "?\n        "))&&(this.installing[e.npmName]=!0,this.pluginService.install(e.npmName).subscribe(()=>{this.installing[e.npmName]=!1,this.pluginInstalled=!0,this.notifier.success("\n          " + e.name + " installed.\n        "),e.installed=!0},e=>this.notifier.error(e.message)))}))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(vo),i.Qb(k.Notifier),i.Qb(k.ConfirmService),i.Qb(w.h),i.Qb(w.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-plugin-search"]],decls:10,vars:8,consts:function(){var e,t,n,o;return e="\u0E04\u0E49\u0E19\u0E2B\u0E32...",t="\n  To load your new installed plugins or themes, refresh the page.\n",n="Popular",o="{VAR_PLURAL, plural, =1 {\u0E1C\u0E25\u0E25\u0E31\u0E1E\u0E18\u0E4C} other {\u0E1C\u0E25\u0E25\u0E31\u0E1E\u0E18\u0E4C}}",o=i.fc(o,{VAR_PLURAL:"\ufffd1\ufffd"}),[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],[1,"search-bar"],["type","text",3,"input",6,"placeholder"],["placeholder",e],["class","alert alert-info",4,"ngIf"],["class","result-title",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"autoInit","dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"alert","alert-info"],t,[1,"result-title"],[4,"ngIf"],["iconName","trending","aria-hidden","true"],n,["iconName","search"],"\n          " + "\ufffd0\ufffd" + "\n          " + o + " for \"\n          " + "\ufffd2\ufffd" + "\"\n      \n        ",[1,"no-results"],"\n  No results.\n",[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer",1,"plugin-icon",3,"href",6,"title"],["title","Plugin homepage (new window)"],["iconName","home"],["title","Plugin npm package (new window)"],["iconName","npm"],["class","badge badge-success",4,"ngIf"],[1,"buttons"],["class","update-button","label","Install","icon","cloud-download",3,"loading","click",4,"ngIf"],[1,"second-row"],[1,"description"],[1,"badge","badge-success"],["label","Install","icon","cloud-download",1,"update-button",3,"loading","click"]]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"p-selectButton",1),i.kc("ngModelChange",(function(e){return t.pluginType=e}))("ngModelChange",(function(){return t.reloadPlugins()})),i.Vb(),i.Vb(),i.Wb(2,"div",2),i.Wb(3,"input",3),i.cc(4,4),i.kc("input",(function(e){return t.onSearchChange(e)})),i.Vb(),i.Vb(),i.Tc(5,To,2,0,"div",5),i.Tc(6,Do,3,2,"div",6),i.Tc(7,Io,2,0,"div",7),i.Wb(8,"div",8),i.kc("nearOfBottom",(function(){return t.onNearOfBottom()})),i.Tc(9,$o,19,7,"div",9),i.Vb()),2&e&&(i.Db(1),i.vc("options",t.pluginTypeOptions)("ngModel",t.pluginType),i.Db(4),i.vc("ngIf",t.pluginInstalled),i.Db(1),i.vc("ngIf",!t.isSearching),i.Db(1),i.vc("ngIf",0===t.pagination.totalItems),i.Db(1),i.vc("autoInit",!0)("dataObservable",t.onDataSubject.asObservable()),i.Db(1),i.vc("ngForOf",t.plugins))},directives:[h,r.s,r.v,c.u,Oo.a,c.t,Mn.a,We.a],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button-text{font-size:15px;font-weight:600}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-default{background-color:#f0f0f0;border:1px solid #f0f0f0}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active{background-color:var(--mainColor);border-color:var(--mainColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button.ui-state-active:hover{background-color:var(--mainHoverColor);border-color:var(--mainHoverColor)}.toggle-plugin-type[_ngcontent-%COMP%]   p-selectButton[_ngcontent-%COMP%]     .ui-button:not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .1rem rgba(87,85,217,.2)}",'.plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;margin-right:10px;font-weight:600}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.action-button[_ngcontent-%COMP%]:active, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;margin-right:0;top:-2px}',".search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:60%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;height:35px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:60%){.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.result-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-bottom:15px}.result-title[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}.badge[_ngcontent-%COMP%]{font-size:13px;font-weight:600;margin-left:15px}"]}),e})();var Ao=n("JbjH");function Lo(e,t){if(1&e&&(i.Wb(0,"div",6),i.Rb(1,"my-dynamic-form-field",7),i.Vb()),2&e){const e=t.$implicit,n=i.oc(3);i.Db(1),i.vc("form",n.form)("setting",e)("formErrors",n.formErrors)}}function No(e,t){if(1&e){const e=i.Xb();i.Wb(0,"form",3),i.kc("ngSubmit",(function(){return i.Kc(e),i.oc(2).formValidated()})),i.Tc(1,Lo,2,3,"div",4),i.Rb(2,"input",5),i.Vb()}if(2&e){const e=i.oc(2);i.vc("formGroup",e.form),i.Db(1),i.vc("ngForOf",e.registeredSettings),i.Db(1),i.vc("disabled",!e.form.valid)}}function Uo(e,t){if(1&e&&(i.Wb(0,"div",8),i.ac(1,9),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.ec(e.pluginTypeLabel),i.bc(1)}}function Fo(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"h2"),i.Ub(2),i.Vc(3),i.Tb(),i.Vc(4),i.Vb(),i.Tc(5,No,3,3,"form",1),i.Tc(6,Uo,2,1,"div",2),i.Tb()),2&e){const e=i.oc();i.Db(3),i.Wc(e.pluginTypeLabel),i.Db(1),i.Xc(" ",e.plugin.name," "),i.Db(1),i.vc("ngIf",e.hasRegisteredSettings()),i.Db(1),i.vc("ngIf",!e.hasRegisteredSettings())}}let Bo=(()=>{class e extends O.a{constructor(e,t,n,o){super(),this.formValidatorService=e,this.pluginService=t,this.notifier=n,this.route=o,this.registeredSettings=[]}ngOnInit(){this.sub=this.route.params.subscribe(e=>{this.loadPlugin(e.npmName)})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}formValidated(){this.pluginService.updatePluginSettings(this.plugin.name,this.plugin.type,this.form.value).subscribe(()=>{this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E41\u0E25\u0E49\u0E27")},e=>this.notifier.error(e.message))}hasRegisteredSettings(){return Array.isArray(this.registeredSettings)&&0!==this.registeredSettings.length}loadPlugin(e){this.pluginService.getPlugin(e).pipe(Object(Gn.a)(e=>this.pluginService.getPluginRegisteredSettings(e.name,e.type).pipe(Object(po.a)(t=>({plugin:e,registeredSettings:t.registeredSettings}))))).subscribe(({plugin:e,registeredSettings:t})=>{this.plugin=e,this.registeredSettings=t,this.pluginTypeLabel=this.pluginService.getPluginTypeLabel(this.plugin.type),this.buildSettingsForm()},e=>this.notifier.error(e.message))}buildSettingsForm(){const e={},t={};for(const n of this.registeredSettings)e[n.name]=null,t[n.name]=this.getSetting(n.name);this.buildForm(e),this.form.patchValue(t)}getSetting(e){const t=this.plugin.settings;return t&&t[e]?t[e]:this.registeredSettings.find(t=>t.name===e).default}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(O.b),i.Qb(vo),i.Qb(k.Notifier),i.Qb(w.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-plugin-show-installed"]],features:[i.Ab],decls:1,vars:1,consts:function(){return[[4,"ngIf"],["role","form",3,"formGroup","ngSubmit",4,"ngIf"],["class","no-settings",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["class","form-group",4,"ngFor","ngForOf"],["type","submit","value","Update plugin settings",3,"disabled"],[1,"form-group"],[3,"form","setting","formErrors"],[1,"no-settings"],"\n    This \n          " + "\ufffd0\ufffd" + " does not have settings.\n  \n        "]},template:function(e,t){1&e&&i.Tc(0,Fo,7,4,"ng-container",0),2&e&&i.vc("ngIf",t.plugin)},directives:[c.u,r.I,r.t,r.l,c.t,Ao.a],styles:['h2[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),e})();const Go=[{path:"plugins",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:7,vars:0,consts:function(){return[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","list-installed","routerLinkActive","active"],"Installed",["routerLink","search","routerLinkActive","active"],"Search"]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"a",2),i.ac(3,3),i.Vb(),i.Wb(4,"a",4),i.ac(5,5),i.Vb(),i.Vb(),i.Vb(),i.Rb(6,"router-outlet"))},directives:[w.k,w.j,w.m],styles:["@media screen and (max-width:800px){  .plugins .plugin .first-row{flex-wrap:wrap}  .plugins .plugin .first-row .plugin-icon,   .plugins .plugin .first-row .plugin-name,   .plugins .plugin .first-row .plugin-version{margin-bottom:10px}  .plugins .plugin .first-row .buttons my-button .action-button,   .plugins .plugin .first-row .buttons my-delete-button .action-button,   .plugins .plugin .first-row .buttons my-edit-button .action-button{padding:0 13px}  .plugins .plugin .first-row .buttons my-button .button-label,   .plugins .plugin .first-row .buttons my-delete-button .button-label,   .plugins .plugin .first-row .buttons my-edit-button .button-label{display:none}}"]}),e})(),canActivate:[k.UserRightGuard],data:{userRight:20},children:[{path:"",redirectTo:"list-installed",pathMatch:"full"},{path:"list-installed",component:Vo,data:{meta:{title:"List installed plugins"}}},{path:"search",component:Eo,data:{meta:{title:"Search plugins"}}},{path:"show/:npmName",component:Bo,data:{meta:{title:"Show plugin"}}}]}];let jo=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t}getDebug(){return this.authHttp.get(e.BASE_DEBUG_URL).pipe(Object(x.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_DEBUG_URL=T.a.apiUrl+"/api/v1/server/debug",e.\u0275fac=function(t){return new(t||e)(i.hc(W.b),i.hc(k.RestExtractor))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})(),Qo=(()=>{class e{constructor(e,t){this.debugService=e,this.notifier=t}ngOnInit(){this.load()}load(){this.debugService.getDebug().subscribe(e=>this.debug=e,e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(jo),i.Qb(k.Notifier))},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:37,vars:1,consts:[[1,"root"],["href","https://github.com/Chocobozzz/PeerTube/issues/1643#issuecomment-464789666"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"h4"),i.Vc(2,"IP"),i.Vb(),i.Wb(3,"p"),i.Vc(4,"PeerTube thinks your web browser public IP is "),i.Wb(5,"strong"),i.Vc(6),i.Vb(),i.Vc(7,"."),i.Vb(),i.Wb(8,"p"),i.Vc(9,"If this is not your correct public IP, please consider fixing it because:"),i.Vb(),i.Wb(10,"ul"),i.Wb(11,"li"),i.Vc(12,"Views may not be counted correctly (reduced compared to what they should be)"),i.Vb(),i.Wb(13,"li"),i.Vc(14,"Anti brute force system could be overzealous"),i.Vb(),i.Wb(15,"li"),i.Vc(16,"P2P system could not work correctly"),i.Vb(),i.Vb(),i.Wb(17,"p"),i.Vc(18,"To fix it:"),i.Vb(),i.Rb(19,"p"),i.Wb(20,"ul"),i.Wb(21,"li"),i.Vc(22,"Check the "),i.Wb(23,"code"),i.Vc(24,"trust_proxy"),i.Vb(),i.Vc(25," configuration key"),i.Vb(),i.Wb(26,"li"),i.Vc(27,"If you run PeerTube using Docker, check you run the "),i.Wb(28,"code"),i.Vc(29,"reverse-proxy"),i.Vb(),i.Vc(30," with "),i.Wb(31,"code"),i.Vc(32,'network_mode: "host"'),i.Vb(),i.Vc(33," (see "),i.Wb(34,"a",1),i.Vc(35,"issue 1643"),i.Vb(),i.Vc(36,")"),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.Db(6),i.Wc(null==t.debug?null:t.debug.ip))},styles:[".root[_ngcontent-%COMP%]{font-size:15px}.root[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:14px;font-weight:600}"]}),e})(),Ko=(()=>{class e{constructor(e,t,n){this.authHttp=e,this.restService=t,this.restExtractor=n}getJobs(t,n,o,i){let c=new W.f;return c=this.restService.addRestGetParams(c,o,i),"all"!==n&&(c=c.append("jobType",n)),this.authHttp.get(e.BASE_JOB_URL+"/"+t,{params:c}).pipe(Object(po.a)(e=>this.restExtractor.convertResultListDateToHuman(e,["createdAt","processedOn","finishedOn"])),Object(po.a)(e=>this.restExtractor.applyToResultListData(e,this.prettyPrintData)),Object(po.a)(e=>this.restExtractor.applyToResultListData(e,this.buildUniqId)),Object(x.a)(e=>this.restExtractor.handleError(e)))}prettyPrintData(e){const t=JSON.stringify(e.data,null,2);return Object.assign(e,{data:t})}buildUniqId(e){return Object.assign(e,{uniqId:`${e.id}-${e.type}`})}}return e.BASE_JOB_URL=T.a.apiUrl+"/api/v1/jobs",e.\u0275fac=function(t){return new(t||e)(i.hc(W.b),i.hc(k.RestService),i.hc(k.RestExtractor))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})();var Ho=n("YpOa");function Xo(e,t){if(1&e&&(i.Wb(0,"option",14),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e),i.Db(1),i.Wc(e)}}function qo(e,t){if(1&e&&(i.Wb(0,"option",14),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e),i.Db(1),i.Wc(e)}}function Yo(e,t){1&e&&(i.Wb(0,"tr"),i.Rb(1,"th",15),i.Wb(2,"th",16),i.ac(3,17),i.Vb(),i.Wb(4,"th",18),i.ac(5,19),i.Vb(),i.Wb(6,"th",20),i.gc(7,21),i.Rb(8,"p-sortIcon",22),i.dc(),i.Vb(),i.Wb(9,"th",23),i.ac(10,24),i.Vb(),i.Vb())}function Jo(e,t){1&e&&(i.Wb(0,"td",36),i.Rb(1,"span",37),i.Wb(2,"span"),i.ac(3,38),i.Vb(),i.Vb())}function Zo(e,t){1&e&&(i.Wb(0,"td",39),i.Rb(1,"span",40),i.Wb(2,"span"),i.ac(3,41),i.Vb(),i.Vb())}function ei(e,t){1&e&&(i.Wb(0,"td",39),i.Rb(1,"span",42),i.Wb(2,"span"),i.ac(3,43),i.Vb(),i.Vb())}function ti(e,t){1&e&&(i.Wb(0,"td",44),i.Rb(1,"span",45),i.Wb(2,"span"),i.ac(3,46),i.Vb(),i.Vb())}function ni(e,t){1&e&&(i.Wb(0,"td",47),i.Rb(1,"span",48),i.Wb(2,"span"),i.ac(3,49),i.Vb(),i.Vb())}function oi(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",25),i.Wb(2,"span",26),i.cc(3,27),i.Rb(4,"i",28),i.Vb(),i.Vb(),i.Wb(5,"td",29),i.Vc(6),i.Vb(),i.Wb(7,"td",30),i.Vc(8),i.Vb(),i.Wb(9,"td",31),i.Vc(10),i.pc(11,"date"),i.Vb(),i.Tc(12,Jo,4,0,"td",32),i.Tc(13,Zo,4,0,"td",33),i.Tc(14,ei,4,0,"td",33),i.Tc(15,ti,4,0,"td",34),i.Tc(16,ni,4,0,"td",35),i.Vb()),2&e){const e=t.expanded,n=t.$implicit;i.Db(2),i.vc("pRowToggler",n),i.Db(2),i.vc("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),i.Db(1),i.vc("title",n.id),i.Db(1),i.Wc(n.id),i.Db(2),i.Wc(n.type),i.Db(2),i.Wc(i.rc(11,11,n.createdAt,"short")),i.Db(2),i.vc("ngIf","delayed"===n.state),i.Db(1),i.vc("ngIf","waiting"===n.state),i.Db(1),i.vc("ngIf","active"===n.state),i.Db(1),i.vc("ngIf","completed"===n.state),i.Db(1),i.vc("ngIf","failed"===n.state)}}function ii(e,t){if(1&e&&(i.Wb(0,"tr",52),i.Wb(1,"td",50),i.Wb(2,"pre"),i.Vc(3),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc().$implicit;i.Db(3),i.Wc(e.error)}}const ci=function(e,t,n,o){return[e,t,n,o]};function ai(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",50),i.Wb(2,"pre"),i.Vc(3),i.Vb(),i.Vb(),i.Vb(),i.Wb(4,"tr"),i.Wb(5,"td",50),i.Wb(6,"pre"),i.Vc(7),i.Vb(),i.Vb(),i.Vb(),i.Tc(8,ii,4,1,"tr",51)),2&e){const e=t.$implicit;i.Db(3),i.Wc(i.Cc(3,ci,"Job: "+e.id,"Type: "+e.type,"Processed on "+(e.processedOn||"-"),"Finished on "+(e.finishedOn||"-")).join("\n")),i.Db(4),i.Wc(e.data),i.Db(1),i.vc("ngIf",e.error)}}const ri=function(){return{"table-layout":"auto"}};let li=(()=>{class e extends k.RestTable{constructor(e,t){super(),this.notifier=e,this.jobsService=t,this.jobState="waiting",this.jobStates=["active","completed","failed","waiting","delayed"],this.jobType="all",this.jobTypes=["all","activitypub-follow","activitypub-http-broadcast","activitypub-http-fetcher","activitypub-http-unicast","email","video-transcoding","video-file-import","video-import","videos-views","premium-storage-checker","activitypub-refresher","video-redundancy"],this.jobs=[],this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.loadJobStateAndType(),this.initialize()}getIdentifier(){return"JobsComponent"}onJobStateOrTypeChanged(){this.pagination.start=0,this.loadData(),this.saveJobStateAndType()}loadData(){this.jobsService.getJobs(this.jobState,this.jobType,this.pagination,this.sort).subscribe(e=>{this.jobs=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}loadJobStateAndType(){const t=Ho.a.getItem(e.LOCAL_STORAGE_STATE);t&&(this.jobState=t);const n=Ho.a.getItem(e.LOCAL_STORAGE_TYPE);n&&(this.jobType=n)}saveJobStateAndType(){Ho.a.setItem(e.LOCAL_STORAGE_STATE,this.jobState),Ho.a.setItem(e.LOCAL_STORAGE_TYPE,this.jobType)}}return e.LOCAL_STORAGE_STATE="jobs-list-state",e.LOCAL_STORAGE_TYPE="jobs-list-type",e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(Ko))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-jobs"]],features:[i.Ab],decls:17,vars:15,consts:function(){return[[1,"admin-sub-header"],[1,"select-filter-block"],["for","jobType"],"Job type",[1,"peertube-select-container"],["id","jobType","name","jobType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","jobState"],"Job state",["id","jobState","name","jobState",1,"form-control",3,"ngModel","ngModelChange"],["dataKey","uniqId",3,"value","lazy","paginator","totalRecords","rows","sortField","sortOrder","first","tableStyle","expandedRowKeys","onLazyLoad","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"value"],[2,"width","40px"],[1,"job-id",2,"width","100%"],"ID",[1,"job-type",2,"width","200px"],"Type",["pSortableColumn","createdAt",1,"job-date",2,"width","150px"],"Created \n          " + "\ufffd#8\ufffd" + "\n          " + "\ufffd/#8\ufffd" + "\n        ",["field","createdAt"],[1,"job-state",2,"width","150px"],"State",[1,"expand-cell"],["placement","top-left","container","body",1,"expander",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21"],[3,"ngClass"],[1,"job-id",3,"title"],[1,"job-type"],[1,"job-date"],["class","job-state","class","text-muted",4,"ngIf"],["class","job-state","class","text-warning",4,"ngIf"],["class","job-state","class","text-success",4,"ngIf"],["class","job-state","class","text-danger",4,"ngIf"],[1,"text-muted"],[1,"glyphicon","glyphicon-repeat"],"Delayed",[1,"text-warning"],[1,"glyphicon","glyphicon-hourglass"],"Will start soon...",[1,"glyphicon","glyphicon-cog"],"Running...",[1,"text-success"],[1,"glyphicon","glyphicon-ok"],"Finished",[1,"text-danger"],[1,"glyphicon","glyphicon-remove"],"Failed",["colspan","4"],["class","job-error",4,"ngIf"],[1,"job-error"]]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"label",2),i.ac(3,3),i.Vb(),i.Wb(4,"div",4),i.Wb(5,"select",5),i.kc("ngModelChange",(function(e){return t.jobType=e}))("ngModelChange",(function(){return t.onJobStateOrTypeChanged()})),i.Tc(6,Xo,2,2,"option",6),i.Vb(),i.Vb(),i.Vb(),i.Wb(7,"div",1),i.Wb(8,"label",7),i.ac(9,8),i.Vb(),i.Wb(10,"div",4),i.Wb(11,"select",9),i.kc("ngModelChange",(function(e){return t.jobState=e}))("ngModelChange",(function(){return t.onJobStateOrTypeChanged()})),i.Tc(12,qo,2,2,"option",6),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"p-table",10),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(14,Yo,11,0,"ng-template",11),i.Tc(15,oi,17,14,"ng-template",12),i.Tc(16,ai,9,8,"ng-template",13),i.Vb()),2&e&&(i.Db(5),i.vc("ngModel",t.jobType),i.Db(1),i.vc("ngForOf",t.jobTypes),i.Db(5),i.vc("ngModel",t.jobState),i.Db(1),i.vc("ngForOf",t.jobStates),i.Db(1),i.vc("value",t.jobs)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("sortField",t.sort.field)("sortOrder",t.sort.order)("first",t.pagination.start)("tableStyle",i.yc(14,ri))("expandedRowKeys",t.expandedRows))},directives:[r.E,r.s,r.v,c.t,C.k,ne.d,r.x,r.H,C.j,C.i,H.y,C.f,c.r,c.u],pipes:[c.f],styles:['.job-id[_ngcontent-%COMP%]{max-width:30vw!important}.job-type[_ngcontent-%COMP%]{width:150px!important}.job-date[_ngcontent-%COMP%]{width:170px!important}.job-state[_ngcontent-%COMP%]{max-width:60px}.admin-sub-header[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:flex-end}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}td[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:10px}pre[_ngcontent-%COMP%]{font-size:11px}.job-error[_ngcontent-%COMP%]{color:red}']}),e})();var si=n("m8R6");class bi{constructor(e){this.date=new Date(e.timestamp),this.localeDate=this.date.toLocaleString(),this.level=e.level,this.message=e.message;const t=Object(si.a)(e,"timestamp","level","message","label");if(0!==Object.keys(t).length&&(this.meta=JSON.stringify(t,void 0,2)),"audit"===e.level)try{const t=JSON.parse(e.message);this.by=t.user,this.domain=t.domain,this.action=t.action,this.meta=JSON.stringify(t,null,2),this.message=""}catch(n){console.error("Cannot parse audit message.",n)}}}let di=(()=>{class e{constructor(e,t){this.authHttp=e,this.restExtractor=t}getLogs(t){const{isAuditLog:n,startDate:o}=t;let i=new W.f;return i=i.append("startDate",o),n||(i=i.append("level",t.level)),t.endDate&&i.append("endDate",t.endDate),this.authHttp.get(n?e.BASE_AUDIT_LOG_URL:e.BASE_LOG_URL,{params:i}).pipe(Object(po.a)(e=>e.map(e=>new bi(e))),Object(x.a)(e=>this.restExtractor.handleError(e)))}}return e.BASE_LOG_URL=T.a.apiUrl+"/api/v1/server/logs",e.BASE_AUDIT_LOG_URL=T.a.apiUrl+"/api/v1/server/audit-logs",e.\u0275fac=function(t){return new(t||e)(i.hc(W.b),i.hc(k.RestExtractor))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})();const gi=["logsElement"];function ui(e,t){if(1&e&&(i.Wb(0,"option",11),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.id),i.Db(1),i.Wc(e.label)}}function pi(e,t){if(1&e&&(i.Wb(0,"option",11),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.id),i.Db(1),i.Wc(e.label)}}function fi(e,t){if(1&e&&(i.Wb(0,"option",11),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.id),i.Db(1),i.Wc(e.label)}}function mi(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",1),i.Wb(1,"select",2),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().level=t}))("ngModelChange",(function(){return i.Kc(e),i.oc().refresh()})),i.Tc(2,fi,2,2,"option",3),i.Vb(),i.Vb()}if(2&e){const e=i.oc();i.Db(1),i.vc("ngModel",e.level),i.Db(1),i.vc("ngForOf",e.levelChoices)}}function hi(e,t){1&e&&(i.Wb(0,"div"),i.ac(1,12),i.Vb())}function vi(e,t){if(1&e&&(i.Wb(0,"strong",18),i.ac(1,19),i.Vb()),2&e){const e=i.oc().$implicit;i.Db(1),i.ec(e.by),i.bc(1)}}function Ci(e,t){if(1&e&&(i.Wb(0,"strong",20),i.Vc(1),i.Vb()),2&e){const e=i.oc().$implicit;i.Db(1),i.Yc("",e.domain," -> ",e.action,"")}}const Pi=function(e,t){return{error:e,warn:t}};function Oi(e,t){if(1&e&&(i.Wb(0,"div",13),i.Wb(1,"span",14),i.Vc(2),i.Vb(),i.Wb(3,"span",15),i.Vc(4),i.Vb(),i.Tc(5,vi,2,1,"strong",16),i.Tc(6,Ci,2,2,"strong",17),i.Vc(7),i.Wb(8,"pre"),i.Vc(9),i.Vb(),i.Vb()),2&e){const e=t.$implicit;i.vc("ngClass",i.Ac(7,Pi,"error"===e.level,"warn"===e.level)),i.Db(2),i.Wc(e.level),i.Db(2),i.Xc("[",e.localeDate,"]"),i.Db(1),i.vc("ngIf",e.by),i.Db(1),i.vc("ngIf",e.domain),i.Db(1),i.Xc(" ",e.message," "),i.Db(2),i.Wc(e.meta)}}let _i=(()=>{class e{constructor(e,t){this.logsService=e,this.notifier=t,this.loading=!1,this.logs=[],this.timeChoices=[],this.levelChoices=[],this.logTypeChoices=[]}ngOnInit(){this.buildTimeChoices(),this.buildLevelChoices(),this.buildLogTypeChoices(),this.load()}refresh(){this.logs=[],this.load()}load(){this.loading=!0,this.logsService.getLogs({isAuditLog:this.isAuditLog(),level:this.level,startDate:this.startDate}).subscribe(e=>{this.logs=e,setTimeout(()=>{this.logsElement.nativeElement.scrollIntoView({block:"end",inline:"nearest"})})},e=>this.notifier.error(e.message),()=>this.loading=!1)}isAuditLog(){return"audit"===this.logType}buildTimeChoices(){const e=new Date;e.setHours(e.getHours()-1);const t=new Date;t.setDate(t.getDate()-1);const n=new Date;n.setDate(n.getDate()-7),this.timeChoices=[{id:n.toISOString(),label:"Last week"},{id:t.toISOString(),label:"Last day"},{id:e.toISOString(),label:"Last hour"}],this.startDate=e.toISOString()}buildLevelChoices(){this.levelChoices=[{id:"debug",label:"Debug"},{id:"info",label:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"},{id:"warn",label:"\u0E04\u0E33\u0E40\u0E15\u0E37\u0E2D\u0E19"},{id:"error",label:"\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14"}],this.level="warn"}buildLogTypeChoices(){this.logTypeChoices=[{id:"standard",label:"Standard logs"},{id:"audit",label:"Audit logs"}],this.logType="audit"}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(di),i.Qb(k.Notifier))},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&i.Qc(gi,!0),2&e&&i.Hc(n=i.lc())&&(t.logsElement=n.first)},decls:15,vars:7,consts:function(){return[[1,"header"],[1,"peertube-select-container"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","peertube-select-container",4,"ngIf"],["icon","refresh",3,"click",6,"label"],["label","Refresh"],[1,"logs"],[4,"ngIf"],["logsElement",""],["class","log-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"value"],"Loading...",[1,"log-row",3,"ngClass"],[1,"log-level"],[1,"log-date"],["class","log-by",4,"ngIf"],["class","log-domain-action",4,"ngIf"],[1,"log-by"],"By \n          " + "\ufffd0\ufffd" + " ->\n        ",[1,"log-domain-action"]]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"select",2),i.kc("ngModelChange",(function(e){return t.logType=e}))("ngModelChange",(function(){return t.refresh()})),i.Tc(3,ui,2,2,"option",3),i.Vb(),i.Vb(),i.Wb(4,"div",1),i.Wb(5,"select",2),i.kc("ngModelChange",(function(e){return t.startDate=e}))("ngModelChange",(function(){return t.refresh()})),i.Tc(6,pi,2,2,"option",3),i.Vb(),i.Vb(),i.Tc(7,mi,3,2,"div",4),i.Wb(8,"my-button",5),i.cc(9,6),i.kc("click",(function(){return t.refresh()})),i.Vb(),i.Vb(),i.Wb(10,"div",7),i.Tc(11,hi,2,0,"div",8),i.Wb(12,"div",null,9),i.Tc(14,Oi,10,10,"div",10),i.Vb(),i.Vb()),2&e&&(i.Db(2),i.vc("ngModel",t.logType),i.Db(1),i.vc("ngForOf",t.logTypeChoices),i.Db(2),i.vc("ngModel",t.startDate),i.Db(1),i.vc("ngForOf",t.timeChoices),i.Db(1),i.vc("ngIf",!t.isAuditLog()),i.Db(4),i.vc("ngIf",t.loading),i.Db(3),i.vc("ngForOf",t.logs))},directives:[r.E,r.s,r.v,c.t,c.u,We.a,r.x,r.H,c.r],styles:['.logs[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;max-height:500px;overflow-y:auto;background:rgba(0,0,0,.03);padding:20px}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]{margin-top:1px;word-break:break-word}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.07)}.logs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{font-weight:600;margin-right:5px}.logs[_ngcontent-%COMP%]   .log-by[_ngcontent-%COMP%]{margin:0 5px}.logs[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]{color:var(--mainColor)}.logs[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.logs[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin-bottom:5px;white-space:pre-wrap;word-wrap:break-word}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:10px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:150px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:150px){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-left:10px}@media screen and (max-width:800px){.header[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-left:0!important;margin-bottom:10px!important}.header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column}.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-left:0!important;margin-bottom:10px!important}.main-col[_nghost-%COMP%]:not(.expanded)   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}']}),e})();function Mi(e,t){1&e&&(i.Wb(0,"a",5),i.ac(1,6),i.Vb())}function yi(e,t){1&e&&(i.Wb(0,"a",7),i.ac(1,8),i.Vb())}function wi(e,t){1&e&&(i.Wb(0,"a",9),i.ac(1,10),i.Vb())}const Vi=[{path:"system",component:(()=>{class e{constructor(e){this.auth=e}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.AuthService))},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:6,vars:3,consts:function(){return[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","jobs","routerLinkActive","active",4,"ngIf"],["routerLink","logs","routerLinkActive","active",4,"ngIf"],["routerLink","debug","routerLinkActive","active",4,"ngIf"],["routerLink","jobs","routerLinkActive","active"],"Jobs",["routerLink","logs","routerLinkActive","active"],"Logs",["routerLink","debug","routerLinkActive","active"],"Debug"]},template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Tc(2,Mi,2,0,"a",2),i.Tc(3,yi,2,0,"a",3),i.Tc(4,wi,2,0,"a",4),i.Vb(),i.Vb(),i.Rb(5,"router-outlet")),2&e&&(i.Db(2),i.vc("ngIf",t.hasJobsRight()),i.Db(1),i.vc("ngIf",t.hasLogsRight()),i.Db(1),i.vc("ngIf",t.hasDebugRight()))},directives:[c.u,w.m,w.k,w.j],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}"]}),e})(),children:[{path:"",redirectTo:"jobs",pathMatch:"full"},{path:"jobs",canActivate:[k.UserRightGuard],component:li,data:{meta:{userRight:7,title:"Jobs"}}},{path:"logs",canActivate:[k.UserRightGuard],component:_i,data:{meta:{userRight:3,title:"Logs"}}},{path:"debug",canActivate:[k.UserRightGuard],component:Qo,data:{meta:{userRight:4,title:"Debug"}}}]}];var xi=n("Phsq"),ki=n("tt3q");const Ti=function(e){return{"offset-content":e}};let Wi=(()=>{class e{constructor(e,t){this.auth=e,this.screen=t,this.items=[],this.menuEntries=[]}get isBroadcastMessageDisplayed(){return this.screen.isBroadcastMessageDisplayed}ngOnInit(){const e={label:"Federation",children:[{label:"Instances you follow",routerLink:"/admin/follows/following-list",iconName:"following"},{label:"Instances following you",routerLink:"/admin/follows/followers-list",iconName:"follower"},{label:"Video redundancies",routerLink:"/admin/follows/video-redundancies-list",iconName:"videos"}]},t={label:"Moderation",children:[]};this.hasAbusesRight()&&t.children.push({label:"Reports",routerLink:"/admin/moderation/abuses/list",iconName:"flag"}),this.hasVideoBlocklistRight()&&t.children.push({label:"Video blocks",routerLink:"/admin/moderation/video-blocks/list",iconName:"cross"}),this.hasAccountsBlocklistRight()&&t.children.push({label:"Muted accounts",routerLink:"/admin/moderation/blocklist/accounts",iconName:"user-x"}),this.hasServersBlocklistRight()&&t.children.push({label:"Muted servers",routerLink:"/admin/moderation/blocklist/servers",iconName:"peertube-x"}),this.hasUsersRight()&&this.menuEntries.push({label:"Users",routerLink:"/admin/users"}),this.hasServerFollowRight()&&this.menuEntries.push(e),(this.hasAbusesRight()||this.hasVideoBlocklistRight())&&this.menuEntries.push(t),this.hasConfigRight()&&this.menuEntries.push({label:"Configuration",routerLink:"/admin/config"}),this.hasPluginsRight()&&this.menuEntries.push({label:"Plugins/Themes",routerLink:"/admin/plugins"}),(this.hasJobsRight()||this.hasLogsRight()||this.hasDebugRight())&&this.menuEntries.push({label:"System",routerLink:"/admin/system"})}hasUsersRight(){return this.auth.getUser().hasRight(1)}hasServerFollowRight(){return this.auth.getUser().hasRight(2)}hasAbusesRight(){return this.auth.getUser().hasRight(6)}hasVideoBlocklistRight(){return this.auth.getUser().hasRight(11)}hasAccountsBlocklistRight(){return this.auth.getUser().hasRight(9)}hasServersBlocklistRight(){return this.auth.getUser().hasRight(10)}hasConfigRight(){return this.auth.getUser().hasRight(8)}hasPluginsRight(){return this.auth.getUser().hasRight(20)}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.AuthService),i.Qb(k.ScreenService))},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:4,vars:4,consts:[[3,"menuEntries"],[1,"margin-content",3,"ngClass"]],template:function(e,t){1&e&&(i.Wb(0,"div"),i.Rb(1,"my-top-menu-dropdown",0),i.Wb(2,"div",1),i.Rb(3,"router-outlet"),i.Vb(),i.Vb()),2&e&&(i.Db(1),i.vc("menuEntries",t.menuEntries),i.Db(1),i.vc("ngClass",i.zc(2,Ti,!t.isBroadcastMessageDisplayed)))},directives:[ki.a,c.r,w.m],styles:["my-top-menu-dropdown[_ngcontent-%COMP%]{flex-grow:1}  h1{font-size:1.3rem;border-bottom:2px solid #e5e5e5;padding-bottom:15px;margin-bottom:30px}  h1 my-global-icon{margin-right:10px;vertical-align:bottom;width:24px;height:24px}  h1 .badge{margin-left:7px}"]}),e})();var zi=n("RxIU");function Di(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",8),i.Wb(1,"div",9),i.Wb(2,"input",10),i.cc(3,11),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onSearch(t)})),i.Vb(),i.Wb(4,"a",12),i.kc("click",(function(){return i.Kc(e),i.oc().resetSearch()})),i.Vb(),i.Wb(5,"span",13),i.ac(6,14),i.Vb(),i.Vb(),i.Vb()}}function Ii(e,t){1&e&&(i.Wb(0,"tr"),i.Wb(1,"th",15),i.Vc(2,"Actions"),i.Vb(),i.Wb(3,"th"),i.ac(4,16),i.Vb(),i.Wb(5,"th",17),i.gc(6,18),i.Rb(7,"p-sortIcon",19),i.dc(),i.Vb(),i.Wb(8,"th",20),i.gc(9,21),i.Rb(10,"p-sortIcon",22),i.dc(),i.Vb(),i.Wb(11,"th",23),i.gc(12,24),i.Rb(13,"p-sortIcon",25),i.dc(),i.Vb(),i.Vb())}function Ri(e,t){if(1&e){const e=i.Xb();i.Ub(0),i.Wb(1,"my-button",32),i.cc(2,33),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc().acceptFollower(t)})),i.Vb(),i.Wb(3,"my-button",34),i.cc(4,35),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc().rejectFollower(t)})),i.Vb(),i.Tb()}}function Si(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-delete-button",36),i.kc("click",(function(){i.Kc(e);const t=i.oc().$implicit;return i.oc().deleteFollower(t)})),i.Vb()}}function $i(e,t){1&e&&(i.Wb(0,"td"),i.Wb(1,"span",37),i.ac(2,38),i.Vb(),i.Vb())}function Ei(e,t){1&e&&(i.Wb(0,"td"),i.Wb(1,"span",39),i.ac(2,40),i.Vb(),i.Vb())}function Ai(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",26),i.Tc(2,Ri,5,0,"ng-container",27),i.Tc(3,Si,1,0,"my-delete-button",28),i.Vb(),i.Wb(4,"td"),i.Wb(5,"a",29),i.cc(6,30),i.Vc(7),i.Rb(8,"span",31),i.Vb(),i.Vb(),i.Tc(9,$i,3,0,"td",27),i.Tc(10,Ei,3,0,"td",27),i.Wb(11,"td"),i.Vc(12),i.Vb(),i.Wb(13,"td"),i.Vc(14),i.pc(15,"date"),i.Vb(),i.Vb()),2&e){const e=t.$implicit;i.Db(2),i.vc("ngIf","pending"===e.state),i.Db(1),i.vc("ngIf","accepted"===e.state),i.Db(2),i.vc("href",e.follower.url,i.Mc),i.Db(2),i.Xc(" ",e.follower.name+"@"+e.follower.host," "),i.Db(2),i.vc("ngIf","accepted"===e.state),i.Db(1),i.vc("ngIf","pending"===e.state),i.Db(2),i.Wc(e.score),i.Db(2),i.Wc(i.rc(15,8,e.createdAt,"short"))}}function Li(e,t){1&e&&(i.Ub(0),i.ac(1,43),i.Tb())}function Ni(e,t){1&e&&(i.Ub(0),i.ac(1,44),i.Tb())}function Ui(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",41),i.Wb(2,"div",42),i.Tc(3,Li,2,0,"ng-container",27),i.Tc(4,Ni,2,0,"ng-container",27),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.search),i.Db(1),i.vc("ngIf",!e.search)}}let Fi=(()=>{class e extends k.RestTable{constructor(e,t,n){super(),this.confirmService=e,this.notifier=t,this.followService=n,this.followers=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowersListComponent"}acceptFollower(e){e.state="accepted",this.followService.acceptFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " accepted in instance followers\n        ")},t=>{e.state="pending",this.notifier.error(t.message)})}rejectFollower(e){return Object(V.a)(this,void 0,void 0,(function*(){const t="Do you really want to reject this follower?";!1!==(yield this.confirmService.confirm(t,"Reject"))&&this.followService.rejectFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " rejected from instance followers\n        "),this.loadData()},t=>{e.state="pending",this.notifier.error(t.message)})}))}deleteFollower(e){return Object(V.a)(this,void 0,void 0,(function*(){const t="Do you really want to delete this follower?";!1!==(yield this.confirmService.confirm(t,"Delete"))&&this.followService.removeFollower(e).subscribe(()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " removed from instance followers\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.followService.getFollowers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.followers=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.ConfirmService),i.Qb(k.Notifier),i.Qb(zi.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-followers-list"]],features:[i.Ab],decls:10,vars:12,consts:function(){return[["iconName","follower","aria-hidden","true"],"Instances following you",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " followers\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",[2,"width","150px"],"Follower handle",["pSortableColumn","state",2,"width","100px"],"State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","state"],["pSortableColumn","score",2,"width","100px"],"Score \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",["field","score"],["pSortableColumn","createdAt",2,"width","150px"],"Created \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",["field","createdAt"],[1,"action-cell"],[4,"ngIf"],["label","",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","Open actor page in a new tab"],[1,"glyphicon","glyphicon-new-window"],["icon","tick",3,"click",6,"title"],["title","Accept"],["icon","cross",3,"click",6,"title"],["title","Refuse"],["label","",3,"click"],[1,"badge","badge-green"],"Accepted",[1,"badge","badge-yellow"],"Pending",["colspan","6"],[1,"no-results"],"No follower found matching current filters.","Your instance doesn't have any follower."]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"p-table",2),i.cc(5,3),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(6,Di,7,0,"ng-template",4),i.Tc(7,Ii,14,0,"ng-template",5),i.Tc(8,Ai,16,11,"ng-template",6),i.Tc(9,Ui,5,2,"ng-template",7),i.Vb()),2&e&&(i.Db(4),i.ec("{first}")("{last}")("{totalRecords}"),i.bc(5),i.vc("value",t.followers)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[Mn.a,C.k,ne.d,C.j,C.i,c.u,We.a,De.a],pipes:[c.f],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",".caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.action-cell[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]:first-child{margin-right:10px}"]}),e})(),Bi=(()=>{class e{constructor(e,t){this.notifier=e,this.redundancyService=t}updateRedundancyState(){this.redundancyService.updateRedundancy(this.host,this.redundancyAllowed).subscribe(()=>{const e=this.redundancyAllowed?"enabled":"disabled";this.notifier.success("Redundancy for \n          " + this.host + " is \n          " + e + "\n        ")},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(M.RedundancyService))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-redundancy-checkbox"]],inputs:{redundancyAllowed:"redundancyAllowed",host:"host"},decls:1,vars:2,consts:[[3,"inputName","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i.Wb(0,"my-peertube-checkbox",0),i.kc("ngModelChange",(function(e){return t.redundancyAllowed=e}))("ngModelChange",(function(){return t.updateRedundancyState()})),i.Vb()),2&e&&i.vc("inputName",t.host+"-redundancy-allowed")("ngModel",t.redundancyAllowed)},directives:[J.a,r.s,r.v],styles:[""]}),e})();const Gi=["batchDomainsModal"];function ji(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",13),i.Wb(1,"div",14),i.Wb(2,"input",15),i.cc(3,16),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onSearch(t)})),i.Vb(),i.Wb(4,"a",17),i.kc("click",(function(){return i.Kc(e),i.oc().resetSearch()})),i.Vb(),i.Wb(5,"span",18),i.ac(6,19),i.Vb(),i.Vb(),i.Wb(7,"a",20),i.kc("click",(function(){return i.Kc(e),i.oc().addDomainsToFollow()}))("key.enter",(function(){return i.Kc(e),i.oc().addDomainsToFollow()})),i.Rb(8,"my-global-icon",0),i.Ub(9),i.ac(10,21),i.Tb(),i.Vb(),i.Vb()}}function Qi(e,t){1&e&&(i.Wb(0,"tr"),i.Wb(1,"th",22),i.Vc(2,"Action"),i.Vb(),i.Wb(3,"th"),i.ac(4,23),i.Vb(),i.Wb(5,"th",24),i.gc(6,25),i.Rb(7,"p-sortIcon",26),i.dc(),i.Vb(),i.Wb(8,"th",27),i.gc(9,28),i.Rb(10,"p-sortIcon",29),i.dc(),i.Vb(),i.Wb(11,"th",30),i.gc(12,31),i.Rb(13,"p-sortIcon",32),i.dc(),i.Vb(),i.Vb())}function Ki(e,t){1&e&&(i.Wb(0,"td"),i.Wb(1,"span",40),i.ac(2,41),i.Vb(),i.Vb())}function Hi(e,t){1&e&&(i.Wb(0,"td"),i.Wb(1,"span",42),i.ac(2,43),i.Vb(),i.Vb())}function Xi(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td",33),i.Wb(2,"my-delete-button",34),i.kc("click",(function(){i.Kc(e);const n=t.$implicit;return i.oc().removeFollowing(n)})),i.Vb(),i.Vb(),i.Wb(3,"td"),i.Wb(4,"a",35),i.cc(5,36),i.Vc(6),i.Rb(7,"span",37),i.Vb(),i.Vb(),i.Tc(8,Ki,3,0,"td",38),i.Tc(9,Hi,3,0,"td",38),i.Wb(10,"td"),i.Vc(11),i.pc(12,"date"),i.Vb(),i.Wb(13,"td"),i.Rb(14,"my-redundancy-checkbox",39),i.Vb(),i.Vb()}if(2&e){const e=t.$implicit;i.Db(4),i.vc("href","https://"+e.following.host,i.Mc),i.Db(2),i.Xc(" ",e.following.host," "),i.Db(2),i.vc("ngIf","accepted"===e.state),i.Db(1),i.vc("ngIf","pending"===e.state),i.Db(2),i.Wc(i.rc(12,7,e.createdAt,"short")),i.Db(3),i.vc("host",e.following.host)("redundancyAllowed",e.following.hostRedundancyAllowed)}}function qi(e,t){1&e&&(i.Ub(0),i.ac(1,46),i.Tb())}function Yi(e,t){1&e&&(i.Ub(0),i.ac(1,47),i.Tb())}function Ji(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",44),i.Wb(2,"div",45),i.Tc(3,qi,2,0,"ng-container",38),i.Tc(4,Yi,2,0,"ng-container",38),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.search),i.Db(1),i.vc("ngIf",!e.search)}}function Zi(e,t){1&e&&(i.Wb(0,"div",48),i.ac(1,49),i.Vb())}let ec=(()=>{class e extends k.RestTable{constructor(e,t,n){super(),this.notifier=e,this.confirmService=t,this.followService=n,this.following=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowingListComponent"}addDomainsToFollow(){this.batchDomainsModal.openModal()}httpEnabled(){return"https:"===window.location.protocol}addFollowing(e){return Object(V.a)(this,void 0,void 0,(function*(){this.followService.follow(e).subscribe(()=>{this.notifier.success("Follow request(s) sent!"),this.loadData()},e=>this.notifier.error(e.message))}))}removeFollowing(e){return Object(V.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("Do you really want to unfollow \n          " + e.following.host + "?\n        ","Unfollow"))&&this.followService.unfollow(e).subscribe(()=>{this.notifier.success("You are not following \n          " + e.following.host + " anymore.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.followService.getFollowing({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.following=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(k.ConfirmService),i.Qb(zi.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-followers-list"]],viewQuery:function(e,t){var n;1&e&&i.Zc(Gi,!0),2&e&&i.Hc(n=i.lc())&&(t.batchDomainsModal=n.first)},features:[i.Ab],decls:15,vars:13,consts:function(){return[["iconName","following","aria-hidden","true"],"Instances you follow",[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " hosts\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"domains",6,"action"],["batchDomainsModal",""],["action","Follow domains"],["ngProjectAs","warning",5,["warning"]],["class","alert alert-warning",4,"ngIf"],[1,"caption"],[1,"ml-auto","has-feedback","has-clear"],["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",[1,"ml-2","follow-button",3,"click","key.enter"],"Follow domain",[2,"width","150px"],"Host",["pSortableColumn","state",2,"width","100px"],"State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","state"],["pSortableColumn","createdAt",2,"width","150px"],"Created \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",["field","createdAt"],["pSortableColumn","redundancyAllowed",2,"width","160px"],"Redundancy allowed \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",["field","redundancyAllowed"],[1,"action-cell"],["label","",3,"click"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","Open instance in a new tab"],[1,"glyphicon","glyphicon-new-window"],[4,"ngIf"],[3,"host","redundancyAllowed"],[1,"badge","badge-green"],"Accepted",[1,"badge","badge-yellow"],"Pending",["colspan","6"],[1,"no-results"],"No host found matching current filters.","Your instance is not following anyone.",[1,"alert","alert-warning"],"\n      It seems that you are not on a HTTPS server. Your webserver needs to have TLS activated in order to follow servers.\n    "]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"p-table",2),i.cc(5,3),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(6,ji,11,0,"ng-template",4),i.Tc(7,Qi,14,0,"ng-template",5),i.Tc(8,Xi,15,10,"ng-template",6),i.Tc(9,Ji,5,2,"ng-template",7),i.Vb(),i.Wb(10,"my-batch-domains-modal",8,9),i.cc(12,10),i.kc("domains",(function(e){return t.addFollowing(e)})),i.Ub(13,11),i.Tc(14,Zi,2,0,"div",12),i.Tb(),i.Vb()),2&e&&(i.Db(4),i.ec("{first}")("{last}")("{totalRecords}"),i.bc(5),i.vc("value",t.following)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0),i.Db(10),i.vc("ngIf",!1===t.httpEnabled()))},directives:[Mn.a,C.k,ne.d,Dn.a,c.u,C.j,C.i,De.a,Bi],pipes:[c.f],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]{justify-content:flex-end}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.follow-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.follow-button[_ngcontent-%COMP%]:active, .follow-button[_ngcontent-%COMP%]:focus, .follow-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.follow-button.focus-visible[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.follow-button[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%]:active, .follow-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.follow-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.follow-button.disabled[_ngcontent-%COMP%], .follow-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}']}),e})(),tc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-redundancy-information"]],inputs:{redundancyElement:"redundancyElement"},decls:23,vars:14,consts:[[1,"label"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(e,t){1&e&&(i.Wb(0,"div"),i.Wb(1,"span",0),i.Vc(2,"Url"),i.Vb(),i.Wb(3,"a",1),i.Vc(4),i.Vb(),i.Vb(),i.Wb(5,"div"),i.Wb(6,"span",0),i.Vc(7,"Created on"),i.Vb(),i.Wb(8,"span"),i.Vc(9),i.pc(10,"date"),i.Vb(),i.Vb(),i.Wb(11,"div"),i.Wb(12,"span",0),i.Vc(13,"Expires on"),i.Vb(),i.Wb(14,"span"),i.Vc(15),i.pc(16,"date"),i.Vb(),i.Vb(),i.Wb(17,"div"),i.Wb(18,"span",0),i.Vc(19,"Size"),i.Vb(),i.Wb(20,"span"),i.Vc(21),i.pc(22,"bytes"),i.Vb(),i.Vb()),2&e&&(i.Db(3),i.vc("href",t.redundancyElement.fileUrl,i.Mc),i.Db(1),i.Wc(t.redundancyElement.fileUrl),i.Db(5),i.Wc(i.rc(10,5,t.redundancyElement.createdAt,"medium")),i.Db(6),i.Wc(i.rc(16,8,t.redundancyElement.expiresOn,"medium")),i.Db(6),i.Wc(i.rc(22,11,t.redundancyElement.size,1)))},pipes:[c.f,Ie.a],styles:[".label[_ngcontent-%COMP%]{display:inline-block;min-width:100px;font-weight:600}"]}),e})();function nc(e,t){1&e&&(i.Wb(0,"th",25),i.ac(1,26),i.Vb())}function oc(e,t){1&e&&(i.Wb(0,"th",27),i.ac(1,28),i.Vb())}function ic(e,t){if(1&e&&(i.Wb(0,"tr"),i.Rb(1,"th",18),i.Wb(2,"th",19),i.Vc(3,"Action"),i.Vb(),i.Tc(4,nc,2,0,"th",20),i.Wb(5,"th",21),i.gc(6,22),i.Rb(7,"p-sortIcon",23),i.dc(),i.Vb(),i.Tc(8,oc,2,0,"th",24),i.Vb()),2&e){const e=i.oc();i.Db(4),i.vc("ngIf",e.isDisplayingRemoteVideos()),i.Db(4),i.vc("ngIf",e.isDisplayingRemoteVideos())}}function cc(e,t){if(1&e&&(i.Wb(0,"td"),i.Vc(1),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(1),i.Wc(t.getRedundancyStrategy(e))}}function ac(e,t){if(1&e&&(i.Wb(0,"td"),i.Vc(1),i.pc(2,"bytes"),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(1),i.Wc(i.rc(2,1,t.getTotalSize(e),1))}}function rc(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td"),i.Wb(2,"span",29),i.cc(3,30),i.Rb(4,"i",31),i.Vb(),i.Vb(),i.Wb(5,"td",32),i.Wb(6,"my-delete-button",33),i.kc("click",(function(){i.Kc(e);const n=t.$implicit;return i.oc().removeRedundancy(n)})),i.Vb(),i.Vb(),i.Tc(7,cc,2,1,"td",34),i.Wb(8,"td"),i.Wb(9,"a",35),i.cc(10,36),i.Vc(11),i.Rb(12,"span",37),i.Vb(),i.Vb(),i.Tc(13,ac,3,4,"td",34),i.Vb()}if(2&e){const e=t.expanded,n=t.$implicit,o=i.oc();i.Db(2),i.vc("pRowToggler",n),i.Db(2),i.vc("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),i.Db(3),i.vc("ngIf",o.isDisplayingRemoteVideos()),i.Db(2),i.vc("href",n.url,i.Mc),i.Db(2),i.Xc(" ",n.name," "),i.Db(2),i.vc("ngIf",o.isDisplayingRemoteVideos())}}function lc(e,t){if(1&e&&(i.Wb(0,"div",40),i.Rb(1,"my-video-redundancy-information",41),i.Vb()),2&e){const e=t.$implicit;i.Db(1),i.vc("redundancyElement",e)}}function sc(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",38),i.Tc(2,lc,2,1,"div",39),i.Vb(),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(1),i.Eb("colspan",t.getColspan()),i.Db(1),i.vc("ngForOf",e.redundancies.files)}}function bc(e,t){if(1&e&&(i.Wb(0,"div"),i.Rb(1,"my-video-redundancy-information",41),i.Vb()),2&e){const e=t.$implicit;i.Db(1),i.vc("redundancyElement",e)}}function dc(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",38),i.Tc(2,bc,2,1,"div",42),i.Vb(),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(1),i.Eb("colspan",t.getColspan()),i.Db(1),i.vc("ngForOf",e.redundancies.streamingPlaylists)}}function gc(e,t){if(1&e&&(i.Tc(0,sc,3,2,"tr",34),i.Tc(1,dc,3,2,"tr",34)),2&e){const e=t.$implicit;i.vc("ngIf",0!==e.redundancies.files.length),i.Db(1),i.vc("ngIf",0!==e.redundancies.streamingPlaylists.length)}}function uc(e,t){1&e&&(i.Ub(0),i.ac(1,45),i.Tb())}function pc(e,t){1&e&&(i.Ub(0),i.ac(1,46),i.Tb())}function fc(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td",43),i.Wb(2,"div",44),i.Tc(3,uc,2,0,"ng-container",34),i.Tc(4,pc,2,0,"ng-container",34),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.isDisplayingRemoteVideos()),i.Db(1),i.vc("ngIf",!e.isDisplayingRemoteVideos())}}function mc(e,t){1&e&&(i.Wb(0,"div",44),i.ac(1,53),i.Vb())}function hc(e,t){if(1&e&&(i.Wb(0,"div",54),i.Rb(1,"p-chart",55),i.Vb()),2&e){const e=t.$implicit;i.Db(1),i.vc("data",e.graphData)("options",e.options)}}function vc(e,t){if(1&e&&(i.Wb(0,"div",47),i.Wb(1,"div",48),i.ac(2,49),i.Vb(),i.Wb(3,"div",50),i.Tc(4,mc,2,0,"div",51),i.Tc(5,hc,2,2,"div",52),i.Vb(),i.Vb()),2&e){const e=i.oc();i.Db(4),i.vc("ngIf",e.noRedundancies),i.Db(1),i.vc("ngForOf",e.redundanciesGraphsData)}}let Cc=(()=>{class e extends k.RestTable{constructor(e,t,n,o){super(),this.notifier=e,this.confirmService=t,this.redundancyService=n,this.serverService=o,this.videoRedundancies=[],this.totalRecords=0,this.sort={field:"name",order:1},this.pagination={count:this.rowsPerPage,start:0},this.displayType="my-videos",this.redundanciesGraphsData=[],this.noRedundancies=!1,this.bytesPipe=new M.BytesPipe}getIdentifier(){return"VideoRedundanciesListComponent"}ngOnInit(){this.loadSelectLocalStorage(),this.initialize(),this.serverService.getServerStats().subscribe(e=>{const t=e.videosRedundancy;0===t.length&&(this.noRedundancies=!0);for(const n of t)this.buildPieData(n)})}getColspan(){return this.isDisplayingRemoteVideos()?5:4}isDisplayingRemoteVideos(){return"remote-videos"===this.displayType}getTotalSize(e){return e.redundancies.files.reduce((e,t)=>e+t.size,0)+e.redundancies.streamingPlaylists.reduce((e,t)=>e+t.size,0)}onDisplayTypeChanged(){this.pagination.start=0,this.saveSelectLocalStorage(),this.loadData()}getRedundancyStrategy(e){return 0!==e.redundancies.files.length?e.redundancies.files[0].strategy:0!==e.redundancies.streamingPlaylists.length?e.redundancies.streamingPlaylists[0].strategy:""}buildPieData(e){const t=e.totalSize?e.totalSize-e.totalUsed:e.totalUsed;0!==t&&this.redundanciesGraphsData.push({stats:e,graphData:{labels:["Used","Available"],datasets:[{data:[e.totalUsed,t],backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}]},options:{title:{display:!0,text:e.strategy},tooltips:{callbacks:{label:(e,t)=>{let n=t.labels[e.index];return n?n+=": ":n="",n+=this.bytesPipe.transform(t.datasets[e.datasetIndex].data[e.index],1),n}}}}})}removeRedundancy(e){return Object(V.a)(this,void 0,void 0,(function*(){const t="Do you really want to remove this video redundancy?";!1!==(yield this.confirmService.confirm(t,"Remove redundancy"))&&this.redundancyService.removeVideoRedundancies(e).subscribe(()=>{this.notifier.success("Video redundancies removed!"),this.loadData()},e=>this.notifier.error(e.message))}))}loadData(){this.redundancyService.listVideoRedundancies({pagination:this.pagination,sort:this.sort,target:this.displayType}).subscribe(e=>{this.videoRedundancies=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}loadSelectLocalStorage(){const t=Ho.a.getItem(e.LOCAL_STORAGE_DISPLAY_TYPE);t&&(this.displayType=t)}saveSelectLocalStorage(){Ho.a.setItem(e.LOCAL_STORAGE_DISPLAY_TYPE,this.displayType)}}return e.LOCAL_STORAGE_DISPLAY_TYPE="video-redundancies-list-display-type",e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(k.ConfirmService),i.Qb(M.RedundancyService),i.Qb(k.ServerService))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-video-redundancies-list"]],features:[i.Ab],decls:20,vars:11,consts:function(){return[["iconName","videos","aria-hidden","true"],"Videos redundancies",[1,"admin-sub-header"],[1,"select-filter-block"],["for","displayType"],"\u0E41\u0E2A\u0E14\u0E07",[1,"peertube-select-container"],["id","displayType","name","displayType",1,"form-control",3,"ngModel","ngModelChange"],["value","my-videos"],"My videos duplicated by remote instances",["value","remote-videos"],"Remote videos duplicated by my instance",["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","expandedRowKeys","onLazyLoad","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["class","redundancies-charts",4,"ngIf"],[2,"width","40px"],[2,"width","150px"],["style","width: 160px;",4,"ngIf"],["pSortableColumn","name"],"Video \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",["field","name"],["style","width: 100px;",4,"ngIf"],[2,"width","160px"],"Strategy",[2,"width","100px"],"Total size",[1,"expander",3,"pRowToggler",6,"ngbTooltip"],["ngbTooltip","List redundancies"],[3,"ngClass"],[1,"action-cell"],["label","",3,"click"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href",6,"title"],["title","Open video in a new tab"],[1,"glyphicon","glyphicon-new-window"],[1,"expand-cell"],["class","expansion-block",4,"ngFor","ngForOf"],[1,"expansion-block"],[3,"redundancyElement"],[4,"ngFor","ngForOf"],["colspan","6"],[1,"no-results"],"Your instance doesn't mirror any video.","Your instance has no mirrored videos.",[1,"redundancies-charts"],[1,"form-sub-title"],"Enabled strategies stats",[1,"chart-blocks"],["class","no-results",4,"ngIf"],["class","chart-block",4,"ngFor","ngForOf"],"\n      No redundancy strategy is enabled on your instance.\n    ",[1,"chart-block"],["type","pie","width","300px","height","300px",3,"data","options"]]},template:function(e,t){1&e&&(i.Wb(0,"h1"),i.Rb(1,"my-global-icon",0),i.Ub(2),i.ac(3,1),i.Tb(),i.Vb(),i.Wb(4,"div",2),i.Wb(5,"div",3),i.Wb(6,"label",4),i.ac(7,5),i.Vb(),i.Wb(8,"div",6),i.Wb(9,"select",7),i.kc("ngModelChange",(function(e){return t.displayType=e}))("ngModelChange",(function(){return t.onDisplayTypeChanged()})),i.Wb(10,"option",8),i.ac(11,9),i.Vb(),i.Wb(12,"option",10),i.ac(13,11),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(14,"p-table",12),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("onPage",(function(e){return t.onPage(e)})),i.Tc(15,ic,9,2,"ng-template",13),i.Tc(16,rc,14,6,"ng-template",14),i.Tc(17,gc,2,2,"ng-template",15),i.Tc(18,fc,5,2,"ng-template",16),i.Vb(),i.Tc(19,vc,6,2,"div",17)),2&e&&(i.Db(9),i.vc("ngModel",t.displayType),i.Db(5),i.vc("value",t.videoRedundancies)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("expandedRowKeys",t.expandedRows),i.Db(5),i.vc("ngIf",t.isDisplayingRemoteVideos()))},directives:[Mn.a,r.E,r.s,r.v,r.x,r.H,C.k,ne.d,c.u,C.j,C.i,H.y,C.f,c.r,De.a,c.t,tc,o.b],pipes:[Ie.a],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.expansion-block[_ngcontent-%COMP%]{margin-bottom:20px}.admin-sub-header[_ngcontent-%COMP%]{justify-content:flex-end}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}.redundancies-charts[_ngcontent-%COMP%]{margin-top:50px}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]{display:flex;justify-content:center}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]   .chart-block[_ngcontent-%COMP%]{margin:0 20px}']}),e})();const Pc=[{path:"follows",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Rb(0,"router-outlet")},directives:[w.m],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0;margin-right:30px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}"]}),e})(),canActivate:[k.UserRightGuard],data:{userRight:2},children:[{path:"",redirectTo:"following-list",pathMatch:"full"},{path:"following-list",component:ec,data:{meta:{title:"Following list"}}},{path:"followers-list",component:Fi,data:{meta:{title:"Followers list"}}},{path:"following-add",redirectTo:"following-list"},{path:"video-redundancies-list",component:Cc}]}];var Oc=n("uZlO");let _c=(()=>{class e extends O.a{constructor(){super(...arguments),this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.roles=[]}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.buildRoles()}get subscribersCount(){return(this.user?this.user.account.followersCount:0)+(this.user?this.user.videoChannels.map(e=>e.followersCount).reduce((e,t)=>e+t,0):0)}isInBigView(){return this.screenService.getWindowInnerWidth()>1600}buildRoles(){this.roles=this.auth.getUser().role!==ho.UserRole.ADMINISTRATOR?[{value:ho.UserRole.USER.toString(),label:Oc.a[ho.UserRole.USER]}]:Object.keys(Oc.a).map(e=>({value:e.toString(),label:Oc.a[e]}))}isTranscodingInformationDisplayed(){const e=parseInt(this.form.value.videoQuota,10);return 0!==this.serverConfig.transcoding.enabledResolutions.length&&e>0}computeQuotaWithTranscoding(){const e=this.serverConfig.transcoding,t=e.enabledResolutions;let n=0;for(const o of t)n+=o/2160;return e.hls.enabled&&(n*=2),n*parseInt(this.form.value.videoQuota,10)}resetPassword(){}buildAdminFlags(e){return e.byPassAutoBlock?1:0}buildQuotaOptions(){this.videoQuotaOptions=this.configService.videoQuotaOptions.map(e=>{var t;return{value:null===(t=e.value)||void 0===t?void 0:t.toString(),label:e.label,disabled:e.disabled}}),this.videoQuotaDailyOptions=this.configService.videoQuotaDailyOptions.map(e=>{var t;return{value:null===(t=e.value)||void 0===t?void 0:t.toString(),label:e.label,disabled:e.disabled}}),console.log(this.videoQuotaOptions,this.videoQuotaDailyOptions)}}return e.\u0275fac=function(t){return Mc(t||e)},e.\u0275dir=i.Lb({type:e,features:[i.Ab]}),e})();const Mc=i.Yb(_c);var yc=n("NH89");function wc(e,t){1&e&&(i.Ub(0),i.ac(1,9),i.Tb())}function Vc(e,t){1&e&&(i.Ub(0),i.ac(1,10),i.Tb())}function xc(e,t){if(1&e&&(i.Wb(0,"div",11),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.formErrors.password," ")}}const kc=function(e){return{"input-error":e}};let Tc=(()=>{class e extends O.a{constructor(e,t,n){super(),this.formValidatorService=e,this.notifier=t,this.userService=n,this.showPassword=!1}ngOnInit(){this.buildForm({password:K.h})}formValidated(){this.error=void 0,this.userService.updateUser(this.userId,this.form.value).subscribe(()=>{this.notifier.success("Password changed for user \n          " + this.username + ".\n        ")},e=>this.error=e.message)}togglePasswordVisibility(){this.showPassword=!this.showPassword}getFormButtonTitle(){return "Update user password"}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(O.b),i.Qb(k.Notifier),i.Qb(k.UserService))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-user-password"]],inputs:{userId:"userId"},features:[i.Ab],decls:10,vars:10,consts:function(){return[["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[4,"ngIf"],["class","form-error",4,"ngIf"],["type","submit",3,"value","disabled"],"Show","Hide",[1,"form-error"]]},template:function(e,t){1&e&&(i.Wb(0,"form",0),i.kc("ngSubmit",(function(){return t.formValidated()})),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Rb(3,"input",3),i.Wb(4,"div",4),i.Wb(5,"button",5),i.kc("click",(function(){return t.togglePasswordVisibility()})),i.Tc(6,wc,2,0,"ng-container",6),i.Tc(7,Vc,2,0,"ng-container",6),i.Vb(),i.Vb(),i.Vb(),i.Tc(8,xc,2,1,"div",7),i.Vb(),i.Rb(9,"input",8),i.Vb()),2&e&&(i.vc("formGroup",t.form),i.Db(3),i.vc("ngClass",i.zc(8,kc,t.formErrors.password)),i.Eb("type",t.showPassword?"text":"password"),i.Db(3),i.vc("ngIf",!t.showPassword),i.Db(1),i.vc("ngIf",!!t.showPassword),i.Db(1),i.vc("ngIf",t.formErrors.password),i.Db(1),i.wc("value",t.getFormButtonTitle()),i.vc("disabled",!t.form.valid))},directives:[r.I,r.t,r.l,r.c,r.s,r.j,c.r,c.u],styles:['input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block;border-top-right-radius:0;border-bottom-right-radius:0;border:1px solid #c6c6c6;border-right:none}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;margin-top:10px}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%]:hover, input[type=submit][disabled][_ngcontent-%COMP%]{background-color:#df877c}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}input[type=submit][_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.input-group-append[_ngcontent-%COMP%]{height:30px}']}),e})();function Wc(e,t){1&e&&(i.Ub(0),i.Wb(1,"li",40),i.ac(2,41),i.Vb(),i.Tb())}const zc=function(e){return["/accounts",e]};function Dc(e,t){if(1&e&&(i.Wb(0,"a",45),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.vc("routerLink",i.zc(2,zc,null==e.user?null:e.user.username)),i.Db(1),i.Wc(null==e.user?null:e.user.username)}}function Ic(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"li",40),i.ac(2,42),i.Vb(),i.Wb(3,"li",43),i.Tc(4,Dc,2,4,"a",44),i.Vb(),i.Tb()),2&e){const e=i.oc();i.Db(4),i.vc("ngIf",e.user)}}const Rc=function(){return["/admin/moderation/abuses/list"]},Sc=function(e){return{search:e}};function $c(e,t){if(1&e&&(i.Wb(0,"div",47),i.Wb(1,"div"),i.Wb(2,"a"),i.Wb(3,"div",48),i.Vc(4),i.pc(5,"bytes"),i.Vb(),i.Wb(6,"div",49),i.ac(7,50),i.Vb(),i.Vb(),i.Vb(),i.Wb(8,"div"),i.Wb(9,"a"),i.Wb(10,"div",48),i.Vc(11),i.Vb(),i.Wb(12,"div",49),i.ac(13,51),i.Vb(),i.Vb(),i.Vb(),i.Wb(14,"div"),i.Wb(15,"a"),i.Wb(16,"div",48),i.Vc(17),i.Vb(),i.Wb(18,"div",49),i.ac(19,52),i.Vb(),i.Vb(),i.Vb(),i.Wb(20,"div"),i.Wb(21,"a",53),i.Wb(22,"div",48),i.Vc(23),i.Vb(),i.Wb(24,"div",49),i.ac(25,54),i.Vb(),i.Vb(),i.Vb(),i.Wb(26,"div"),i.Wb(27,"a",53),i.Wb(28,"div",48),i.Vc(29),i.Vb(),i.Wb(30,"div",49),i.ac(31,55),i.Vb(),i.Vb(),i.Vb(),i.Wb(32,"div"),i.Wb(33,"a"),i.Wb(34,"div",48),i.Vc(35),i.Vb(),i.Wb(36,"div",49),i.ac(37,56),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc(2);i.Db(4),i.Yc("",e.user.videosCount," (",i.rc(5,16,e.user.videoQuotaUsed,0),")"),i.Db(3),i.ec(e.user.videosCount),i.bc(7),i.Db(4),i.Wc(e.user.videoChannels.length||0),i.Db(2),i.ec(e.user.videoChannels.length),i.bc(13),i.Db(4),i.Wc(e.subscribersCount),i.Db(2),i.ec(e.subscribersCount),i.bc(19),i.Db(2),i.vc("routerLink",i.yc(19,Rc))("queryParams",i.zc(20,Sc,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),i.Db(2),i.Wc(e.user.abusesCount),i.Db(4),i.vc("routerLink",i.yc(22,Rc))("queryParams",i.zc(23,Sc,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),i.Db(2),i.Yc("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),i.Db(6),i.Wc(e.user.videoCommentsCount),i.Db(2),i.ec(e.user.videoCommentsCount),i.bc(37)}}function Ec(e,t){if(1&e&&i.Tc(0,$c,38,25,"div",46),2&e){const e=i.oc();i.vc("ngIf",!e.isCreation()&&e.user)}}function Ac(e,t){}function Lc(e,t){1&e&&i.Tc(0,Ac,0,0,"ng-template")}function Nc(e,t){if(1&e&&(i.Wb(0,"div",57),i.Rb(1,"div",58),i.Wb(2,"div",59),i.Tc(3,Lc,1,0,void 0,60),i.Vb(),i.Vb()),2&e){i.oc();const e=i.Ic(8);i.Db(3),i.vc("ngTemplateOutlet",e)}}function Uc(e,t){if(1&e&&(i.Wb(0,"div",61),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Wc(e.error)}}function Fc(e,t){1&e&&(i.Wb(0,"div",62),i.ac(1,63),i.Vb())}function Bc(e,t){if(1&e&&(i.Wb(0,"div",62),i.Rb(1,"my-actor-avatar-info",64),i.Vb()),2&e){const e=i.oc();i.Db(1),i.vc("actor",e.user.account)}}function Gc(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.username," ")}}const jc=function(e){return{"input-error":e}};function Qc(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",65),i.ac(2,66),i.Vb(),i.Wb(3,"input",67),i.cc(4,68),i.Vb(),i.Tc(5,Gc,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngClass",i.zc(2,jc,e.formErrors.username)),i.Db(2),i.vc("ngIf",e.formErrors.username)}}function Kc(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.channelName," ")}}function Hc(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",70),i.ac(2,71),i.Vb(),i.Wb(3,"input",72),i.cc(4,73),i.Vb(),i.Tc(5,Kc,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngClass",i.zc(2,jc,e.formErrors.channelName)),i.Db(2),i.vc("ngIf",e.formErrors.channelName)}}function Xc(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.formErrors.email," ")}}function qc(e,t){1&e&&(i.Ub(0),i.ac(1,78),i.Tb())}function Yc(e,t){1&e&&(i.Wb(0,"my-help"),i.Tc(1,qc,2,0,"ng-template",77),i.Vb())}function Jc(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.password," ")}}function Zc(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",74),i.ac(2,75),i.Vb(),i.Tc(3,Yc,2,0,"my-help",5),i.Rb(4,"input",76),i.Tc(5,Jc,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.isPasswordOptional()),i.Db(1),i.vc("ngClass",i.zc(3,jc,e.formErrors.password)),i.Db(1),i.vc("ngIf",e.formErrors.password)}}function ea(e,t){if(1&e&&(i.Wb(0,"option",79),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value),i.Db(1),i.Xc(" ",e.label," ")}}function ta(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.formErrors.role," ")}}function na(e,t){if(1&e&&(i.Wb(0,"option",80),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function oa(e,t){if(1&e&&(i.Wb(0,"div",81),i.gc(1,82),i.Rb(2,"strong"),i.Rb(3,"br"),i.pc(4,"bytes"),i.dc(),i.Vb()),2&e){const e=i.oc();i.Db(4),i.ec(i.rc(4,1,e.computeQuotaWithTranscoding(),0)),i.bc(1)}}function ia(e,t){if(1&e&&(i.Wb(0,"option",80),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function ca(e,t){}function aa(e,t){1&e&&i.Tc(0,ca,0,0,"ng-template")}function ra(e,t){if(1&e&&(i.Wb(0,"div",83),i.Tc(1,aa,1,0,void 0,60),i.Vb()),2&e){i.oc();const e=i.Ic(8);i.Db(1),i.vc("ngTemplateOutlet",e)}}const la=function(e){return{"form-row":e}};function sa(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",9),i.Wb(1,"div",10),i.Rb(2,"div",84),i.Wb(3,"div",85),i.ac(4,86),i.Vb(),i.Vb(),i.Wb(5,"div",13),i.Wb(6,"div",87),i.Wb(7,"div",88),i.Wb(8,"label"),i.ac(9,89),i.Vb(),i.Wb(10,"button",90),i.kc("click",(function(){return i.Kc(e),i.oc().resetPassword()})),i.ac(11,91),i.Vb(),i.Vb(),i.Wb(12,"div",16),i.Wb(13,"label"),i.ac(14,92),i.Vb(),i.Rb(15,"my-user-password",93),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc();i.Db(5),i.vc("ngClass",i.zc(2,la,e.isInBigView())),i.Db(10),i.vc("userId",e.user.id)}}const ba=function(e){return{"col-5":e}};let da=(()=>{class e extends _c{constructor(e,t,n,o,i,c,a,r,l){super(),this.serverService=e,this.formValidatorService=t,this.configService=n,this.screenService=o,this.auth=i,this.route=c,this.router=a,this.notifier=r,this.userService=l,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:ho.UserRole.USER.toString(),videoQuota:"-1",videoQuotaDaily:"-1"};this.buildForm({username:K.k,channelName:K.b,email:K.f,password:this.isPasswordOptional()?K.g:K.h,role:K.i,videoQuota:K.m,videoQuotaDaily:K.l,byPassAutoBlock:null},e)}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),this.userService.addUser(e).subscribe(()=>{this.notifier.success("User \n          " + e.username + " created.\n        "),this.router.navigate(["/admin/users/list"])},e=>this.error=e.message)}isCreation(){return!0}isPasswordOptional(){return this.route.snapshot.data.serverConfig.email.enabled}getFormButtonTitle(){return "Create user"}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.ServerService),i.Qb(O.b),i.Qb(z),i.Qb(k.ScreenService),i.Qb(k.AuthService),i.Qb(w.a),i.Qb(w.h),i.Qb(k.Notifier),i.Qb(k.UserService))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-user-create"]],features:[i.Ab],decls:53,vars:30,consts:function(){var e,t,n,o,c,a,r,l,s,b,d,g,u,p,f;return e="Users",t="\u0E2D\u0E35\u0E40\u0E21\u0E25",n="mail@example.com",o="\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48",c="\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E14\u0E49",a="\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E15\u0E48\u0E2D\u0E27\u0E31\u0E19",r="Doesn't need review before a video goes public",l="Create",s="\u0E41\u0E01\u0E49\u0E44\u0E02",b="{VAR_PLURAL, plural, =1 {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D} other {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D}}",b=i.fc(b,{VAR_PLURAL:"\ufffd0\ufffd"}),d="{VAR_PLURAL, plural, =1 {Channel} other {Channels}}",d=i.fc(d,{VAR_PLURAL:"\ufffd0\ufffd"}),g="{VAR_PLURAL, plural, =1 {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21} other {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21}}",g=i.fc(g,{VAR_PLURAL:"\ufffd0\ufffd"}),u="Incriminated in reports",p="Authored reports accepted",f="{VAR_PLURAL, plural, =1 {Comment} other {Comments}}",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],e,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],t,["type","text","id","email","formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly",6,"placeholder"],["placeholder",n],["class","form-error",4,"ngIf"],["for","role"],o,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],c,["id","videoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],a,["id","videoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock",6,"labelText"],["labelText",r],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],b,d,g,[3,"routerLink","queryParams"],u,p,f=i.fc(f,{VAR_PLURAL:"\ufffd0\ufffd"}),[1,"form-row"],[1,"col-12","col-xl-3"],[1,"form-group-right","col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],"NEW USER",[3,"actor"],["for","username"],"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john"],[1,"form-error"],["for","channelName"],"\u0E0A\u0E37\u0E48\u0E2D\u0E0A\u0E48\u0E2D\u0E07",["type","text","id","channelName","formControlName","channelName",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john_channel"],["for","password"],"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",["type","password","id","password","autocomplete","new-password","formControlName","password",1,"form-control",3,"ngClass"],["ptTemplate","customHtml"],"\n              If you leave the password empty, an email will be sent to the user.\n            ",[3,"value"],[3,"value","disabled"],[1,"transcoding-information"],"\n          Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + "\n          At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ".\n        \n        ",[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],"DANGER ZONE",[1,"danger-zone"],[1,"form-group","reset-password-email"],"Send a link to reset the password by email to the user",[3,"click"],"Ask for new password","Manually set the user password",[3,"userId"]]},template:function(e,t){1&e&&(i.Wb(0,"nav",0),i.Wb(1,"ol",1),i.Wb(2,"li",2),i.Wb(3,"a",3),i.ac(4,4),i.Vb(),i.Vb(),i.Tc(5,Wc,3,0,"ng-container",5),i.Tc(6,Ic,5,1,"ng-container",5),i.Vb(),i.Vb(),i.Tc(7,Ec,1,1,"ng-template",null,6,i.Uc),i.Tc(9,Nc,4,1,"div",7),i.Tc(10,Uc,2,1,"div",8),i.Wb(11,"div",9),i.Wb(12,"div",10),i.Rb(13,"div",11),i.Tc(14,Fc,2,0,"div",12),i.Tc(15,Bc,2,1,"div",12),i.Vb(),i.Wb(16,"div",13),i.Wb(17,"form",14),i.kc("ngSubmit",(function(){return t.formValidated()})),i.Tc(18,Qc,6,4,"div",15),i.Tc(19,Hc,6,4,"div",15),i.Wb(20,"div",16),i.Wb(21,"label",17),i.ac(22,18),i.Vb(),i.Wb(23,"input",19),i.cc(24,20),i.Vb(),i.Tc(25,Xc,2,1,"div",21),i.Vb(),i.Tc(26,Zc,6,5,"div",15),i.Wb(27,"div",16),i.Wb(28,"label",22),i.ac(29,23),i.Vb(),i.Wb(30,"div",24),i.Wb(31,"select",25),i.Tc(32,ea,2,2,"option",26),i.Vb(),i.Vb(),i.Tc(33,ta,2,1,"div",21),i.Vb(),i.Wb(34,"div",16),i.Wb(35,"label",27),i.ac(36,28),i.Vb(),i.Wb(37,"div",24),i.Wb(38,"select",29),i.Tc(39,na,2,3,"option",30),i.Vb(),i.Vb(),i.Tc(40,oa,5,4,"div",31),i.Vb(),i.Wb(41,"div",16),i.Wb(42,"label",32),i.ac(43,33),i.Vb(),i.Wb(44,"div",24),i.Wb(45,"select",34),i.Tc(46,ia,2,3,"option",30),i.Vb(),i.Vb(),i.Vb(),i.Wb(47,"div",16),i.Wb(48,"my-peertube-checkbox",35),i.cc(49,36),i.Vb(),i.Vb(),i.Rb(50,"input",37),i.Vb(),i.Tc(51,ra,2,1,"div",38),i.Vb(),i.Vb(),i.Tc(52,sa,16,4,"div",39)),2&e&&(i.Db(5),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",!t.isCreation()),i.Db(3),i.vc("ngIf",!t.isInBigView()),i.Db(1),i.vc("ngIf",t.error),i.Db(4),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",!t.isCreation()&&t.user),i.Db(1),i.vc("ngClass",i.zc(24,la,t.isInBigView())),i.Db(1),i.vc("formGroup",t.form)("ngClass",i.zc(26,ba,t.isInBigView())),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(4),i.vc("ngClass",i.zc(28,jc,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),i.Db(2),i.vc("ngIf",t.formErrors.email),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(6),i.vc("ngForOf",t.roles),i.Db(1),i.vc("ngIf",t.formErrors.role),i.Db(6),i.vc("ngForOf",t.videoQuotaOptions),i.Db(1),i.vc("ngIf",t.isTranscodingInformationDisplayed()),i.Db(6),i.vc("ngForOf",t.videoQuotaDailyOptions),i.Db(4),i.wc("value",t.getFormButtonTitle()),i.vc("disabled",!t.form.valid),i.Db(1),i.vc("ngIf",t.isInBigView()),i.Db(1),i.vc("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[w.k,c.u,c.r,r.I,r.t,r.l,r.c,r.s,r.j,r.E,c.t,J.a,c.B,yc.a,X.a,Z.a,r.x,r.H,Tc],pipes:[Ie.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.33333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important;opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;line-height:21px;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}my-actor-avatar-info[_ngcontent-%COMP%]     .actor-img-edit-container, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-followers, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-username{display:none}']}),e})();function ga(e,t){1&e&&(i.Ub(0),i.Wb(1,"li",40),i.ac(2,41),i.Vb(),i.Tb())}const ua=function(e){return["/accounts",e]};function pa(e,t){if(1&e&&(i.Wb(0,"a",45),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.vc("routerLink",i.zc(2,ua,null==e.user?null:e.user.username)),i.Db(1),i.Wc(null==e.user?null:e.user.username)}}function fa(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"li",40),i.ac(2,42),i.Vb(),i.Wb(3,"li",43),i.Tc(4,pa,2,4,"a",44),i.Vb(),i.Tb()),2&e){const e=i.oc();i.Db(4),i.vc("ngIf",e.user)}}const ma=function(){return["/admin/moderation/abuses/list"]},ha=function(e){return{search:e}};function va(e,t){if(1&e&&(i.Wb(0,"div",47),i.Wb(1,"div"),i.Wb(2,"a"),i.Wb(3,"div",48),i.Vc(4),i.pc(5,"bytes"),i.Vb(),i.Wb(6,"div",49),i.ac(7,50),i.Vb(),i.Vb(),i.Vb(),i.Wb(8,"div"),i.Wb(9,"a"),i.Wb(10,"div",48),i.Vc(11),i.Vb(),i.Wb(12,"div",49),i.ac(13,51),i.Vb(),i.Vb(),i.Vb(),i.Wb(14,"div"),i.Wb(15,"a"),i.Wb(16,"div",48),i.Vc(17),i.Vb(),i.Wb(18,"div",49),i.ac(19,52),i.Vb(),i.Vb(),i.Vb(),i.Wb(20,"div"),i.Wb(21,"a",53),i.Wb(22,"div",48),i.Vc(23),i.Vb(),i.Wb(24,"div",49),i.ac(25,54),i.Vb(),i.Vb(),i.Vb(),i.Wb(26,"div"),i.Wb(27,"a",53),i.Wb(28,"div",48),i.Vc(29),i.Vb(),i.Wb(30,"div",49),i.ac(31,55),i.Vb(),i.Vb(),i.Vb(),i.Wb(32,"div"),i.Wb(33,"a"),i.Wb(34,"div",48),i.Vc(35),i.Vb(),i.Wb(36,"div",49),i.ac(37,56),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc(2);i.Db(4),i.Yc("",e.user.videosCount," (",i.rc(5,16,e.user.videoQuotaUsed,0),")"),i.Db(3),i.ec(e.user.videosCount),i.bc(7),i.Db(4),i.Wc(e.user.videoChannels.length||0),i.Db(2),i.ec(e.user.videoChannels.length),i.bc(13),i.Db(4),i.Wc(e.subscribersCount),i.Db(2),i.ec(e.subscribersCount),i.bc(19),i.Db(2),i.vc("routerLink",i.yc(19,ma))("queryParams",i.zc(20,ha,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),i.Db(2),i.Wc(e.user.abusesCount),i.Db(4),i.vc("routerLink",i.yc(22,ma))("queryParams",i.zc(23,ha,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),i.Db(2),i.Yc("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),i.Db(6),i.Wc(e.user.videoCommentsCount),i.Db(2),i.ec(e.user.videoCommentsCount),i.bc(37)}}function Ca(e,t){if(1&e&&i.Tc(0,va,38,25,"div",46),2&e){const e=i.oc();i.vc("ngIf",!e.isCreation()&&e.user)}}function Pa(e,t){}function Oa(e,t){1&e&&i.Tc(0,Pa,0,0,"ng-template")}function _a(e,t){if(1&e&&(i.Wb(0,"div",57),i.Rb(1,"div",58),i.Wb(2,"div",59),i.Tc(3,Oa,1,0,void 0,60),i.Vb(),i.Vb()),2&e){i.oc();const e=i.Ic(8);i.Db(3),i.vc("ngTemplateOutlet",e)}}function Ma(e,t){if(1&e&&(i.Wb(0,"div",61),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Wc(e.error)}}function ya(e,t){1&e&&(i.Wb(0,"div",62),i.ac(1,63),i.Vb())}function wa(e,t){if(1&e&&(i.Wb(0,"div",62),i.Rb(1,"my-actor-avatar-info",64),i.Vb()),2&e){const e=i.oc();i.Db(1),i.vc("actor",e.user.account)}}function Va(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.username," ")}}const xa=function(e){return{"input-error":e}};function ka(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",65),i.ac(2,66),i.Vb(),i.Wb(3,"input",67),i.cc(4,68),i.Vb(),i.Tc(5,Va,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngClass",i.zc(2,xa,e.formErrors.username)),i.Db(2),i.vc("ngIf",e.formErrors.username)}}function Ta(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.channelName," ")}}function Wa(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",70),i.ac(2,71),i.Vb(),i.Wb(3,"input",72),i.cc(4,73),i.Vb(),i.Tc(5,Ta,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngClass",i.zc(2,xa,e.formErrors.channelName)),i.Db(2),i.vc("ngIf",e.formErrors.channelName)}}function za(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.formErrors.email," ")}}function Da(e,t){1&e&&(i.Ub(0),i.ac(1,78),i.Tb())}function Ia(e,t){1&e&&(i.Wb(0,"my-help"),i.Tc(1,Da,2,0,"ng-template",77),i.Vb())}function Ra(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc(" ",e.formErrors.password," ")}}function Sa(e,t){if(1&e&&(i.Wb(0,"div",16),i.Wb(1,"label",74),i.ac(2,75),i.Vb(),i.Tc(3,Ia,2,0,"my-help",5),i.Rb(4,"input",76),i.Tc(5,Ra,2,1,"div",21),i.Vb()),2&e){const e=i.oc();i.Db(3),i.vc("ngIf",e.isPasswordOptional()),i.Db(1),i.vc("ngClass",i.zc(3,xa,e.formErrors.password)),i.Db(1),i.vc("ngIf",e.formErrors.password)}}function $a(e,t){if(1&e&&(i.Wb(0,"option",79),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value),i.Db(1),i.Xc(" ",e.label," ")}}function Ea(e,t){if(1&e&&(i.Wb(0,"div",69),i.Vc(1),i.Vb()),2&e){const e=i.oc();i.Db(1),i.Xc(" ",e.formErrors.role," ")}}function Aa(e,t){if(1&e&&(i.Wb(0,"option",80),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function La(e,t){if(1&e&&(i.Wb(0,"div",81),i.gc(1,82),i.Rb(2,"strong"),i.Rb(3,"br"),i.pc(4,"bytes"),i.dc(),i.Vb()),2&e){const e=i.oc();i.Db(4),i.ec(i.rc(4,1,e.computeQuotaWithTranscoding(),0)),i.bc(1)}}function Na(e,t){if(1&e&&(i.Wb(0,"option",80),i.Vc(1),i.Vb()),2&e){const e=t.$implicit;i.vc("value",e.value)("disabled",e.disabled),i.Db(1),i.Xc(" ",e.label," ")}}function Ua(e,t){}function Fa(e,t){1&e&&i.Tc(0,Ua,0,0,"ng-template")}function Ba(e,t){if(1&e&&(i.Wb(0,"div",83),i.Tc(1,Fa,1,0,void 0,60),i.Vb()),2&e){i.oc();const e=i.Ic(8);i.Db(1),i.vc("ngTemplateOutlet",e)}}const Ga=function(e){return{"form-row":e}};function ja(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",9),i.Wb(1,"div",10),i.Rb(2,"div",84),i.Wb(3,"div",85),i.ac(4,86),i.Vb(),i.Vb(),i.Wb(5,"div",13),i.Wb(6,"div",87),i.Wb(7,"div",88),i.Wb(8,"label"),i.ac(9,89),i.Vb(),i.Wb(10,"button",90),i.kc("click",(function(){return i.Kc(e),i.oc().resetPassword()})),i.ac(11,91),i.Vb(),i.Vb(),i.Wb(12,"div",16),i.Wb(13,"label"),i.ac(14,92),i.Vb(),i.Rb(15,"my-user-password",93),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc();i.Db(5),i.vc("ngClass",i.zc(2,Ga,e.isInBigView())),i.Db(10),i.vc("userId",e.user.id)}}const Qa=function(e){return{"col-5":e}};let Ka=(()=>{class e extends _c{constructor(e,t,n,o,i,c,a,r,l){super(),this.formValidatorService=e,this.serverService=t,this.configService=n,this.screenService=o,this.auth=i,this.route=c,this.router=a,this.notifier=r,this.userService=l,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:ho.UserRole.USER.toString(),videoQuota:"-1",videoQuotaDaily:"-1"};this.buildForm({email:K.f,role:K.i,videoQuota:K.m,videoQuotaDaily:K.l,byPassAutoBlock:null},e),this.paramsSub=this.route.params.subscribe(e=>{this.userService.getUser(e.id,!0).subscribe(e=>this.onUserFetched(e),e=>this.error=e.message)})}ngOnDestroy(){this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),this.userService.updateUser(this.user.id,e).subscribe(()=>{this.notifier.success("User \n          " + this.user.username + " updated.\n        "),this.router.navigate(["/admin/users/list"])},e=>this.error=e.message)}isCreation(){return!1}isPasswordOptional(){return!1}getFormButtonTitle(){return "Update user"}resetPassword(){this.userService.askResetPassword(this.user.email).subscribe(()=>{this.notifier.success("An email asking for password reset has been sent to \n          " + this.user.username + ".\n        ")},e=>this.error=e.message)}onUserFetched(e){this.user=new k.User(e),this.form.patchValue({email:e.email,role:e.role.toString(),videoQuota:e.videoQuota,videoQuotaDaily:e.videoQuotaDaily,byPassAutoBlock:1&e.adminFlags})}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(O.b),i.Qb(k.ServerService),i.Qb(z),i.Qb(k.ScreenService),i.Qb(k.AuthService),i.Qb(w.a),i.Qb(w.h),i.Qb(k.Notifier),i.Qb(k.UserService))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-user-update"]],features:[i.Ab],decls:53,vars:30,consts:function(){var e,t,n,o,c,a,r,l,s,b,d,g,u,p,f;return e="Users",t="\u0E2D\u0E35\u0E40\u0E21\u0E25",n="mail@example.com",o="\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48",c="\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E14\u0E49",a="\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E15\u0E48\u0E2D\u0E27\u0E31\u0E19",r="Doesn't need review before a video goes public",l="Create",s="\u0E41\u0E01\u0E49\u0E44\u0E02",b="{VAR_PLURAL, plural, =1 {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D} other {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D}}",b=i.fc(b,{VAR_PLURAL:"\ufffd0\ufffd"}),d="{VAR_PLURAL, plural, =1 {Channel} other {Channels}}",d=i.fc(d,{VAR_PLURAL:"\ufffd0\ufffd"}),g="{VAR_PLURAL, plural, =1 {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21} other {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21}}",g=i.fc(g,{VAR_PLURAL:"\ufffd0\ufffd"}),u="Incriminated in reports",p="Authored reports accepted",f="{VAR_PLURAL, plural, =1 {Comment} other {Comments}}",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],e,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],t,["type","text","id","email","formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly",6,"placeholder"],["placeholder",n],["class","form-error",4,"ngIf"],["for","role"],o,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],c,["id","videoQuota","formControlName","videoQuota",1,"form-control"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],a,["id","videoQuotaDaily","formControlName","videoQuotaDaily",1,"form-control"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock",6,"labelText"],["labelText",r],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],b,d,g,[3,"routerLink","queryParams"],u,p,f=i.fc(f,{VAR_PLURAL:"\ufffd0\ufffd"}),[1,"form-row"],[1,"col-12","col-xl-3"],[1,"form-group-right","col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],"NEW USER",[3,"actor"],["for","username"],"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john"],[1,"form-error"],["for","channelName"],"\u0E0A\u0E37\u0E48\u0E2D\u0E0A\u0E48\u0E2D\u0E07",["type","text","id","channelName","formControlName","channelName",1,"form-control",3,"ngClass",6,"placeholder"],["placeholder","john_channel"],["for","password"],"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",["type","password","id","password","autocomplete","new-password","formControlName","password",1,"form-control",3,"ngClass"],["ptTemplate","customHtml"],"\n              If you leave the password empty, an email will be sent to the user.\n            ",[3,"value"],[3,"value","disabled"],[1,"transcoding-information"],"\n          Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + "\n          At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ".\n        \n        ",[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],"DANGER ZONE",[1,"danger-zone"],[1,"form-group","reset-password-email"],"Send a link to reset the password by email to the user",[3,"click"],"Ask for new password","Manually set the user password",[3,"userId"]]},template:function(e,t){1&e&&(i.Wb(0,"nav",0),i.Wb(1,"ol",1),i.Wb(2,"li",2),i.Wb(3,"a",3),i.ac(4,4),i.Vb(),i.Vb(),i.Tc(5,ga,3,0,"ng-container",5),i.Tc(6,fa,5,1,"ng-container",5),i.Vb(),i.Vb(),i.Tc(7,Ca,1,1,"ng-template",null,6,i.Uc),i.Tc(9,_a,4,1,"div",7),i.Tc(10,Ma,2,1,"div",8),i.Wb(11,"div",9),i.Wb(12,"div",10),i.Rb(13,"div",11),i.Tc(14,ya,2,0,"div",12),i.Tc(15,wa,2,1,"div",12),i.Vb(),i.Wb(16,"div",13),i.Wb(17,"form",14),i.kc("ngSubmit",(function(){return t.formValidated()})),i.Tc(18,ka,6,4,"div",15),i.Tc(19,Wa,6,4,"div",15),i.Wb(20,"div",16),i.Wb(21,"label",17),i.ac(22,18),i.Vb(),i.Wb(23,"input",19),i.cc(24,20),i.Vb(),i.Tc(25,za,2,1,"div",21),i.Vb(),i.Tc(26,Sa,6,5,"div",15),i.Wb(27,"div",16),i.Wb(28,"label",22),i.ac(29,23),i.Vb(),i.Wb(30,"div",24),i.Wb(31,"select",25),i.Tc(32,$a,2,2,"option",26),i.Vb(),i.Vb(),i.Tc(33,Ea,2,1,"div",21),i.Vb(),i.Wb(34,"div",16),i.Wb(35,"label",27),i.ac(36,28),i.Vb(),i.Wb(37,"div",24),i.Wb(38,"select",29),i.Tc(39,Aa,2,3,"option",30),i.Vb(),i.Vb(),i.Tc(40,La,5,4,"div",31),i.Vb(),i.Wb(41,"div",16),i.Wb(42,"label",32),i.ac(43,33),i.Vb(),i.Wb(44,"div",24),i.Wb(45,"select",34),i.Tc(46,Na,2,3,"option",30),i.Vb(),i.Vb(),i.Vb(),i.Wb(47,"div",16),i.Wb(48,"my-peertube-checkbox",35),i.cc(49,36),i.Vb(),i.Vb(),i.Rb(50,"input",37),i.Vb(),i.Tc(51,Ba,2,1,"div",38),i.Vb(),i.Vb(),i.Tc(52,ja,16,4,"div",39)),2&e&&(i.Db(5),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",!t.isCreation()),i.Db(3),i.vc("ngIf",!t.isInBigView()),i.Db(1),i.vc("ngIf",t.error),i.Db(4),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",!t.isCreation()&&t.user),i.Db(1),i.vc("ngClass",i.zc(24,Ga,t.isInBigView())),i.Db(1),i.vc("formGroup",t.form)("ngClass",i.zc(26,Qa,t.isInBigView())),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(4),i.vc("ngClass",i.zc(28,xa,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),i.Db(2),i.vc("ngIf",t.formErrors.email),i.Db(1),i.vc("ngIf",t.isCreation()),i.Db(6),i.vc("ngForOf",t.roles),i.Db(1),i.vc("ngIf",t.formErrors.role),i.Db(6),i.vc("ngForOf",t.videoQuotaOptions),i.Db(1),i.vc("ngIf",t.isTranscodingInformationDisplayed()),i.Db(6),i.vc("ngForOf",t.videoQuotaDailyOptions),i.Db(4),i.wc("value",t.getFormButtonTitle()),i.vc("disabled",!t.form.valid),i.Db(1),i.vc("ngIf",t.isInBigView()),i.Db(1),i.vc("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[w.k,c.u,c.r,r.I,r.t,r.l,r.c,r.s,r.j,r.E,c.t,J.a,c.B,yc.a,X.a,Z.a,r.x,r.H,Tc],pipes:[Ie.a],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::-ms-input-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width:340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid transparent;border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #c6c6c6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(88,88,88,.05)}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:none}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}button.focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}button.disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(213,98,83,.05)}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.33333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important;opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;line-height:21px;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}my-actor-avatar-info[_ngcontent-%COMP%]     .actor-img-edit-container, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-followers, my-actor-avatar-info[_ngcontent-%COMP%]     .actor-info-username{display:none}']}),e})();var Ha=n("Imgh"),Xa=n("2L7+");const qa=["userBanModal"];function Ya(e,t){if(1&e&&(i.Wb(0,"my-action-dropdown",28),i.cc(1,29),i.Vb()),2&e){const e=i.oc(2);i.vc("actions",e.bulkUserActions)("entry",e.selectedUsers)}}const Ja=function(){return["/admin/users/list"]},Za=function(){return{search:"banned:true"}};function er(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",8),i.Wb(1,"div"),i.Tc(2,Ya,2,2,"my-action-dropdown",9),i.Vb(),i.Wb(3,"div",10),i.Wb(4,"div",11),i.Wb(5,"div",12),i.Wb(6,"div",13),i.Rb(7,"span",14),i.Vb(),i.Wb(8,"div",15),i.Wb(9,"h6",16),i.ac(10,17),i.Vb(),i.Wb(11,"a",18),i.ac(12,19),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"input",20),i.cc(14,21),i.kc("keyup",(function(t){return i.Kc(e),i.oc().onUserSearch(t)})),i.Vb(),i.Wb(15,"a",22),i.kc("click",(function(){return i.Kc(e),i.oc().resetTableFilter()})),i.Vb(),i.Wb(16,"span",23),i.ac(17,24),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"a",25),i.Rb(19,"my-global-icon",26),i.Ub(20),i.ac(21,27),i.Tb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc();i.Db(2),i.vc("ngIf",e.isInSelectionMode()),i.Db(9),i.vc("routerLink",i.yc(3,Ja))("queryParams",i.yc(4,Za))}}function tr(e,t){if(1&e&&(i.Wb(0,"th",49),i.Vc(1),i.Rb(2,"p-sortIcon",50),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc("",e.getColumn("username").label," ")}}function nr(e,t){if(1&e&&(i.Wb(0,"th"),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.getColumn("email").label)}}function or(e,t){if(1&e&&(i.Wb(0,"th",51),i.Vc(1),i.Rb(2,"p-sortIcon",52),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc("",e.getColumn("quota").label," ")}}function ir(e,t){if(1&e&&(i.Wb(0,"th",53),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.getColumn("quotaDaily").label)}}function cr(e,t){if(1&e&&(i.Wb(0,"th",54),i.Vc(1),i.Rb(2,"p-sortIcon",55),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc("",e.getColumn("role").label," ")}}function ar(e,t){if(1&e&&(i.Wb(0,"th",56),i.Vc(1),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Wc(e.getColumn("pluginAuth").label)}}function rr(e,t){if(1&e&&(i.Wb(0,"th",57),i.Vc(1),i.Rb(2,"p-sortIcon",58),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc("",e.getColumn("createdAt").label," ")}}function lr(e,t){if(1&e&&(i.Wb(0,"th",59),i.Vc(1),i.Rb(2,"p-sortIcon",60),i.Vb()),2&e){const e=i.oc(2);i.Db(1),i.Xc("",e.getColumn("lastLoginDate").label," ")}}function sr(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tr"),i.Wb(1,"th",30),i.Rb(2,"p-tableHeaderCheckbox"),i.Vb(),i.Rb(3,"th",30),i.Wb(4,"th",31),i.Wb(5,"div",32),i.Rb(6,"my-global-icon",33),i.Wb(7,"div",34),i.Wb(8,"div",16),i.ac(9,35),i.Vb(),i.Wb(10,"div",36),i.Wb(11,"my-select-checkbox",37),i.cc(12,38),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().selectedColumns=t})),i.Vb(),i.Vb(),i.Wb(13,"div",36),i.Wb(14,"my-peertube-checkbox",39),i.cc(15,40),i.kc("ngModelChange",(function(t){return i.Kc(e),i.oc().highlightBannedUsers=t})),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tc(16,tr,3,1,"th",41),i.Tc(17,nr,2,1,"th",42),i.Tc(18,or,3,1,"th",43),i.Tc(19,ir,2,1,"th",44),i.Tc(20,cr,3,1,"th",45),i.Tc(21,ar,2,1,"th",46),i.Tc(22,rr,3,1,"th",47),i.Tc(23,lr,3,1,"th",48),i.Vb()}if(2&e){const e=i.oc();i.Db(11),i.vc("availableItems",e.columns)("selectableGroup",!1)("ngModel",e.selectedColumns),i.Db(3),i.vc("ngModel",e.highlightBannedUsers),i.Db(2),i.vc("ngIf",e.isSelected("username")),i.Db(1),i.vc("ngIf",e.isSelected("email")),i.Db(1),i.vc("ngIf",e.isSelected("quota")),i.Db(1),i.vc("ngIf",e.isSelected("quotaDaily")),i.Db(1),i.vc("ngIf",e.isSelected("role")),i.Db(1),i.vc("ngIf",e.isSelected("pluginAuth")),i.Db(1),i.vc("ngIf",e.isSelected("createdAt")),i.Db(1),i.vc("ngIf",e.isSelected("lastLoginDate"))}}function br(e,t){if(1&e&&(i.Wb(0,"span",69),i.Rb(1,"i",70),i.Vb()),2&e){const e=i.oc(),t=e.expanded;i.vc("pRowToggler",e.$implicit),i.Db(1),i.vc("ngClass",t?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function dr(e,t){if(1&e){const e=i.Xb();i.Wb(0,"my-user-moderation-dropdown",71),i.kc("userChanged",(function(){return i.Kc(e),i.oc(2).onUserChanged()}))("userDeleted",(function(){return i.Kc(e),i.oc(2).onUserChanged()})),i.Vb()}if(2&e){const e=i.oc().$implicit;i.vc("user",e)}}const gr=function(e){return[e]};function ur(e,t){if(1&e){const e=i.Xb();i.Wb(0,"td"),i.Wb(1,"a",72),i.cc(2,73),i.Wb(3,"div",74),i.Wb(4,"img",75),i.kc("error",(function(t){return i.Kc(e),i.oc(2).switchToDefaultAvatar(t)})),i.Vb(),i.Wb(5,"div"),i.Wb(6,"span",76),i.Vc(7),i.Vb(),i.Wb(8,"span",77),i.Vc(9),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.oc().$implicit;i.Db(1),i.vc("routerLink",i.zc(4,gr,"/accounts/"+e.username)),i.Db(3),i.vc("src",null==e||null==e.account||null==e.account.avatar?null:e.account.avatar.path,i.Mc),i.Db(3),i.Wc(e.account.displayName),i.Db(2),i.Wc(e.username)}}function pr(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"a",80),i.Vc(2),i.Vb(),i.Tb()),2&e){const e=i.oc(2).$implicit;i.Db(1),i.vc("href","mailto:"+e.email,i.Mc),i.Db(1),i.Wc(e.email)}}function fr(e,t){if(1&e&&(i.Wb(0,"td",78),i.Tc(1,pr,3,2,"ng-container",79),i.Vb()),2&e){const e=i.oc().$implicit,t=i.Ic(10),n=i.oc();i.vc("title",e.email),i.Db(1),i.vc("ngIf",!n.requiresEmailVerification||e.blocked)("ngIfElse",t)}}function mr(e,t){if(1&e&&(i.Wb(0,"td",83),i.cc(1,84),i.Wb(2,"em"),i.Vc(3),i.Vb(),i.Vb()),2&e){const e=i.oc(2).$implicit;i.Db(3),i.Xc("? ",e.email,"")}}function hr(e,t){if(1&e&&(i.Wb(0,"td",83),i.cc(1,85),i.Vc(2),i.Vb()),2&e){const e=i.oc(2).$implicit;i.Db(2),i.Xc(" \u2713 ",e.email," ")}}function vr(e,t){if(1&e&&(i.Tc(0,mr,4,1,"td",81),i.Tc(1,hr,3,1,"ng-template",null,82,i.Uc)),2&e){const e=i.Ic(2),t=i.oc().$implicit;i.vc("ngIf",!1===t.emailVerified)("ngIfElse",e)}}const Cr=function(e){return{width:e}};function Pr(e,t){if(1&e&&(i.Wb(0,"td"),i.Wb(1,"div",86),i.cc(2,87),i.Rb(3,"div",88),i.Wb(4,"span"),i.Vc(5),i.Vb(),i.Wb(6,"span"),i.Vc(7),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(3),i.Rc(i.zc(6,Cr,t.getUserVideoQuotaPercentage(e)+"%")),i.Eb("aria-valuenow",e.rawVideoQuotaUsed)("aria-valuemax",e.rawVideoQuota),i.Db(2),i.Wc(e.videoQuotaUsed),i.Db(2),i.Wc(e.videoQuota)}}function Or(e,t){if(1&e&&(i.Wb(0,"td"),i.Wb(1,"div",86),i.cc(2,89),i.Rb(3,"div",90),i.Wb(4,"span"),i.Vc(5),i.Vb(),i.Wb(6,"span"),i.Vc(7),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.oc().$implicit,t=i.oc();i.Db(3),i.Rc(i.zc(6,Cr,t.getUserVideoQuotaDailyPercentage(e)+"%")),i.Eb("aria-valuenow",e.rawVideoQuotaUsedDaily)("aria-valuemax",e.rawVideoQuotaDaily),i.Db(2),i.Wc(e.videoQuotaUsedDaily),i.Db(2),i.Wc(e.videoQuotaDaily)}}function _r(e,t){if(1&e&&(i.Wb(0,"span",93),i.cc(1,94),i.Vc(2),i.Vb()),2&e){const e=i.oc(2).$implicit;i.Db(2),i.Wc(e.roleLabel)}}function Mr(e,t){if(1&e&&(i.Wb(0,"span",95),i.Vc(1),i.Vb()),2&e){const e=i.oc(2).$implicit,t=i.oc();i.vc("ngClass",t.getRoleClass(e.role)),i.Db(1),i.Wc(e.roleLabel)}}function yr(e,t){if(1&e&&(i.Wb(0,"td"),i.Tc(1,_r,3,1,"span",91),i.Tc(2,Mr,2,2,"span",92),i.Vb()),2&e){const e=i.oc().$implicit;i.Db(1),i.vc("ngIf",e.blocked),i.Db(1),i.vc("ngIf",!e.blocked)}}function wr(e,t){if(1&e&&(i.Ub(0),i.Vc(1),i.Tb()),2&e){const e=i.oc(2).$implicit;i.Db(1),i.Wc(e.pluginAuth)}}function Vr(e,t){if(1&e&&(i.Wb(0,"td"),i.Tc(1,wr,2,1,"ng-container",42),i.Vb()),2&e){const e=i.oc().$implicit;i.Db(1),i.vc("ngIf",e.pluginAuth)}}function xr(e,t){if(1&e&&(i.Wb(0,"td",78),i.Vc(1),i.pc(2,"date"),i.Vb()),2&e){const e=i.oc().$implicit;i.vc("title",e.createdAt),i.Db(1),i.Wc(i.rc(2,2,e.createdAt,"short"))}}function kr(e,t){if(1&e&&(i.Wb(0,"td",78),i.Vc(1),i.pc(2,"date"),i.Vb()),2&e){const e=i.oc().$implicit;i.vc("title",e.lastLoginDate),i.Db(1),i.Wc(i.rc(2,2,e.lastLoginDate,"short"))}}const Tr=function(e){return{banned:e}};function Wr(e,t){if(1&e&&(i.Wb(0,"tr",61),i.Wb(1,"td"),i.Rb(2,"p-tableCheckbox",62),i.Vb(),i.Wb(3,"td",63),i.Tc(4,br,2,2,"span",64),i.Vb(),i.Wb(5,"td",65),i.Tc(6,dr,1,1,"my-user-moderation-dropdown",66),i.Vb(),i.Tc(7,ur,10,6,"td",42),i.Tc(8,fr,2,3,"td",67),i.Tc(9,vr,3,2,"ng-template",null,68,i.Uc),i.Tc(11,Pr,8,8,"td",42),i.Tc(12,Or,8,8,"td",42),i.Tc(13,yr,3,2,"td",42),i.Tc(14,Vr,2,1,"td",42),i.Tc(15,xr,3,5,"td",67),i.Tc(16,kr,3,5,"td",67),i.Vb()),2&e){const e=t.$implicit,n=i.oc();i.vc("pSelectableRow",e)("ngClass",i.zc(13,Tr,n.highlightBannedUsers&&e.blocked)),i.Db(2),i.vc("value",e),i.Db(2),i.vc("ngIf",e.blockedReason),i.Db(2),i.vc("ngIf",!n.isInSelectionMode()),i.Db(1),i.vc("ngIf",n.isSelected("username")),i.Db(1),i.vc("ngIf",n.isSelected("email")),i.Db(3),i.vc("ngIf",n.isSelected("quota")),i.Db(1),i.vc("ngIf",n.isSelected("quotaDaily")),i.Db(1),i.vc("ngIf",n.isSelected("role")),i.Db(1),i.vc("ngIf",n.isSelected("pluginAuth")),i.Db(1),i.vc("ngIf",n.isSelected("createdAt")),i.Db(1),i.vc("ngIf",n.isSelected("lastLoginDate"))}}function zr(e,t){if(1&e&&(i.Wb(0,"tr",96),i.Wb(1,"td",97),i.Wb(2,"span",98),i.ac(3,99),i.Vb(),i.Vc(4),i.Vb(),i.Vb()),2&e){const e=t.$implicit;i.Db(4),i.Xc(" ",e.blockedReason," ")}}let Dr=(()=>{class e extends k.RestTable{constructor(e,t,n,o,i,c,a){super(),this.notifier=e,this.confirmService=t,this.serverService=n,this.userService=o,this.auth=i,this.route=c,this.router=a,this.users=[],this.totalRecords=0,this.sort={field:"createdAt",order:1},this.pagination={count:this.rowsPerPage,start:0},this.highlightBannedUsers=!1,this.selectedUsers=[],this.bulkUserActions=[]}get authUser(){return this.auth.getUser()}get requiresEmailVerification(){return this.serverConfig.signup.requiresEmailVerification}get selectedColumns(){return this._selectedColumns}set selectedColumns(e){this._selectedColumns=e}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.initialize(),this.route.queryParams.subscribe(e=>{this.search=e.search||"",this.setTableFilter(this.search),this.loadData()}),this.bulkUserActions=[[{label:"Delete",description:"Videos will be deleted, comments will be tombstoned.",handler:e=>this.removeUsers(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e))},{label:"Ban",description:"User won't be able to login anymore, but videos and comments will be kept as is.",handler:e=>this.openBanUserModal(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e)&&!1===e.blocked)},{label:"Unban",handler:e=>this.unbanUsers(e),isDisplayed:e=>e.every(e=>this.authUser.canManage(e)&&!0===e.blocked)}],[{label:"Set Email as Verified",handler:e=>this.setEmailsAsVerified(e),isDisplayed:e=>this.requiresEmailVerification&&e.every(e=>this.authUser.canManage(e)&&!e.blocked&&!1===e.emailVerified)}]],this.columns=[{id:"username",label:"Username"},{id:"email",label:"Email"},{id:"quota",label:"Video quota"},{id:"role",label:"Role"},{id:"createdAt",label:"Created"}],this.selectedColumns=this.columns.map(e=>e.id),this.columns.push({id:"quotaDaily",label:"Daily quota"}),this.columns.push({id:"pluginAuth",label:"Auth plugin"}),this.columns.push({id:"lastLoginDate",label:"Last login"})}getIdentifier(){return"UserListComponent"}getRoleClass(e){switch(e){case ho.UserRole.ADMINISTRATOR:return"badge-purple";case ho.UserRole.MODERATOR:return"badge-blue";default:return"badge-yellow"}}isSelected(e){return this.selectedColumns.find(t=>t===e)}getColumn(e){return this.columns.find(t=>t.id===e)}getUserVideoQuotaPercentage(e){return 100*e.rawVideoQuotaUsed/e.rawVideoQuota}getUserVideoQuotaDailyPercentage(e){return 100*e.rawVideoQuotaUsedDaily/e.rawVideoQuotaDaily}openBanUserModal(e){for(const t of e)if("root"===t.username)return void this.notifier.error("\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E41\u0E1A\u0E19 root");this.userBanModal.openModal(e)}onUserChanged(){this.loadData()}onUserSearch(e){this.onSearch(e),this.setQueryParams(e.target.value)}setQueryParams(e){const t={};e&&Object.assign(t,{search:e}),this.router.navigate(["/admin/users/list"],{queryParams:t})}resetTableFilter(){this.setTableFilter(""),this.setQueryParams(""),this.resetSearch()}switchToDefaultAvatar(e){e.target.src=M.Actor.GET_DEFAULT_AVATAR_URL()}unbanUsers(e){return Object(V.a)(this,void 0,void 0,(function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1B\u0E25\u0E14\u0E41\u0E1A\u0E19\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49 \n          " + e.length + " \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48\n        ","Unban"))&&this.userService.unbanUsers(e).subscribe(()=>{this.notifier.success("\u0E1B\u0E25\u0E14\u0E41\u0E1A\u0E19\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49 \n          " + e.length + " \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E41\u0E25\u0E49\u0E27\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}removeUsers(e){return Object(V.a)(this,void 0,void 0,(function*(){for(const n of e)if("root"===n.username)return void this.notifier.error("You cannot delete root.");const t="If you remove these users, you will not be able to create others with the same username!";!1!==(yield this.confirmService.confirm(t,"Delete"))&&this.userService.removeUser(e).subscribe(()=>{this.notifier.success("\n          " + e.length + " users deleted.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}setEmailsAsVerified(e){return Object(V.a)(this,void 0,void 0,(function*(){this.userService.updateUsers(e,{emailVerified:!0}).subscribe(()=>{this.notifier.success("\n          " + e.length + " users email set as verified.\n        "),this.loadData()},e=>this.notifier.error(e.message))}))}isInSelectionMode(){return 0!==this.selectedUsers.length}loadData(){this.selectedUsers=[],this.userService.getUsers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe(e=>{this.users=e.data,this.totalRecords=e.total},e=>this.notifier.error(e.message))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(k.Notifier),i.Qb(k.ConfirmService),i.Qb(k.ServerService),i.Qb(k.UserService),i.Qb(k.AuthService),i.Qb(w.a),i.Qb(w.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["my-user-list"]],viewQuery:function(e,t){var n;1&e&&i.Qc(qa,!0),2&e&&i.Hc(n=i.lc())&&(t.userBanModal=n.first)},features:[i.Ab],decls:8,vars:15,consts:function(){return[["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","resizableColumns","selection","showCurrentPageReport","expandedRowKeys","onLazyLoad","selectionChange","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate","Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " users\n        "],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"userBanned"],["userBanModal",""],[1,"caption"],["theme","orange",3,"actions","entry",4,"ngIf",6,"label"],[1,"ml-auto"],[1,"input-group","has-feedback","has-clear"],["ngbDropdown","","placement","bottom-left auto","container","body",1,"input-group-prepend","c-hand"],["ngbDropdownToggle","",1,"input-group-text"],["aria-haspopup","menu","role","button",1,"caret"],["role","menu","ngbDropdownMenu",""],[1,"dropdown-header"],"Advanced user filters",[1,"dropdown-item",3,"routerLink","queryParams"],"Banned users",["type","text","name","table-filter","id","table-filter",3,"keyup",6,"placeholder"],["placeholder","Filter..."],[1,"glyphicon","glyphicon-remove-sign","form-control-feedback","form-control-clear",3,"click"],[1,"sr-only"],"Clear filters",["routerLink","/admin/users/create",1,"ml-2","add-button"],["iconName","user-add","aria-hidden","true"],"Create user",["theme","orange",3,"actions","entry",6,"label"],["label","Batch actions"],[2,"width","40px"],[2,"width","60px"],["ngbDropdown","","placement","bottom-left auto","container","body","autoClose","outside",1,"c-hand","column-toggle"],["iconName","columns","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],"Table parameters",["ngbDropdownItem","",1,"dropdown-item"],["name","columns",3,"availableItems","selectableGroup","ngModel","ngModelChange",6,"placeholder"],["placeholder","Select columns"],["inputName","highlightBannedUsers",3,"ngModel","ngModelChange",6,"labelText"],["labelText","Highlight banned users"],["pResizableColumn","","pSortableColumn","username",4,"ngIf"],[4,"ngIf"],["style","width: 160px;","pSortableColumn","videoQuotaUsed",4,"ngIf"],["style","width: 160px;",4,"ngIf"],["style","width: 120px;","pSortableColumn","role",4,"ngIf"],["style","width: 140px;","pResizableColumn","",4,"ngIf"],["style","width: 150px;","pSortableColumn","createdAt",4,"ngIf"],["style","width: 150px;","pSortableColumn","lastLoginDate",4,"ngIf"],["pResizableColumn","","pSortableColumn","username"],["field","username"],["pSortableColumn","videoQuotaUsed",2,"width","160px"],["field","videoQuotaUsed"],[2,"width","160px"],["pSortableColumn","role",2,"width","120px"],["field","role"],["pResizableColumn","",2,"width","140px"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],["pSortableColumn","lastLoginDate",2,"width","150px"],["field","lastLoginDate"],[3,"pSelectableRow","ngClass"],[3,"value"],[1,"expand-cell"],["class","expander",3,"pRowToggler",4,"ngIf"],[1,"action-cell"],["container","body",3,"user","userChanged","userDeleted",4,"ngIf"],[3,"title",4,"ngIf"],["emailWithVerificationStatus",""],[1,"expander",3,"pRowToggler"],[3,"ngClass"],["container","body",3,"user","userChanged","userDeleted"],["target","_blank","rel","noopener noreferrer",3,"routerLink",6,"title"],["title","Open account in a new tab"],[1,"chip","two-lines"],["alt","Avatar",1,"avatar",3,"src","error"],[1,"user-table-primary-text"],[1,"text-muted"],[3,"title"],[4,"ngIf","ngIfElse"],[1,"table-email",3,"href"],[4,"ngIf","ngIfElse",6,"title"],["emailVerifiedNotFalse",""],[6,"title"],["title","User's email must be verified to login"],["title","User's email is verified / User can login without email verification"],[1,"progress",6,"title"],["title","Total video quota"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["title","Total daily video quota"],["role","progressbar","aria-valuemin","0",1,"progress-bar","secondary"],["class","badge badge-banned",4,"ngIf",6,"title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"badge","badge-banned",6,"title"],["title","The user was banned"],[1,"badge",3,"ngClass"],[1,"user-blocked-reason"],["colspan","7"],[1,"ban-reason-label"],"Ban reason:"]},template:function(e,t){1&e&&(i.Wb(0,"p-table",0),i.cc(1,1),i.kc("onLazyLoad",(function(e){return t.loadLazy(e)}))("selectionChange",(function(e){return t.selectedUsers=e}))("onPage",(function(e){return t.onPage(e)})),i.Tc(2,er,22,5,"ng-template",2),i.Tc(3,sr,24,12,"ng-template",3),i.Tc(4,Wr,17,15,"ng-template",4),i.Tc(5,zr,5,1,"ng-template",5),i.Vb(),i.Wb(6,"my-user-ban-modal",6,7),i.kc("userBanned",(function(){return t.onUserChanged()})),i.Vb()),2&e&&(i.ec("{first}")("{last}")("{totalRecords}"),i.bc(1),i.vc("value",t.users)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("resizableColumns",!0)("selection",t.selectedUsers)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[C.k,ne.d,Ha.a,c.u,H.e,H.j,H.h,w.k,Mn.a,Hn.a,C.m,H.g,Y.a,r.s,r.v,J.a,C.e,C.j,C.i,C.h,c.r,C.l,C.f,Xa.a],pipes:[c.f],styles:['.add-button[_ngcontent-%COMP%]{display:inline-block;border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}.add-button[_ngcontent-%COMP%]:active, .add-button[_ngcontent-%COMP%]:focus, .add-button[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.add-button.focus-visible[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.add-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]:active, .add-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.add-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.add-button.disabled[_ngcontent-%COMP%], .add-button[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;margin-right:5px;top:-1px}tr.banned[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#fcc!important}.table-email[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-email[_ngcontent-%COMP%]:active, .table-email[_ngcontent-%COMP%]:focus, .table-email[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.banned-info[_ngcontent-%COMP%]{font-style:italic}.ban-reason-label[_ngcontent-%COMP%]{font-weight:600}.user-table-primary-text[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:grey;margin-left:.1rem}.caption[_ngcontent-%COMP%]{justify-content:space-between}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;height:30px;width:250px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.caption[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:250px){.caption[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}p-tableCheckbox[_ngcontent-%COMP%]{position:relative;top:-2.5px}my-global-icon[_ngcontent-%COMP%]{width:18px}.chip[_ngcontent-%COMP%]{--chip-radius:5rem;--chip-padding:.2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius:.2rem;--chip-padding:.2rem .3rem}.chip[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:-.4rem;margin-right:.2rem;height:1.2rem;width:1.2rem;border-radius:50%;display:inline-block;line-height:1.25;position:relative;vertical-align:middle}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:2rem;width:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;margin-left:.1rem;margin-right:.1rem;justify-content:center}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}.progress[_ngcontent-%COMP%]{background-color:#e5e5e5;display:flex;height:1rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;position:relative;width:auto;max-width:100%}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:#585858;top:-1px}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{left:.2rem}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){right:.2rem}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%]{background-color:var(--secondaryColor)}.input-group[_ngcontent-%COMP%]{width:300px;min-height:30px;padding-top:0;padding-bottom:0}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:grey}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.input-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}']}),e})();const Ir=[{path:"users",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Rb(0,"router-outlet")},directives:[w.m],encapsulation:2}),e})(),canActivate:[k.UserRightGuard],data:{userRight:1},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Dr,data:{meta:{title:"Users list"}}},{path:"create",component:da,data:{meta:{title:"Create a user"}},resolve:{serverConfig:k.ServerConfigResolver}},{path:"update/:id",component:Ka,data:{meta:{title:"Update a user"}}}]}],Rr=[{path:"",component:Wi,canActivate:[xi.a],canActivateChild:[xi.a],children:[{path:"",redirectTo:"users",pathMatch:"full"},...Pc,...Ir,...go,...Vi,..._n,...Go]}];let Sr=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},imports:[[w.l.forChild(Rr)],w.l]}),e})(),$r=(()=>{class e{}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)},providers:[Ko,di,jo,z,vo],imports:[[Sr,M.SharedMainModule,O.c,y.f,_.a,P.SharedAbuseListModule,C.n,Te,v,o.a]]}),e})()}}]);