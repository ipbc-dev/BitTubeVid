(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{mWEW:function(e,n,i){"use strict";i.r(n),i.d(n,"VerifyAccountModule",function(){return M});var t=i("xXAv"),r=i("tyNb"),o=i("Phsq"),a=i("ey9i"),c=i("fXoL"),s=i("ofXK"),l=i("B/uj");function u(e,n){1&e&&c.Qb(0,"my-signup-success",6)}function m(e,n){1&e&&(c.Vb(0,"div",7),c.Zb(1,8),c.Ub())}const d=function(e){return{isPendingEmail:e}};function f(e,n){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"span"),c.Zb(2,9),c.Ub(),c.Vb(3,"a",10),c.Zb(4,11),c.Ub(),c.Ub()),2&e){const e=c.nc();c.Cb(3),c.uc("queryParams",c.yc(1,d,e.isPendingEmail))}}let g=(()=>{class e{constructor(e,n,i,t){this.userService=e,this.authService=n,this.notifier=i,this.route=t,this.success=!1,this.failed=!1,this.isPendingEmail=!1}ngOnInit(){const e=this.route.snapshot.queryParams;this.userId=e.userId,this.verificationString=e.verificationString,this.isPendingEmail="true"===e.isPendingEmail,this.userId&&this.verificationString?this.verifyEmail():this.notifier.error("\u30E6\u30FC\u30B6\u30FCID\u307E\u305F\u306F\u78BA\u8A8D\u6587\u5B57\u5217\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002")}verifyEmail(){this.userService.verifyEmail(this.userId,this.verificationString,this.isPendingEmail).subscribe(()=>{this.authService.isLoggedIn()&&this.authService.refreshUserInformation(),this.success=!0},e=>{this.failed=!0,this.notifier.error(e.message)})}}return e.\u0275fac=function(n){return new(n||e)(c.Pb(a.D),c.Pb(a.a),c.Pb(a.m),c.Pb(r.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["my-verify-account-email"]],decls:6,vars:3,consts:function(){let e,n,i,t;return e="\n    \u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u30E1\u30FC\u30EB\u78BA\u8A8D\u3092\u691C\u8A3C\n  ",n="\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u66F4\u65B0\u3057\u307E\u3057\u305F\u3002",i="\u30A8\u30E9\u30FC\u767A\u751F",t="\u65B0\u3057\u3044\u767B\u9332\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u8981\u6C42",[[1,"margin-content"],[1,"title-page","title-page-single"],e,["message","Your email has been verified and you may now login.",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[4,"ngIf"],["message","Your email has been verified and you may now login."],[1,"alert","alert-success"],n,i,["routerLink","/verify-account/ask-send-email",3,"queryParams"],t]},template:function(e,n){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Zb(2,2),c.Ub(),c.Sc(3,u,1,0,"my-signup-success",3),c.Sc(4,m,2,0,"div",4),c.Sc(5,f,5,3,"div",5),c.Ub()),2&e&&(c.Cb(3),c.uc("ngIf",!n.isPendingEmail&&n.success),c.Cb(1),c.uc("ngIf",n.isPendingEmail&&n.success),c.Cb(1),c.uc("ngIf",n.failed))},directives:[s.n,l.a,r.k],encapsulation:2}),e})();var b=i("nnN+"),p=i("sWvm"),h=i("3Pt+");function y(e,n){if(1&e&&(c.Vb(0,"div",12),c.Uc(1),c.Ub()),2&e){const e=c.nc(2);c.Cb(1),c.Wc(" ",e.formErrors["verify-email-email"]," ")}}const v=function(e){return{"input-error":e}};function S(e,n){if(1&e){const e=c.Wb();c.Vb(0,"form",5),c.jc("ngSubmit",function(){return c.Jc(e),c.nc().askSendVerifyEmail()}),c.Vb(1,"div",6),c.Vb(2,"label",7),c.Zb(3,8),c.Ub(),c.Qb(4,"input",9),c.Sc(5,y,2,1,"div",10),c.Ub(),c.Qb(6,"input",11),c.Ub()}if(2&e){const e=c.nc();c.uc("formGroup",e.form),c.Cb(4),c.uc("ngClass",c.yc(4,v,e.formErrors["verify-email-email"])),c.Cb(1),c.uc("ngIf",e.formErrors["verify-email-email"]),c.Cb(1),c.uc("disabled",!e.form.valid)}}function P(e,n){1&e&&(c.Vb(0,"div"),c.Zb(1,13),c.Ub())}const C=[{path:"",canActivateChild:[o.a],children:[{path:"email",component:g,data:{meta:{title:"Verify account via email"}}},{path:"ask-send-email",component:(()=>{class e extends p.a{constructor(e,n,i,t,r){super(),this.formValidatorService=e,this.userService=n,this.serverService=i,this.notifier=t,this.redirectService=r}get requiresEmailVerification(){return this.serverConfig.signup.requiresEmailVerification}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(e=>this.serverConfig=e),this.buildForm({"verify-email-email":b.f})}askSendVerifyEmail(){const e=this.form.value["verify-email-email"];this.userService.askSendVerifyEmail(e).subscribe(()=>{this.notifier.success("\u78BA\u8A8D\u30EA\u30F3\u30AF\u3092\u8A18\u8F09\u3057\u305F\u30E1\u30FC\u30EB\u304C \n          " + e + " \u306B\u9001\u4FE1\u3055\u308C\u307E\u3059\u3002\n        "),this.redirectService.redirectToHomepage()},e=>{this.notifier.error(e.message)})}}return e.\u0275fac=function(n){return new(n||e)(c.Pb(p.b),c.Pb(a.D),c.Pb(a.x),c.Pb(a.m),c.Pb(a.q))},e.\u0275cmp=c.Jb({type:e,selectors:[["my-verify-account-ask-send-email"]],features:[c.zb],decls:6,vars:2,consts:function(){let e,n,i,t,r;return e="\n    \u30A2\u30AB\u30A6\u30F3\u30C8\u78BA\u8A8D\u306E\u305F\u3081\u306B\u30E1\u30FC\u30EB\u3092\u30EA\u30AF\u30A8\u30B9\u30C8\u3059\u308B\n  ",n="\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",i="\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",t="\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1",r="\u3053\u306E\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u78BA\u8A8D\u3092\u5FC5\u8981\u3068\u3057\u307E\u305B\u3093\u3002",[[1,"margin-content"],[1,"title-page","title-page-single"],e,["role","form",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["emailVerificationNotRequired",""],["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","verify-email-email"],n,["type","email","id","verify-email-email","placeholder",i,"required","","formControlName","verify-email-email",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit","value",t,3,"disabled"],[1,"form-error"],r]},template:function(e,n){if(1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Zb(2,2),c.Ub(),c.Sc(3,S,7,6,"form",3),c.Sc(4,P,2,0,"ng-template",null,4,c.Tc),c.Ub()),2&e){const e=c.Hc(5);c.Cb(3),c.uc("ngIf",n.requiresEmailVerification)("ngIfElse",e)}},directives:[s.n,h.y,h.n,h.h,h.b,h.u,h.m,h.f,s.l],styles:['input[_ngcontent-%COMP%]:not([type=submit]){display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::-moz-placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width:340px){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),e})(),data:{meta:{title:"Ask to send an email to verify you account"}}}]}];let w=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(n){return new(n||e)},imports:[[r.l.forChild(C)],r.l]}),e})(),M=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(n){return new(n||e)},providers:[],imports:[[w,t.a]]}),e})()},"nnN+":function(e,n,i){"use strict";i.d(n,"l",function(){return r}),i.d(n,"b",function(){return o}),i.d(n,"f",function(){return a}),i.d(n,"g",function(){return c}),i.d(n,"i",function(){return s}),i.d(n,"h",function(){return l}),i.d(n,"c",function(){return u}),i.d(n,"n",function(){return m}),i.d(n,"m",function(){return d}),i.d(n,"j",function(){return f}),i.d(n,"e",function(){return g}),i.d(n,"d",function(){return b}),i.d(n,"k",function(){return p}),i.d(n,"a",function(){return h});var t=i("3Pt+");const r={VALIDATORS:[t.w.required,t.w.minLength(1),t.w.maxLength(50),t.w.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"\u30E6\u30FC\u30B6\u30FC\u540D\u306F\u5FC5\u9808\u3067\u3059\u3002",minlength:"\u30E6\u30FC\u30B6\u30FC\u540D\u306F 1 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"\u30E6\u30FC\u30B6\u30FC\u540D\u306F 50 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002",pattern:"\u30E6\u30FC\u30B6\u30FC\u540D\u306B\u306F\u5C0F\u6587\u5B57\u306E\u82F1\u6570\u5B57\u3068\u30C9\u30C3\u30C8(.)\u3001\u30A2\u30F3\u30C0\u30FC\u30B9\u30B3\u30A2(_)\u304C\u5229\u7528\u3067\u304D\u307E\u3059\u3002"}},o={VALIDATORS:[t.w.required,t.w.minLength(1),t.w.maxLength(50),t.w.pattern(/^[a-z0-9][a-z0-9._]*$/)],MESSAGES:{required:"Channel name is required.",minlength:"Channel name must be at least 1 character long.",maxlength:"Channel name cannot be more than 50 characters long.",pattern:"Channel name should be lowercase, and can contain only alphanumeric characters, dots and underscores."}},a={VALIDATORS:[t.w.required,t.w.email],MESSAGES:{required:"\u30E1\u30FC\u30EB\u306F\u5FC5\u9808\u3067\u3059\u3002",email:"\u30E1\u30FC\u30EB\u306F\u6709\u52B9\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}},c={VALIDATORS:[t.w.required],MESSAGES:{required:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u5FC5\u9808\u3067\u3059\u3002"}},s={VALIDATORS:[t.w.required,t.w.minLength(6),t.w.maxLength(255)],MESSAGES:{required:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u5FC5\u9808\u3067\u3059\u3002",minlength:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F 6 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F 255 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}},l={VALIDATORS:[t.w.minLength(6),t.w.maxLength(255)],MESSAGES:{minlength:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F 6 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"\u30D1\u30B9\u30EF\u30FC\u30C9\u306F 255 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}},u={VALIDATORS:[],MESSAGES:{matchPassword:"\u65B0\u3057\u3044\u30D1\u30B9\u30EF\u30FC\u30C9\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u306E\u78BA\u8A8D\u304C\u4E00\u81F4\u3057\u307E\u305B\u3093\u3002"}},m={VALIDATORS:[t.w.required,t.w.min(-1)],MESSAGES:{required:"\u52D5\u753B\u306E\u5BB9\u91CF\u5236\u9650\u306F\u5FC5\u9808\u3067\u3059\u3002",min:"\u5BB9\u91CF\u5236\u9650\u306F -1 \u3088\u308A\u5927\u304D\u304F\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"}},d={VALIDATORS:[t.w.required,t.w.min(-1)],MESSAGES:{required:"1\u65E5\u3042\u305F\u308A\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u5BB9\u91CF\u5236\u9650\u306F\u5FC5\u9808\u3067\u3059\u3002",min:"1\u65E5\u3042\u305F\u308A\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u5BB9\u91CF\u5236\u9650\u306F -1 \u3088\u308A\u5927\u304D\u304F\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"}},f={VALIDATORS:[t.w.required],MESSAGES:{required:"\u30E6\u30FC\u30B6\u30FC\u6A29\u9650\u306F\u5FC5\u9808\u3067\u3059\u3002"}},g=function(e){const n={VALIDATORS:[t.w.minLength(1),t.w.maxLength(120)],MESSAGES:{required:"\u8868\u793A\u540D\u306F\u5FC5\u9808\u3067\u3059\u3002",minlength:"\u8868\u793A\u540D\u306F 1 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"\u8868\u793A\u540D\u306F 50 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}};return n.VALIDATORS.push(t.w.required),n}(),b={VALIDATORS:[t.w.minLength(3),t.w.maxLength(1e3)],MESSAGES:{minlength:"\u8AAC\u660E\u306F 3 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"\u8AAC\u660E\u306F 1,000 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}},p={VALIDATORS:[t.w.requiredTrue],MESSAGES:{required:"You must agree with the instance terms in order to register on it."}},h={VALIDATORS:[t.w.minLength(3),t.w.maxLength(250)],MESSAGES:{minlength:"BAN\u7406\u7531\u306F 3 \u6587\u5B57\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",maxlength:"BAN\u7406\u7531\u306F 250 \u6587\u5B57\u4EE5\u5185\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002"}}}}]);