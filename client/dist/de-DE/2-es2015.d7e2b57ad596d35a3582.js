(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2Qox":function(t,n,e){"use strict";e.d(n,"a",function(){return A});var o=e("fXoL"),i=e("ey9i"),a=e("H9+z"),c=(e("DQE6"),e("a9tR"),e("4Yo8")),l=e("ofXK"),s=e("tyNb"),r=e("UkmY"),d=e("qZuT"),g=e("l9Pe"),p=e("1kSV"),m=e("/xt7"),u=e("3Pt+"),b=e("C8Cb");const h=["moreDropdown"];function C(t,n){1&t&&o.Qb(0,"my-global-icon",11)}function P(t,n){if(1&t&&(o.Tb(0),o.Uc(1),o.Sb()),2&t){const t=o.nc();o.Cb(1),o.Vc(t.position)}}function O(t,n){if(1&t&&o.Qb(0,"my-video-thumbnail",12),2&t){const t=o.nc();o.uc("video",t.playlistElement.video)("nsfw",t.isVideoBlur(t.playlistElement.video))("videoRouterLink",t.buildRouterLink())("queryParams",t.buildRouterQuery())}}function y(t,n){1&t&&o.Qb(0,"div",13)}const v=function(t){return["/accounts",t]};function _(t,n){if(1&t&&(o.Vb(0,"a",18),o.Uc(1),o.Ub()),2&t){const t=o.nc(2);o.uc("routerLink",o.yc(2,v,t.playlistElement.video.byAccount)),o.Cb(1),o.Wc(" ",t.playlistElement.video.byAccount," ")}}function M(t,n){if(1&t&&(o.Vb(0,"span",19),o.Uc(1),o.Ub()),2&t){const t=o.nc(2);o.Cb(1),o.Vc(t.playlistElement.video.byAccount)}}function f(t,n){if(1&t&&(o.Tb(0),o.Vb(1,"a",14),o.Uc(2),o.Ub(),o.Sc(3,_,2,4,"a",15),o.Sc(4,M,2,1,"span",16),o.Vb(5,"span",17),o.Uc(6),o.Ub(),o.Sb()),2&t){const t=o.nc();o.Cb(1),o.uc("routerLink",t.buildRouterLink())("queryParams",t.buildRouterQuery()),o.Db("title",t.playlistElement.video.name),o.Cb(1),o.Vc(t.playlistElement.video.name),o.Cb(1),o.uc("ngIf",t.accountLink),o.Cb(1),o.uc("ngIf",!t.accountLink),o.Cb(2),o.Vc(t.formatTimestamp(t.playlistElement))}}function x(t,n){1&t&&(o.Tb(0),o.Zb(1,21),o.Sb())}function w(t,n){1&t&&(o.Tb(0),o.Zb(1,22),o.Sb())}function k(t,n){1&t&&(o.Tb(0),o.Zb(1,23),o.Sb())}function T(t,n){if(1&t&&(o.Vb(0,"span",20),o.Sc(1,x,2,0,"ng-container",4),o.Sc(2,w,2,0,"ng-container",4),o.Sc(3,k,2,0,"ng-container",4),o.Ub()),2&t){const t=o.nc();o.Cb(1),o.uc("ngIf",t.isUnavailable(t.playlistElement)),o.Cb(1),o.uc("ngIf",t.isPrivate(t.playlistElement)),o.Cb(1),o.uc("ngIf",t.isDeleted(t.playlistElement))}}const S=function(t){return["/my-library","video-playlists",t]};function E(t,n){if(1&t&&o.Qb(0,"my-edit-button",24),2&t){const t=o.nc();o.uc("routerLink",o.yc(1,S,t.playlist.uuid))}}function L(t,n){if(1&t){const t=o.Wb();o.Vb(0,"div",35),o.Vb(1,"div"),o.Vb(2,"my-peertube-checkbox",36),o.jc("ngModelChange",function(n){return o.Jc(t),o.nc(3).timestampOptions.startTimestampEnabled=n}),o.Ub(),o.Vb(3,"my-timestamp-input",37),o.jc("ngModelChange",function(n){return o.Jc(t),o.nc(3).timestampOptions.startTimestamp=n}),o.Ub(),o.Ub(),o.Vb(4,"div"),o.Vb(5,"my-peertube-checkbox",38),o.jc("ngModelChange",function(n){return o.Jc(t),o.nc(3).timestampOptions.stopTimestampEnabled=n}),o.Ub(),o.Vb(6,"my-timestamp-input",37),o.jc("ngModelChange",function(n){return o.Jc(t),o.nc(3).timestampOptions.stopTimestamp=n}),o.Ub(),o.Ub(),o.Vb(7,"input",39),o.jc("click",function(){o.Jc(t);const n=o.nc(3);return n.updateTimestamps(n.playlistElement)}),o.Ub(),o.Ub()}if(2&t){const t=o.nc(3);o.Cb(2),o.uc("ngModel",t.timestampOptions.startTimestampEnabled),o.Cb(1),o.uc("timestamp",t.timestampOptions.startTimestamp)("maxTimestamp",t.playlistElement.video.duration)("disabled",!t.timestampOptions.startTimestampEnabled)("ngModel",t.timestampOptions.startTimestamp),o.Cb(2),o.uc("ngModel",t.timestampOptions.stopTimestampEnabled),o.Cb(1),o.uc("timestamp",t.timestampOptions.stopTimestamp)("maxTimestamp",t.playlistElement.video.duration)("disabled",!t.timestampOptions.stopTimestampEnabled)("ngModel",t.timestampOptions.stopTimestamp)}}function V(t,n){if(1&t){const t=o.Wb();o.Tb(0),o.Vb(1,"div",29),o.jc("click",function(n){o.Jc(t);const e=o.nc(2);return e.toggleDisplayTimestampsOptions(n,e.playlistElement)}),o.Qb(2,"my-global-icon",32),o.Tb(3),o.Zb(4,33),o.Sb(),o.Ub(),o.Sc(5,L,8,10,"div",34),o.Sb()}if(2&t){const t=o.nc(2);o.Cb(5),o.uc("ngIf",t.displayTimestampOptions)}}function I(t,n){if(1&t){const t=o.Wb();o.Vb(0,"div",25,26),o.jc("openChange",function(){return o.Jc(t),o.nc().onDropdownOpenChange()}),o.Vb(2,"my-global-icon",27),o.jc("click",function(t){return t.preventDefault()}),o.Ub(),o.Vb(3,"div",28),o.Sc(4,V,6,1,"ng-container",4),o.Vb(5,"span",29),o.jc("click",function(){o.Jc(t);const n=o.nc();return n.removeFromPlaylist(n.playlistElement)}),o.Qb(6,"my-global-icon",30),o.Tb(7),o.Zb(8,31),o.Sb(),o.Ub(),o.Ub(),o.Ub()}if(2&t){const t=o.nc();o.Cb(4),o.uc("ngIf",t.playlistElement.video),o.Cb(4),o.dc(null==t.playlist?null:t.playlist.displayName),o.ac(8)}}const U=function(t){return{playing:t}};let A=(()=>{class t{constructor(t,n,e,i,a){this.authService=t,this.serverService=n,this.notifier=e,this.videoPlaylistService=i,this.cdr=a,this.owned=!1,this.playing=!1,this.rowLink=!1,this.accountLink=!0,this.touchScreenEditButton=!1,this.elementRemoved=new o.n,this.displayTimestampOptions=!1,this.timestampOptions={}}ngOnInit(){this.serverConfig=this.serverService.getTmpConfig(),this.serverService.getConfig().subscribe(t=>{this.serverConfig=t,this.cdr.detectChanges()})}isUnavailable(t){return 3===t.type}isPrivate(t){return 2===t.type}isDeleted(t){return 1===t.type}buildRouterLink(){return this.playlist?["/videos/watch/playlist",this.playlist.uuid]:null}buildRouterQuery(){return this.playlistElement&&this.playlistElement.video?{playlistPosition:this.playlistElement.position,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{}}isVideoBlur(t){return t.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig)}removeFromPlaylist(t){this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,t.id,this.playlistElement.video?this.playlistElement.video.id:void 0).subscribe(()=>{this.notifier.success("Video von \n          " + this.playlist.displayName + " entfernt\n        "),this.elementRemoved.emit(t)},t=>this.notifier.error(t.message)),this.moreDropdown.close()}updateTimestamps(t){const n={};n.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,n.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,t.id,n,this.playlistElement.video.id).subscribe(()=>{this.notifier.success("Zeitstempel ge\xE4ndert"),t.startTimestamp=n.startTimestamp,t.stopTimestamp=n.stopTimestamp,this.cdr.detectChanges()},t=>this.notifier.error(t.message)),this.moreDropdown.close()}formatTimestamp(t){const n=t.startTimestamp,e=t.stopTimestamp,o=Object(a.j)(n,!0,":"),i=Object(a.j)(e,!0,":");return null===n&&null===e?"":null!==n&&null===e?"Beginnt bei"+o:null===n&&null!==e?"Endet bei"+i:"Beginnt bei"+o+"und endet bei"+i}onDropdownOpenChange(){this.displayTimestampOptions=!1}toggleDisplayTimestampsOptions(t,n){t.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,!0===this.displayTimestampOptions&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:n.video.duration},n.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=n.startTimestamp),n.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=n.stopTimestamp)),setTimeout(()=>{this.cdr.detectChanges()})}}return t.\u0275fac=function(n){return new(n||t)(o.Pb(i.a),o.Pb(i.x),o.Pb(i.m),o.Pb(c.a),o.Pb(o.h))},t.\u0275cmp=o.Jb({type:t,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,n){if(1&t&&o.Yc(h,!0),2&t){let t;o.Gc(t=o.kc())&&(n.moreDropdown=t.first)}},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},decls:12,vars:13,consts:function(){let t,n,e,o,i,a,c,l;return t="Nicht verf\xFCgbar",n="Privat",e="Gel\xF6scht",o="Entferne von " + "\ufffd0\ufffd" + "",i="Bearbeitung beginnt/endet bei",a="Beginne bei",c="Ende bei",l="Speichern",[[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","more dropdown-root","ngbDropdown","","placement","left auto","autoClose","outside","container","body",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams"],[1,"fake-thumbnail"],["tabindex","-1",1,"video-info-name",3,"routerLink","queryParams"],["tabindex","-1","class","video-info-account",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-account",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["tabindex","-1",1,"video-info-account",3,"routerLink"],["tabindex","-1",1,"video-info-account"],[1,"video-info-name"],t,n,e,[3,"routerLink"],["ngbDropdown","","placement","left auto","autoClose","outside","container","body",1,"more","dropdown-root",3,"openChange"],["moreDropdown","ngbDropdown"],["iconName","more-vertical","ngbDropdownToggle","","role","button",1,"icon-more",3,"click"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],["iconName","delete","aria-hidden","true"],o,["iconName","edit","aria-hidden","true"],i,["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt","labelText",a,3,"ngModel","ngModelChange"],[3,"timestamp","maxTimestamp","disabled","ngModel","ngModelChange"],["inputName","stopAt","labelText",c,3,"ngModel","ngModelChange"],["type","submit","value",l,3,"click"]]},template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"a",1),o.Vb(2,"div",2),o.Sc(3,C,1,0,"my-global-icon",3),o.Sc(4,P,2,1,"ng-container",4),o.Ub(),o.Sc(5,O,1,4,"my-video-thumbnail",5),o.Sc(6,y,1,0,"div",6),o.Vb(7,"div",7),o.Sc(8,f,7,7,"ng-container",4),o.Sc(9,T,4,3,"span",8),o.Ub(),o.Ub(),o.Sc(10,E,1,3,"my-edit-button",9),o.Sc(11,I,9,2,"div",10),o.Ub()),2&t&&(o.uc("ngClass",o.yc(11,U,n.playing)),o.Cb(1),o.uc("routerLink",n.buildRouterLink())("queryParams",n.buildRouterQuery()),o.Cb(2),o.uc("ngIf",n.playing),o.Cb(1),o.uc("ngIf",!n.playing),o.Cb(1),o.uc("ngIf",n.playlistElement.video),o.Cb(1),o.uc("ngIf",!n.playlistElement.video),o.Cb(2),o.uc("ngIf",n.playlistElement.video),o.Cb(1),o.uc("ngIf",!n.playlistElement.video),o.Cb(1),o.uc("ngIf",n.owned&&n.touchScreenEditButton),o.Cb(1),o.uc("ngIf",n.owned))},directives:[l.l,s.k,l.n,r.a,d.a,g.a,s.i,p.f,p.l,p.j,m.a,u.m,u.p,b.a],styles:['.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{background-color:#ececec}.fake-thumbnail[_ngcontent-%COMP%], my-video-thumbnail[_ngcontent-%COMP%]{display:flex;margin-right:10px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}.video[_ngcontent-%COMP%]:hover   .more[_ngcontent-%COMP%]{opacity:1}@media not all and (hover:hover) and (pointer:fine){.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:1!important}}.video.playing[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.02)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;margin-right:10px;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-account[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;margin-left:auto;cursor:pointer;min-width:24px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{opacity:1}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     .material{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg g[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg path[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .icon-more[_ngcontent-%COMP%]:after{border:none}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:6px 15px;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;margin-right:10px;position:relative;top:-2px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;padding-left:35px;margin-bottom:15px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer;margin-top:10px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}@media screen and (min-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width:1040px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col[_nghost-%COMP%]:not(.expanded)   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:auto}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:740px){.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col[_nghost-%COMP%]:not(.expanded)   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}'],changeDetection:0}),t})()},"4Yo8":function(t,n,e){"use strict";e.d(n,"a",function(){return T});var o=e("NOtv"),i=e("BeL+"),a=e("jtHE"),c=e("XNiG"),l=e("VRyK"),s=e("D0XW"),r=e("LRne"),d=e("/uUt"),g=e("OsX3"),p=e("pLZG"),m=e("lJxs"),u=e("pxpQ"),b=e("eIep"),h=e("w1tV"),C=e("JIr8"),P=e("vkgz"),O=e("tk/3"),y=e("ey9i"),v=e("6rF9"),_=e("xMQD"),M=e("AytR"),f=e("DQE6"),x=e("a9tR"),w=e("fXoL");const k=o("peertube:playlists:VideoPlaylistService");let T=(()=>{class t{constructor(t,n,e,o,r){this.authHttp=t,this.serverService=n,this.restExtractor=e,this.restService=o,this.ngZone=r,this.videoExistsInPlaylistNotifier=new a.a(1),this.videoExistsInPlaylistCacheSubject=new c.a,this.videoExistsObservableCache={},this.videoExistsCache={},this.myAccountPlaylistCache=void 0,this.myAccountPlaylistCacheSubject=new c.a,this.videoExistsInPlaylistObservable=Object(l.a)(this.videoExistsInPlaylistNotifier.pipe(Object(d.a)(),Object(g.a)(500,Object(v.k)(this.ngZone,s.b)),Object(p.a)(t=>0!==t.length),Object(m.a)(t=>Object(i.a)(t)),Object(u.b)(Object(v.d)(this.ngZone,s.b)),Object(b.a)(t=>this.doVideosExistInPlaylist(t)),Object(h.a)()),this.videoExistsInPlaylistCacheSubject)}listChannelPlaylists(t,n){const e=_.n.BASE_VIDEO_CHANNEL_URL+t.nameWithHost+"/video-playlists",o=this.restService.componentPaginationToRestPagination(n);let i=new O.f;return i=this.restService.addRestGetParams(i,o),this.authHttp.get(e,{params:i}).pipe(Object(b.a)(t=>this.extractPlaylists(t)),Object(C.a)(t=>this.restExtractor.handleError(t)))}listMyPlaylistWithCache(t,n){if(!n){if(this.myAccountPlaylistCacheRunning)return this.myAccountPlaylistCacheRunning;if(this.myAccountPlaylistCache)return Object(r.a)(this.myAccountPlaylistCache)}const e=this.listAccountPlaylists(t.account,void 0,"-updatedAt",n).pipe(Object(P.a)(t=>{n||(this.myAccountPlaylistCacheRunning=void 0,this.myAccountPlaylistCache=t)}),Object(h.a)());return n||(this.myAccountPlaylistCacheRunning=e),e}listAccountPlaylists(t,n,e,o){const i=_.b.BASE_ACCOUNT_URL+t.nameWithHost+"/video-playlists",a=n?this.restService.componentPaginationToRestPagination(n):void 0;let c=new O.f;return c=this.restService.addRestGetParams(c,a,e),o&&(c=this.restService.addObjectParams(c,{search:o})),this.authHttp.get(i,{params:c}).pipe(Object(b.a)(t=>this.extractPlaylists(t)),Object(C.a)(t=>this.restExtractor.handleError(t)))}getVideoPlaylist(n){return this.authHttp.get(t.BASE_VIDEO_PLAYLIST_URL+n).pipe(Object(b.a)(t=>this.extractPlaylist(t)),Object(C.a)(t=>this.restExtractor.handleError(t)))}createVideoPlaylist(n){const e=Object(v.m)(n);return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL,e).pipe(Object(P.a)(t=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.total++,this.myAccountPlaylistCache.data.push({id:t.videoPlaylist.id,displayName:n.displayName}),this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(C.a)(t=>this.restExtractor.handleError(t)))}updateVideoPlaylist(n,e){const o=Object(v.m)(e);return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n.id,o).pipe(Object(m.a)(this.restExtractor.extractDataBool),Object(P.a)(()=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.data.find(t=>t.id===n.id).displayName=e.displayName,this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(C.a)(t=>this.restExtractor.handleError(t)))}removeVideoPlaylist(n){return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n.id).pipe(Object(m.a)(this.restExtractor.extractDataBool),Object(P.a)(()=>{this.myAccountPlaylistCache&&(this.myAccountPlaylistCache.total--,this.myAccountPlaylistCache.data=this.myAccountPlaylistCache.data.filter(t=>t.id!==n.id),this.myAccountPlaylistCacheSubject.next(this.myAccountPlaylistCache))}),Object(C.a)(t=>this.restExtractor.handleError(t)))}addVideoInPlaylist(n,e){return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",e).pipe(Object(P.a)(t=>{this.videoExistsCache[e.videoId].push({playlistId:n,playlistElementId:t.videoPlaylistElement.id,startTimestamp:e.startTimestamp,stopTimestamp:e.stopTimestamp}),this.runPlaylistCheck(e.videoId)}),Object(C.a)(t=>this.restExtractor.handleError(t)))}updateVideoOfPlaylist(n,e,o,i){return this.authHttp.put(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e,o).pipe(Object(m.a)(this.restExtractor.extractDataBool),Object(P.a)(()=>{const t=this.videoExistsCache[i];if(t){const n=t.find(t=>t.playlistElementId===e);n.startTimestamp=o.startTimestamp,n.stopTimestamp=o.stopTimestamp}this.runPlaylistCheck(i)}),Object(C.a)(t=>this.restExtractor.handleError(t)))}removeVideoFromPlaylist(n,e,o){return this.authHttp.delete(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/"+e).pipe(Object(m.a)(this.restExtractor.extractDataBool),Object(P.a)(()=>{o&&(this.videoExistsCache[o]&&(this.videoExistsCache[o]=this.videoExistsCache[o].filter(t=>t.playlistElementId!==e)),this.runPlaylistCheck(o))}),Object(C.a)(t=>this.restExtractor.handleError(t)))}reorderPlaylist(n,e,o){return this.authHttp.post(t.BASE_VIDEO_PLAYLIST_URL+n+"/videos/reorder",{startPosition:e,insertAfterPosition:o}).pipe(Object(m.a)(this.restExtractor.extractDataBool),Object(C.a)(t=>this.restExtractor.handleError(t)))}getPlaylistVideos(n,e){const o=t.BASE_VIDEO_PLAYLIST_URL+n+"/videos",i=this.restService.componentPaginationToRestPagination(e);let a=new O.f;return a=this.restService.addRestGetParams(a,i),this.authHttp.get(o,{params:a}).pipe(Object(b.a)(t=>this.extractVideoPlaylistElements(t)),Object(C.a)(t=>this.restExtractor.handleError(t)))}listenToMyAccountPlaylistsChange(){return this.myAccountPlaylistCacheSubject.asObservable()}listenToVideoPlaylistChange(t){if(this.videoExistsObservableCache[t])return this.videoExistsObservableCache[t];const n=this.videoExistsInPlaylistObservable.pipe(Object(m.a)(n=>n[t]),Object(p.a)(t=>!!t),Object(P.a)(n=>this.videoExistsCache[t]=n));return this.videoExistsObservableCache[t]=n,n}runPlaylistCheck(t){return k("Running playlist check."),this.videoExistsCache[t]?(k("Found cache for %d.",t),this.videoExistsInPlaylistCacheSubject.next({[t]:this.videoExistsCache[t]})):(k("Fetching from network for %d.",t),this.videoExistsInPlaylistNotifier.next(t))}extractPlaylists(t){return this.serverService.getServerLocale().pipe(Object(m.a)(n=>{const e=t.data,o=t.total,i=[];for(const t of e)i.push(new x.a(t,n));return{data:i,total:o}}))}extractPlaylist(t){return this.serverService.getServerLocale().pipe(Object(m.a)(n=>new x.a(t,n)))}extractVideoPlaylistElements(t){return this.serverService.getServerLocale().pipe(Object(m.a)(n=>{const e=t.data,o=t.total,i=[];for(const t of e)i.push(new f.a(t,n));return{total:o,data:i}}))}doVideosExistInPlaylist(n){const e=t.MY_VIDEO_PLAYLIST_URL+"videos-exist";let o=new O.f;return o=this.restService.addObjectParams(o,{videoIds:n}),this.authHttp.get(e,{params:o,headers:{ignoreLoadingBar:""}}).pipe(Object(C.a)(t=>this.restExtractor.handleError(t)))}}return t.BASE_VIDEO_PLAYLIST_URL=M.a.apiUrl+"/api/v1/video-playlists/",t.MY_VIDEO_PLAYLIST_URL=M.a.apiUrl+"/api/v1/users/me/video-playlists/",t.\u0275fac=function(n){return new(n||t)(w.gc(O.b),w.gc(y.x),w.gc(y.r),w.gc(y.s),w.gc(w.B))},t.\u0275prov=w.Lb({token:t,factory:t.\u0275fac}),t})()},"BeL+":function(t,n,e){"use strict";var o=e("msdH"),i=function(t){return t!=t},a=function(t,n){return!(null==t||!t.length)&&function(t,n,e){return n==n?function(t,n,e){for(var o=-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}(t,n):function(t,n,e,o){for(var i=t.length,a=-1;++a<i;)if(n(t[a],a,t))return a;return-1}(t,i)}(t,n)>-1},c=e("ZWiB"),l=e("pVw1"),s=e("GYlH"),r=l.a&&1/Object(s.a)(new l.a([,-0]))[1]==1/0?function(t){return new l.a(t)}:function(){};n.a=function(t){return t&&t.length?function(t,n,e){var i=-1,l=a,d=t.length,g=!0,p=[],m=p;if(d>=200){var u=r(t);if(u)return Object(s.a)(u);g=!1,l=c.a,m=new o.a}else m=p;t:for(;++i<d;){var b=t[i],h=b;if(b=0!==b?b:0,g&&h==h){for(var C=m.length;C--;)if(m[C]===h)continue t;p.push(b)}else l(m,h,undefined)||(m!==p&&m.push(h),p.push(b))}return p}(t):[]}},DQE6:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e("xMQD");class i{constructor(t,n){this.id=t.id,this.position=t.position,this.startTimestamp=t.startTimestamp,this.stopTimestamp=t.stopTimestamp,this.type=t.type,t.video&&(this.video=new o.k(t.video,n))}}},DTAc:function(t,n,e){"use strict";e.d(n,"a",function(){return k});var o=e("NOtv"),i=e("XNiG"),a=e("Kj3r"),c=e("pLZG"),l=e("ey9i"),s=e("sWvm"),r=e("H9+z"),d=e("Pehk"),g=e("4Yo8"),p=e("fXoL"),m=e("3Pt+"),u=e("ofXK"),b=e("UkmY"),h=e("/xt7"),C=e("C8Cb");function P(t,n){if(1&t){const t=p.Wb();p.Vb(0,"div",19),p.jc("click",function(n){p.Jc(t);const e=p.nc().$implicit,o=p.nc();return n.stopPropagation(),o.toggleOptionalRow(e)}),p.Qb(1,"my-global-icon",10),p.Ub()}}function O(t,n){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"my-peertube-checkbox",25),p.jc("click",function(e){p.Jc(t);const o=n.$implicit,i=p.Hc(3),a=p.Hc(5),c=p.nc(2).$implicit;return p.nc().toggleOptionalPlaylist(e,c,o,i.timestamp,a.timestamp)}),p.Ub(),p.Vb(2,"my-timestamp-input",26,27),p.jc("ngModelChange",function(t){return n.$implicit.startTimestamp=t})("inputBlur",function(){p.Jc(t);const e=n.$implicit,o=p.nc(2).$implicit;return p.nc().onElementTimestampUpdate(o,e)}),p.Ub(),p.Vb(4,"my-timestamp-input",26,28),p.jc("ngModelChange",function(t){return n.$implicit.stopTimestamp=t})("inputBlur",function(){p.Jc(t);const e=n.$implicit,o=p.nc(2).$implicit;return p.nc().onElementTimestampUpdate(o,e)}),p.Ub(),p.Ub()}if(2&t){const t=n.$implicit,e=p.nc(2).$implicit,o=p.nc();p.Cb(1),p.uc("inputName",o.getOptionalInputName(e,t))("ngModel",t.enabled)("onPushWorkaround",!0),p.Cb(1),p.uc("maxTimestamp",o.video.duration)("ngModel",t.startTimestamp),p.Cb(2),p.uc("maxTimestamp",o.video.duration)("ngModel",t.stopTimestamp)}}function y(t,n){if(1&t&&(p.Vb(0,"div",20),p.Vb(1,"div",21),p.Vb(2,"div"),p.Zb(3,22),p.Ub(),p.Vb(4,"div"),p.Zb(5,23),p.Ub(),p.Ub(),p.Sc(6,O,6,7,"div",24),p.Ub()),2&t){const t=p.nc().$implicit,n=p.nc();p.Cb(6),p.uc("ngForOf",n.buildOptionalRowElements(t))}}const v=function(t){return{"has-optional-row":t}};function _(t,n){if(1&t){const t=p.Wb();p.Vb(0,"div",13),p.Vb(1,"div",14),p.jc("click",function(e){p.Jc(t);const o=n.$implicit;return p.nc().toggleMainPlaylist(e,o)}),p.Qb(2,"my-peertube-checkbox",15),p.Vb(3,"label",16),p.Uc(4),p.Ub(),p.Sc(5,P,2,0,"div",17),p.Ub(),p.Sc(6,y,7,1,"div",18),p.Ub()}if(2&t){const t=n.$implicit,e=p.nc();p.uc("ngClass",p.yc(8,v,t.optionalRowDisplayed)),p.Cb(2),p.uc("disabled",e.isPresentMultipleTimes(t)||t.optionalRowDisplayed)("inputName",e.getPrimaryInputName(t))("ngModel",e.isPrimaryCheckboxChecked(t))("onPushWorkaround",!0),p.Cb(2),p.Wc(" ",t.displayName," "),p.Cb(1),p.uc("ngIf",e.isPrimaryCheckboxChecked(t)),p.Cb(1),p.uc("ngIf",t.optionalRowDisplayed)}}function M(t,n){if(1&t&&(p.Vb(0,"div",36),p.Uc(1),p.Ub()),2&t){const t=p.nc(2);p.Cb(1),p.Wc(" ",t.formErrors.displayName," ")}}const f=function(t){return{"input-error":t}};function x(t,n){if(1&t){const t=p.Wb();p.Vb(0,"form",29),p.jc("ngSubmit",function(){return p.Jc(t),p.nc().createPlaylist()}),p.Vb(1,"div",30),p.Vb(2,"label",31),p.Zb(3,32),p.Ub(),p.Qb(4,"input",33),p.Sc(5,M,2,1,"div",34),p.Ub(),p.Qb(6,"input",35),p.Ub()}if(2&t){const t=p.nc();p.uc("formGroup",t.form),p.Cb(4),p.uc("ngClass",p.yc(4,f,t.formErrors.displayName)),p.Cb(1),p.uc("ngIf",t.formErrors.displayName),p.Cb(1),p.uc("disabled",!t.form.valid)}}const w=o("peertube:playlists:VideoAddToPlaylistComponent");let k=(()=>{class t extends s.a{constructor(t,n,e,o,a){super(),this.formValidatorService=t,this.authService=n,this.notifier=e,this.videoPlaylistService=o,this.cd=a,this.lazyLoad=!1,this.isNewPlaylistBlockOpened=!1,this.videoPlaylistSearchChanged=new i.a,this.videoPlaylists=[],this.disabled=!1,this.playlistsData=[]}get user(){return this.authService.getUser()}ngOnInit(){this.buildForm({displayName:d.c}),this.videoPlaylistService.listenToMyAccountPlaylistsChange().subscribe(t=>{this.playlistsData=t.data,this.videoPlaylistService.runPlaylistCheck(this.video.id)}),this.videoPlaylistSearchChanged.pipe(Object(a.a)(500)).subscribe(()=>this.load()),!1===this.lazyLoad&&this.load()}ngOnChanges(t){t.video&&this.reload()}ngOnDestroy(){this.unsubscribePlaylistChanges()}disableForReuse(){this.disabled=!0}enabledForReuse(){this.disabled=!1}reload(){w("Reloading component"),this.videoPlaylists=[],this.videoPlaylistSearch=void 0,this.load(),this.cd.markForCheck()}load(){w("Loading component"),this.listenToVideoPlaylistChange(),this.videoPlaylistService.listMyPlaylistWithCache(this.user,this.videoPlaylistSearch).subscribe(t=>{this.playlistsData=t.data,this.videoPlaylistService.runPlaylistCheck(this.video.id)})}openChange(t){!1===t&&(this.isNewPlaylistBlockOpened=!1)}openCreateBlock(t){t.preventDefault(),this.isNewPlaylistBlockOpened=!0}toggleMainPlaylist(t,n){t.preventDefault(),this.isPresentMultipleTimes(n)||n.optionalRowDisplayed||(0===n.elements.length?this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:0,stopTimestamp:this.video.duration}):(this.removeVideoFromPlaylist(n,n.elements[0].playlistElementId),n.elements=[]),this.cd.markForCheck())}toggleOptionalPlaylist(t,n,e,o,i){t.preventDefault(),e.enabled?(this.removeVideoFromPlaylist(n,e.playlistElementId),e.enabled=!1,!1===this.isPrimaryCheckboxChecked(n)&&(n.optionalRowDisplayed=!1)):this.addVideoInPlaylist(n,{enabled:!0,playlistElementId:void 0,startTimestamp:o,stopTimestamp:i}),this.cd.markForCheck()}createPlaylist(){this.videoPlaylistService.createVideoPlaylist({displayName:this.form.value.displayName,privacy:3}).subscribe(()=>{this.isNewPlaylistBlockOpened=!1,this.cd.markForCheck()},t=>this.notifier.error(t.message))}onVideoPlaylistSearchChanged(){this.videoPlaylistSearchChanged.next()}isPrimaryCheckboxChecked(t){return 0!==t.elements.filter(t=>t.enabled).length}toggleOptionalRow(t){t.optionalRowDisplayed=!t.optionalRowDisplayed,this.cd.markForCheck()}getPrimaryInputName(t){return"in-playlist-primary-"+t.id}getOptionalInputName(t,n){return"in-playlist-optional-"+t.id+(n?"-"+n.playlistElementId:"")}buildOptionalRowElements(t){const n=t.elements,e=0===n.length?void 0:n[n.length-1];return e&&!0!==e.enabled||n.push({enabled:!1,startTimestamp:0,stopTimestamp:this.video.duration}),n}isPresentMultipleTimes(t){return t.elements.filter(t=>!0===t.enabled).length>1}onElementTimestampUpdate(t,n){n.playlistElementId&&!1!==n.enabled&&this.videoPlaylistService.updateVideoOfPlaylist(t.id,n.playlistElementId,{startTimestamp:n.startTimestamp,stopTimestamp:n.stopTimestamp},this.video.id).subscribe(()=>{this.notifier.success("Zeitstempel ge\xE4ndert")},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}isOptionalRowDisplayed(t){const n=t.elements.filter(t=>t.enabled);if(n.length>1)return!0;if(1===n.length){const t=n[0];if(t.startTimestamp&&0!==t.startTimestamp||t.stopTimestamp&&t.stopTimestamp!==this.video.duration)return!0}return!1}removeVideoFromPlaylist(t,n){this.videoPlaylistService.removeVideoFromPlaylist(t.id,n,this.video.id).subscribe(()=>{this.notifier.success("Video von \n          " + t.displayName + " entfernt\n        ")},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}listenToVideoPlaylistChange(){this.unsubscribePlaylistChanges(),this.listenToPlaylistChangeSub=this.videoPlaylistService.listenToVideoPlaylistChange(this.video.id).pipe(Object(c.a)(()=>!1===this.disabled)).subscribe(t=>this.rebuildPlaylists(t))}unsubscribePlaylistChanges(){this.listenToPlaylistChangeSub&&(this.listenToPlaylistChangeSub.unsubscribe(),this.listenToPlaylistChangeSub=void 0)}rebuildPlaylists(t){w("Got existing results for %d.",this.video.id,t);const n=this.videoPlaylists;this.videoPlaylists=[];for(const e of this.playlistsData){const o=t.filter(t=>t.playlistId===e.id),i={id:e.id,optionalRowDisplayed:!1,displayName:e.displayName,elements:o.map(t=>({enabled:!0,playlistElementId:t.playlistElementId,startTimestamp:t.startTimestamp||0,stopTimestamp:t.stopTimestamp||this.video.duration}))},a=n.find(t=>t.id===e.id);i.optionalRowDisplayed=a?a.optionalRowDisplayed:this.isOptionalRowDisplayed(i),this.videoPlaylists.push(i)}w("Rebuilt playlist state for video %d.",this.video.id,this.videoPlaylists),this.cd.markForCheck()}addVideoInPlaylist(t,n){const e={videoId:this.video.id};n.startTimestamp&&(e.startTimestamp=n.startTimestamp),n.stopTimestamp&&n.stopTimestamp!==this.video.duration&&(e.stopTimestamp=n.stopTimestamp),this.videoPlaylistService.addVideoInPlaylist(t.id,e).subscribe(o=>{const i=e.startTimestamp||e.stopTimestamp?"Video zu " + t.displayName + " mit dem Zeitstempel " + this.formatTimestamp(n) + " hinzugef\xFCgt":"Video zu \n          " + t.displayName + " hinzugef\xFCgt\n        ";this.notifier.success(i),n&&(n.playlistElementId=o.videoPlaylistElement.id)},t=>{this.notifier.error(t.message)},()=>this.cd.markForCheck())}formatTimestamp(t){return`(${t.startTimestamp?Object(r.j)(t.startTimestamp):""}-${t.stopTimestamp?Object(r.j)(t.stopTimestamp):""})`}}return t.\u0275fac=function(n){return new(n||t)(p.Pb(s.b),p.Pb(l.a),p.Pb(l.m),p.Pb(g.a),p.Pb(p.h))},t.\u0275cmp=p.Jb({type:t,selectors:[["my-video-add-to-playlist"]],inputs:{video:"video",currentVideoTimestamp:"currentVideoTimestamp",lazyLoad:"lazyLoad"},features:[p.zb,p.Ab],decls:14,vars:4,consts:function(){let t,n,e,o,i,a,c;return t="Speichern unter",n="Playlists suchen",e="Private Playlist hinzuf\xFCgen",o="Beginne bei",i="Ende bei",a="Anzeigename",c="Erstellen",[[1,"root"],[1,"header"],[1,"first-row"],[1,"title"],t,[1,"input-container"],["type","text","placeholder",n,3,"ngModel","ngModelChange"],[1,"playlists"],["class","playlist dropdown-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"new-playlist-button","dropdown-item",3,"hidden","click"],["iconName","add","aria-hidden","true"],e,["class","new-playlist-block dropdown-item",3,"formGroup","ngSubmit",4,"ngIf"],[1,"playlist","dropdown-item",3,"ngClass"],[1,"primary-row",3,"click"],[3,"disabled","inputName","ngModel","onPushWorkaround"],[1,"display-name"],["class","optional-row-icon",3,"click",4,"ngIf"],["class","optional-rows",4,"ngIf"],[1,"optional-row-icon",3,"click"],[1,"optional-rows"],[1,"labels"],o,i,[4,"ngFor","ngForOf"],[3,"inputName","ngModel","onPushWorkaround","click"],[3,"maxTimestamp","ngModel","ngModelChange","inputBlur"],["startAt",""],["stopAt",""],[1,"new-playlist-block","dropdown-item",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],a,["type","text","id","displayName","formControlName","displayName",3,"ngClass"],["class","form-error",4,"ngIf"],["type","submit","value",c,3,"disabled"],[1,"form-error"]]},template:function(t,n){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"div",3),p.Zb(4,4),p.Ub(),p.Ub(),p.Ub(),p.Vb(5,"div",5),p.Vb(6,"input",6),p.jc("ngModelChange",function(t){return n.videoPlaylistSearch=t})("ngModelChange",function(){return n.onVideoPlaylistSearchChanged()}),p.Ub(),p.Ub(),p.Vb(7,"div",7),p.Sc(8,_,7,10,"div",8),p.Ub(),p.Vb(9,"div",9),p.jc("click",function(t){return n.openCreateBlock(t)}),p.Qb(10,"my-global-icon",10),p.Vb(11,"span"),p.Zb(12,11),p.Ub(),p.Ub(),p.Sc(13,x,7,6,"form",12),p.Ub()),2&t&&(p.Cb(6),p.uc("ngModel",n.videoPlaylistSearch),p.Cb(2),p.uc("ngForOf",n.videoPlaylists),p.Cb(1),p.uc("hidden",n.isNewPlaylistBlockOpened),p.Cb(4),p.uc("ngIf",n.isNewPlaylistBlockOpened))},directives:[m.b,m.m,m.p,u.m,b.a,u.n,u.l,h.a,C.a,m.y,m.n,m.h,m.f],styles:['.dropdown-item[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]{padding:8px 24px}.dropdown-item[_ngcontent-%COMP%]:active{color:inherit}.header[_ngcontent-%COMP%]{min-width:240px;margin-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.playlists[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto}.playlist[_ngcontent-%COMP%]{padding:0}.playlist[_ngcontent-%COMP%] > .primary-row[_ngcontent-%COMP%]{padding:8px 10px 8px 24px}.playlist[_ngcontent-%COMP%] > .optional-rows[_ngcontent-%COMP%]{padding-left:24px}.playlist.has-optional-row[_ngcontent-%COMP%]:hover{background-color:inherit}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]{display:flex}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-right:10px;align-self:center}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;margin:0;font-weight:400;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;cursor:pointer}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:19px;height:19px;margin-right:0}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"], .primary-row[_ngcontent-%COMP%]   .optional-row-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-right:10px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext, .primary-row[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]     .ui-inputtext{padding:0;width:50px}.optional-rows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 5px 5px 10px}.optional-rows[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{display:block;width:34px;margin-right:0!important}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{margin-left:34px;font-size:13px;color:var(--greyForegroundColor);padding-top:5px;padding-bottom:0}.optional-rows[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:50px}.new-playlist-block[_ngcontent-%COMP%], .new-playlist-button[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid rgba(0,0,0,.1)}.new-playlist-button[_ngcontent-%COMP%]{cursor:pointer}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-1px;top:-1px;margin-right:4px;width:21px;height:21px}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#333}.new-playlist-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#333}input[type=text][_ngcontent-%COMP%]{display:inline-block;height:30px;width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #c6c6c6;border-radius:3px;padding-left:15px;padding-right:15px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::-moz-placeholder{color:var(--inputPlaceholderColor)}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width:200px){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{border:none;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px;text-align:center;padding:0 17px 0 13px;cursor:pointer}input[type=submit].focus-visible[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit].disabled[_ngcontent-%COMP%], input[type=submit][disabled][_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}'],changeDetection:0}),t})()},OsX3:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("D0XW"),i=e("7o/Q"),a=e("z+Ro");function c(t){let n=arguments.length,e=o.a;Object(a.a)(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],n--);let i=null;n>=2&&(i=arguments[1]);let c=Number.POSITIVE_INFINITY;return n>=3&&(c=arguments[2]),function(n){return n.lift(new l(t,i,c,e))}}class l{constructor(t,n,e,o){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=e,this.scheduler=o}call(t,n){return n.subscribe(new r(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class s{constructor(){this.buffer=[]}}class r extends i.a{constructor(t,n,e,o,i){super(t),this.bufferTimeSpan=n,this.bufferCreationInterval=e,this.maxBufferSize=o,this.scheduler=i,this.contexts=[];const a=this.openContext();if(this.timespanOnly=null==e||e<0,this.timespanOnly)this.add(a.closeAction=i.schedule(d,n,{subscriber:this,context:a,bufferTimeSpan:n}));else{const t={bufferTimeSpan:n,bufferCreationInterval:e,subscriber:this,scheduler:i};this.add(a.closeAction=i.schedule(p,n,{subscriber:this,context:a})),this.add(i.schedule(g,e,t))}}_next(t){const n=this.contexts,e=n.length;let o;for(let i=0;i<e;i++){const e=n[i],a=e.buffer;a.push(t),a.length==this.maxBufferSize&&(o=e)}o&&this.onBufferFull(o)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:n}=this;for(;t.length>0;){const e=t.shift();n.next(e.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();const n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(d,n,{subscriber:this,context:t,bufferTimeSpan:n}))}}openContext(){const t=new s;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const n=this.contexts;(n?n.indexOf(t):-1)>=0&&n.splice(n.indexOf(t),1)}}function d(t){const n=t.subscriber,e=t.context;e&&n.closeContext(e),n.closed||(t.context=n.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function g(t){const{bufferCreationInterval:n,bufferTimeSpan:e,subscriber:o,scheduler:i}=t,a=o.openContext();o.closed||(o.add(a.closeAction=i.schedule(p,e,{subscriber:o,context:a})),this.schedule(t,n))}function p(t){const{subscriber:n,context:e}=t;n.closeContext(e)}},PcNq:function(t,n,e){"use strict";e.d(n,"a",function(){return c}),e("qZuT");var o=e("P8w3"),i=e("Nmku"),a=e("fXoL");let c=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(n){return new(n||t)},providers:[],imports:[[i.a,o.a]]}),t})()},Pehk:function(t,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return c}),e.d(n,"a",function(){return l}),e.d(n,"e",function(){return s});var o=e("3Pt+");const i={VALIDATORS:[o.w.required,o.w.minLength(1),o.w.maxLength(120)],MESSAGES:{required:"Der Anzeigename muss angegeben werden.",minlength:"Der Anzeigename muss mindestens 1 Zeichen lang sein.",maxlength:"Der Anzeigename darf nicht l\xE4nger als 120 Zeichen lang sein."}},a={VALIDATORS:[o.w.required],MESSAGES:{required:"Annahme der Datenschutzbedingungen ist erforderlich."}},c={VALIDATORS:[o.w.minLength(3),o.w.maxLength(1e3)],MESSAGES:{minlength:"Die Beschreibung muss mindestens 3 Zeichen umfassen.",maxlength:"Beschreibung kann nicht l\xE4nger als 1000 Zeichen sein."}},l={VALIDATORS:[],MESSAGES:{required:"Der Kanal ist erforderlich, wenn die Abspielliste \xF6ffentlich ist."}};function s(t,n){n.toString()===1..toString()?t.setValidators([o.w.required]):t.setValidators(null),t.markAsDirty(),t.updateValueAndValidity()}},SZgj:function(t,n,e){"use strict";e("DTAc"),e("2Qox"),e("DQE6"),e("dTdE"),e("a9tR");var o=e("4Yo8");e.d(n,"b",function(){return o.a});var i=e("aW0q");e.d(n,"a",function(){return i.a})},a9tR:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("6rF9"),i=e("xMQD"),a=e("UozT");class c{constructor(t,n){const e=Object(o.e)();this.id=t.id,this.uuid=t.uuid,this.isLocal=t.isLocal,this.displayName=t.displayName,this.description=t.description,this.privacy=t.privacy,this.thumbnailPath=t.thumbnailPath,this.thumbnailPath?(this.thumbnailUrl=e+t.thumbnailPath,this.originThumbnailUrl=this.thumbnailUrl):this.thumbnailUrl=window.location.origin+"/client/assets/images/default-playlist.jpg",this.embedPath=t.embedPath,this.embedUrl=Object(o.f)()+t.embedPath,this.videosLength=t.videosLength,this.type=t.type,this.createdAt=new Date(t.createdAt),this.updatedAt=new Date(t.updatedAt),this.ownerAccount=t.ownerAccount,this.ownerBy=i.c.CREATE_BY_STRING(t.ownerAccount.name,t.ownerAccount.host),this.ownerAvatarUrl=i.a.GET_ACTOR_AVATAR_URL(this.ownerAccount),t.videoChannel&&(this.videoChannel=t.videoChannel,this.videoChannelBy=i.c.CREATE_BY_STRING(t.videoChannel.name,t.videoChannel.host),this.videoChannelAvatarUrl=i.m.GET_ACTOR_AVATAR_URL(this.videoChannel)),this.privacy.label=Object(a.h)(this.privacy.label,n),2===this.type.id&&(this.displayName=Object(a.h)(this.displayName,n))}refreshThumbnail(){this.originThumbnailUrl&&(this.thumbnailVersion||(this.thumbnailVersion=0),this.thumbnailVersion++,this.thumbnailUrl=this.originThumbnailUrl+"?v"+this.thumbnailVersion)}}},aW0q:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("sWvm"),i=e("P8w3"),a=e("Nmku"),c=e("PcNq"),l=e("4Yo8"),s=e("fXoL");let r=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(n){return new(n||t)},providers:[l.a],imports:[[a.a,o.c,c.a,i.a]]}),t})()},dTdE:function(t,n,e){"use strict";e.d(n,"a",function(){return p}),e("a9tR");var o=e("fXoL"),i=e("ofXK"),a=e("tyNb"),c=e("LsvZ");const l=function(t){return["/video-channels",t]};function s(t,n){if(1&t&&(o.Vb(0,"a",15),o.Zb(1,16),o.Ub()),2&t){const t=o.nc();o.uc("routerLink",o.yc(2,l,t.playlist.videoChannelBy)),o.Cb(1),o.dc(t.playlist.videoChannelBy),o.ac(1)}}function r(t,n){if(1&t&&(o.Vb(0,"span",17),o.Uc(1),o.Ub()),2&t){const t=o.nc();o.Cb(1),o.Vc(t.playlist.privacy.label)}}function d(t,n){if(1&t&&(o.Vb(0,"div",18),o.Uc(1),o.Ub()),2&t){const t=o.nc();o.Cb(1),o.Vc(t.playlist.description)}}const g=function(t,n){return{"no-videos":t,"to-manage":n}};let p=(()=>{class t{constructor(){this.toManage=!1,this.displayChannel=!1,this.displayDescription=!1,this.displayPrivacy=!1}getPlaylistUrl(){return this.toManage?["/my-library/video-playlists",this.playlist.uuid]:0===this.playlist.videosLength?null:["/videos/watch/playlist",this.playlist.uuid]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["my-video-playlist-miniature"]],inputs:{playlist:"playlist",toManage:"toManage",displayChannel:"displayChannel",displayDescription:"displayDescription",displayPrivacy:"displayPrivacy"},decls:18,vars:19,consts:function(){let t,n,e;return t="{VAR_PLURAL, plural, =0 {Keine Videos} =1 {1 Video} other {{INTERPOLATION} Videos}}",t=o.ec(t,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),n="Aktualisiert " + "\ufffd0\ufffd" + "",e="\n          " + "\ufffd0\ufffd" + "\n        ",[[1,"miniature",3,"ngClass"],[1,"miniature-thumbnail",3,"routerLink"],["alt",""],[1,"miniature-playlist-info-overlay"],t,[1,"play-overlay"],[1,"icon"],[1,"miniature-info"],["tabindex","-1",1,"miniature-name",3,"routerLink"],["class","by",3,"routerLink",4,"ngIf"],[1,"privacy-date"],["class","video-info-privacy",4,"ngIf"],[1,"updated-at"],n,["class","video-info-description",4,"ngIf"],[1,"by",3,"routerLink"],e,[1,"video-info-privacy"],[1,"video-info-description"]]},template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"a",1),o.Qb(2,"img",2),o.Vb(3,"div",3),o.Tb(4),o.Zb(5,4),o.Sb(),o.Ub(),o.Vb(6,"div",5),o.Qb(7,"div",6),o.Ub(),o.Ub(),o.Vb(8,"div",7),o.Vb(9,"a",8),o.Uc(10),o.Ub(),o.Sc(11,s,2,4,"a",9),o.Vb(12,"div",10),o.Sc(13,r,2,1,"span",11),o.Vb(14,"span",12),o.Zb(15,13),o.oc(16,"myFromNow"),o.Ub(),o.Ub(),o.Sc(17,d,2,1,"div",14),o.Ub(),o.Ub()),2&t&&(o.uc("ngClass",o.zc(16,g,0===n.playlist.videosLength,n.toManage)),o.Cb(1),o.uc("routerLink",n.getPlaylistUrl()),o.Db("title",n.playlist.description),o.Cb(1),o.Db("aria-labelledby",n.playlist.displayName)("src",n.playlist.thumbnailUrl,o.Lc),o.Cb(3),o.dc(n.playlist.videosLength)(n.playlist.videosLength),o.ac(5),o.Cb(4),o.uc("routerLink",n.getPlaylistUrl()),o.Db("title",n.playlist.description),o.Cb(1),o.Wc(" ",n.playlist.displayName," "),o.Cb(1),o.uc("ngIf",n.displayChannel&&n.playlist.videoChannelBy),o.Cb(2),o.uc("ngIf",n.displayPrivacy),o.Cb(3),o.dc(o.pc(16,14,n.playlist.updatedAt)),o.ac(15),o.Cb(1),o.uc("ngIf",n.displayDescription))},directives:[i.l,a.k,i.n],pipes:[c.a],styles:['.miniature[_ngcontent-%COMP%]{display:inline-block}.miniature.no-videos[_ngcontent-%COMP%]:not(.to-manage)   a[_ngcontent-%COMP%]{cursor:default!important}.miniature.no-videos[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature.to-manage[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{display:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.miniature[_ngcontent-%COMP%]   .miniature-thumbnail[_ngcontent-%COMP%]   .miniature-playlist-info-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;position:absolute;right:0;bottom:0;height:122px;padding:0 10px;display:flex;align-items:center;font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]{width:200px;margin-top:2px;line-height:normal}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]{max-height:2.2em;font-size:1.1em;line-height:1.1em;transition:color .2s;font-weight:600;color:var(--mainForegroundColor);display:block;display:-webkit-box;max-height:2.6em;font-size:1.3em;line-height:1.3em;overflow:hidden;text-overflow:ellipsis;margin:0}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name[_ngcontent-%COMP%]:hover{text-decoration:none}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .miniature-name.blur-filter[_ngcontent-%COMP%]{filter:blur(3px);padding-left:4px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]{display:block;color:var(--greyForegroundColor)}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:active, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:focus, .miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .by[_ngcontent-%COMP%]:hover{text-decoration:none!important;outline:none!important}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]{margin-top:5px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .privacy-date[_ngcontent-%COMP%]   .video-info-privacy[_ngcontent-%COMP%]:after{content:"-";margin:0 3px}.miniature[_ngcontent-%COMP%]   .miniature-info[_ngcontent-%COMP%]   .video-info-description[_ngcontent-%COMP%]{margin-top:10px;color:var(--greyForegroundColor)}']}),t})()},qZuT:function(t,n,e){"use strict";e.d(n,"a",function(){return k});var o=e("fXoL"),i=e("ey9i"),a=(e("xMQD"),e("ofXK")),c=e("tyNb"),l=e("1kSV"),s=e("UkmY");function r(t,n){1&t&&o.Rb(0)}function d(t,n){if(1&t&&(o.Vb(0,"a",3),o.Sc(1,r,1,0,"ng-container",4),o.Ub()),2&t){const t=o.nc(),n=o.Hc(3);o.uc("routerLink",t.getVideoRouterLink())("queryParams",t.queryParams),o.Cb(1),o.uc("ngTemplateOutlet",n)}}function g(t,n){1&t&&o.Rb(0)}function p(t,n){if(1&t&&(o.Vb(0,"a",5),o.Sc(1,g,1,0,"ng-container",4),o.Ub()),2&t){const t=o.nc(),n=o.Hc(3);o.uc("href",t.videoHref,o.Lc)("target",t.videoTarget),o.Cb(1),o.uc("ngTemplateOutlet",n)}}function m(t,n){if(1&t){const t=o.Wb();o.Tb(0),o.Vb(1,"div",17),o.jc("click",function(n){return o.Jc(t),o.nc(3).onWatchLaterClick(n)}),o.Qb(2,"my-global-icon",18),o.Ub(),o.Sb()}if(2&t){const t=o.nc(3);o.Cb(1),o.uc("ngbTooltip",t.addToWatchLaterText),o.Cb(1),o.Db("aria-label",t.addToWatchLaterText)}}function u(t,n){if(1&t){const t=o.Wb();o.Tb(0),o.Vb(1,"div",17),o.jc("click",function(n){return o.Jc(t),o.nc(3).onWatchLaterClick(n)}),o.Qb(2,"my-global-icon",19),o.Ub(),o.Sb()}if(2&t){const t=o.nc(3);o.Cb(1),o.uc("ngbTooltip",t.addedToWatchLaterText),o.Cb(1),o.Db("aria-label",t.addedToWatchLaterText)}}function b(t,n){if(1&t&&(o.Vb(0,"div",15),o.Sc(1,m,3,2,"ng-container",16),o.Sc(2,u,3,2,"ng-container",16),o.Ub()),2&t){const t=o.nc(2);o.Cb(1),o.uc("ngIf",!0!==t.inWatchLaterPlaylist),o.Cb(1),o.uc("ngIf",!0===t.inWatchLaterPlaylist)}}function h(t,n){if(1&t&&(o.Vb(0,"div",20),o.Uc(1),o.Ub()),2&t){const t=o.nc(2);o.Cb(1),o.Vc(t.video.durationLabel)}}function C(t,n){1&t&&(o.Tb(0),o.Zb(1,22),o.Sb())}function P(t,n){1&t&&(o.Tb(0),o.Zb(1,23),o.Sb())}const O=function(t){return{"live-ended":t}};function y(t,n){if(1&t&&(o.Vb(0,"div",21),o.Sc(1,C,2,0,"ng-container",16),o.Sc(2,P,2,0,"ng-container",16),o.Ub()),2&t){const t=o.nc(2);o.uc("ngClass",o.yc(3,O,t.isLiveEnded())),o.Cb(1),o.uc("ngIf",!t.isLiveEnded()),o.Cb(1),o.uc("ngIf",t.isLiveEnded())}}const v=function(t){return{"width.%":t}};function _(t,n){if(1&t&&(o.Vb(0,"div",24),o.Qb(1,"div",25),o.Ub()),2&t){const t=o.nc(2);o.Cb(1),o.uc("ngStyle",o.yc(1,v,t.getProgressPercent()))}}const M=function(t){return{"blur-filter":t}};function f(t,n){if(1&t&&(o.Qb(0,"img",6),o.Sc(1,b,3,2,"div",7),o.Vb(2,"div",8),o.sc(3),o.Ub(),o.Vb(4,"div",9),o.sc(5,1),o.Ub(),o.Sc(6,h,2,1,"div",10),o.Sc(7,y,3,5,"div",11),o.Vb(8,"div",12),o.Qb(9,"div",13),o.Ub(),o.Sc(10,_,2,3,"div",14)),2&t){const t=o.nc();o.uc("ngClass",o.yc(7,M,t.nsfw)),o.Db("aria-label",t.video.name)("src",t.getImageUrl(),o.Lc),o.Cb(1),o.uc("ngIf",t.displayWatchLaterPlaylist),o.Cb(5),o.uc("ngIf",!t.video.isLive),o.Cb(1),o.uc("ngIf",t.video.isLive),o.Cb(3),o.uc("ngIf",null==t.video.userHistory?null:t.video.userHistory.currentTime)}}const x=[[["label-warning"]],[["label-danger"]]],w=["label-warning","label-danger"];let k=(()=>{class t{constructor(t){this.screenService=t,this.nsfw=!1,this.watchLaterClick=new o.n,this.addToWatchLaterText="Zu \"Sp\xE4ter ansehen\" hinzuf\xFCgen",this.addedToWatchLaterText="Von \"Sp\xE4ter ansehen\" entfernen"}isLiveEnded(){if(this.video.state)return 5===this.video.state.id}getImageUrl(){return this.video?this.screenService.isInMobileView()?this.video.previewUrl:this.video.thumbnailUrl:""}getProgressPercent(){return this.video.userHistory?this.video.userHistory.currentTime/this.video.duration*100:0}getVideoRouterLink(){return this.videoRouterLink?this.videoRouterLink:["/videos/watch",this.video.uuid]}onWatchLaterClick(t){return this.watchLaterClick.emit(this.inWatchLaterPlaylist),t.stopPropagation(),!1}}return t.\u0275fac=function(n){return new(n||t)(o.Pb(i.v))},t.\u0275cmp=o.Jb({type:t,selectors:[["my-video-thumbnail"]],inputs:{video:"video",nsfw:"nsfw",videoRouterLink:"videoRouterLink",queryParams:"queryParams",videoHref:"videoHref",videoTarget:"videoTarget",displayWatchLaterPlaylist:"displayWatchLaterPlaylist",inWatchLaterPlaylist:"inWatchLaterPlaylist"},outputs:{watchLaterClick:"watchLaterClick"},ngContentSelectors:w,decls:4,vars:2,consts:function(){let t,n;return t="LIVE",n="Live-\xDCbertragung beendet",[["class","video-thumbnail",3,"routerLink","queryParams",4,"ngIf"],["class","video-thumbnail",3,"href","target",4,"ngIf"],["aContent",""],[1,"video-thumbnail",3,"routerLink","queryParams"],[4,"ngTemplateOutlet"],[1,"video-thumbnail",3,"href","target"],["alt","",3,"ngClass"],["class","video-thumbnail-actions-overlay",4,"ngIf"],[1,"video-thumbnail-label-overlay","warning"],[1,"video-thumbnail-label-overlay","danger"],["class","video-thumbnail-duration-overlay",4,"ngIf"],["class","video-thumbnail-live-overlay",3,"ngClass",4,"ngIf"],[1,"play-overlay"],[1,"icon"],["class","progress-bar",4,"ngIf"],[1,"video-thumbnail-actions-overlay"],[4,"ngIf"],["placement","left","container","body",1,"video-thumbnail-watch-later-overlay",3,"ngbTooltip","click"],["iconName","clock","role","button"],["iconName","tick","role","button"],[1,"video-thumbnail-duration-overlay"],[1,"video-thumbnail-live-overlay",3,"ngClass"],t,n,[1,"progress-bar"],[3,"ngStyle"]]},template:function(t,n){1&t&&(o.tc(x),o.Sc(0,d,2,3,"a",0),o.Sc(1,p,2,3,"a",1),o.Sc(2,f,11,9,"ng-template",null,2,o.Tc)),2&t&&(o.uc("ngIf",!n.videoHref),o.Cb(1),o.uc("ngIf",n.videoHref))},directives:[a.n,c.k,a.s,a.l,l.z,s.a,a.o],styles:['.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:3px;overflow:hidden;width:223px;height:122px;background-color:#ececec;transition:filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:rgba(0,0,0,.3)}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid hsla(0,0%,100%,.95)}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;bottom:0;background-color:rgba(0,0,0,.2)}.video-thumbnail[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--mainColor)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{display:inline-block;background-color:rgba(0,0,0,.7);color:#fff;border-radius:3px;font-size:12px;font-weight:600;line-height:1.2;z-index:10}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;font-weight:700}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.warning[_ngcontent-%COMP%]{background-color:orange}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-label-overlay.danger[_ngcontent-%COMP%]{background-color:red}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-duration-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 3px;right:5px;bottom:5px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]{font-weight:600;color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-live-overlay[_ngcontent-%COMP%]:not(.live-ended){background-color:rgba(224,8,8,.7)}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]{padding:3px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material{color:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[fill="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[fill="#000"]{fill:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg circle[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg g[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg path[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg polygon[stroke="#000"], .video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg rect[stroke="#000"]{stroke:#fff}.video-thumbnail[_ngcontent-%COMP%]   .video-thumbnail-actions-overlay[_ngcontent-%COMP%]   .video-thumbnail-watch-later-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     svg stop[stop-color="#000"]{stop-color:#fff}']}),t})()}}]);